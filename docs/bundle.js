(function () {
    'use strict';

    var n,l$1,u$1,t$1,r$2,o$2,f$1,e$1,c$1={},s$1=[],a$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h$1(n,l){for(var u in l)n[u]=l[u];return n}function v$1(n){var l=n.parentNode;l&&l.removeChild(n);}function y$1(l,u,i){var t,r,o,f={};for(o in u)"key"==o?t=u[o]:"ref"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),"function"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p$1(l,f,t,r,null)}function p$1(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u$1:o};return null==o&&null!=l$1.vnode&&l$1.vnode(f),f}function _$2(n){return n.children}function k$2(n,l,u,i,t){var r;for(r in u)"children"===r||"key"===r||r in l||g$2(n,r,null,u[r],i);for(r in l)t&&"function"!=typeof l[r]||"children"===r||"key"===r||"value"===r||"checked"===r||u[r]===l[r]||g$2(n,r,l[r],u[r],i);}function b$1(n,l,u){"-"===l[0]?n.setProperty(l,null==u?"":u):n[l]=null==u?"":"number"!=typeof u||a$1.test(l)?u:u+"px";}function g$2(n,l,u,i,t){var r;n:if("style"===l)if("string"==typeof u)n.style.cssText=u;else {if("string"==typeof i&&(n.style.cssText=i=""),i)for(l in i)u&&l in u||b$1(n.style,l,"");if(u)for(l in u)i&&u[l]===i[l]||b$1(n.style,l,u[l]);}else if("o"===l[0]&&"n"===l[1])r=l!==(l=l.replace(/Capture$/,"")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w$2:m$1,r):n.removeEventListener(l,r?w$2:m$1,r);else if("dangerouslySetInnerHTML"!==l){if(t)l=l.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==l&&"height"!==l&&"href"!==l&&"list"!==l&&"form"!==l&&"tabIndex"!==l&&"download"!==l&&l in n)try{n[l]=null==u?"":u;break n}catch(n){}"function"==typeof u||(null==u||!1===u&&-1==l.indexOf("-")?n.removeAttribute(l):n.setAttribute(l,u));}}function m$1(n){t$1=!0;try{return this.l[n.type+!1](l$1.event?l$1.event(n):n)}finally{t$1=!1;}}function w$2(n){t$1=!0;try{return this.l[n.type+!0](l$1.event?l$1.event(n):n)}finally{t$1=!1;}}function x$1(n,l){this.props=n,this.context=l;}function A$1(n,l){if(null==l)return n.__?A$1(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return "function"==typeof n.type?A$1(n):null}function P$1(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P$1(n)}}function C$1(n){t$1?setTimeout(n):f$1(n);}function T$2(n){(!n.__d&&(n.__d=!0)&&r$2.push(n)&&!$$1.__r++||o$2!==l$1.debounceRendering)&&((o$2=l$1.debounceRendering)||C$1)($$1);}function $$1(){var n,l,u,i,t,o,f,e;for(r$2.sort(function(n,l){return n.__v.__b-l.__v.__b});n=r$2.shift();)n.__d&&(l=r$2.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h$1({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A$1(o):f,o.__h),N$1(i,o),o.__e!=f&&P$1(o)),r$2.length>l&&r$2.sort(function(n,l){return n.__v.__b-l.__v.__b}));$$1.__r=0;}function H$1(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s$1,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?p$1(null,d,null,null,d):Array.isArray(d)?p$1(_$2,{children:d},null,null,null):d.__b>0?p$1(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null;}M(n,d,y=y||c$1,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),"function"==typeof d.type&&d.__k===y.__k?d.__d=e=I$1(d,e,n):e=z$2(n,d,y,m,k,e),"function"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A$1(y));}for(u.__e=b,h=w;h--;)null!=m[h]&&("function"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L$1(i).nextSibling),q$1(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h]);}function I$1(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l="function"==typeof i.type?I$1(i,l,u):z$2(u,i,i,t,i.__e,l));return l}function j$2(n,l){return l=l||[],null==n||"boolean"==typeof n||(Array.isArray(n)?n.some(function(n){j$2(n,l);}):l.push(n)),l}function z$2(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else {for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r;}return void 0!==o?o:t.nextSibling}function L$1(n){var l,u,i;if(null==n.type||"string"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L$1(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l$1.__b)&&s(u);try{n:if("function"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:("prototype"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x$1(b,m),a.constructor=$,a.render=B$2),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h$1({},a.__s)),h$1(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else {if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u);}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d);});}if(a.context=m,a.props=b,a.__P=n,A=l$1.__r,P=0,"prototype"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[];}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s;}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h$1(h$1({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_$2&&null==s.key?s.props.children:s,H$1(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1;}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l$1.diffed)&&s(u);}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l$1.__e(n,u,i);}}function N$1(n,u){l$1.__c&&l$1.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u);});}catch(n){l$1.__e(n,u.__v);}});}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if("svg"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&"setAttribute"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),o=null,e=!1;}if(null===d)y===p||e&&l.data===p||(l.data=p);else {if(o=o&&n.call(l.childNodes),a=(y=i.props||c$1).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||""));}if(k$2(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H$1(l,Array.isArray(_)?_:[_],u,i,t,r&&"foreignObject"!==d,o,f,o?o[0]:i.__k&&A$1(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v$1(o[_]);e||("value"in p&&void 0!==(_=p.value)&&(_!==l.value||"progress"===d&&!_||"option"===d&&_!==y.value)&&g$2(l,"value",_,y.value,!1),"checked"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g$2(l,"checked",_,y.checked,!1));}return l}function S(n,u,i){try{"function"==typeof n?n(u):n.current=u;}catch(n){l$1.__e(n,i);}}function q$1(n,u,i){var t,r;if(l$1.unmount&&l$1.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount();}catch(n){l$1.__e(n,u);}t.base=t.__P=null,n.__c=void 0;}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q$1(t[r],u,i||"function"!=typeof n.type);i||null==n.__e||v$1(n.__e),n.__=n.__e=n.__d=void 0;}function B$2(n,l,u){return this.constructor(n,u)}function D$1(u,i,t){var r,o,f;l$1.__&&l$1.__(u,i),o=(r="function"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y$1(_$2,null,[u]),o||c$1,c$1,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N$1(f,u);}function F$2(l,u,i){var t,r,o,f=h$1({},l.props);for(o in u)"key"==o?t=u[o]:"ref"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p$1(l.type,f,t||l.key,r||l.ref,null)}function G$1(n,l){var u={__c:l="__cC"+e$1++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,T$2(n);});},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n);};}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s$1.slice,l$1={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l;}throw n}},u$1=0,t$1=!1,x$1.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h$1({},this.state),"function"==typeof n&&(n=n(h$1({},u),this.props)),n&&h$1(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T$2(this));},x$1.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T$2(this));},x$1.prototype.render=_$2,r$2=[],f$1="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$$1.__r=0,e$1=0;

    var _$1=0;function o$1(o,e,n,t,f,l){var s,u,a={};for(u in e)"ref"==u?s=e[u]:a[u]=e[u];var i={type:o,props:a,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--_$1,__source:f,__self:l};if("function"==typeof o&&(s=o.defaultProps))for(u in s)void 0===a[u]&&(a[u]=s[u]);return l$1.vnode&&l$1.vnode(i),i}

    var t,r$1,u,i,o=0,f=[],c=[],e=l$1.__b,a=l$1.__r,v=l$1.diffed,l=l$1.__c,m=l$1.unmount;function d(t,u){l$1.__h&&l$1.__h(r$1,t,o||u),o=0;var i=r$1.__H||(r$1.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B$1,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B$1(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}));}],o.__c=r$1,!r$1.u)){r$1.u=!0;var f=r$1.shouldComponentUpdate;r$1.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return !0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return !n.__N}))return !f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0);}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))};}return o.__N||o.__}function h(u,i){var o=d(t++,3);!l$1.__s&&z$1(o.__H,i)&&(o.__=u,o.i=i,r$1.__H.__h.push(o));}function s(u,i){var o=d(t++,4);!l$1.__s&&z$1(o.__H,i)&&(o.__=u,o.i=i,r$1.__h.push(o));}function _(n){return o=5,F$1(function(){return {current:n}},[])}function A(n,t,r){o=6,s(function(){return "function"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n));}function F$1(n,r){var u=d(t++,7);return z$1(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T$1(n,t){return o=8,F$1(function(){return n},t)}function q(n){var u=r$1.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r$1)),u.props.value):n.__}function V$1(){var n=d(t++,11);if(!n.__){for(var u=r$1.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__="P"+i[0]+"-"+i[1]++;}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k$1),t.__H.__h.forEach(w$1),t.__H.__h=[];}catch(r){t.__H.__h=[],l$1.__e(r,t.__v);}}l$1.__b=function(n){r$1=null,e&&e(n);},l$1.__r=function(n){a&&a(n),t=0;var i=(r$1=n.__c).__H;i&&(u===r$1?(i.__h=[],r$1.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0;})):(i.__h.forEach(k$1),i.__h.forEach(w$1),i.__h=[])),u=r$1;},l$1.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===l$1.requestAnimationFrame||((i=l$1.requestAnimationFrame)||j$1)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c;})),u=r$1=null;},l$1.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k$1),t.__h=t.__h.filter(function(n){return !n.__||w$1(n)});}catch(u){r.some(function(n){n.__h&&(n.__h=[]);}),r=[],l$1.__e(u,t.__v);}}),l&&l(t,r);},l$1.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k$1(n);}catch(n){r=n;}}),u.__H=void 0,r&&l$1.__e(r,u.__v));};var g$1="function"==typeof requestAnimationFrame;function j$1(n){var t,r=function(){clearTimeout(u),g$1&&cancelAnimationFrame(t),setTimeout(n);},u=setTimeout(r,100);g$1&&(t=requestAnimationFrame(r));}function k$1(n){var t=r$1,u=n.__c;"function"==typeof u&&(n.__c=void 0,u()),r$1=t;}function w$1(n){var t=r$1;n.__c=n.__(),r$1=t;}function z$1(n,t){return !n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B$1(n,t){return "function"==typeof t?t(n):t}

    function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if("__source"!==e&&!(e in t))return !0;for(var r in t)if("__source"!==r&&n[r]!==t[r])return !0;return !1}function w(n){this.props=n;}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return !r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,y$1(n,e)}return u.displayName="Memo("+(n.displayName||n.name)+")",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new x$1).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=l$1.__b;l$1.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n);};var N="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(n.displayName||n.name)+")",t}var T=l$1.__e;l$1.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r);};var I=l$1.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){"function"==typeof n.__c&&n.__c();}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null;}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function V(){this.u=null,this.o=null;}l$1.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n);},(D.prototype=new x$1).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l());};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O);}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate();}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i);},D.prototype.componentWillUnmount=function(){this.t=[];},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P);}this.__b=null;}var i=e.__a&&y$1(_$2,null,n.fallback);return i&&(i.__h=null),[y$1(_$2,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&("t"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2];}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){D$1(null,e.l),e.l=null,e.i=null;},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n);},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n);},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n);}}),D$1(y$1(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount();}function j(n,e){var r=y$1($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new x$1).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u();};e?e(o):o();}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=j$2(n.children);n.revealOrder&&"b"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t);});};var z="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H="undefined"!=typeof document,Z=function(n){return ("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};x$1.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(x$1.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n});}});});var G=l$1.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}l$1.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var nn={configurable:!0,get:function(){return this.class}},tn=l$1.vnode;l$1.vnode=function(n){var t=n.type,e=n.props,u=e;if("string"==typeof t){var o=-1===t.indexOf("-");for(var i in u={},e){var l=e[i];H&&"children"===i&&"noscript"===t||"value"===i&&"defaultValue"in e&&null==l||("defaultValue"===i&&"value"in e&&null==e.value?i="value":"download"===i&&!0===l?l="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i="oninputCapture")),u[i]=l);}"select"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=j$2(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value);})),"select"==t&&null!=u.defaultValue&&(u.value=j$2(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value;})),n.props=u,e.class!=e.className&&(nn.enumerable="className"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,"className",nn));}n.$$typeof=z,tn&&tn(n);};var en=l$1.__r;l$1.__r=function(n){en&&en(n),n.__c;};

    const EventDetail = Symbol("event-detail");
    function enhanceEvent(e, detail) {
        const event = e;
        event[EventDetail] = detail;
        return event;
    }
    const alreadyWarned = new Set();
    function overwriteWithWarning(componentName, props, propName, newValue) {
        //const key = `${componentName};${propName}`;
        const oldValue = props[propName];
        if (oldValue != null) {
            if (!alreadyWarned.has(String(propName))) {
                alreadyWarned.add(String(propName));
                console.warn(`The ${String(propName)} attribute on ${componentName} was given a value of ${oldValue} but is being overwritten to ${newValue} for conformance. Consider removing it before passing those props to ${componentName}.`);
            }
        }
        props[propName] = newValue;
    }
    let debug = false;
    function setDebugLogging(logging) {
        debug = logging;
    }
    function debugLog(who, ...args) {
        if (debug)
            console.debug(who + ":", ...args);
    }
    function noop$1() { return; }
    // (These do not need to be unique)
    const Prefices = {
        accordionSectionHeaderButton: "ashb-",
        accordionSectionBody: "asb-",
        checkboxLikeInput: "cbli-",
        checkboxLikeLabel: "cbll-",
        dialog: "mdl-",
        dialogTitle: "mdlt-",
        drawer: "mdw-",
        drawerTitle: "mdwt-",
        gridlist: "gl-",
        gridlistLabel: "gll-",
        listbox: "lb-",
        listboxLabel: "lbl-",
        menu: "menu-",
        progressIndicator: "pi-",
        progressLabel: "pl-",
        radioGroup: "rg-",
        radioGroupLabel: "rgl-",
        radio: "rb-",
        radioLabel: "rbl-",
        sliderThumb: "st-",
        table: "tb-",
        tableLabel: "tbl-",
        tablist: "tl-",
        tablistLabel: "tll-",
        tooltip: "tt-",
        toolbar: "tlb-",
        toolbarLabel: "tlbl-"
    };

    const HeadingLevelContext = G$1(0);
    const Heading = R(function Heading({ children, heading, tag, ...props }) {
        const headingLevelBeforeUs = q(HeadingLevelContext);
        const newHeadingLevel = headingLevelBeforeUs + 1;
        if (tag == null) {
            if (newHeadingLevel <= 6) {
                tag = `h${newHeadingLevel}`;
            }
            else {
                tag = 'div';
                overwriteWithWarning("Heading", props, "aria-level", `${newHeadingLevel}`);
            }
        }
        return (o$1(_$2, { children: o$1(HeadingReset, { newLevel: headingLevelBeforeUs + 1, children: [y$1(tag, props, heading), children] }) }));
    });
    const HeadingReset = R(function HeadingReset({ newLevel, children }) {
        return (o$1(HeadingLevelContext.Provider, { value: newLevel, children: children }));
    });

    /**
     * Debug hook.
     *
     * Given a value or set of values, emits a console error if any of them change from one render to the next.
     *
     * Eventually, when useEvent lands, we hopefully won't need this.
     */
    function useEnsureStability(parentHookName, ...values) {
        const helperToEnsureStability = _([]);
        const shownError = _([]);
        useHelper(values.length, -1);
        values.forEach(useHelper);
        return;
        function useHelper(value, i) {
            const index = i + 1;
            // Make sure that the provided functions are perfectly stable across renders
            if (helperToEnsureStability.current[index] === undefined)
                helperToEnsureStability.current[index] = value;
            if (helperToEnsureStability.current[index] != value) {
                if (!shownError.current[index]) {
                    /* eslint-disable no-debugger */
                    debugger;
                    console.error(`The hook ${parentHookName} requires some or all of its arguments remain stable across each render; please check the ${i}-indexed argument (${i >= 0 ? JSON.stringify(values[i]) : "the number of supposedly stable elements"}).`);
                    shownError.current[index] = true;
                }
            }
        }
    }
    function debounceRendering(f) {
        (l$1.debounceRendering ?? setTimeout)(f);
    }
    /**
     * Similar to `useState`, but for values that aren't "render-important" &ndash; updates don't cause a re-render and so the value shouldn't be used during render (though it certainly can, at least by re-rendering again).
     *
     * To compensate for this, you should pass a `useEffect`-esque callback that is run whenever the value changes.  Just like `useEffect`, this callback can return a cleanup function that's run before the value changes.  If you would like to re-render when the value changes (or, say, when the value meets some criteria), this is where you'll want to put in a call to a `setState` function.
     *
     * To summarize, it's like a `useState`-`useEffect` mashup:
     *
     * 1. It's like `useState`, except this version of `setState` doesn't re-render the whole component
     * 2. It's like `useState`, except you can run a function when the value changes that optionally returns a cleanup function
     * 3. It's like `useEffect`, except you trigger the effect function "remotely" instead of it running after rendering
     * 4. It's like `useEffect`, except the single "dependency" is based on your calls to `setState`
     *
     * Note that while calling `setState` doesn't cause any re-renders, you can do that within your `onChange` function, called whenever the value changes via that `setState`.
     *
     * @param onChange The "effect" function to run when the value changes. Effectively the same as `useEffect`'s "effect" function.  MUST BE STABLE, either because it has no dependencies, or because it's from useStableCallback, but this will mean you cannot use getState or setState during render.
     * @param getInitialValue If provided, the effect will be invoked once with this value on mount. MUST BE STABLE, either because it has no dependencies, or because it's from useStableCallback, but this will mean you cannot use getState or setState during render.
     * @param customDebounceRendering By default, changes to passive state are delayed by one tick so that we only check for changes in a similar way to Preact. You can override this to, for example, always run immediately instead.
     * @returns
     */
    function usePassiveState(onChange, getInitialValue, customDebounceRendering) {
        const valueRef = _(Unset$2);
        const reasonRef = _(Unset$2);
        const warningRef = _(false);
        const dependencyToCompareAgainst = _(Unset$2);
        const cleanupCallbackRef = _(undefined);
        // Make sure that the provided functions are perfectly stable across renders
        useEnsureStability("usePassiveState", onChange, getInitialValue, customDebounceRendering);
        // Shared between "dependency changed" and "component unmounted".
        const onShouldCleanUp = T$1(() => {
            const cleanupCallback = cleanupCallbackRef.current;
            if (cleanupCallback)
                cleanupCallback();
        }, []);
        // There are a couple places where we'd like to use our initial
        // value in place of having no value at all yet.
        // This is the shared code for that, used on mount and whenever
        // getValue is called.
        const tryEnsureValue = T$1(() => {
            if (valueRef.current === Unset$2 && getInitialValue != undefined) {
                try {
                    const initialValue = getInitialValue();
                    valueRef.current = initialValue;
                    cleanupCallbackRef.current = (onChange?.(initialValue, undefined, undefined) ?? undefined);
                }
                catch (ex) {
                    // Exceptions are intentional to allow bailout (without exposing the Unset symbol)
                }
            }
        }, [ /* getInitialValue and onChange intentionally omitted */]);
        const getValue = T$1(() => {
            if (warningRef.current)
                console.warn("During onChange, prefer using the (value, prevValue) arguments instead of getValue -- it's ambiguous as to if you're asking for the old or new value at this point in time for this component.");
            // The first time we call getValue, if we haven't been given a value yet,
            // (and we were given an initial value to use)
            // return the initial value instead of nothing.
            if (valueRef.current === Unset$2)
                tryEnsureValue();
            return (valueRef.current === Unset$2 ? undefined : valueRef.current);
        }, []);
        s(() => {
            // Make sure we've run our effect at least once on mount.
            // (If we have an initial value, of course)
            tryEnsureValue();
        }, []);
        // The actual code the user calls to (possibly) run a new effect.
        const setValue = T$1((arg, reason) => {
            // Regardless of anything else, figure out what our next value is about to be.
            const nextValue = (arg instanceof Function ? arg(valueRef.current === Unset$2 ? undefined : valueRef.current) : arg);
            if (dependencyToCompareAgainst.current === Unset$2 && nextValue !== valueRef.current) {
                // This is the first request to change this value.
                // Evaluate the request immediately, then queue up the onChange function
                // Save our current value so that we can compare against it later
                // (if we flip back to this state, then we won't send the onChange function)
                dependencyToCompareAgainst.current = valueRef.current;
                // It's important to update this here (as well as below) in case customDebounceRendering invokes this immediately
                valueRef.current = nextValue;
                reasonRef.current = reason;
                // Schedule the actual check and invocation of onChange later to let effects settle
                (customDebounceRendering ?? debounceRendering)(() => {
                    const nextReason = reasonRef.current;
                    const nextDep = valueRef.current;
                    const prevDep = dependencyToCompareAgainst.current;
                    if (dependencyToCompareAgainst.current != valueRef.current) {
                        warningRef.current = true;
                        try {
                            // Call any registered cleanup function
                            onShouldCleanUp();
                            cleanupCallbackRef.current = (onChange?.(nextDep, prevDep === Unset$2 ? undefined : prevDep, nextReason) ?? undefined);
                            valueRef.current = nextDep;
                        }
                        finally {
                            // Allow the user to normally call getValue again
                            warningRef.current = false;
                        }
                    }
                    // We've finished with everything, so mark us as being on a clean slate again.
                    dependencyToCompareAgainst.current = Unset$2;
                });
            }
            // Update the value immediately.
            // This will be checked against prevDep to see if we should actually call onChange
            valueRef.current = nextValue;
        }, []);
        return [getValue, setValue];
    }
    const Unset$2 = Symbol();
    // Easy constants for getInitialValue
    function returnTrue() { return true; }
    function returnFalse() { return false; }
    function returnNull() { return null; }
    function returnZero() { return 0; }
    /**
     * An alternative to use for `customDebounceRendering` that causes `usePassiveState` to run changes without waiting a tick.
     */
    function runImmediately(f) { f(); }

    const Table$1 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-";
    function base64(value) {
        return Table$1[value];
    }
    function random6Bits() {
        return Math.floor(Math.random() * 0b1000000);
    }
    function random64Bits() {
        return [random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits(), random6Bits()];
    }
    /**
     * Returns a randomly-generated ID with an optional prefix.
     * Note that if the prefix is *explicitly* set to "", then
     * IDs that are not valid under HTML4 may be generated. Oh no.
     *
     *
     * (This is here, in this particular file, to avoid circular dependencies
     * without also making a utilities file.
     * Once we can remove this hook, we can put this function back with useRandomId)
     */
    function generateRandomId(prefix) {
        return `${prefix ?? "id-"}${random64Bits().map(n => base64(n)).join("")}`;
    }
    const previousInputs = new Map();
    const toRun = new Map();
    // TODO: Whether this goes in options.diffed or options._commit
    // is a post-suspense question.
    // Right now, using options._commit has the problem of running
    // *after* refs are applied, but we need to come before even that
    // so `ref={someStableFunction}` works.
    // 
    // Also it's private.
    //
    // ...
    // Well, useEvent or whatever is finally, finally 4 years later finally here
    // which is cool and means we won't need this at all soon.
    // So for now we'll stick with diff to prevent any weirdness with
    // commit being private and all.
    const commitName = "diffed";
    const originalCommit = l$1[commitName];
    const newCommit = (...args) => {
        for (const [id, effectInfo] of toRun) {
            const oldInputs = previousInputs.get(id);
            if (argsChanged(oldInputs, effectInfo.inputs)) {
                effectInfo.cleanup?.();
                effectInfo.cleanup = effectInfo.effect();
                previousInputs.set(id, effectInfo.inputs);
            }
        }
        toRun.clear();
        originalCommit?.(...args);
    };
    l$1[commitName] = newCommit;
    /**
     * Semi-private function to allow stable callbacks even within `useLayoutEffect` and ref assignment.
     *
     * Every render, we send the arguments to be evaluated after diffing has completed,
     * which happens before.
     *
     * @param effect
     * @param inputs
     */
    function useBeforeLayoutEffect(effect, inputs) {
        /*(() => {
            const cleanup = useRef<void | (() => void) | null>(null);
            const prevArgsRef = useRef<Inputs>(null!);
            if (argsChanged(inputs, prevArgsRef.current)) {
                prevArgsRef.current = inputs!;
                if (cleanup.current)
                    cleanup.current();
                cleanup.current = effect();
            }
        })();*/
        const [id] = p(() => generateRandomId());
        if (effect)
            toRun.set(id, { effect, inputs, cleanup: null });
        else
            toRun.delete(id);
        h(() => {
            return () => {
                toRun.delete(id);
                previousInputs.delete(id);
            };
        }, [id]);
    }
    function argsChanged(oldArgs, newArgs) {
        return !!(!oldArgs ||
            oldArgs.length !== newArgs?.length ||
            newArgs?.some((arg, index) => arg !== oldArgs[index]));
    }

    const Unset$1 = Symbol("unset");
    /**
     * Given an input value, returns a constant getter function that can be used
     * inside of `useEffect` and friends without including it in the dependency array.
     *
     * This uses `options.diffed` in order to run before everything, even
     * ref assignment. This means this getter is safe to use anywhere ***except the render phase***.
     *
     * @param value
     * @returns
     */
    function useStableGetter(value) {
        const ref = _(Unset$1);
        useBeforeLayoutEffect((() => { ref.current = value; }), [value]);
        return T$1(() => {
            if (ref.current === Unset$1) {
                throw new Error('Value retrieved from useStableGetter() cannot be called during render.');
            }
            return ref.current;
        }, []);
    }
    /**
     * Like `useStableGetter`, but ***requires*** that everything in the object is also stable,
     * and in turn returns an object that itself is stable.
     * @param t
     * @returns
     */
    function useStableObject(t) {
        const e = Object.entries(t);
        useEnsureStability("useStableObject", e.length, ...e.map(([_k, v]) => v));
        return _(t).current;
    }

    /**
     * We keep track of which callbacks are stable with a WeakMap instead of, say, a symbol because
     * `useCallback` will return a function that's stable across *all* renders, meaning
     * we can't use our funny "`if` only works here because it doesn't break the rules of hooks" trick then.
     */
    const map = new WeakMap();
    function isStableGetter(obj) {
        return (map.get(obj) ?? false);
    }
    function setIsStableGetter(obj) {
        map.set(obj, true);
        return obj;
    }
    /**
     * Alternate useCallback() which always returns the same (wrapped) function reference
     * so that it can be excluded from the dependency arrays of `useEffect` and friends.
     *
     * In general, just pass the function you want to be stable (but you can't use it during render,
     * so be careful!).  Alternatively, if you need a stable callback that **can** be used
     * during render, pass an empty dependency array and it'll act like `useCallback` with an
     * empty dependency array, but with the associated stable typing. In this case, you ***must*** ensure that it
     * truly has no dependencies/only stable dependencies!!
     */
    function useStableCallback(fn, noDeps) {
        useEnsureStability("useStableCallback", noDeps == null, noDeps?.length, isStableGetter(fn));
        if (isStableGetter(fn))
            return fn;
        if (noDeps == null) {
            const currentCallbackGetter = useStableGetter(fn);
            return setIsStableGetter(T$1(((...args) => {
                return currentCallbackGetter()(...args);
            }), []));
        }
        else {
            console.assert(noDeps.length === 0);
            return setIsStableGetter(T$1(fn, []));
        }
    }

    function useMergedChildren(lhs, rhs) {
        if (lhs == null && rhs == null) {
            return undefined;
        }
        else if (lhs == null) {
            return rhs;
        }
        else if (rhs == null) {
            return lhs;
        }
        else {
            return y$1(_$2, {}, lhs, rhs);
        }
    }

    function r(e){var t,f,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=" "),n+=f);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function clsx(){for(var e,t,f=0,n="";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=" "),n+=t);return n}

    /**
     * Given two sets of props, merges their `class` and `className` properties.
     * Duplicate classes are removed (order doesn't matter anyway).
     *
     * @param lhs Classes of the first component
     * @param rhs Classes of the second component
     * @returns A string representing all combined classes from both arguments.
     */
    function useMergedClasses(lhsClass, lhsClassName, rhsClass, rhsClassName) {
        // Note: For the sake of forward compatibility, this function is labelled as
        // a hook, but as it uses no other hooks it technically isn't one.
        if (lhsClass || rhsClass || lhsClassName || rhsClassName) {
            const lhsClasses = clsx(lhsClass, lhsClassName).split(" ");
            const rhsClasses = clsx(rhsClass, rhsClassName).split(" ");
            const allClasses = new Set([...Array.from(lhsClasses), ...Array.from(rhsClasses)]);
            return Array.from(allClasses).join(" ");
        }
        else {
            return undefined;
        }
    }

    function processRef(instance, ref) {
        if (typeof ref === "function") {
            ref(instance);
        }
        else if (ref != null) {
            ref.current = instance;
        }
        else {
            /* eslint-disable no-debugger */
            debugger;
            console.assert(false, "Unknown ref type found that was neither a RefCallback nor a RefObject");
        }
    }
    /**
     * Combines two refs into one. This allows a component to both use its own ref *and* forward a ref that was given to it.
     * @param lhs
     * @param rhs
     * @returns
     */
    function useMergedRefs(rhs, lhs) {
        if (lhs == null && rhs == null) {
            return undefined;
        }
        else if (lhs == null) {
            return rhs;
        }
        else if (rhs == null) {
            return lhs;
        }
        else {
            return combined;
        }
        function combined(current) {
            processRef(current, lhs);
            processRef(current, rhs);
        }
    }

    function styleStringToObject(style) {
        // TODO: This sucks D:
        return Object.fromEntries(style.split(";").map(statement => statement.split(":")));
    }
    /**
     * Merges two style objects, returning the result.
     *
     * @param style The user-given style prop for this component
     * @param obj The CSS properties you want added to the user-given style
     * @returns A CSS object containing the properties of both objects.
     */
    function useMergedStyles(lhs, rhs) {
        // Easy case, when there are no styles to merge return nothing.
        if (!lhs && !rhs)
            return undefined;
        if (typeof lhs != typeof rhs) {
            // Easy cases, when one is null and the other isn't.
            if (lhs && !rhs)
                return lhs;
            if (!lhs && rhs)
                return rhs;
            // They're both non-null but different types.
            // Convert the string type to an object bag type and run it again.
            if (lhs && rhs) {
                // (useMergedStyles isn't a true hook -- this isn't a violation)
                if (typeof lhs == "string")
                    return useMergedStyles(styleStringToObject(lhs), rhs);
                if (typeof rhs == "string")
                    return useMergedStyles(lhs, styleStringToObject(rhs));
            }
            // Logic???
            return undefined;
        }
        // They're both strings, just concatenate them.
        if (typeof lhs == "string") {
            return `${lhs};${rhs ?? ""}`;
        }
        // They're both objects, just merge them.
        return {
            ...(lhs ?? {}),
            ...(rhs ?? {})
        };
    }

    let log = console.warn;
    /**
     * Given two sets of props, merges them and returns the result.
     *
     * The hook is aware of and can intelligently merge `className`, `class`, `style`, `ref`, and all event handlers.
     * @param lhs2
     * @param rhs2
     * @returns
     */
    function useMergedProps(...allProps) {
        useEnsureStability("useMergedProps", allProps.length);
        let ret = {};
        for (let nextProps of allProps) {
            ret = useMergedProps2(ret, nextProps);
        }
        return ret;
    }
    const knowns = new Set(["children", "ref", "className", "class", "style"]);
    function mergeUnknown(key, lhsValue, rhsValue) {
        if (typeof lhsValue === "function" || typeof rhsValue === "function") {
            // They're both functions that can be merged (or one's a function and the other's null).
            // Not an *easy* case, but a well-defined one.
            const merged = mergeFunctions(lhsValue, rhsValue);
            return merged;
        }
        else {
            // Uh...we're here because one of them's null, right?
            if (lhsValue == null && rhsValue == null) {
                if (rhsValue === null && lhsValue === undefined)
                    return rhsValue;
                else
                    return lhsValue;
            }
            if (lhsValue == null)
                return rhsValue;
            else if (rhsValue == null)
                return lhsValue;
            else if (rhsValue == lhsValue) {
                // I mean, they're the same value at least
                // so we don't need to do anything.
                // Not really ideal though.
                return rhsValue;
            }
            else {
                // Ugh.
                // No good strategies here, just log it if requested
                log?.(`The prop "${key}" cannot simultaneously be the values ${lhsValue} and ${rhsValue}. One must be chosen outside of useMergedProps.`);
                return rhsValue;
            }
        }
    }
    /**
     * Helper function.
     *
     * This is one of the most commonly called functions in this and consumer libraries,
     * so it trades a bit of readability for speed (i.e. we don't decompose objects and just do regular property access, iterate with `for...in`, instead of `Object.entries`, etc.)
     */
    function useMergedProps2(lhsAll, rhsAll) {
        const ret = {
            ref: useMergedRefs(lhsAll.ref, rhsAll.ref),
            style: useMergedStyles(lhsAll.style, rhsAll.style),
            className: useMergedClasses(lhsAll["class"], lhsAll.className, rhsAll["class"], rhsAll.className),
            children: useMergedChildren(lhsAll.children, rhsAll.children),
        };
        if (ret.ref === undefined)
            delete ret.ref;
        if (ret.style === undefined)
            delete ret.style;
        if (ret.className === undefined)
            delete ret.className;
        if (ret["class"] === undefined)
            delete ret["class"];
        if (ret.children === undefined)
            delete ret.children;
        for (const lhsKeyU in lhsAll) {
            const lhsKey = lhsKeyU;
            if (knowns.has(lhsKey))
                continue;
            ret[lhsKey] = lhsAll[lhsKey];
        }
        for (const rhsKeyU in rhsAll) {
            const rhsKey = rhsKeyU;
            if (knowns.has(rhsKey))
                continue;
            ret[rhsKey] = mergeUnknown(rhsKey, ret[rhsKey], rhsAll[rhsKey]);
        }
        return ret;
    }
    function mergeFunctions(lhs, rhs) {
        if (!lhs)
            return rhs;
        if (!rhs)
            return lhs;
        return (...args) => {
            const lv = lhs(...args);
            const rv = rhs(...args);
            if (lv instanceof Promise || rv instanceof Promise)
                return Promise.all([lv, rv]);
        };
    }
    /*
    function test<P extends h.JSX.HTMLAttributes<HTMLInputElement>>(props: P) {

        const id0: GenericGet<{}, "id", string> = "";
        const id3: GenericGet<{ id: undefined }, "id", string> = undefined;
        const id4: GenericGet<{ id: undefined }, "id", string> = undefined;
        const id5: GenericGet<{ id: undefined }, "id", string> = undefined;
        const id6: GenericGet<{ id: undefined }, "id", string> = undefined;
        //const id2: ZipSingle<string | undefined, string | undefined> = undefined;
        const id1: ZipObject<{ id: undefined }, { id: string }> = { id: undefined };

        type M1 = GenericGet<P, "style", string>;
        type M2 = GenericGet<{}, "style", string>;
        const m1: M1 = "";
        const m2: M1 = undefined;
        /// @ts-expect-error    Because number isn't assignable to string
        const m3: M1 = 0;

        const m4: M2 = "";
        const m5: M2 = undefined;
        /// @ts-expect-error    Because number isn't assignable to string
        const m6: M2 = 0;

        const p1: MergedProps<HTMLInputElement, {}, { id: string }> = useMergedProps<HTMLInputElement>()({}, { id: "string" });
        const p2: MergedProps<HTMLInputElement, { id: undefined }, { id: string }> = useMergedProps<HTMLInputElement>()({ id: undefined }, { id: "string" });
        const p3: MergedProps<HTMLInputElement, { id: undefined }, { id: undefined }> = useMergedProps<HTMLInputElement>()({ id: undefined }, { id: undefined });
        const p4: MergedProps<HTMLInputElement, {}, {}> = useMergedProps<HTMLInputElement>()({}, {});
        const p5 = useMergedProps<HTMLInputElement>()(props, {});
        const p6 = useMergedProps<HTMLInputElement>()(props, { id: undefined });
        const p7 = useMergedProps<HTMLInputElement>()(props, { id: "string" });


        p1.id?.concat("");
        p2.id?.concat("");
        /// @ts-expect-error    id can't be anything but undefined
        p3.id?.concat("");
        /// @ts-expect-error    id can't be anything but undefined
        p4.id?.concat("");


        p5.id?.concat("");
        p6.id?.concat("");
        p7.id?.concat("");

        /// @ts-expect-error    id must contain undefined
        p5.id.concat("");
        /// @ts-expect-error    id must contain undefined
        p6.id.concat("");
        /// @ts-expect-error    id must contain undefined
        p7.id.concat("");


        if (p5.allowFullScreen === undefined) {}
        else if (p5.allowFullScreen === false) {}
        else if (p5.allowFullScreen === true) {}
        else {
            acceptsNever(p5.allowFullScreen);
        }


        if (p6.allowFullScreen === undefined) {}
        else if (p6.allowFullScreen === false) {}
        else if (p6.allowFullScreen === true) {}
        else {
            acceptsNever(p6.allowFullScreen);
        }


        if (p7.allowFullScreen === undefined) {}
        else if (p7.allowFullScreen === false) {}
        else if (p7.allowFullScreen === true) {}
        else {
            acceptsNever(p7.allowFullScreen);
        }


        // Make sure it works recursively
        const r1a = useMergedProps<HTMLInputElement>()({}, p1);
        const r1b = useMergedProps<HTMLInputElement>()(props, p1);
        const r2a = useMergedProps<HTMLInputElement>()({}, p2);
        const r2b = useMergedProps<HTMLInputElement>()(props, p2);
        const r3a = useMergedProps<HTMLInputElement>()({}, p3);
        const r3b = useMergedProps<HTMLInputElement>()(props, p3);
        const r4a = useMergedProps<HTMLInputElement>()({}, p4);
        const r4b = useMergedProps<HTMLInputElement>()(props, p4);
        const r5a = useMergedProps<HTMLInputElement>()({}, p5);
        const r5b = useMergedProps<HTMLInputElement>()(props, p5);
        const r6a = useMergedProps<HTMLInputElement>()({}, p6);
        const r6b = useMergedProps<HTMLInputElement>()(props, p6);
        const r7a = useMergedProps<HTMLInputElement>()({}, p7);
        const r7b = useMergedProps<HTMLInputElement>()(props, p7);


        r1a.id?.concat("");
        r1b.id?.concat("");
        r2a.id?.concat("");
        r2b.id?.concat("");
        // @ts-expect-error    id can't be anything but undefined
        r3a.id?.concat("");
        r3b.id?.concat("");
        /// @ts-expect-error    id can't be anything but undefined
        r4a.id?.concat("");
        r4b.id?.concat("");


        r5a.id?.concat("");
        r5b.id?.concat("");
        r6a.id?.concat("");
        r6b.id?.concat("");
        r7a.id?.concat("");
        r7b.id?.concat("");

        /// @ts-expect-error    id must contain undefined
        r5a.id.concat("");
        /// @ts-expect-error    id must contain undefined
        r5b.id.concat("");
        /// @ts-expect-error    id must contain undefined
        r6a.id.concat("");
        /// @ts-expect-error    id must contain undefined
        r6b.id.concat("");
        /// @ts-expect-error    id must contain undefined
        r7a.id.concat("");
        /// @ts-expect-error    id must contain undefined
        r7b.id.concat("");


        if (r5a.allowFullScreen === undefined) {}
        else if (r5a.allowFullScreen === false) {}
        else if (r5a.allowFullScreen === true) {}
        else {
            acceptsNever(r5a.allowFullScreen);
        }


        if (r5b.allowFullScreen === undefined) {}
        else if (r5b.allowFullScreen === false) {}
        else if (r5b.allowFullScreen === true) {}
        else {
            acceptsNever(r5b.allowFullScreen);
        }


        if (r6a.allowFullScreen === undefined) {}
        else if (r6a.allowFullScreen === false) {}
        else if (r6a.allowFullScreen === true) {}
        else {
            acceptsNever(r6a.allowFullScreen);
        }


        if (r6b.allowFullScreen === undefined) {}
        else if (r6b.allowFullScreen === false) {}
        else if (r6b.allowFullScreen === true) {}
        else {
            acceptsNever(r6b.allowFullScreen);
        }


        if (r7a.allowFullScreen === undefined) {}
        else if (r7a.allowFullScreen === false) {}
        else if (r7a.allowFullScreen === true) {}
        else {
            acceptsNever(r7a.allowFullScreen);
        }


        if (r7b.allowFullScreen === undefined) {}
        else if (r7b.allowFullScreen === false) {}
        else if (r7b.allowFullScreen === true) {}
        else {
            acceptsNever(r7b.allowFullScreen);
        }

    }
    function acceptsNever(n: never) {}
    */

    /**
     * Allows attaching an event handler to any *non-Preact* element, and removing it when the component using the hook unmounts. The callback does not need to be stable across renders.
     *
     * Due to typing limitations, this function must be called like this:
     *
     * `useEventHandler(element, "input")<InputEvent>(e => {})`
     *
     * The type argument is optional, but narrows down the type from "a union of all events" to whatever you specify, and errors if it doesn't exist.
     *
     * There is a separate version that attaches event handlers to a set of props.
     * It takes different event string types (onEvent vs onevent).
     *
     * @param target A *non-Preact* node to attach the event to.
     * @returns
     * *
     */
    function useGlobalHandler(target, type, handler, options, mode) {
        mode ||= "grouped";
        useEnsureStability("useGlobalHandler", mode);
        if (mode === "grouped") {
            // Note to self: The typing doesn't improve even if this is split up into a sub-function.
            // No matter what, it seems impossible to get the handler's event object typed perfectly.
            // It seems like it's guaranteed to always be a union of all available tupes.
            // Again, no matter what combination of sub- or sub-sub-functions used.
            useGlobalHandlerGrouped(target, type, handler, options);
        }
        else {
            useGlobalHandlerSingle(target, type, handler, options);
        }
    }
    let mapThing = new Map();
    function doMapThing(op, target, type, handler, options) {
        if (handler) {
            const optionsKey = JSON.stringify(options);
            const byType = mapThing.get(target) || new Map();
            const byOptions = (byType.get(type) || new Map());
            const info = byOptions.get(optionsKey) || { listener: null, listeners: new Set() };
            op(info, handler);
            byOptions.set(optionsKey, info);
            byType.set(type, byOptions);
            mapThing.set(target, byType);
        }
    }
    function addToMapThing(target, type, handler, options) {
        doMapThing((info, h) => {
            info.listeners.add(h);
            if (info.listener == null)
                target.addEventListener(type, info.listener = e => info.listeners.forEach(fn => fn(e)), options);
        }, target, type, handler, options);
    }
    function removeFromMapThing(target, type, handler, options) {
        doMapThing((info, h) => {
            info.listeners.delete(h);
            if (info.listener == null)
                target.removeEventListener(type, info.listener = e => info.listeners.forEach(fn => fn(e)), options);
        }, target, type, handler, options);
    }
    /**
     * This is way faster for large numbers of event handlers.
     *
     * For example, if every button listens for a global click, or something,
     * it would be nice if it was efficient at least.
     */
    function useGlobalHandlerGrouped(target, type, handler, options) {
        let stableHandler = useStableCallback(handler ?? (() => { }));
        if (handler == null)
            stableHandler = null;
        h(() => {
            if (stableHandler) {
                addToMapThing(target, type, stableHandler, options);
                return () => removeFromMapThing(target, type, stableHandler, options);
            }
        }, [target, type, stableHandler]);
    }
    function useGlobalHandlerSingle(target, type, handler, options) {
        let stableHandler = useStableCallback(handler ?? (() => { }));
        if (handler == null)
            stableHandler = null;
        h(() => {
            if (stableHandler) {
                target.addEventListener(type, stableHandler, options);
                return () => target.removeEventListener(type, stableHandler, options);
            }
        }, [target, type, stableHandler]);
    }

    /*
    export function useRefElementProps<E extends Element>(r: UseRefElementReturnType<E>, ...otherProps: h.JSX.HTMLAttributes<E>[]): h.JSX.HTMLAttributes<E>[] {
        return [r.refElementReturn.propsStable, ...otherProps];
    }*/
    /**
     * Allows accessing the element a ref references as soon as it does so.
     * *This hook itself returns a hook*--useRefElementProps modifies the props that you were going to pass to an HTMLElement,
     * adding a RefCallback and merging it with any existing ref that existed on the props.
     *
     * Don't forget to provide the Element as the type argument!
     *
     * @returns The element, and the sub-hook that makes it retrievable.
     */
    function useRefElement(args) {
        const { onElementChange, onMount, onUnmount } = (args.refElementParameters || {});
        useEnsureStability("useRefElement", onElementChange, onMount, onUnmount);
        // Called (indirectly) by the ref that the element receives.
        const handler = T$1((e, prevValue) => {
            const cleanup = onElementChange?.(e, prevValue);
            if (prevValue)
                onUnmount?.(prevValue);
            if (e)
                onMount?.(e);
            return cleanup;
        }, []);
        // Let us store the actual (reference to) the element we capture
        const [getElement, setElement] = usePassiveState(handler, returnNull, runImmediately);
        const propsStable = _({ ref: setElement });
        // Return both the element and the hook that modifies 
        // the props and allows us to actually find the element
        return {
            refElementReturn: {
                getElement,
                propsStable: propsStable.current
            }
        };
    }

    /*
    const activeElementUpdaters = new Map<Window | null | undefined, Set<undefined | ((e: Node | null) => void)>>();
    const lastActiveElementUpdaters = new Map<Window | null | undefined, Set<undefined | ((e: Node) => void)>>();
    const windowFocusedUpdaters = new Map<Window | null | undefined, Set<undefined | ((focused: boolean) => void)>>();
    const windowsFocusedUpdaters = new Map<Window | null | undefined, boolean>();*/
    const activeElementUpdaters = new Map();
    const lastActiveElementUpdaters = new Map();
    const windowFocusedUpdaters = new Map();
    const windowsFocusedUpdaters = new Map();
    //const microtasks = new Map<Set<any>, any>();
    // The focusin and focusout events often fire syncronously in the middle of running code.
    // E.G. calling element.focus() can cause a focusin event handler to immediately interrupt that code.
    // For the purpose of improving stability, we debounce all focus events to the next microtask.
    function forEachUpdater(window, map, value, reason) {
        const updaters = map.get(window);
        if (updaters) {
            //if (!microtasks.has(updatersKey)) {
            //debounceRendering(() => {
            //const updatersKey = map.get(window)!;
            //const value = microtasks.get(updatersKey);
            //microtasks.delete(updatersKey);
            if (updaters) {
                for (const updater of updaters) {
                    const { lastSent, send } = updater;
                    if (value !== lastSent) {
                        send(value, reason);
                        updater.lastSent = value;
                    }
                }
            }
            //});
            //}
            //microtasks.set(updatersKey, value);
        }
    }
    function focusout(e) {
        const window = e.target.ownerDocument.defaultView;
        if (e.relatedTarget == null) {
            forEachUpdater(window, activeElementUpdaters, null, e);
        }
    }
    function focusin(e) {
        const window = e.target.ownerDocument.defaultView;
        const currentlyFocusedElement = e.target;
        forEachUpdater(window, activeElementUpdaters, currentlyFocusedElement, e);
        forEachUpdater(window, lastActiveElementUpdaters, currentlyFocusedElement, e);
    }
    function windowFocus(e) {
        const window = (e.target instanceof Window ? e.target : e.currentTarget instanceof Window ? e.currentTarget : e.target.ownerDocument.defaultView);
        windowsFocusedUpdaters.set(window, true);
        forEachUpdater(window, windowFocusedUpdaters, true, e);
    }
    function windowBlur(e) {
        const window = (e.target instanceof Window ? e.target : e.currentTarget instanceof Window ? e.currentTarget : e.target.ownerDocument.defaultView);
        windowsFocusedUpdaters.set(window, false);
        forEachUpdater(window, windowFocusedUpdaters, false, e);
    }
    /**
     * Allows you to inspect which element in the `document` currently has focus, which was most recently focused if none are currently, and whether or not the window has focus by returning the following functions:
     * * `getActiveElement()`
     * * `getLastActiveElement()`
     * * `getWindowFocused()`
     *
     * (The document's body receiving focus, like it does when you click on an empty area, is counted as no element having focus for all intents and purposes)
     *
     * This is a passive hook, so by default it returns getter functions that report this information but the component will not re-render by default when the active element changes.
     *
     * If you need the component to re-render when the active element changes, use the `on*Change` arguments to set some state on your end.
     */
    function useActiveElement({ activeElementParameters: { onActiveElementChange, onLastActiveElementChange, onWindowFocusedChange, getDocument, getWindow } }) {
        useEnsureStability("useActiveElement", onActiveElementChange, onLastActiveElementChange, onWindowFocusedChange, getDocument, getWindow);
        h(() => {
            const document = getDocument();
            const window = (getWindow?.(document) ?? document?.defaultView);
            if ((activeElementUpdaters.get(window)?.size ?? 0) === 0) {
                document?.addEventListener("focusin", focusin, { passive: true });
                document?.addEventListener("focusout", focusout, { passive: true });
                window?.addEventListener("focus", windowFocus, { passive: true });
                window?.addEventListener("blur", windowBlur, { passive: true });
            }
            // Add them even if they're undefined to more easily
            // manage the ">0 means don't add handlers" logic.
            const localActiveElementUpdaters = activeElementUpdaters.get(window) ?? new Set();
            const localLastActiveElementUpdaters = lastActiveElementUpdaters.get(window) ?? new Set();
            const localWindowFocusedUpdaters = windowFocusedUpdaters.get(window) ?? new Set();
            const laeu = { send: setActiveElement, lastSent: undefined };
            const llaeu = { send: setLastActiveElement, lastSent: undefined };
            const lwfu = { send: setWindowFocused, lastSent: undefined };
            localActiveElementUpdaters.add(laeu);
            localLastActiveElementUpdaters.add(llaeu);
            localWindowFocusedUpdaters.add(lwfu);
            activeElementUpdaters.set(window, localActiveElementUpdaters);
            lastActiveElementUpdaters.set(window, localLastActiveElementUpdaters);
            windowFocusedUpdaters.set(window, localWindowFocusedUpdaters);
            return () => {
                activeElementUpdaters.get(window).delete(laeu);
                lastActiveElementUpdaters.get(window).delete(laeu);
                windowFocusedUpdaters.get(window).delete(lwfu);
                if (activeElementUpdaters.size === 0) {
                    document?.removeEventListener("focusin", focusin);
                    document?.removeEventListener("focusout", focusout);
                    window?.removeEventListener("focus", windowFocus);
                    window?.removeEventListener("blur", windowBlur);
                }
            };
        }, []);
        const [getActiveElement, setActiveElement] = usePassiveState(onActiveElementChange, returnNull, runImmediately);
        const [getLastActiveElement, setLastActiveElement] = usePassiveState(onLastActiveElementChange, returnNull, runImmediately);
        const [getWindowFocused, setWindowFocused] = usePassiveState(onWindowFocusedChange, returnTrue, runImmediately);
        return { activeElementReturn: { getActiveElement, getLastActiveElement, getWindowFocused } };
    }

    /**
     * Allows a parent component to access information about certain
     * child components once they have rendered.
     *
     * This hook is designed to be lightweight, in that the parent keeps no state
     * and runs no effects.  Each child *does* run an effect, but with no state
     * changes unless you explicitly request them.
     *
     *
     */
    function useManagedChildren(parentParameters) {
        const { managedChildrenParameters: { onAfterChildLayoutEffect, onChildrenMountChange, onChildCountChange }, ...rest } = parentParameters;
        useEnsureStability("useManagedChildren", onAfterChildLayoutEffect, onChildrenMountChange, onChildCountChange);
        //const [getMountCount, setMountCount] = usePassiveState(onChildCountChange, returnZero, runImmediately);
        const getHighestIndex = T$1(() => {
            return managedChildrenArray.current.highestIndex;
        }, []);
        // All the information we have about our children is stored in this **stable** array.
        // Any mutations to this array **DO NOT** trigger any sort of a re-render.
        const managedChildrenArray = _({ arr: [], rec: {}, highestIndex: 0, lowestIndex: 0 });
        // For indirect access to each child
        // Compare getManagedChildInfo
        // TODO: The primary use for this is flaggable closest fits
        // which needs to search all children for that closest fit.
        // It would be nice if there was something better for that.
        const forEachChild = T$1((f) => {
            for (const child of managedChildrenArray.current.arr) {
                if (child)
                    f(child);
            }
            for (const field in managedChildrenArray.current.rec) {
                const child = managedChildrenArray.current.rec[field];
                if (child)
                    f(child);
            }
        }, []);
        // Retrieves the information associated with the child with the given index.
        // `undefined` if not child there, or it's unmounted.
        const getManagedChildInfo = T$1((index) => {
            if (typeof index == "number")
                return managedChildrenArray.current.arr[index];
            else
                return managedChildrenArray.current.rec[index];
        }, []);
        // tl;dr this is a way to have run useLayoutEffect once after all N children
        // have mounted and run *their* useLayoutEffect, but also *without* re-rendering
        // ourselves because of having a `childCount` state or anything similar.
        //
        // When the child count ref updates, we want the parent to also run an effect
        // to maybe do something with all these children that just mounted.
        // The easiest way would be useEffect(..., [childCount]) but
        // that would require us having a childCount state, then calling
        // setChildCount and re-rendering every time children mount
        // (only one re-render at a time unless children are staggered, but still)
        // 
        // As an alternate solution, any time a child uses ULE on mount, it queues a microtask
        // to emulate running ULE on the parent. Only the first child will actually queue
        // the microtask (by checking hasRemoteULE first) so that the "effect" only
        // runs once. When it's done, hasRemoteULE is reset so it can run again if
        // more children mount/unmount.
        const hasRemoteULEChildMounted = _(null);
        const remoteULEChildChangedCausers = _(new Set());
        const remoteULEChildChanged = T$1((index) => {
            if (remoteULEChildChangedCausers.current.size == 0) {
                if (onAfterChildLayoutEffect != null) {
                    debounceRendering(() => {
                        onAfterChildLayoutEffect?.(remoteULEChildChangedCausers.current);
                        remoteULEChildChangedCausers.current.clear();
                    });
                }
            }
            remoteULEChildChangedCausers.current.add(index);
            return () => { };
        }, [ /* Must remain stable */]);
        const remoteULEChildMounted = T$1((index, mounted) => {
            if (!hasRemoteULEChildMounted.current) {
                hasRemoteULEChildMounted.current = {
                    mounts: new Set(),
                    unmounts: new Set(),
                };
                if (onChildCountChange || onChildrenMountChange) {
                    debounceRendering(() => {
                        onChildrenMountChange?.(hasRemoteULEChildMounted.current.mounts, hasRemoteULEChildMounted.current.unmounts);
                        onChildCountChange?.(getChildren().getHighestIndex() + 1);
                        hasRemoteULEChildMounted.current = null;
                    });
                }
            }
            if (mounted) {
                if (typeof index == "number")
                    managedChildrenArray.current.highestIndex = Math.max(managedChildrenArray.current.highestIndex, index);
            }
            else {
                if (typeof index == "number") {
                    delete managedChildrenArray.current.arr[index];
                    let shave = 0;
                    while (shave <= managedChildrenArray.current.arr.length && managedChildrenArray.current.arr[managedChildrenArray.current.arr.length - 1 - shave] === undefined) {
                        ++shave;
                    }
                    managedChildrenArray.current.arr.splice(managedChildrenArray.current.arr.length - shave, shave);
                }
                else
                    delete managedChildrenArray.current.rec[index];
                if (typeof index == "number")
                    managedChildrenArray.current.highestIndex = managedChildrenArray.current.arr.length - 1;
            }
            hasRemoteULEChildMounted.current[mounted ? "mounts" : "unmounts"].add(index);
        }, [ /* Must remain stable */]);
        const managedChildren = useStableObject({
            ...{ _: managedChildrenArray.current },
            forEach: forEachChild,
            getAt: getManagedChildInfo,
            getHighestIndex: getHighestIndex,
            arraySlice: T$1(() => {
                return managedChildrenArray.current.arr.slice();
            }, [])
        });
        const getChildren = T$1(() => managedChildren, []);
        return {
            context: useStableObject({
                managedChildContext: useStableObject({
                    managedChildrenArray: managedChildrenArray.current,
                    remoteULEChildMounted,
                    remoteULEChildChanged,
                    getChildren
                })
            }),
            managedChildrenReturn: { getChildren }
        };
    }
    function useManagedChild(info, managedChildParameters) {
        const { context: { managedChildContext: { getChildren, managedChildrenArray, remoteULEChildMounted, remoteULEChildChanged } } } = info;
        const index = managedChildParameters.index;
        // Any time our child props change, make that information available
        // the parent if they need it.
        // The parent can listen for all updates and only act on the ones it cares about,
        // and multiple children updating in the same tick will all be sent at once.
        s(() => {
            // Insert this information in-place
            if (typeof index == "number") {
                managedChildrenArray.arr[index] = { ...managedChildParameters };
            }
            else {
                managedChildrenArray.rec[index] = { ...managedChildParameters };
            }
            return remoteULEChildChanged(index);
        }, [...Object.entries(info).flat(9)]); // 9 is infinity, right? Sure. Unrelated: TODO.
        // When we mount, notify the parent via queueMicrotask
        // (every child does this, so everything's coordinated to only queue a single microtask per tick)
        // Do the same on unmount.
        // Note: It's important that this comes AFTER remoteULEChildChanged
        // so that remoteULEChildMounted has access to all the info on mount.
        s(() => {
            remoteULEChildMounted?.(index, true);
            return () => remoteULEChildMounted?.(index, false);
        }, [index]);
        return {
            managedChildReturn: { getChildren }
        };
    }
    /**
     * An extension to useManagedChildren that handles the following common case:
     * 1. You have a bunch of children
     * 2. At any given time, only 1 of them is "selected", "activated", "focusable", whatever (or 0 of them, that's cool too, just 0 or 1 though).
     * 3. The parent has control over who is "selected" via a numerical index.
     *
     * This hook allows for much easier control over selection management.
     *
     * Note that because you may want to use multiple flags with the same children, this hook *does not* use `useManagedChildren`!
     * You need to pass it the existing children, and you must pass your invocation of `useManagedChildren` the returned `onChildrenMountChange` handler!
     *
     * Also because of that, the types of this function are rather odd.  It's better to start off using a hook that already uses a flag, such as `useRovingTabIndex`, as an example.
     *
     *
     * @param param0
     * @returns
     */
    function useChildrenFlag({ getChildren, initialIndex, closestFit, onIndexChange, getAt, setAt, isValid, }) {
        useEnsureStability("useChildrenFlag", onIndexChange, getAt, setAt, isValid);
        // TODO (maybe?): Even if there is an initial index, it's not set until mount. Is that fine?
        const [getCurrentIndex, setCurrentIndex] = usePassiveState(onIndexChange);
        const [getRequestedIndex, setRequestedIndex] = usePassiveState(null);
        // Shared between onChildrenMountChange and changeIndex, not public
        // Only called when `closestFit` is false, naturally.
        const getClosestFit = T$1((requestedIndex) => {
            const children = getChildren();
            let closestDistance = Infinity;
            let closestIndex = null;
            children.forEach(child => {
                if (child != null && isValid(child)) {
                    const newDistance = Math.abs(child.index - requestedIndex);
                    if (newDistance < closestDistance || (newDistance == closestDistance && child.index < requestedIndex)) {
                        closestDistance = newDistance;
                        closestIndex = child.index;
                    }
                }
            });
            return closestIndex;
        }, [ /* Must remain stable! */]);
        // Any time a child mounts/unmounts, we need to double-check to see if that affects 
        // the "currently selected" (or whatever) index.  The two cases we're looking for:
        // 1. The currently selected child unmounted
        // 2. A child mounted, and it mounts with the index we're looking for
        const reevaluateClosestFit = useStableCallback(() => {
            const children = getChildren();
            const requestedIndex = getRequestedIndex();
            const currentIndex = getCurrentIndex();
            const currentChild = currentIndex == null ? null : children.getAt(currentIndex);
            if (requestedIndex != null && closestFit && (requestedIndex != currentIndex || currentChild == null || !isValid(currentChild))) {
                const closestFitIndex = getClosestFit(requestedIndex);
                setCurrentIndex(closestFitIndex, undefined);
                if (currentChild)
                    setAt(currentChild, false, closestFitIndex, currentIndex);
                if (closestFitIndex != null) {
                    const closestFitChild = children.getAt(closestFitIndex);
                    console.assert(closestFitChild != null, "Internal logic???");
                    setAt(closestFitChild, true, closestFitIndex, currentIndex);
                }
            }
        });
        const changeIndex = T$1((arg, reason) => {
            const children = getChildren();
            const requestedIndex = (arg instanceof Function ? arg(getRequestedIndex()) : arg);
            //if (requestedIndex == null && getFitNullToZero())
            //    requestedIndex = 0;
            setRequestedIndex(requestedIndex, reason);
            const currentIndex = getCurrentIndex();
            if (currentIndex == requestedIndex)
                return requestedIndex;
            let newMatchingChild = (requestedIndex == null ? null : children.getAt(requestedIndex));
            const oldMatchingChild = (currentIndex == null ? null : children.getAt(currentIndex));
            if (requestedIndex == null) {
                // Easy case
                setCurrentIndex(null, reason);
                if (oldMatchingChild)
                    setAt(oldMatchingChild, false, requestedIndex, currentIndex);
                return null;
            }
            else {
                const childIsValid = (newMatchingChild && isValid(newMatchingChild));
                if (childIsValid || !closestFit) {
                    setCurrentIndex(requestedIndex, reason);
                    if (oldMatchingChild)
                        setAt(oldMatchingChild, false, requestedIndex, currentIndex);
                    if (newMatchingChild)
                        setAt(newMatchingChild, true, requestedIndex, currentIndex);
                    return requestedIndex;
                }
                else {
                    const closestFitIndex = getClosestFit(requestedIndex);
                    setCurrentIndex(closestFitIndex, reason);
                    if (closestFitIndex != null) {
                        newMatchingChild = children.getAt(closestFitIndex);
                        console.assert(newMatchingChild != null, "Internal logic???");
                        if (oldMatchingChild)
                            setAt(oldMatchingChild, false, closestFitIndex, currentIndex);
                        setAt(newMatchingChild, true, closestFitIndex, currentIndex);
                        return closestFitIndex;
                    }
                    else {
                        if (oldMatchingChild)
                            setAt(oldMatchingChild, false, closestFitIndex, currentIndex);
                        return null;
                    }
                }
            }
        }, []);
        // Run once, on mount
        s(() => {
            changeIndex(initialIndex ?? null, undefined);
        }, []);
        return { changeIndex, reevaluateClosestFit, getCurrentIndex };
    }

    const MagicWindowKey = ("__preact-prop-helpers-escape-key-dismiss__");
    function getElementDepth(element) {
        let depth = 0;
        let parent = element.parentElement;
        while (parent) {
            depth += 1;
            parent = parent.parentElement;
        }
        return depth;
    }
    /**
     * Adds event handlers for a modal-like soft-dismiss interaction.
     *
     * That is, any clicks or taps outside of the given component,
     * or any time the Escape key is pressed within the component,
     * (with various browser oddities regarding clicks on blank or inert areas handled)
     * the component will request to close itself.
     *
     * Of course, if you don't do anything in the `onClose` function,
     * it won't be a soft dismiss anymore.
     *
     * Handles events for pressing the `Escape` key to close the any currently open dialogs, tooltips, menus, popups, etc.
     *
     * One press of the `Escape` key is guaranteed to only call `onClose` for *only one* component, and it is called on the component deepest in the DOM tree, differentiated by passing context information between parent and child.
     *
     * @param param0
     * @returns
     */
    function useEscapeDismiss({ escapeDismissParameters: { onClose, open, getWindow: unstableGetWindow, parentDepth, ...void1 }, refElementPopupReturn: { getElement, ...void2 } }) {
        const stableOnClose = useStableCallback(onClose);
        const getWindow = useStableCallback(unstableGetWindow);
        const getDepth = useStableGetter(parentDepth + 1);
        // When this component opens, add an event listener that finds the deepest open soft dismiss element to actually dismiss.
        // Only opened components will add event handlers, and will remove them once closed.
        // The reason this is so complicated is because:
        // 1. We must only close one soft dismiss component at a time.  If there's a tooltip in a popup, the tooltip must be dismissed.
        // 2. `keydown` events don't just work on arbitrary elements, for our purposes they must be from the `window`. So we can't rely on normal capturing or bubbling behavior on the element itself.
        // 3. Event handlers added to the `window` via `addEventHandler` are called in the order of registration, which is completely at odds with #1.
        //
        // So all soft dismiss components listen for a keydown of Escape, 
        // then the first one to do so will wait for a microtask, 
        // then find the deepest element in the document tree to dismiss of all of those components currently open.
        h(() => {
            const window = getWindow();
            window[MagicWindowKey] ??= { microtaskQueued: false, elementQueue: new Map() };
            const info = window[MagicWindowKey];
            if (open) {
                window.addEventListener("keydown", handler, { capture: true });
                return () => {
                    const element = getElement();
                    if (element && info.elementQueue)
                        info.elementQueue.delete(element);
                    window.removeEventListener("keydown", handler, { capture: true });
                };
            }
            function handler(e) {
                if (e.key == "Escape") {
                    // We don't know which of the currently active soft dismisses will actually do something,
                    // but ONE of them definitely will,
                    // so we stop propagation to child nodes, but not to everyone on the window (stopImmediatePropagation).
                    e.preventDefault();
                    e.stopPropagation();
                    // This is what at least one of the elements will call
                    const onClose2 = () => { stableOnClose("escape"); };
                    const element = getElement();
                    if (element) {
                        const treeDepth = getElementDepth(element);
                        const depth = getDepth();
                        info.elementQueue.set(element, { depth, onClose: onClose2, treeDepth });
                    }
                    if (!info.microtaskQueued) {
                        info.microtaskQueued = true;
                        setTimeout(() => {
                            const { elementQueue } = info;
                            info.microtaskQueued = false;
                            info.elementQueue = new Map();
                            let deepestDepth = -Infinity;
                            let deepestTreeDepth = -Infinity;
                            let deepestOnClose = null;
                            for (const [element, { depth, onClose, treeDepth }] of elementQueue) {
                                let tieBroken = false;
                                if (depth == deepestDepth) {
                                    if (treeDepth > deepestTreeDepth) {
                                        tieBroken = true;
                                    }
                                }
                                if (depth > deepestDepth || (depth == deepestDepth && tieBroken)) {
                                    deepestDepth = depth;
                                    deepestTreeDepth = treeDepth;
                                    deepestOnClose = onClose;
                                }
                            }
                            deepestOnClose?.();
                        }, 0);
                    }
                }
            }
        }, [open]);
    }
    /**
     * Handles events for dismiss events for things like popup menus or transient dialogs -- things where moving focus to a new area of the page means this component should close itself.
     *
     * @param param0
     * @returns
     */
    function useLostFocusDismiss({ refElementPopupReturn: { getElement: getPopupElement, ...void3 }, refElementSourceReturn, lostFocusDismiss: { open, onClose }, ...void1 }) {
        const { getElement: getSourceElement, ...void2 } = (refElementSourceReturn ?? {});
        const stableOnClose = useStableCallback(onClose);
        const getOpen = useStableGetter(open);
        const onLastActiveElementChange = T$1((newElement, _prevElement, _e) => {
            const open = getOpen();
            const sourceElement = getSourceElement?.();
            const popupElement = getPopupElement();
            if (!(sourceElement?.contains(newElement) || popupElement?.contains(newElement))) {
                if (open)
                    stableOnClose();
            }
        }, [getSourceElement]);
        return { activeElementParameters: { onLastActiveElementChange } };
    }
    /**
     * Handles events for a backdrop on a modal dialog -- the kind where the user expects the modal to close when they click/tap outside of it.
     *
     * @param param0
     */
    function useBackdropDismiss({ backdropDismissParameters: { open, onClose: onCloseUnstable, ...void1 }, refElementPopupReturn: { getElement, ...void3 }, ...void2 }) {
        const getOpen = useStableGetter(open);
        const onClose = useStableCallback(onCloseUnstable);
        const onBackdropClick = T$1(function onBackdropClick(e) {
            if (!getOpen())
                return;
            // Basically, "was this event fired on an element not contained by the modal?"
            // There are multiple ways browser react to "interacting with nothing", and this takes care of everything.
            let element = getElement();
            let foundInsideClick = false;
            if (e.target && element && element.contains(e.target)) {
                foundInsideClick = true;
            }
            if (!foundInsideClick) {
                onClose();
            }
        }, []);
        useGlobalHandler(window, "mousedown", open ? onBackdropClick : null, { capture: true });
        useGlobalHandler(window, "touchstart", open ? onBackdropClick : null, { capture: true });
    }
    /**
     * Combines all the methods of dismissing a modal-ish or popup-ish component into one combined hook.
     *
     * This is similar to the "complete" series of list/grid navigation, in that it's the "outermost" hook of its type.
     */
    function useDismiss({ dismissParameters: { open: globalOpen, onClose: globalOnClose, closeOnBackdrop, closeOnEscape, closeOnLostFocus }, escapeDismissParameters: { getWindow, parentDepth } }) {
        const { refElementReturn: refElementSourceReturn } = useRefElement({ refElementParameters: {} });
        const { refElementReturn: refElementPopupReturn } = useRefElement({ refElementParameters: {} });
        const onCloseBackdrop = T$1(() => { return globalOnClose?.("backdrop"); }, [globalOnClose]);
        const onCloseEscape = T$1(() => { return globalOnClose?.("escape"); }, [globalOnClose]);
        const onCloseFocus = T$1(() => { return globalOnClose?.("lost-focus"); }, [globalOnClose]);
        useBackdropDismiss({ backdropDismissParameters: { onClose: onCloseBackdrop, open: (closeOnBackdrop && globalOpen) }, refElementPopupReturn });
        useEscapeDismiss({ escapeDismissParameters: { getWindow, onClose: onCloseEscape, open: (closeOnEscape && globalOpen), parentDepth }, refElementPopupReturn });
        const { activeElementParameters } = useLostFocusDismiss({ lostFocusDismiss: { onClose: onCloseFocus, open: (closeOnLostFocus && globalOpen) }, refElementPopupReturn, refElementSourceReturn });
        const getDocument = T$1(() => {
            return getWindow().document;
        }, [getWindow]);
        useActiveElement({ activeElementParameters: { ...activeElementParameters, getWindow, getDocument } });
        return {
            refElementSourceReturn,
            refElementPopupReturn
        };
    }

    /*!
    * tabbable 6.0.1
    * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
    */
    var candidateSelectors = ['input', 'select', 'textarea', 'a[href]', 'button', '[tabindex]:not(slot)', 'audio[controls]', 'video[controls]', '[contenteditable]:not([contenteditable="false"])', 'details>summary:first-of-type', 'details'];
    var NoElement = typeof Element === 'undefined';
    var matches = NoElement ? function () {} : Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;
    var getRootNode = !NoElement && Element.prototype.getRootNode ? function (element) {
      return element.getRootNode();
    } : function (element) {
      return element.ownerDocument;
    };
    var isInput = function isInput(node) {
      return node.tagName === 'INPUT';
    };
    var isHiddenInput = function isHiddenInput(node) {
      return isInput(node) && node.type === 'hidden';
    };
    var isDetailsWithSummary = function isDetailsWithSummary(node) {
      var r = node.tagName === 'DETAILS' && Array.prototype.slice.apply(node.children).some(function (child) {
        return child.tagName === 'SUMMARY';
      });
      return r;
    };

    // determines if a node is ultimately attached to the window's document
    var isNodeAttached = function isNodeAttached(node) {
      var _nodeRootHost;
      // The root node is the shadow root if the node is in a shadow DOM; some document otherwise
      //  (but NOT _the_ document; see second 'If' comment below for more).
      // If rootNode is shadow root, it'll have a host, which is the element to which the shadow
      //  is attached, and the one we need to check if it's in the document or not (because the
      //  shadow, and all nodes it contains, is never considered in the document since shadows
      //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,
      //  is hidden, or is not in the document itself but is detached, it will affect the shadow's
      //  visibility, including all the nodes it contains). The host could be any normal node,
      //  or a custom element (i.e. web component). Either way, that's the one that is considered
      //  part of the document, not the shadow root, nor any of its children (i.e. the node being
      //  tested).
      // To further complicate things, we have to look all the way up until we find a shadow HOST
      //  that is attached (or find none) because the node might be in nested shadows...
      // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the
      //  document (per the docs) and while it's a Document-type object, that document does not
      //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer
      //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,
      //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when
      //  node is actually detached.
      var nodeRootHost = getRootNode(node).host;
      var attached = !!((_nodeRootHost = nodeRootHost) !== null && _nodeRootHost !== void 0 && _nodeRootHost.ownerDocument.contains(nodeRootHost) || node.ownerDocument.contains(node));
      while (!attached && nodeRootHost) {
        var _nodeRootHost2;
        // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,
        //  which means we need to get the host's host and check if that parent host is contained
        //  in (i.e. attached to) the document
        nodeRootHost = getRootNode(nodeRootHost).host;
        attached = !!((_nodeRootHost2 = nodeRootHost) !== null && _nodeRootHost2 !== void 0 && _nodeRootHost2.ownerDocument.contains(nodeRootHost));
      }
      return attached;
    };
    var isZeroArea = function isZeroArea(node) {
      var _node$getBoundingClie = node.getBoundingClientRect(),
        width = _node$getBoundingClie.width,
        height = _node$getBoundingClie.height;
      return width === 0 && height === 0;
    };
    var isHidden = function isHidden(node, _ref) {
      var displayCheck = _ref.displayCheck,
        getShadowRoot = _ref.getShadowRoot;
      // NOTE: visibility will be `undefined` if node is detached from the document
      //  (see notes about this further down), which means we will consider it visible
      //  (this is legacy behavior from a very long way back)
      // NOTE: we check this regardless of `displayCheck="none"` because this is a
      //  _visibility_ check, not a _display_ check
      if (getComputedStyle(node).visibility === 'hidden') {
        return true;
      }
      var isDirectSummary = matches.call(node, 'details>summary:first-of-type');
      var nodeUnderDetails = isDirectSummary ? node.parentElement : node;
      if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {
        return true;
      }
      if (!displayCheck || displayCheck === 'full' || displayCheck === 'legacy-full') {
        if (typeof getShadowRoot === 'function') {
          // figure out if we should consider the node to be in an undisclosed shadow and use the
          //  'non-zero-area' fallback
          var originalNode = node;
          while (node) {
            var parentElement = node.parentElement;
            var rootNode = getRootNode(node);
            if (parentElement && !parentElement.shadowRoot && getShadowRoot(parentElement) === true // check if there's an undisclosed shadow
            ) {
              // node has an undisclosed shadow which means we can only treat it as a black box, so we
              //  fall back to a non-zero-area test
              return isZeroArea(node);
            } else if (node.assignedSlot) {
              // iterate up slot
              node = node.assignedSlot;
            } else if (!parentElement && rootNode !== node.ownerDocument) {
              // cross shadow boundary
              node = rootNode.host;
            } else {
              // iterate up normal dom
              node = parentElement;
            }
          }
          node = originalNode;
        }
        // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support
        //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or
        //  it might be a falsy value, which means shadow DOM support is disabled

        // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)
        //  now we can just test to see if it would normally be visible or not, provided it's
        //  attached to the main document.
        // NOTE: We must consider case where node is inside a shadow DOM and given directly to
        //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.

        if (isNodeAttached(node)) {
          // this works wherever the node is: if there's at least one client rect, it's
          //  somehow displayed; it also covers the CSS 'display: contents' case where the
          //  node itself is hidden in place of its contents; and there's no need to search
          //  up the hierarchy either
          return !node.getClientRects().length;
        }

        // Else, the node isn't attached to the document, which means the `getClientRects()`
        //  API will __always__ return zero rects (this can happen, for example, if React
        //  is used to render nodes onto a detached tree, as confirmed in this thread:
        //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)
        //
        // It also means that even window.getComputedStyle(node).display will return `undefined`
        //  because styles are only computed for nodes that are in the document.
        //
        // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable
        //  somehow. Though it was never stated officially, anyone who has ever used tabbable
        //  APIs on nodes in detached containers has actually implicitly used tabbable in what
        //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck="none"` mode -- essentially
        //  considering __everything__ to be visible because of the innability to determine styles.
        //
        // v6.0.0: As of this major release, the default 'full' option __no longer treats detached
        //  nodes as visible with the 'none' fallback.__
        if (displayCheck !== 'legacy-full') {
          return true; // hidden
        }
        // else, fallback to 'none' mode and consider the node visible
      } else if (displayCheck === 'non-zero-area') {
        // NOTE: Even though this tests that the node's client rect is non-zero to determine
        //  whether it's displayed, and that a detached node will __always__ have a zero-area
        //  client rect, we don't special-case for whether the node is attached or not. In
        //  this mode, we do want to consider nodes that have a zero area to be hidden at all
        //  times, and that includes attached or not.
        return isZeroArea(node);
      }

      // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume
      //  it's visible
      return false;
    };

    // form fields (nested) inside a disabled fieldset are not focusable/tabbable
    //  unless they are in the _first_ <legend> element of the top-most disabled
    //  fieldset
    var isDisabledFromFieldset = function isDisabledFromFieldset(node) {
      if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {
        var parentNode = node.parentElement;
        // check if `node` is contained in a disabled <fieldset>
        while (parentNode) {
          if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {
            // look for the first <legend> among the children of the disabled <fieldset>
            for (var i = 0; i < parentNode.children.length; i++) {
              var child = parentNode.children.item(i);
              // when the first <legend> (in document order) is found
              if (child.tagName === 'LEGEND') {
                // if its parent <fieldset> is not nested in another disabled <fieldset>,
                // return whether `node` is a descendant of its first <legend>
                return matches.call(parentNode, 'fieldset[disabled] *') ? true : !child.contains(node);
              }
            }
            // the disabled <fieldset> containing `node` has no <legend>
            return true;
          }
          parentNode = parentNode.parentElement;
        }
      }

      // else, node's tabbable/focusable state should not be affected by a fieldset's
      //  enabled/disabled state
      return false;
    };
    var isNodeMatchingSelectorFocusable = function isNodeMatchingSelectorFocusable(options, node) {
      if (node.disabled || isHiddenInput(node) || isHidden(node, options) ||
      // For a details element with a summary, the summary element gets the focus
      isDetailsWithSummary(node) || isDisabledFromFieldset(node)) {
        return false;
      }
      return true;
    };
    var focusableCandidateSelector = /* #__PURE__ */candidateSelectors.concat('iframe').join(',');
    var isFocusable = function isFocusable(node, options) {
      options = options || {};
      if (!node) {
        throw new Error('No node provided');
      }
      if (matches.call(node, focusableCandidateSelector) === false) {
        return false;
      }
      return isNodeMatchingSelectorFocusable(options, node);
    };

    /**
     * @license
     * Copyright 2016 Google Inc. All rights reserved.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    (() => {
        var _a, _b, _c;
        /* Symbols for private properties */
        const _blockingElements = Symbol();
        const _alreadyInertElements = Symbol();
        const _topElParents = Symbol();
        const _siblingsToRestore = Symbol();
        const _parentMO = Symbol();
        /* Symbols for private static methods */
        const _topChanged = Symbol();
        const _swapInertedSibling = Symbol();
        const _inertSiblings = Symbol();
        const _restoreInertedSiblings = Symbol();
        const _getParents = Symbol();
        const _getDistributedChildren = Symbol();
        const _isInertable = Symbol();
        const _handleMutations = Symbol();
        class BlockingElementsImpl {
            constructor() {
                /**
                 * The blocking elements.
                 */
                this[_a] = [];
                /**
                 * Used to keep track of the parents of the top element, from the element
                 * itself up to body. When top changes, the old top might have been removed
                 * from the document, so we need to memoize the inerted parents' siblings
                 * in order to restore their inerteness when top changes.
                 */
                this[_b] = [];
                /**
                 * Elements that are already inert before the first blocking element is
                 * pushed.
                 */
                this[_c] = new Set();
            }
            destructor() {
                // Restore original inertness.
                this[_restoreInertedSiblings](this[_topElParents]);
                // Note we don't want to make these properties nullable on the class,
                // since then we'd need non-null casts in many places. Calling a method on
                // a BlockingElements instance after calling destructor will result in an
                // exception.
                const nullable = this;
                nullable[_blockingElements] = null;
                nullable[_topElParents] = null;
                nullable[_alreadyInertElements] = null;
            }
            get top() {
                const elems = this[_blockingElements];
                return elems[elems.length - 1] || null;
            }
            push(element) {
                if (!element || element === this.top) {
                    return;
                }
                // Remove it from the stack, we'll bring it to the top.
                this.remove(element);
                this[_topChanged](element);
                this[_blockingElements].push(element);
            }
            remove(element) {
                const i = this[_blockingElements].indexOf(element);
                if (i === -1) {
                    return false;
                }
                this[_blockingElements].splice(i, 1);
                // Top changed only if the removed element was the top element.
                if (i === this[_blockingElements].length) {
                    this[_topChanged](this.top);
                }
                return true;
            }
            pop() {
                const top = this.top;
                top && this.remove(top);
                return top;
            }
            has(element) {
                return this[_blockingElements].indexOf(element) !== -1;
            }
            /**
             * Sets `inert` to all document elements except the new top element, its
             * parents, and its distributed content.
             */
            [(_a = _blockingElements, _b = _topElParents, _c = _alreadyInertElements, _topChanged)](newTop) {
                const toKeepInert = this[_alreadyInertElements];
                const oldParents = this[_topElParents];
                // No new top, reset old top if any.
                if (!newTop) {
                    this[_restoreInertedSiblings](oldParents);
                    toKeepInert.clear();
                    this[_topElParents] = [];
                    return;
                }
                const newParents = this[_getParents](newTop);
                // New top is not contained in the main document!
                if (newParents[newParents.length - 1].parentNode !== document.body) {
                    throw Error('Non-connected element cannot be a blocking element');
                }
                // Cast here because we know we'll call _inertSiblings on newParents
                // below.
                this[_topElParents] = newParents;
                const toSkip = this[_getDistributedChildren](newTop);
                // No previous top element.
                if (!oldParents.length) {
                    this[_inertSiblings](newParents, toSkip, toKeepInert);
                    return;
                }
                let i = oldParents.length - 1;
                let j = newParents.length - 1;
                // Find common parent. Index 0 is the element itself (so stop before it).
                while (i > 0 && j > 0 && oldParents[i] === newParents[j]) {
                    i--;
                    j--;
                }
                // If up the parents tree there are 2 elements that are siblings, swap
                // the inerted sibling.
                if (oldParents[i] !== newParents[j]) {
                    this[_swapInertedSibling](oldParents[i], newParents[j]);
                }
                // Restore old parents siblings inertness.
                i > 0 && this[_restoreInertedSiblings](oldParents.slice(0, i));
                // Make new parents siblings inert.
                j > 0 && this[_inertSiblings](newParents.slice(0, j), toSkip, null);
            }
            /**
             * Swaps inertness between two sibling elements.
             * Sets the property `inert` over the attribute since the inert spec
             * doesn't specify if it should be reflected.
             * https://html.spec.whatwg.org/multipage/interaction.html#inert
             */
            [_swapInertedSibling](oldInert, newInert) {
                const siblingsToRestore = oldInert[_siblingsToRestore];
                // oldInert is not contained in siblings to restore, so we have to check
                // if it's inertable and if already inert.
                if (this[_isInertable](oldInert) && !oldInert.inert) {
                    oldInert.inert = true;
                    siblingsToRestore.add(oldInert);
                }
                // If newInert was already between the siblings to restore, it means it is
                // inertable and must be restored.
                if (siblingsToRestore.has(newInert)) {
                    newInert.inert = false;
                    siblingsToRestore.delete(newInert);
                }
                newInert[_parentMO] = oldInert[_parentMO];
                newInert[_siblingsToRestore] = siblingsToRestore;
                oldInert[_parentMO] = undefined;
                oldInert[_siblingsToRestore] = undefined;
            }
            /**
             * Restores original inertness to the siblings of the elements.
             * Sets the property `inert` over the attribute since the inert spec
             * doesn't specify if it should be reflected.
             * https://html.spec.whatwg.org/multipage/interaction.html#inert
             */
            [_restoreInertedSiblings](elements) {
                for (const element of elements) {
                    const mo = element[_parentMO];
                    mo.disconnect();
                    element[_parentMO] = undefined;
                    const siblings = element[_siblingsToRestore];
                    for (const sibling of siblings) {
                        sibling.inert = false;
                    }
                    element[_siblingsToRestore] = undefined;
                }
            }
            /**
             * Inerts the siblings of the elements except the elements to skip. Stores
             * the inerted siblings into the element's symbol `_siblingsToRestore`.
             * Pass `toKeepInert` to collect the already inert elements.
             * Sets the property `inert` over the attribute since the inert spec
             * doesn't specify if it should be reflected.
             * https://html.spec.whatwg.org/multipage/interaction.html#inert
             */
            [_inertSiblings](elements, toSkip, toKeepInert) {
                for (const element of elements) {
                    // Assume element is not a Document, so it must have a parentNode.
                    const parent = element.parentNode;
                    const children = parent.children;
                    const inertedSiblings = new Set();
                    for (let j = 0; j < children.length; j++) {
                        const sibling = children[j];
                        // Skip the input element, if not inertable or to be skipped.
                        if (sibling === element || !this[_isInertable](sibling) ||
                            (toSkip && toSkip.has(sibling))) {
                            continue;
                        }
                        // Should be collected since already inerted.
                        if (toKeepInert && sibling.inert) {
                            toKeepInert.add(sibling);
                        }
                        else {
                            sibling.inert = true;
                            inertedSiblings.add(sibling);
                        }
                    }
                    // Store the siblings that were inerted.
                    element[_siblingsToRestore] = inertedSiblings;
                    // Observe only immediate children mutations on the parent.
                    const mo = new MutationObserver(this[_handleMutations].bind(this));
                    element[_parentMO] = mo;
                    let parentToObserve = parent;
                    // If we're using the ShadyDOM polyfill, then our parent could be a
                    // shady root, which is an object that acts like a ShadowRoot, but isn't
                    // actually a node in the real DOM. Observe the real DOM parent instead.
                    const maybeShadyRoot = parentToObserve;
                    if (maybeShadyRoot.__shady && maybeShadyRoot.host) {
                        parentToObserve = maybeShadyRoot.host;
                    }
                    mo.observe(parentToObserve, {
                        childList: true,
                    });
                }
            }
            /**
             * Handles newly added/removed nodes by toggling their inertness.
             * It also checks if the current top Blocking Element has been removed,
             * notifying and removing it.
             */
            [_handleMutations](mutations) {
                const parents = this[_topElParents];
                const toKeepInert = this[_alreadyInertElements];
                for (const mutation of mutations) {
                    // If the target is a shadowRoot, get its host as we skip shadowRoots when
                    // computing _topElParents.
                    const target = mutation.target.host || mutation.target;
                    const idx = target === document.body ?
                        parents.length :
                        parents.indexOf(target);
                    const inertedChild = parents[idx - 1];
                    const inertedSiblings = inertedChild[_siblingsToRestore];
                    // To restore.
                    for (let i = 0; i < mutation.removedNodes.length; i++) {
                        const sibling = mutation.removedNodes[i];
                        if (sibling === inertedChild) {
                            console.info('Detected removal of the top Blocking Element.');
                            this.pop();
                            return;
                        }
                        if (inertedSiblings.has(sibling)) {
                            sibling.inert = false;
                            inertedSiblings.delete(sibling);
                        }
                    }
                    // To inert.
                    for (let i = 0; i < mutation.addedNodes.length; i++) {
                        const sibling = mutation.addedNodes[i];
                        if (!this[_isInertable](sibling)) {
                            continue;
                        }
                        if (toKeepInert && sibling.inert) {
                            toKeepInert.add(sibling);
                        }
                        else {
                            sibling.inert = true;
                            inertedSiblings.add(sibling);
                        }
                    }
                }
            }
            /**
             * Returns if the element is inertable.
             */
            [_isInertable](element) {
                return false === /^(style|template|script)$/.test(element.localName);
            }
            /**
             * Returns the list of newParents of an element, starting from element
             * (included) up to `document.body` (excluded).
             */
            [_getParents](element) {
                const parents = [];
                let current = element;
                // Stop to body.
                while (current && current !== document.body) {
                    // Skip shadow roots.
                    if (current.nodeType === Node.ELEMENT_NODE) {
                        parents.push(current);
                    }
                    // ShadowDom v1
                    if (current.assignedSlot) {
                        // Collect slots from deepest slot to top.
                        while (current = current.assignedSlot) {
                            parents.push(current);
                        }
                        // Continue the search on the top slot.
                        current = parents.pop();
                        continue;
                    }
                    current = current.parentNode ||
                        current.host;
                }
                return parents;
            }
            /**
             * Returns the distributed children of the element's shadow root.
             * Returns null if the element doesn't have a shadow root.
             */
            [_getDistributedChildren](element) {
                const shadowRoot = element.shadowRoot;
                if (!shadowRoot) {
                    return null;
                }
                const result = new Set();
                let i;
                let j;
                let nodes;
                const slots = shadowRoot.querySelectorAll('slot');
                if (slots.length && slots[0].assignedNodes) {
                    for (i = 0; i < slots.length; i++) {
                        nodes = slots[i].assignedNodes({
                            flatten: true,
                        });
                        for (j = 0; j < nodes.length; j++) {
                            if (nodes[j].nodeType === Node.ELEMENT_NODE) {
                                result.add(nodes[j]);
                            }
                        }
                    }
                    // No need to search for <content>.
                }
                return result;
            }
        }
        document.$blockingElements =
            new BlockingElementsImpl();
    })();

    var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

    function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

    /**
     * This work is licensed under the W3C Software and Document License
     * (http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document).
     */

    (function () {
      // Return early if we're not running inside of the browser.
      if (typeof window === 'undefined') {
        return;
      }

      // Convenience function for converting NodeLists.
      /** @type {typeof Array.prototype.slice} */
      var slice = Array.prototype.slice;

      /**
       * IE has a non-standard name for "matches".
       * @type {typeof Element.prototype.matches}
       */
      var matches = Element.prototype.matches || Element.prototype.msMatchesSelector;

      /** @type {string} */
      var _focusableElementsString = ['a[href]', 'area[href]', 'input:not([disabled])', 'select:not([disabled])', 'textarea:not([disabled])', 'button:not([disabled])', 'details', 'summary', 'iframe', 'object', 'embed', '[contenteditable]'].join(',');

      /**
       * `InertRoot` manages a single inert subtree, i.e. a DOM subtree whose root element has an `inert`
       * attribute.
       *
       * Its main functions are:
       *
       * - to create and maintain a set of managed `InertNode`s, including when mutations occur in the
       *   subtree. The `makeSubtreeUnfocusable()` method handles collecting `InertNode`s via registering
       *   each focusable node in the subtree with the singleton `InertManager` which manages all known
       *   focusable nodes within inert subtrees. `InertManager` ensures that a single `InertNode`
       *   instance exists for each focusable node which has at least one inert root as an ancestor.
       *
       * - to notify all managed `InertNode`s when this subtree stops being inert (i.e. when the `inert`
       *   attribute is removed from the root node). This is handled in the destructor, which calls the
       *   `deregister` method on `InertManager` for each managed inert node.
       */

      var InertRoot = function () {
        /**
         * @param {!HTMLElement} rootElement The HTMLElement at the root of the inert subtree.
         * @param {!InertManager} inertManager The global singleton InertManager object.
         */
        function InertRoot(rootElement, inertManager) {
          _classCallCheck(this, InertRoot);

          /** @type {!InertManager} */
          this._inertManager = inertManager;

          /** @type {!HTMLElement} */
          this._rootElement = rootElement;

          /**
           * @type {!Set<!InertNode>}
           * All managed focusable nodes in this InertRoot's subtree.
           */
          this._managedNodes = new Set();

          // Make the subtree hidden from assistive technology
          if (this._rootElement.hasAttribute('aria-hidden')) {
            /** @type {?string} */
            this._savedAriaHidden = this._rootElement.getAttribute('aria-hidden');
          } else {
            this._savedAriaHidden = null;
          }
          this._rootElement.setAttribute('aria-hidden', 'true');

          // Make all focusable elements in the subtree unfocusable and add them to _managedNodes
          this._makeSubtreeUnfocusable(this._rootElement);

          // Watch for:
          // - any additions in the subtree: make them unfocusable too
          // - any removals from the subtree: remove them from this inert root's managed nodes
          // - attribute changes: if `tabindex` is added, or removed from an intrinsically focusable
          //   element, make that node a managed node.
          this._observer = new MutationObserver(this._onMutation.bind(this));
          this._observer.observe(this._rootElement, { attributes: true, childList: true, subtree: true });
        }

        /**
         * Call this whenever this object is about to become obsolete.  This unwinds all of the state
         * stored in this object and updates the state of all of the managed nodes.
         */


        _createClass(InertRoot, [{
          key: 'destructor',
          value: function destructor() {
            this._observer.disconnect();

            if (this._rootElement) {
              if (this._savedAriaHidden !== null) {
                this._rootElement.setAttribute('aria-hidden', this._savedAriaHidden);
              } else {
                this._rootElement.removeAttribute('aria-hidden');
              }
            }

            this._managedNodes.forEach(function (inertNode) {
              this._unmanageNode(inertNode.node);
            }, this);

            // Note we cast the nulls to the ANY type here because:
            // 1) We want the class properties to be declared as non-null, or else we
            //    need even more casts throughout this code. All bets are off if an
            //    instance has been destroyed and a method is called.
            // 2) We don't want to cast "this", because we want type-aware optimizations
            //    to know which properties we're setting.
            this._observer = /** @type {?} */null;
            this._rootElement = /** @type {?} */null;
            this._managedNodes = /** @type {?} */null;
            this._inertManager = /** @type {?} */null;
          }

          /**
           * @return {!Set<!InertNode>} A copy of this InertRoot's managed nodes set.
           */

        }, {
          key: '_makeSubtreeUnfocusable',


          /**
           * @param {!Node} startNode
           */
          value: function _makeSubtreeUnfocusable(startNode) {
            var _this2 = this;

            composedTreeWalk(startNode, function (node) {
              return _this2._visitNode(node);
            });

            var activeElement = document.activeElement;

            if (!document.body.contains(startNode)) {
              // startNode may be in shadow DOM, so find its nearest shadowRoot to get the activeElement.
              var node = startNode;
              /** @type {!ShadowRoot|undefined} */
              var root = undefined;
              while (node) {
                if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {
                  root = /** @type {!ShadowRoot} */node;
                  break;
                }
                node = node.parentNode;
              }
              if (root) {
                activeElement = root.activeElement;
              }
            }
            if (startNode.contains(activeElement)) {
              activeElement.blur();
              // In IE11, if an element is already focused, and then set to tabindex=-1
              // calling blur() will not actually move the focus.
              // To work around this we call focus() on the body instead.
              if (activeElement === document.activeElement) {
                document.body.focus();
              }
            }
          }

          /**
           * @param {!Node} node
           */

        }, {
          key: '_visitNode',
          value: function _visitNode(node) {
            if (node.nodeType !== Node.ELEMENT_NODE) {
              return;
            }
            var element = /** @type {!HTMLElement} */node;

            // If a descendant inert root becomes un-inert, its descendants will still be inert because of
            // this inert root, so all of its managed nodes need to be adopted by this InertRoot.
            if (element !== this._rootElement && element.hasAttribute('inert')) {
              this._adoptInertRoot(element);
            }

            if (matches.call(element, _focusableElementsString) || element.hasAttribute('tabindex')) {
              this._manageNode(element);
            }
          }

          /**
           * Register the given node with this InertRoot and with InertManager.
           * @param {!Node} node
           */

        }, {
          key: '_manageNode',
          value: function _manageNode(node) {
            var inertNode = this._inertManager.register(node, this);
            this._managedNodes.add(inertNode);
          }

          /**
           * Unregister the given node with this InertRoot and with InertManager.
           * @param {!Node} node
           */

        }, {
          key: '_unmanageNode',
          value: function _unmanageNode(node) {
            var inertNode = this._inertManager.deregister(node, this);
            if (inertNode) {
              this._managedNodes['delete'](inertNode);
            }
          }

          /**
           * Unregister the entire subtree starting at `startNode`.
           * @param {!Node} startNode
           */

        }, {
          key: '_unmanageSubtree',
          value: function _unmanageSubtree(startNode) {
            var _this3 = this;

            composedTreeWalk(startNode, function (node) {
              return _this3._unmanageNode(node);
            });
          }

          /**
           * If a descendant node is found with an `inert` attribute, adopt its managed nodes.
           * @param {!HTMLElement} node
           */

        }, {
          key: '_adoptInertRoot',
          value: function _adoptInertRoot(node) {
            var inertSubroot = this._inertManager.getInertRoot(node);

            // During initialisation this inert root may not have been registered yet,
            // so register it now if need be.
            if (!inertSubroot) {
              this._inertManager.setInert(node, true);
              inertSubroot = this._inertManager.getInertRoot(node);
            }

            inertSubroot.managedNodes.forEach(function (savedInertNode) {
              this._manageNode(savedInertNode.node);
            }, this);
          }

          /**
           * Callback used when mutation observer detects subtree additions, removals, or attribute changes.
           * @param {!Array<!MutationRecord>} records
           * @param {!MutationObserver} self
           */

        }, {
          key: '_onMutation',
          value: function _onMutation(records, self) {
            records.forEach(function (record) {
              var target = /** @type {!HTMLElement} */record.target;
              if (record.type === 'childList') {
                // Manage added nodes
                slice.call(record.addedNodes).forEach(function (node) {
                  this._makeSubtreeUnfocusable(node);
                }, this);

                // Un-manage removed nodes
                slice.call(record.removedNodes).forEach(function (node) {
                  this._unmanageSubtree(node);
                }, this);
              } else if (record.type === 'attributes') {
                if (record.attributeName === 'tabindex') {
                  // Re-initialise inert node if tabindex changes
                  this._manageNode(target);
                } else if (target !== this._rootElement && record.attributeName === 'inert' && target.hasAttribute('inert')) {
                  // If a new inert root is added, adopt its managed nodes and make sure it knows about the
                  // already managed nodes from this inert subroot.
                  this._adoptInertRoot(target);
                  var inertSubroot = this._inertManager.getInertRoot(target);
                  this._managedNodes.forEach(function (managedNode) {
                    if (target.contains(managedNode.node)) {
                      inertSubroot._manageNode(managedNode.node);
                    }
                  });
                }
              }
            }, this);
          }
        }, {
          key: 'managedNodes',
          get: function get() {
            return new Set(this._managedNodes);
          }

          /** @return {boolean} */

        }, {
          key: 'hasSavedAriaHidden',
          get: function get() {
            return this._savedAriaHidden !== null;
          }

          /** @param {?string} ariaHidden */

        }, {
          key: 'savedAriaHidden',
          set: function set(ariaHidden) {
            this._savedAriaHidden = ariaHidden;
          }

          /** @return {?string} */
          ,
          get: function get() {
            return this._savedAriaHidden;
          }
        }]);

        return InertRoot;
      }();

      /**
       * `InertNode` initialises and manages a single inert node.
       * A node is inert if it is a descendant of one or more inert root elements.
       *
       * On construction, `InertNode` saves the existing `tabindex` value for the node, if any, and
       * either removes the `tabindex` attribute or sets it to `-1`, depending on whether the element
       * is intrinsically focusable or not.
       *
       * `InertNode` maintains a set of `InertRoot`s which are descendants of this `InertNode`. When an
       * `InertRoot` is destroyed, and calls `InertManager.deregister()`, the `InertManager` notifies the
       * `InertNode` via `removeInertRoot()`, which in turn destroys the `InertNode` if no `InertRoot`s
       * remain in the set. On destruction, `InertNode` reinstates the stored `tabindex` if one exists,
       * or removes the `tabindex` attribute if the element is intrinsically focusable.
       */


      var InertNode = function () {
        /**
         * @param {!Node} node A focusable element to be made inert.
         * @param {!InertRoot} inertRoot The inert root element associated with this inert node.
         */
        function InertNode(node, inertRoot) {
          _classCallCheck(this, InertNode);

          /** @type {!Node} */
          this._node = node;

          /** @type {boolean} */
          this._overrodeFocusMethod = false;

          /**
           * @type {!Set<!InertRoot>} The set of descendant inert roots.
           *    If and only if this set becomes empty, this node is no longer inert.
           */
          this._inertRoots = new Set([inertRoot]);

          /** @type {?number} */
          this._savedTabIndex = null;

          /** @type {boolean} */
          this._destroyed = false;

          // Save any prior tabindex info and make this node untabbable
          this.ensureUntabbable();
        }

        /**
         * Call this whenever this object is about to become obsolete.
         * This makes the managed node focusable again and deletes all of the previously stored state.
         */


        _createClass(InertNode, [{
          key: 'destructor',
          value: function destructor() {
            this._throwIfDestroyed();

            if (this._node && this._node.nodeType === Node.ELEMENT_NODE) {
              var element = /** @type {!HTMLElement} */this._node;
              if (this._savedTabIndex !== null) {
                element.setAttribute('tabindex', this._savedTabIndex);
              } else {
                element.removeAttribute('tabindex');
              }

              // Use `delete` to restore native focus method.
              if (this._overrodeFocusMethod) {
                delete element.focus;
              }
            }

            // See note in InertRoot.destructor for why we cast these nulls to ANY.
            this._node = /** @type {?} */null;
            this._inertRoots = /** @type {?} */null;
            this._destroyed = true;
          }

          /**
           * @type {boolean} Whether this object is obsolete because the managed node is no longer inert.
           * If the object has been destroyed, any attempt to access it will cause an exception.
           */

        }, {
          key: '_throwIfDestroyed',


          /**
           * Throw if user tries to access destroyed InertNode.
           */
          value: function _throwIfDestroyed() {
            if (this.destroyed) {
              throw new Error('Trying to access destroyed InertNode');
            }
          }

          /** @return {boolean} */

        }, {
          key: 'ensureUntabbable',


          /** Save the existing tabindex value and make the node untabbable and unfocusable */
          value: function ensureUntabbable() {
            if (this.node.nodeType !== Node.ELEMENT_NODE) {
              return;
            }
            var element = /** @type {!HTMLElement} */this.node;
            if (matches.call(element, _focusableElementsString)) {
              if ( /** @type {!HTMLElement} */element.tabIndex === -1 && this.hasSavedTabIndex) {
                return;
              }

              if (element.hasAttribute('tabindex')) {
                this._savedTabIndex = /** @type {!HTMLElement} */element.tabIndex;
              }
              element.setAttribute('tabindex', '-1');
              if (element.nodeType === Node.ELEMENT_NODE) {
                element.focus = function () {};
                this._overrodeFocusMethod = true;
              }
            } else if (element.hasAttribute('tabindex')) {
              this._savedTabIndex = /** @type {!HTMLElement} */element.tabIndex;
              element.removeAttribute('tabindex');
            }
          }

          /**
           * Add another inert root to this inert node's set of managing inert roots.
           * @param {!InertRoot} inertRoot
           */

        }, {
          key: 'addInertRoot',
          value: function addInertRoot(inertRoot) {
            this._throwIfDestroyed();
            this._inertRoots.add(inertRoot);
          }

          /**
           * Remove the given inert root from this inert node's set of managing inert roots.
           * If the set of managing inert roots becomes empty, this node is no longer inert,
           * so the object should be destroyed.
           * @param {!InertRoot} inertRoot
           */

        }, {
          key: 'removeInertRoot',
          value: function removeInertRoot(inertRoot) {
            this._throwIfDestroyed();
            this._inertRoots['delete'](inertRoot);
            if (this._inertRoots.size === 0) {
              this.destructor();
            }
          }
        }, {
          key: 'destroyed',
          get: function get() {
            return (/** @type {!InertNode} */this._destroyed
            );
          }
        }, {
          key: 'hasSavedTabIndex',
          get: function get() {
            return this._savedTabIndex !== null;
          }

          /** @return {!Node} */

        }, {
          key: 'node',
          get: function get() {
            this._throwIfDestroyed();
            return this._node;
          }

          /** @param {?number} tabIndex */

        }, {
          key: 'savedTabIndex',
          set: function set(tabIndex) {
            this._throwIfDestroyed();
            this._savedTabIndex = tabIndex;
          }

          /** @return {?number} */
          ,
          get: function get() {
            this._throwIfDestroyed();
            return this._savedTabIndex;
          }
        }]);

        return InertNode;
      }();

      /**
       * InertManager is a per-document singleton object which manages all inert roots and nodes.
       *
       * When an element becomes an inert root by having an `inert` attribute set and/or its `inert`
       * property set to `true`, the `setInert` method creates an `InertRoot` object for the element.
       * The `InertRoot` in turn registers itself as managing all of the element's focusable descendant
       * nodes via the `register()` method. The `InertManager` ensures that a single `InertNode` instance
       * is created for each such node, via the `_managedNodes` map.
       */


      var InertManager = function () {
        /**
         * @param {!Document} document
         */
        function InertManager(document) {
          _classCallCheck(this, InertManager);

          if (!document) {
            throw new Error('Missing required argument; InertManager needs to wrap a document.');
          }

          /** @type {!Document} */
          this._document = document;

          /**
           * All managed nodes known to this InertManager. In a map to allow looking up by Node.
           * @type {!Map<!Node, !InertNode>}
           */
          this._managedNodes = new Map();

          /**
           * All inert roots known to this InertManager. In a map to allow looking up by Node.
           * @type {!Map<!Node, !InertRoot>}
           */
          this._inertRoots = new Map();

          /**
           * Observer for mutations on `document.body`.
           * @type {!MutationObserver}
           */
          this._observer = new MutationObserver(this._watchForInert.bind(this));

          // Add inert style.
          addInertStyle(document.head || document.body || document.documentElement);

          // Wait for document to be loaded.
          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', this._onDocumentLoaded.bind(this));
          } else {
            this._onDocumentLoaded();
          }
        }

        /**
         * Set whether the given element should be an inert root or not.
         * @param {!HTMLElement} root
         * @param {boolean} inert
         */


        _createClass(InertManager, [{
          key: 'setInert',
          value: function setInert(root, inert) {
            if (inert) {
              if (this._inertRoots.has(root)) {
                // element is already inert
                return;
              }

              var inertRoot = new InertRoot(root, this);
              root.setAttribute('inert', '');
              this._inertRoots.set(root, inertRoot);
              // If not contained in the document, it must be in a shadowRoot.
              // Ensure inert styles are added there.
              if (!this._document.body.contains(root)) {
                var parent = root.parentNode;
                while (parent) {
                  if (parent.nodeType === 11) {
                    addInertStyle(parent);
                  }
                  parent = parent.parentNode;
                }
              }
            } else {
              if (!this._inertRoots.has(root)) {
                // element is already non-inert
                return;
              }

              var _inertRoot = this._inertRoots.get(root);
              _inertRoot.destructor();
              this._inertRoots['delete'](root);
              root.removeAttribute('inert');
            }
          }

          /**
           * Get the InertRoot object corresponding to the given inert root element, if any.
           * @param {!Node} element
           * @return {!InertRoot|undefined}
           */

        }, {
          key: 'getInertRoot',
          value: function getInertRoot(element) {
            return this._inertRoots.get(element);
          }

          /**
           * Register the given InertRoot as managing the given node.
           * In the case where the node has a previously existing inert root, this inert root will
           * be added to its set of inert roots.
           * @param {!Node} node
           * @param {!InertRoot} inertRoot
           * @return {!InertNode} inertNode
           */

        }, {
          key: 'register',
          value: function register(node, inertRoot) {
            var inertNode = this._managedNodes.get(node);
            if (inertNode !== undefined) {
              // node was already in an inert subtree
              inertNode.addInertRoot(inertRoot);
            } else {
              inertNode = new InertNode(node, inertRoot);
            }

            this._managedNodes.set(node, inertNode);

            return inertNode;
          }

          /**
           * De-register the given InertRoot as managing the given inert node.
           * Removes the inert root from the InertNode's set of managing inert roots, and remove the inert
           * node from the InertManager's set of managed nodes if it is destroyed.
           * If the node is not currently managed, this is essentially a no-op.
           * @param {!Node} node
           * @param {!InertRoot} inertRoot
           * @return {?InertNode} The potentially destroyed InertNode associated with this node, if any.
           */

        }, {
          key: 'deregister',
          value: function deregister(node, inertRoot) {
            var inertNode = this._managedNodes.get(node);
            if (!inertNode) {
              return null;
            }

            inertNode.removeInertRoot(inertRoot);
            if (inertNode.destroyed) {
              this._managedNodes['delete'](node);
            }

            return inertNode;
          }

          /**
           * Callback used when document has finished loading.
           */

        }, {
          key: '_onDocumentLoaded',
          value: function _onDocumentLoaded() {
            // Find all inert roots in document and make them actually inert.
            var inertElements = slice.call(this._document.querySelectorAll('[inert]'));
            inertElements.forEach(function (inertElement) {
              this.setInert(inertElement, true);
            }, this);

            // Comment this out to use programmatic API only.
            this._observer.observe(this._document.body || this._document.documentElement, { attributes: true, subtree: true, childList: true });
          }

          /**
           * Callback used when mutation observer detects attribute changes.
           * @param {!Array<!MutationRecord>} records
           * @param {!MutationObserver} self
           */

        }, {
          key: '_watchForInert',
          value: function _watchForInert(records, self) {
            var _this = this;
            records.forEach(function (record) {
              switch (record.type) {
                case 'childList':
                  slice.call(record.addedNodes).forEach(function (node) {
                    if (node.nodeType !== Node.ELEMENT_NODE) {
                      return;
                    }
                    var inertElements = slice.call(node.querySelectorAll('[inert]'));
                    if (matches.call(node, '[inert]')) {
                      inertElements.unshift(node);
                    }
                    inertElements.forEach(function (inertElement) {
                      this.setInert(inertElement, true);
                    }, _this);
                  }, _this);
                  break;
                case 'attributes':
                  if (record.attributeName !== 'inert') {
                    return;
                  }
                  var target = /** @type {!HTMLElement} */record.target;
                  var inert = target.hasAttribute('inert');
                  _this.setInert(target, inert);
                  break;
              }
            }, this);
          }
        }]);

        return InertManager;
      }();

      /**
       * Recursively walk the composed tree from |node|.
       * @param {!Node} node
       * @param {(function (!HTMLElement))=} callback Callback to be called for each element traversed,
       *     before descending into child nodes.
       * @param {?ShadowRoot=} shadowRootAncestor The nearest ShadowRoot ancestor, if any.
       */


      function composedTreeWalk(node, callback, shadowRootAncestor) {
        if (node.nodeType == Node.ELEMENT_NODE) {
          var element = /** @type {!HTMLElement} */node;
          if (callback) {
            callback(element);
          }

          // Descend into node:
          // If it has a ShadowRoot, ignore all child elements - these will be picked
          // up by the <content> or <shadow> elements. Descend straight into the
          // ShadowRoot.
          var shadowRoot = /** @type {!HTMLElement} */element.shadowRoot;
          if (shadowRoot) {
            composedTreeWalk(shadowRoot, callback);
            return;
          }

          // If it is a <content> element, descend into distributed elements - these
          // are elements from outside the shadow root which are rendered inside the
          // shadow DOM.
          if (element.localName == 'content') {
            var content = /** @type {!HTMLContentElement} */element;
            // Verifies if ShadowDom v0 is supported.
            var distributedNodes = content.getDistributedNodes ? content.getDistributedNodes() : [];
            for (var i = 0; i < distributedNodes.length; i++) {
              composedTreeWalk(distributedNodes[i], callback);
            }
            return;
          }

          // If it is a <slot> element, descend into assigned nodes - these
          // are elements from outside the shadow root which are rendered inside the
          // shadow DOM.
          if (element.localName == 'slot') {
            var slot = /** @type {!HTMLSlotElement} */element;
            // Verify if ShadowDom v1 is supported.
            var _distributedNodes = slot.assignedNodes ? slot.assignedNodes({ flatten: true }) : [];
            for (var _i = 0; _i < _distributedNodes.length; _i++) {
              composedTreeWalk(_distributedNodes[_i], callback);
            }
            return;
          }
        }

        // If it is neither the parent of a ShadowRoot, a <content> element, a <slot>
        // element, nor a <shadow> element recurse normally.
        var child = node.firstChild;
        while (child != null) {
          composedTreeWalk(child, callback);
          child = child.nextSibling;
        }
      }

      /**
       * Adds a style element to the node containing the inert specific styles
       * @param {!Node} node
       */
      function addInertStyle(node) {
        if (node.querySelector('style#inert-style, link#inert-style')) {
          return;
        }
        var style = document.createElement('style');
        style.setAttribute('id', 'inert-style');
        style.textContent = '\n' + '[inert] {\n' + '  pointer-events: none;\n' + '  cursor: default;\n' + '}\n' + '\n' + '[inert], [inert] * {\n' + '  -webkit-user-select: none;\n' + '  -moz-user-select: none;\n' + '  -ms-user-select: none;\n' + '  user-select: none;\n' + '}\n';
        node.appendChild(style);
      }

      if (!HTMLElement.prototype.hasOwnProperty('inert')) {
        /** @type {!InertManager} */
        var inertManager = new InertManager(document);

        Object.defineProperty(HTMLElement.prototype, 'inert', {
          enumerable: true,
          /** @this {!HTMLElement} */
          get: function get() {
            return this.hasAttribute('inert');
          },
          /** @this {!HTMLElement} */
          set: function set(inert) {
            inertManager.setInert(this, inert);
          }
        });
      }
    })();

    function getDocument(element) { return (element?.ownerDocument ?? document ?? window.document ?? globalThis.document); }

    function blockingElements() { return getDocument().$blockingElements; }
    /**
     * Allows an element to trap focus by applying the "inert" attribute to all sibling, aunt, and uncle nodes.
     *
     * Automatically handles consecutive calls with a loosely applied stack operation
     * (specifically via `blockingElements`, with a small polyfill because I'm not sure how long
     * it'll take to find its way into the spec, if ever)
     * @param target
     */
    function useBlockingElement(enabled, getTarget) {
        const stableGetTarget = useStableCallback(getTarget);
        const getDocument = useStableCallback(() => (getTarget()?.ownerDocument ?? globalThis.document));
        useActiveElement({
            activeElementParameters: {
                getDocument,
                onLastActiveElementChange: useStableCallback((e) => {
                    if (e) {
                        if (enabled)
                            setLastActiveWhenOpen(e);
                        else
                            setLastActiveWhenClosed(e);
                    }
                })
            }
        });
        const [getTop, setTop] = usePassiveState(null, returnNull);
        const [getLastActiveWhenClosed, setLastActiveWhenClosed] = usePassiveState(null, returnNull);
        const [getLastActiveWhenOpen, setLastActiveWhenOpen] = usePassiveState(null, returnNull);
        /**
         * Push/pop the element from the blockingElements stack.
         */
        s(() => {
            const target = stableGetTarget();
            if (enabled) {
                // Sometimes blockingElements will fail if, for example,
                // the target element isn't connected to document.body.
                // This is rare, but it's better to fail silently with weird tabbing behavior
                // than to crash the entire application.
                try {
                    blockingElements().push(target);
                    setTop(target);
                    return () => {
                        blockingElements().remove(target);
                    };
                }
                catch (ex) {
                    // Well, semi-silently.
                    console.error(ex);
                }
            }
        }, [enabled]);
        return { getTop, getLastActiveWhenClosed, getLastActiveWhenOpen };
    }

    //const elementsToRestoreFocusTo = new Map<Element | null, (Node & HTMLOrSVGElement)>();
    function useFocusTrap({ focusTrapParameters: { onlyMoveFocus, trapActive, focusPopup: focusSelfUnstable, focusOpener: focusOpenerUnstable }, refElementParameters }) {
        const { onElementChange, ...rest } = (refElementParameters || {});
        const focusSelf = useStableCallback(focusSelfUnstable);
        const focusOpener = useStableCallback(focusOpenerUnstable);
        h(() => {
            if (trapActive) {
                let top = getTop();
                getLastActiveWhenOpen();
                {
                    top ??= refElementReturn.getElement();
                    console.assert(!!top);
                    if (top)
                        focusSelf(top, () => findFirstFocusable(top));
                }
            }
            else {
                const lastActive = getLastActiveWhenClosed();
                if (lastActive)
                    focusOpener(lastActive);
            }
        }, [trapActive]);
        const { refElementReturn } = useRefElement({
            refElementParameters: { onElementChange, ...rest }
        });
        const { getElement } = refElementReturn;
        const { getTop, getLastActiveWhenClosed, getLastActiveWhenOpen } = useBlockingElement(trapActive && !onlyMoveFocus, getElement);
        return {
            refElementReturn,
            focusTrapReturn: { propsUnstable: { "aria-modal": trapActive ? "true" : undefined } }
        };
    }
    /**
     * Returns the first focusable element contained within the given node, or null if none are found.
     * @param element
     * @returns
     */
    function findFirstFocusable(element) {
        return findFirstCondition(element, node => node instanceof Element && isFocusable(node));
    }
    function findFirstCondition(element, filter) {
        if (element && filter(element))
            return element;
        console.assert(!!element);
        element ??= document.body;
        const treeWalker = document.createTreeWalker(element, NodeFilter.SHOW_ELEMENT, { acceptNode: (node) => (filter(node) ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP) });
        const firstFocusable = treeWalker.firstChild();
        return firstFocusable;
    }

    /** Arguments passed to the child 'useLinearNavigationChild` */
    //export interface UseLinearNavigationChildInfo { }
    /**
     * When used in tandem with `useRovingTabIndex`, allows control of
     * the tabbable index with the arrow keys.
     *
     * @see useListNavigation, which packages everything up together.
     */
    function useLinearNavigation({ rovingTabIndexReturn, linearNavigationParameters }) {
        const { getHighestIndex, indexDemangler, indexMangler, isValid, navigatePastEnd, navigatePastStart } = linearNavigationParameters;
        const { getTabbableIndex, setTabbableIndex } = rovingTabIndexReturn;
        const navigateAbsolute = T$1((i, e, fromUserInteraction) => {
            const target = indexDemangler(i);
            const { value } = tryNavigateToIndex({ isValid, highestChildIndex: getHighestIndex(), indexDemangler, indexMangler, searchDirection: -1, target });
            setTabbableIndex(value, e, fromUserInteraction);
        }, []);
        const navigateToFirst = useStableCallback((e, fromUserInteraction) => { navigateAbsolute(0, e, fromUserInteraction); });
        const navigateToLast = useStableCallback((e, fromUserInteraction) => { navigateAbsolute(getHighestIndex(), e, fromUserInteraction); });
        const navigateRelative2 = useStableCallback((e, offset, fromUserInteraction, mode) => {
            const original = (getTabbableIndex() ?? 0);
            const { status, value } = tryNavigateToIndex({ isValid, highestChildIndex: getHighestIndex(), indexDemangler, indexMangler, searchDirection: (Math.sign(offset) || 1), target: indexDemangler(indexMangler(original) + offset) });
            if (status == "past-end") {
                if (navigatePastEnd == "wrap") {
                    if (mode == "single")
                        navigateToFirst(e, fromUserInteraction);
                    else {
                        /* eslint-disable no-constant-condition */
                        // Uncomment to allow page up/down to wrap after hitting the top/bottom once.
                        // It works fine, the problem isn't that -- the problem is it just feels wrong. 
                        // Page Up/Down don't feel like they should wrap, even if normally requested. 
                        // That's the arrow keys' domain.
                        navigateToLast(e, fromUserInteraction);
                    }
                    return "stop";
                }
                else if (navigatePastEnd == "passthrough") {
                    return "passthrough";
                }
                else {
                    navigatePastEnd();
                    return "stop";
                }
            }
            else if (status == "past-start") {
                if (navigatePastStart == "wrap") {
                    if (mode == "single") {
                        navigateToLast(e, fromUserInteraction);
                    }
                    else {
                        /* eslint-disable no-constant-condition */
                        // See above. It works fine but just feels wrong to wrap on Page Up/Down.
                        navigateToFirst(e, fromUserInteraction);
                    }
                    return "stop";
                }
                else if (navigatePastStart == "passthrough") {
                    return "passthrough";
                }
                else {
                    navigatePastStart();
                    return "stop";
                }
            }
            else {
                setTabbableIndex(value, e, fromUserInteraction);
                return "stop";
            }
        });
        const navigateToNext = useStableCallback((e, fromUserInteraction) => {
            return navigateRelative2(e, 1, fromUserInteraction, "single");
            // setTabbableIndex(navigateRelative((getTabbableIndex() ?? 0), +1), fromUserInteraction)
        });
        const navigateToPrev = useStableCallback((e, fromUserInteraction) => {
            return navigateRelative2(e, -1, fromUserInteraction, "single");
            // setTabbableIndex(navigateRelative((getTabbableIndex() ?? 0), +1), fromUserInteraction)
        });
        const getDisableArrowKeys = useStableGetter(linearNavigationParameters.disableArrowKeys);
        const getDisableHomeEndKeys = useStableGetter(linearNavigationParameters.disableHomeEndKeys);
        const getNavigationDirection = useStableGetter(linearNavigationParameters.navigationDirection);
        const getPageNavigationSize = useStableGetter(linearNavigationParameters.pageNavigationSize);
        const stableProps = _({
            onKeyDown: (e) => {
                // Not handled by typeahead (i.e. assume this is a keyboard shortcut)
                if (e.ctrlKey || e.metaKey)
                    return;
                //const info = getLogicalDirectionInfo();
                const navigationDirection = getNavigationDirection();
                const disableArrowKeys = getDisableArrowKeys();
                const disableHomeEndKeys = getDisableHomeEndKeys();
                const pageNavigationSize = getPageNavigationSize();
                const allowsVerticalNavigation = (navigationDirection == "vertical" || navigationDirection == "either");
                const allowsHorizontalNavigation = (navigationDirection == "horizontal" || navigationDirection == "either");
                let truePageNavigationSize = pageNavigationSize;
                if (truePageNavigationSize < 1) {
                    truePageNavigationSize = Math.round(pageNavigationSize * Math.max(100, getHighestIndex() + 1));
                }
                switch (e.key) {
                    case "ArrowUp": {
                        //const propName = (info?.blockOrientation === "vertical" ? "blockDirection" : "inlineDirection");
                        const directionAllowed = (!disableArrowKeys && allowsVerticalNavigation);
                        if (directionAllowed) {
                            const result = navigateToPrev(e, true);
                            if (result != "passthrough") {
                                e.preventDefault();
                                e.stopPropagation();
                            }
                        }
                        break;
                    }
                    case "ArrowDown": {
                        const directionAllowed = (!disableArrowKeys && allowsVerticalNavigation);
                        if (directionAllowed) {
                            const result = navigateToNext(e, true);
                            if (result != "passthrough") {
                                e.preventDefault();
                                e.stopPropagation();
                            }
                        }
                        break;
                    }
                    case "ArrowLeft": {
                        const directionAllowed = (!disableArrowKeys && allowsHorizontalNavigation);
                        if (directionAllowed) {
                            const result = navigateToPrev(e, true);
                            if (result != "passthrough") {
                                e.preventDefault();
                                e.stopPropagation();
                            }
                        }
                        break;
                    }
                    case "ArrowRight": {
                        const directionAllowed = (!disableArrowKeys && allowsHorizontalNavigation);
                        if (directionAllowed) {
                            const result = navigateToNext(e, true);
                            if (result != "passthrough") {
                                e.preventDefault();
                                e.stopPropagation();
                            }
                        }
                        break;
                    }
                    case "PageUp": {
                        if (truePageNavigationSize > 0) {
                            navigateRelative2(e, -truePageNavigationSize, true, "page");
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        break;
                    }
                    case "PageDown": {
                        if (truePageNavigationSize > 0) {
                            navigateRelative2(e, truePageNavigationSize, true, "page");
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        break;
                    }
                    case "Home":
                        if (!disableHomeEndKeys) {
                            navigateToFirst(e, true);
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        break;
                    case "End":
                        if (!disableHomeEndKeys) {
                            navigateToLast(e, true);
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        break;
                }
            }
        });
        return {
            linearNavigationReturn: {
                propsStable: stableProps.current
            }
        };
    }
    function tryNavigateToIndex({ isValid, highestChildIndex, searchDirection, indexDemangler, indexMangler, target }) {
        if (searchDirection === -1) {
            let bestUpResult = undefined;
            bestUpResult = tryNavigateUp({ isValid, indexDemangler, indexMangler, target });
            bestUpResult ??= tryNavigateDown({ isValid, indexDemangler, indexMangler, target, highestChildIndex });
            return bestUpResult || { value: target, status: "normal" };
        }
        else {
            let bestDownResult = undefined;
            bestDownResult = tryNavigateDown({ isValid, indexDemangler, indexMangler, target, highestChildIndex });
            bestDownResult ??= tryNavigateUp({ isValid, indexDemangler, indexMangler, target });
            return bestDownResult || { value: target, status: "normal" };
        }
    }
    function tryNavigateUp({ isValid, indexDemangler, indexMangler, target }) {
        const lower = 0;
        while (target >= lower && !isValid(target))
            target = indexDemangler(indexMangler(target) - 1);
        if (!isValid(target)) {
            return undefined;
        }
        if (target < lower) {
            return { value: indexDemangler(lower), status: "past-start" };
        }
        else {
            return { value: target, status: "normal" };
        }
    }
    function tryNavigateDown({ isValid, indexDemangler, indexMangler, target, highestChildIndex: upper }) {
        while (target <= upper && !isValid(target))
            target = indexDemangler(indexMangler(target) + 1);
        if (!isValid(target)) {
            return undefined;
        }
        if (target > upper) {
            return { value: indexDemangler(upper), status: "past-end" };
        }
        else {
            return { value: target, status: "normal" };
        }
    }

    /**
     * Slightly enhanced version of `useState` that includes a getter that remains constant
     * (i.e. you can use it in `useEffect` and friends without it being a dependency).
     *
     * @param initialState
     * @returns
     */
    function useState(initialState) {
        // We keep both, but overrride the `setState` functionality
        const [state, setStateP] = p(initialState);
        const ref = _(state);
        // Hijack the normal setter function 
        // to also set our ref to the new value
        const setState = T$1(value => {
            if (typeof value === "function") {
                const callback = value;
                setStateP(prevValue => {
                    const nextValue = callback(prevValue);
                    ref.current = nextValue;
                    return nextValue;
                });
            }
            else {
                ref.current = value;
                setStateP(value);
            }
        }, []);
        const getState = () => { return ref.current; };
        console.assert(ref.current === state || (typeof state === "number" && isNaN(state)));
        return [state, setState, getState];
    }

    /**
     * Implements a roving tabindex system where only one "focusable"
     * component in a set is able to receive a tab focus. *Which*
     * of those elements receives focus is determined by you, but it's
     * recommended to offload that logic then to another hook, like
     * `useLinearNavigation`, which lets you change the tabbable
     * element with the arrow keys, `useTypeaheadNavigation`, which
     * lets you change the tabbable index with typeahead, or
     * `useListNavigation` if you just want everything bundled together.
     *
     * Note that the child hook returned by this function must be used
     * by every child that uses this roving tabindex logic.  The
     * prop-modifying hook *that* hook returns should then be used
     * on the child's element, as well as any other elements you'd like
     * to be explicitly made untabbable too.
     *
     * `shouldFocusOnChange` should return true if focus is
     * contained within whatever element contains the roving tab index.
     * Generally as simple as the following:
     * ```
     * const [focusedInner, setFocusedInner] = useState(false);
     * const { useHasFocusProps } = useHasFocus<ParentElement>({ setFocusedInner });
     * const focusOnChange = (focusedInner != false);
     * ```
     * It's not included here because `useRovingTabIndex` doesn't know
     * anything about the container element, only children elements.
     * And just as well! Children should be allowed at the root,
     * regardless of if it's the whole app or just a given component.
     */
    function useRovingTabIndex({ managedChildrenReturn: { getChildren }, rovingTabIndexParameters: { untabbable, initiallyTabbedIndex, onTabbableIndexChange }, ..._void1 }) {
        const getUntabbable = useStableGetter(untabbable);
        //initiallyTabbedIndex ??= 0;
        // Override the actual setter to include some extra logic related to avoiding hidden children, 
        // what to do when we're untabbable, what to do when we're tabbable but given `null`, etc.
        const setTabbableIndex = useStableCallback((updater, reason, fromUserInteraction) => {
            const children = getChildren();
            // Notify the relevant children that they should become tabbable/untabbable,
            // but also handle focus management when we changed due to user interaction
            return changeTabbableIndex(function returnModifiedTabbableIndex(prevIndex) {
                let nextIndex = ((typeof updater === "function") ? updater(prevIndex ?? null) : updater);
                const untabbable = getUntabbable();
                if (nextIndex != null)
                    setLastNonNullIndex(nextIndex);
                if (untabbable)
                    return null;
                if (prevIndex != nextIndex) {
                    const nextChild = nextIndex == null ? null : children.getAt(nextIndex);
                    if (nextChild?.hidden) {
                        return prevIndex ?? (untabbable ? null : 0);
                    }
                    if (nextChild != null && fromUserInteraction) {
                        const element = nextChild.getElement();
                        if (element) {
                            if (document.activeElement == null || !element.contains(document.activeElement))
                                nextChild.focusSelf(element);
                        }
                    }
                }
                // TODO: Redundant?
                if (nextIndex != null)
                    setLastNonNullIndex(nextIndex);
                return nextIndex ?? (untabbable ? null : 0);
            }, reason);
        }, []);
        // When we switch from tabbable to non/tabbable, we really want to remember the last tabbable child.
        // So every time we change the index for any reason, record that change as a back up here that can be restored.
        const [getLastNonNullIndex, setLastNonNullIndex] = usePassiveState(null, T$1(() => (initiallyTabbedIndex ?? 0), []));
        // Any time we switch to being untabbable, set the current tabbable index accordingly.
        h(() => {
            if (untabbable)
                changeTabbableIndex(null, undefined);
            else {
                changeTabbableIndex(getLastNonNullIndex(), undefined);
            }
        }, [untabbable]);
        // Boilerplate related to notifying individual children when they become tabbable/untabbable
        const getTabbableAt = T$1((m) => { return m.getTabbable(); }, []);
        const setTabbableAt = T$1((m, t) => { m.setTabbable(t); }, []);
        const isTabbableValid = T$1((m) => { return !m.hidden; }, []);
        const { changeIndex: changeTabbableIndex, getCurrentIndex: getTabbableIndex, reevaluateClosestFit } = useChildrenFlag({
            initialIndex: initiallyTabbedIndex ?? (untabbable ? null : 0),
            onIndexChange: onTabbableIndexChange,
            getChildren,
            closestFit: true,
            getAt: getTabbableAt,
            isValid: isTabbableValid,
            setAt: setTabbableAt,
        });
        const focusSelf = T$1((reason) => {
            const children = getChildren();
            const index = getTabbableIndex();
            if (index != null) {
                const element = children.getAt(index)?.getElement();
                children.getAt(index)?.focusSelf?.(element);
            }
            else
                setTabbableIndex(null, reason, true);
        }, []);
        const rovingTabIndexChildContext = useStableObject({
            setTabbableIndex,
            getInitiallyTabbedIndex: T$1(() => { return initiallyTabbedIndex ?? (untabbable ? null : 0); }, []),
            reevaluateClosestFit
        });
        return {
            managedChildrenParameters: { onChildrenMountChange: reevaluateClosestFit, },
            rovingTabIndexReturn: { setTabbableIndex, getTabbableIndex, focusSelf },
            rovingTabIndexChildContext
        };
    }
    function useRovingTabIndexChild({ managedChildParameters: { index, ..._void2 }, rovingTabIndexChildContext: { reevaluateClosestFit, setTabbableIndex, getInitiallyTabbedIndex }, rovingTabIndexChildParameters, }) {
        const { hidden, ..._void1 } = rovingTabIndexChildParameters;
        const [tabbable, setTabbable, getTabbable] = useState(getInitiallyTabbedIndex() === index);
        h(() => {
            reevaluateClosestFit();
        }, [!!hidden]);
        return {
            hasCurrentFocusParameters: {
                onCurrentFocusedInnerChanged: useStableCallback((focused, _prevFocused, e) => {
                    if (focused) {
                        setTabbableIndex(index, e, false);
                    }
                })
            },
            rovingTabIndexChildReturn: {
                propsUnstable: { tabIndex: (tabbable ? 0 : -1) },
                tabbable,
                getTabbable,
                setTabbable
            }
        };
    }

    function useTextContent({ refElementReturn: { getElement }, textContentParameters: { getText, onTextContentChange, hidden } }) {
        const [getTextContent, setTextContent] = usePassiveState(onTextContentChange, returnNull, runImmediately);
        h(() => {
            if (!hidden) {
                const element = getElement();
                if (element) {
                    const textContent = getText(element);
                    if (textContent) {
                        setTextContent(textContent);
                    }
                }
            }
        });
        return { textContentReturn: { getTextContent } };
    }

    /**
     * Allows for the selection of a managed child by typing the given text associated with it.
     *
     * @see useListNavigation, which packages everything up together.
     */
    function useTypeaheadNavigation({ typeaheadNavigationParameters: { collator, typeaheadTimeout, noTypeahead, isValid, ..._void3 }, rovingTabIndexReturn: { getTabbableIndex: getIndex, setTabbableIndex: setIndex, ..._void1 }, ..._void2 }) {
        // For typeahead, keep track of what our current "search" string is (if we have one)
        // and also clear it every 1000 ms since the last time it changed.
        // Next, keep a mapping of typeahead values to indices for faster searching.
        // And, for the user's sake, let them know when their typeahead can't match anything anymore
        const [getCurrentTypeahead, setCurrentTypeahead] = usePassiveState(useStableCallback((currentTypeahead, prev, reason) => {
            const handle = setTimeout(() => { setCurrentTypeahead(null, undefined); setTypeaheadStatus("none"); }, typeaheadTimeout ?? 1000);
            updateBasedOnTypeaheadChange(currentTypeahead, reason);
            return () => clearTimeout(handle);
        }));
        //useTimeout({ timeout: typeaheadTimeout ?? 1000, callback: () => { setCurrentTypeahead(null); setInvalidTypeahead(null); }, triggerIndex: currentTypeahead });
        const sortedTypeaheadInfo = _([]);
        const [typeaheadStatus, setTypeaheadStatus] = useState("none");
        // Handle typeahead for input method editors as well
        // Essentially, when active, ignore further keys 
        // because we're waiting for a CompositionEnd event
        const [, setImeActive, getImeActive] = useState(false);
        // Because composition events fire *after* keydown events 
        // (but within the same task, which, TODO, could be browser-dependent),
        // we can use this to keep track of which event we're listening for on the first keydown.
        const [nextTypeaheadChar, setNextTypeaheadChar] = useState(null);
        s(() => {
            if (nextTypeaheadChar !== null) {
                setCurrentTypeahead(typeahead => ((typeahead ?? "") + nextTypeaheadChar), undefined);
                setNextTypeaheadChar(null);
            }
        }, [nextTypeaheadChar]);
        const comparatorShared = useStableCallback((safeLhs, safeRhs) => {
            let compare;
            // For the purposes of typeahead, only compare a string of the same size as our currently typed string.
            // By normalizing them first, we ensure this byte-by-byte handling of raw character data works out okay.
            safeLhs = safeLhs.normalize("NFD");
            safeRhs = safeRhs.normalize("NFD");
            if (collator)
                compare = collator.compare(safeLhs, safeRhs);
            else
                compare = safeLhs.toLowerCase().localeCompare(safeRhs.toLowerCase() ?? "");
            return compare;
        });
        const insertingComparator = useStableCallback((lhs, rhs) => {
            if (typeof lhs === "string" && typeof rhs.text === "string") {
                return comparatorShared(lhs, rhs.text);
            }
            return lhs - rhs;
        });
        const typeaheadComparator = useStableCallback((lhs, rhs) => {
            if (typeof lhs === "string" && typeof rhs.text === "string") {
                // During typeahead, all strings longer than ours should be truncated
                // so that they're all considered equally by that point.
                return comparatorShared(lhs, rhs.text.substring(0, lhs.length));
            }
            return lhs - rhs;
        });
        const isDisabled = useStableGetter(noTypeahead);
        const propsStable = _({
            onKeyDown: useStableCallback((e) => {
                if (isDisabled())
                    return;
                const imeActive = getImeActive();
                const key = e.key;
                // Not handled by typeahead (i.e. assume this is a keyboard shortcut)
                if (e.ctrlKey || e.metaKey)
                    return;
                if (!imeActive && e.key === "Backspace") {
                    // Remove the last character in a way that doesn't split UTF-16 surrogates.
                    setCurrentTypeahead(t => t == null ? null : [...t].reverse().slice(1).reverse().join(""), e);
                    e.preventDefault();
                    e.stopPropagation();
                    return;
                }
                // The key property represents the typed character OR the "named key attribute" of the key pressed.
                // There's no definite way to tell the difference, but for all intents and purposes
                // there are no one-character names, and there are no non-ASCII-alpha names.
                // Thus, any one-character or non-ASCII value for `key` is *almost certainly* a typed character.
                const isCharacterKey = (key.length === 1 || !/^[A-Za-z]/.test(key));
                if (isCharacterKey) {
                    if (key == " " && (getCurrentTypeahead() ?? "").trim().length == 0) ;
                    else {
                        e.preventDefault();
                        e.stopPropagation();
                        // Note: Won't be true for the first keydown
                        // but will be overwritten before useLayoutEffect is called
                        // to actually apply the change
                        if (!imeActive)
                            setNextTypeaheadChar(key);
                    }
                }
            }),
            onCompositionStart: useStableCallback((e) => {
                setNextTypeaheadChar(e.data);
                setImeActive(false);
            }),
            onCompositionEnd: useStableCallback((_e) => { setImeActive(true); }),
        });
        // Handle changes in typeahead that cause changes to the tabbable index
        /* useEffect(() => {
             
         }, [currentTypeahead]);*/
        const excludeSpace = useStableCallback(() => { return typeaheadStatus != "none"; });
        return {
            typeaheadNavigationChildContext: useStableObject({
                typeaheadNavigationChildParameters: useStableObject({
                    insertingComparator,
                    sortedTypeaheadInfo: sortedTypeaheadInfo.current,
                    excludeSpace
                }),
            }),
            typeaheadNavigationReturn: {
                getCurrentTypeahead,
                typeaheadStatus,
                propsStable: propsStable.current
            }
        };
        function updateBasedOnTypeaheadChange(currentTypeahead, reason) {
            if (currentTypeahead && sortedTypeaheadInfo.current.length) {
                const sortedTypeaheadIndex = binarySearch(sortedTypeaheadInfo.current, currentTypeahead, typeaheadComparator);
                if (sortedTypeaheadIndex < 0) {
                    // The user has typed an entry that doesn't exist in the list
                    // (or more specifically "for which there is no entry that starts with that input")
                    setTypeaheadStatus("invalid");
                }
                else {
                    setTypeaheadStatus("valid");
                    /*
                      We know roughly where, in the sorted array of strings, our next typeahead location is.
                      But roughly isn't good enough if there are multiple matches.
                      To convert our sorted index to the unsorted index we need, we have to find the first
                      element that matches us *and* (if any such exist) is *after* our current selection.
        
                      In other words, the only way typeahead moves backwards relative to our current
                      position is if the only other option is behind us.
        
                      It's not specified in WAI-ARIA what to do in that case.  I suppose wrap back to the start?
                      Though there's also a case for just going upwards to the nearest to prevent jumpiness.
                      But if you're already doing typeahead on an unsorted list, like, jumpiness can't be avoided.
                      I dunno. Going back to the start is the simplist though.
        
                      Basically what this does: Starting from where we found ourselves after our binary search,
                      scan backwards and forwards through all adjacent entries that also compare equally so that
                      we can find the one whose `unsortedIndex` is the lowest amongst all other equal strings
                      (and also the lowest `unsortedIndex` yadda yadda except that it comes after us).
        
                      TODO: The binary search starts this off with a solid O(log n), but one-character
                      searches are, thanks to pigeonhole principal, eventually guaranteed to become
                      O(n*log n). This is annoying but probably not easily solvable? There could be an
                      exception for one-character strings, but that's just kicking the can down
                      the road. Maybe one or two characters would be good enough though.
                    */
                    // These are used to keep track of the candidates' positions in both our sorted array and the unsorted DOM.
                    let lowestUnsortedIndexAll = null;
                    let lowestSortedIndexAll = sortedTypeaheadIndex;
                    // These two are only set for elements that are ahead of us, but the principle's the same otherwise
                    let lowestUnsortedIndexNext = null;
                    let lowestSortedIndexNext = sortedTypeaheadIndex;
                    const updateBestFit = (u) => {
                        if (!isValid(u))
                            return;
                        if (lowestUnsortedIndexAll == null || u < lowestUnsortedIndexAll) {
                            lowestUnsortedIndexAll = u;
                            lowestSortedIndexAll = i;
                        }
                        if ((lowestUnsortedIndexNext == null || u < lowestUnsortedIndexNext) && u > (getIndex() ?? -Infinity)) {
                            lowestUnsortedIndexNext = u;
                            lowestSortedIndexNext = i;
                        }
                    };
                    let i = sortedTypeaheadIndex;
                    while (i >= 0 && typeaheadComparator(currentTypeahead, sortedTypeaheadInfo.current[i]) == 0) {
                        updateBestFit(sortedTypeaheadInfo.current[i].unsortedIndex);
                        --i;
                    }
                    i = sortedTypeaheadIndex;
                    while (i < sortedTypeaheadInfo.current.length && typeaheadComparator(currentTypeahead, sortedTypeaheadInfo.current[i]) == 0) {
                        updateBestFit(sortedTypeaheadInfo.current[i].unsortedIndex);
                        ++i;
                    }
                    if (lowestUnsortedIndexNext !== null)
                        setIndex(sortedTypeaheadInfo.current[lowestSortedIndexNext].unsortedIndex, reason, true);
                    else if (lowestUnsortedIndexAll !== null)
                        setIndex(sortedTypeaheadInfo.current[lowestSortedIndexAll].unsortedIndex, reason, true);
                }
            }
        }
    }
    function useTypeaheadNavigationChild({ managedChildParameters: { index, ...void1 }, textContentParameters: { getText, hidden, ...void5 }, typeaheadNavigationChildContext: { typeaheadNavigationChildParameters: { sortedTypeaheadInfo, insertingComparator, excludeSpace, ...void2 } }, refElementReturn: { getElement, ...void3 }, 
    //typeaheadNavigationChildParameters: { ...void5 },
    ...void4 }) {
        const { textContentReturn } = useTextContent({
            refElementReturn: { getElement },
            textContentParameters: {
                getText,
                hidden,
                onTextContentChange: T$1((text) => {
                    if (text) {
                        // Find where to insert this item.
                        // Because all index values should be unique, the returned sortedIndex
                        // should always refer to a new location (i.e. be negative)                
                        const sortedIndex = binarySearch(sortedTypeaheadInfo, text, insertingComparator);
                        console.assert(sortedIndex < 0 || insertingComparator(sortedTypeaheadInfo[sortedIndex].text, { unsortedIndex: index, text }) == 0);
                        if (sortedIndex < 0) {
                            sortedTypeaheadInfo.splice(-sortedIndex - 1, 0, { text, unsortedIndex: index });
                        }
                        else {
                            sortedTypeaheadInfo.splice(sortedIndex, 0, { text, unsortedIndex: index });
                        }
                        return () => {
                            // When unmounting, find where we were and remove ourselves.
                            // Again, we should always find ourselves because there should be no duplicate values if each index is unique.
                            const sortedIndex = binarySearch(sortedTypeaheadInfo, text, insertingComparator);
                            console.assert(sortedIndex < 0 || insertingComparator(sortedTypeaheadInfo[sortedIndex].text, { unsortedIndex: index, text }) == 0);
                            if (sortedIndex >= 0) {
                                sortedTypeaheadInfo.splice(sortedIndex, 1);
                            }
                        };
                    }
                }, [])
            }
        });
        return {
            textContentReturn,
            pressParameters: { excludeSpace }
        };
    }
    /**
     * Your usual binary search implementation.
     *
     * It's used here to quickly find a good spot to start searching for our next typeahead candidate.
     * @param array The array to search through
     * @param wanted The value you'd like to find
     * @param comparator Compares `wanted` with the current value in `array`
     * @returns A non-negative value if `wanted` was found, and a negative number if not.
     * The absolute value of this number, minus one, is where `wanted` *would* be found if it *was* in `array`
     */
    function binarySearch(array, wanted, comparator) {
        let firstIndex = 0;
        let lastIndex = array.length - 1;
        while (firstIndex <= lastIndex) {
            const testIndex = (lastIndex + firstIndex) >> 1;
            const comparisonResult = comparator(wanted, array[testIndex]);
            if (comparisonResult > 0) {
                firstIndex = testIndex + 1;
            }
            else if (comparisonResult < 0) {
                lastIndex = testIndex - 1;
            }
            else {
                return testIndex;
            }
        }
        return -firstIndex - 1;
    }

    /**
     * Implements proper keyboard navigation for components like listboxes, button groups, menus, etc.
     *
     * In the document order, there will be only one "focused" or "tabbable" element, making it act more like one complete unit in comparison to everything around it.
     * Navigating forwards/backwards can be done with the arrow keys, Home/End keys, or any text for typeahead to focus the next item that matches.
     */
    function useListNavigation({ linearNavigationParameters, typeaheadNavigationParameters, rovingTabIndexParameters, managedChildrenReturn, ..._void1 }) {
        const rtir = useRovingTabIndex({ managedChildrenReturn, rovingTabIndexParameters });
        const { rovingTabIndexReturn } = rtir;
        const tnr = useTypeaheadNavigation({ rovingTabIndexReturn, typeaheadNavigationParameters, });
        const lnr = useLinearNavigation({ rovingTabIndexReturn, linearNavigationParameters, });
        return {
            ...lnr,
            ...tnr,
            ...rtir
        };
    }
    function useListNavigationChild({ rovingTabIndexChildParameters, rovingTabIndexChildContext, typeaheadNavigationChildContext, 
    //typeaheadNavigationChildParameters,
    managedChildParameters, refElementReturn, textContentParameters, ..._void2 }) {
        const rticr = useRovingTabIndexChild({ rovingTabIndexChildContext, rovingTabIndexChildParameters, managedChildParameters });
        const tncr = useTypeaheadNavigationChild({ refElementReturn, typeaheadNavigationChildContext, managedChildParameters, textContentParameters });
        //    assertEmptyObject(_void5);
        return {
            ...tncr,
            ...rticr
        };
    }

    function useGridNavigation({ gridNavigationParameters: { onTabbableColumnChange, ...void3 }, linearNavigationParameters, rovingTabIndexParameters: { onTabbableIndexChange, ...rovingTabIndexParameters }, managedChildrenReturn, typeaheadNavigationParameters, ..._void2 }) {
        const { getChildren } = managedChildrenReturn;
        const { initiallyTabbedIndex } = rovingTabIndexParameters;
        const [getCurrentTabbableColumn, setCurrentTabbableColumn] = usePassiveState(onTabbableColumnChange, useStableCallback(() => { return (initiallyTabbedIndex ?? 0); }));
        const onTabbableIndexChangeOverride = useStableCallback((nextRow, previousRow, reason) => {
            const children = getChildren();
            onTabbableIndexChange?.(nextRow, previousRow, reason);
            const nextColumn = getCurrentTabbableColumn();
            if (previousRow != null)
                children.getAt(previousRow)?.setTabbableColumnIndex(nextColumn, reason, false);
            if (nextRow != null)
                children.getAt(nextRow)?.setTabbableColumnIndex(nextColumn, reason, false);
        });
        const { linearNavigationReturn, rovingTabIndexReturn, typeaheadNavigationReturn, managedChildrenParameters, rovingTabIndexChildContext, typeaheadNavigationChildContext, ...void1 } = useListNavigation({
            linearNavigationParameters: { navigationDirection: "vertical", ...linearNavigationParameters },
            rovingTabIndexParameters: { onTabbableIndexChange: onTabbableIndexChangeOverride, ...rovingTabIndexParameters },
            managedChildrenReturn,
            typeaheadNavigationParameters
        });
        return {
            managedChildrenParameters,
            rovingTabIndexChildContext,
            typeaheadNavigationChildContext,
            linearNavigationReturn,
            rovingTabIndexReturn,
            typeaheadNavigationReturn,
            gridNavigationRowContext: useStableObject({
                gridNavigationRowParameters: useStableObject({
                    setTabbableRow: rovingTabIndexReturn.setTabbableIndex,
                    getCurrentTabbableColumn,
                    setCurrentTabbableColumn
                })
            })
        };
    }
    function useGridNavigationRow({ rowAsChildOfGridParameters: { gridNavigationRowContext: { gridNavigationRowParameters: { setTabbableRow, getCurrentTabbableColumn, setCurrentTabbableColumn } }, ...asChildRowOfTable }, rowAsParentOfCellsParameters: { linearNavigationParameters, rovingTabIndexParameters: { ...rovingTabIndexParameters }, ...asParentRowOfCellsP }, ..._void1 }) {
        const { managedChildrenReturn: { getChildren } } = asChildRowOfTable;
        const getIndex = useStableCallback(() => { return asChildRowOfTable.managedChildParameters.index; });
        const focusSelf = useStableCallback((e) => {
            let index = (getCurrentTabbableColumn() ?? 0);
            let child = getChildren().getAt(index);
            let highestIndex = getChildren().getHighestIndex();
            while ((!child || child.hidden) && index > 0) {
                --index;
                child = getChildren().getAt(index);
            }
            while ((!child || child.hidden) && index <= highestIndex) {
                ++index;
                child = getChildren().getAt(index);
            }
            if (child) {
                const e = child.getElement();
                child.focusSelf(e);
            }
            else {
                e?.focus?.();
            }
        }, []);
        const lncr = useListNavigationChild(asChildRowOfTable);
        const untabbable = !lncr.rovingTabIndexChildReturn.tabbable;
        const lnr = useListNavigation({ ...asParentRowOfCellsP, rovingTabIndexParameters: { untabbable, ...rovingTabIndexParameters }, linearNavigationParameters: { navigationDirection: "horizontal", ...linearNavigationParameters } });
        const { rovingTabIndexReturn: { setTabbableIndex }, rovingTabIndexReturn, linearNavigationReturn, managedChildrenParameters, rovingTabIndexChildContext, typeaheadNavigationChildContext, typeaheadNavigationReturn } = lnr;
        return {
            rowAsChildOfGridReturn: { gridNavigationRowParameters: { focusSelf, setTabbableColumnIndex: setTabbableIndex }, ...lncr, },
            rowAsParentOfCellsReturn: {
                ...lnr,
                gridNavigationCellContext: useStableObject({
                    gridNavigationCellParameters: useStableObject({
                        setTabbableRow,
                        getRowIndex: getIndex,
                        getCurrentTabbableColumn,
                        setCurrentTabbableColumn,
                        setTabbableCell: setTabbableIndex
                    })
                }),
                linearNavigationReturn,
                managedChildrenParameters,
                rovingTabIndexChildContext,
                rovingTabIndexReturn,
                typeaheadNavigationChildContext,
                typeaheadNavigationReturn,
            }
        };
    }
    function useGridNavigationCell({ 
    //    managedChildParameters: { hidden, index, ...void3 },
    rovingTabIndexChildContext, typeaheadNavigationChildContext, 
    //typeaheadNavigationChildParameters,
    rovingTabIndexChildParameters, managedChildParameters, refElementReturn, textContentParameters, gridNavigationCellParameters: { colSpan }, gridNavigationCellContext: { gridNavigationCellParameters: { getRowIndex, setTabbableRow, getCurrentTabbableColumn: _getCurrentColumn, setCurrentTabbableColumn, setTabbableCell } }, ..._void1 }) {
        const { index } = managedChildParameters;
        const { hasCurrentFocusParameters: { onCurrentFocusedInnerChanged: ocfic1 }, rovingTabIndexChildReturn, textContentReturn, pressParameters, ...void2 } = useListNavigationChild({
            rovingTabIndexChildParameters,
            managedChildParameters,
            rovingTabIndexChildContext,
            typeaheadNavigationChildContext,
            textContentParameters,
            //typeaheadNavigationChildParameters,
            refElementReturn
        });
        //    assertEmptyObject(void3);
        return {
            rovingTabIndexChildReturn,
            textContentReturn,
            pressParameters,
            hasCurrentFocusParameters: {
                onCurrentFocusedInnerChanged: useStableCallback((focused, prev, e) => {
                    ocfic1?.(focused, prev, e);
                    if (focused) {
                        setTabbableRow(getRowIndex(), e, false);
                        setCurrentTabbableColumn(index, e);
                        setTabbableCell((prev) => {
                            if (prev != null && (prev < index || prev > index + colSpan)) {
                                return prev;
                            }
                            return index;
                        }, e, false);
                    }
                })
            },
        };
    }

    /**
     * This method returns `undefined`.
     *
     * @static
     * @memberOf _
     * @since 2.3.0
     * @category Util
     * @example
     *
     * _.times(2, _.noop);
     * // => [undefined, undefined]
     */
    function noop() {
      // No operation performed.
    }

    //export type UseSingleSelectionChild<E extends Element> = (a: UseSingleSelectionChildParameters<E>) => UseSingleSelectionChildReturnTypeWithHooks<E>;
    function useSingleSelection({ managedChildrenReturn: { getChildren }, rovingTabIndexReturn: { setTabbableIndex }, singleSelectionParameters: { onSelectedIndexChange: onSelectedIndexChange_U, initiallySelectedIndex } }) {
        const onSelectedIndexChange = useStableCallback(onSelectedIndexChange_U ?? noop);
        const getSelectedAt = T$1((m) => { return m.getSelected(); }, []);
        const setSelectedAt = T$1((m, t, newSelectedIndex, prevSelectedIndex) => {
            if (m.hidden) {
                console.assert(false);
            }
            const directionComparison = (newSelectedIndex == m.index ? prevSelectedIndex : newSelectedIndex);
            const direction = (directionComparison == null ? null : (m.index - directionComparison));
            if (newSelectedIndex == null)
                console.assert(t == false);
            if (t)
                console.assert(newSelectedIndex === m.index);
            m.setLocalSelected(t, direction);
        }, []);
        const isSelectedValid = T$1((m) => { return !m.hidden; }, []);
        const { changeIndex: changeSelectedIndex, getCurrentIndex: getSelectedIndex } = useChildrenFlag({
            getChildren,
            onIndexChange: null,
            initialIndex: initiallySelectedIndex,
            getAt: getSelectedAt,
            setAt: setSelectedAt,
            isValid: isSelectedValid,
            closestFit: false
        });
        return {
            singleSelectionReturn: useStableObject({
                getSelectedIndex,
                changeSelectedIndex
            }),
            singleSelectionContext: useStableObject({
                getSelectedIndex,
                onSelectedIndexChange: onSelectedIndexChange
            }),
            childrenHaveFocusParameters: {
                onCompositeFocusChange: useStableCallback((anyFocused, prev, reason) => {
                    if (!anyFocused) {
                        const selectedIndex = getSelectedIndex();
                        if (selectedIndex != null)
                            setTabbableIndex(selectedIndex, reason, false);
                    }
                })
            }
        };
    }
    function useSingleSelectionChild(args) {
        const { singleSelectionContext: { getSelectedIndex, onSelectedIndexChange }, singleSelectionChildParameters: { ariaPropName, selectionMode, disabled }, managedChildParameters: { index } } = args;
        //let lastRecordedDistance = useRef(0);
        useEnsureStability("useSingleSelectionChild", getSelectedIndex, onSelectedIndexChange);
        const getDisabled = useStableGetter(disabled);
        const [localSelected, setLocalSelected, getLocalSelected] = useState(getSelectedIndex() == index);
        const [direction, setDirection, getDirection] = useState(getSelectedIndex() == null ? null : (getSelectedIndex() - index));
        const onCurrentFocusedInnerChanged = useStableCallback((focused, _prev, e) => {
            if (selectionMode == 'focus' && focused) {
                onSelectedIndexChange?.(index, e);
            }
        });
        const onPressSync = useStableCallback(((e) => {
            if (selectionMode == "disabled")
                return;
            if (!disabled)
                onSelectedIndexChange?.(index, e);
        }));
        const propParts = ariaPropName?.split("-") ?? [];
        return {
            //managedChildParameters: { selected, setSelected, getSelected, },
            managedChildParameters: { setLocalSelected: useStableCallback((selected, direction) => {
                    setLocalSelected(selected);
                    setDirection(direction);
                }) },
            singleSelectionChildReturn: {
                selected: localSelected,
                setThisOneSelected: useStableCallback((event) => {
                    console.assert(!getDisabled());
                    onSelectedIndexChange?.(index, event);
                }),
                getSelectedOffset: getDirection,
                selectedOffset: direction,
                getSelected: getLocalSelected,
                //getDistance: useCallback(() => { return lastRecordedDistance.current; }, []),
                propsUnstable: ariaPropName == null || selectionMode == "disabled" ? {} : {
                    [`${propParts[0]}-${propParts[1]}`]: (localSelected ? (propParts[1] == "current" ? `${propParts[2]}` : `true`) : "false")
                }
            },
            pressParameters: { onPressSync },
            hasCurrentFocusParameters: { onCurrentFocusedInnerChanged }
        };
    }
    /**
     * Let's face it, declarative is nicer to use than imperative, so this is a shortcut.
     */
    function useSingleSelectionDeclarative({ singleSelectionReturn: { changeSelectedIndex }, singleSelectionDeclarativeParameters: { selectedIndex } }) {
        h(() => {
            changeSelectedIndex(selectedIndex);
        }, [selectedIndex]);
    }

    function useGridNavigationSingleSelection({ gridNavigationParameters, linearNavigationParameters, rovingTabIndexParameters, managedChildrenReturn, typeaheadNavigationParameters, singleSelectionParameters, ..._void2 }) {
        const gnr = useGridNavigation({
            gridNavigationParameters,
            linearNavigationParameters,
            managedChildrenReturn,
            rovingTabIndexParameters,
            typeaheadNavigationParameters
        });
        const { rovingTabIndexReturn } = gnr;
        const ssr = useSingleSelection({
            managedChildrenReturn,
            rovingTabIndexReturn,
            singleSelectionParameters
        });
        return {
            ...gnr,
            ...ssr,
        };
    }
    function useGridNavigationSingleSelectionRow({ rowAsChildOfGridParameters, rowAsParentOfCellsParameters, ..._void1 }) {
        const { managedChildParameters, hasCurrentFocusParameters: { onCurrentFocusedInnerChanged: ocfic2, ..._void3 }, singleSelectionChildReturn } = useSingleSelectionChild(rowAsChildOfGridParameters);
        const { rowAsChildOfGridReturn: { hasCurrentFocusParameters: { onCurrentFocusedInnerChanged: ocfic1, ..._void2 }, gridNavigationRowParameters, rovingTabIndexChildReturn, textContentReturn, pressParameters, ...void4 }, rowAsParentOfCellsReturn } = useGridNavigationRow({ rowAsChildOfGridParameters, rowAsParentOfCellsParameters });
        const onCurrentFocusedInnerChanged = useStableCallback((focused, prevFocused, e) => { ocfic1?.(focused, prevFocused, e); ocfic2?.(focused, prevFocused, e); });
        return {
            rowAsChildOfGridReturn: {
                pressParameters,
                textContentReturn,
                managedChildParameters,
                hasCurrentFocusParameters: { onCurrentFocusedInnerChanged },
                gridNavigationRowParameters,
                rovingTabIndexChildReturn,
                singleSelectionChildReturn
            },
            rowAsParentOfCellsReturn
        };
    }
    // EZ
    function useGridNavigationSingleSelectionCell(p) {
        return useGridNavigationCell(p);
    }

    /**
     * Copies the values of `source` to `array`.
     *
     * @private
     * @param {Array} source The array to copy values from.
     * @param {Array} [array=[]] The array to copy values to.
     * @returns {Array} Returns `array`.
     */
    function copyArray(source, array) {
      var index = -1,
          length = source.length;

      array || (array = Array(length));
      while (++index < length) {
        array[index] = source[index];
      }
      return array;
    }

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeFloor = Math.floor,
        nativeRandom = Math.random;

    /**
     * The base implementation of `_.random` without support for returning
     * floating-point numbers.
     *
     * @private
     * @param {number} lower The lower bound.
     * @param {number} upper The upper bound.
     * @returns {number} Returns the random number.
     */
    function baseRandom(lower, upper) {
      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));
    }

    /**
     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.
     *
     * @private
     * @param {Array} array The array to shuffle.
     * @param {number} [size=array.length] The size of `array`.
     * @returns {Array} Returns `array`.
     */
    function shuffleSelf(array, size) {
      var index = -1,
          length = array.length,
          lastIndex = length - 1;

      size = size === undefined ? length : size;
      while (++index < size) {
        var rand = baseRandom(index, lastIndex),
            value = array[rand];

        array[rand] = array[index];
        array[index] = value;
      }
      array.length = size;
      return array;
    }

    /**
     * A specialized version of `_.shuffle` for arrays.
     *
     * @private
     * @param {Array} array The array to shuffle.
     * @returns {Array} Returns the new shuffled array.
     */
    function arrayShuffle(array) {
      return shuffleSelf(copyArray(array));
    }

    /**
     * A specialized version of `_.map` for arrays without support for iteratee
     * shorthands.
     *
     * @private
     * @param {Array} [array] The array to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     */
    function arrayMap(array, iteratee) {
      var index = -1,
          length = array == null ? 0 : array.length,
          result = Array(length);

      while (++index < length) {
        result[index] = iteratee(array[index], index, array);
      }
      return result;
    }

    /**
     * The base implementation of `_.values` and `_.valuesIn` which creates an
     * array of `object` property values corresponding to the property names
     * of `props`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array} props The property names to get values for.
     * @returns {Object} Returns the array of property values.
     */
    function baseValues(object, props) {
      return arrayMap(props, function(key) {
        return object[key];
      });
    }

    /**
     * The base implementation of `_.times` without support for iteratee shorthands
     * or max array length checks.
     *
     * @private
     * @param {number} n The number of times to invoke `iteratee`.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the array of results.
     */
    function baseTimes(n, iteratee) {
      var index = -1,
          result = Array(n);

      while (++index < n) {
        result[index] = iteratee(index);
      }
      return result;
    }

    /** Detect free variable `global` from Node.js. */
    var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

    var freeGlobal$1 = freeGlobal;

    /** Detect free variable `self`. */
    var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

    /** Used as a reference to the global object. */
    var root = freeGlobal$1 || freeSelf || Function('return this')();

    var root$1 = root;

    /** Built-in value references. */
    var Symbol$1 = root$1.Symbol;

    var Symbol$2 = Symbol$1;

    /** Used for built-in method references. */
    var objectProto$5 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$3 = objectProto$5.hasOwnProperty;

    /**
     * Used to resolve the
     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
     * of values.
     */
    var nativeObjectToString$1 = objectProto$5.toString;

    /** Built-in value references. */
    var symToStringTag$1 = Symbol$2 ? Symbol$2.toStringTag : undefined;

    /**
     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the raw `toStringTag`.
     */
    function getRawTag(value) {
      var isOwn = hasOwnProperty$3.call(value, symToStringTag$1),
          tag = value[symToStringTag$1];

      try {
        value[symToStringTag$1] = undefined;
        var unmasked = true;
      } catch (e) {}

      var result = nativeObjectToString$1.call(value);
      if (unmasked) {
        if (isOwn) {
          value[symToStringTag$1] = tag;
        } else {
          delete value[symToStringTag$1];
        }
      }
      return result;
    }

    /** Used for built-in method references. */
    var objectProto$4 = Object.prototype;

    /**
     * Used to resolve the
     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
     * of values.
     */
    var nativeObjectToString = objectProto$4.toString;

    /**
     * Converts `value` to a string using `Object.prototype.toString`.
     *
     * @private
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     */
    function objectToString(value) {
      return nativeObjectToString.call(value);
    }

    /** `Object#toString` result references. */
    var nullTag = '[object Null]',
        undefinedTag = '[object Undefined]';

    /** Built-in value references. */
    var symToStringTag = Symbol$2 ? Symbol$2.toStringTag : undefined;

    /**
     * The base implementation of `getTag` without fallbacks for buggy environments.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */
    function baseGetTag(value) {
      if (value == null) {
        return value === undefined ? undefinedTag : nullTag;
      }
      return (symToStringTag && symToStringTag in Object(value))
        ? getRawTag(value)
        : objectToString(value);
    }

    /**
     * Checks if `value` is object-like. A value is object-like if it's not `null`
     * and has a `typeof` result of "object".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
     * @example
     *
     * _.isObjectLike({});
     * // => true
     *
     * _.isObjectLike([1, 2, 3]);
     * // => true
     *
     * _.isObjectLike(_.noop);
     * // => false
     *
     * _.isObjectLike(null);
     * // => false
     */
    function isObjectLike(value) {
      return value != null && typeof value == 'object';
    }

    /** `Object#toString` result references. */
    var argsTag$1 = '[object Arguments]';

    /**
     * The base implementation of `_.isArguments`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     */
    function baseIsArguments(value) {
      return isObjectLike(value) && baseGetTag(value) == argsTag$1;
    }

    /** Used for built-in method references. */
    var objectProto$3 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$2 = objectProto$3.hasOwnProperty;

    /** Built-in value references. */
    var propertyIsEnumerable = objectProto$3.propertyIsEnumerable;

    /**
     * Checks if `value` is likely an `arguments` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     *  else `false`.
     * @example
     *
     * _.isArguments(function() { return arguments; }());
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */
    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {
      return isObjectLike(value) && hasOwnProperty$2.call(value, 'callee') &&
        !propertyIsEnumerable.call(value, 'callee');
    };

    var isArguments$1 = isArguments;

    /**
     * Checks if `value` is classified as an `Array` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an array, else `false`.
     * @example
     *
     * _.isArray([1, 2, 3]);
     * // => true
     *
     * _.isArray(document.body.children);
     * // => false
     *
     * _.isArray('abc');
     * // => false
     *
     * _.isArray(_.noop);
     * // => false
     */
    var isArray = Array.isArray;

    var isArray$1 = isArray;

    /**
     * This method returns `false`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `false`.
     * @example
     *
     * _.times(2, _.stubFalse);
     * // => [false, false]
     */
    function stubFalse() {
      return false;
    }

    /** Detect free variable `exports`. */
    var freeExports$1 = typeof exports == 'object' && exports && !exports.nodeType && exports;

    /** Detect free variable `module`. */
    var freeModule$1 = freeExports$1 && typeof module == 'object' && module && !module.nodeType && module;

    /** Detect the popular CommonJS extension `module.exports`. */
    var moduleExports$1 = freeModule$1 && freeModule$1.exports === freeExports$1;

    /** Built-in value references. */
    var Buffer = moduleExports$1 ? root$1.Buffer : undefined;

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;

    /**
     * Checks if `value` is a buffer.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
     * @example
     *
     * _.isBuffer(new Buffer(2));
     * // => true
     *
     * _.isBuffer(new Uint8Array(2));
     * // => false
     */
    var isBuffer = nativeIsBuffer || stubFalse;

    var isBuffer$1 = isBuffer;

    /** Used as references for various `Number` constants. */
    var MAX_SAFE_INTEGER$1 = 9007199254740991;

    /** Used to detect unsigned integer values. */
    var reIsUint = /^(?:0|[1-9]\d*)$/;

    /**
     * Checks if `value` is a valid array-like index.
     *
     * @private
     * @param {*} value The value to check.
     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
     */
    function isIndex(value, length) {
      var type = typeof value;
      length = length == null ? MAX_SAFE_INTEGER$1 : length;

      return !!length &&
        (type == 'number' ||
          (type != 'symbol' && reIsUint.test(value))) &&
            (value > -1 && value % 1 == 0 && value < length);
    }

    /** Used as references for various `Number` constants. */
    var MAX_SAFE_INTEGER = 9007199254740991;

    /**
     * Checks if `value` is a valid array-like length.
     *
     * **Note:** This method is loosely based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
     * @example
     *
     * _.isLength(3);
     * // => true
     *
     * _.isLength(Number.MIN_VALUE);
     * // => false
     *
     * _.isLength(Infinity);
     * // => false
     *
     * _.isLength('3');
     * // => false
     */
    function isLength(value) {
      return typeof value == 'number' &&
        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
    }

    /** `Object#toString` result references. */
    var argsTag = '[object Arguments]',
        arrayTag = '[object Array]',
        boolTag = '[object Boolean]',
        dateTag = '[object Date]',
        errorTag = '[object Error]',
        funcTag$1 = '[object Function]',
        mapTag = '[object Map]',
        numberTag = '[object Number]',
        objectTag = '[object Object]',
        regexpTag = '[object RegExp]',
        setTag = '[object Set]',
        stringTag = '[object String]',
        weakMapTag = '[object WeakMap]';

    var arrayBufferTag = '[object ArrayBuffer]',
        dataViewTag = '[object DataView]',
        float32Tag = '[object Float32Array]',
        float64Tag = '[object Float64Array]',
        int8Tag = '[object Int8Array]',
        int16Tag = '[object Int16Array]',
        int32Tag = '[object Int32Array]',
        uint8Tag = '[object Uint8Array]',
        uint8ClampedTag = '[object Uint8ClampedArray]',
        uint16Tag = '[object Uint16Array]',
        uint32Tag = '[object Uint32Array]';

    /** Used to identify `toStringTag` values of typed arrays. */
    var typedArrayTags = {};
    typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
    typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
    typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
    typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
    typedArrayTags[uint32Tag] = true;
    typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
    typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
    typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
    typedArrayTags[errorTag] = typedArrayTags[funcTag$1] =
    typedArrayTags[mapTag] = typedArrayTags[numberTag] =
    typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
    typedArrayTags[setTag] = typedArrayTags[stringTag] =
    typedArrayTags[weakMapTag] = false;

    /**
     * The base implementation of `_.isTypedArray` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     */
    function baseIsTypedArray(value) {
      return isObjectLike(value) &&
        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
    }

    /**
     * The base implementation of `_.unary` without support for storing metadata.
     *
     * @private
     * @param {Function} func The function to cap arguments for.
     * @returns {Function} Returns the new capped function.
     */
    function baseUnary(func) {
      return function(value) {
        return func(value);
      };
    }

    /** Detect free variable `exports`. */
    var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;

    /** Detect free variable `module`. */
    var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;

    /** Detect the popular CommonJS extension `module.exports`. */
    var moduleExports = freeModule && freeModule.exports === freeExports;

    /** Detect free variable `process` from Node.js. */
    var freeProcess = moduleExports && freeGlobal$1.process;

    /** Used to access faster Node.js helpers. */
    var nodeUtil = (function() {
      try {
        // Use `util.types` for Node.js 10+.
        var types = freeModule && freeModule.require && freeModule.require('util').types;

        if (types) {
          return types;
        }

        // Legacy `process.binding('util')` for Node.js < 10.
        return freeProcess && freeProcess.binding && freeProcess.binding('util');
      } catch (e) {}
    }());

    var nodeUtil$1 = nodeUtil;

    /* Node.js helper references. */
    var nodeIsTypedArray = nodeUtil$1 && nodeUtil$1.isTypedArray;

    /**
     * Checks if `value` is classified as a typed array.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     * @example
     *
     * _.isTypedArray(new Uint8Array);
     * // => true
     *
     * _.isTypedArray([]);
     * // => false
     */
    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

    var isTypedArray$1 = isTypedArray;

    /** Used for built-in method references. */
    var objectProto$2 = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty$1 = objectProto$2.hasOwnProperty;

    /**
     * Creates an array of the enumerable property names of the array-like `value`.
     *
     * @private
     * @param {*} value The value to query.
     * @param {boolean} inherited Specify returning inherited property names.
     * @returns {Array} Returns the array of property names.
     */
    function arrayLikeKeys(value, inherited) {
      var isArr = isArray$1(value),
          isArg = !isArr && isArguments$1(value),
          isBuff = !isArr && !isArg && isBuffer$1(value),
          isType = !isArr && !isArg && !isBuff && isTypedArray$1(value),
          skipIndexes = isArr || isArg || isBuff || isType,
          result = skipIndexes ? baseTimes(value.length, String) : [],
          length = result.length;

      for (var key in value) {
        if ((inherited || hasOwnProperty$1.call(value, key)) &&
            !(skipIndexes && (
               // Safari 9 has enumerable `arguments.length` in strict mode.
               key == 'length' ||
               // Node.js 0.10 has enumerable non-index properties on buffers.
               (isBuff && (key == 'offset' || key == 'parent')) ||
               // PhantomJS 2 has enumerable non-index properties on typed arrays.
               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||
               // Skip index properties.
               isIndex(key, length)
            ))) {
          result.push(key);
        }
      }
      return result;
    }

    /** Used for built-in method references. */
    var objectProto$1 = Object.prototype;

    /**
     * Checks if `value` is likely a prototype object.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
     */
    function isPrototype(value) {
      var Ctor = value && value.constructor,
          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto$1;

      return value === proto;
    }

    /**
     * Creates a unary function that invokes `func` with its argument transformed.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {Function} transform The argument transform.
     * @returns {Function} Returns the new function.
     */
    function overArg(func, transform) {
      return function(arg) {
        return func(transform(arg));
      };
    }

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeKeys = overArg(Object.keys, Object);

    var nativeKeys$1 = nativeKeys;

    /** Used for built-in method references. */
    var objectProto = Object.prototype;

    /** Used to check objects for own properties. */
    var hasOwnProperty = objectProto.hasOwnProperty;

    /**
     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
    function baseKeys(object) {
      if (!isPrototype(object)) {
        return nativeKeys$1(object);
      }
      var result = [];
      for (var key in Object(object)) {
        if (hasOwnProperty.call(object, key) && key != 'constructor') {
          result.push(key);
        }
      }
      return result;
    }

    /**
     * Checks if `value` is the
     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(_.noop);
     * // => true
     *
     * _.isObject(null);
     * // => false
     */
    function isObject(value) {
      var type = typeof value;
      return value != null && (type == 'object' || type == 'function');
    }

    /** `Object#toString` result references. */
    var asyncTag = '[object AsyncFunction]',
        funcTag = '[object Function]',
        genTag = '[object GeneratorFunction]',
        proxyTag = '[object Proxy]';

    /**
     * Checks if `value` is classified as a `Function` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a function, else `false`.
     * @example
     *
     * _.isFunction(_);
     * // => true
     *
     * _.isFunction(/abc/);
     * // => false
     */
    function isFunction(value) {
      if (!isObject(value)) {
        return false;
      }
      // The use of `Object#toString` avoids issues with the `typeof` operator
      // in Safari 9 which returns 'object' for typed arrays and other constructors.
      var tag = baseGetTag(value);
      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
    }

    /**
     * Checks if `value` is array-like. A value is considered array-like if it's
     * not a function and has a `value.length` that's an integer greater than or
     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
     * @example
     *
     * _.isArrayLike([1, 2, 3]);
     * // => true
     *
     * _.isArrayLike(document.body.children);
     * // => true
     *
     * _.isArrayLike('abc');
     * // => true
     *
     * _.isArrayLike(_.noop);
     * // => false
     */
    function isArrayLike(value) {
      return value != null && isLength(value.length) && !isFunction(value);
    }

    /**
     * Creates an array of the own enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects. See the
     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * for more details.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keys(new Foo);
     * // => ['a', 'b'] (iteration order is not guaranteed)
     *
     * _.keys('hi');
     * // => ['0', '1']
     */
    function keys(object) {
      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
    }

    /**
     * Creates an array of the own enumerable string keyed property values of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property values.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.values(new Foo);
     * // => [1, 2] (iteration order is not guaranteed)
     *
     * _.values('hi');
     * // => ['h', 'i']
     */
    function values(object) {
      return object == null ? [] : baseValues(object, keys(object));
    }

    /**
     * The base implementation of `_.shuffle`.
     *
     * @private
     * @param {Array|Object} collection The collection to shuffle.
     * @returns {Array} Returns the new shuffled array.
     */
    function baseShuffle(collection) {
      return shuffleSelf(values(collection));
    }

    /**
     * Creates an array of shuffled values, using a version of the
     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Collection
     * @param {Array|Object} collection The collection to shuffle.
     * @returns {Array} Returns the new shuffled array.
     * @example
     *
     * _.shuffle([1, 2, 3, 4]);
     * // => [4, 1, 3, 2]
     */
    function shuffle(collection) {
      var func = isArray$1(collection) ? arrayShuffle : baseShuffle;
      return func(collection);
    }

    /**
     * Returns a function that will, when called, force the component
     * that uses this hook to re-render itself.
     *
     * It's a bit smelly, so best to use sparingly.
     */
    function useForceUpdate() {
        const [, set] = p(0);
        return _(() => set(i => ++i)).current;
    }

    /**
     * Hook that allows for the **direct descendant** children of this component to be re-ordered and sorted.
     *
     * *This is **separate** from "managed" children, which can be any level of child needed! Sortable/rearrangeable children must be **direct descendants** of the parent that uses this hook!*
     *
     * It's recommended to use this in conjunction with `useListNavigation`; it takes the same `indexMangler` and `indexDemangler`
     * functions that this hook returns. `useListNavigation` does not directly use this hook because, as mentioned,
     * this hook imposes serious restrictions on child structure, while `useListNavigation` allows anything.
     *
     * Besides the prop-modifying hook that's returned, the `sort` function that's returned will
     * sort all children according to their value from the `getValue` argument you pass in.
     *
     * If you want to perform some re-ordering operation that's *not* a sort, you can manually
     * re-map each child's position using `mangleMap` and `demangleMap`, which convert between
     * sorted and unsorted index positions.
     *
     * Again, unlike some other hooks, **these children must be direct descendants**. This is because
     * the prop-modifying hook inspects the given children, then re-creates them with new `key`s.
     * Because keys are given special treatment and a child has no way of modifying its own key
     * there's no other time or place this can happen other than exactly within the parent component's render function.
     */
    function useRearrangeableChildren({ rearrangeableChildrenParameters: { getIndex, onRearranged } }) {
        // These are used to keep track of a mapping between unsorted index <---> sorted index.
        // These are needed for navigation with the arrow keys.
        const mangleMap = _(new Map());
        const demangleMap = _(new Map());
        const indexMangler = T$1((n) => (mangleMap.current.get(n) ?? n), []);
        const indexDemangler = T$1((n) => (demangleMap.current.get(n) ?? n), []);
        const onRearrangedGetter = useStableGetter(onRearranged);
        //const { setTabbableIndex } = rovingTabIndexReturn;
        const shuffle$1 = T$1((managedRows) => {
            const shuffledRows = shuffle(managedRows.arraySlice());
            return rearrange(shuffledRows);
        }, [ /* Must remain stable */]);
        // The sort function needs to be able to update whoever has all the sortable children.
        // Because that might not be the consumer of *this* hook directly (e.g. a table uses
        // this hook, but it's tbody that actually needs updating), we need to remotely
        // get and set a forceUpdate function.
        //const [getForceUpdate, setForceUpdate] = usePassiveState<null | (() => void)>(null, returnNull);
        const [getForceUpdate, setForceUpdate] = usePassiveState(null, returnNull);
        const rearrange = T$1((sortedRows) => {
            mangleMap.current.clear();
            demangleMap.current.clear();
            // Update our sorted <--> unsorted indices map 
            // and rerender the whole table, basically
            for (let indexAsSorted = 0; indexAsSorted < sortedRows.length; ++indexAsSorted) {
                const indexAsUnsorted = sortedRows[indexAsSorted].index;
                mangleMap.current.set(indexAsUnsorted, indexAsSorted);
                demangleMap.current.set(indexAsSorted, indexAsUnsorted);
            }
            onRearrangedGetter()?.();
            getForceUpdate()?.();
        }, []);
        const useRearrangedChildren = T$1((children) => {
            console.assert(Array.isArray(children));
            const forceUpdate = useForceUpdate();
            s(() => { setForceUpdate(_prev => forceUpdate); }, [forceUpdate]);
            return children
                .slice()
                .map(child => ({ child, mangledIndex: indexMangler(getIndex(child)), demangledIndex: getIndex(child) }))
                .sort((lhs, rhs) => { return lhs.mangledIndex - rhs.mangledIndex; })
                .map(({ child, mangledIndex, demangledIndex }) => {
                return y$1(child.type, { ...child.props, key: demangledIndex, "data-mangled-index": mangledIndex, "data-unmangled-index": demangledIndex });
            });
        }, []);
        const toJsonArray = T$1((managedRows, transform) => {
            return managedRows.arraySlice().map(child => {
                if (transform)
                    return (transform(child));
                else
                    return child.getSortValue();
            });
        }, []);
        return {
            //linearNavigationParameters: { navigateAbsolute, navigateRelative },
            rearrangeableChildrenReturn: {
                indexMangler,
                indexDemangler,
                mangleMap,
                demangleMap,
                rearrange,
                shuffle: shuffle$1,
                useRearrangedChildren,
                toJsonArray
            }
        };
    }
    /**
     * Hook that allows for the **direct descendant** children of this component to be re-ordered and sorted.
     *
     * *This is **separate** from "managed" children, which can be any level of child needed! Sortable/rearrangeable children must be **direct descendants** of the parent that uses this hook!*
     *
     * It's recommended to use this in conjunction with `useListNavigation`; it takes the same `indexMangler` and `indexDemangler`
     * functions that this hook returns. `useListNavigation` does not directly use this hook because, as mentioned,
     * this hook imposes serious restrictions on child structure, while `useListNavigation` allows anything.
     *
     * Besides the prop-modifying hook that's returned, the `sort` function that's returned will
     * sort all children according to their value from the `getValue` argument you pass in.
     *
     * If you want to perform some re-ordering operation that's *not* a sort, you can manually
     * re-map each child's position using `mangleMap` and `demangleMap`, which convert between
     * sorted and unsorted index positions.
     *
     * Again, unlike some other hooks, **these children must be direct descendants**. This is because
     * the prop-modifying hook inspects the given children, then re-creates them with new `key`s.
     * Because keys are given special treatment and a child has no way of modifying its own key
     * there's no other time or place this can happen other than exactly within the parent component's render function.
     */
    function useSortableChildren({ rearrangeableChildrenParameters, sortableChildrenParameters: { compare: userCompare } }) {
        const getCompare = useStableGetter(userCompare ?? defaultCompare);
        const { rearrangeableChildrenReturn } = useRearrangeableChildren({ rearrangeableChildrenParameters });
        const { rearrange } = rearrangeableChildrenReturn;
        // The actual sort function.
        const sort = T$1((managedRows, direction) => {
            const compare = getCompare();
            const sortedRows = compare ? managedRows.arraySlice().sort((lhsRow, rhsRow) => {
                const lhsValue = lhsRow;
                const rhsValue = rhsRow;
                const result = compare(lhsValue, rhsValue);
                if (direction[0] == "d")
                    return -result;
                return result;
            }) : managedRows.arraySlice();
            return rearrange(sortedRows);
        }, [ /* Must remain stable */]);
        return {
            sortableChildrenReturn: { sort },
            rearrangeableChildrenReturn
        };
    }
    /*export interface UseGroupedSortableChildrenParameters<M extends GroupedSortedChildInfo> {
        managedChildrenReturn: UseManagedChildrenReturnType<M>["managedChildrenReturn"]
    }

    export interface UseGroupedSortableChildren {
        linearNavigationParameters: Pick<UseLinearNavigationParameters["linearNavigationParameters"], "indexDemangler" | "indexMangler">
    }*/
    /**
     * It's common enough to have, e.g., a list with multiple sortable groups, a table where the body is sorted independently of the head, etc...
     *
     * A sortable group assumes that the parent (which also calls this hook) handles list navigation (or similar),
     * and that each group element (which can also be the list parent, if there are NO groups) handles sorting (or similar).
     */
    /*export function useGroupedSortableChildren<M extends GroupedSortedChildInfo>({ managedChildrenReturn: { getChildren } }: UseGroupedSortableChildrenParameters<M>): UseGroupedSortableChildren {
        const allIndexManglers = useRef<Map<number, (i: number) => number>>(new Map());
        const allIndexDemanglers = useRef<Map<number, (i: number) => number>>(new Map());
        const indexMangler = useCallback((i: number): number => {
            const child = getChildren().getAt(i);
            if (child) {
                let indexManglerForThisLocation = allIndexManglers.current.get(child.locationIndex);
                return (indexManglerForThisLocation ?? identity)(i);
            }
            return identity(i);
        }, []);
        const indexDemangler = useCallback((i: number): number => {
            const child = getChildren().getAt(i);
            if (child) {
                let indexDemanglerForThisLocation = allIndexDemanglers.current.get(child.locationIndex);
                return (indexDemanglerForThisLocation ?? identity)(i);
            }
            return identity(i);
        }, []);


        return {
            linearNavigationParameters: {
                indexMangler,
                indexDemangler
            }
        }
    }*/
    function defaultCompare(lhs, rhs) {
        return compare1(lhs?.getSortValue(), rhs?.getSortValue());
        function compare1(lhs, rhs) {
            if (lhs == null || rhs == null) {
                if (lhs == null)
                    return -1;
                if (rhs == null)
                    return 1;
            }
            return lhs - rhs;
        }
    }

    function useGridNavigationSingleSelectionSortable({ rearrangeableChildrenParameters, sortableChildrenParameters, linearNavigationParameters, ...gridNavigationSingleSelectionParameters }) {
        const { ...scr } = useSortableChildren({ rearrangeableChildrenParameters, sortableChildrenParameters });
        const { rearrangeableChildrenReturn: { indexDemangler, indexMangler } } = scr;
        const gnr = useGridNavigationSingleSelection({
            linearNavigationParameters: { indexDemangler, indexMangler, ...linearNavigationParameters },
            ...gridNavigationSingleSelectionParameters
        });
        return { ...gnr, ...scr, };
    }

    function useListNavigationSingleSelection({ linearNavigationParameters, rovingTabIndexParameters, typeaheadNavigationParameters, singleSelectionParameters, managedChildrenReturn, ..._void3 }) {
        const lnr = useListNavigation({ linearNavigationParameters, rovingTabIndexParameters, typeaheadNavigationParameters, managedChildrenReturn });
        const { rovingTabIndexReturn } = lnr;
        const ssr = useSingleSelection({ rovingTabIndexReturn, managedChildrenReturn, singleSelectionParameters });
        return {
            ...ssr,
            ...lnr,
        };
    }
    function useListNavigationSingleSelectionChild({ managedChildParameters: { index, ..._void5 }, rovingTabIndexChildParameters: { hidden, ...void7 }, singleSelectionChildParameters, singleSelectionContext, rovingTabIndexChildContext, typeaheadNavigationChildContext, refElementReturn, textContentParameters, ..._void1 }) {
        const { hasCurrentFocusParameters: { onCurrentFocusedInnerChanged: ocfic2, ..._void3 }, pressParameters: { onPressSync }, ...sscr } = useSingleSelectionChild({
            managedChildParameters: { index },
            singleSelectionChildParameters,
            singleSelectionContext
        });
        const { hasCurrentFocusParameters: { onCurrentFocusedInnerChanged: ocfic1, ..._void6 }, pressParameters: { excludeSpace }, ...lncr } = useListNavigationChild({
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden },
            rovingTabIndexChildContext,
            typeaheadNavigationChildContext,
            refElementReturn,
            textContentParameters
        });
        return {
            hasCurrentFocusParameters: {
                onCurrentFocusedInnerChanged: useStableCallback((focused, previouslyFocused, e) => {
                    ocfic1?.(focused, previouslyFocused, e);
                    ocfic2?.(focused, previouslyFocused, e);
                })
            },
            pressParameters: { onPressSync, excludeSpace },
            ...sscr,
            ...lncr
        };
    }

    /**
     * This method returns the first argument it receives.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Util
     * @param {*} value Any value.
     * @returns {*} Returns `value`.
     * @example
     *
     * var object = { 'a': 1 };
     *
     * console.log(_.identity(object) === object);
     * // => true
     */
    function identity$2(value) {
      return value;
    }

    function usePaginatedChildren({ managedChildrenReturn: { getChildren }, linearNavigationParameters: { indexDemangler }, paginatedChildrenParameters: { paginationMax, paginationMin } }) {
        const [childCount, setChildCount] = useState(null);
        const parentIsPaginated = (paginationMin != null || paginationMax != null);
        const lastPagination = _({ paginationMax: null, paginationMin: null });
        const refreshPagination = T$1((paginationMin, paginationMax) => {
            const childMax = (getChildren().getHighestIndex() + 1);
            for (let i = 0; i <= childMax; ++i) {
                const visible = (i >= (paginationMin ?? -Infinity) && i < (paginationMax ?? Infinity));
                getChildren().getAt(indexDemangler(i))?.setParentIsPaginated(parentIsPaginated);
                getChildren().getAt(indexDemangler(i))?.setPaginationVisible(visible);
                if (visible)
                    getChildren().getAt(indexDemangler(i))?.setChildCountIfPaginated(getChildren().getHighestIndex() + 1);
            }
        }, [ /* Must be empty */]);
        s(() => {
            refreshPagination(paginationMin, paginationMax);
            lastPagination.current.paginationMax = paginationMax;
            lastPagination.current.paginationMin = paginationMin;
        }, [paginationMax, paginationMin]);
        // TODO: Modification during render
        const p = _(parentIsPaginated);
        p.current = parentIsPaginated;
        return {
            context: useStableObject({
                paginatedChildContext: useStableObject({
                    getDefaultIsPaginated: T$1(() => { return p.current; }, []),
                    // This is only used during setState on mount, so this is fine.
                    // (If we change from paginated to not paginated, this is caught during useLayoutEffect)
                    getDefaultPaginationVisible: T$1((i) => { return parentIsPaginated ? (i >= (paginationMin ?? -Infinity) && i < (paginationMax ?? Infinity)) : true; }, [])
                })
            }),
            managedChildrenParameters: {
                onChildCountChange: useStableCallback((count) => {
                    if (paginationMax != null || paginationMin != null) {
                        setChildCount(count);
                        const min = (paginationMin ?? 0);
                        const max = (paginationMax ?? count);
                        for (let i = min; i < max; ++i) {
                            getChildren().getAt(i)?.setParentIsPaginated(parentIsPaginated);
                            getChildren().getAt(i)?.setChildCountIfPaginated(count);
                        }
                    }
                    else {
                        // TODO: Make this debug only.
                        setChildCount(null);
                    }
                }),
            },
            paginatedChildrenReturn: { refreshPagination, childCount }
        };
    }
    function usePaginatedChild({ managedChildParameters: { index }, context: { paginatedChildContext: { getDefaultPaginationVisible, getDefaultIsPaginated } } }) {
        const [parentIsPaginated, setParentIsPaginated] = useState(getDefaultIsPaginated());
        const [childCountIfPaginated, setChildCountIfPaginated] = useState(null);
        const [paginatedVisible, setPaginatedVisible] = useState(getDefaultPaginationVisible(index));
        return {
            props: !parentIsPaginated ? {} : { "aria-setsize": childCountIfPaginated ?? undefined, "aria-posinset": (index + 1) },
            paginatedChildReturn: { paginatedVisible, isPaginated: parentIsPaginated, hideBecausePaginated: parentIsPaginated ? !paginatedVisible : false },
            managedChildParameters: {
                setPaginationVisible: setPaginatedVisible,
                setChildCountIfPaginated,
                setParentIsPaginated
            }
        };
    }

    /**
     * Allows children to each wait until the previous has finished rendering before itself rendering.
     *
     * E.G. Child #3 waits until #2 renders. #2 waits until #1 renders, etc.
     *
     * Note that the child itself will still render, but you can delay rendering *its* children, or
     * delay other complicated or heavy logic, until the child is no longer staggered.
     */
    function useStaggeredChildren({ managedChildrenReturn: { getChildren }, staggeredChildrenParameters: { staggered } }) {
        // By default, when a child mounts, we tell the next child to mount and simply repeat.
        // If a child is missing, however, it will break that chain.
        // To guard against that, we also wait for 50ms, and if it hasn't loaded by then, we just continue as if it did.
        const [currentlyStaggering, setCurrentlyStaggering] = useState(staggered);
        const timeoutHandle = _(-1);
        const resetEmergencyTimeout = T$1(() => {
            if (timeoutHandle.current != -1)
                clearTimeout(timeoutHandle.current);
            timeoutHandle.current = setTimeout(() => {
                // We've gone this long without hearing the next child mount itself...
                // We need to continue.
                timeoutHandle.current = -1;
                setDisplayedStaggerIndex(c => Math.min(getTargetStaggerIndex() ?? 0, (c ?? 0) + 1));
            }, 50);
        }, [ /* Must be empty */]);
        // The target index is the index that we're "animating" to.
        // Each child simply sets this to the highest value ever seen.
        // TODO: When unmounting children, we should reset this, but that requires us to track total # of children
        const [getTargetStaggerIndex, setTargetStaggerIndex] = usePassiveState(T$1((newIndex, prevIndex) => {
            // Any time our target changes,
            // ensure our timeout is running, and start a new one if not
            // For any newly mounted children, make sure they're aware of if they should consider themselves staggered or not
            for (let i = (prevIndex ?? 0); i < (newIndex ?? 0); ++i) {
                getChildren().getAt(i)?.setParentIsStaggered(parentIsStaggered);
            }
            if (timeoutHandle.current == -1) {
                resetEmergencyTimeout();
                // If there's no timeout running, then that also means we're not waiting for a child to mount.
                // So ask a child to mount and then wait for that child to mount.
                setDisplayedStaggerIndex(c => Math.min(newIndex ?? 0, (c ?? 0) + 1));
            }
        }, [ /* Must be empty */]), returnNull);
        //const [getTimeoutHandle, setTimeoutHandle] = usePassiveState<number | null, Event>(null, returnNull);
        const [getDisplayedStaggerIndex, setDisplayedStaggerIndex] = usePassiveState(T$1((newIndex, prevIndex) => {
            if (newIndex == null) {
                return;
            }
            setCurrentlyStaggering(newIndex >= (getTargetStaggerIndex() ?? 0));
            // It's time to show the next child,
            // either because the current one finished mounting,
            // or because our emergency backup timeout fired.
            //
            // Either way, tell the next child to show itself.
            // Also make sure that anyone we skipped somehow show themselves as well.
            for (let i = (prevIndex ?? 0); i < newIndex; ++i) {
                getChildren().getAt(i)?.setStaggeredVisible(true);
            }
            // Set a new emergency timeout
            resetEmergencyTimeout();
            /*if (newIndex < targetIndex) {
                const handle = setTimeout(() => { setDisplayedStaggerIndex(c => (c ?? 0) + 1); }, staggerDelay ?? 50);
                return clearTimeout(handle);
            }*/
        }, [ /* Must be empty */]), returnNull);
        const parentIsStaggered = (!!staggered);
        const childCallsThisToTellTheParentToMountTheNextOne = T$1((index) => {
            setDisplayedStaggerIndex(s => Math.min((getTargetStaggerIndex() ?? 0), 1 + (Math.max(s ?? 0, index + 1))));
        }, []);
        s(() => {
            getChildren().forEach(child => child.setParentIsStaggered(parentIsStaggered));
            //if (parentIsStaggered)
            //    childCallsThisToTellTheParentToMountTheNextOne(-1);
        }, [parentIsStaggered]);
        const childCallsThisToTellTheParentTheHighestIndex = T$1((mountedIndex) => {
            setTargetStaggerIndex(i => Math.max((i ?? 0), 1 + mountedIndex));
        }, []);
        // TODO: Modification during render
        const s$1 = _(parentIsStaggered);
        s$1.current = parentIsStaggered;
        return {
            staggeredChildrenReturn: { stillStaggering: currentlyStaggering },
            context: useStableObject({
                staggeredChildContext: useStableObject({
                    childCallsThisToTellTheParentToMountTheNextOne,
                    childCallsThisToTellTheParentTheHighestIndex,
                    // These are used during setState, so just once during mount.
                    // It's okay that the dependencies aren't included.
                    // It's more important that these can be called during render.
                    //
                    // (If we switch, this is caught during useLayoutEffect anyway)
                    getDefaultIsStaggered: T$1(() => {
                        return parentIsStaggered;
                    }, []),
                    getDefaultStaggeredVisible: T$1((i) => {
                        if (parentIsStaggered) {
                            const staggerIndex = getDisplayedStaggerIndex();
                            if (staggerIndex == null)
                                return false;
                            return i < staggerIndex;
                        }
                        else {
                            return true;
                        }
                    }, [])
                })
            }),
        };
    }
    function useStaggeredChild({ managedChildParameters: { index }, context: { staggeredChildContext: { childCallsThisToTellTheParentTheHighestIndex, getDefaultIsStaggered, getDefaultStaggeredVisible, childCallsThisToTellTheParentToMountTheNextOne } } }) {
        const [parentIsStaggered, setParentIsStaggered] = useState(getDefaultIsStaggered());
        const [staggeredVisible, setStaggeredVisible] = useState(getDefaultStaggeredVisible(index));
        s(() => {
            childCallsThisToTellTheParentTheHighestIndex(index);
        }, [index]);
        h(() => {
            if ((parentIsStaggered && staggeredVisible))
                childCallsThisToTellTheParentToMountTheNextOne(index);
        }, [index, (parentIsStaggered && staggeredVisible)]);
        return {
            props: !parentIsStaggered ? {} : { "aria-busy": (!staggeredVisible).toString() },
            staggeredChildReturn: { staggeredVisible, isStaggered: parentIsStaggered, hideBecauseStaggered: parentIsStaggered ? !staggeredVisible : false },
            managedChildParameters: {
                setStaggeredVisible: setStaggeredVisible,
                setParentIsStaggered,
            }
        };
    }

    /**
     * Allows a composite component (such as a radio group or listbox) to listen
     * for an "overall focusin/out" event; this hook lets you know when focus has
     * moved in/out of this grouping of children EVEN IF there is no actual parent DOM element.
     *
     * I.E. you can use this without needing a parent `<div>` to listen for a `focusout` event.
     */
    function useChildrenHaveFocus(args) {
        const { childrenHaveFocusParameters: { onCompositeFocusChange } } = args;
        const [getAnyFocused, setAnyFocused] = usePassiveState(onCompositeFocusChange, returnFalse, runImmediately);
        const [_getFocusCount, setFocusCount] = usePassiveState(useStableCallback((anyFocused, anyPreviouslyFocused, e) => {
            console.assert(anyFocused >= 0 && anyFocused <= 1);
            setAnyFocused(!!(anyFocused && !anyPreviouslyFocused), e);
        }));
        return {
            childrenHaveFocusReturn: { getAnyFocused },
            childrenHaveFocusChildContext: useStableObject({ childrenHaveFocusChildParameters: useStableObject({ setFocusCount }) }),
        };
    }
    function useChildrenHaveFocusChild({ childrenHaveFocusChildContext: { childrenHaveFocusChildParameters: { setFocusCount } } }) {
        return {
            hasCurrentFocusParameters: {
                onCurrentFocusedInnerChanged: useStableCallback((focused, prev, e) => {
                    if (focused) {
                        setFocusCount(p => (p ?? 0) + 1, e);
                    }
                    else if (!focused && prev) {
                        setFocusCount(p => (p ?? 0) - 1, e);
                    }
                }),
            }
        };
    }

    function useHasCurrentFocus(args) {
        const { hasCurrentFocusParameters: { onCurrentFocusedChanged: onFocusedChanged, onCurrentFocusedInnerChanged: onFocusedInnerChanged }, refElementReturn: { getElement } } = args;
        useEnsureStability("useHasCurrentFocus", onFocusedChanged, onFocusedInnerChanged, getElement);
        const [getFocused, setFocused] = usePassiveState(onFocusedChanged, returnFalse, runImmediately);
        const [getFocusedInner, setFocusedInner] = usePassiveState(onFocusedInnerChanged, returnFalse, runImmediately);
        const onFocusIn = T$1((e) => {
            setFocusedInner(true, e);
            setFocused(e.target == getElement(), e);
        }, []);
        const onFocusOut = T$1((e) => {
            // Even if we're focusOut-ing to another inner element,
            // that'll be caught during onFocusIn,
            // so just set everything to false and let that revert things back to true if necessary.
            setFocusedInner(false, e);
            setFocused(false, e);
        }, []);
        h(() => {
            return () => {
                setFocused(false);
                setFocusedInner(false);
            };
        }, []);
        const propsStable = _({
            onfocusin: onFocusIn,
            onfocusout: onFocusOut
        });
        h(() => {
            return () => {
                setFocused(false);
                setFocusedInner(false);
            };
        }, []);
        return {
            hasCurrentFocusReturn: {
                propsStable: propsStable.current,
                getCurrentFocused: getFocused,
                getCurrentFocusedInner: getFocusedInner,
            }
        };
    }

    function useCompleteGridNavigation({ gridNavigationParameters, linearNavigationParameters, rovingTabIndexParameters, singleSelectionParameters, typeaheadNavigationParameters, sortableChildrenParameters, rearrangeableChildrenParameters, paginatedChildrenParameters, staggeredChildrenParameters }) {
        const getChildren = T$1(() => managedChildrenReturn.getChildren(), []);
        const getHighestChildIndex = T$1(() => getChildren().getHighestIndex(), []);
        const isValid = T$1((i) => {
            const child = getChildren().getAt(i);
            if (child == null)
                return false;
            if (child.hidden)
                return false;
            return true;
        }, []);
        const { childrenHaveFocusParameters, managedChildrenParameters, rovingTabIndexChildContext, singleSelectionContext, typeaheadNavigationChildContext, gridNavigationRowContext, rearrangeableChildrenReturn, ...gridNavigationSingleSelectionReturn } = useGridNavigationSingleSelectionSortable({
            gridNavigationParameters,
            linearNavigationParameters: { getHighestIndex: getHighestChildIndex, isValid, ...linearNavigationParameters },
            managedChildrenReturn: { getChildren },
            rovingTabIndexParameters: { initiallyTabbedIndex: singleSelectionParameters.initiallySelectedIndex, ...rovingTabIndexParameters },
            singleSelectionParameters,
            typeaheadNavigationParameters: { isValid, ...typeaheadNavigationParameters },
            rearrangeableChildrenParameters: {
                onRearranged: useStableCallback(() => { refreshPagination(paginatedChildrenParameters.paginationMin, paginatedChildrenParameters.paginationMax); }),
                ...rearrangeableChildrenParameters
            },
            sortableChildrenParameters
        });
        const { linearNavigationReturn, typeaheadNavigationReturn } = gridNavigationSingleSelectionReturn;
        const { indexDemangler } = rearrangeableChildrenReturn;
        const { childrenHaveFocusChildContext, childrenHaveFocusReturn } = useChildrenHaveFocus({ childrenHaveFocusParameters });
        const { context: { managedChildContext }, managedChildrenReturn } = useManagedChildren({ managedChildrenParameters: { onChildCountChange: useStableCallback(c => onChildCountChange(c)), ...managedChildrenParameters } });
        const { paginatedChildrenReturn, paginatedChildrenReturn: { refreshPagination }, managedChildrenParameters: { onChildCountChange }, context: { paginatedChildContext } } = usePaginatedChildren({ managedChildrenReturn, paginatedChildrenParameters, linearNavigationParameters: { indexDemangler } });
        const { context: { staggeredChildContext }, staggeredChildrenReturn } = useStaggeredChildren({ managedChildrenReturn, staggeredChildrenParameters });
        const props = useMergedProps(linearNavigationReturn.propsStable, typeaheadNavigationReturn.propsStable);
        /*const getDefaultPaginationVisible = useStableCallback((i: number) => {
            return (i >= (paginatedChildrenParameters.paginationMin ?? -Infinity)) && (i < (paginatedChildrenParameters.paginationMax ?? Infinity));
        });*/
        const context = useStableObject({
            singleSelectionContext,
            managedChildContext,
            rovingTabIndexChildContext,
            typeaheadNavigationChildContext,
            childrenHaveFocusChildContext,
            gridNavigationRowContext,
            paginatedChildContext,
            staggeredChildContext
        });
        return {
            context,
            props,
            managedChildrenReturn,
            rearrangeableChildrenReturn,
            staggeredChildrenReturn,
            ...gridNavigationSingleSelectionReturn,
            childrenHaveFocusReturn,
            paginatedChildrenReturn,
        };
    }
    function useCompleteGridNavigationRow({ rowAsChildOfGridParameters: { managedChildParameters, context: { childrenHaveFocusChildContext, gridNavigationRowContext, managedChildContext: mcc1, rovingTabIndexChildContext, singleSelectionContext, typeaheadNavigationChildContext, staggeredChildContext, paginatedChildContext }, completeGridNavigationRowParameters, singleSelectionChildParameters, rovingTabIndexChildParameters, rovingTabIndexChildParameters: { hidden }, textContentParameters, ...rowAsChildOfGridParameters }, rowAsParentOfCellsParameters: { linearNavigationParameters, rovingTabIndexParameters, typeaheadNavigationParameters, ...rowAsParentOfCellsParameters } }) {
        const { index } = managedChildParameters;
        const { managedChildParameters: { setChildCountIfPaginated, setPaginationVisible, setParentIsPaginated }, paginatedChildReturn: { paginatedVisible, isPaginated, hideBecausePaginated }, props: paginationProps } = usePaginatedChild({ managedChildParameters: { index }, context: { paginatedChildContext } });
        const { managedChildParameters: { setParentIsStaggered, setStaggeredVisible }, staggeredChildReturn: { staggeredVisible, isStaggered, hideBecauseStaggered }, props: staggeredProps } = useStaggeredChild({ managedChildParameters: { index }, context: { staggeredChildContext } });
        rovingTabIndexChildParameters.hidden ||= (hideBecausePaginated || hideBecauseStaggered);
        singleSelectionChildParameters.disabled ||= rovingTabIndexChildParameters.hidden;
        const getChildren = T$1(() => managedChildrenReturn.getChildren(), []);
        const getHighestChildIndex = T$1(() => getChildren().getHighestIndex(), []);
        const isValid = T$1((i) => {
            const child = getChildren().getAt(i);
            if (child == null)
                return false;
            if (child.hidden)
                return false;
            return true;
        }, []);
        const { refElementReturn } = useRefElement({ refElementParameters: {} });
        const r = useGridNavigationSingleSelectionRow({
            rowAsParentOfCellsParameters: {
                ...rowAsParentOfCellsParameters,
                rovingTabIndexParameters: { initiallyTabbedIndex: 0, ...rovingTabIndexParameters },
                typeaheadNavigationParameters: { isValid, ...typeaheadNavigationParameters },
                linearNavigationParameters: { isValid, getHighestIndex: getHighestChildIndex, pageNavigationSize: 0, indexDemangler: identity$2, indexMangler: identity$2, ...linearNavigationParameters },
                managedChildrenReturn: { getChildren },
            },
            rowAsChildOfGridParameters: {
                ...rowAsChildOfGridParameters,
                refElementReturn,
                rovingTabIndexChildParameters,
                gridNavigationRowContext,
                rovingTabIndexChildContext,
                singleSelectionContext,
                typeaheadNavigationChildContext,
                singleSelectionChildParameters,
                managedChildParameters,
                textContentParameters: { hidden, ...textContentParameters },
                managedChildrenReturn: { getChildren },
            }
        });
        const { rowAsChildOfGridReturn, rowAsParentOfCellsReturn } = r;
        const { context: { managedChildContext }, managedChildrenReturn } = useManagedChildren({ managedChildrenParameters: r.rowAsParentOfCellsReturn.managedChildrenParameters });
        const { getElement } = refElementReturn;
        const baseInfo = {
            getElement,
            setTabbable: r.rowAsChildOfGridReturn.rovingTabIndexChildReturn.setTabbable,
            getTabbable: r.rowAsChildOfGridReturn.rovingTabIndexChildReturn.getTabbable,
            tabbable: r.rowAsChildOfGridReturn.rovingTabIndexChildReturn.tabbable,
            index: managedChildParameters.index,
            hidden: rovingTabIndexChildParameters.hidden,
            selected: r.rowAsChildOfGridReturn.singleSelectionChildReturn.selected,
            focusSelf: r.rowAsChildOfGridReturn.gridNavigationRowParameters.focusSelf,
            getSelected: r.rowAsChildOfGridReturn.singleSelectionChildReturn.getSelected,
            setLocalSelected: r.rowAsChildOfGridReturn.managedChildParameters.setLocalSelected,
            disabled: singleSelectionChildParameters.disabled,
            setTabbableColumnIndex: r.rowAsChildOfGridReturn.gridNavigationRowParameters.setTabbableColumnIndex,
            getSortValue: rowAsChildOfGridParameters.sortableChildParameters.getSortValue,
            setPaginationVisible,
            setChildCountIfPaginated: setChildCountIfPaginated,
            setParentIsPaginated,
            setParentIsStaggered,
            setStaggeredVisible
        };
        const { managedChildReturn } = useManagedChild({ context: { managedChildContext: mcc1 }, managedChildParameters: { index } }, { ...baseInfo, ...completeGridNavigationRowParameters });
        const context = useStableObject({
            managedChildContext,
            rovingTabIndexChildContext: r.rowAsParentOfCellsReturn.rovingTabIndexChildContext,
            typeaheadNavigationChildContext: r.rowAsParentOfCellsReturn.typeaheadNavigationChildContext,
            // completeGridNavigationContext: useStableObject({}),
            gridNavigationCellContext: r.rowAsParentOfCellsReturn.gridNavigationCellContext,
        });
        const { hasCurrentFocusParameters } = useChildrenHaveFocusChild({ childrenHaveFocusChildContext });
        //const { refElementReturn } = useRefElement<RowElement>({ refElementParameters: {} })
        const { hasCurrentFocusReturn } = useHasCurrentFocus({ refElementReturn, hasCurrentFocusParameters: { ...hasCurrentFocusParameters, onCurrentFocusedChanged: null } });
        const props = useMergedProps(refElementReturn.propsStable, 
        // TODO: Rows don't use tabIndex, but just excluding props here is...weird.
        //r.rowAsChildOfGridReturn.rovingTabIndexChildReturn.propsUnstable,
        r.rowAsChildOfGridReturn.singleSelectionChildReturn.propsUnstable, r.rowAsParentOfCellsReturn.linearNavigationReturn.propsStable, r.rowAsParentOfCellsReturn.typeaheadNavigationReturn.propsStable, hasCurrentFocusReturn.propsStable, paginationProps, staggeredProps);
        return {
            context,
            props,
            rowAsParentOfCellsReturn: {
                ...rowAsParentOfCellsReturn,
                managedChildrenReturn
            },
            rowAsChildOfGridReturn: {
                ...rowAsChildOfGridReturn,
                managedChildReturn,
                staggeredChildReturn: { isStaggered, staggeredVisible, hideBecauseStaggered },
                paginatedChildReturn: { isPaginated, paginatedVisible, hideBecausePaginated }
            },
            hasCurrentFocusReturn
            //managedChildrenReturn,
            //...gridNavigationSingleSelectionReturn
        };
    }
    function useCompleteGridNavigationCell({ gridNavigationCellParameters, managedChildParameters, context: { gridNavigationCellContext, managedChildContext, rovingTabIndexChildContext, typeaheadNavigationChildContext }, rovingTabIndexChildParameters: { hidden }, rovingTabIndexChildParameters, textContentParameters, 
    //managedChildContext,
    completeGridNavigationCellParameters: { focusSelf, ...completeGridNavigationCellParameters },
    //sortableChildParameters: { getSortValue },
    //    pressParameters: { onPressSync, ...pressParameters },
     }) {
        const { index } = managedChildParameters;
        const { refElementReturn } = useRefElement({ refElementParameters: {} });
        const { hasCurrentFocusParameters, rovingTabIndexChildReturn, textContentReturn, pressParameters } = useGridNavigationSingleSelectionCell({
            gridNavigationCellContext,
            gridNavigationCellParameters,
            managedChildParameters,
            rovingTabIndexChildContext,
            typeaheadNavigationChildContext,
            rovingTabIndexChildParameters,
            refElementReturn,
            textContentParameters: { hidden, ...textContentParameters }
        });
        const { hasCurrentFocusReturn } = useHasCurrentFocus({ hasCurrentFocusParameters: { onCurrentFocusedChanged: null, ...hasCurrentFocusParameters }, refElementReturn });
        /* const { pressReturn } = usePress<CellElement>({
             pressParameters: {
                 onPressSync: useStableCallback<NonNullable<typeof onPressSync>>(e => {
                     onPressSync?.(e);
                     completeGridNavigationContext.onPressSync?.(e);
                 }),
                 focusSelf: null,
                 ...pressParameters
             },
             refElementReturn
         });*/
        const baseInfo = {
            focusSelf,
            getElement: refElementReturn.getElement,
            hidden: rovingTabIndexChildParameters.hidden,
            index: managedChildParameters.index,
            getTabbable: rovingTabIndexChildReturn.getTabbable,
            setTabbable: rovingTabIndexChildReturn.setTabbable,
            tabbable: rovingTabIndexChildReturn.tabbable,
            //getSortValue
        };
        const { managedChildReturn } = useManagedChild({
            context: { managedChildContext },
            managedChildParameters: { index }
        }, {
            ...baseInfo,
            ...completeGridNavigationCellParameters
        });
        const props = useMergedProps(refElementReturn.propsStable, 
        //pressReturn.propsStable,
        rovingTabIndexChildReturn.propsUnstable, hasCurrentFocusReturn.propsStable);
        return {
            props,
            refElementReturn,
            rovingTabIndexChildReturn,
            pressParameters,
            //pressReturn,
            hasCurrentFocusReturn,
            managedChildReturn,
            textContentReturn
        };
    }

    /**
     * All the list-related hooks combined into one giant hook that encapsulates everything.
     *
     * Unlike most others, this hook assume's it's the final one--the "outermost" hook in the component--so it uses `useManagedChildren` and wraps everything up nicely,
     * combining event handlers that are used in multiple sub-hooks, collecting all the necessary context-related data, and merging all known DOM props together.
     *
     *
     *
     * @returns
     */
    function useCompleteListNavigation({ linearNavigationParameters, rearrangeableChildrenParameters, sortableChildrenParameters, typeaheadNavigationParameters, rovingTabIndexParameters, singleSelectionParameters, paginatedChildrenParameters, staggeredChildrenParameters, ...completeListNavigationParameters }) {
        //type M = UseListNavigationSingleSelectionChildInfo<ChildElement>;
        const { initiallySelectedIndex } = singleSelectionParameters;
        const getChildren = T$1(() => managedChildrenReturn.getChildren(), []);
        const getHighestChildIndex = T$1(() => getChildren().getHighestIndex(), []);
        const isValid = T$1((i) => {
            const child = getChildren().getAt(i);
            if (!child)
                return false;
            if (child.hidden)
                return false;
            return true;
        }, []);
        const { rearrangeableChildrenReturn: { indexDemangler, indexMangler, ...rearrangeableChildrenReturn }, sortableChildrenReturn } = useSortableChildren({
            rearrangeableChildrenParameters: {
                onRearranged: useStableCallback(() => { refreshPagination(paginatedChildrenParameters.paginationMin, paginatedChildrenParameters.paginationMax); }),
                ...rearrangeableChildrenParameters
            },
            sortableChildrenParameters
        });
        const { childrenHaveFocusParameters, managedChildrenParameters, rovingTabIndexChildContext, typeaheadNavigationChildContext, singleSelectionContext, linearNavigationReturn, rovingTabIndexReturn, singleSelectionReturn, typeaheadNavigationReturn } = useListNavigationSingleSelection({
            managedChildrenReturn: { getChildren },
            linearNavigationParameters: { getHighestIndex: getHighestChildIndex, isValid, indexDemangler, indexMangler, ...linearNavigationParameters },
            typeaheadNavigationParameters: { isValid, ...typeaheadNavigationParameters },
            rovingTabIndexParameters: { initiallyTabbedIndex: initiallySelectedIndex, ...rovingTabIndexParameters },
            singleSelectionParameters,
            ...completeListNavigationParameters,
        });
        //const { linearNavigationReturn, typeaheadNavigationReturn } = listNavigationSingleSelectionSortableReturn;
        //const [childCount, setChildCount] = useState(0);
        const { childrenHaveFocusChildContext, childrenHaveFocusReturn } = useChildrenHaveFocus({ childrenHaveFocusParameters });
        const { context: { managedChildContext }, managedChildrenReturn } = useManagedChildren({
            managedChildrenParameters: {
                onChildCountChange: useStableCallback((c) => { onChildCountChange(c); }),
                ...managedChildrenParameters
            }
        });
        const { paginatedChildrenReturn, paginatedChildrenReturn: { refreshPagination }, managedChildrenParameters: { onChildCountChange }, context: { paginatedChildContext } } = usePaginatedChildren({ managedChildrenReturn, paginatedChildrenParameters, linearNavigationParameters: { indexDemangler } });
        const { context: { staggeredChildContext }, staggeredChildrenReturn } = useStaggeredChildren({ managedChildrenReturn, staggeredChildrenParameters });
        const props = useMergedProps(linearNavigationReturn.propsStable, typeaheadNavigationReturn.propsStable);
        const context = useStableObject({
            singleSelectionContext,
            managedChildContext,
            rovingTabIndexChildContext,
            typeaheadNavigationChildContext,
            childrenHaveFocusChildContext,
            paginatedChildContext,
            staggeredChildContext
        });
        return {
            context,
            props,
            managedChildrenReturn,
            rearrangeableChildrenReturn: {
                indexDemangler,
                indexMangler,
                ...rearrangeableChildrenReturn
            },
            staggeredChildrenReturn,
            paginatedChildrenReturn,
            sortableChildrenReturn,
            linearNavigationReturn,
            rovingTabIndexReturn,
            singleSelectionReturn,
            typeaheadNavigationReturn,
            childrenHaveFocusReturn
        };
    }
    function useCompleteListNavigationChild({ 
    //managedChildParameters: { hidden, disabled, index, getSortValue },
    completeListNavigationChildParameters: { focusSelf, ...completeListNavigationChildParameters }, singleSelectionChildParameters, rovingTabIndexChildParameters: { hidden }, managedChildParameters, textContentParameters, context: { childrenHaveFocusChildContext, managedChildContext, rovingTabIndexChildContext, singleSelectionContext, typeaheadNavigationChildContext, paginatedChildContext, staggeredChildContext }, 
    //pressParameters: { onPressSync: ops1, ...pressParameters },
    sortableChildParameters: { getSortValue }, ..._void }) {
        const { index } = managedChildParameters;
        const { managedChildParameters: { setChildCountIfPaginated, setPaginationVisible, setParentIsPaginated }, paginatedChildReturn, paginatedChildReturn: { hideBecausePaginated }, props: paginationProps } = usePaginatedChild({ managedChildParameters: { index }, context: { paginatedChildContext } });
        const { managedChildParameters: { setParentIsStaggered, setStaggeredVisible }, staggeredChildReturn, staggeredChildReturn: { hideBecauseStaggered }, props: staggeredProps } = useStaggeredChild({ managedChildParameters, context: { staggeredChildContext } });
        //let { hidden } = rovingTabIndexChildParameters;
        hidden ||= (hideBecausePaginated || hideBecauseStaggered);
        let { disabled } = singleSelectionChildParameters;
        if (hidden)
            disabled = true;
        const { refElementReturn } = useRefElement({ refElementParameters: {} });
        const { getElement } = refElementReturn;
        const { hasCurrentFocusParameters: { onCurrentFocusedInnerChanged: ocfic1 }, pressParameters, rovingTabIndexChildReturn, singleSelectionChildReturn, managedChildParameters: { setLocalSelected } } = useListNavigationSingleSelectionChild({
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden },
            singleSelectionChildParameters: { ...singleSelectionChildParameters },
            rovingTabIndexChildContext,
            singleSelectionContext,
            typeaheadNavigationChildContext,
            refElementReturn,
            textContentParameters: { hidden, ...textContentParameters }
        });
        const { getTabbable, setTabbable, tabbable } = rovingTabIndexChildReturn;
        /* const { pressReturn } = usePress<ChildElement>({
             pressParameters: {
                 ...p1,
                 ...pressParameters,
                 onPressSync: disabled ? null : ((e) => {
                     ops2?.(e);
                     ops1?.(e);
                 })
             }, refElementReturn
         });*/
        const { getSelected, selected } = singleSelectionChildReturn;
        const mcp1 = {
            disabled,
            focusSelf,
            getElement,
            getSelected,
            getTabbable,
            hidden,
            index,
            selected,
            setLocalSelected,
            setTabbable,
            tabbable,
            getSortValue,
            setChildCountIfPaginated,
            setPaginationVisible,
            setParentIsPaginated,
            setParentIsStaggered,
            setStaggeredVisible
        };
        const { managedChildReturn } = useManagedChild({ context: { managedChildContext }, managedChildParameters: { index } }, { ...mcp1, ...completeListNavigationChildParameters });
        const { hasCurrentFocusParameters: { onCurrentFocusedInnerChanged: ocfic2 } } = useChildrenHaveFocusChild({ childrenHaveFocusChildContext });
        const onCurrentFocusedInnerChanged = useStableCallback((focused, prev, e) => {
            ocfic1?.(focused, prev, e);
            ocfic2?.(focused, prev, e);
        });
        const { hasCurrentFocusReturn } = useHasCurrentFocus({ hasCurrentFocusParameters: { onCurrentFocusedInnerChanged, onCurrentFocusedChanged: null }, refElementReturn });
        const props = useMergedProps(refElementReturn.propsStable, hasCurrentFocusReturn.propsStable, rovingTabIndexChildReturn.propsUnstable, singleSelectionChildReturn.propsUnstable, paginationProps, staggeredProps);
        return {
            props,
            pressParameters,
            refElementReturn,
            rovingTabIndexChildReturn,
            singleSelectionChildReturn,
            hasCurrentFocusReturn,
            managedChildReturn,
            paginatedChildReturn,
            staggeredChildReturn
        };
    }
    /*
    function foo<ParentElement extends Element, ChildElement extends Element, M extends UseListNavigationSingleSelectionSortableChildInfo<ChildElement>>(p: UseCompleteListNavigationParameters<ParentElement, ChildElement, M>) {
        const { singleSelectionReturn } = useCompleteListNavigation<ParentElement, ChildElement, M>(p);
        const selectedIndex = 0;
        useSingleSelectionDeclarative({ singleSelectionReturn, singleSelectionDeclarativeParameters: { selectedIndex } })
    }*/

    /**
     * Combines dismissal hooks and focus trap hooks into one.
     *
     * Another in the "complete" series, alongside list/grid navigation and dismissal itself.
     *
     * Use for dialogs, menus, etc.  Anything that can be dismissed and might trap focus, basically.
     *
     * @param param0
     * @returns
     */
    function useModal({ dismissParameters, escapeDismissParameters, focusTrapParameters: { trapActive, ...focusTrapParameters } }) {
        const { open } = dismissParameters;
        //const { getWindow } = escapeDismissParameters;
        //const getDocument = useCallback(() => { return getWindow().document; }, [getWindow]);
        const { refElementPopupReturn, refElementSourceReturn } = useDismiss({ dismissParameters, escapeDismissParameters });
        const { focusTrapReturn, refElementReturn } = useFocusTrap({
            focusTrapParameters: { trapActive: open && trapActive, ...focusTrapParameters },
            refElementParameters: {}
        });
        const { propsStable: pp1 } = refElementPopupReturn;
        const { propsStable: ps2 } = refElementSourceReturn;
        const { propsUnstable: pp3 } = focusTrapReturn;
        const { propsStable: pp4 } = refElementReturn;
        return {
            propsPopup: pp1,
            propsFocusContainer: useMergedProps(pp3, pp4),
            propsSource: ps2,
            refElementPopupReturn,
            refElementSourceReturn,
            focusTrapReturn,
        };
    }

    function useTimeout({ timeout, callback, triggerIndex }) {
        const stableCallback = useStableCallback(() => { startTimeRef.current = null; callback(); });
        const getTimeout = useStableGetter(timeout);
        // Set any time we start timeout.
        // Unset any time the timeout completes
        const startTimeRef = _(null);
        const timeoutIsNull = (timeout == null);
        // Any time the triggerIndex changes (including on mount)
        // restart the timeout.  The timeout does NOT reset
        // when the duration or callback changes, only triggerIndex.
        h(() => {
            if (!timeoutIsNull) {
                const timeout = getTimeout();
                console.assert(timeoutIsNull == (timeout == null));
                if (timeout != null) {
                    startTimeRef.current = +(new Date());
                    const handle = setTimeout(stableCallback, timeout);
                    return () => clearTimeout(handle);
                }
            }
        }, [triggerIndex, timeoutIsNull]);
        const getElapsedTime = T$1(() => {
            return (+(new Date())) - (+(startTimeRef.current ?? new Date()));
        }, []);
        const getRemainingTime = T$1(() => {
            const timeout = getTimeout();
            return timeout == null ? null : Math.max(0, timeout - getElapsedTime());
        }, []);
        return { getElapsedTime, getRemainingTime };
    }

    function supportsPointerEvents() {
        return ("onpointerup" in window);
    }
    /**
     * Adds the necessary event handlers to create a "press"-like event for
     * any element, whether it's a native &lt;button> or regular &lt;div>,
     * and allows for a "long press" that can be used to,
     * e.g., show a tooltip *instead* of activating a press.
     *
     * Notably, the following cases are covered:
     * * The target element is properly focused, even on iOS Safari (*especially* on iOS Safari)
     * * Double-clicks won't select text, it just presses the button twice.
     * * Text selection that happens to end/start with this element won't invoke a press.
     * * The `enter` key immediately invokes a press (by default just once until pressed again), while the `space` key invokes it when released, if focus hasn't moved away from the button.
     * * Haptic feedback (on, like, the one browser combination that supports it &mdash; this can be disabled app-wide with `setButtonVibrate`)
     *
     * In addition, returns a "more accurate" CSS `active` and `hover`; more accurate
     * in that `hover` won't mess up mobile devices that see `hover` and mess up your click events,
     * and in that `active` accurately displays when a press would occur or not.
     *
     * @param onClickSync
     * @param exclude Whether the polyfill shouldn't apply (can specify for specific interactions)
     */
    function usePress(args) {
        const { refElementReturn: { getElement }, pressParameters: { focusSelf, onPressSync, allowRepeatPresses, longPressThreshold, excludeEnter: ee, excludePointer: ep, excludeSpace: es } } = args;
        const excludeEnter = useStableCallback(ee ?? returnFalse);
        const excludeSpace = useStableCallback(es ?? returnFalse);
        const excludePointer = useStableCallback(ep ?? returnFalse);
        const hasPressEvent = (onPressSync != null);
        /**
         * Explanations:
         *
         * It would be nice to just use pointer events for everything,
         * but 2019 iOS devices can't run those, amazingly enough, and
         * that's still pretty recent. So we need to have backup touch
         * events.
         *
         * Why not just use click? Because at the very, very least,
         * we also need to be able to handle space and enter key presses,
         * and that needs to work regardless of if it's a <button> or not.
         *
         * Also, we do still use click, because programmatic clicks can come
         * from anything from ATs to automation scripts, and we don't want
         * to break those. But since we are listening for pointer/touch events,
         * and we can't prevent the subsequent click event from happening,
         * and we **don't want to duplicate press events**, we need to
         * ignore click events that happen in the same tick as a handled press event.
         *
         * When we do a pointermove/touchmove, we check to see if we're still hovering over the element
         * for more accurate "active"/hover detection.
         *
         * "But you have a pointerleave event, why check for hovering during pointermove?"
         *
         * Because for some reason, pointerleave (etc.) aren't fired until *after* pointerup, no matter what.
         *
         */
        // All our checking for pointerdown and up doesn't mean anything if it's
        // a programmatic onClick event, which could come from any non-user source.
        // We want to handle those just like GUI clicks, but we don't want to double-up on press events.
        // So if we handle a press from pointerup, we ignore any subsequent click events, at least for a tick.
        const [getJustHandled, setJustHandled] = usePassiveState(useStableCallback((justHandled, _p, reason) => {
            if (justHandled) {
                const h = setTimeout(() => {
                    setJustHandled(false, reason);
                }, 1);
                return clearTimeout(h);
            }
        }), returnFalse);
        const [longPress, setLongPress] = useState(null);
        const [waitingForSpaceUp, setWaitingForSpaceUp, getWaitingForSpaceUp] = useState(false);
        const [pointerDownStartedHere, setPointerDownStartedHere, getPointerDownStartedHere] = useState(false);
        const [hovering, setHovering, getHovering] = useState(false);
        const onTouchStart = T$1((e) => {
            e.preventDefault();
            e.stopPropagation();
            setPointerDownStartedHere(true);
            setHovering(true);
            setLongPress(false);
            const element = getElement();
            if (element)
                focusSelf(element);
        }, []);
        const onTouchMove = T$1((e) => {
            e.preventDefault();
            e.stopPropagation();
            const element = getElement();
            const touch = e.touches[0];
            // Be as generous as possible with touch events by checking all four corners of the radius too
            const offsets = [
                [0, 0],
                [-touch.radiusX, -touch.radiusY],
                [+touch.radiusX, -touch.radiusY],
                [-touch.radiusX, +touch.radiusY],
                [+touch.radiusX, +touch.radiusY]
            ];
            let hoveringAtAnyPoint = false;
            for (const [x, y] of offsets) {
                const elementAtTouch = document.elementFromPoint((touch?.clientX ?? 0) + x, (touch?.clientY ?? 0) + y);
                hoveringAtAnyPoint ||= (element?.contains(elementAtTouch) ?? false);
            }
            setHovering(hoveringAtAnyPoint);
        }, []);
        const onTouchEnd = T$1((e) => {
            e.preventDefault();
            e.stopPropagation();
            const hovering = getHovering();
            const pointerDownStartedHere = getPointerDownStartedHere();
            setJustHandled(true);
            if (pointerDownStartedHere && hovering) {
                handlePress(e);
            }
            setWaitingForSpaceUp(false);
            setHovering(false);
            setPointerDownStartedHere(false);
        }, []);
        const onPointerDown = T$1((e) => {
            if (!excludePointer()) {
                if ((e.buttons & 1)) {
                    e.preventDefault();
                    e.stopPropagation();
                    setPointerDownStartedHere(true);
                    setHovering(true);
                    setLongPress(false);
                    const element = getElement();
                    if (element)
                        focusSelf(element);
                }
            }
        }, []);
        const onPointerMove = useStableCallback((e) => {
            let listeningForPress = getPointerDownStartedHere();
            // If we're hovering over this element and not holding down the mouse button (or whatever other primary button)
            // then we're definitely not in a press anymore (if we could we'd just wait for onPointerUp, but it could happen outside this element)
            if (!(e.buttons & 1))
                setPointerDownStartedHere(listeningForPress = false);
            if (listeningForPress) {
                //e.preventDefault();
                //e.stopPropagation();
                const element = getElement();
                // Note: elementFromPoint starts reasonably expensive on a decent computer when on the order of 500 or so elements,
                // so we only test for hovering while actively attempting to detect a press
                const elementAtPointer = document.elementFromPoint(e.clientX, e.clientY);
                setHovering(element == elementAtPointer || element?.contains(elementAtPointer) || false);
            }
        });
        const onPointerUp = T$1((e) => {
            const hovering = getHovering();
            const pointerDownStartedHere = getPointerDownStartedHere();
            if (!excludePointer()) {
                setJustHandled(true);
                if (pointerDownStartedHere && hovering) {
                    handlePress(e);
                    e.preventDefault();
                    e.stopPropagation();
                }
            }
            setWaitingForSpaceUp(false);
            setHovering(false);
            setPointerDownStartedHere(false);
            setLongPress(false);
        }, []);
        const onPointerEnter = T$1((_e) => {
            setHovering(true);
        }, []);
        const onPointerLeave = T$1((_e) => {
            setHovering(false);
            setLongPress(false);
        }, []);
        useTimeout({
            callback: () => {
                const element = getElement();
                setLongPress(pointerDownStartedHere && hovering);
                if (element && pointerDownStartedHere && hovering) {
                    focusSelf(element);
                    if (longPressThreshold) {
                        setWaitingForSpaceUp(false);
                        setHovering(false);
                        setPointerDownStartedHere(false);
                    }
                }
            },
            timeout: longPressThreshold ?? null,
            triggerIndex: longPress ? true : (pointerDownStartedHere && hovering)
        });
        const handlePress = useStableCallback((e) => {
            setWaitingForSpaceUp(false);
            setHovering(false);
            setPointerDownStartedHere(false);
            setLongPress(null);
            if (onPressSync) {
                // Note: The element is focused here because of iOS Safari.
                //
                // It's always iOS Safari.
                //
                // iOS Safari (tested on 12) downright refuses to allow 
                // elements to be manually focused UNLESS it happens within
                // an event handler like this.  It also doesn't focus
                // buttons by default when clicked, tapped, etc.
                //
                // If it becomes problematic that button-likes explicitly become
                // focused when they are pressed, then an alternative solution for
                // the question of "how do menu buttons keep their menus open"
                // and other focus-related nonsense needs to be figured out.
                //
                // For iOS Safari.
                //
                const element = getElement();
                if (element)
                    focusSelf(element);
                // Whatever the browser was going to do with this event,
                // forget it. We're turning it into a "press" event.
                e.preventDefault();
                // Also stop anyone else from listening to this event,
                // since we're explicitly handling it.
                // (Notably, this allows labels to wrap inputs, with them
                // both having press event handlers, without double-firing)
                e.stopPropagation();
                // Haptic feedback for this press event
                try {
                    // The default implementation doesn't throw,
                    // but we should guard against user implementations that could.
                    pulse();
                }
                finally {
                    // Actually call our handler.
                    onPressSync(e);
                }
            }
        });
        const onKeyDown = useStableCallback((e) => {
            if (onPressSync) {
                if (e.key == " " && !excludeSpace()) {
                    // We don't actually activate it on a space keydown
                    // but we do preventDefault to stop the page from scrolling.
                    setWaitingForSpaceUp(true);
                    //onActiveStart(e);
                    e.preventDefault();
                }
                if (e.key == "Enter" && !excludeEnter() && (!e.repeat || (allowRepeatPresses ?? false))) {
                    handlePress(e);
                }
            }
        });
        const onKeyUp = useStableCallback((e) => {
            const waitingForSpaceUp = getWaitingForSpaceUp();
            if (waitingForSpaceUp && e.key == " " && !excludeSpace())
                handlePress(e);
        });
        const onClick = useStableCallback((e) => {
            const element = getElement();
            if (onPressSync) {
                e.preventDefault();
                //const element = getElement();
                //if (element)
                //    focusSelf(element);
                if (e.detail > 1) {
                    e.stopImmediatePropagation();
                    e.stopPropagation();
                }
                else {
                    // Listen for "programmatic" click events.
                    if (
                    // Ignore the click events that were *just* handled with pointerup
                    getJustHandled() == false &&
                        // Ignore stray click events that were't fired SPECIFICALLY on this element
                        e.target == element &&
                        // Ignore click events that were fired on a radio that just became checked
                        // (Whenever the `checked` property is changed, all browsers fire a `click` event, no matter the reason for the change,
                        // but since everything's declarative and *we* were the reason for the change, 
                        // this will always be a duplicate event related to whatever we just did.)
                        element?.tagName == 'input' && element.type == 'radio' && element.checked) {
                        // Intentional, for now. Programmatic clicks shouldn't happen in most cases.
                        // TODO: Remove this when I'm confident stray clicks won't be handled.
                        console.assert(false);
                        debugger;
                        handlePress(e);
                    }
                }
            }
        });
        const onFocusOut = useStableCallback((_e) => {
            setWaitingForSpaceUp(false);
        });
        const p = supportsPointerEvents();
        return {
            pressReturn: {
                pseudoActive: ((pointerDownStartedHere && hovering) || waitingForSpaceUp || false),
                //hovering,
                longPress,
                propsUnstable: {
                    onKeyDown,
                    onKeyUp,
                    onTouchStart: !hasPressEvent ? undefined : (!p ? onTouchStart : undefined),
                    onTouchCancel: !hasPressEvent ? undefined : (!p ? onTouchEnd : undefined),
                    onTouchMove: !hasPressEvent ? undefined : (!p ? onTouchMove : undefined),
                    onTouchEnd: !hasPressEvent ? undefined : (!p ? onTouchEnd : undefined),
                    onPointerDown: !hasPressEvent ? undefined : (p ? onPointerDown : undefined),
                    onPointerCancel: !hasPressEvent ? undefined : (p ? onPointerDown : undefined),
                    onPointerMove: !pointerDownStartedHere || !hasPressEvent ? undefined : (p ? onPointerMove : undefined),
                    onPointerUp: !hasPressEvent ? undefined : (p ? onPointerUp : undefined),
                    onPointerEnter: !hasPressEvent ? undefined : (p ? onPointerEnter : undefined),
                    onPointerLeave: !hasPressEvent ? undefined : (p ? onPointerLeave : undefined),
                    onfocusout: onFocusOut,
                    onClick
                },
            }
        };
    }
    let pulse = (("vibrate" in navigator) && (navigator.vibrate instanceof Function)) ? (() => navigator.vibrate(10)) : (() => { });

    function useRandomId({ randomIdParameters: { prefix, otherReferencerProp } }) {
        const id = (prefix + V$1());
        useEnsureStability("useRandomId", prefix, id);
        const referencerElementProps = _(otherReferencerProp == null ? {} : { [otherReferencerProp]: id });
        const sourceElementProps = _({ id });
        useEnsureStability("useRandomIdReferencerElement", otherReferencerProp);
        return {
            propsReferencer: referencerElementProps.current,
            propsSource: sourceElementProps.current,
            randomIdReturn: {
                id: id
            }
        };
    }

    /**
     * While `useRandomId` allows the referencer to use the source's ID, sometimes you also want the reverse too (e.g. I `aria-label` you, you `aria-controls` me. That sort of thing).
     */
    function useRandomDualIds({ randomIdInputParameters, randomIdLabelParameters, }) {
        const { randomIdReturn: randomIdInputReturn, propsReferencer: propsLabelAsReferencer, propsSource: propsInputAsSource } = useRandomId({ randomIdParameters: randomIdInputParameters });
        const { randomIdReturn: randomIdLabelReturn, propsReferencer: propsInputAsReferencer, propsSource: propsLabelAsSource } = useRandomId({ randomIdParameters: randomIdLabelParameters });
        return {
            propsLabel: useMergedProps(propsLabelAsReferencer, propsLabelAsSource),
            propsInput: useMergedProps(propsInputAsReferencer, propsInputAsSource),
            randomIdInputReturn,
            randomIdLabelReturn
        };
    }

    /**
     * Gets the timestamp of the number of milliseconds that have elapsed since
     * the Unix epoch (1 January 1970 00:00:00 UTC).
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Date
     * @returns {number} Returns the timestamp.
     * @example
     *
     * _.defer(function(stamp) {
     *   console.log(_.now() - stamp);
     * }, _.now());
     * // => Logs the number of milliseconds it took for the deferred invocation.
     */
    var now = function() {
      return root$1.Date.now();
    };

    var now$1 = now;

    /** Used to match a single whitespace character. */
    var reWhitespace = /\s/;

    /**
     * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace
     * character of `string`.
     *
     * @private
     * @param {string} string The string to inspect.
     * @returns {number} Returns the index of the last non-whitespace character.
     */
    function trimmedEndIndex(string) {
      var index = string.length;

      while (index-- && reWhitespace.test(string.charAt(index))) {}
      return index;
    }

    /** Used to match leading whitespace. */
    var reTrimStart = /^\s+/;

    /**
     * The base implementation of `_.trim`.
     *
     * @private
     * @param {string} string The string to trim.
     * @returns {string} Returns the trimmed string.
     */
    function baseTrim(string) {
      return string
        ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')
        : string;
    }

    /** `Object#toString` result references. */
    var symbolTag = '[object Symbol]';

    /**
     * Checks if `value` is classified as a `Symbol` primitive or object.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
     * @example
     *
     * _.isSymbol(Symbol.iterator);
     * // => true
     *
     * _.isSymbol('abc');
     * // => false
     */
    function isSymbol(value) {
      return typeof value == 'symbol' ||
        (isObjectLike(value) && baseGetTag(value) == symbolTag);
    }

    /** Used as references for various `Number` constants. */
    var NAN = 0 / 0;

    /** Used to detect bad signed hexadecimal string values. */
    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

    /** Used to detect binary string values. */
    var reIsBinary = /^0b[01]+$/i;

    /** Used to detect octal string values. */
    var reIsOctal = /^0o[0-7]+$/i;

    /** Built-in method references without a dependency on `root`. */
    var freeParseInt = parseInt;

    /**
     * Converts `value` to a number.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     * @example
     *
     * _.toNumber(3.2);
     * // => 3.2
     *
     * _.toNumber(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toNumber(Infinity);
     * // => Infinity
     *
     * _.toNumber('3.2');
     * // => 3.2
     */
    function toNumber(value) {
      if (typeof value == 'number') {
        return value;
      }
      if (isSymbol(value)) {
        return NAN;
      }
      if (isObject(value)) {
        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
        value = isObject(other) ? (other + '') : other;
      }
      if (typeof value != 'string') {
        return value === 0 ? value : +value;
      }
      value = baseTrim(value);
      var isBinary = reIsBinary.test(value);
      return (isBinary || reIsOctal.test(value))
        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
        : (reIsBadHex.test(value) ? NAN : +value);
    }

    /** Error message constants. */
    var FUNC_ERROR_TEXT = 'Expected a function';

    /* Built-in method references for those with the same name as other `lodash` methods. */
    var nativeMax = Math.max,
        nativeMin = Math.min;

    /**
     * Creates a debounced function that delays invoking `func` until after `wait`
     * milliseconds have elapsed since the last time the debounced function was
     * invoked. The debounced function comes with a `cancel` method to cancel
     * delayed `func` invocations and a `flush` method to immediately invoke them.
     * Provide `options` to indicate whether `func` should be invoked on the
     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
     * with the last arguments provided to the debounced function. Subsequent
     * calls to the debounced function return the result of the last `func`
     * invocation.
     *
     * **Note:** If `leading` and `trailing` options are `true`, `func` is
     * invoked on the trailing edge of the timeout only if the debounced function
     * is invoked more than once during the `wait` timeout.
     *
     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
     * until to the next tick, similar to `setTimeout` with a timeout of `0`.
     *
     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
     * for details over the differences between `_.debounce` and `_.throttle`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to debounce.
     * @param {number} [wait=0] The number of milliseconds to delay.
     * @param {Object} [options={}] The options object.
     * @param {boolean} [options.leading=false]
     *  Specify invoking on the leading edge of the timeout.
     * @param {number} [options.maxWait]
     *  The maximum time `func` is allowed to be delayed before it's invoked.
     * @param {boolean} [options.trailing=true]
     *  Specify invoking on the trailing edge of the timeout.
     * @returns {Function} Returns the new debounced function.
     * @example
     *
     * // Avoid costly calculations while the window size is in flux.
     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
     *
     * // Invoke `sendMail` when clicked, debouncing subsequent calls.
     * jQuery(element).on('click', _.debounce(sendMail, 300, {
     *   'leading': true,
     *   'trailing': false
     * }));
     *
     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
     * var source = new EventSource('/stream');
     * jQuery(source).on('message', debounced);
     *
     * // Cancel the trailing debounced invocation.
     * jQuery(window).on('popstate', debounced.cancel);
     */
    function debounce(func, wait, options) {
      var lastArgs,
          lastThis,
          maxWait,
          result,
          timerId,
          lastCallTime,
          lastInvokeTime = 0,
          leading = false,
          maxing = false,
          trailing = true;

      if (typeof func != 'function') {
        throw new TypeError(FUNC_ERROR_TEXT);
      }
      wait = toNumber(wait) || 0;
      if (isObject(options)) {
        leading = !!options.leading;
        maxing = 'maxWait' in options;
        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
        trailing = 'trailing' in options ? !!options.trailing : trailing;
      }

      function invokeFunc(time) {
        var args = lastArgs,
            thisArg = lastThis;

        lastArgs = lastThis = undefined;
        lastInvokeTime = time;
        result = func.apply(thisArg, args);
        return result;
      }

      function leadingEdge(time) {
        // Reset any `maxWait` timer.
        lastInvokeTime = time;
        // Start the timer for the trailing edge.
        timerId = setTimeout(timerExpired, wait);
        // Invoke the leading edge.
        return leading ? invokeFunc(time) : result;
      }

      function remainingWait(time) {
        var timeSinceLastCall = time - lastCallTime,
            timeSinceLastInvoke = time - lastInvokeTime,
            timeWaiting = wait - timeSinceLastCall;

        return maxing
          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
          : timeWaiting;
      }

      function shouldInvoke(time) {
        var timeSinceLastCall = time - lastCallTime,
            timeSinceLastInvoke = time - lastInvokeTime;

        // Either this is the first call, activity has stopped and we're at the
        // trailing edge, the system time has gone backwards and we're treating
        // it as the trailing edge, or we've hit the `maxWait` limit.
        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
      }

      function timerExpired() {
        var time = now$1();
        if (shouldInvoke(time)) {
          return trailingEdge(time);
        }
        // Restart the timer.
        timerId = setTimeout(timerExpired, remainingWait(time));
      }

      function trailingEdge(time) {
        timerId = undefined;

        // Only invoke if we have `lastArgs` which means `func` has been
        // debounced at least once.
        if (trailing && lastArgs) {
          return invokeFunc(time);
        }
        lastArgs = lastThis = undefined;
        return result;
      }

      function cancel() {
        if (timerId !== undefined) {
          clearTimeout(timerId);
        }
        lastInvokeTime = 0;
        lastArgs = lastCallTime = lastThis = timerId = undefined;
      }

      function flush() {
        return timerId === undefined ? result : trailingEdge(now$1());
      }

      function debounced() {
        var time = now$1(),
            isInvoking = shouldInvoke(time);

        lastArgs = arguments;
        lastThis = this;
        lastCallTime = time;

        if (isInvoking) {
          if (timerId === undefined) {
            return leadingEdge(lastCallTime);
          }
          if (maxing) {
            // Handle invocations in a tight loop.
            clearTimeout(timerId);
            timerId = setTimeout(timerExpired, wait);
            return invokeFunc(lastCallTime);
          }
        }
        if (timerId === undefined) {
          timerId = setTimeout(timerExpired, wait);
        }
        return result;
      }
      debounced.cancel = cancel;
      debounced.flush = flush;
      return debounced;
    }

    function identity$1(...t) { return t; }
    /**
     * Given an async function, returns a function that's suitable for non-async APIs,
     * along with other information about the current run's status.
     *
     * See also `useAsyncHandler` for a version that's specialized for DOM event handlers.
     *
     * When called multiple times in quick succession, (i.e. before the handler has finished),
     * this works like Lodash's `throttle` function with the `wait` option always
     * set to however long the handler takes to complete. A second call to the sync function will be
     * throttled until the first call has finished. The return value of the function is the result
     * of the previous invocation, or `undefined` on the first call.
     *
     * The handler is only ever delayed if one is currently running, so, e.g. for iOS touch events the
     * first call happens in the same event handler (which means things like calls to `element.focus()`
     * will work as intended, since that fails when the event is "split up")
     *
     * Finally, because the sync handler may be invoked on a delay, any property references on the arguments
     * provided might be stale by the time it's actually invoked (e.g. accessing `event.currentTarget.checked`
     * is not stable across time because it's a "live" value -- you almost always want the value that it
     * had at the original time the handler was called). The `capture` option allows you to save that kind of
     * dynamic data at the time it runs; the `AP` and `SP` type parameters likewise control
     * the parameters the async handler and sync handler expect respectively.
     *
     */
    function useAsync(asyncHandler2, options) {
        // Things related to current execution
        // Because we can both return and throw undefined, 
        // we need separate state to track their existance too.
        const [pending, setPending, _getPending] = useState(false);
        const [result, setResult, _getResult] = useState(undefined);
        const [error, setError, _getError] = useState(undefined);
        const [hasError, setHasError, _getHasError] = useState(false);
        const [hasResult, setHasResult, _getHasResult] = useState(false);
        const [asyncDebouncing, setAsyncDebouncing] = useState(false);
        const [syncDebouncing, setSyncDebouncing] = useState(false);
        //const [currentCapture, setCurrentCapture] = useState<AP | undefined>(undefined);
        const incrementCallCount = T$1(() => { setRunCount(c => c + 1); }, []);
        const incrementResolveCount = T$1(() => { setResolveCount(c => c + 1); }, []);
        const incrementRejectCount = T$1(() => { setRejectCount(c => c + 1); }, []);
        const incrementFinallyCount = T$1(() => { setSettleCount(c => c + 1); }, []);
        /* eslint-disable prefer-const */
        let { throttle, debounce, capture: captureUnstable } = (options ?? {});
        const captureStable = useStableCallback(captureUnstable ?? identity$1);
        const asyncHandlerStable = useStableCallback(asyncHandler2 ?? identity$1);
        const { flush, syncOutput, cancel } = F$1(() => {
            return asyncToSync({
                asyncInput: asyncHandlerStable,
                capture: captureStable,
                onAsyncDebounce: setAsyncDebouncing,
                onError: setError,
                onPending: setPending,
                onReturnValue: setResult,
                onSyncDebounce: setSyncDebouncing,
                onHasError: setHasError,
                onHasResult: setHasResult,
                onInvoke: incrementCallCount,
                onFinally: incrementFinallyCount,
                onReject: incrementRejectCount,
                onResolve: incrementResolveCount,
                throttle: options?.throttle,
                wait: options?.debounce
            });
        }, [throttle, debounce]);
        h(() => {
            return () => cancel();
        }, [cancel]);
        // We keep, like, a lot of render-state, but it only ever triggers a re-render
        // when we start/stop an async action.
        // Keep track of this for the caller's sake -- we don't really care.
        /*const [currentType, setCurrentType] = useState<null | "sync" | "async">(null);*/
        const [runCount, setRunCount] = useState(0);
        const [settleCount, setSettleCount] = useState(0);
        const [resolveCount, setResolveCount] = useState(0);
        const [rejectCount, setRejectCount] = useState(0);
        return {
            syncHandler: syncOutput,
            //currentType,
            pending,
            result,
            error,
            hasError: hasError || false,
            hasResult: hasResult || false,
            resolveCount,
            rejectCount,
            settleCount,
            debouncingAsync: asyncDebouncing,
            debouncingSync: syncDebouncing,
            callCount: runCount,
            flushDebouncedPromise: flush
        };
    }
    function isPromise(p) {
        return p instanceof Promise;
    }
    const Unset = Symbol("Unset");
    /**
     * lodash-ish function that's like debounce + (throttle w/ async handling) combined.
     *
     * Requires a lot of callbacks to meaningfully turn a red function into a blue one, but you *can* do it!
     * Note that part of this is emulating the fact that the sync handler cannot have a return value,
     * so you'll need to use `setResolve` and the other related functions to do that in whatever way works for your specific scenario.
     *
     * The comments are numbered in approximate execution order for your reading pleasure (1 is near the bottom).
     */
    function asyncToSync({ asyncInput, onInvoke, onFinally: onFinallyAny, onReject, onResolve, onHasError, onHasResult, onError, onReturnValue, capture, onAsyncDebounce, onSyncDebounce, onPending, throttle, wait }) {
        let pending = false;
        let syncDebouncing = false;
        let asyncDebouncing = false;
        let currentCapture = Unset;
        const onFinally = () => {
            // 8. This is run at the end of every invocation of the async handler,
            // whether it completed or not, and whether it was async or not.
            onFinallyAny();
            onPending(pending = false);
            onAsyncDebounce(asyncDebouncing = false);
            if (!asyncDebouncing) ;
            else {
                // 9b. Another request to run the async handler came in while we were running this one.
                // Instead of stopping, we're just going to immediately run again using the arguments that were given to us most recently.
                // We also clear that flag, because we're handling it now. It'll be set again if the handler is called again while *this* one is running
                //onAsyncDebounce(asyncDebouncing = false);
                console.assert(currentCapture !== Unset);
                if (currentCapture != Unset) {
                    onSyncDebounce(syncDebouncing = true);
                    syncDebounced();
                }
            }
        };
        const sync = (...args) => {
            // 5. We're finally running the async version of the function, so notify the caller that the return value is pending.
            // And because the fact that we're here means the debounce/throttle period is over, we can clear that flag too.
            onPending(pending = true);
            console.assert(syncDebouncing == false);
            onHasError(null);
            onHasResult(null);
            let promiseOrReturn;
            let hadSyncError = false;
            try {
                // 6. Run the function we were given.
                // Because it may be sync, or it may throw before returning, we must still wrap it in a try/catch...
                // Also important is that we preserve the async-ness (or lack thereof) on the original input function.
                onInvoke();
                promiseOrReturn = asyncInput(...args);
                onHasError(false);
            }
            catch (ex) {
                hadSyncError = true;
                onError(ex);
            }
            // 7. Either end immediately, or schedule to end when completed.
            if (isPromise(promiseOrReturn)) {
                promiseOrReturn
                    .then(r => { onResolve(); onHasResult(true); onReturnValue(r); return r; })
                    .catch(e => { onReject(); onHasError(true); onError(e); return e; })
                    .finally(onFinally);
            }
            else {
                if (!hadSyncError) {
                    onResolve();
                    onHasResult(true);
                    onHasError(false);
                }
                else {
                    onReject();
                    onHasResult(false);
                    onHasError(true);
                }
                onReturnValue(promiseOrReturn);
                onPending(pending = false);
                onFinally();
            }
        };
        // lodash uses "in" instead of checking for `undefined`...
        const lodashOptions = {
            leading: !wait,
            trailing: true
        };
        if (throttle) {
            if (wait == null || (wait < throttle))
                wait = throttle;
            lodashOptions.maxWait = throttle;
        }
        const syncDebounced = debounce(() => {
            // 3. Instead of calling the sync version of our function directly, we allow it to be throttled/debounced.
            onSyncDebounce(syncDebouncing = false);
            if (!pending) {
                // 4a. If this is the first invocation, or if we're not still waiting for a previous invocation to finish its async call,
                // then we can just go ahead and run the debounced version of our function.
                console.assert(currentCapture != Unset);
                sync(...currentCapture);
            }
            else {
                // 4b. If we were called while still waiting for the (or a) previous invocation to finish,
                // then we'll need to delay this one. When that previous invocation finishes, it'll check
                // to see if it needs to run again, and it will use these new captured arguments from step 2.
                onAsyncDebounce(asyncDebouncing = true);
            }
        }, wait || undefined, lodashOptions);
        return {
            syncOutput: (...args) => {
                // 1. We call the sync version of our async function.
                // 2. We capture the arguments into a form that won't become stale if/when the function is called with a (possibly seconds-long) delay (e.g. event.currentTarget.value on an <input> element).
                currentCapture = capture(...args);
                onSyncDebounce(syncDebouncing = true);
                syncDebounced();
            },
            flush: () => {
                syncDebounced.flush();
            },
            cancel: () => {
                syncDebounced.cancel();
            }
        };
    }
    const { syncOutput } = asyncToSync({
        asyncInput: async (async) => { return 0; },
        capture: (sync) => ["async"],
        onInvoke: () => { },
        onFinally: () => { },
        onReject: () => { },
        onResolve: () => { },
        onAsyncDebounce: () => { },
        onError: () => { },
        onHasError: () => { },
        onHasResult: () => { },
        onPending: () => { },
        onReturnValue: () => { },
        onSyncDebounce: () => { },
        throttle: 0,
        wait: 0
    });
    syncOutput("sync");

    /**
     * Given an asyncronous event handler, returns a syncronous one that works on the DOM,
     * along with some other information related to the current state.
     * Does not modify any props.
     *
     * Note that because the handler you provide may be called with a delay, and
     * because the value of, e.g., an `<input>` element will likely be stale by the
     * time the delay is over, a `capture` function is necessary in order to
     * capture the relevant information from the DOM. Any other simple event data,
     * like `mouseX` or `shiftKey` can stay on the event itself and don't
     * need to be captured &ndash; it's never stale.
     *
     * ```tsx
     * const asyncOnInput = async (value: number, e: Event) => {
     *     [...] // Ex. send to a server and setState when done
     * };
     * const {
     *     // A sync version of asyncOnInput
     *     syncHandler,
     *     // True while the handler is running
     *     pending,
     *     // The error thrown, if any
     *     error,
     *     // Show this value while the operation's pending
     *     currentCapture,
     *     // And others, see `UseAsyncHandlerReturnType`
     *     ...rest
     * } = useAsyncHandler<HTMLInputElement>()(asyncOnInput, {
     *     // Pass in the capture function that saves event data
     *     // from being stale.
     *     capture: e => {
     *         // `capture` can have side-effects because
     *         // it's called exactly once per invocation
     *         e.preventDefault();
     *
     *         // Save this value so that it's never stale
     *         return e.currentTarget.valueAsNumber;
     *     }
     * });
     *
     * const onInput = pending? null : syncHandler;
     * ```
     *
     * The handler is automatically throttled to only run one at a time.
     * If the handler is called, and then before it finishes, is called again,
     * it will be put on hold until the current one finishes, at which point
     * the second one will run.  If the handler is called a third time before
     * the first has finished, it will *replace* the second, so only the most
     * recently called iteration of the handler will run.
     *
     *
     * You may optionally *also* specify debounce and throttle parameters that wait until the
     * syncronous handler has not been called for the specified number of
     * milliseconds, at which point we *actually* run the asyncronous handler
     * according to the logic in the previous paragraph. This is in
     * *addition* to throttling the handler, and does not replace that behavior.
     *
     * @see useAsync A more general version of this hook that can work with any type of handler, not just DOM event handlers.
     */
    function useAsyncHandler({ asyncHandler, capture: originalCapture, ...restAsyncOptions }) {
        // We need to differentiate between "nothing captured yet" and "`undefined` was captured"
        const [currentCapture, setCurrentCapture, getCurrentCapture] = useState(undefined);
        const [hasCapture, setHasCapture] = useState(false);
        // Wrap around the normal `useAsync` `capture` function to also
        // keep track of the last value the user actually input.
        // 
        // Without this there's no way to re-render the control with
        // it being both controlled and also having the "correct" value,
        // and at any rate also protects against sudden exceptions reverting
        // your change out from under you.
        const capture = useStableCallback((e) => {
            const captured = originalCapture(e);
            setCurrentCapture(captured);
            setHasCapture(true);
            return [captured, e];
        });
        return {
            getCurrentCapture,
            currentCapture,
            hasCapture,
            ...useAsync(asyncHandler, { capture, ...restAsyncOptions })
        };
    }

    /**
     * Very basic hook for a root-level component to use to allow any children within the whole app to push children to a portal somewhere.
     *
     * Returns the portal (as `children`, and functions to add, remove, or update a child to the portaled area)
     *
     * TODO: Can't push a child until after the very first `useLayoutEffect`
     *
     * @param param0
     * @returns
     */
    function usePortalChildren({ target }) {
        const [pushChild, setPushChild] = useState(null);
        const [updateChild, setUpdateChild] = useState(null);
        const [removeChild, setRemoveChild] = useState(null);
        const pushChildStable = useStableCallback((child) => {
            return pushChild?.(child) ?? -1;
        });
        const updateChildStable = useStableCallback((index, child) => {
            return updateChild?.(index, child);
        });
        const removeChildStable = useStableCallback((index) => {
            return removeChild?.(index);
        });
        const element = F$1(() => { return target == null ? null : typeof target == "string" ? document.getElementById(target) : target; }, [target]);
        const children = !element ? null : j(o$1(PortalChildren, { setPushChild: setPushChild, setUpdateChild: setUpdateChild, setRemoveChild: setRemoveChild }), element);
        return {
            children: children,
            pushChild: pushChildStable,
            updateChild: updateChildStable,
            removeChild: removeChildStable,
            portalElement: element
        };
    }
    /**
     * Implementation
     */
    function PortalChildren({ setPushChild, setUpdateChild, setRemoveChild }) {
        const [children, setChildren, getChildren] = useState([]);
        const pushChild = T$1((child) => {
            const randomKey = generateRandomId();
            let index = getChildren().length;
            setChildren(prev => ([...prev, F$2(child, { key: randomKey, index })]));
            return index;
        }, []);
        const updateChild = T$1((index, child) => {
            const key = getChildren()[index]?.key;
            console.assert(key);
            if (key) {
                setChildren(prev => {
                    let newChildren = prev.slice();
                    newChildren.splice(index, 1, F$2(child, { key: key, index }));
                    return newChildren;
                });
                return index;
            }
        }, []);
        const removeChild = T$1((index) => {
            const key = getChildren()[index]?.key;
            console.assert(key);
            if (key) {
                setChildren(prev => {
                    let newChildren = prev.slice();
                    newChildren.splice(index, 1);
                    return newChildren;
                });
                return index;
            }
        }, []);
        s(() => { setPushChild(_ => pushChild); }, [pushChild]);
        s(() => { setUpdateChild(_ => updateChild); }, [updateChild]);
        s(() => { setRemoveChild(_ => removeChild); }, [removeChild]);
        return (o$1(_$2, { children: children }));
    }

    function getFromLocalStorage(key, converter = JSON.parse, storage = localStorage) {
        try {
            const item = storage.getItem(key);
            if (item == null)
                return null;
            return converter(item);
        }
        catch (e) {
            /* eslint-disable no-debugger */
            debugger;
            return null;
        }
    }
    function storeToLocalStorage(key, value, converter = JSON.stringify, storage = localStorage) {
        try {
            if (value == null)
                storage.removeItem(key);
            else
                storage.setItem(key, converter(value));
        }
        catch (e) {
            /* eslint-disable no-debugger */
            debugger;
        }
    }
    /**
     * Use module augmentation to get the correct types for this function.
     *
     * ````
     * declare module 'preact-prop-helpers' {
     *     interface PersistentStates {
     *         numberState: number;
     *         stringState: string;
     *     }
     * }
     * ````
     * @param key
     * @param initialValue
     * @param fromString
     * @param toString
     * @returns
     */
    function usePersistentState(key, initialValue, fromString = JSON.parse, toString = JSON.stringify, storage = localStorage) {
        const [localCopy, setLocalCopy, getLocalCopy] = useState(() => ((key ? (getFromLocalStorage(key, fromString, storage)) : null) ?? initialValue));
        const getInitialValue = useStableGetter(initialValue);
        // Ensure that if our key changes, we also update `localCopy` to match.
        s(() => {
            if (key) {
                const newCopy = getFromLocalStorage(key, fromString, storage);
                setLocalCopy(newCopy ?? getInitialValue());
            }
        }, [key, storage]);
        // Listen for changes to this storage in other browser tabs
        useGlobalHandler(window, "storage", useStableCallback((e) => {
            if (key && e.key === key && e.storageArea == storage) {
                const newValue = e.newValue;
                if (newValue != null)
                    setLocalCopy(fromString(newValue));
                else
                    setLocalCopy(initialValue);
            }
        }));
        const setValueWrapper = useStableCallback((valueOrSetter) => {
            const value = typeof valueOrSetter === "function" ? valueOrSetter(getLocalCopy()) : valueOrSetter;
            // Make sure this update is available immediately before the next render
            setLocalCopy(valueOrSetter);
            // Actually save the value to local storage.
            if (key) {
                storeToLocalStorage(key, value, toString, storage);
                if (typeof value == "object" && value instanceof Date) {
                    console.assert(fromString != JSON.parse, "Dates (and other non-JSON types) must be given custom fromString and toString functions.");
                }
            }
        });
        const getValue = useStableCallback(() => {
            const trueValue = !key ? undefined : getFromLocalStorage(key, fromString, storage);
            return trueValue ?? localCopy;
        });
        return [localCopy, setValueWrapper, getValue];
    }

    G$1(null);

    function useButton({ buttonParameters: { tagButton, disabled, onPress, pressed, role }, pressParameters, refElementParameters }) {
        debugLog("useButton");
        const refElementReturn = useRefElement({ refElementParameters });
        const focusSelf = T$1((e) => e.focus?.(), []);
        const pressReturn = usePress({
            ...refElementReturn,
            pressParameters: {
                onPressSync: (e) => (disabled ? null : onPress)?.(enhanceEvent(e, { pressed: pressed == null ? null : !pressed })),
                focusSelf,
                ...pressParameters
            },
        });
        const { pressReturn: { propsUnstable: pressProps } } = pressReturn;
        const { refElementReturn: { propsStable: refProps } } = refElementReturn;
        const baseProps = { "aria-pressed": (pressed === true ? "true" : pressed === false ? "false" : undefined) };
        const buttonProps = { ...baseProps, disabled: (disabled && disabled != "soft") ? true : false, "aria-disabled": (disabled === 'soft' ? 'true' : undefined), role: role == "button" ? undefined : role };
        const divProps = { ...baseProps, tabIndex: (disabled === "hard" ? -1 : 0), role, "aria-disabled": disabled ? "true" : undefined };
        return {
            ...refElementReturn,
            ...pressReturn,
            props: useMergedProps(pressProps, refProps, (tagButton == 'button' ? buttonProps : divProps)),
        };
    }

    function useAccordion({ accordionParameters: { initialIndex, localStorageKey }, typeaheadNavigationParameters, linearNavigationParameters: { disableArrowKeys, disableHomeEndKeys, navigationDirection, navigatePastEnd, navigatePastStart, pageNavigationSize }, managedChildrenParameters: { onAfterChildLayoutEffect, onChildrenMountChange } }) {
        debugLog("useAccordian");
        const [localStorageIndex, setLocalStorageIndex] = usePersistentState(localStorageKey ?? null, initialIndex ?? null);
        if (localStorageIndex != null)
            initialIndex = localStorageIndex;
        const { managedChildrenReturn, context } = useManagedChildren({
            managedChildrenParameters: {
                onChildrenMountChange: useStableCallback((m, u) => { ocmc2(); onChildrenMountChange?.(m, u); }),
                onAfterChildLayoutEffect
            }
        });
        const { getChildren } = managedChildrenReturn;
        const isValidByChild = T$1((c) => (c && !c.disabled && !c.hidden), []);
        const isValidByIndex = T$1((c) => {
            const child = getChildren().getAt(c);
            if (child) {
                return isValidByChild(child);
            }
            return false;
        }, []);
        // Keep track of the one expanded index (if there is only one expanded index)
        const { changeIndex: changeExpandedIndexLocalOnly, getCurrentIndex: getCurrentExpandedIndex } = useChildrenFlag({
            initialIndex,
            getChildren,
            getAt: T$1((child) => { return child.getOpenFromParent() ?? false; }, []),
            setAt: T$1((child, open) => { return child.setOpenFromParent(open); }, []),
            isValid: isValidByChild,
            onIndexChange: null,
            closestFit: false
        });
        // Also keep track of which button is currently tabbable.
        // For some reason, Accordion buttons are both individually tabbable *and* arrow-key navigatable.
        const { changeIndex: changeTabbedIndex, getCurrentIndex: getTabbedIndex, reevaluateClosestFit: ocmc2 } = useChildrenFlag({
            initialIndex,
            getChildren,
            getAt: T$1((child) => { return child.getMostRecentlyTabbed() ?? false; }, []),
            setAt: T$1((child, tabbed) => { return child.setMostRecentlyTabbed(tabbed); }, []),
            isValid: isValidByChild,
            closestFit: true,
            onIndexChange: T$1((i) => {
                if (i != null) {
                    getChildren().getAt(i)?.focusSelf();
                }
            }, [])
        });
        const changeExpandedIndex = useStableCallback((value) => {
            changeExpandedIndexLocalOnly(value);
            setLocalStorageIndex(value);
        });
        const rovingTabIndexReturn = useStableObject({
            getTabbableIndex: getTabbedIndex,
            setTabbableIndex: changeTabbedIndex
        });
        const { typeaheadNavigationChildContext, typeaheadNavigationReturn } = useTypeaheadNavigation({
            rovingTabIndexReturn,
            typeaheadNavigationParameters
        });
        return {
            context: useStableObject({
                ...context,
                ...typeaheadNavigationChildContext,
                accordionSectionParameters: useStableObject({
                    changeExpandedIndex,
                    changeTabbedIndex,
                    getExpandedIndex: getCurrentExpandedIndex,
                    getTabbedIndex: getTabbedIndex,
                    stableTypeaheadProps: typeaheadNavigationReturn.propsStable,
                }),
                linearNavigationParameters: useStableObject({
                    disableArrowKeys,
                    disableHomeEndKeys,
                    getHighestIndex: T$1(() => getChildren().getHighestIndex(), []),
                    indexMangler: identity,
                    indexDemangler: identity,
                    navigationDirection,
                    isValid: isValidByIndex,
                    navigatePastEnd,
                    navigatePastStart,
                    pageNavigationSize
                }),
                rovingTabIndexReturn
            }),
            managedChildrenReturn,
            accordionReturn: useStableObject({ changeExpandedIndex })
        };
    }
    function identity(t) { return t; }
    function useAccordionSection({ buttonParameters, pressParameters: {}, accordionSectionParameters: { open: openFromUser, bodyRole }, managedChildParameters: { index }, rovingTabIndexChildParameters: { hidden }, textContentParameters, context, context: { accordionSectionParameters: { changeExpandedIndex, changeTabbedIndex: _setCurrentFocusedIndex, getTabbedIndex: getCurrentFocusedIndex, stableTypeaheadProps }, linearNavigationParameters, rovingTabIndexReturn, typeaheadNavigationChildParameters, }, refElementParameters, }) {
        const { disabled, onPress: userOnPress } = buttonParameters;
        debugLog("useAccordianSection");
        const [openFromParent, setOpenFromParent, getOpenFromParent] = useState(null);
        const [mostRecentlyTabbed, setMostRecentlyTabbed, getMostRecentlyTabbed] = useState(null);
        const { randomIdReturn: _bodyIdReturn, propsSource: propsBodySource, propsReferencer: propsHeadReferencer } = useRandomId({ randomIdParameters: { prefix: Prefices.accordionSectionHeaderButton, otherReferencerProp: "aria-controls" } });
        const { randomIdReturn: _headIdReturn, propsSource: propsHeadSource, propsReferencer: propsBodyReferencer } = useRandomId({ randomIdParameters: { prefix: Prefices.accordionSectionBody, otherReferencerProp: "aria-labelledby" } });
        const open = ((openFromUser ?? openFromParent) ?? false);
        const { refElementReturn: { getElement: getHeaderElement, propsStable: headerRefElementProps } } = useRefElement({ refElementParameters: {} });
        const { refElementReturn: { getElement: _getBodyElement, propsStable: bodyRefElementProps } } = useRefElement({ refElementParameters: {} });
        const focusSelf = T$1(() => {
            getHeaderElement()?.focus();
        }, []);
        useManagedChild({
            context,
            managedChildParameters: {
                index: index,
            }
        }, {
            index,
            disabled,
            focusSelf,
            getMostRecentlyTabbed,
            getOpenFromParent,
            hidden,
            setMostRecentlyTabbed,
            setOpenFromParent,
        });
        const onPress = (e) => {
            if (getOpenFromParent())
                changeExpandedIndex(null);
            else
                changeExpandedIndex(index);
            userOnPress?.(e);
        };
        const linearReturnType = useLinearNavigation({ linearNavigationParameters, rovingTabIndexReturn });
        const { pressParameters: { excludeSpace }, textContentReturn } = useTypeaheadNavigationChild({
            managedChildParameters: { index },
            refElementReturn: { getElement: useStableCallback(() => refElementReturn.getElement()) },
            textContentParameters,
            typeaheadNavigationChildContext: { typeaheadNavigationChildParameters }
        });
        const buttonReturn = useButton({
            buttonParameters: { ...buttonParameters, pressed: null, onPress, role: "button" },
            pressParameters: { excludeSpace },
            refElementParameters
        });
        const { pressReturn, props: buttonProps, refElementReturn } = buttonReturn;
        const { linearNavigationReturn: { propsStable } } = linearReturnType;
        const headerButtonProps = useMergedProps(buttonProps, headerRefElementProps, propsHeadReferencer, propsHeadSource, propsStable, stableTypeaheadProps, { "aria-expanded": (open ?? false).toString(), });
        const bodyProps = useMergedProps(bodyRefElementProps, propsBodyReferencer, propsBodySource, {
            role: bodyRole,
            tabIndex: -1
        });
        return {
            pressReturn,
            refElementReturn,
            textContentReturn,
            accordionSectionReturn: {
                mostRecentlyTabbed: !!mostRecentlyTabbed,
                expanded: open,
                focused: (getCurrentFocusedIndex() == index)
            },
            propsHeaderButton: headerButtonProps,
            propsHeader: {},
            propsBody: bodyProps
        };
    }

    function useLabel({ randomIdInputParameters, randomIdLabelParameters, labelParameters: { tagInput, tagLabel, ariaLabel, labelPosition, onLabelClick } }) {
        const nativeHTMLBehavior = (tagInput == "input" && tagLabel == "label" && labelPosition != "wrapping");
        const synthetic = !nativeHTMLBehavior;
        const { propsInput, propsLabel, randomIdInputReturn, randomIdLabelReturn } = useRandomDualIds({
            randomIdInputParameters: { ...randomIdInputParameters, otherReferencerProp: !synthetic && labelPosition === "separate" ? "for" : null },
            randomIdLabelParameters: { ...randomIdLabelParameters, otherReferencerProp: synthetic ? "aria-labelledby" : null },
        });
        const { refElementReturn } = useRefElement({ refElementParameters: {} });
        if (labelPosition == 'none') {
            // When we set the aria-label, intentionally clobber element-based labels (for example, in case they don't exist).
            propsInput["aria-label"] = (ariaLabel);
            propsInput["aria-labelledby"] = undefined;
            propsLabel["for"] = undefined;
        }
        const { pressReturn } = usePress({ pressParameters: { excludeEnter: returnTrue, excludeSpace: returnTrue, onPressSync: onLabelClick, focusSelf: noop$1 }, refElementReturn });
        return {
            propsInput,
            propsLabel: useMergedProps(propsLabel, refElementReturn.propsStable, pressReturn.propsUnstable),
            randomIdInputReturn,
            randomIdLabelReturn,
        };
    }
    /**
     * Shortcut for `useLabel` that assumes we're just never working with native HTML `input` and `label` elements. So for labelling guaranteably non-native elements.
     */
    function useLabelSynthetic({ labelParameters: { ariaLabel, onLabelClick }, randomIdInputParameters, randomIdLabelParameters }) {
        return useLabel({
            randomIdLabelParameters,
            randomIdInputParameters,
            labelParameters: {
                ariaLabel,
                labelPosition: ariaLabel == null ? "separate" : "none",
                tagInput: "div",
                tagLabel: "div",
                onLabelClick
            }
        });
    }

    function preventDefault(e) {
        e.preventDefault();
    }
    /**
     * Handles any component where there's:
     * 1. Some kind of an on/off binary/trinary input element that needs event handlers
     * 2. Some kind of label for that input element
     *
     * See also `useLabel` for when there's a label for a non-checkbox-like component.
     *
     * @param param0
     * @returns
     */
    function useCheckboxLike({ labelParameters, randomIdInputParameters, randomIdLabelParameters, checkboxLikeParameters: { checked, disabled, onInput: onInputSync, role }, refElementInputReturn, refElementLabelReturn, pressParameters: { excludeSpace } }) {
        const { getElement: getInputElement } = refElementInputReturn;
        const { getElement: getLabelElement } = refElementLabelReturn;
        const { tagInput, tagLabel, labelPosition } = labelParameters;
        // onClick and onChange are a bit messy, so we need to
        // *always* make sure that the visible state is correct
        // after all the event dust settles.
        // See https://github.com/preactjs/preact/issues/2745,
        // and https://github.com/preactjs/preact/issues/1899#issuecomment-525690194
        h(() => {
            const element = getInputElement();
            if (element && tagInput == "input") {
                element.indeterminate = (checked === "mixed");
                element.checked = (checked === true);
            }
        }, [tagInput, (checked ?? false)]);
        const { randomIdInputReturn, randomIdLabelReturn, propsInput, propsLabel } = useLabel({
            labelParameters: {
                ...labelParameters,
                onLabelClick: useStableCallback((e) => {
                    if (!disabled && tagInput != "input" && tagLabel != "label" && labelPosition != "separate") {
                        focusSelf();
                        onInputSync(e);
                    }
                })
            },
            randomIdInputParameters,
            randomIdLabelParameters,
        });
        const focusSelf = useStableCallback(() => {
            let elementToFocus = null;
            if (labelPosition == "wrapping")
                elementToFocus = getLabelElement();
            else
                elementToFocus = getInputElement();
            elementToFocus?.focus();
        });
        const onClickInputSync = (labelPosition == "wrapping" ? undefined : onInputSync);
        const onClickLabelSync = onInputSync; //(labelPosition != "wrapping" ? undefined : onInputSync);
        const { pressReturn: pressInputReturn } = usePress({ pressParameters: { excludeSpace, focusSelf, onPressSync: (disabled) ? undefined : onClickInputSync }, refElementReturn: refElementInputReturn });
        const { pressReturn: pressLabelReturn } = usePress({ pressParameters: { excludeSpace, focusSelf, onPressSync: (disabled) ? undefined : onClickLabelSync }, refElementReturn: refElementLabelReturn });
        const propsUnstableInput = {};
        const propsUnstableLabel = {};
        // Make sure that label clicks can't affect the visual state of the checkbox
        propsUnstableInput.onClick = preventDefault;
        propsUnstableLabel.onClick = preventDefault;
        propsUnstableInput.onInput = preventDefault;
        propsUnstableInput.onChange = preventDefault;
        propsUnstableInput.type = role == "radio" ? "radio" : "checkbox";
        switch (labelPosition) {
            case "none":
            case "separate": {
                if (tagInput == "input") {
                    // Even in the most default input behavior, we still need to handle
                    // special abstraction over checked="mixed" and disabled="soft"
                    propsUnstableInput.checked = (checked === true);
                    if (disabled === true || disabled === 'hard')
                        propsUnstableInput.disabled = true;
                    else if (disabled == "soft")
                        propsUnstableInput["aria-disabled"] = "true";
                }
                else {
                    // div inputs need their various ARIA roles and properties
                    propsUnstableInput.role = role;
                    propsUnstableInput.tabIndex = 0;
                    propsUnstableInput["aria-checked"] = (checked ?? false).toString();
                    propsUnstableInput["aria-disabled"] = (!!disabled).toString();
                }
                break;
            }
            case "wrapping": {
                if (tagInput == "input") {
                    // For form submission and styling
                    propsUnstableInput.checked = (checked === true);
                    propsUnstableInput.disabled = (disabled === true);
                    // Because the wrapped label handles all interactions,
                    // we need to make sure this element can't be interacted with
                    // even if it's an input element.
                    propsUnstableInput.inert = true;
                    propsUnstableInput.tabIndex = -1;
                    propsUnstableInput.role = "presentation";
                    propsUnstableInput["aria-hidden"] = "true";
                    propsUnstableInput.onFocus = _ => getLabelElement?.()?.focus?.();
                }
                // Wrapping labels are the actual inputs that are interacted with
                // And are very similar conceptually to div inputs when separated
                propsUnstableLabel.role = role;
                propsUnstableLabel.tabIndex = 0;
                propsUnstableLabel["aria-checked"] = (checked ?? false).toString();
                propsUnstableLabel["aria-disabled"] = (!!disabled).toString();
                break;
            }
        }
        return {
            randomIdInputReturn,
            randomIdLabelReturn,
            pressInputReturn,
            pressLabelReturn,
            checkboxLikeInputReturn: { propsUnstable: propsUnstableInput },
            checkboxLikeLabelReturn: { propsUnstable: propsUnstableLabel },
            propsInput: useMergedProps(propsInput, propsUnstableInput, pressInputReturn.propsUnstable, refElementInputReturn.propsStable),
            propsLabel: useMergedProps(propsLabel, propsUnstableLabel, pressLabelReturn.propsUnstable, refElementLabelReturn.propsStable),
            checkboxLikeReturn: { focusSelf }
        };
    }

    function useCheckbox({ checkboxParameters: { onCheckedChange }, checkboxLikeParameters, labelParameters, refElementInputReturn, refElementLabelReturn }) {
        debugLog("useCheckbox");
        const { tagInput, labelPosition } = labelParameters;
        const { checked } = checkboxLikeParameters;
        const onInputEnhanced = useStableCallback((e) => onCheckedChange?.(enhanceEvent(e, { checked: !checked })));
        const { pressInputReturn, pressLabelReturn, randomIdInputReturn, randomIdLabelReturn, propsInput, propsLabel, checkboxLikeReturn, checkboxLikeInputReturn, checkboxLikeLabelReturn } = useCheckboxLike({
            randomIdInputParameters: { prefix: Prefices.checkboxLikeInput },
            randomIdLabelParameters: { prefix: Prefices.checkboxLikeLabel },
            refElementInputReturn,
            refElementLabelReturn,
            checkboxLikeParameters: { role: "checkbox", onInput: onInputEnhanced, ...checkboxLikeParameters },
            pressParameters: { excludeSpace: returnFalse },
            labelParameters
        });
        return {
            checkboxReturn: { propsUnstable: { type: (tagInput == "input" && labelPosition != "wrapping" ? "checkbox" : undefined) } },
            checkboxLikeReturn,
            pressInputReturn,
            pressLabelReturn,
            randomIdInputReturn,
            randomIdLabelReturn,
            propsInput,
            propsLabel,
            checkboxLikeInputReturn,
            checkboxLikeLabelReturn
        };
    }

    /**
     *
     *
     * @param param0
     * @returns
     */
    function useCheckboxGroup({ linearNavigationParameters, rearrangeableChildrenParameters, sortableChildrenParameters, rovingTabIndexParameters, typeaheadNavigationParameters, staggeredChildrenParameters }) {
        debugLog("useCheckboxGroup");
        const { childrenHaveFocusReturn, context, linearNavigationReturn, managedChildrenReturn, props, rearrangeableChildrenReturn, rovingTabIndexReturn, singleSelectionReturn, staggeredChildrenReturn, paginatedChildrenReturn, sortableChildrenReturn, typeaheadNavigationReturn } = useCompleteListNavigation({
            linearNavigationParameters,
            staggeredChildrenParameters,
            rearrangeableChildrenParameters,
            rovingTabIndexParameters,
            singleSelectionParameters: { initiallySelectedIndex: null, onSelectedIndexChange: null },
            sortableChildrenParameters,
            paginatedChildrenParameters: { paginationMax: null, paginationMin: null },
            typeaheadNavigationParameters
        });
        const { getChildren } = managedChildrenReturn;
        const children = getChildren();
        // Keep track of all child IDs, and any time any of them change, 
        // generate a new string with all of them concatenated together
        // (but only once per render);
        const allIds = _(new Set());
        const updateParentControlIds = useStableCallback((setter) => { setter?.(Array.from(allIds.current).join(" ")); });
        const [getSetter, setSetter] = usePassiveState(updateParentControlIds, returnNull);
        const [_getUpdateIndex, setUpdateIndex] = usePassiveState(useStableCallback(() => { updateParentControlIds(getSetter()); }), returnZero);
        // Lots of machenery to track what total percentage of all checkboxes are checked,
        // and notifying the parent checkbox of this information (while re-rendering as little as possible)
        const getSelfIsChecked = T$1((percentChecked) => { return percentChecked <= 0 ? false : percentChecked >= 1 ? true : "mixed"; }, []);
        const onAnyChildCheckedUpdate = useStableCallback((setter, percentChecked) => { setter?.(getSelfIsChecked(percentChecked)); });
        const [getTotalChildren, setTotalChildren] = usePassiveState(T$1((totalChildren) => { onAnyChildCheckedUpdate(getSetParentCheckboxChecked(), getPercentChecked(getTotalChecked(), totalChildren)); }, []), returnZero);
        const [getTotalChecked, setTotalChecked] = usePassiveState(T$1((totalChecked) => { onAnyChildCheckedUpdate(getSetParentCheckboxChecked(), getPercentChecked(totalChecked, getTotalChildren())); }, []), returnZero);
        const getPercentChecked = T$1((totalChecked, totalChildren) => {
            if (totalChildren > 0)
                return totalChecked / totalChildren;
            else
                return (totalChecked == 0 ? 0 : 1);
        }, []);
        const [getSetParentCheckboxChecked, setSetParentCheckboxChecked] = usePassiveState(useStableCallback((setter) => {
            onAnyChildCheckedUpdate(setter, getPercentChecked(getTotalChecked(), getTotalChildren()));
        }));
        const onCheckboxGroupParentInput = T$1(async (e) => {
            e.preventDefault();
            const selfIsChecked = getSelfIsChecked(getPercentChecked(getTotalChecked(), getTotalChildren()));
            const nextChecked = (selfIsChecked === false ? "mixed" : selfIsChecked === "mixed" ? true : false);
            let willChangeAny = false;
            const promises = [];
            children.forEach(child => {
                if (child.checkboxInfo.checkboxChildType == "child")
                    willChangeAny ||= (child.checkboxInfo.getChecked() != child.checkboxInfo.getLastUserChecked());
            });
            children.forEach(child => {
                if (child.checkboxInfo.checkboxChildType == "child") {
                    const prevChecked = child.checkboxInfo.getChecked();
                    let checked;
                    if (nextChecked == "mixed") {
                        if (willChangeAny)
                            checked = (child.checkboxInfo.getLastUserChecked());
                        else
                            checked = true;
                    }
                    else {
                        checked = nextChecked;
                    }
                    if (checked != prevChecked) {
                        const promise = child.checkboxInfo.setCheckedFromParentInput(checked, e);
                        if (promise) {
                            promises.push(promise);
                        }
                    }
                }
            });
            await Promise.all(promises);
        }, []);
        return {
            linearNavigationReturn,
            context: useStableObject({
                ...context,
                checkboxGroupChildrenContext: useStableObject({
                    setUpdateIndex,
                    allIds: allIds.current,
                    setTotalChecked,
                    setTotalChildren
                }),
                checkboxGroupParentContext: useStableObject({
                    setSetter,
                    setSetParentCheckboxChecked,
                    getPercentChecked,
                    getTotalChecked,
                    getTotalChildren,
                    onCheckboxGroupParentInput,
                })
            }),
            childrenHaveFocusReturn,
            props,
            staggeredChildrenReturn,
            paginatedChildrenReturn,
            rearrangeableChildrenReturn,
            singleSelectionReturn,
            sortableChildrenReturn,
            managedChildrenReturn,
            rovingTabIndexReturn,
            typeaheadNavigationReturn
        };
    }
    function useCheckboxGroupParent({ completeListNavigationChildParameters, context, managedChildParameters, rovingTabIndexChildParameters, textContentParameters, sortableChildParameters, }) {
        const { checkboxGroupParentContext: { setSetter, setSetParentCheckboxChecked, getPercentChecked, getTotalChecked, getTotalChildren, onCheckboxGroupParentInput } } = context;
        const { hasCurrentFocusReturn, managedChildReturn, pressParameters, refElementReturn, props, paginatedChildReturn, rovingTabIndexChildReturn, staggeredChildReturn, singleSelectionChildReturn, } = useCompleteListNavigationChild({
            completeListNavigationChildParameters,
            context,
            managedChildParameters,
            rovingTabIndexChildParameters,
            sortableChildParameters,
            textContentParameters,
            // single selection isn't used because checkboxes are multiselect; "disabled" refers only to that.
            singleSelectionChildParameters: { ariaPropName: null, selectionMode: "disabled", disabled: true },
        });
        const [ariaControls, setControls] = useState("");
        s(() => {
            setSetter(() => setControls);
        }, [setControls]);
        debugLog("useCheckboxGroupParent");
        const [checked, setChecked] = useState(false);
        h(() => {
            setSetParentCheckboxChecked(() => setChecked);
        }, []);
        const checkboxGroupParentReturn = { checked, onParentCheckedChange: onCheckboxGroupParentInput, getPercent: useStableCallback(() => { return getPercentChecked(getTotalChecked(), getTotalChildren()); }) };
        return {
            checkboxGroupParentReturn,
            hasCurrentFocusReturn,
            managedChildReturn,
            staggeredChildReturn,
            refElementReturn,
            props: useMergedProps({ "aria-controls": ariaControls }, props),
            rovingTabIndexChildReturn,
            paginatedChildReturn,
            singleSelectionChildReturn,
        };
    }
    /**
     * Implements the "child" part of a checkbox group.
     *
     * Does not implement any actual "checkbox" functionality,
     * but it does tell you what to do *with* a checkbox.
     *
     * (That is to say, use `onChildCheckedChange` whenever
     * your checkbox or checkbox-like thing changes, and
     * properly implement `onChangeFromParent` to work
     * properly when the parent changes)
     *
     * @param param0
     * @returns
     */
    function useCheckboxGroupChild({ checkboxGroupChild, completeListNavigationChildParameters, context, managedChildParameters, textContentParameters, rovingTabIndexChildParameters, sortableChildParameters, }) {
        const { checkboxGroupChildrenContext: { allIds, setUpdateIndex, setTotalChildren, setTotalChecked, } } = context;
        debugLog("useCheckboxGroupChild", managedChildParameters.index);
        const { checked, onChangeFromParent } = checkboxGroupChild;
        const getChecked = useStableGetter(checked);
        const [getLastUserChecked, setLastUserChecked] = usePassiveState(null, returnFalse);
        const onChildCheckedChange = useStableCallback((checked) => {
            setLastUserChecked(checked);
        });
        const onControlIdChanged = T$1((next, prev) => {
            if (prev)
                allIds.delete(prev);
            if (next)
                allIds.add(next);
            if (!!next || !!prev) {
                setUpdateIndex(i => ((i ?? 0) + 1));
            }
        }, []);
        h(() => {
            setTotalChildren(c => ((c ?? 0) + 1));
            return () => setTotalChildren(c => ((c ?? 0) - 1));
        }, []);
        h(() => {
            if (checked) {
                setTotalChecked(c => ((c ?? 0) + 1));
                return () => setTotalChecked(c => ((c ?? 0) - 1));
            }
        }, [checked]);
        const { hasCurrentFocusReturn, managedChildReturn, pressParameters, refElementReturn, props, singleSelectionChildReturn: _singleSelectionChildReturn, staggeredChildReturn, paginatedChildReturn, rovingTabIndexChildReturn, } = useCompleteListNavigationChild({
            completeListNavigationChildParameters: { checkboxInfo: { checkboxChildType: "child", getLastUserChecked, getChecked, setCheckedFromParentInput: onChangeFromParent }, ...completeListNavigationChildParameters },
            context,
            managedChildParameters: { ...managedChildParameters },
            rovingTabIndexChildParameters,
            textContentParameters,
            sortableChildParameters,
            singleSelectionChildParameters: { ariaPropName: null, selectionMode: "disabled", disabled: true },
        });
        return {
            checkboxGroupChild: {
                onChildCheckedChange,
                onControlIdChanged
            },
            hasCurrentFocusReturn,
            managedChildReturn,
            staggeredChildReturn,
            paginatedChildReturn,
            refElementReturn,
            props,
            pressParameters,
            rovingTabIndexChildReturn,
        };
    }

    function useDialog({ dismissParameters, escapeDismissParameters, focusTrapParameters, labelParameters }) {
        const { focusTrapReturn, propsFocusContainer, propsPopup, propsSource, refElementPopupReturn, refElementSourceReturn } = useModal({
            dismissParameters: { closeOnLostFocus: false, ...dismissParameters },
            escapeDismissParameters,
            focusTrapParameters: { trapActive: true, onlyMoveFocus: false, ...focusTrapParameters }
        });
        const { propsInput, propsLabel } = useLabelSynthetic({
            labelParameters: {
                ...labelParameters, onLabelClick: useStableCallback(() => {
                    const e = refElementPopupReturn.getElement();
                    focusTrapParameters.focusPopup(e, () => findFirstFocusable(e));
                })
            },
            randomIdInputParameters: { prefix: Prefices.dialog },
            randomIdLabelParameters: { prefix: Prefices.dialogTitle }
        });
        return {
            focusTrapReturn,
            propsFocusContainer,
            propsDialog: useMergedProps(propsPopup, propsInput),
            propsSource,
            propsTitle: propsLabel,
            refElementPopupReturn,
            refElementSourceReturn
        };
    }

    function useDrawer({ dismissParameters, escapeDismissParameters, focusTrapParameters, labelParameters }) {
        const { focusTrapReturn, propsFocusContainer, propsPopup, propsSource, refElementPopupReturn, refElementSourceReturn } = useModal({
            dismissParameters,
            escapeDismissParameters,
            focusTrapParameters: { onlyMoveFocus: false, ...focusTrapParameters }
        });
        const { propsInput, propsLabel, } = useLabelSynthetic({
            labelParameters: {
                ...labelParameters, onLabelClick: useStableCallback(() => {
                    const e = refElementPopupReturn.getElement();
                    focusTrapParameters.focusPopup(e, () => findFirstFocusable(e));
                })
            },
            randomIdInputParameters: { prefix: Prefices.drawer },
            randomIdLabelParameters: { prefix: Prefices.drawerTitle }
        });
        return {
            focusTrapReturn,
            propsFocusContainer,
            propsDrawer: useMergedProps(propsPopup, propsInput),
            propsTitle: propsLabel,
            propsSource,
            refElementPopupReturn,
            refElementSourceReturn
        };
    }

    function useGridlist({ linearNavigationParameters, rovingTabIndexParameters, typeaheadNavigationParameters, labelParameters, staggeredChildrenParameters, gridlistParameters: { selectionLimit, groupingType, selectedIndex, onSelectedIndexChange }, gridNavigationParameters, paginatedChildrenParameters, rearrangeableChildrenParameters, sortableChildrenParameters }) {
        const { propsInput: propsLabelList, propsLabel: propsLabelLabel, randomIdInputReturn: { id: _gridlistId }, randomIdLabelReturn: { id: _labelId } } = useLabelSynthetic({
            labelParameters: {
                ...labelParameters,
                onLabelClick: useStableCallback(() => {
                    rovingTabIndexReturn.focusSelf();
                })
            },
            randomIdInputParameters: { prefix: Prefices.gridlist },
            randomIdLabelParameters: { prefix: Prefices.gridlistLabel }
        });
        const { childrenHaveFocusReturn, context, linearNavigationReturn, managedChildrenReturn, props, rovingTabIndexReturn, staggeredChildrenReturn, singleSelectionReturn, typeaheadNavigationReturn, rearrangeableChildrenReturn, paginatedChildrenReturn, sortableChildrenReturn } = useCompleteGridNavigation({
            linearNavigationParameters,
            rovingTabIndexParameters,
            staggeredChildrenParameters,
            singleSelectionParameters: { initiallySelectedIndex: selectedIndex, onSelectedIndexChange },
            sortableChildrenParameters,
            typeaheadNavigationParameters,
            gridNavigationParameters,
            paginatedChildrenParameters,
            rearrangeableChildrenParameters
        });
        useSingleSelectionDeclarative({ singleSelectionReturn, singleSelectionDeclarativeParameters: { selectedIndex } });
        let propsGridlist = useMergedProps(props, propsLabelList, { "aria-multiselectable": (selectionLimit == "multi" ? "true" : undefined) });
        let fullContext = useStableObject({
            ...context,
            gridlistRowContext: useStableObject({
                selectionLimit
            })
        });
        if (groupingType == "group")
            propsGridlist.role = "group";
        else if (groupingType == "with-groups") {
            // Intentionally clobbering all the list navigation stuff.
            propsGridlist = { role: "grid" };
            // ...actually, context too while we're at it.
            fullContext = null;
        }
        else {
            propsGridlist.role = "grid";
        }
        if (selectionLimit == "multi")
            console.assert(singleSelectionReturn.getSelectedIndex() == null);
        return {
            childrenHaveFocusReturn,
            context: fullContext,
            linearNavigationReturn,
            managedChildrenReturn,
            staggeredChildrenReturn,
            rovingTabIndexReturn,
            singleSelectionReturn,
            rearrangeableChildrenReturn,
            sortableChildrenReturn,
            typeaheadNavigationReturn,
            paginatedChildrenReturn,
            propsGridlist,
            propsGridlistLabel: propsLabelLabel
        };
    }
    function useGridlistRow({ rowAsChildOfGridParameters: { managedChildParameters, singleSelectionChildParameters, completeGridNavigationRowParameters, textContentParameters, rovingTabIndexChildParameters, sortableChildParameters, context: cx1, gridlistRowParameters: { selected } }, rowAsParentOfCellsParameters: { linearNavigationParameters, rovingTabIndexParameters, typeaheadNavigationParameters } }) {
        const { gridlistRowContext: { selectionLimit } } = cx1;
        const { rowAsChildOfGridReturn, rowAsParentOfCellsReturn, context: cx2, hasCurrentFocusReturn, props } = useCompleteGridNavigationRow({
            rowAsChildOfGridParameters: {
                managedChildParameters,
                textContentParameters,
                singleSelectionChildParameters,
                completeGridNavigationRowParameters,
                rovingTabIndexChildParameters,
                sortableChildParameters,
                context: cx1
            },
            rowAsParentOfCellsParameters: {
                linearNavigationParameters: { disableHomeEndKeys: true, ...linearNavigationParameters },
                rovingTabIndexParameters,
                typeaheadNavigationParameters: { ...typeaheadNavigationParameters }
            }
        });
        // `selected` should only be true/false for multi-selection
        if (selectionLimit != "multi")
            console.assert(selected == null);
        props.role = "option";
        return {
            rowAsChildOfGridReturn,
            rowAsParentOfCellsReturn,
            context: cx2,
            hasCurrentFocusReturn,
            props
        };
    }
    function useGridlistCell({ pressParameters, ...p }) {
        const { props, ...info } = useCompleteGridNavigationCell(p);
        const { pressReturn } = usePress({
            pressParameters: { ...pressParameters, focusSelf: p.completeGridNavigationCellParameters.focusSelf },
            refElementReturn: info.refElementReturn
        });
        return {
            ...info,
            props: useMergedProps(props, pressReturn.propsUnstable),
            pressReturn
        };
    }

    /**
     * A menu surface is what handles user interaction with an interactive but transient surface (like a menu or a popup).
     *
     * The keyboard (etc.) interactions are shared among a lot of widgets, and the opening button has some ARIA properties that need setting.
     *
     * Related to menus, which are a menu contained within a menu surface. Not related to menubars -- menus contain menubars, but not all menubars are contained within a menu or its surface.
     *
     */
    function useMenuSurface({ 
    //menuSurface: { sendFocusToMenu, role }, 
    dismissParameters, escapeDismissParameters, focusTrapParameters, menuSurfaceParameters: { role, surfaceId } }) {
        debugLog("useMenuSurface");
        const { refElementReturn: { getElement: getButtonElement, propsStable: propsRefTrigger }, ...void4 } = useRefElement({ refElementParameters: { onElementChange: undefined } });
        const { refElementReturn: { getElement: getMenuElement, propsStable: propsRefSurface, ...void5 }, ...void6 } = useRefElement({ refElementParameters: { onElementChange: undefined } });
        const { focusTrapReturn, propsFocusContainer, propsPopup, propsSource: ps2, refElementPopupReturn, refElementSourceReturn } = useModal({
            dismissParameters,
            escapeDismissParameters,
            focusTrapParameters: {
                ...focusTrapParameters,
                onlyMoveFocus: true,
                trapActive: true,
                focusOpener: useStableCallback(() => {
                    const buttonElement = getButtonElement();
                    buttonElement?.focus();
                })
            }
        });
        const propsSurface = useMergedProps(propsRefSurface, propsPopup, propsFocusContainer);
        const propsTarget = useMergedProps({
            role,
            id: surfaceId
        });
        const propsTrigger = useMergedProps({
            "aria-expanded": (dismissParameters.open).toString(),
            "aria-haspopup": role,
        }, propsRefTrigger, ps2, { "aria-controls": surfaceId });
        const propsSentinel = useFocusSentinel({
            focusSentinel: {
                sendFocusToMenu: T$1(() => { return focusTrapParameters.focusPopup(getMenuElement(), () => findFirstFocusable(getMenuElement())); }, []),
                onClose: T$1(() => { dismissParameters.onClose("lost-focus"); }, [dismissParameters.onClose]),
                open: dismissParameters.open
            }
        });
        return {
            focusTrapReturn,
            propsSentinel,
            propsSurface,
            propsTarget,
            propsTrigger,
            refElementPopupReturn,
            refElementSourceReturn
        };
    }
    // A focus sentinal is a hidden but focusable element that comes at the start or end 
    // of the out-of-place-focusable component that, when activated or focused over, closes the component
    // (if focused within 100ms of the open prop changing, instead of
    // closing, focusing the sentinel immediately asks it to focus itself).
    // This exists for things like menus which can have focus but also need a way to return
    // to whatever out-of-place parent they came from when naturally tabbed out of (as opposed
    // to dialogs which loop back around when tabbed out of). While mouse users can click out of a menu
    // and keyboard users can escape to close a menu, screen readers and other input methods 
    // that don't use those two would become stuck.
    function useFocusSentinel({ focusSentinel: { open, onClose, sendFocusToMenu } }) {
        debugLog("useFocusSentinel");
        const getSendFocusWithinMenu = useStableGetter(sendFocusToMenu);
        const stableOnClose = useStableCallback(onClose);
        const [firstSentinelIsActive, setFirstSentinelIsActive] = useState(false);
        useTimeout({ callback: () => { setFirstSentinelIsActive(open); }, timeout: 100, triggerIndex: `${open}-${firstSentinelIsActive}` });
        const onFocus = firstSentinelIsActive ? (() => stableOnClose()) : (() => getSendFocusWithinMenu()?.());
        const onClick = () => stableOnClose();
        return {
            tabIndex: firstSentinelIsActive ? 0 : -1,
            onFocus,
            onClick
        };
    }

    //export interface UseToolbarChildReturnTypeWithHooks<ChildElement extends Element, M extends UseToolbarSubInfo<ChildElement>> extends UseToolbarChildReturnTypeInfo<ChildElement, M> {
    //}
    /**
     * A toolbar is just a collection of widgets in an expected order and with the usual keyboard navigation stuff.
     *
     * The main difference between a toolbar and a menubar is that a menubar contains purely static menuitems,
     * but a toolbar is the more general case, being able to contain anything at all.
     * A menubar is implemented as a special case of a toolbar, and a menu is implemented as a specialized menubar
     *
     * Either way, be sure to specify the role and orientation this toolbar has (role=toolbar if you're using this as an actual toolbar).
     *
     * @param param0
     * @returns
     */
    function useToolbar({ linearNavigationParameters, toolbarParameters: { orientation, role, onSelectedIndexChange }, labelParameters, singleSelectionDeclarativeParameters: { selectedIndex }, ...listNavParameters }) {
        const { context, props, ...listNavReturn } = useCompleteListNavigation({
            ...listNavParameters,
            singleSelectionParameters: { initiallySelectedIndex: selectedIndex, onSelectedIndexChange: onSelectedIndexChange ?? null },
            paginatedChildrenParameters: { paginationMax: null, paginationMin: null },
            linearNavigationParameters: { ...linearNavigationParameters, navigationDirection: orientation },
        });
        useSingleSelectionDeclarative({
            singleSelectionDeclarativeParameters: { selectedIndex },
            singleSelectionReturn: { changeSelectedIndex: listNavReturn.singleSelectionReturn.changeSelectedIndex }
        });
        const { propsInput: propsToolbar, propsLabel, randomIdInputReturn, randomIdLabelReturn } = useLabelSynthetic({
            labelParameters: { ...labelParameters, onLabelClick: listNavReturn.rovingTabIndexReturn.focusSelf },
            randomIdInputParameters: { prefix: Prefices.toolbar },
            randomIdLabelParameters: { prefix: Prefices.toolbarLabel }
        });
        return {
            toolbarReturn: { propsUnstable: { ...propsToolbar, role: role ?? undefined } },
            context,
            propsLabel,
            propsToolbar: useMergedProps(propsToolbar, props),
            randomIdInputReturn,
            randomIdLabelReturn,
            ...listNavReturn
        };
    }
    function useToolbarChild({ ...listNavChildParameters }) {
        return useCompleteListNavigationChild({
            ...listNavChildParameters
        });
    }

    function useMenubar({ linearNavigationParameters, rearrangeableChildrenParameters, singleSelectionDeclarativeParameters, sortableChildrenParameters, rovingTabIndexParameters, typeaheadNavigationParameters, staggeredChildrenParameters, toolbarParameters, menubarParameters: { role }, labelParameters }) {
        debugLog("useMenubar");
        const { linearNavigationReturn, childrenHaveFocusReturn, context, propsLabel, propsToolbar: propsMenubar, paginatedChildrenReturn, staggeredChildrenReturn, rearrangeableChildrenReturn, sortableChildrenReturn, managedChildrenReturn, rovingTabIndexReturn, toolbarReturn, typeaheadNavigationReturn, randomIdInputReturn, randomIdLabelReturn, ..._rest } = useToolbar({
            linearNavigationParameters,
            rovingTabIndexParameters,
            rearrangeableChildrenParameters,
            sortableChildrenParameters,
            singleSelectionDeclarativeParameters,
            typeaheadNavigationParameters,
            staggeredChildrenParameters,
            toolbarParameters: { role, ...toolbarParameters },
            labelParameters
        });
        return {
            childrenHaveFocusReturn,
            context,
            propsLabel,
            propsMenubar,
            staggeredChildrenReturn,
            paginatedChildrenReturn,
            rearrangeableChildrenReturn,
            sortableChildrenReturn,
            linearNavigationReturn,
            managedChildrenReturn,
            rovingTabIndexReturn,
            toolbarReturn,
            typeaheadNavigationReturn,
            randomIdInputReturn,
            randomIdLabelReturn
        };
    }
    function useMenubarChild({ managedChildParameters, singleSelectionChildParameters, completeListNavigationChildParameters, rovingTabIndexChildParameters, sortableChildParameters, context, textContentParameters, menuItemParameters: { onPress: opu, role } }) {
        debugLog("useMenuItem", managedChildParameters.index);
        const focusSelf = T$1((e) => e.focus?.(), []);
        const { hasCurrentFocusReturn, pressParameters: { excludeSpace, onPressSync: ops }, props, refElementReturn, singleSelectionChildReturn, rovingTabIndexChildReturn, managedChildReturn, staggeredChildReturn, paginatedChildReturn } = useToolbarChild({
            completeListNavigationChildParameters,
            context,
            managedChildParameters,
            rovingTabIndexChildParameters,
            sortableChildParameters,
            textContentParameters,
            singleSelectionChildParameters,
        });
        const { pressReturn } = usePress({
            pressParameters: {
                focusSelf,
                excludeSpace,
                onPressSync: useStableCallback((e) => {
                    ops?.(e);
                    opu?.(e);
                })
            }, refElementReturn
        });
        props.role = role;
        return {
            hasCurrentFocusReturn,
            pressReturn,
            paginatedChildReturn,
            refElementReturn,
            props: useMergedProps(props, pressReturn.propsUnstable),
            singleSelectionChildReturn,
            rovingTabIndexChildReturn,
            staggeredChildReturn,
            managedChildReturn
        };
    }

    function useMenu({ dismissParameters, escapeDismissParameters, linearNavigationParameters, menuParameters: { openDirection, onOpen }, menuSurfaceParameters, rearrangeableChildrenParameters, rovingTabIndexParameters, singleSelectionDeclarativeParameters, sortableChildrenParameters, toolbarParameters, staggeredChildrenParameters, typeaheadNavigationParameters, menubarParameters }) {
        debugLog("useMenu");
        const { childrenHaveFocusReturn, context, linearNavigationReturn, managedChildrenReturn, propsLabel: propsButtonAsMenuLabel, propsMenubar, rearrangeableChildrenReturn, rovingTabIndexReturn, sortableChildrenReturn, toolbarReturn, paginatedChildrenReturn, staggeredChildrenReturn, typeaheadNavigationReturn, randomIdInputReturn, randomIdLabelReturn, } = useMenubar({
            linearNavigationParameters,
            rearrangeableChildrenParameters,
            rovingTabIndexParameters,
            singleSelectionDeclarativeParameters,
            staggeredChildrenParameters,
            sortableChildrenParameters,
            typeaheadNavigationParameters,
            toolbarParameters: { ...toolbarParameters },
            menubarParameters: { role: "menu", ...menubarParameters },
            labelParameters: { ariaLabel: null }
        });
        const onKeyDown = useStableCallback((e) => {
            const isOpen = dismissParameters.open;
            if (!isOpen) {
                switch (e.key) {
                    case "ArrowUp": {
                        if (openDirection == 'up') {
                            onOpen();
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        break;
                    }
                    case "ArrowDown": {
                        if (openDirection == 'down') {
                            onOpen();
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        break;
                    }
                    case "ArrowLeft": {
                        if (openDirection == 'left') {
                            onOpen();
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        break;
                    }
                    case "ArrowRight": {
                        if (openDirection == 'right') {
                            onOpen();
                            e.preventDefault();
                            e.stopPropagation();
                        }
                        break;
                    }
                }
            }
        });
        const { focusTrapReturn, propsSentinel, propsSurface, propsTarget, propsTrigger, refElementPopupReturn, refElementSourceReturn } = useMenuSurface({
            menuSurfaceParameters: {
                ...menuSurfaceParameters,
                surfaceId: randomIdInputReturn.id,
                role: "menu",
            },
            dismissParameters,
            escapeDismissParameters,
            focusTrapParameters: {
                focusPopup: () => { rovingTabIndexReturn.focusSelf(); }
            }
        });
        return {
            childrenHaveFocusReturn,
            context: useStableObject({
                ...context,
                menu: useStableObject({
                    closeFromMenuItemClicked: useStableCallback(() => {
                        dismissParameters.onClose("item-clicked");
                    })
                })
            }),
            focusTrapReturn,
            linearNavigationReturn,
            managedChildrenReturn,
            staggeredChildrenReturn,
            paginatedChildrenReturn,
            propsSentinel,
            propsSurface,
            propsTarget: useMergedProps(propsTarget, propsMenubar),
            propsTrigger: useMergedProps({ onKeyDown }, propsTrigger, propsButtonAsMenuLabel),
            rearrangeableChildrenReturn,
            refElementPopupReturn,
            refElementSourceReturn,
            rovingTabIndexReturn,
            sortableChildrenReturn,
            toolbarReturn,
            typeaheadNavigationReturn,
            randomIdInputReturn,
            randomIdLabelReturn,
        };
    }
    function useMenuItem(p) {
        const ret = useMenubarChild(p);
        return {
            ...ret,
            menuItemReturn: { closeMenu: p.context.menu.closeFromMenuItemClicked }
        };
    }

    const NotificationProviderContext = G$1(null);
    /**
     * Allows children to send notifications to a screen reader or other assistive technology.
     *
     * Please note that because some devices only check for `aria-live` regions *once* on page load,
     * they cannot be created dynamically. You must pass the ID of the elements to use (or the elements themselves).
     *
     * One *must* have `aria-live=polite` and one *must* have `aria-live=assertive`, but there aren't really any other requirements.
     * They shouldn't be visible, I suppose.
     *
     * @param param0
     * @returns
     */
    function useNotificationProvider({ targetAssertive, targetPolite }) {
        const { children: childrenPolite, pushChild: notifyPolite, portalElement: politeElement } = usePortalChildren({ target: targetPolite });
        const { children: childrenAssertive, pushChild: notifyAssertive, portalElement: assertiveElement } = usePortalChildren({ target: targetAssertive });
        console.assert(politeElement?.getAttribute("aria-live") == "polite");
        console.assert(assertiveElement?.getAttribute("aria-live") == "assertive");
        const notify = T$1((mode, child) => {
            return mode == "assertive" ? notifyAssertive(child) : notifyPolite(child);
        }, [notifyAssertive, notifyPolite]);
        return {
            notify,
            context: F$1(() => ({ notify }), [notify]),
            children: (o$1(_$2, { children: [childrenPolite, childrenAssertive] }))
        };
    }
    function useNotify() {
        return q(NotificationProviderContext).notify;
    }

    function useProgress({ labelParameters, progressIndicatorParameters: { max, value, valueText, tagIndicator } }) {
        const { propsInput, propsLabel, randomIdInputReturn, randomIdLabelReturn } = useLabelSynthetic({
            labelParameters: { ...labelParameters, onLabelClick: null },
            randomIdInputParameters: { prefix: Prefices.progressIndicator },
            randomIdLabelParameters: { prefix: Prefices.progressLabel }
        });
        // This isn't an input in the usual sense -- it's not tabbable.
        // TODO: Make this an option in the hook itself
        propsInput.tabIndex = -1;
        const busy = value && value != "disabled"; //value == "disabled" || !value? false : true;// (!!value);
        const disabled = (value == "disabled");
        if (typeof value != "number") {
            value = null;
            max ??= 100;
        }
        const indicatorProps = tagIndicator === "progress" ?
            {
                max,
                value: (value ?? undefined),
                "aria-valuemin": "0",
                "aria-valuenow": value == null ? undefined : `${value}`,
            }
            :
                {
                    "aria-valuemin": "0",
                    "aria-valuemax": max == null ? undefined : `${max}`,
                    "aria-valuetext": valueText == null ? undefined : `${valueText}`,
                    "aria-valuenow": value == null ? undefined : `${value}`,
                    role: "progressbar"
                };
        if (disabled) {
            indicatorProps["aria-hidden"] = "true";
        }
        const labelProps = {
            "aria-hidden": (!busy ? "true" : undefined)
        };
        const regionProps = {
            "aria-busy": (busy).toString(),
            "aria-describedby": randomIdInputReturn.id
        };
        return {
            propsIndicator: useMergedProps(indicatorProps, propsInput),
            propsLabel: useMergedProps(labelProps, propsLabel),
            propsRegion: regionProps,
            randomIdInputReturn,
            randomIdLabelReturn,
        };
    }
    function useProgressWithHandler({ labelParameters, progressIndicatorParameters, asyncHandlerParameters, progressWithHandlerParameters: { forciblyPending } }) {
        const asyncInfo = useAsyncHandler(asyncHandlerParameters);
        const { propsIndicator, propsLabel, propsRegion } = useProgress({
            labelParameters,
            progressIndicatorParameters: {
                max: 1,
                value: (forciblyPending || asyncInfo.pending) ? "indeterminate" : "disabled",
                valueText: null,
                ...progressIndicatorParameters
            },
        });
        return {
            propsIndicator,
            propsLabel,
            propsRegion,
            asyncHandlerReturn: asyncInfo
        };
    }

    function useRadioGroup({ linearNavigationParameters, rearrangeableChildrenParameters, rovingTabIndexParameters, sortableChildrenParameters, typeaheadNavigationParameters, staggeredChildrenParameters, labelParameters, radioGroupParameters: { name, onSelectedValueChange, selectedValue }, }) {
        const [selectedIndex, setSelectedIndex] = useState(null);
        const byName = _(new Map());
        const { propsInput: propsGroup1, propsLabel } = useLabelSynthetic({
            labelParameters: {
                onLabelClick: useStableCallback(() => {
                    rovingTabIndexReturn.focusSelf();
                }),
                ...labelParameters
            },
            randomIdLabelParameters: { prefix: Prefices.radioGroupLabel, },
            randomIdInputParameters: { prefix: Prefices.radioGroup }
        });
        h(() => {
            if (selectedValue != null)
                singleSelectionReturn.changeSelectedIndex(byName.current.get(selectedValue) ?? null);
            else
                singleSelectionReturn.changeSelectedIndex(null);
        }, [selectedValue]);
        const { childrenHaveFocusReturn, context, props: propsGroup2, linearNavigationReturn, managedChildrenReturn, rearrangeableChildrenReturn, rovingTabIndexReturn, singleSelectionReturn, paginatedChildrenReturn, staggeredChildrenReturn, sortableChildrenReturn, typeaheadNavigationReturn } = useCompleteListNavigation({
            linearNavigationParameters,
            rearrangeableChildrenParameters,
            rovingTabIndexParameters,
            singleSelectionParameters: { initiallySelectedIndex: selectedIndex, onSelectedIndexChange: setSelectedIndex },
            sortableChildrenParameters,
            typeaheadNavigationParameters,
            staggeredChildrenParameters,
            paginatedChildrenParameters: { paginationMin: null, paginationMax: null }
        });
        useSingleSelectionDeclarative({
            singleSelectionReturn: {
                changeSelectedIndex: useStableCallback((s, r) => {
                    let next = typeof s == "function" ? s(selectedIndex) : s;
                    if (next != null) {
                        const nextValue = managedChildrenReturn.getChildren().getAt(next)?.getValue2();
                        onSelectedValueChange(nextValue, r);
                    }
                    else {
                        onSelectedValueChange(null, r);
                    }
                })
            }, singleSelectionDeclarativeParameters: { selectedIndex }
        });
        const propsRadioGroup = useMergedProps(propsGroup1, propsGroup2, { role: "radiogroup" });
        return {
            propsRadioGroup,
            propsRadioGroupLabel: propsLabel,
            childrenHaveFocusReturn,
            context: {
                ...context,
                radioContext: { name, byName: byName.current }
            },
            staggeredChildrenReturn,
            linearNavigationReturn,
            managedChildrenReturn,
            radioGroupReturn: { selectedIndex },
            rearrangeableChildrenReturn,
            paginatedChildrenReturn,
            rovingTabIndexReturn,
            singleSelectionReturn,
            sortableChildrenReturn,
            typeaheadNavigationReturn
        };
    }
    function useRadio({ radioParameters: { value }, checkboxLikeParameters: { disabled }, completeListNavigationChildParameters, labelParameters, managedChildParameters, singleSelectionChildParameters, context, textContentParameters, rovingTabIndexChildParameters, sortableChildParameters }) {
        const index = managedChildParameters.index;
        debugLog("useRadio", index);
        const onInput = useStableCallback((e) => {
            singleSelectionChildReturn.setThisOneSelected(e);
        });
        const { name, byName } = context.radioContext;
        const { tagInput, labelPosition } = labelParameters;
        const getValue = useStableGetter(value);
        const { props: listNavigationSingleSelectionChildProps, hasCurrentFocusReturn, managedChildReturn, pressParameters, rovingTabIndexChildReturn, staggeredChildReturn, singleSelectionChildReturn, refElementReturn, paginatedChildReturn } = useCompleteListNavigationChild({
            completeListNavigationChildParameters: { getValue2: getValue, ...completeListNavigationChildParameters },
            managedChildParameters,
            context,
            rovingTabIndexChildParameters,
            sortableChildParameters,
            textContentParameters,
            singleSelectionChildParameters: { selectionMode: "focus", ariaPropName: tagInput == "input" && labelPosition != "wrapping" ? null : "aria-selected", ...singleSelectionChildParameters }
        });
        const { selected: checked } = singleSelectionChildReturn;
        const { refElementReturn: refElementInputReturn } = useRefElement({ refElementParameters: {} });
        const { refElementReturn: refElementLabelReturn } = useRefElement({ refElementParameters: {} });
        const { checkboxLikeInputReturn, checkboxLikeLabelReturn, pressInputReturn, pressLabelReturn, propsInput, propsLabel, randomIdInputReturn, randomIdLabelReturn, checkboxLikeReturn } = useCheckboxLike({
            checkboxLikeParameters: {
                checked: (checked ?? false),
                disabled,
                onInput: onInput,
                role: "radio"
            },
            pressParameters,
            labelParameters,
            randomIdInputParameters: { prefix: Prefices.radio },
            randomIdLabelParameters: { prefix: Prefices.radioLabel },
            refElementInputReturn,
            refElementLabelReturn
        });
        s(() => {
            byName.set(value, index);
            return () => { byName.delete(value); };
        }, [value, index]);
        if (tagInput == "input") {
            propsInput.name = name;
            propsInput.checked = (checked ?? false);
            propsInput.type = "radio";
        }
        else {
            propsInput["aria-checked"] = (checked ?? false).toString();
        }
        const propsIfInputHandlesFocus = useMergedProps(listNavigationSingleSelectionChildProps, propsInput);
        const propsInput2 = labelPosition != "wrapping" ? propsIfInputHandlesFocus : propsInput;
        const propsIfLabelHandlesFocus = useMergedProps(listNavigationSingleSelectionChildProps, propsLabel);
        const propsLabel2 = labelPosition == "wrapping" ? propsIfLabelHandlesFocus : propsLabel;
        return {
            checkboxLikeInputReturn,
            checkboxLikeLabelReturn,
            managedChildReturn,
            pressInputReturn,
            pressLabelReturn,
            propsInput: propsInput2,
            propsLabel: propsLabel2,
            randomIdInputReturn,
            randomIdLabelReturn,
            hasCurrentFocusReturn,
            staggeredChildReturn,
            rovingTabIndexChildReturn,
            refElementReturn,
            singleSelectionChildReturn,
            checkboxLikeReturn,
            paginatedChildReturn
        };
    }

    function useSlider({ sliderParameters: { max, min }, managedChildrenParameters }) {
        debugLog("useSlider");
        const { context, managedChildrenReturn } = useManagedChildren({ managedChildrenParameters });
        const baseIdRef = _(null);
        if (baseIdRef.current === null)
            baseIdRef.current = generateRandomId(Prefices.sliderThumb);
        return {
            context: F$1(() => ({
                ...context,
                sliderContext: {
                    min,
                    max,
                    baseId: baseIdRef.current
                }
            }), [min, max]),
            managedChildrenReturn
        };
    }
    function useSliderThumb({ managedChildParameters, context: { sliderContext: { max: maxParent, min: minParent }, ...context }, sliderThumbParameters }) {
        const { index } = managedChildParameters;
        debugLog("useSliderThumb", managedChildParameters.index);
        const { managedChildReturn } = useManagedChild({ managedChildParameters, context }, { index });
        const { tag, value, max: maxOverride, min: minOverride, onValueChange, valueText, label } = sliderThumbParameters;
        const min = (minOverride ?? minParent);
        const max = (maxOverride ?? maxParent);
        let newProps = (tag == "input" ?
            { min, max, value, type: "range" } :
            { "aria-valuemax": `${max}`, "aria-valuemin": `${min}`, "aria-valuenow": `${value}` });
        newProps = { ...newProps, "aria-label": label, "aria-valuetext": valueText, style: { "--range-value": `${value}`, "--range-value-text": `${valueText}` } };
        if (tag == "input") {
            newProps.onInput = e => {
                onValueChange?.({ currentTarget: e.currentTarget, target: e.target, [EventDetail]: { value: e.currentTarget.valueAsNumber } });
            };
        }
        else {
            throw new Error("Unimplemented");
        }
        return {
            sliderThumbReturn: {
                min,
                max
            },
            managedChildReturn,
            propsSliderThumb: newProps
        };
    }

    function useTable({ labelParameters, tableParameters: { selectionLimit, tagTable }, }) {
        const [getSortBody, setSortBody] = usePassiveState(null, returnNull);
        const sortQueue = _([]);
        const [getSortColumn, setSortColumn] = usePassiveState(T$1((a) => { sortQueue.current.push(a.column); }, []), T$1(() => { return { column: 0, direction: "ascending" }; }, []));
        const updateSortDirection = T$1((column) => {
            const { column: currentColumn, direction: currentDirection } = getSortColumn();
            const next = { column, direction: column != currentColumn ? "ascending" : (currentDirection == "ascending" ? "descending" : "ascending") };
            setSortColumn(next);
            return next;
        }, []);
        const sortByColumn = T$1((column) => {
            const next = updateSortDirection(column);
            getSortBody()?.();
            return next;
        }, []);
        //const { tagInput: tagTable } = labelParameters
        const { propsInput: propsLabelList, propsLabel: propsLabelLabel } = useLabelSynthetic({
            labelParameters: { ...labelParameters, onLabelClick: null },
            randomIdInputParameters: { prefix: Prefices.table },
            randomIdLabelParameters: { prefix: Prefices.tableLabel }
        });
        return {
            propsTable: useMergedProps({ role: tagTable == "table" ? undefined : "grid", "aria-multiselectable": (selectionLimit == "multi" ? "true" : undefined) }, propsLabelList),
            propsLabel: propsLabelLabel,
            context: ({ tableContext: ({ sortByColumn, setSortBodyFunction: setSortBody, getCurrentSortColumn: getSortColumn }) })
        };
    }
    function fuzzyCompare(lhs, rhs) {
        if (lhs === rhs)
            return 0;
        if (lhs == null || rhs == null) {
            if (lhs == null && rhs != null)
                return -1;
            if (lhs != null && rhs == null)
                return 1;
            if (lhs === null && rhs === undefined)
                return 1;
            if (lhs === undefined && rhs === null)
                return -1;
        }
        else {
            if (lhs == rhs)
                return 0;
            if (lhs < rhs)
                return -1;
            return 1;
        }
        return 0;
    }
    const naturalSectionTypes = new Set(["thead", "tbody", "tfoot"]);
    function useTableSection({ linearNavigationParameters, rovingTabIndexParameters, singleSelectionParameters, gridNavigationParameters, rearrangeableChildrenParameters, paginatedChildrenParameters, staggeredChildrenParameters, tableSectionParameters: { tagTableSection, location }, context: { tableContext } }) {
        const { childrenHaveFocusReturn, context, linearNavigationReturn, managedChildrenReturn, props, rovingTabIndexReturn, singleSelectionReturn, typeaheadNavigationReturn, staggeredChildrenReturn, rearrangeableChildrenReturn, paginatedChildrenReturn, sortableChildrenReturn } = useCompleteGridNavigation({
            linearNavigationParameters,
            rovingTabIndexParameters,
            singleSelectionParameters,
            paginatedChildrenParameters,
            staggeredChildrenParameters,
            sortableChildrenParameters: {
                compare: T$1((lhs, rhs) => {
                    return fuzzyCompare(lhs?.getSortValue?.(), rhs?.getSortValue?.());
                }, [])
            },
            typeaheadNavigationParameters: { noTypeahead: true, collator: null, typeaheadTimeout: Infinity },
            gridNavigationParameters,
            rearrangeableChildrenParameters
        });
        if (!naturalSectionTypes.has(tagTableSection)) {
            props.role = "rowgroup";
        }
        h(() => {
            if (location == "body") {
                tableContext.setSortBodyFunction(() => {
                    const managedRows = managedChildrenReturn.getChildren();
                    return () => sortableChildrenReturn.sort(managedRows, tableContext.getCurrentSortColumn().direction);
                });
            }
        });
        /*const sort = useCallback((column: number) => {
            const ret = tableContext.updateSortDirection(column)
            sortableChildrenReturn.sort(managedChildrenReturn.getChildren(), ret.direction);
            return ret;
        }, [])*/
        return {
            childrenHaveFocusReturn,
            context: {
                ...context,
                tableContext
            },
            staggeredChildrenReturn,
            linearNavigationReturn,
            managedChildrenReturn,
            rovingTabIndexReturn,
            singleSelectionReturn,
            rearrangeableChildrenReturn,
            sortableChildrenReturn,
            typeaheadNavigationReturn,
            paginatedChildrenReturn,
            propsTableSection: props
        };
    }
    function useTableRow({ rowAsChildOfGridParameters: { managedChildParameters, singleSelectionChildParameters, completeGridNavigationRowParameters, rovingTabIndexChildParameters, textContentParameters, context: cx1 }, rowAsParentOfCellsParameters: { linearNavigationParameters, rovingTabIndexParameters }, tableRowParameters: { selected } }) {
        const { context: cx2, hasCurrentFocusReturn, rowAsChildOfGridReturn, rowAsParentOfCellsReturn, props } = useCompleteGridNavigationRow({
            rowAsChildOfGridParameters: {
                textContentParameters,
                context: { ...cx1 },
                managedChildParameters,
                singleSelectionChildParameters,
                completeGridNavigationRowParameters,
                rovingTabIndexChildParameters,
                sortableChildParameters: {
                    getSortValue: useStableCallback(() => {
                        const currentColumn = cx1.tableContext.getCurrentSortColumn().column;
                        const currentChild = rowAsParentOfCellsReturn.managedChildrenReturn.getChildren().getAt(currentColumn ?? 0);
                        const sortValue = currentChild?.getSortValue();
                        return sortValue;
                    })
                }
            },
            rowAsParentOfCellsParameters: {
                linearNavigationParameters,
                rovingTabIndexParameters,
                typeaheadNavigationParameters: { noTypeahead: true, collator: null, typeaheadTimeout: Infinity }
            }
        });
        props.role = "gridrow";
        // TODO: Unneeded?
        //if (selected)
        //    props[singleSelectionChildParameters.ariaPropName ?? "aria-selected"] = "true";
        return {
            rowAsChildOfGridReturn,
            rowAsParentOfCellsReturn,
            context: {
                ...cx2,
                tableContext: cx1.tableContext
            },
            hasCurrentFocusReturn,
            props
        };
    }
    function useTableCell({ tableCellParameters: { tagTableCell }, ...p }) {
        const { props, ...ret } = useCompleteGridNavigationCell(p);
        return {
            propsFocus: props,
            propsCell: { role: (tagTableCell != "th" && tagTableCell != "td") ? "gridcell" : undefined },
            ...ret,
            tableCellReturn: {
                sortByThisColumn: useStableCallback(() => {
                    return p.context.tableContext.sortByColumn(p.managedChildParameters.index);
                }, [])
            }
        };
    }
    /*
    export interface UseTableSectionSectionParameters {
        gridlistSectionParameters: {
            compareRows: (lhsIndex: number, rhsIndex: number) => number;
        }
        gridlistSectionContext: {

        }
    }*/
    /*
    export const useTableSectionSection = <BodySectionElement extends Element, RowElement extends Element>({ compareRows }: UseTableSectionSectionParameters) => {
        //debugLog("useTableSectionSection");
        //type CRFull = UseRovingTabIndexSubInfo<RowElement, UseListNavigationSubInfo<UseTableRowSubInfo<CellElement, CR, CC>>>;
        const getIndex = useCallback<GetIndex<any>>((i) => i.props.index, []);


        const {
            linearNavigationParameters,
            rearrangeableChildrenReturn,
            sortableChildrenReturn
        } = useSortableChildren<BodySectionElement, TableRowInfo<RowElement>>({
            rearrangeableChildrenParameters: {
                getIndex,
                getHighestChildIndex,
                getValid
            },
            sortableChildrenParameters: {
                compare: (lhs, rhs) => {
                    if (lhs.locationIndex === rhs.locationIndex)
                        return compareRows(lhs.index, rhs.index);
                    return lhs.locationIndex - rhs.locationIndex;
                }
            }
        });

        const useTableSectionSectionProps = (props: h.JSX.HTMLAttributes<BodySectionElement>) => {
            console.assert(props.children != null);
            overwriteWithWarning("useTableSectionSection", props, "role", "rowgroup");
            return useSortableProps(props as h.JSX.HTMLAttributes<BodySectionElement> & { children: any });
        }

        return {
            useTableSectionSectionProps,
            ...sortableRet
        }
    }*/

    function useTabs({ labelParameters, linearNavigationParameters, rearrangeableChildrenParameters, rovingTabIndexParameters, singleSelectionParameters: { onSelectedIndexChange: ssi, ...singleSelectionParameters }, sortableChildrenParameters, staggeredChildrenParameters, typeaheadNavigationParameters, tabsParameters: { orientation, role, localStorageKey } }) {
        debugLog("useTabs");
        const [localStorageIndex, setLocalStorageIndex] = usePersistentState(localStorageKey ?? null, 0);
        if (localStorageIndex != null)
            singleSelectionParameters.initiallySelectedIndex = localStorageIndex;
        const baseId = generateRandomId("aria-tabs-");
        const getTabId = T$1((index) => { return baseId + "-tab-" + index; }, []);
        const getPanelId = T$1((index) => { return baseId + "-panel-" + index; }, []);
        // Used for the panels, not the tabs in the tablist.
        // Those are in useTabList itself.
        const { context: managedChildContext, managedChildrenReturn: panelChildrenReturn } = useManagedChildren({
            managedChildrenParameters: {
                onChildrenMountChange: useStableCallback((_m, _u) => { reevaluateClosestFit(); })
            }
        });
        const { changeIndex: changeVisiblePanel, getCurrentIndex: getVisibleIndex, reevaluateClosestFit } = useChildrenFlag({
            getChildren: panelChildrenReturn.getChildren,
            closestFit: false,
            initialIndex: null,
            getAt: useStableCallback((i) => { return i.getVisible() ?? false; /*getPanels().getAt(i)?.getVisible() ?? false)*/ }, []),
            setAt: useStableCallback((i, b, n, p) => { return i.setVisibleIndex(n, p); /*(getPanels().getAt(i)?.setVisible(b));*/ }, []),
            isValid: returnTrue,
            onIndexChange: null
        });
        s(() => {
            changeVisiblePanel(singleSelectionParameters.initiallySelectedIndex);
        }, []);
        const { propsInput, propsLabel, randomIdInputReturn: { id: _inputId }, randomIdLabelReturn: { id: _labelId }, } = useLabelSynthetic({
            labelParameters: { ...labelParameters, onLabelClick: useStableCallback(() => listNavRet1.rovingTabIndexReturn.focusSelf()) },
            randomIdInputParameters: { prefix: Prefices.tablist },
            randomIdLabelParameters: { prefix: Prefices.tablistLabel },
        });
        const { props: listNavigationSingleSelectionProps, context, ...listNavRet1 } = useCompleteListNavigation({
            linearNavigationParameters: { navigationDirection: orientation, ...linearNavigationParameters },
            rovingTabIndexParameters,
            singleSelectionParameters: {
                onSelectedIndexChange: useStableCallback((i, p) => {
                    ssi?.(i, p);
                    changeVisiblePanel(i);
                    setLocalStorageIndex(i);
                    changeSelectedIndex(i, p);
                }),
                ...singleSelectionParameters
            },
            typeaheadNavigationParameters,
            rearrangeableChildrenParameters,
            staggeredChildrenParameters,
            sortableChildrenParameters,
            paginatedChildrenParameters: { paginationMax: null, paginationMin: null }
        });
        const { singleSelectionReturn: { changeSelectedIndex } } = listNavRet1;
        return {
            contextPanels: useStableObject({
                ...managedChildContext,
                tabPanelContext: useStableObject({
                    getPanelId,
                    getTabId,
                    getVisibleIndex,
                    setSelectedIndex: changeSelectedIndex
                })
            }),
            contextTabs: useStableObject({
                ...context,
                tabsContext: useStableObject({ getTabId, getPanelId, getVisibleIndex, setSelectedIndex: changeSelectedIndex })
            }),
            propsContainer: useMergedProps(listNavigationSingleSelectionProps, propsInput, {
                role: (role ?? "tablist"),
                "aria-orientation": orientation ?? "horizontal",
            }),
            propsLabel,
            ...listNavRet1
        };
    }
    function useTab({ completeListNavigationChildParameters: { focusSelf, ...completeListNavigationChildParameters }, managedChildParameters, textContentParameters, singleSelectionChildParameters: { selectionMode, ...singleSelectionChildParameters }, rovingTabIndexChildParameters, sortableChildParameters, context }) {
        const { props: listNavigationSingleSelectionChildProps, ...listNavRet2 } = useCompleteListNavigationChild({
            completeListNavigationChildParameters: { focusSelf, ...completeListNavigationChildParameters },
            context,
            managedChildParameters,
            rovingTabIndexChildParameters,
            sortableChildParameters,
            textContentParameters,
            singleSelectionChildParameters: { ariaPropName: "aria-selected", selectionMode: selectionMode ?? "foucs", ...singleSelectionChildParameters },
        });
        const { pressParameters, refElementReturn } = listNavRet2;
        const { pressReturn } = usePress({ pressParameters: { ...pressParameters, focusSelf }, refElementReturn });
        const { singleSelectionChildReturn: { selected }, rovingTabIndexChildReturn: { tabbable } } = listNavRet2;
        const { getPanelId, getTabId } = context.tabsContext;
        const panelId = getPanelId(managedChildParameters.index);
        const tabId = getTabId(managedChildParameters.index);
        debugLog("useTab", managedChildParameters.index, selected.toString());
        return {
            props: useMergedProps(pressReturn.propsUnstable, listNavigationSingleSelectionChildProps, {
                "data-tabbable": tabbable.toString(),
                "data-selected": selected.toString(),
                role: "tab",
                "aria-controls": panelId,
                id: tabId
            }),
            pressReturn,
            ...listNavRet2
        };
    }
    function useTabPanel({ managedChildParameters, context }) {
        const { index } = managedChildParameters;
        debugLog("useTabPanel", index);
        const { tabPanelContext: { getVisibleIndex: g, getPanelId, getTabId } } = context;
        //const [correspondingTabId, setCorrespondingTabId] = useState<string | null>(null);
        const [lastKnownVisibleIndex, setLastKnownVisibleIndex, getLastKnownVisibleIndex] = useState(g());
        const [isVisible, setIsVisible, getIsVisible] = useState(null);
        //const visibleRef = useRef<ChildFlagOperations>({ get: getIsVisible, set: setIsVisible, isValid: returnTrue });
        useManagedChild({ context, managedChildParameters: { index } }, {
            getVisible: useStableCallback(() => { return getLastKnownVisibleIndex() == index; }),
            setVisibleIndex: useStableCallback((newIndex, prevIndex) => {
                // Similar logic is in singleSelection, but we need to duplicate it here
                let changeIndex = (newIndex == index ? prevIndex : newIndex);
                if (changeIndex != null)
                    setLastKnownVisibleIndex(changeIndex);
                if (newIndex == index) {
                    setIsVisible(true);
                }
                else {
                    setIsVisible(false);
                }
            }),
            ...managedChildParameters
        });
        const panelId = getPanelId(managedChildParameters.index);
        const tabId = getTabId(managedChildParameters.index);
        //const isVisible = (lastKnownVisibleIndex === index);
        return {
            props: useMergedProps({
                role: "tabpanel",
                "aria-labelledby": tabId,
                id: panelId,
                inert: !isVisible
            }),
            tabPanelReturn: {
                visibleOffset: lastKnownVisibleIndex == null ? null : (index - lastKnownVisibleIndex),
                visible: isVisible,
                getVisible: useStableCallback(() => { return getLastKnownVisibleIndex() === index; })
            }
        };
    }

    function useToasts({ managedChildrenParameters: { onChildrenMountChange: ocmu, onAfterChildLayoutEffect }, toastsParameters: { visibleCount } }) {
        debugLog("useToasts");
        // Normally, this does just look like [0, 1, 2, 3], etc
        // so it could be just an index to the current toast,
        // but if we dismiss toasts out of order, it's [0, 2, 3] or something.
        // So just keep track of it all in a big ol', there's only one of these on a page anyway,
        // and if you're pusing 10000 toasts at once an Array<number> isn't going to be your bottleneck.
        const currentIndexQueue = _([]);
        const getMaxVisibleCount = useStableGetter(visibleCount);
        const nextIndexToStartAt = _(0);
        const { refElementReturn: { getElement, propsStable } } = useRefElement({ refElementParameters: {} });
        const { context, managedChildrenReturn, ..._childInfo } = useManagedChildren({ managedChildrenParameters: { onAfterChildLayoutEffect, onChildrenMountChange: ocmu } });
        const { getChildren: getToastQueue } = managedChildrenReturn;
        const toastQueue = getToastQueue();
        // When a toast is shown or hidden, always make sure that we're showing all the toasts that we should be.
        const showHighestPriorityToast = T$1(() => {
            const max = Math.min(getMaxVisibleCount(), currentIndexQueue.current.length);
            let start = nextIndexToStartAt.current;
            for (let i = start; i < max; ++i) {
                const highestPriorityToast = toastQueue.getAt(currentIndexQueue.current[i]);
                console.assert(!!highestPriorityToast);
                highestPriorityToast?.show();
            }
            nextIndexToStartAt.current = max;
        }, []);
        // Any time a new toast mounts, update our bottommostToastIndex to point to it if necessary
        // ("necessary" just meaning if it's the first toast ever or all prior toasts have been dismissed)
        const onAnyToastMounted = T$1((toastIndex) => {
            currentIndexQueue.current.push(toastIndex);
            toastQueue.getAt(toastIndex)?.setNumberAheadOfMe(currentIndexQueue.current.length - 1);
            showHighestPriorityToast();
        }, []);
        // Any time a toast is dismissed, update our bottommostToastIndex to point to the next toast in the queue, if one exists.
        const onAnyToastDismissed = T$1((_index) => {
            // When we dismiss a toast, remove it from the "to-display" queue by actually splicing it out of the array.
            // Then notify each toast of its change in position within that queue to keep the two in sync.
            const removalIndex = currentIndexQueue.current.findIndex(i => i == _index);
            // For all toasts that have already been dismissed, shift them even further back by one to "make space" 
            // (they're removed from the queue but this is the negative index they would have if we kept negatives in the queue)
            // for the newly-dismissed toast.
            toastQueue.forEach(c => {
                c.setNumberAheadOfMe(prev => {
                    if (prev < 0)
                        return prev - 1;
                    else
                        return prev;
                });
            });
            // Let this toast know that it's now the most recently dismissed toast
            toastQueue.getAt(_index)?.setNumberAheadOfMe(-1);
            // Notify all toasts waiting behind this one in the queue that they've moved up one slot
            toastQueue.forEach(c => {
                c.setNumberAheadOfMe(prev => {
                    if (prev > removalIndex)
                        return prev - 1;
                    else
                        return prev;
                });
            });
            // Actually modify the queue itself
            currentIndexQueue.current.splice(removalIndex, 1);
            // And after all that, make sure that we're showing any toasts that have been waiting in the queue
            showHighestPriorityToast();
        }, []);
        const [_mouseOver2, setMouseOver, _getMouseOver] = useState(false);
        useGlobalHandler(document, "pointermove", e => {
            const mouseOver = (e.target != null && e.target instanceof Node && (getElement()?.contains(e.target) || getElement() == e.target));
            setMouseOver(mouseOver);
        });
        const toastContext = {
            onAnyToastDismissed,
            getMaxVisibleCount,
            onAnyToastMounted
        };
        const props = useMergedProps(useMergedProps(propsStable, { class: "toasts-container" }));
        return {
            context: {
                ...context,
                toastContext
            },
            managedChildrenReturn,
            props
        };
    }
    function useToast({ toastParameters: { politeness, timeout, children }, managedChildParameters: { index, ..._managedChildParameters }, context }) {
        const { getMaxVisibleCount, onAnyToastDismissed, onAnyToastMounted } = context.toastContext;
        debugLog("useToast", index);
        const [numberOfToastsAheadOfUs, setNumberOfToastsAheadOfUs] = useState(Infinity);
        const getIndex = useStableGetter(index);
        const [dismissed2, setDismissed2, getDismissed2] = useState(false);
        const [showing2, setShowing2, getShowing2] = useState(false);
        const [triggerIndex, setTriggerIndex] = useState(1);
        const notify = useNotify();
        const dismiss = T$1(() => {
            if (!getDismissed2())
                onAnyToastDismissed(getIndex());
            setDismissed2(true);
            setShowing2(false);
        }, []);
        const show = useStableCallback(() => {
            notify("polite", o$1("p", { children: children }));
            setShowing2(true);
        });
        h(() => {
            if (!getDismissed2() && !getShowing2()) {
                if (numberOfToastsAheadOfUs >= 0 && numberOfToastsAheadOfUs < getMaxVisibleCount()) {
                    show();
                }
            }
        }, [numberOfToastsAheadOfUs]);
        const focus = T$1(() => {
            const element = getElement();
            if (element) {
                const firstFocusable = findFirstFocusable(element);
                firstFocusable?.focus?.();
            }
        }, []);
        useManagedChild({ managedChildParameters: { index }, context }, { index, focus, setNumberAheadOfMe: setNumberOfToastsAheadOfUs, show });
        const resetDismissTimer = T$1(() => {
            setTriggerIndex(i => ++i);
        }, []);
        h(() => {
            onAnyToastMounted(index);
        }, []);
        const dismissTimeoutKey = (timeout == null || numberOfToastsAheadOfUs != 0) ? null : isFinite(timeout) ? timeout : timeout > 0 ? null : 0;
        useTimeout({
            timeout: dismissTimeoutKey,
            callback: () => {
                if (showing2)
                    dismiss();
            },
            triggerIndex: showing2 ? triggerIndex : false
        });
        const { refElementReturn: { getElement, propsStable } } = useRefElement({ refElementParameters: {} });
        return {
            toastReturn: {
                dismissed: dismissed2,
                showing: showing2,
                numberOfToastsAheadOfUs,
                dismiss,
                resetDismissTimer
            },
            props: propsStable
        };
    }

    function useTooltip({ tooltipParameters: { onStatus, tooltipSemanticType }, escapeDismissParameters }) {
        /**
         * Whether the hover/focus-popup/trigger state we have results in us showing this tooltip.
         *
         * This is used purely to attach global event handlers that should only be there when the tooltip is open (e.g. `useDismiss`)
         */
        const [openLocal, setOpenLocal] = useState(false);
        const [getState, setState] = usePassiveState(useStableCallback((nextState, prevState) => {
            switch (nextState) {
                case "focused-popup":
                case "focused-trigger":
                    onStatus("focus");
                    break;
                case "hovering-popup":
                case "hovering-trigger":
                    onStatus("hover");
                    break;
                default:
                    onStatus(null);
                    break;
            }
            setOpenLocal(!!nextState);
        }), returnNull);
        let { propsReferencer: propsTrigger, propsSource: propsPopup } = useRandomId({ randomIdParameters: { prefix: Prefices.tooltip, otherReferencerProp: (tooltipSemanticType == "description" ? "aria-describedby" : "aria-labelledby") } });
        const { refElementReturn: { getElement: getTriggerElement, propsStable: triggerRefProps } } = useRefElement({ refElementParameters: {} });
        const { refElementReturn: { getElement: getPopupElement, propsStable: popupRefProps } } = useRefElement({ refElementParameters: {} });
        const stateIsMouse = T$1(() => (getState()?.startsWith("h") || false), []);
        const stateIsFocus = T$1(() => (getState()?.startsWith("f") || false), []);
        const onHoverChanged = T$1((hovering, which) => {
            if (hovering) {
                setState(`hovering-${which}`);
            }
            else {
                setState(null);
            }
        }, []);
        const onCurrentFocusedInnerChanged = T$1((focused, which) => {
            if (!stateIsMouse()) {
                if (focused) {
                    setState(`focused-${which}`);
                }
                else {
                    setState(null);
                }
            }
            else {
                setState(null);
            }
        }, [stateIsMouse]);
        const onTriggerCurrentFocusedInnerChanged = T$1((focused) => onCurrentFocusedInnerChanged(focused, "trigger"), [onCurrentFocusedInnerChanged]);
        const onPopupCurrentFocusedInnerChanged = T$1((focused) => onCurrentFocusedInnerChanged(focused, "popup"), [onCurrentFocusedInnerChanged]);
        const { hasCurrentFocusReturn: triggerFocusReturn } = useHasCurrentFocus({ hasCurrentFocusParameters: { onCurrentFocusedChanged: null, onCurrentFocusedInnerChanged: onTriggerCurrentFocusedInnerChanged }, refElementReturn: { getElement: getTriggerElement } });
        const { hasCurrentFocusReturn: popupFocusReturn } = useHasCurrentFocus({ hasCurrentFocusParameters: { onCurrentFocusedChanged: null, onCurrentFocusedInnerChanged: onPopupCurrentFocusedInnerChanged }, refElementReturn: { getElement: getPopupElement } });
        const { refElementPopupReturn, refElementSourceReturn } = useDismiss({
            dismissParameters: {
                closeOnBackdrop: false,
                closeOnLostFocus: false,
                closeOnEscape: true,
                open: openLocal,
                onClose: useStableCallback(() => {
                    setState(null);
                }),
            },
            escapeDismissParameters,
        });
        const otherPopupProps = {
            onPointerEnter: T$1(() => { onHoverChanged(true, "popup"); }, []),
            //onPointerLeave: useCallback(() => { onHoverChanged(false, "popup") }, [])
        };
        const otherTriggerProps = {
            onPointerEnter: T$1(() => { onHoverChanged(true, "trigger"); }, []),
            //onPointerLeave: useCallback(() => { onHoverChanged(false, "trigger") }, [])
        };
        useGlobalHandler(document, "pointermove", !openLocal ? null : (e => {
            const popupElement = getPopupElement();
            const triggerElement = getTriggerElement();
            const mouseElement = e.target;
            let overPopup = (popupElement?.contains(mouseElement));
            let overTrigger = (triggerElement?.contains(mouseElement));
            if (!overPopup && !overTrigger && stateIsMouse()) {
                onHoverChanged(false, "popup");
            }
        }), { capture: true, passive: true });
        return {
            propsPopup: useMergedProps(popupRefProps, propsPopup, popupFocusReturn.propsStable, { role: "tooltip" }, otherPopupProps, refElementPopupReturn.propsStable),
            propsTrigger: useMergedProps(triggerRefProps, propsTrigger, triggerFocusReturn.propsStable, { onClick: useStableCallback(e => e.currentTarget?.focus?.()) }, otherTriggerProps, refElementSourceReturn.propsStable),
            tooltipReturn: {
                getState,
                stateIsFocus,
                stateIsMouse
            }
        };
    }

    function memoForwardRef(fn) {
        return R(k(fn));
    }
    const ContextDefaults = {
        collator: G$1(null),
        pageNavigationSize: G$1(0.1),
        typeaheadTimeout: G$1(1000),
        noTypeahead: G$1(false),
        getIndex: G$1(v => v.props.index),
        disableArrowKeys: G$1(false),
        disableHomeEndKeys: G$1(false),
        getWindow: G$1(() => globalThis.window),
        focusOpener: G$1((e) => e?.focus?.()),
        getText: G$1((e) => (e?.textContent ?? "")),
        selectionMode: G$1("activation"),
    };
    function useDefault(context, userValue) {
        const defaultValue = q(ContextDefaults[context]);
        return userValue ?? defaultValue;
    }
    const ParentDepthContext = G$1(0);

    const AccordionSectionContext = G$1(null);
    const Accordion = memoForwardRef(function Accordion({ disableArrowKeys, disableHomeEndKeys, initialIndex, navigationDirection, onAfterChildLayoutEffect, onChildrenMountChange, navigatePastEnd, navigatePastStart, pageNavigationSize, localStorageKey, collator, noTypeahead, typeaheadTimeout, isValid, render, ..._rest }, ref) {
        const info = useAccordion({
            accordionParameters: { initialIndex, localStorageKey: localStorageKey ?? null },
            typeaheadNavigationParameters: {
                isValid: isValid || returnTrue,
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
            },
            linearNavigationParameters: {
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                navigationDirection,
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap",
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize)
            },
            managedChildrenParameters: { onAfterChildLayoutEffect, onChildrenMountChange }
        });
        A(ref, () => info);
        return (o$1(AccordionSectionContext.Provider, { value: info.context, children: render(info) }));
    });
    const AccordionSection = memoForwardRef(function AccordionSection({ open, index, tagButton, disabled, bodyRole, onPress, hidden, getText, render, }, ref) {
        const context = q(AccordionSectionContext);
        const info = useAccordionSection({
            buttonParameters: { disabled: disabled ?? false, tagButton, onPress: onPress ?? null },
            accordionSectionParameters: { open, bodyRole: bodyRole ?? "region" },
            managedChildParameters: { index, },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            pressParameters: { allowRepeatPresses: false },
            refElementParameters: {},
            context,
            textContentParameters: {
                hidden: hidden || false,
                getText: useDefault("getText", getText)
            },
        });
        A(ref, () => info);
        return render(info);
    });

    const Button = memoForwardRef(function Button({ tagButton, onPress, pressed, render, disabled, onElementChange, onMount, onUnmount, allowRepeatPresses, longPressThreshold }, ref) {
        const info = useButton({
            buttonParameters: {
                role: "button",
                tagButton: tagButton,
                onPress: onPress ?? null,
                pressed,
                disabled: disabled ?? false
            },
            pressParameters: { longPressThreshold, allowRepeatPresses },
            refElementParameters: { onElementChange, onMount, onUnmount }
        });
        A(ref, () => info);
        return render(info);
    });

    function defaultRenderCheckboxLike({ labelPosition, tagInput, tagLabel, makePropsInput, makePropsLabel }) {
        return function (info) {
            const inputProps = (makePropsInput(info));
            const { children, ...labelProps } = (makePropsLabel(info));
            if (labelPosition == "wrapping") {
                const input = y$1(tagInput, inputProps);
                const label = y$1(tagLabel, { ...labelProps, children: o$1(_$2, { children: [input, children] }) });
                return (o$1(_$2, { children: label }));
            }
            else if (labelPosition == "separate") {
                const input = y$1(tagInput, inputProps);
                const label = y$1(tagLabel, { children, ...labelProps });
                return (o$1(_$2, { children: [input, label] }));
            }
            else {
                console.assert(!!inputProps["aria-label"]);
                return y$1(tagInput, inputProps);
            }
        };
    }
    const Checkbox = memoForwardRef(function Checkbox({ checked, disabled, tagLabel, labelPosition, tagInput, ariaLabel, onCheckedChange, render }, ref) {
        const { refElementReturn: refElementInputReturn } = useRefElement({ refElementParameters: {} });
        const { refElementReturn: refElementLabelReturn } = useRefElement({ refElementParameters: {} });
        const checkbox = useCheckbox({
            checkboxLikeParameters: { checked: checked ?? false, disabled: disabled ?? false },
            checkboxParameters: { onCheckedChange },
            labelParameters: { ariaLabel: ariaLabel, labelPosition, tagInput, tagLabel },
            refElementInputReturn,
            refElementLabelReturn,
            pressParameters: { excludeSpace: returnFalse }
        });
        A(ref, () => checkbox);
        return render(checkbox);
    });

    const UseCheckboxGroupChildContext = G$1(null);
    const CheckboxGroup = memoForwardRef(function CheckboxGroup({ render, collator, disableArrowKeys, disableHomeEndKeys, navigationDirection, noTypeahead, typeaheadTimeout, onTabbableIndexChange, compare, staggered, getIndex, untabbable, navigatePastEnd, navigatePastStart, pageNavigationSize, ..._rest }, ref) {
        const info = useCheckboxGroup({
            linearNavigationParameters: {
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap",
                navigationDirection,
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize)
            },
            staggeredChildrenParameters: { staggered: staggered || false },
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", getIndex) },
            rovingTabIndexParameters: { onTabbableIndexChange: onTabbableIndexChange ?? null, untabbable: untabbable ?? false },
            sortableChildrenParameters: { compare: compare ?? null },
            typeaheadNavigationParameters: {
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
            }
        });
        A(ref, () => info);
        return (o$1(UseCheckboxGroupChildContext.Provider, { value: info.context, children: render(info) }));
    });
    const CheckboxGroupParent = memoForwardRef(function CheckboxGroupParent({ render, index, focusSelf, hidden, getText, getSortValue, ..._rest }, ref) {
        const context = q(UseCheckboxGroupChildContext);
        console.assert(context != null, `This CheckboxGroupParent is not contained within a CheckboxGroup`);
        const info = useCheckboxGroupParent({
            completeListNavigationChildParameters: { focusSelf, checkboxInfo: { checkboxChildType: "parent" } },
            context,
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            sortableChildParameters: { getSortValue },
            textContentParameters: { getText: useDefault("getText", getText) }
        });
        A(ref, () => info);
        return render(info);
    });
    const CheckboxGroupChild = memoForwardRef(function CheckboxGroupChild({ index, render, checked, onChangeFromParent, getSortValue, hidden, getText, focusSelf, ..._rest }, ref) {
        const context = q(UseCheckboxGroupChildContext);
        console.assert(context != null, `This CheckboxGroupChild is not contained within a CheckboxGroup`);
        const info = useCheckboxGroupChild({
            checkboxGroupChild: { checked, onChangeFromParent },
            completeListNavigationChildParameters: { focusSelf },
            textContentParameters: { getText: useDefault("getText", getText) },
            context,
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            sortableChildParameters: { getSortValue },
        });
        A(ref, () => info);
        return render(info);
    });

    function defaultRenderPortal({ portalId, children }) {
        const portalRef = _(null);
        portalRef.current ??= document.getElementById(portalId);
        if (portalRef.current)
            return j(children, portalRef.current);
        else
            return children;
    }
    const Dialog = memoForwardRef(function Dialog({ onClose, open, closeOnBackdrop, closeOnEscape, focusOpener, getWindow, parentDepth, focusPopup, ariaLabel, render }, ref) {
        const defaultParentDepth = q(ParentDepthContext);
        let myDepth = (parentDepth ?? defaultParentDepth) + 1;
        const info = useDialog({
            dismissParameters: {
                closeOnBackdrop: closeOnBackdrop ?? true,
                closeOnEscape: closeOnEscape ?? true,
                onClose,
                open
            },
            escapeDismissParameters: {
                getWindow: useDefault("getWindow", getWindow),
                parentDepth: parentDepth ?? defaultParentDepth
            },
            focusTrapParameters: {
                focusOpener: useDefault("focusOpener", focusOpener),
                focusPopup
            },
            labelParameters: { ariaLabel }
        });
        A(ref, () => info);
        return (o$1(ParentDepthContext.Provider, { value: myDepth, children: render(info) }));
    });

    memoForwardRef(function Drawer({ closeOnBackdrop, closeOnEscape, closeOnLostFocus, focusOpener, focusPopup, getWindow, onClose, open, parentDepth, render, trapActive, ariaLabel, }, ref) {
        const defaultParentDepth = q(ParentDepthContext);
        let myDepth = (parentDepth ?? defaultParentDepth) + 1;
        const info = useDrawer({
            dismissParameters: {
                closeOnBackdrop: closeOnBackdrop ?? true,
                closeOnEscape: closeOnEscape ?? true,
                closeOnLostFocus: closeOnLostFocus ?? true,
                onClose,
                open
            },
            escapeDismissParameters: {
                getWindow: useDefault("getWindow", getWindow),
                parentDepth: parentDepth ?? defaultParentDepth
            },
            focusTrapParameters: {
                focusOpener: useDefault("focusOpener", focusOpener),
                focusPopup,
                trapActive: trapActive ?? false
            },
            labelParameters: { ariaLabel }
        });
        A(ref, () => info);
        return (o$1(ParentDepthContext.Provider, { value: myDepth, children: render(info) }));
    });

    const GridlistContext = G$1(null);
    const GridlistRowContext = G$1(null);
    const Gridlist = memoForwardRef(function GridlistU({ collator, disableArrowKeys, disableHomeEndKeys, noTypeahead, onTabbableIndexChange, groupingType, typeaheadTimeout, selectedIndex, navigatePastEnd, navigatePastStart, onSelectedIndexChange, pageNavigationSize, selectionLimit, untabbable, paginationMax, paginationMin, staggered, compare, getIndex, onTabbableColumnChange, ariaLabel, render }, ref) {
        const info = useGridlist({
            linearNavigationParameters: {
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                navigatePastEnd: (navigatePastEnd ?? "wrap"),
                navigatePastStart: (navigatePastStart ?? "wrap"),
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize),
            },
            rovingTabIndexParameters: {
                onTabbableIndexChange: onTabbableIndexChange ?? null,
                untabbable: untabbable ?? false
            },
            staggeredChildrenParameters: { staggered: staggered || false },
            typeaheadNavigationParameters: {
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout),
            },
            gridlistParameters: {
                selectionLimit,
                groupingType,
                selectedIndex,
                onSelectedIndexChange: onSelectedIndexChange ?? null
            },
            gridNavigationParameters: {
                onTabbableColumnChange: onTabbableColumnChange ?? null
            },
            labelParameters: {
                ariaLabel
            },
            rearrangeableChildrenParameters: {
                getIndex: useDefault("getIndex", getIndex)
            },
            sortableChildrenParameters: {
                compare: compare ?? null
            },
            paginatedChildrenParameters: {
                paginationMax: paginationMax ?? null,
                paginationMin: paginationMin ?? null
            }
        });
        A(ref, () => info);
        return (o$1(GridlistContext.Provider, { value: info.context, children: render(info) }));
    });
    const GridlistRow = memoForwardRef(function GridlistRowU({ index, collator, disableArrowKeys, ariaPropName, disabled, hidden, navigatePastEnd, navigatePastStart, noTypeahead, onTabbableIndexChange, selected, selectionMode, typeaheadTimeout, getSortValue, getText, render }, ref) {
        const context = q(GridlistContext);
        console.assert(context != null, `This GridlistRow is not contained within a Gridlist`);
        const info = useGridlistRow({
            rowAsChildOfGridParameters: {
                completeGridNavigationRowParameters: {},
                context,
                managedChildParameters: { index },
                gridlistRowParameters: { selected: selected ?? null },
                rovingTabIndexChildParameters: { hidden: hidden ?? false },
                sortableChildParameters: { getSortValue },
                singleSelectionChildParameters: { disabled: disabled ?? false, ariaPropName, selectionMode: useDefault("selectionMode", selectionMode) },
                textContentParameters: { getText: useDefault("getText", getText) }
            },
            rowAsParentOfCellsParameters: {
                linearNavigationParameters: {
                    disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                    navigatePastEnd: navigatePastEnd ?? "wrap",
                    navigatePastStart: navigatePastStart ?? "wrap"
                },
                rovingTabIndexParameters: {
                    onTabbableIndexChange: onTabbableIndexChange ?? null
                },
                typeaheadNavigationParameters: {
                    collator: useDefault("collator", collator),
                    noTypeahead: useDefault("noTypeahead", noTypeahead),
                    typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
                }
            },
        });
        A(ref, () => info);
        return o$1(GridlistRowContext.Provider, { value: info.context, children: render(info) });
    });
    const GridlistChild = memoForwardRef(function GridlistChild({ index, colSpan, focusSelf, hidden, getText, onPressSync, render, }, ref) {
        const context = q(GridlistRowContext);
        console.assert(context != null, `This GridlistChild is not contained within a GridlistRow that is contained within a Gridlist`);
        const defaultFocusSelf = useStableCallback((e) => { e.focus?.(); }, []);
        const info = useGridlistCell({
            completeGridNavigationCellParameters: { focusSelf: (focusSelf ?? defaultFocusSelf) },
            context,
            gridNavigationCellParameters: { colSpan: colSpan ?? 1 },
            textContentParameters: { getText: useDefault("getText", getText) },
            managedChildParameters: { index },
            pressParameters: { onPressSync },
            rovingTabIndexChildParameters: { hidden: hidden ?? false }
        });
        A(ref, () => info);
        return render(info);
    });

    function useListbox({ linearNavigationParameters, rearrangeableChildrenParameters, rovingTabIndexParameters, sortableChildrenParameters, typeaheadNavigationParameters, paginatedChildrenParameters, labelParameters, staggeredChildrenParameters, listboxParameters: { selectionLimit, groupingType, selectedIndex, onSelectedIndexChange } }) {
        useEnsureStability("useListbox", selectionLimit);
        const { propsInput: propsLabelList, propsLabel: propsLabelLabel, randomIdInputReturn: { id: _inputId }, randomIdLabelReturn: { id: _labelId } } = useLabelSynthetic({
            labelParameters: {
                ...labelParameters,
                onLabelClick: useStableCallback(() => {
                    rovingTabIndexReturn.focusSelf();
                })
            },
            randomIdInputParameters: { prefix: Prefices.listbox },
            randomIdLabelParameters: { prefix: Prefices.listboxLabel }
        });
        let { childrenHaveFocusReturn, context, linearNavigationReturn, managedChildrenReturn, props, paginatedChildrenReturn, rearrangeableChildrenReturn, rovingTabIndexReturn, staggeredChildrenReturn, singleSelectionReturn, sortableChildrenReturn, typeaheadNavigationReturn } = useCompleteListNavigation({
            linearNavigationParameters,
            rearrangeableChildrenParameters,
            rovingTabIndexParameters,
            singleSelectionParameters: { initiallySelectedIndex: selectedIndex, onSelectedIndexChange },
            sortableChildrenParameters,
            paginatedChildrenParameters,
            typeaheadNavigationParameters,
            staggeredChildrenParameters
        });
        useSingleSelectionDeclarative({
            singleSelectionDeclarativeParameters: { selectedIndex },
            singleSelectionReturn: { changeSelectedIndex: singleSelectionReturn.changeSelectedIndex }
        });
        if (groupingType == "group")
            props.role = "group";
        else if (groupingType == "with-groups") {
            // Intentionally clobbering all the list navigation stuff.
            props = { role: "listbox" };
            // ...actually, context too while we're at it.
            context = null;
        }
        else {
            props.role = "listbox";
        }
        if (selectionLimit == "multi")
            console.assert(singleSelectionReturn.getSelectedIndex() == null);
        return {
            childrenHaveFocusReturn,
            context: useStableObject({
                ...context,
                listboxContext: useStableObject({
                    selectionLimit
                })
            }),
            linearNavigationReturn,
            paginatedChildrenReturn,
            managedChildrenReturn,
            rearrangeableChildrenReturn,
            staggeredChildrenReturn,
            rovingTabIndexReturn,
            singleSelectionReturn,
            sortableChildrenReturn,
            typeaheadNavigationReturn,
            propsListbox: useMergedProps(props, propsLabelList, { "aria-multiselectable": (selectionLimit == "multi" ? "true" : undefined) }),
            propsListboxLabel: propsLabelLabel
        };
    }
    function useListboxItem({ completeListNavigationChildParameters, context: { listboxContext: { selectionLimit }, ...context }, managedChildParameters, singleSelectionChildParameters, rovingTabIndexChildParameters, sortableChildParameters, textContentParameters, listboxParameters: { selected }, pressParameters: { onPressSync: opsu }, }) {
        const { hasCurrentFocusReturn, managedChildReturn, pressParameters: { excludeSpace, onPressSync: opsss }, props, paginatedChildReturn, rovingTabIndexChildReturn, staggeredChildReturn, singleSelectionChildReturn, refElementReturn } = useCompleteListNavigationChild({
            completeListNavigationChildParameters,
            textContentParameters,
            managedChildParameters,
            singleSelectionChildParameters,
            rovingTabIndexChildParameters,
            sortableChildParameters,
            context
        });
        const { pressReturn } = usePress({
            refElementReturn, pressParameters: {
                onPressSync: useStableCallback((e) => {
                    if (selectionLimit == "single")
                        opsss?.(e);
                    opsu?.(e);
                }),
                excludeSpace,
                focusSelf: e => e?.focus?.()
            }
        });
        if (selectionLimit == "single")
            console.assert(selected == null);
        props.role = "option";
        return {
            hasCurrentFocusReturn,
            managedChildReturn,
            pressReturn,
            refElementReturn,
            props: useMergedProps(props, pressReturn.propsUnstable),
            paginatedChildReturn,
            rovingTabIndexChildReturn,
            singleSelectionChildReturn,
            staggeredChildReturn
        };
    }

    const ListboxContext = G$1(null);
    const ListboxGroupContext = G$1(null);
    const GroupedListbox = R(function GroupedListbox({ ariaLabel, selectionLimit, navigationDirection, render }) {
        const info = useListbox({
            labelParameters: { ariaLabel },
            linearNavigationParameters: {
                navigatePastEnd: "passthrough",
                navigatePastStart: "passthrough",
                navigationDirection,
                disableArrowKeys: false,
                disableHomeEndKeys: true,
                pageNavigationSize: 1
            },
            staggeredChildrenParameters: { staggered: false },
            paginatedChildrenParameters: { paginationMax: null, paginationMin: null },
            listboxParameters: { selectionLimit, groupingType: "with-groups", selectedIndex: null, onSelectedIndexChange: null },
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", undefined) },
            rovingTabIndexParameters: { onTabbableIndexChange: null, untabbable: false },
            sortableChildrenParameters: { compare: null },
            typeaheadNavigationParameters: {
                collator: null,
                noTypeahead: true,
                typeaheadTimeout: Infinity
            }
        });
        info.context;
        return (o$1(ListboxGroupContext.Provider, { value: info, children: render(info) }));
    });
    const Listbox = memoForwardRef(function Listbox({ ariaLabel, collator, compare, disableArrowKeys, disableHomeEndKeys, getIndex, selectedIndex, navigatePastEnd, navigatePastStart, navigationDirection, noTypeahead, onSelectedIndexChange, onTabbableIndexChange, staggered, pageNavigationSize, paginationMax, paginationMin, selectionLimit, untabbable, typeaheadTimeout, render }) {
        const listboxGroupInfo = q(ListboxGroupContext);
        const info = useListbox({
            labelParameters: { ariaLabel },
            staggeredChildrenParameters: {
                staggered: staggered || false
            },
            linearNavigationParameters: {
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap",
                navigationDirection,
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize)
            },
            paginatedChildrenParameters: {
                paginationMax: paginationMax ?? null,
                paginationMin: paginationMin ?? null
            },
            listboxParameters: { selectionLimit, groupingType: listboxGroupInfo == null ? "without-groups" : "group", selectedIndex, onSelectedIndexChange: onSelectedIndexChange ?? null },
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", getIndex) },
            rovingTabIndexParameters: { onTabbableIndexChange: onTabbableIndexChange ?? null, untabbable: untabbable ?? false },
            sortableChildrenParameters: { compare: compare ?? null },
            typeaheadNavigationParameters: {
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
            }
        });
        return (o$1(ListboxContext.Provider, { value: info.context, children: render(info) }));
    });
    const ListboxItem = memoForwardRef(function ListboxItem({ ariaPropName, disabled, focusSelf, onPressSync, getText, hidden, index, render, selected, selectionMode, getSortValue }) {
        const context = q(ListboxContext);
        console.assert(context != null, `This ListboxItem is not contained within a Listbox`);
        const focusSelfDefault = T$1((e) => { e?.focus(); }, []);
        const info = useListboxItem({
            completeListNavigationChildParameters: { focusSelf: focusSelf ?? focusSelfDefault },
            context,
            listboxParameters: { selected: selected ?? null, },
            pressParameters: { onPressSync },
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            sortableChildParameters: { getSortValue: getSortValue },
            textContentParameters: { getText: useDefault("getText", getText) },
            singleSelectionChildParameters: {
                disabled: disabled ?? false,
                ariaPropName,
                selectionMode: useDefault("selectionMode", selectionMode)
            }
        });
        return render(info);
    });

    const MenuItemContext = G$1(null);
    const Menu = memoForwardRef(function Menu({ collator, disableArrowKeys, disableHomeEndKeys, noTypeahead, typeaheadTimeout, orientation, onClose, open, openDirection, onTabbableIndexChange, closeOnBackdrop, closeOnEscape, closeOnLostFocus, compare, getIndex, selectedIndex, navigatePastEnd, navigatePastStart, onSelectedIndexChange, pageNavigationSize, parentDepth, untabbable, staggered, onOpen, getWindow, render }, ref) {
        const defaultParentDepth = q(ParentDepthContext);
        let myDepth = (parentDepth ?? defaultParentDepth) + 1;
        const info = useMenu({
            linearNavigationParameters: {
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize),
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap"
            },
            staggeredChildrenParameters: {
                staggered: staggered || false
            },
            dismissParameters: {
                closeOnBackdrop: closeOnBackdrop ?? true,
                closeOnEscape: closeOnEscape ?? true,
                closeOnLostFocus: closeOnLostFocus ?? true,
                onClose,
                open
            },
            escapeDismissParameters: {
                getWindow: useDefault("getWindow", getWindow),
                parentDepth: parentDepth ?? defaultParentDepth
            },
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", getIndex) },
            sortableChildrenParameters: { compare: compare ?? null },
            menuParameters: { openDirection, onOpen },
            menuSurfaceParameters: {},
            rovingTabIndexParameters: {
                onTabbableIndexChange: onTabbableIndexChange ?? null,
                untabbable: untabbable ?? false
            },
            typeaheadNavigationParameters: {
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
            },
            singleSelectionDeclarativeParameters: { selectedIndex: selectedIndex ?? null },
            toolbarParameters: { orientation, onSelectedIndexChange: onSelectedIndexChange ?? null },
            menubarParameters: {}
        });
        A(ref, () => info);
        return (o$1(ParentDepthContext.Provider, { value: myDepth, children: o$1(MenuItemContext.Provider, { value: info.context, children: render(info) }) }));
    });
    const MenuItem = memoForwardRef(function MenuItem({ index, hidden, getSortValue, onPress, getText, role, focusSelf, ariaPropName, selectionMode, disabled, render }, ref) {
        const context = q(MenuItemContext);
        console.assert(context != null, `This MenuItem is not contained within a Menubar/Menu`);
        const defaultFocusSelf = T$1((e) => e?.focus?.(), []);
        const info = useMenuItem({
            completeListNavigationChildParameters: { focusSelf: focusSelf ?? defaultFocusSelf },
            context,
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            sortableChildParameters: { getSortValue },
            textContentParameters: { getText: useDefault("getText", getText) },
            menuItemParameters: { onPress: onPress ?? null, role: role ?? "menuitem" },
            singleSelectionChildParameters: { ariaPropName, selectionMode, disabled: disabled ?? false }
        });
        A(ref, () => info);
        return (o$1(_$2, { children: render(info) }));
    });

    const MenubarItemContext = G$1(null);
    memoForwardRef(function MenubarU({ render, collator, disableArrowKeys, disableHomeEndKeys, navigatePastEnd, navigatePastStart, pageNavigationSize, orientation, staggered, noTypeahead, onTabbableIndexChange, compare, getIndex, untabbable, selectedIndex, onSelectedIndexChange, typeaheadTimeout, role, ariaLabel }, ref) {
        const info = useMenubar({
            linearNavigationParameters: {
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap",
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize)
            },
            toolbarParameters: { orientation, onSelectedIndexChange: onSelectedIndexChange ?? null },
            rovingTabIndexParameters: { onTabbableIndexChange: onTabbableIndexChange ?? null, untabbable: untabbable ?? false },
            typeaheadNavigationParameters: {
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
            },
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", getIndex) },
            staggeredChildrenParameters: { staggered: staggered || false },
            singleSelectionDeclarativeParameters: { selectedIndex: selectedIndex ?? null },
            sortableChildrenParameters: { compare: compare ?? null },
            menubarParameters: { role: role ?? "menubar" },
            labelParameters: { ariaLabel }
        });
        A(ref, () => info);
        return (o$1(MenubarItemContext.Provider, { value: info.context, children: render(info) }));
    });
    memoForwardRef(function MenuItemU({ index, render, ariaPropName, focusSelf, selectionMode, hidden, getText, disabled, onPress, getSortValue, role, }, ref) {
        const context = (q(MenubarItemContext));
        console.assert(context != null, `This MenuItem is not contained within a Menubar/Menu`);
        const defaultFocusSelf = T$1((e) => e?.focus?.(), []);
        const info = useMenubarChild({
            completeListNavigationChildParameters: { focusSelf: focusSelf ?? defaultFocusSelf },
            context,
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            sortableChildParameters: { getSortValue },
            textContentParameters: { getText: useDefault("getText", getText) },
            menuItemParameters: { onPress: onPress ?? null, role: role ?? "menuitem" },
            singleSelectionChildParameters: { ariaPropName, selectionMode, disabled: disabled ?? false }
        });
        A(ref, () => info);
        return (o$1(_$2, { children: render(info) }));
    });

    memoForwardRef(function Progress({ tagIndicator, ariaLabel, max, render, value, valueText }, ref) {
        const info = useProgress({
            labelParameters: { ariaLabel },
            progressIndicatorParameters: {
                max: max ?? 100,
                value: value ?? "indeterminate",
                valueText: valueText ?? null,
                tagIndicator
            }
        });
        A(ref, () => info);
        return render(info);
    });
    memoForwardRef(function ProgressWithHandler({ ariaLabel, forciblyPending, render, tagIndicator, asyncHandler, capture, debounce, throttle }, ref) {
        const info = useProgressWithHandler({
            asyncHandlerParameters: { asyncHandler, capture, debounce, throttle },
            labelParameters: { ariaLabel },
            progressIndicatorParameters: { tagIndicator },
            progressWithHandlerParameters: { forciblyPending: forciblyPending ?? false }
        });
        A(ref, () => info);
        return (render(info));
    });

    const RadioContext = G$1(null);
    const RadioGroup = memoForwardRef(function RadioGroup({ render, name, onSelectedValueChange, collator, disableArrowKeys, disableHomeEndKeys, navigationDirection, noTypeahead, typeaheadTimeout, ariaLabel, compare, staggered, getIndex, navigatePastEnd, navigatePastStart, selectedValue, untabbable, onTabbableIndexChange, pageNavigationSize, }, ref) {
        const info = useRadioGroup({
            linearNavigationParameters: {
                navigationDirection,
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap",
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize)
            },
            staggeredChildrenParameters: { staggered: staggered || false },
            labelParameters: { ariaLabel },
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", getIndex) },
            sortableChildrenParameters: { compare: compare ?? null },
            radioGroupParameters: { name, onSelectedValueChange, selectedValue },
            rovingTabIndexParameters: {
                onTabbableIndexChange: onTabbableIndexChange ?? null,
                untabbable: untabbable ?? false
            },
            typeaheadNavigationParameters: {
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
            },
        });
        A(ref, () => info);
        return (o$1(RadioContext.Provider, { value: info.context, children: render(info) }));
    });
    const Radio = memoForwardRef(function Radio({ disabled, index, render, value, ariaLabel, focusSelf, labelPosition, hidden, tagInput, tagLabel, getText }, ref) {
        const context = q(RadioContext);
        console.assert(context != null, `This Radio is not contained within a RadioGroup`);
        const getValue = useStableGetter(value);
        const defaultFocusSelf = () => info.checkboxLikeReturn.focusSelf();
        const info = useRadio({
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            sortableChildParameters: { getSortValue: getValue },
            radioParameters: { value },
            checkboxLikeParameters: { disabled: disabled ?? false },
            completeListNavigationChildParameters: { focusSelf: focusSelf ?? defaultFocusSelf },
            context,
            labelParameters: { ariaLabel, labelPosition, tagInput, tagLabel },
            singleSelectionChildParameters: { disabled: !!disabled },
            textContentParameters: { getText: useDefault("getText", getText) }
        });
        A(ref, () => info);
        return render(info);
    });

    const SliderThumbContext = G$1(null);
    const Slider = memoForwardRef(function Slider({ max, min, onAfterChildLayoutEffect, onChildrenMountChange, children }, ref) {
        const info = useSlider({
            managedChildrenParameters: { onAfterChildLayoutEffect, onChildrenMountChange },
            sliderParameters: { max, min }
        });
        A(ref, () => info);
        return (o$1(SliderThumbContext.Provider, { value: info.context, children: children }));
    });
    const SliderThumb = memoForwardRef(function SliderThumbU({ label, tag, value, max, min, onValueChange, index, render, valueText }, ref) {
        const context = q(SliderThumbContext);
        console.assert(context != null, `This SliderThumb is not contained within a Slider`);
        const info = useSliderThumb({
            context,
            managedChildParameters: { index },
            sliderThumbParameters: { label, tag, value, max, min, onValueChange, valueText },
        });
        A(ref, () => info);
        return render(info);
    });

    const TableContext = G$1(null);
    const TableSectionContext = G$1(null);
    const TableRowContext = G$1(null);
    const Table = memoForwardRef(function TableU({ ariaLabel, selectionLimit, tagTable, render }, ref) {
        const info = useTable({
            labelParameters: { ariaLabel },
            tableParameters: { selectionLimit, tagTable }
        });
        A(ref, () => info);
        return o$1(TableContext.Provider, { value: info.context, children: render(info) });
    });
    const TableSection = memoForwardRef(function TableSection({ disableArrowKeys, disableHomeEndKeys, getIndex, initiallySelectedIndex, untabbable, navigatePastEnd, navigatePastStart, onSelectedIndexChange, onTabbableColumnChange, onTabbableIndexChange, pageNavigationSize, paginationMax, paginationMin, staggered, render, location, tagTableSection }) {
        const info = useTableSection({
            gridNavigationParameters: { onTabbableColumnChange: onTabbableColumnChange ?? null },
            staggeredChildrenParameters: { staggered: staggered || false },
            linearNavigationParameters: {
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap",
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize)
            },
            paginatedChildrenParameters: {
                paginationMax: paginationMax ?? null,
                paginationMin: paginationMin ?? null
            },
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", getIndex) },
            rovingTabIndexParameters: { onTabbableIndexChange: onTabbableIndexChange ?? null, untabbable: untabbable ?? false },
            singleSelectionParameters: { initiallySelectedIndex: initiallySelectedIndex ?? null, onSelectedIndexChange: onSelectedIndexChange ?? null },
            context: q(TableContext),
            tableSectionParameters: { tagTableSection, location },
        });
        return (o$1(TableSectionContext.Provider, { value: info.context, children: render(info) }));
    });
    const TableRow = memoForwardRef(function TableRowU({ index, getText, tagTableRow, disableArrowKeys, disableHomeEndKeys, onTabbableIndexChange, ariaPropName, disabled, navigatePastEnd, navigatePastStart, selected, selectionMode, hidden, render }, ref) {
        const cx1 = q(TableSectionContext);
        console.assert(cx1 != null, `This TableRow is not contained within a TableSection`);
        const info = useTableRow({
            rowAsChildOfGridParameters: {
                completeGridNavigationRowParameters: {},
                context: cx1,
                managedChildParameters: { index },
                rovingTabIndexChildParameters: { hidden: hidden ?? false },
                singleSelectionChildParameters: {
                    ariaPropName,
                    selectionMode: useDefault("selectionMode", selectionMode),
                    disabled: disabled ?? false
                },
                textContentParameters: {
                    getText: useDefault("getText", getText)
                }
            },
            rowAsParentOfCellsParameters: {
                linearNavigationParameters: {
                    disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                    disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                    navigatePastEnd: navigatePastEnd ?? "wrap",
                    navigatePastStart: navigatePastStart ?? "wrap"
                },
                rovingTabIndexParameters: { onTabbableIndexChange: onTabbableIndexChange ?? null }
            },
            tableRowParameters: {
                selected: selected ?? null,
                tagTableRow
            }
        });
        A(ref, () => info);
        return o$1(TableRowContext.Provider, { value: info.context, children: render(info) });
    });
    const TableCell = memoForwardRef(function TableCell({ index, getText, focusSelf, hidden, tagTableCell, render, colSpan, getSortValue }, ref) {
        const context = q(TableRowContext);
        console.assert(context != null, `This TableCell is not contained within a TableRow`);
        const defaultFocusSelf = useStableCallback((e) => { e.focus?.(); }, []);
        const info = useTableCell({
            completeGridNavigationCellParameters: { getSortValue, focusSelf: focusSelf ?? defaultFocusSelf },
            context,
            gridNavigationCellParameters: { colSpan: colSpan ?? 1 },
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            tableCellParameters: { tagTableCell },
            textContentParameters: { getText: useDefault("getText", getText) }
        });
        A(ref, () => info);
        return render(info);
    });

    const TabsContext = G$1(null);
    const TabPanelsContext = G$1(null);
    const Tabs = memoForwardRef(function Tabs({ ariaLabel, collator, compare, disableArrowKeys, disableHomeEndKeys, getIndex, initiallySelectedIndex, navigatePastEnd, navigatePastStart, noTypeahead, onSelectedIndexChange, onTabbableIndexChange, orientation, staggered, pageNavigationSize, localStorageKey, 
    //groupingType,
    untabbable, typeaheadTimeout, role, render }, ref) {
        const info = useTabs({
            labelParameters: { ariaLabel },
            staggeredChildrenParameters: { staggered: staggered || false },
            linearNavigationParameters: {
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap",
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize)
            },
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", getIndex) },
            rovingTabIndexParameters: {
                onTabbableIndexChange: onTabbableIndexChange ?? null,
                untabbable: untabbable ?? false
            },
            singleSelectionParameters: { initiallySelectedIndex: initiallySelectedIndex ?? 0, onSelectedIndexChange: onSelectedIndexChange ?? null },
            sortableChildrenParameters: { compare: compare ?? null },
            tabsParameters: { orientation, role, localStorageKey: localStorageKey ?? null },
            typeaheadNavigationParameters: {
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
            }
        });
        const { contextPanels, contextTabs } = info;
        A(ref, () => info);
        return (o$1(TabsContext.Provider, { value: contextTabs, children: o$1(TabPanelsContext.Provider, { value: contextPanels, children: render(info) }) }));
    });
    const Tab = memoForwardRef(function Tab({ disabled, focusSelf, hidden, index, getText, getSortValue, render }, ref) {
        const context = q(TabsContext);
        console.assert(context != null, `This Tab is not contained within a Tabs component`);
        const focusSelfDefault = T$1((e) => { e?.focus(); }, []);
        const info = useTab({
            completeListNavigationChildParameters: { focusSelf: focusSelf ?? focusSelfDefault },
            context,
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            sortableChildParameters: { getSortValue },
            managedChildParameters: { index },
            singleSelectionChildParameters: { disabled: disabled ?? false, selectionMode: "focus" },
            textContentParameters: { getText: useDefault("getText", getText) }
        });
        A(ref, () => info);
        return render(info);
    });
    function TabPanel({ index, render }) {
        const context = q(TabPanelsContext);
        const info = useTabPanel({
            context,
            managedChildParameters: { index }
        });
        return render(info);
    }

    const ToastContext = G$1(null);
    const Toasts = memoForwardRef(function Toasts({ onAfterChildLayoutEffect, onChildrenMountChange, render, visibleCount }, ref) {
        const info = useToasts({ managedChildrenParameters: { onAfterChildLayoutEffect, onChildrenMountChange }, toastsParameters: { visibleCount } });
        A(ref, () => info);
        return (o$1(ToastContext.Provider, { value: info.context, children: render(info) }));
    });
    const Toast = memoForwardRef(function Toast({ render, index, timeout, politeness, children }, ref) {
        const context = q(ToastContext);
        console.assert(context != null, `This Toast was not rendered within a Toasts provider`);
        const info = useToast({
            managedChildParameters: { index },
            toastParameters: { timeout, politeness, children },
            context
        });
        A(ref, () => info);
        return render(info);
    });

    const ToolbarContext = G$1(null);
    const Toolbar = memoForwardRef(function ToolbarU({ render, role, collator, disableArrowKeys, disableHomeEndKeys, untabbable, compare, getIndex, navigatePastEnd, navigatePastStart, pageNavigationSize, selectedIndex, onSelectedIndexChange, orientation, noTypeahead, onTabbableIndexChange, typeaheadTimeout, staggered, ariaLabel }, ref) {
        const listboxReturnType = useToolbar({
            rearrangeableChildrenParameters: { getIndex: useDefault("getIndex", getIndex) },
            singleSelectionDeclarativeParameters: { selectedIndex: selectedIndex ?? null },
            sortableChildrenParameters: { compare: compare ?? null },
            linearNavigationParameters: {
                disableArrowKeys: useDefault("disableArrowKeys", disableArrowKeys),
                disableHomeEndKeys: useDefault("disableHomeEndKeys", disableHomeEndKeys),
                navigatePastEnd: navigatePastEnd ?? "wrap",
                navigatePastStart: navigatePastStart ?? "wrap",
                pageNavigationSize: useDefault("pageNavigationSize", pageNavigationSize)
            },
            toolbarParameters: {
                orientation,
                role: role ?? "toolbar",
                onSelectedIndexChange: onSelectedIndexChange ?? null
            },
            staggeredChildrenParameters: { staggered: staggered || false },
            rovingTabIndexParameters: { onTabbableIndexChange: onTabbableIndexChange ?? null, untabbable: untabbable || false },
            typeaheadNavigationParameters: {
                collator: useDefault("collator", collator),
                noTypeahead: useDefault("noTypeahead", noTypeahead),
                typeaheadTimeout: useDefault("typeaheadTimeout", typeaheadTimeout)
            },
            labelParameters: { ariaLabel }
        });
        A(ref, () => listboxReturnType);
        return (o$1(ToolbarContext.Provider, { value: listboxReturnType.context, children: render(listboxReturnType) }));
    });
    const ToolbarChild = memoForwardRef(function ToolbarChildU({ index, render, ariaPropName, disabled, selectionMode, focusSelf, getSortValue, hidden, getText }, ref) {
        const context = q(ToolbarContext);
        console.assert(context != null, `This ToolbarChild is not contained within a Toolbar`);
        const focusSelfDefault = T$1((e) => { e?.focus(); }, []);
        const info = useToolbarChild({
            context,
            completeListNavigationChildParameters: { focusSelf: focusSelf ?? focusSelfDefault },
            managedChildParameters: { index },
            rovingTabIndexChildParameters: { hidden: hidden ?? false },
            sortableChildParameters: { getSortValue },
            singleSelectionChildParameters: { ariaPropName, selectionMode, disabled: disabled ?? false },
            textContentParameters: { getText: useDefault("getText", getText) },
        });
        A(ref, () => info);
        return (o$1(_$2, { children: render(info) }));
    });

    const Tooltip = memoForwardRef(function TooltipU({ onStatus, getWindow, parentDepth, render, tooltipSemanticType }, ref) {
        const defaultParentDepth = q(ParentDepthContext);
        let myDepth = (parentDepth ?? defaultParentDepth) + 1;
        const info = useTooltip({
            escapeDismissParameters: {
                getWindow: useDefault("getWindow", getWindow),
                parentDepth: parentDepth ?? defaultParentDepth
            },
            tooltipParameters: {
                onStatus,
                tooltipSemanticType
            }
        });
        A(ref, () => info);
        return (o$1(ParentDepthContext.Provider, { value: myDepth, children: render(info) }));
    });

    function DemoAccordion({ children }) {
        return o$1(Accordion, { navigationDirection: "vertical", render: (_info) => { return o$1("div", { id: "accordion-demo", children: children }); } });
    }
    const DemoAccordionSection = R(function DemoAccordionSection({ index, body, heading, disabled, open }) {
        return o$1(AccordionSection, { index: index, tagButton: "button", open: open, disabled: disabled, render: info => (o$1(Heading, { ...info.propsHeader, tag: "div", heading: o$1(_$2, { children: [o$1("span", { children: heading }), o$1("button", { ...info.propsHeaderButton, children: "Toggle open" })] }), children: o$1("p", { ...info.propsBody, hidden: !info.accordionSectionReturn.expanded, children: body }) })) });
    });
    function Blurb$f() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/accordion/", children: "In accordance with the ARIA guidelines for Accordion patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: ["Each section's header and body are linked via ID; the body is ", o$1("code", { children: "labelled-by" }), " the header and the header ", o$1("code", { children: "control" }), "s the body."] }), o$1("li", { children: "The header is a button and responds to keyboard, mouse, touch, etc. events, regardless of the element used." }), o$1("li", { children: ["If the header element is not a ", o$1("code", { children: "<button>" }), " element, it is given that ", o$1("code", { children: "role" }), "."] }), o$1("li", { children: "Up/down & Home/End keys navigate through the list, as does Tab and Shift+Tab" }), o$1("li", {})] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: o$1("li", { children: ["The ", o$1("code", { children: "render" }), " prop each ", o$1("code", { children: "AccordionSection" }), " takes must wrap the header button with a ", o$1("a", { href: "https://w3c.github.io/aria/#heading", children: "heading" }), " (e.g. ", o$1("code", { children: "h3" }), ", or ", o$1("code", { children: "<Heading>" }), "). See the default implementation for an example."] }) })] }));
    }
    function Code$f() {
        return (o$1("code", { children: `<Accordion render={...}>
    <AccordionSection index={0} render={...} />
    <AccordionSection index={1} render={...} />
    <AccordionSection index={2} render={...} />
</Accordion>` }));
    }
    function Demo$f() {
        const [count, setCount] = p(5);
        return (o$1(_$2, { children: [o$1(Blurb$f, {}), o$1(Code$f, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of accordion sections"] }), o$1(DemoAccordion, { children: o$1(_$2, { children: Array.from((function* () {
                            yield o$1(DemoAccordionSection, { index: 0, heading: "Accordion section #0", body: "Body content #0", disabled: false });
                            yield o$1(DemoAccordionSection, { index: 1, heading: "Accordion section #1", body: "Body content #1", disabled: false });
                            yield o$1(DemoAccordionSection, { index: 2, heading: "Accordion section #2 (disabled)", body: "Body content #2", disabled: true });
                            yield o$1(DemoAccordionSection, { index: 3, heading: "Accordion section #3 (forced open)", body: "Body content #3", disabled: false, open: true });
                            yield o$1(DemoAccordionSection, { index: 4, heading: "Accordion section #4 (forced closed)", body: "Body content #4", disabled: false, open: false });
                            for (let i = 5; i < count; ++i) {
                                yield o$1(DemoAccordionSection, { index: i, heading: `Accordion section #${i}`, body: `BodyContent #${i}`, disabled: false });
                            }
                        })()).slice(0, count) }) })] }));
    }

    function Blurb$e() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/button/", children: "In accordance with the ARIA guidelines for Button patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: ["Whether using an actual ", o$1("code", { children: "<button>" }), ", or something else like a ", o$1("code", { children: "<div>" }), ", the proper roles and event handlers will be applied."] }), o$1("li", { children: "Buttons can be toggled (pressed or unpressed)." }), o$1("li", { children: ["The button responds to keyboard, mouse, touch, etc. events, regardless of the element used.", o$1("ul", { children: [o$1("li", { children: "Double-clicks do not select text, but text is still selectable without it counting as a press/click" }), o$1("li", { children: "When Enter is pressed, the button is immediately activated" }), o$1("li", { children: "When Space is pressed, the button is activated once released" }), o$1("li", { children: "iOS Safari properly focuses the button" })] })] })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: o$1("li", { children: ["If your button contains only an icon (or other non-descriptive content, etc.), you must provide an ", o$1("code", { children: "aria-label" }), " manually stating what happens when the button is pressed."] }) })] }));
    }
    function Code$e() {
        return (o$1("code", { children: `<Button tag="button">Button</Button>
    <Button tag="div">Div</Button>` }));
    }
    function Demo$e() {
        const [pressed, setPressed] = useState(false);
        return (o$1(_$2, { children: [o$1(Blurb$e, {}), o$1(Code$e, {}), o$1(DemoButton, { disabled: false, tag: "button" }), o$1(DemoButton, { disabled: "soft", tag: "button" }), o$1(DemoButton, { disabled: "hard", tag: "button" }), o$1(DemoButton, { disabled: false, tag: "div" }), o$1(DemoButton, { disabled: "soft", tag: "div" }), o$1(DemoButton, { disabled: "hard", tag: "div" }), o$1(Button, { tagButton: "button", pressed: pressed, onPress: e => setPressed(e[EventDetail].pressed ?? false), render: info => (o$1("button", { ...info.props, children: `Toggle button (${pressed ? "pressed" : "unpressed"})` })) })] }));
    }
    function DemoButton({ tag: Tag, disabled }) {
        const onPress = () => { alert("Button clicked"); };
        return (o$1(Button, { disabled: disabled, tagButton: Tag, onPress: onPress, render: info => (o$1(Tag, { ...info.props, children: `${Tag} ${disabled ? ` disabled (${disabled == "soft" ? "soft" : "hard"})` : ""}` })) }));
    }

    /*function DemoButton({ tag, ...props }: { tag: string } & RenderableProps<{}>) {
        return <Button disabled={disabled} onPress={onPress} pressed={} {...props} tag={tag as any}   />
    }*/
    function Blurb$d() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/checkbox/", children: "In accordance with the ARIA guidelines for Checkbox patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: "Toggles between checked and unchecked when pressed (clicked, Enter pressed, Space released, etc.)" }), o$1("li", { children: ["Can be ", o$1("code", { children: "mixed" }), " instead, though ", o$1("code", { children: "onInput" }), " will only ever be called with ", o$1("code", { children: "true" }), " or ", o$1("code", { children: "false" })] }), o$1("li", { children: ["Supports using ", o$1("code", { children: "<input>" }), "s and ", o$1("code", { children: "<label>" }), "s, as well as just plain ol' ", o$1("code", { children: "<div>" }), "s on either/both"] }), o$1("li", { children: "The checkbox and label can be sibling elements, like normal, or the label can wrap the input for a larger hit area. In all cases, the appropriate roles/event handlers will be applied to each element." }), o$1("li", { children: "When selecting the text of a checkbox's label, this does not change the checkbox's state" }), o$1("li", { children: "Double-clicking the label checks & un-checks the checkbox instead of selecting the label's text" }), o$1("li", { children: "Checkbox groups (with a tri-state parent) are a separate component/hook" })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: o$1("li", { children: ["If your checkbox does not have a visible label (achievable by by overriding the ", o$1("code", { children: "render" }), " prop and setting ", o$1("code", { children: "labelPosition" }), " to be \"separate\"), you must pass ", o$1("code", { children: "aria-label" }), " as a prop to the checkbox manually. Not providing one will print an error to the console, but it it not required by the type system."] }) })] }));
    }
    function Code$d() {
        return (o$1("code", { children: `<Checkbox checked={true} labelPosition="separate" tagInput="input" tagLabel="label">Label text</Checkbox>` }));
    }
    function Demo$d() {
        const [checked, setChecked] = useState(false);
        const [disabled, setDisabled] = useState(false);
        return (o$1(_$2, { children: [o$1(Blurb$d, {}), o$1(Code$d, {}), o$1(Checkbox, { checked: disabled, onCheckedChange: e => setDisabled(e[EventDetail].checked), ariaLabel: null, labelPosition: "separate", tagInput: "input", tagLabel: "label", render: info => o$1(_$2, { children: [o$1("input", { ...info.propsInput }), o$1("label", { ...info.propsLabel, children: "Disabled" })] }) }), o$1(Button, { tagButton: "button", onPress: () => { setChecked("mixed"); }, render: info => (o$1("button", { ...info.props, children: "Change to mixed" })) }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "separate", disabled: disabled, tagInput: "input", tagLabel: "label" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "wrapping", disabled: disabled, tagInput: "input", tagLabel: "label" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "wrapping2", disabled: disabled, tagInput: "input", tagLabel: "label" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "separate", disabled: disabled, tagInput: "div", tagLabel: "label" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "wrapping", disabled: disabled, tagInput: "div", tagLabel: "label" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "separate", disabled: disabled, tagInput: "input", tagLabel: "div" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "wrapping", disabled: disabled, tagInput: "input", tagLabel: "div" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "separate", disabled: disabled, tagInput: "div", tagLabel: "div" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "wrapping", disabled: disabled, tagInput: "div", tagLabel: "div" }), o$1(DemoCheckbox$1, { checked: checked, setChecked: setChecked, labelPosition: "hidden", disabled: disabled, tagInput: "input", tagLabel: "label" })] }));
    }
    function DemoCheckbox$1({ labelPosition, tagInput, tagLabel, disabled, checked, setChecked }) {
        //const [checked, setChecked] = useState(false);
        return (o$1("div", { style: { border: "1px solid black" }, children: [o$1(Checkbox, { ariaLabel: null, disabled: disabled, checked: checked, onCheckedChange: e => setChecked(e[EventDetail].checked), labelPosition: labelPosition == "hidden" ? "separate" : labelPosition == "wrapping2" ? "separate" : labelPosition, tagInput: tagInput, tagLabel: tagLabel, render: defaultRenderCheckboxLike({
                        labelPosition: labelPosition == "wrapping2" ? "separate" : labelPosition,
                        tagInput: tagInput,
                        tagLabel: tagLabel,
                        makePropsInput: (info) => useMergedProps(info.propsInput, { "aria-label": labelPosition == "hidden" ? `Hidden label (technically separate), ${tagInput} and ${tagLabel} ${checked ? "checked" : "not checked"}` : undefined, }),
                        makePropsLabel: (info) => useMergedProps(info.propsLabel, { children: `${labelPosition}, ${tagInput} and ${tagLabel}, ${checked ? "checked" : "not checked"}` })
                    }) }), labelPosition == "hidden" && o$1("div", { children: ["(This is not a label -- the actual label is via the ", o$1("code", { children: "aria-label" }), " prop)"] })] }));
    }

    function DemoCheckbox({ index }) {
        const [checked, setChecked] = useState(false);
        const ref = _(null);
        return (o$1(CheckboxGroupChild, { checked: checked, index: index, focusSelf: () => ref.current?.checkboxLikeReturn.focusSelf(), onChangeFromParent: async (checked) => { await new Promise(resolve => setTimeout(resolve, Math.random() * 2000)); setChecked(checked); }, getSortValue: returnNull, 
            //focusSelf={useStableCallback((e) => e.focus())}
            render: (info) => {
                return (o$1("div", { children: o$1(Checkbox, { ref: ref, checked: checked, disabled: false, ariaLabel: null, onCheckedChange: e => { setChecked(e[EventDetail].checked); info.checkboxGroupChild.onChildCheckedChange(e[EventDetail].checked); }, labelPosition: "separate", tagInput: "input", tagLabel: "label", render: defaultRenderCheckboxLike({
                            labelPosition: "separate",
                            tagInput: "input",
                            tagLabel: "label",
                            makePropsInput: info2 => useMergedProps(info.props, info2.propsInput),
                            makePropsLabel: info2 => ({ children: `Checkbox #${index}`, ...info2.propsLabel })
                        }) }) }));
            } }));
    }
    function Blurb$c() {
        return (o$1(_$2, { children: [o$1("p", { children: ["Checkbox groups are an alternative to multi-select lists. There is no role of ", o$1("code", { children: "checkboxgroup" }), ", but this aims to be an ARIA-compliant implementation of a checkbox group."] }), o$1("ul", { children: [o$1("li", { children: ["All normal ", o$1("code", { children: "Checkbox" }), " functionality is supported on each individual checkbox."] }), o$1("li", { children: "The parent checkbox switches between 3 states, remembering the last state that caused it to be \"mixed\"." }), o$1("li", { children: ["The parent's \"mixed\" state changes all children back to whatever state the user had most recently created; the distinction is drawn when a child calls ", o$1("code", { children: "onChildCheckedChange" }), " during its event handler. This call is what notifies the parent checkbox what to use when switching to that \"mixed\" state."] }), o$1("li", { children: ["The children are treated as a composite component with list navigation; see ", o$1("code", { children: "AiraSingleSelectList" }), " for more information"] }), o$1("li", { children: [o$1("code", { children: "aria-controls" }), " is set on the parent Checkbox to contain the IDs of all child checkboxes. This has no effect on any technology that I am aware of, but it's there just in case."] })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: [o$1("li", { children: [o$1("code", { children: "CheckboxGroupParent" }), " has supports child checkboxes being asyncronous (e.g. if each child's ", o$1("code", { children: "onChangeFromParent" }), " is async, then the parent's ", o$1("code", { children: "onParentCheckedChange" }), " will asyncronously wait for all of them), but you must apply any relevant labelling of this circumstance yourself."] }), o$1("li", { children: ["As mentioned, ", o$1("code", { children: "aria-controls" }), " basically does nothing. Please ensure you're using good labelling here; it is assumed that the parent checkbox provides sufficient labelling for all the children, which how the demo example identifies these elements. If you have a separate label, you will need to wrap the children in a ", o$1("code", { children: "role=group" }), " that references that label by overriding ", o$1("code", { children: "render" }), "."] })] })] }));
    }
    function Code$c() {
        return (o$1("code", { children: `` }));
    }
    function Demo$c() {
        const [count, setCount] = useState(5);
        const [pending, setPending] = useState(false);
        return (o$1(_$2, { children: [o$1(Blurb$c, {}), o$1(Code$c, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of checkboxes"] }), o$1("div", { children: [o$1("p", { children: [o$1("strong", { children: "Note:" }), " Each checkbox (in this demo only!) takes a random amount of time to update when modified via the parent checkbox to test async handling."] }), o$1(CheckboxGroup, { navigationDirection: "vertical", render: (info2) => {
                                const ref = _(null);
                                return o$1("div", { ...info2.props, ...({
                                        children: (o$1(_$2, { children: [o$1(CheckboxGroupParent, { index: 0, focusSelf: () => ref.current?.checkboxLikeReturn.focusSelf(), getSortValue: returnNull, render: info3 => (o$1(Checkbox, { ref: ref, disabled: pending, checked: info3.checkboxGroupParentReturn.checked, onCheckedChange: useStableCallback((e) => {
                                                            setPending(true);
                                                            info3.checkboxGroupParentReturn.onParentCheckedChange(e).finally(() => setPending(false));
                                                        }), ariaLabel: "Parent checkbox", labelPosition: "separate", tagInput: "input", tagLabel: "label", render: defaultRenderCheckboxLike({
                                                            labelPosition: "separate",
                                                            makePropsInput: info4 => useMergedProps(info4.propsInput, info3.props),
                                                            makePropsLabel: info4 => ({ children: "Parent checkbox", ...info4.propsLabel }),
                                                            tagInput: "input",
                                                            tagLabel: "label"
                                                        }) })) }), o$1("div", { style: { display: "flex", flexDirection: "column" }, children: o$1(_$2, { children: Array.from((function* () {
                                                            for (let i = 0; i < count; ++i) {
                                                                yield o$1(DemoCheckbox, { index: i + 1 }, i);
                                                            }
                                                        })()) }) })] }))
                                    }) });
                            } })] })] }));
    }

    const DemoListItem$3 = R(function DemoListItem({ index }) {
        const [selected, setSelected] = useState(false);
        const labelText = `List item #${index}${selected ? " (selected)" : ""}`;
        return (o$1(ListboxItem, { selected: selected, index: index, disabled: false, ariaPropName: "aria-selected", getSortValue: returnZero, onPressSync: () => { setSelected(p => !p); }, render: info => {
                return (o$1("li", { ...info.props, children: labelText }));
            } }));
    });
    function Blurb$b() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/listbox/", children: "In accordance with the ARIA guidelines for Listbox patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: ["The children are treated as a composite component with list navigation; see ", o$1("code", { children: "AiraSingleSelectList" }), " for more information"] }), o$1("li", { children: "The parent checkbox switches between 3 states, remembering the last state that caused it to be \"mixed\"." }), o$1("li", { children: ["The parent checkbox reacts to each child's ", o$1("code", { children: "checked" }), " prop and updates its own internal ", o$1("code", { children: "checked" }), " attribute (be aware of this if they're asyncronous, as you'll want to ensure they all resolve on the same tick with ", o$1("code", { children: "Promise.all" }), " to not clobber the user's inputs)."] }), o$1("li", { children: ["The children are treated as a composite component with list navigation; see ", o$1("code", { children: "AiraSingleSelectList" }), " for more information"] }), o$1("li", { children: "Grouping is supported" }), o$1("li", { children: "Sorting/reordering is supported, though not provided by default, as it's mutually exclusive with grouping." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: [o$1("li", { children: ["It is assumed that the parent checkbox provides sufficient labelling for all the children, which how the demo example identifies these elements. If you have a separate label, you will need to wrap the children in a ", o$1("code", { children: "role=group" }), " that references that label by overriding ", o$1("code", { children: "render" }), "."] }), o$1("li", { children: ["See the caveat above for when each child's ", o$1("code", { children: "onInput" }), " takes a variable amount of time to actually update the ", o$1("code", { children: "checked" }), " prop, as it can clobber the user's last input when clicking on the parent"] })] })] }));
    }
    function Code$b() {
        return (o$1("code", { children: `` }));
    }
    function Demo$b() {
        const [count, setCount] = useState(5);
        return (o$1(_$2, { children: [o$1(Blurb$b, {}), o$1(Code$b, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of list items"] }), o$1("div", { children: o$1(Listbox, { selectedIndex: null, ariaLabel: null, navigationDirection: "vertical", selectionLimit: "multi", render: info => {
                            return (o$1(_$2, { children: [o$1("label", { ...info.propsListboxLabel }), o$1("ul", { ...info.propsListbox, children: Array.from((function* () {
                                            for (let i = 0; i < count; ++i) {
                                                yield o$1(DemoListItem$3, { index: i }, i);
                                            }
                                        })()) })] }));
                        } }) })] }));
    }

    const DemoListItem$2 = R(function DemoListItem({ index }) {
        return (o$1(ListboxItem, { index: index, focusSelf: e => e.focus(), ariaPropName: "aria-selected", getSortValue: returnZero, disabled: false, selected: null, render: info => {
                const selected = info.singleSelectionChildReturn.selected;
                // defaultRenderListboxSingleItem({ tagListItem: "li", makePropsListItem: ({ singleSelection: { selected } }) => ({ children: `List item #${index}${selected ? " (selected)" : ""}` }) })
                return (o$1("li", { ...info.props, children: `List item #${index}${selected ? " (selected)" : ""}` }));
            } }));
    });
    function Blurb$a() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/listbox/", children: "In accordance with the ARIA guidelines for Listbox patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: ["In terms of keyboard navigation and tabbing through elements, a Listbox is considered a ", o$1("strong", { children: "single" }), " tab stop; in other words, no matter how many list items there are in a Listbox, it only takes one press of the Tab button to go through it.", o$1("ul", { children: [o$1("li", { children: "When a Listbox is tabbed into, the most recently selected item is given focus" }), o$1("li", { children: "Pressing Tab again navigates out of the listbox; no other list items are tabbable other than the one currently designated." }), o$1("li", { children: "Pressing the arrow keys navigates through the Listbox one item at a time" }), o$1("li", { children: "Pressing the Home/End keys move focus to the first/last items respectively" }), o$1("li", { children: "Typing any sequence of text starts typeahead that navigates to the next item that matches what's being typed" }), o$1("li", { children: "Focus & selection management is as optimized as possible; only two children re-render at a time when focus or selection changes" }), o$1("li", { children: "These apply generally to all composite components with a variable number of children (Tab Lists, Radio Groups, Multi-Select Listboxes etc.)" })] })] }), o$1("li", { children: ["Rather than each individual list item knowing whether it is selected or not (as with multi-select lists), here the parent knows the ", o$1("code", { children: "selectedIndex" }), " and simply notifies the (max two) relevant children any time it changes."] }), o$1("li", { children: "Grouping is supported" }), o$1("li", { children: "Sorting/reordering is supported. Each group is sorted independently." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: o$1("li", { children: "Listboxes do not support interactive content within them (e.g. a dropdown menu), as ARIA specifies that this is a different pattern." }) })] }));
    }
    function Code$a() {
        return (o$1("code", { children: `` }));
    }
    function ListboxDemo({ count, label }) {
        const [selectedIndex, setSelectedIndex] = useState(null);
        return (o$1(Listbox, { selectedIndex: selectedIndex, onSelectedIndexChange: setSelectedIndex, render: info => {
                return (o$1(_$2, { children: [o$1("label", { ...info.propsListboxLabel, children: label }), o$1("ol", { ...info.propsListbox, children: Array.from((function* () {
                                for (let i = 0; i < count; ++i) {
                                    yield o$1(DemoListItem$2, { index: i }, i);
                                }
                            })()) })] }));
            }, ariaLabel: null, navigationDirection: "vertical", selectionLimit: "single" }));
    }
    function Demo$a() {
        const [count, setCount] = useState(5);
        return (o$1(_$2, { children: [o$1(Blurb$a, {}), o$1(Code$a, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of list items"] }), o$1("div", { children: o$1(ListboxDemo, { count: count, label: "Single-select listbox demo without groups" }) }), o$1("div", { children: o$1(GroupedListbox, { navigationDirection: "vertical", selectionLimit: "single", ariaLabel: null, render: info => {
                            return (o$1(_$2, { children: [o$1("label", { ...info.propsListboxLabel, children: "Single-select listbox demo with groups" }), o$1("div", { ...info.propsListbox, children: [o$1(ListboxDemo, { count: count, label: "Group #0" }), o$1(ListboxDemo, { count: count, label: "Group #1" }), o$1(ListboxDemo, { count: count, label: "Group #2" })] })] }));
                        } }) })] }));
    }

    function DemoListItem$1({ index }) {
        return (o$1(MenuItem, { index: index, ariaPropName: null, getSortValue: returnZero, selectionMode: "disabled", role: "menuitem", onPress: e => alert(`Menu item #${index} pressed`), disabled: false, render: info => o$1("li", { ...info.props, children: `Menu item #${index}` }) }));
    }
    function Blurb$9() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/listbox/", children: "In accordance with the ARIA guidelines for Listbox patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: ["The children are treated as a composite component with list navigation; see ", o$1("code", { children: "AiraSingleSelectList" }), " for more information"] }), o$1("li", { children: "When opened, the menu will focus the first element within it. When closed (by pressing escape, pressing the button again, or tabbing out of the menu), the button that opened it will have focus restored to it." }), o$1("li", { children: "When the menu is closed because another element on the page was focused instead, focus will not be modified." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: o$1("li", { children: ["Unlike most components, the label of a menu is implicitly the button that opens it and is not a separate, standalone element. If this button doesn't label the menu well, you must use the ", o$1("code", { children: "ariaLabel" }), " prop to compensate."] }) })] }));
    }
    function Code$9() {
        return (o$1("code", { children: `` }));
    }
    function Demo$9() {
        const [count, setCount] = useState(5);
        const [open, setOpen] = useState(false);
        return (o$1(_$2, { children: [o$1(Blurb$9, {}), o$1(Code$9, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of menu items"] }), o$1("div", { children: o$1(Menu, { orientation: "vertical", onOpen: () => setOpen(true), onClose: () => setOpen(false), open: open, openDirection: "down", render: info => {
                            return (o$1(_$2, { children: [o$1("button", { ...info.propsTrigger, onClick: () => setOpen(o => !o), children: "Menu trigger" }), defaultRenderPortal({
                                        portalId: "portal", children: (o$1("div", { ...info.propsSurface, hidden: !open, children: [o$1("div", { ...info.propsSentinel }), o$1("ul", { ...info.propsTarget, children: Array.from((function* () {
                                                        for (let i = 0; i < count; ++i) {
                                                            yield o$1("div", { children: o$1(DemoListItem$1, { index: i }, i) });
                                                        }
                                                    })()) }), o$1("div", { ...info.propsSentinel })] }))
                                    })] }));
                        } /*defaultRenderMenu({
                            tagButton: "button",
                            tagMenu: "ul",
                            tagSentinel: "div",
                            tagSurface: "div",
                            portalId: "portal",
                            makePropsButton: () => ({ children: "Open menu" + (open ? " (open)" : " (closed)") }),
                            makePropsMenu: () => ({
                                children: <>{Array.from((function* () {
                                    for (let i = 0; i < count; ++i) {
                                        yield <div><DemoListItem index={i} key={i} /></div>
                                    }
                                })())}</>
                            }),
                            makePropsSurface: () => ({ style: { display: !open ? "none" : undefined } }),
                            makePropsSentinel: () => ({}),
                        })*/ }) })] }));
    }

    const DemoRadioButton = R(function DemoRadioButton({ index }) {
        return (o$1("div", { children: o$1(Radio, { index: index, focusSelf: e => e.focus(), disabled: false, labelPosition: "separate", value: index, tagInput: "input", tagLabel: "label", ariaLabel: null, render: (info) => {
                    return o$1(_$2, { children: [o$1("input", { ...info.propsInput, name: "radio-demo" }), o$1("label", { ...info.propsLabel, children: ["Radio #", index] })] });
                } }) }));
    });
    function Blurb$8() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/radiobutton/", children: "In accordance with the ARIA guidelines for Radio Button patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: ["The children are treated as a composite component with list navigation; see ", o$1("code", { children: "AiraSingleSelectList" }), " for more information"] }), o$1("li", { children: "The input & label support the same text-selection affordances as Checkboxes (labels can be selected, but double-clicking doesn't select the text and selecting text doesn't count as an input)" }), o$1("li", { children: "Selection state is handled by the parent; instead of specifying whether any given radio button is checked or not, the parent notifies each child of the necessary changes." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: [o$1("li", { children: ["If your checkbox does not have a visible label (achievable by by overriding the ", o$1("code", { children: "render" }), " prop and setting ", o$1("code", { children: "labelPosition" }), " to be \"separate\"), you must pass ", o$1("code", { children: "aria-label" }), " as a prop to the checkbox manually. Not providing one will print an error to the console, but it it not required by the type system."] }), o$1("li", { children: ["The above also applies to the radio group as a whole; ARIA requires that all Radio Buttons be contained within an element with a specific role which is labelled either by an element (handled for you) or ", o$1("code", { children: "aria-label" }), " (specified by you manually on the input)."] })] })] }));
    }
    function Code$8() {
        return (o$1("code", { children: `` }));
    }
    function Demo$8() {
        const [selectedIndex, setSelectedIndex] = useState(null);
        const [count, setCount] = useState(5);
        return (o$1(_$2, { children: [o$1(Blurb$8, {}), o$1(Code$8, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of radio buttons"] }), o$1("div", { children: o$1(RadioGroup, { name: "radio-demo", ariaLabel: null, selectedValue: selectedIndex, navigationDirection: "vertical", onSelectedValueChange: setSelectedIndex, render: info => {
                            return (o$1(_$2, { children: [o$1("label", { ...info.propsRadioGroupLabel, children: "Radio group demo" }), o$1("div", { ...info.propsRadioGroup, children: Array.from((function* () {
                                            for (let i = 0; i < count; ++i) {
                                                yield o$1(DemoRadioButton, { index: i }, i);
                                            }
                                        })()) })] }));
                        } }) })] }));
    }

    function DemoSliderThumb({ index }) {
        const [value, setValue] = useState(0);
        return (o$1(SliderThumb, { index: index, tag: "input", label: `Slider thumb #${index}`, value: value, onValueChange: e => setValue(e[EventDetail].value), min: 0, max: 10, render: info => {
                return (o$1("input", { ...info.propsSliderThumb }));
            } }));
    }
    function Blurb$7() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/listbox/", children: "In accordance with the ARIA guidelines for Listbox patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: ["The children are treated as a composite component with list navigation; see ", o$1("code", { children: "AiraSingleSelectList" }), " for more information"] }), o$1("li", { children: "When opened, the menu will focus the first element within it. When closed (by pressing escape, pressing the button again, or tabbing out of the menu), the button that opened it will have focus restored to it." }), o$1("li", { children: "When the menu is closed because another element on the page was focused instead, focus will not be modified." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: o$1("li", { children: "TODO" }) })] }));
    }
    function Code$7() {
        return (o$1("code", { children: `` }));
    }
    function Demo$7() {
        const [count, setCount] = useState(5);
        return (o$1(_$2, { children: [o$1(Blurb$7, {}), o$1(Code$7, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of slider thumbs"] }), o$1("div", { children: o$1(Slider, { min: 0, max: 10, children: o$1(_$2, { children: Array.from((function* () {
                                for (let i = 0; i < count; ++i) {
                                    yield o$1("div", { children: o$1(DemoSliderThumb, { index: i }, i) });
                                }
                            })()) }) }) })] }));
    }

    function Blurb$6() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/dialogmodal/", children: "In accordance with the ARIA guidelines for Modal Dialog patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: "Dialogs block all other elements on the page from receiving focus/interaction and being perceivable to screen readers." }), o$1("li", { children: "Dialogs can be dismissed by pressing Escape or clicking the element designated as the backdrop, both of which can be cancelled/ignored if you need" }), o$1("li", { children: "When opened, the dialog will focus its title or body content as appropriate, however read below under Things Not Handled for caveats." }), o$1("li", { children: "When closed for any reason, the element that was responsible for opening the dialog will be focused." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: [o$1("li", { children: ["By default, when opened, a dialog will focus its body content or title content depending on ", o$1("code", { children: "bodyIsOnlySemantic" }), ", which indicates that the dialog's body contains no interactive elements. This may not be suitable for all situations."] }), o$1("li", { children: ["It is ", o$1("em", { children: "hightly" }), " recommended to override ", o$1("code", { children: "focusSelf" }), " for all dialogs you create, and have it focus whatever element makes the most sense for your particular dialog.", o$1("ul", { children: [o$1("li", { children: "Dialogs that act like a form should focus the first interactive element" }), o$1("li", { children: "Dialogs that perform destructive actions should focus the \"Cancel\" button" }), o$1("li", { children: "In some cases, it's best to focus the first paragraph of the body." })] }), "In all cases, consider that the first focused element will both be how keyboard users interact with the dialog, but also the first thing a screen reader will read aloud."] })] })] }));
    }
    function Code$6() {
        return (o$1("code", { children: `` }));
    }
    function Demo$6() {
        const [open, setOpen] = useState(false);
        //const r = useCallback((...args: any[]) => { console.log(...args); }, []);
        return (o$1(_$2, { children: [o$1(Blurb$6, {}), o$1(Code$6, {}), o$1("div", { children: o$1(Dialog, { open: open, onClose: () => setOpen(false), closeOnBackdrop: true, closeOnEscape: true, focusOpener: e => { e.focus(); }, parentDepth: 0, focusPopup: (e, f) => { f()?.focus(); }, ariaLabel: null, render: info => {
                            return (o$1(_$2, { children: [o$1("button", { ...info.propsSource, onClick: () => setOpen(o => !o), children: "Open dialog" }), defaultRenderPortal({
                                        portalId: "portal",
                                        children: o$1("div", { ...info.propsFocusContainer, hidden: !open, children: o$1("div", { ...info.propsDialog, children: [o$1("div", { ...info.propsTitle, children: "Dialog title" }), o$1("div", { children: "Dialog body" }), o$1("button", { onClick: () => setOpen(false), children: "Close dialog" })] }) })
                                    })] }));
                        } }) })] }));
    }

    function Blurb$5() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/tabpanel/", children: "In accordance with the ARIA guidelines for Tab and Tab Panel patterns," }), " this widget supports the following:"] }), o$1("ul", { children: o$1("li", { children: ["The tabs are treated as a composite component with list navigation; see ", o$1("code", { children: "AiraSingleSelectList" }), " for more information"] }) }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: o$1("li", { children: "TODO" }) })] }));
    }
    function Code$5() {
        return (o$1("code", { children: `` }));
    }
    function Demo$5() {
        const [count, setCount] = useState(5);
        //const [selectedIndex, setSelectedIndex] = useState(0 as number | null);
        return (o$1(_$2, { children: [o$1(Blurb$5, {}), o$1(Code$5, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of tabs"] }), o$1("div", { children: o$1(Tabs, { ariaLabel: null, orientation: "horizontal", render: info => {
                            /*
                            defaultRenderTabs({
                            panels: Array.from((function* () {
                                for (let i = 0; i < count; ++i) {
                                    yield <DemoTabPanel i={i} />
                                }
                            })()),
                            tagLabel: "label",
                            tagList: "ul",
                            makePropsLabel: () => ({ children: "Tabs example" }),
                            makePropsList: () => ({
                                children: <>
                                    {Array.from((function* () {
                                        for (let i = 0; i < count; ++i) {
                                            yield <DemoTab i={i} />
                                        }
                                    })())}
                                </>
                            })
                        })
                            
                            */
                            return (o$1(_$2, { children: [o$1("label", { ...info.propsLabel, children: "Tabs example" }), o$1("ul", { ...info.propsContainer, style: { display: "flex" }, children: Array.from((function* () {
                                            for (let i = 0; i < count; ++i) {
                                                yield o$1(DemoTab, { i: i });
                                            }
                                        })()) }), o$1("div", { children: Array.from((function* () {
                                            for (let i = 0; i < count; ++i) {
                                                yield o$1(DemoTabPanel, { i: i });
                                            }
                                        })()) })] }));
                        } }) })] }));
    }
    const DemoTab = R(function DemoTab({ i }) {
        return o$1(Tab, { focusSelf: e => e.focus(), index: i, render: info => o$1("li", { ...info.props, style: { marginLeft: "2em" }, children: ["Tab #", i, " (offset: ", info.singleSelectionChildReturn.selectedOffset ?? "null", ") ", info.singleSelectionChildReturn.selected && "(visible)"] }), getSortValue: returnZero }, i);
    });
    const DemoTabPanel = R(function DemoTabPanel({ i }) {
        return o$1(TabPanel, { index: i, render: info => o$1("div", { ...info.props, hidden: !info.tabPanelReturn.visible, children: ["Tab panel #", i, " (offset: ", info.tabPanelReturn.visibleOffset ?? "null", ")"] }) }, i);
    });

    function Blurb$4() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/tooltip/", children: "Tooltips have yet to be well defined in many areas" }), ", but this implementation aims to support common use cases:"] }), o$1("ul", { children: [o$1("li", { children: "Hovering or focusing the trigger element shows the tooltip" }), o$1("li", { children: "The tooltip stays shown when it itself is hovered/focused as well, so that the text inside can be selected" }), o$1("li", { children: "Moving the mouse between the trigger and the tooltip has some tolerance associated with immediately hiding the tooltip." }), o$1("li", { children: "Hovering, focusing, and re-hovering can each have a custom delay associated with it" })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: [o$1("li", { children: ["You must ensure that either the tooltip contains a focusable element (a button, link, ", o$1("code", { children: "<div tabIndex=\"-1\" />" }), ", etc.)"] }), o$1("li", { children: "Long presses on mobile devices are not yet handled (e.g. a long press on a button triggers a tooltip but does not activate the button)" })] })] }));
    }
    function Code$4() {
        return (o$1("code", { children: `` }));
    }
    function Demo$4() {
        const [tooltipStatus, setTooltipStatus] = p(null);
        return (o$1(_$2, { children: [o$1(Blurb$4, {}), o$1(Code$4, {}), o$1("div", { children: ["The following text triggers a tooltip: ", o$1(Tooltip, { tooltipSemanticType: "description", onStatus: setTooltipStatus, render: info => {
                                return o$1(_$2, { children: [o$1("span", { tabIndex: 0, ...info.propsTrigger, children: "Tooltip-triggering text that is hoverable and focusable: " }), defaultRenderPortal({
                                            portalId: "portal",
                                            children: o$1("div", { ...info.propsPopup, hidden: !tooltipStatus, children: "This text describes the triggering text in more detail." })
                                        })] });
                            } })] })] }));
    }

    function Blurb$3() {
        return (o$1(_$2, { children: [o$1("p", { children: o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/alert/", children: "Toasts (aka snackbars) are implemented using the Alert pattern." }) }), o$1("ul", { children: [o$1("li", { children: "Pushing a toasts causes its contents to be shown visibly (and audibly with a screen reader)" }), o$1("li", { children: "Only new toasts are announced" }), o$1("li", { children: "Toasts are shown as soon as they are pushed, but you can control the maximum number shown at once with" }), o$1("li", { children: "Toasts can be dismissed in any order" }), o$1("li", { children: "Toasts can be set to auto-dismiss." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: [o$1("li", { children: "Auto-dismiss behavior is very situational. An auto-dismissed toast should only refer to information that can be viewed elsewhere; \"X files deleted\" can be double-checked in the Recycle Bin, \"X has logged in\" which you can along with everyone else in a tab somewhere, etc. This obviously cannot be checked programmatically." }), o$1("li", { children: "TODO: Focus management related to toasts that have interactive content" }), o$1("li", { children: "TODO: Toasts are still announced even when the current browser tab is hidden instead of saving them for when the user returns" }), o$1("li", { children: "TODO: Toasts still auto-dismiss when they have focus/are being interacted with" })] })] }));
    }
    function Code$3() {
        return (o$1("code", { children: `` }));
    }
    function Demo$3() {
        const currentIndex = _(0);
        const [toasts, setToasts] = useState([]);
        const pushToast = T$1(() => {
            const index = currentIndex.current;
            currentIndex.current += 1;
            const c = o$1(_$2, { children: ["This the toast with an index of ", index, "."] });
            const nt = o$1(Toast, { children: c, index: index, render: ({ toastReturn: { dismiss, showing, dismissed, numberOfToastsAheadOfUs } }) => {
                    const c = o$1(_$2, { children: ["This the toast with an index of ", index, ". (#", numberOfToastsAheadOfUs, " in the queue to be shown)."] });
                    return (o$1("div", { style: showing ? {} : { opacity: 0.5 }, children: [c, " ", o$1("button", { disabled: dismissed, onClick: dismiss, children: "Click to dismiss" })] }));
                }, timeout: null }, index);
            setToasts(t => [...t, nt]);
        }, []);
        return (o$1(_$2, { children: [o$1(Blurb$3, {}), o$1(Code$3, {}), o$1("button", { onClick: pushToast, children: "Push a toast" }), o$1("div", { children: o$1(Toasts, { visibleCount: 3, render: (info) => { return o$1("div", { ...info.props, children: toasts }); } }) })] }));
    }

    function Blurb$2() {
        return (o$1(_$2, { children: [o$1("p", { children: ["This is an implementation of an interactive data table that complies with ", o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/table/", children: "the ARIA guidelines for Table patterns" }), "."] }), o$1("ul", { children: [o$1("li", { children: ["In terms of keyboard navigation and tabbing through elements, a Table is considered a ", o$1("strong", { children: "single" }), " tab stop; in other words, no matter how many cells there are in a table (including if the cells contain interactive elements), it only takes one press of the Tab button to go through it.", o$1("ul", { children: [o$1("li", { children: ["Pressing the arrow keys navigates through the cells of the Table. You can override each cell's ", o$1("code", { children: "focusSelf" }), " prop to handle child elements."] }), o$1("li", { children: "Most other rules of list navigation apply (as in Listboxes), but in two dimensions." })] })] }), o$1("li", { children: ["The body rows are sortable via each cell's ", o$1("code", { children: "value" }), " prop. As a result of this, each row must be a ", o$1("em", { children: "direct" }), " child of the body, like as a normal array of children with no intervening JSX."] })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: [o$1("li", { children: ["If you don't need all the sorting and focus management and such, there's no reason not to just use the good old ", o$1("code", { children: "<table>" }), " element."] }), o$1("li", { children: ["It's up to you to make sure that any interactive elements within a table cell respond to focus management properly with the aforementioned ", o$1("code", { children: "focusSelf" }), " prop and a properly placed ", o$1("code", { children: ["tabIndex=", "{", "info.rovingTabIndex.tabbable? 0 : -1", "}"] }), " in the ", o$1("code", { children: "render" }), " prop."] })] })] }));
    }
    function Code$2() {
        return (o$1("code", { children: `` }));
    }
    function DemoInput({ index }) {
        const [v, setV] = useState("");
        return (o$1(TableCell, { getSortValue: () => v, focusSelf: e => { debugger; e.focus(); }, tagTableCell: "td", index: index, render: info => {
                return (o$1("td", { ...info.propsCell, children: o$1("input", { ...info.propsFocus, type: "text", onInput: T$1((e) => {
                            setV(e.currentTarget.value);
                            e.preventDefault();
                        }, []), value: v }) }));
                /*

                tagTableCell: "td", makePropsTableCell: (info) => ({
                    children: <DemoInput tabbable={info.rovingTabIndex.tabbable} />

                })

                */
            } }));
        /*
        return (
            <input {...props} type="text" tabIndex={tabbable ? 0 : -1} onInput={useCallback((e: h.JSX.TargetedEvent<HTMLInputElement>) => {
                debugger;
                setV(e.currentTarget.value);
                e.preventDefault();
            }, [])} value={v} />
        )*/
    }
    function DemoTableCell({ index, header }) {
        const r = _(Math.random());
        if (header) {
            const text = `Header #${index}`;
            return o$1(TableCell, { getSortValue: returnZero, focusSelf: e => e.focus(), tagTableCell: "th", index: index, render: info => o$1("th", { ...info.propsFocus, ...info.propsCell, children: [text, o$1("button", { tabIndex: info.rovingTabIndexChildReturn.tabbable ? 0 : -1, onClick: () => info.tableCellReturn.sortByThisColumn(), children: "Sort" })] }) });
        }
        else {
            //const text = `Cell in column #${index}`;
            switch (index) {
                case 0:
                    return (o$1(DemoInput, { index: index }));
                default:
                    return o$1(TableCell, { getSortValue: () => r.current, focusSelf: e => e.focus(), tagTableCell: "td", index: index, render: info => {
                            return (o$1("td", { ...info.propsFocus, ...info.propsCell, children: r.current.toString() }));
                        } });
            }
        }
    }
    function Demo$2() {
        const [count, setCount] = useState(5);
        return (o$1(_$2, { children: [o$1(Blurb$2, {}), o$1(Code$2, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of table rows"] }), o$1("div", { children: o$1(Table, { ariaLabel: null, selectionLimit: "multi", tagTable: "table", render: infoTable => {
                            return (o$1(_$2, { children: [o$1("label", { ...infoTable.propsLabel, children: "Table demo" }), o$1("table", { ...infoTable.propsTable, children: [o$1(TableSection, { tagTableSection: "thead", location: "head", render: infoSection => {
                                                    return (o$1("thead", { ...infoSection.propsTableSection, children: o$1(TableRow, { index: 0, ariaPropName: "aria-selected", tagTableRow: "tr", render: info => {
                                                                return (o$1("tr", { ...info.props, children: [o$1(DemoTableCell, { header: true, index: 0 }, 0), o$1(DemoTableCell, { header: true, index: 1 }, 1), o$1(DemoTableCell, { header: true, index: 2 }, 2)] }));
                                                            } }) }));
                                                } }), o$1(TableSection, { tagTableSection: "tbody", location: "body", render: infoSection => {
                                                    return (o$1("tbody", { ...infoSection.propsTableSection, children: infoSection.rearrangeableChildrenReturn.useRearrangedChildren(Array.from(function* () {
                                                            for (let i = 0; i < count; ++i) {
                                                                yield (o$1(TableRow, { ariaPropName: "aria-selected", tagTableRow: "tr", index: i, render: infoRow => {
                                                                        return (o$1("tr", { ...infoRow.props, children: [o$1(DemoTableCell, { index: 0 }, 0), o$1(DemoTableCell, { index: 1 }, 1), o$1(DemoTableCell, { index: 2 }, 2)] }));
                                                                        /*
        
        
                                                                        tagTableRow: "tr",
                                                                        makePropsTableRow: () => ({
                                                                            children: <>
                                                                                <DemoTableCell key={0} index={0} />
                                                                                <DemoTableCell key={1} index={1} />
                                                                                <DemoTableCell key={2} index={2} />
                                                                            </>
                                                                        })
                                                                    })
        
                                                                        */
                                                                    } }, i));
                                                            }
                                                        }())) }));
                                                } })] })] }));
                        } }) })] }));
    }

    function Blurb$1() {
        return (o$1(_$2, { children: [o$1("p", { children: ["Because Listboxes are not allowed to contain interactive content, a Gridlist is semantically a list that ", o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/grid/", children: "complies with the ARIA pattern for grids" }), "."] }), o$1("ul", { children: [o$1("li", { children: "In terms of keyboard navigation and tabbing through elements, a Gridlist is like a Listbox, but in two dimensions, like a Table." }), o$1("li", { children: "The rows of a Gridlist are sortable. It is possible to have multiple, independently sortable sections within the same Gridlist." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: [o$1("li", { children: ["It's up to you to make sure that any interactive elements within a Gridlist respond to focus management properly with ", o$1("code", { children: "focusSelf" }), " prop and a properly placed ", o$1("code", { children: ["tabIndex=", "{", "info.rovingTabIndex.tabbable? 0 : -1", "}"] }), " in the ", o$1("code", { children: "render" }), " prop."] }), o$1("li", { children: "Any given row in a Gridlist can be marked as selected, but this is up to you to handle manually at the moment" })] })] }));
    }
    function Code$1() {
        return (o$1("code", { children: `` }));
    }
    function DemoGridlistChild1({ row }) {
        const text = "Gridlist child " + row;
        return (o$1(GridlistChild, { focusSelf: e => e.focus(), index: 0, render: info => {
                return (o$1("div", { ...info.props, children: text }));
                /*
                
                defaultRenderGridlistChild({ tagGridlistChild: "div", makePropsGridlistChild: (_info) => ({ children: text }) })
        
                */
            } }));
    }
    function DemoGridlistChild2({ tabbable }) {
        const cb = _(null);
        const [b, setB] = useState(false);
        return (o$1(GridlistChild, { focusSelf: e => { debugger; cb.current?.checkboxLikeReturn.focusSelf(); }, index: 1, render: info => {
                return (o$1("div", { ...info.props, children: o$1(Checkbox, { ariaLabel: "Whether this item is selected", ref: cb, labelPosition: "separate", tagInput: "input", tagLabel: "label", checked: b, disabled: false, onCheckedChange: e => setB(e[EventDetail].checked), render: infoCheckbox => {
                            return (o$1(_$2, { children: o$1("input", { tabIndex: tabbable ? 0 : -1, ...infoCheckbox.propsInput }) }));
                            /*
                            defaultRenderCheckbox({ labelPosition: "separate", tagInput: "input", tagLabel: "label", makeInputProps: () => ({ tabIndex: info.rovingTabIndex.tabbable ? 0 : -1 }), makeLabelProps: () => ({ children: "Checkbox" }) })
                            */
                        } }) }));
                /*
                
                defaultRenderGridlistChild<HTMLDivElement>({ tagGridlistChild: "div", makePropsGridlistChild: (info) => ({ children: <Checkbox ref={cb} labelPosition={"separate"} tagInput="input" tagLabel="label" checked={b} disabled={false} getDocument={getDocument} onCheckedChange={e => setB(e[EventDetail].checked)} render={defaultRenderCheckbox({ labelPosition: "separate", tagInput: "input", tagLabel: "label", makeInputProps: () => ({ tabIndex: info.rovingTabIndex.tabbable ? 0 : -1 }), makeLabelProps: () => ({ children: "Checkbox" }) })} /> }) })
        
                */
            } }));
    }
    function Demo$1() {
        const [count, setCount] = useState(5);
        const [selectedIndex, setSelectedIndex] = useState(null);
        return (o$1(_$2, { children: [o$1(Blurb$1, {}), o$1(Code$1, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of table rows"] }), o$1("div", { children: o$1(Gridlist, { ariaLabel: null, groupingType: "without-groups", selectionLimit: "single", selectedIndex: selectedIndex, onSelectedIndexChange: setSelectedIndex, render: infoGridlist => {
                            return (o$1(_$2, { children: [o$1("label", { ...infoGridlist.propsGridlistLabel, children: "Gridlist demo" }), o$1("ul", { ...infoGridlist.propsGridlist, children: infoGridlist.rearrangeableChildrenReturn.useRearrangedChildren(Array.from(function* () {
                                            for (let i = 0; i < count; ++i) {
                                                yield (o$1(GridlistRow, { ariaPropName: "aria-selected", selected: null, index: i, getSortValue: returnZero, render: info => {
                                                        return (o$1("li", { ...info.props, children: [o$1(DemoGridlistChild1, { row: i }), o$1(DemoGridlistChild2, { tabbable: info.rowAsChildOfGridReturn.rovingTabIndexChildReturn.tabbable })] }));
                                                        /*

                                                        defaultRenderGridlistRow({
                                                        tagGridlistRow: "div", makePropsGridlistRow: (_info) => ({
                                                            children: [<DemoGridlistChild1 row={i} />, <DemoGridlistChild2 />]
                                                        })
                                                    })
                                                    
                                                        */
                                                    } }));
                                            }
                                        }())) })] }));
                            /*
                            
                            defaultRenderGridlist({
                            tagGridlist: "div", makePropsGridlist: (_info) => ({
                                children: <GridlistSection index={0} compareRows={(lhs, rhs) => lhs - rhs} render={defaultRenderGridlistSection({
                                    tagGridlistSection: "div", makePropsGridlistSection: (_info) => ({
                                        children: Array.from(function* () {
                                            for (let i = 0; i < count; ++i) {
                                                yield (
                                                    <GridlistRow<HTMLDivElement, HTMLDivElement>
                                                        ariaPropName="aria-selected"
                                                        getDocument={getDocument}
                                                        selected={false}
                                                        unselectable={true}
                                                        subInfo={undefined}
                                                        index={i}
                                                        text=""
                                                        render={defaultRenderGridlistRow({
                                                            tagGridlistRow: "div", makePropsGridlistRow: (_info) => ({
                                                                children: [<DemoGridlistChild1 row={i} />, <DemoGridlistChild2 />]
                                                            })
                                                        })} />
                                                )
                                            }
                                        }())
                                    })
                                })} />
                            })
                        })
                            
                            */
                        } }) })] }));
    }

    const DemoListItem = R(function DemoListItem({ index }) {
        return (o$1(ToolbarChild, { index: index, focusSelf: e => e.focus(), ariaPropName: "aria-pressed", selectionMode: "activation", getSortValue: returnZero, render: info2 => {
                return (o$1(Button, { tagButton: "button", pressed: false, render: info3 => o$1("button", { ...useMergedProps(info2.props, info3.props), children: ["Toolbar child #", index] }) }));
            } }));
    });
    function Blurb() {
        return (o$1(_$2, { children: [o$1("p", { children: [o$1("a", { href: "https://www.w3.org/WAI/ARIA/apg/patterns/toolbar/", children: "In accordance with the ARIA guidelines for Toolbar patterns," }), " this widget supports the following:"] }), o$1("ul", { children: [o$1("li", { children: "A Toolbar is a single widget for the purposes of keyboard navigation, like a Listbox." }), o$1("li", { children: "Toolbars are well-suited for \"button group\" patterns as well. Multiple groups can be contained within a single Toolbar, even multiple different types of components." })] }), o$1("p", { children: o$1("strong", { children: ["Things ", o$1("em", { children: "not" }), " handled:"] }) }), o$1("ul", { children: o$1("li", { children: ["You must label the Toolbar with ", o$1("code", { children: "aria-label" }), "."] }) })] }));
    }
    function Code() {
        return (o$1("code", { children: `` }));
    }
    function Demo() {
        const [count, setCount] = useState(5);
        return (o$1(_$2, { children: [o$1(Blurb, {}), o$1(Code, {}), o$1("label", { children: [o$1("input", { type: "number", min: 0, value: count, onInput: e => setCount(e.currentTarget.valueAsNumber) }), " # of list items"] }), o$1("div", { children: o$1(Toolbar, { orientation: "horizontal", role: "toolbar", ariaLabel: null, render: (info) => o$1(_$2, { children: [o$1("label", { ...info.propsLabel, children: "Toolbar demo" }), o$1("div", { ...info.propsToolbar, children: Array.from((function* () {
                                        for (let i = 0; i < count; ++i) {
                                            yield o$1(DemoListItem, { index: i }, i);
                                        }
                                    })()) })] }) }) })] }));
    }

    //import { options } from "preact";
    //options.debounceRendering = queueMicrotask;
    //const RandomWords = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.".split(" ");
    setDebugLogging(true);
    const Component = () => {
        const { children, context } = useNotificationProvider({ targetAssertive: "aria-notifications-assertive", targetPolite: "aria-notifications-polite" });
        return (o$1(NotificationProviderContext.Provider, { value: context, children: [children, o$1(Heading, { heading: "Demos", children: [o$1(Heading, { heading: "Accordion", children: o$1(Demo$f, {}) }), o$1(Heading, { heading: "Button", children: o$1(Demo$e, {}) }), o$1(Heading, { heading: "Checkbox", children: o$1(Demo$d, {}) }), o$1(Heading, { heading: "Checkbox Group", children: o$1(Demo$c, {}) }), o$1(Heading, { heading: "Dialog", children: o$1(Demo$6, {}) }), o$1(Heading, { heading: "Gridlist", children: o$1(Demo$1, {}) }), o$1(Heading, { heading: "Single-select Listbox", children: o$1(Demo$a, {}) }), o$1(Heading, { heading: "Multi-select Listbox", children: o$1(Demo$b, {}) }), o$1(Heading, { heading: "Menu", children: o$1(Demo$9, {}) }), o$1(Heading, { heading: "Radio", children: o$1(Demo$8, {}) }), o$1(Heading, { heading: "Slider", children: o$1(Demo$7, {}) }), o$1(Heading, { heading: "Toolbar", children: o$1(Demo, {}) }), o$1(Heading, { heading: "Toast", children: o$1(Demo$3, {}) }), o$1(Heading, { heading: "Tooltip", children: o$1(Demo$4, {}) }), o$1(Heading, { heading: "Tabs", children: o$1(Demo$5, {}) }), o$1(Heading, { heading: "Table", children: o$1(Demo$2, {}) })] })] }));
    };
    requestAnimationFrame(() => {
        D$1(o$1(Component, {}), document.getElementById("root"));
    });

})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlcyI6WyJub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9vcHRpb25zLmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2NyZWF0ZS1lbGVtZW50LmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2RpZmYvcHJvcHMuanMiLCJub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvY29tcG9uZW50LmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2NyZWF0ZS1jb250ZXh0LmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2NvbnN0YW50cy5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L3NyYy9kaWZmL2NoaWxkcmVuLmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2RpZmYvaW5kZXguanMiLCJub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvcmVuZGVyLmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3Qvc3JjL2Nsb25lLWVsZW1lbnQuanMiLCJub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC9zcmMvZGlmZi9jYXRjaC1lcnJvci5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L2pzeC1ydW50aW1lL3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L2hvb2tzL3NyYy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvdXRpbC5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvUHVyZUNvbXBvbmVudC5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvbWVtby5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvZm9yd2FyZFJlZi5qcyIsIm5vZGVfbW9kdWxlcy8ucG5wbS9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0L2NvbXBhdC9zcmMvQ2hpbGRyZW4uanMiLCJub2RlX21vZHVsZXMvLnBucG0vcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC9jb21wYXQvc3JjL3N1c3BlbnNlLmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy9zdXNwZW5zZS1saXN0LmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy9wb3J0YWxzLmpzIiwibm9kZV9tb2R1bGVzLy5wbnBtL3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QvY29tcGF0L3NyYy9yZW5kZXIuanMiLCIuLi9zcmMvcHJvcHMudHMiLCIuLi9zcmMvY29tcG9uZW50L2hlYWRpbmcudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXBhc3NpdmUtc3RhdGUudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvcHJlYWN0LWV4dGVuc2lvbnMvdXNlLWJlZm9yZS1sYXlvdXQtZWZmZWN0LnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtZ2V0dGVyLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtY2FsbGJhY2sudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvZG9tLWhlbHBlcnMvdXNlLW1lcmdlZC1jaGlsZHJlbi50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vY2xzeEAxLjIuMS9ub2RlX21vZHVsZXMvY2xzeC9kaXN0L2Nsc3gubS5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL2RvbS1oZWxwZXJzL3VzZS1tZXJnZWQtY2xhc3Nlcy50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9kb20taGVscGVycy91c2UtbWVyZ2VkLXJlZnMudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvZG9tLWhlbHBlcnMvdXNlLW1lcmdlZC1zdHlsZXMudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvZG9tLWhlbHBlcnMvdXNlLW1lcmdlZC1wcm9wcy50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9kb20taGVscGVycy91c2UtZXZlbnQtaGFuZGxlci50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9kb20taGVscGVycy91c2UtcmVmLWVsZW1lbnQudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvb2JzZXJ2ZXJzL3VzZS1hY3RpdmUtZWxlbWVudC50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlbi50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtZGV0YWlsL3VzZS1kaXNtaXNzLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS90YWJiYWJsZUA2LjAuMS9ub2RlX21vZHVsZXMvdGFiYmFibGUvc3JjL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2Jsb2NraW5nLWVsZW1lbnRzQDAuMS4xL25vZGVfbW9kdWxlcy9ibG9ja2luZy1lbGVtZW50cy9zcmMvYmxvY2tpbmctZWxlbWVudHMudHMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vd2ljZy1pbmVydEAzLjEuMi9ub2RlX21vZHVsZXMvd2ljZy1pbmVydC9kaXN0L2luZXJ0LmVzbS5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL2RvbS1oZWxwZXJzL3VzZS1kb2N1bWVudC1jbGFzcy50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9kb20taGVscGVycy91c2UtYmxvY2tpbmctZWxlbWVudC50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtZGV0YWlsL3VzZS1mb2N1cy10cmFwLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL2NvbXBvbmVudC1kZXRhaWwvdXNlLWxpbmVhci1uYXZpZ2F0aW9uLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGF0ZS50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtZGV0YWlsL3VzZS1yb3ZpbmctdGFiaW5kZXgudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvZG9tLWhlbHBlcnMvdXNlLXRleHQtY29udGVudC50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtZGV0YWlsL3VzZS10eXBlYWhlYWQtbmF2aWdhdGlvbi50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtZGV0YWlsL3VzZS1saXN0LW5hdmlnYXRpb24tcGFydGlhbC50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtZGV0YWlsL3VzZS1ncmlkLW5hdmlnYXRpb24tcGFydGlhbC50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9ub29wLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvY29tcG9uZW50LWRldGFpbC91c2Utc2luZ2xlLXNlbGVjdGlvbi50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtZGV0YWlsL3VzZS1ncmlkLW5hdmlnYXRpb24tc2luZ2xlLXNlbGVjdGlvbi50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fY29weUFycmF5LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VSYW5kb20uanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fc2h1ZmZsZVNlbGYuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYXJyYXlTaHVmZmxlLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2FycmF5TWFwLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VWYWx1ZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZVRpbWVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2ZyZWVHbG9iYWwuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fcm9vdC5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19TeW1ib2wuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fZ2V0UmF3VGFnLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX29iamVjdFRvU3RyaW5nLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VHZXRUYWcuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc09iamVjdExpa2UuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZUlzQXJndW1lbnRzLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNBcmd1bWVudHMuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc0FycmF5LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvc3R1YkZhbHNlLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNCdWZmZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9faXNJbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzTGVuZ3RoLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VJc1R5cGVkQXJyYXkuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fYmFzZVVuYXJ5LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX25vZGVVdGlsLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNUeXBlZEFycmF5LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2FycmF5TGlrZUtleXMuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9faXNQcm90b3R5cGUuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9fb3ZlckFyZy5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19uYXRpdmVLZXlzLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VLZXlzLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNPYmplY3QuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9pc0Z1bmN0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaXNBcnJheUxpa2UuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9rZXlzLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvdmFsdWVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX2Jhc2VTaHVmZmxlLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvc2h1ZmZsZS5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL3ByZWFjdC1leHRlbnNpb25zL3VzZS1mb3JjZS11cGRhdGUudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvY29tcG9uZW50LWRldGFpbC91c2Utc29ydGFibGUtY2hpbGRyZW4udHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvY29tcG9uZW50LWRldGFpbC91c2UtZ3JpZC1uYXZpZ2F0aW9uLXNpbmdsZS1zZWxlY3Rpb24tc29ydGFibGUudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvY29tcG9uZW50LWRldGFpbC91c2UtbGlzdC1uYXZpZ2F0aW9uLXNpbmdsZS1zZWxlY3Rpb24udHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvaWRlbnRpdHkuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtZGV0YWlsL3VzZS1wYWdpbmF0ZWQtY2hpbGRyZW4udHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvY29tcG9uZW50LWRldGFpbC91c2Utc3RhZ2dlcmVkLWNoaWxkcmVuLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL29ic2VydmVycy91c2UtY2hpbGRyZW4taGF2ZS1mb2N1cy50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9vYnNlcnZlcnMvdXNlLWhhcy1jdXJyZW50LWZvY3VzLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL2NvbXBvbmVudC11c2UvdXNlLWdyaWQtbmF2aWdhdGlvbi1jb21wbGV0ZS50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtdXNlL3VzZS1saXN0LW5hdmlnYXRpb24tY29tcGxldGUudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvY29tcG9uZW50LXVzZS91c2UtbW9kYWwudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2dpdGh1Yi5jb20rbXdzemVrZWx5K3ByZWFjdC1wcm9wLWhlbHBlcnNAMmNmYzk2ODdlZmM5NTE0MTM4MjNjMGQxNjBmODEyOWI5NWVhNGU4MF9wcmVhY3RAMTAuMTIuMS9ub2RlX21vZHVsZXMvcHJlYWN0LXByb3AtaGVscGVycy9zcmMvdGltaW5nL3VzZS10aW1lb3V0LnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL2NvbXBvbmVudC11c2UvdXNlLXByZXNzLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL2NvbXBvbmVudC11c2UvdXNlLXJhbmRvbS1pZC50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9jb21wb25lbnQtdXNlL3VzZS1yYW5kb20tZHVhbC1pZHMudHN4IiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvbm93LmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvX3RyaW1tZWRFbmRJbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL19iYXNlVHJpbS5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2gtZXNANC4xNy4yMS9ub2RlX21vZHVsZXMvbG9kYXNoLWVzL2lzU3ltYm9sLmpzIiwiLi4vbm9kZV9tb2R1bGVzLy5wbnBtL2xvZGFzaC1lc0A0LjE3LjIxL25vZGVfbW9kdWxlcy9sb2Rhc2gtZXMvdG9OdW1iZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vbG9kYXNoLWVzQDQuMTcuMjEvbm9kZV9tb2R1bGVzL2xvZGFzaC1lcy9kZWJvdW5jZS5qcyIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL3ByZWFjdC1leHRlbnNpb25zL3VzZS1hc3luYy50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9kb20taGVscGVycy91c2UtYXN5bmMtaGFuZGxlci50c3giLCIuLi9ub2RlX21vZHVsZXMvLnBucG0vZ2l0aHViLmNvbSttd3N6ZWtlbHkrcHJlYWN0LXByb3AtaGVscGVyc0AyY2ZjOTY4N2VmYzk1MTQxMzgyM2MwZDE2MGY4MTI5Yjk1ZWE0ZTgwX3ByZWFjdEAxMC4xMi4xL25vZGVfbW9kdWxlcy9wcmVhY3QtcHJvcC1oZWxwZXJzL3NyYy9kb20taGVscGVycy91c2UtcG9ydGFsLWNoaWxkcmVuLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL3ByZWFjdC1leHRlbnNpb25zL3VzZS1wZXJzaXN0ZW50LXN0YXRlLnRzeCIsIi4uL25vZGVfbW9kdWxlcy8ucG5wbS9naXRodWIuY29tK213c3pla2VseStwcmVhY3QtcHJvcC1oZWxwZXJzQDJjZmM5Njg3ZWZjOTUxNDEzODIzYzBkMTYwZjgxMjliOTVlYTRlODBfcHJlYWN0QDEwLjEyLjEvbm9kZV9tb2R1bGVzL3ByZWFjdC1wcm9wLWhlbHBlcnMvc3JjL3RpbWluZy91c2UtYW5pbWF0aW9uLWZyYW1lLnRzeCIsIi4uL3NyYy91c2UtYnV0dG9uLnRzIiwiLi4vc3JjL3VzZS1hY2NvcmRpb24udHN4IiwiLi4vc3JjL3VzZS1sYWJlbC50cyIsIi4uL3NyYy91c2UtY2hlY2tib3gtbGlrZS50cyIsIi4uL3NyYy91c2UtY2hlY2tib3gudHMiLCIuLi9zcmMvdXNlLWNoZWNrYm94LWdyb3VwLnRzIiwiLi4vc3JjL3VzZS1kaWFsb2cudHMiLCIuLi9zcmMvdXNlLWRyYXdlci50cyIsIi4uL3NyYy91c2UtZ3JpZGxpc3QudHMiLCIuLi9zcmMvdXNlLW1lbnUtc3VyZmFjZS50cyIsIi4uL3NyYy91c2UtdG9vbGJhci50c3giLCIuLi9zcmMvdXNlLW1lbnViYXIudHMiLCIuLi9zcmMvdXNlLW1lbnUudHMiLCIuLi9zcmMvdXNlLW5vdGlmeS50c3giLCIuLi9zcmMvdXNlLXByb2dyZXNzLnRzeCIsIi4uL3NyYy91c2UtcmFkaW8tZ3JvdXAudHN4IiwiLi4vc3JjL3VzZS1zbGlkZXIudHN4IiwiLi4vc3JjL3VzZS10YWJsZS50cyIsIi4uL3NyYy91c2UtdGFicy50cyIsIi4uL3NyYy91c2UtdG9hc3RzLnRzeCIsIi4uL3NyYy91c2UtdG9vbHRpcC50cyIsIi4uL3NyYy9jb21wb25lbnQvdXRpbC50cyIsIi4uL3NyYy9jb21wb25lbnQvYWNjb3JkaW9uLnRzeCIsIi4uL3NyYy9jb21wb25lbnQvYnV0dG9uLnRzeCIsIi4uL3NyYy9jb21wb25lbnQvY2hlY2tib3gudHN4IiwiLi4vc3JjL2NvbXBvbmVudC9jaGVja2JveC1ncm91cC50c3giLCIuLi9zcmMvY29tcG9uZW50L2RpYWxvZy50c3giLCIuLi9zcmMvY29tcG9uZW50L2RyYXdlci50c3giLCIuLi9zcmMvY29tcG9uZW50L2dyaWRsaXN0LnRzeCIsIi4uL3NyYy91c2UtbGlzdGJveC50cyIsIi4uL3NyYy9jb21wb25lbnQvbGlzdGJveC50c3giLCIuLi9zcmMvY29tcG9uZW50L21lbnUudHN4IiwiLi4vc3JjL2NvbXBvbmVudC9tZW51YmFyLnRzeCIsIi4uL3NyYy9jb21wb25lbnQvcHJvZ3Jlc3MudHN4IiwiLi4vc3JjL2NvbXBvbmVudC9yYWRpby1ncm91cC50c3giLCIuLi9zcmMvY29tcG9uZW50L3NsaWRlci50c3giLCIuLi9zcmMvY29tcG9uZW50L3RhYmxlLnRzeCIsIi4uL3NyYy9jb21wb25lbnQvdGFicy50c3giLCIuLi9zcmMvY29tcG9uZW50L3RvYXN0cy50c3giLCIuLi9zcmMvY29tcG9uZW50L3Rvb2xiYXIudHN4IiwiLi4vc3JjL2NvbXBvbmVudC90b29sdGlwLnRzeCIsImRlbW9zL2FjY29yZGlvbi50c3giLCJkZW1vcy9idXR0b24udHN4IiwiZGVtb3MvY2hlY2tib3gudHN4IiwiZGVtb3MvY2hlY2tib3gtZ3JvdXAudHN4IiwiZGVtb3MvbGlzdGJveC1tdWx0aS50c3giLCJkZW1vcy9saXN0Ym94LXNpbmdsZS50c3giLCJkZW1vcy9tZW51LnRzeCIsImRlbW9zL3JhZGlvLnRzeCIsImRlbW9zL3NsaWRlci50c3giLCJkZW1vcy9kaWFsb2cudHN4IiwiZGVtb3MvdGFicy50c3giLCJkZW1vcy90b29sdGlwLnRzeCIsImRlbW9zL3RvYXN0LnRzeCIsImRlbW9zL3RhYmxlLnRzeCIsImRlbW9zL2dyaWRsaXN0LnRzeCIsImRlbW9zL3Rvb2xiYXIudHN4IiwiaW5kZXgudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVNUFRZX0FSUiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKipcbiAqIEFzc2lnbiBwcm9wZXJ0aWVzIGZyb20gYHByb3BzYCB0byBgb2JqYFxuICogQHRlbXBsYXRlIE8sIFAgVGhlIG9iaiBhbmQgcHJvcHMgdHlwZXNcbiAqIEBwYXJhbSB7T30gb2JqIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIHRvXG4gKiBAcGFyYW0ge1B9IHByb3BzIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEByZXR1cm5zIHtPICYgUH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbihvYmosIHByb3BzKSB7XG5cdC8vIEB0cy1pZ25vcmUgV2UgY2hhbmdlIHRoZSB0eXBlIG9mIGBvYmpgIHRvIGJlIGBPICYgUGBcblx0Zm9yIChsZXQgaSBpbiBwcm9wcykgb2JqW2ldID0gcHJvcHNbaV07XG5cdHJldHVybiAvKiogQHR5cGUge08gJiBQfSAqLyAob2JqKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYSBjaGlsZCBub2RlIGZyb20gaXRzIHBhcmVudCBpZiBhdHRhY2hlZC4gVGhpcyBpcyBhIHdvcmthcm91bmQgZm9yXG4gKiBJRTExIHdoaWNoIGRvZXNuJ3Qgc3VwcG9ydCBgRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlKClgLiBVc2luZyB0aGlzIGZ1bmN0aW9uXG4gKiBpcyBzbWFsbGVyIHRoYW4gaW5jbHVkaW5nIGEgZGVkaWNhdGVkIHBvbHlmaWxsLlxuICogQHBhcmFtIHtOb2RlfSBub2RlIFRoZSBub2RlIHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdGxldCBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHRpZiAocGFyZW50Tm9kZSkgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cblxuZXhwb3J0IGNvbnN0IHNsaWNlID0gRU1QVFlfQVJSLnNsaWNlO1xuIiwiaW1wb3J0IHsgX2NhdGNoRXJyb3IgfSBmcm9tICcuL2RpZmYvY2F0Y2gtZXJyb3InO1xuXG4vKipcbiAqIFRoZSBgb3B0aW9uYCBvYmplY3QgY2FuIHBvdGVudGlhbGx5IGNvbnRhaW4gY2FsbGJhY2sgZnVuY3Rpb25zXG4gKiB0aGF0IGFyZSBjYWxsZWQgZHVyaW5nIHZhcmlvdXMgc3RhZ2VzIG9mIG91ciByZW5kZXJlci4gVGhpcyBpcyB0aGVcbiAqIGZvdW5kYXRpb24gb24gd2hpY2ggYWxsIG91ciBhZGRvbnMgbGlrZSBgcHJlYWN0L2RlYnVnYCwgYHByZWFjdC9jb21wYXRgLFxuICogYW5kIGBwcmVhY3QvaG9va3NgIGFyZSBiYXNlZCBvbi4gU2VlIHRoZSBgT3B0aW9uc2AgdHlwZSBpbiBgaW50ZXJuYWwuZC50c2BcbiAqIGZvciBhIGZ1bGwgbGlzdCBvZiBhdmFpbGFibGUgb3B0aW9uIGhvb2tzIChtb3N0IGVkaXRvcnMvSURFcyBhbGxvdyB5b3UgdG9cbiAqIGN0cmwrY2xpY2sgb3IgY21kK2NsaWNrIG9uIG1hYyB0aGUgdHlwZSBkZWZpbml0aW9uIGJlbG93KS5cbiAqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5PcHRpb25zfVxuICovXG5jb25zdCBvcHRpb25zID0ge1xuXHRfY2F0Y2hFcnJvclxufTtcblxuZXhwb3J0IGRlZmF1bHQgb3B0aW9ucztcbiIsImltcG9ydCB7IHNsaWNlIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4vb3B0aW9ucyc7XG5cbmxldCB2bm9kZUlkID0gMDtcblxuLyoqXG4gKiBDcmVhdGUgYW4gdmlydHVhbCBub2RlICh1c2VkIGZvciBKU1gpXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1widHlwZVwiXX0gdHlwZSBUaGUgbm9kZSBuYW1lIG9yIENvbXBvbmVudFxuICogY29uc3RydWN0b3IgZm9yIHRoaXMgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdCB8IG51bGwgfCB1bmRlZmluZWR9IFtwcm9wc10gVGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4nKS5Db21wb25lbnRDaGlsZHJlbj59IFtjaGlsZHJlbl0gVGhlIGNoaWxkcmVuIG9mIHRoZSB2aXJ0dWFsIG5vZGVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodHlwZSwgcHJvcHMsIGNoaWxkcmVuKSB7XG5cdGxldCBub3JtYWxpemVkUHJvcHMgPSB7fSxcblx0XHRrZXksXG5cdFx0cmVmLFxuXHRcdGk7XG5cdGZvciAoaSBpbiBwcm9wcykge1xuXHRcdGlmIChpID09ICdrZXknKSBrZXkgPSBwcm9wc1tpXTtcblx0XHRlbHNlIGlmIChpID09ICdyZWYnKSByZWYgPSBwcm9wc1tpXTtcblx0XHRlbHNlIG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHByb3BzW2ldO1xuXHR9XG5cblx0aWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKSB7XG5cdFx0bm9ybWFsaXplZFByb3BzLmNoaWxkcmVuID1cblx0XHRcdGFyZ3VtZW50cy5sZW5ndGggPiAzID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpIDogY2hpbGRyZW47XG5cdH1cblxuXHQvLyBJZiBhIENvbXBvbmVudCBWTm9kZSwgY2hlY2sgZm9yIGFuZCBhcHBseSBkZWZhdWx0UHJvcHNcblx0Ly8gTm90ZTogdHlwZSBtYXkgYmUgdW5kZWZpbmVkIGluIGRldmVsb3BtZW50LCBtdXN0IG5ldmVyIGVycm9yIGhlcmUuXG5cdGlmICh0eXBlb2YgdHlwZSA9PSAnZnVuY3Rpb24nICYmIHR5cGUuZGVmYXVsdFByb3BzICE9IG51bGwpIHtcblx0XHRmb3IgKGkgaW4gdHlwZS5kZWZhdWx0UHJvcHMpIHtcblx0XHRcdGlmIChub3JtYWxpemVkUHJvcHNbaV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRub3JtYWxpemVkUHJvcHNbaV0gPSB0eXBlLmRlZmF1bHRQcm9wc1tpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gY3JlYXRlVk5vZGUodHlwZSwgbm9ybWFsaXplZFByb3BzLCBrZXksIHJlZiwgbnVsbCk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgVk5vZGUgKHVzZWQgaW50ZXJuYWxseSBieSBQcmVhY3QpXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1widHlwZVwiXX0gdHlwZSBUaGUgbm9kZSBuYW1lIG9yIENvbXBvbmVudFxuICogQ29uc3RydWN0b3IgZm9yIHRoaXMgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdCB8IHN0cmluZyB8IG51bWJlciB8IG51bGx9IHByb3BzIFRoZSBwcm9wZXJ0aWVzIG9mIHRoaXMgdmlydHVhbCBub2RlLlxuICogSWYgdGhpcyB2aXJ0dWFsIG5vZGUgcmVwcmVzZW50cyBhIHRleHQgbm9kZSwgdGhpcyBpcyB0aGUgdGV4dCBvZiB0aGUgbm9kZSAoc3RyaW5nIG9yIG51bWJlcikuXG4gKiBAcGFyYW0ge3N0cmluZyB8IG51bWJlciB8IG51bGx9IGtleSBUaGUga2V5IGZvciB0aGlzIHZpcnR1YWwgbm9kZSwgdXNlZCB3aGVuXG4gKiBkaWZmaW5nIGl0IGFnYWluc3QgaXRzIGNoaWxkcmVuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlW1wicmVmXCJdfSByZWYgVGhlIHJlZiBwcm9wZXJ0eSB0aGF0IHdpbGxcbiAqIHJlY2VpdmUgYSByZWZlcmVuY2UgdG8gaXRzIGNyZWF0ZWQgY2hpbGRcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVZOb2RlKHR5cGUsIHByb3BzLCBrZXksIHJlZiwgb3JpZ2luYWwpIHtcblx0Ly8gVjggc2VlbXMgdG8gYmUgYmV0dGVyIGF0IGRldGVjdGluZyB0eXBlIHNoYXBlcyBpZiB0aGUgb2JqZWN0IGlzIGFsbG9jYXRlZCBmcm9tIHRoZSBzYW1lIGNhbGwgc2l0ZVxuXHQvLyBEbyBub3QgaW5saW5lIGludG8gY3JlYXRlRWxlbWVudCBhbmQgY29lcmNlVG9WTm9kZSFcblx0Y29uc3Qgdm5vZGUgPSB7XG5cdFx0dHlwZSxcblx0XHRwcm9wcyxcblx0XHRrZXksXG5cdFx0cmVmLFxuXHRcdF9jaGlsZHJlbjogbnVsbCxcblx0XHRfcGFyZW50OiBudWxsLFxuXHRcdF9kZXB0aDogMCxcblx0XHRfZG9tOiBudWxsLFxuXHRcdC8vIF9uZXh0RG9tIG11c3QgYmUgaW5pdGlhbGl6ZWQgdG8gdW5kZWZpbmVkIGIvYyBpdCB3aWxsIGV2ZW50dWFsbHlcblx0XHQvLyBiZSBzZXQgdG8gZG9tLm5leHRTaWJsaW5nIHdoaWNoIGNhbiByZXR1cm4gYG51bGxgIGFuZCBpdCBpcyBpbXBvcnRhbnRcblx0XHQvLyB0byBiZSBhYmxlIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gYW4gdW5pbml0aWFsaXplZCBfbmV4dERvbSBhbmRcblx0XHQvLyBhIF9uZXh0RG9tIHRoYXQgaGFzIGJlZW4gc2V0IHRvIGBudWxsYFxuXHRcdF9uZXh0RG9tOiB1bmRlZmluZWQsXG5cdFx0X2NvbXBvbmVudDogbnVsbCxcblx0XHRfaHlkcmF0aW5nOiBudWxsLFxuXHRcdGNvbnN0cnVjdG9yOiB1bmRlZmluZWQsXG5cdFx0X29yaWdpbmFsOiBvcmlnaW5hbCA9PSBudWxsID8gKyt2bm9kZUlkIDogb3JpZ2luYWxcblx0fTtcblxuXHQvLyBPbmx5IGludm9rZSB0aGUgdm5vZGUgaG9vayBpZiB0aGlzIHdhcyAqbm90KiBhIGRpcmVjdCBjb3B5OlxuXHRpZiAob3JpZ2luYWwgPT0gbnVsbCAmJiBvcHRpb25zLnZub2RlICE9IG51bGwpIG9wdGlvbnMudm5vZGUodm5vZGUpO1xuXG5cdHJldHVybiB2bm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlZigpIHtcblx0cmV0dXJuIHsgY3VycmVudDogbnVsbCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRnJhZ21lbnQocHJvcHMpIHtcblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIGEgdGhlIGFyZ3VtZW50IGlzIGEgdmFsaWQgUHJlYWN0IFZOb2RlLlxuICogQHBhcmFtIHsqfSB2bm9kZVxuICogQHJldHVybnMge3Zub2RlIGlzIGltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfVxuICovXG5leHBvcnQgY29uc3QgaXNWYWxpZEVsZW1lbnQgPSB2bm9kZSA9PlxuXHR2bm9kZSAhPSBudWxsICYmIHZub2RlLmNvbnN0cnVjdG9yID09PSB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgeyBJU19OT05fRElNRU5TSU9OQUwgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucyc7XG5cbi8qKlxuICogRGlmZiB0aGUgb2xkIGFuZCBuZXcgcHJvcGVydGllcyBvZiBhIFZOb2RlIGFuZCBhcHBseSBjaGFuZ2VzIHRvIHRoZSBET00gbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gZG9tIFRoZSBET00gbm9kZSB0byBhcHBseVxuICogY2hhbmdlcyB0b1xuICogQHBhcmFtIHtvYmplY3R9IG5ld1Byb3BzIFRoZSBuZXcgcHJvcHNcbiAqIEBwYXJhbSB7b2JqZWN0fSBvbGRQcm9wcyBUaGUgb2xkIHByb3BzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzU3ZnIFdoZXRoZXIgb3Igbm90IHRoaXMgbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtib29sZWFufSBoeWRyYXRlIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb24gbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZlByb3BzKGRvbSwgbmV3UHJvcHMsIG9sZFByb3BzLCBpc1N2ZywgaHlkcmF0ZSkge1xuXHRsZXQgaTtcblxuXHRmb3IgKGkgaW4gb2xkUHJvcHMpIHtcblx0XHRpZiAoaSAhPT0gJ2NoaWxkcmVuJyAmJiBpICE9PSAna2V5JyAmJiAhKGkgaW4gbmV3UHJvcHMpKSB7XG5cdFx0XHRzZXRQcm9wZXJ0eShkb20sIGksIG51bGwsIG9sZFByb3BzW2ldLCBpc1N2Zyk7XG5cdFx0fVxuXHR9XG5cblx0Zm9yIChpIGluIG5ld1Byb3BzKSB7XG5cdFx0aWYgKFxuXHRcdFx0KCFoeWRyYXRlIHx8IHR5cGVvZiBuZXdQcm9wc1tpXSA9PSAnZnVuY3Rpb24nKSAmJlxuXHRcdFx0aSAhPT0gJ2NoaWxkcmVuJyAmJlxuXHRcdFx0aSAhPT0gJ2tleScgJiZcblx0XHRcdGkgIT09ICd2YWx1ZScgJiZcblx0XHRcdGkgIT09ICdjaGVja2VkJyAmJlxuXHRcdFx0b2xkUHJvcHNbaV0gIT09IG5ld1Byb3BzW2ldXG5cdFx0KSB7XG5cdFx0XHRzZXRQcm9wZXJ0eShkb20sIGksIG5ld1Byb3BzW2ldLCBvbGRQcm9wc1tpXSwgaXNTdmcpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBzZXRTdHlsZShzdHlsZSwga2V5LCB2YWx1ZSkge1xuXHRpZiAoa2V5WzBdID09PSAnLScpIHtcblx0XHRzdHlsZS5zZXRQcm9wZXJ0eShrZXksIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlKTtcblx0fSBlbHNlIGlmICh2YWx1ZSA9PSBudWxsKSB7XG5cdFx0c3R5bGVba2V5XSA9ICcnO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnbnVtYmVyJyB8fCBJU19OT05fRElNRU5TSU9OQUwudGVzdChrZXkpKSB7XG5cdFx0c3R5bGVba2V5XSA9IHZhbHVlO1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlW2tleV0gPSB2YWx1ZSArICdweCc7XG5cdH1cbn1cblxuLyoqXG4gKiBTZXQgYSBwcm9wZXJ0eSB2YWx1ZSBvbiBhIERPTSBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBkb20gVGhlIERPTSBub2RlIHRvIG1vZGlmeVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIHNldFxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IHRoZSBwcm9wZXJ0eSB0b1xuICogQHBhcmFtIHsqfSBvbGRWYWx1ZSBUaGUgb2xkIHZhbHVlIHRoZSBwcm9wZXJ0eSBoYWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZSBvciBub3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFByb3BlcnR5KGRvbSwgbmFtZSwgdmFsdWUsIG9sZFZhbHVlLCBpc1N2Zykge1xuXHRsZXQgdXNlQ2FwdHVyZTtcblxuXHRvOiBpZiAobmFtZSA9PT0gJ3N0eWxlJykge1xuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdGRvbS5zdHlsZS5jc3NUZXh0ID0gdmFsdWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0eXBlb2Ygb2xkVmFsdWUgPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0ZG9tLnN0eWxlLmNzc1RleHQgPSBvbGRWYWx1ZSA9ICcnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAob2xkVmFsdWUpIHtcblx0XHRcdFx0Zm9yIChuYW1lIGluIG9sZFZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCEodmFsdWUgJiYgbmFtZSBpbiB2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlKGRvbS5zdHlsZSwgbmFtZSwgJycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0Zm9yIChuYW1lIGluIHZhbHVlKSB7XG5cdFx0XHRcdFx0aWYgKCFvbGRWYWx1ZSB8fCB2YWx1ZVtuYW1lXSAhPT0gb2xkVmFsdWVbbmFtZV0pIHtcblx0XHRcdFx0XHRcdHNldFN0eWxlKGRvbS5zdHlsZSwgbmFtZSwgdmFsdWVbbmFtZV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQvLyBCZW5jaG1hcmsgZm9yIGNvbXBhcmlzb246IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNTc0Yzk1NGJkYjk2NWI5YTAwOTY1YWM2XG5cdGVsc2UgaWYgKG5hbWVbMF0gPT09ICdvJyAmJiBuYW1lWzFdID09PSAnbicpIHtcblx0XHR1c2VDYXB0dXJlID0gbmFtZSAhPT0gKG5hbWUgPSBuYW1lLnJlcGxhY2UoL0NhcHR1cmUkLywgJycpKTtcblxuXHRcdC8vIEluZmVyIGNvcnJlY3QgY2FzaW5nIGZvciBET00gYnVpbHQtaW4gZXZlbnRzOlxuXHRcdGlmIChuYW1lLnRvTG93ZXJDYXNlKCkgaW4gZG9tKSBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDIpO1xuXHRcdGVsc2UgbmFtZSA9IG5hbWUuc2xpY2UoMik7XG5cblx0XHRpZiAoIWRvbS5fbGlzdGVuZXJzKSBkb20uX2xpc3RlbmVycyA9IHt9O1xuXHRcdGRvbS5fbGlzdGVuZXJzW25hbWUgKyB1c2VDYXB0dXJlXSA9IHZhbHVlO1xuXG5cdFx0aWYgKHZhbHVlKSB7XG5cdFx0XHRpZiAoIW9sZFZhbHVlKSB7XG5cdFx0XHRcdGNvbnN0IGhhbmRsZXIgPSB1c2VDYXB0dXJlID8gZXZlbnRQcm94eUNhcHR1cmUgOiBldmVudFByb3h5O1xuXHRcdFx0XHRkb20uYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyLCB1c2VDYXB0dXJlKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgaGFuZGxlciA9IHVzZUNhcHR1cmUgPyBldmVudFByb3h5Q2FwdHVyZSA6IGV2ZW50UHJveHk7XG5cdFx0XHRkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyLCB1c2VDYXB0dXJlKTtcblx0XHR9XG5cdH0gZWxzZSBpZiAobmFtZSAhPT0gJ2Rhbmdlcm91c2x5U2V0SW5uZXJIVE1MJykge1xuXHRcdGlmIChpc1N2Zykge1xuXHRcdFx0Ly8gTm9ybWFsaXplIGluY29ycmVjdCBwcm9wIHVzYWdlIGZvciBTVkc6XG5cdFx0XHQvLyAtIHhsaW5rOmhyZWYgLyB4bGlua0hyZWYgLS0+IGhyZWYgKHhsaW5rOmhyZWYgd2FzIHJlbW92ZWQgZnJvbSBTVkcgYW5kIGlzbid0IG5lZWRlZClcblx0XHRcdC8vIC0gY2xhc3NOYW1lIC0tPiBjbGFzc1xuXHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZSgveGxpbmsoSHw6aCkvLCAnaCcpLnJlcGxhY2UoL3NOYW1lJC8sICdzJyk7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdG5hbWUgIT09ICd3aWR0aCcgJiZcblx0XHRcdG5hbWUgIT09ICdoZWlnaHQnICYmXG5cdFx0XHRuYW1lICE9PSAnaHJlZicgJiZcblx0XHRcdG5hbWUgIT09ICdsaXN0JyAmJlxuXHRcdFx0bmFtZSAhPT0gJ2Zvcm0nICYmXG5cdFx0XHQvLyBEZWZhdWx0IHZhbHVlIGluIGJyb3dzZXJzIGlzIGAtMWAgYW5kIGFuIGVtcHR5IHN0cmluZyBpc1xuXHRcdFx0Ly8gY2FzdCB0byBgMGAgaW5zdGVhZFxuXHRcdFx0bmFtZSAhPT0gJ3RhYkluZGV4JyAmJlxuXHRcdFx0bmFtZSAhPT0gJ2Rvd25sb2FkJyAmJlxuXHRcdFx0bmFtZSBpbiBkb21cblx0XHQpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRvbVtuYW1lXSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xuXHRcdFx0XHQvLyBsYWJlbGxlZCBicmVhayBpcyAxYiBzbWFsbGVyIGhlcmUgdGhhbiBhIHJldHVybiBzdGF0ZW1lbnQgKHNvcnJ5KVxuXHRcdFx0XHRicmVhayBvO1xuXHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHR9XG5cblx0XHQvLyBBUklBLWF0dHJpYnV0ZXMgaGF2ZSBhIGRpZmZlcmVudCBub3Rpb24gb2YgYm9vbGVhbiB2YWx1ZXMuXG5cdFx0Ly8gVGhlIHZhbHVlIGBmYWxzZWAgaXMgZGlmZmVyZW50IGZyb20gdGhlIGF0dHJpYnV0ZSBub3Rcblx0XHQvLyBleGlzdGluZyBvbiB0aGUgRE9NLCBzbyB3ZSBjYW4ndCByZW1vdmUgaXQuIEZvciBub24tYm9vbGVhblxuXHRcdC8vIEFSSUEtYXR0cmlidXRlcyB3ZSBjb3VsZCB0cmVhdCBmYWxzZSBhcyBhIHJlbW92YWwsIGJ1dCB0aGVcblx0XHQvLyBhbW91bnQgb2YgZXhjZXB0aW9ucyB3b3VsZCBjb3N0IHVzIHRvbyBtYW55IGJ5dGVzLiBPbiB0b3Agb2Zcblx0XHQvLyB0aGF0IG90aGVyIFZET00gZnJhbWV3b3JrcyBhbHNvIGFsd2F5cyBzdHJpbmdpZnkgYGZhbHNlYC5cblxuXHRcdGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdC8vIG5ldmVyIHNlcmlhbGl6ZSBmdW5jdGlvbnMgYXMgYXR0cmlidXRlIHZhbHVlc1xuXHRcdH0gZWxzZSBpZiAodmFsdWUgIT0gbnVsbCAmJiAodmFsdWUgIT09IGZhbHNlIHx8IG5hbWUuaW5kZXhPZignLScpICE9IC0xKSkge1xuXHRcdFx0ZG9tLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRvbS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBsZXQgaW5FdmVudCA9IGZhbHNlO1xuXG4vKipcbiAqIFByb3h5IGFuIGV2ZW50IHRvIGhvb2tlZCBldmVudCBoYW5kbGVyc1xuICogQHBhcmFtIHtFdmVudH0gZSBUaGUgZXZlbnQgb2JqZWN0IGZyb20gdGhlIGJyb3dzZXJcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV2ZW50UHJveHkoZSkge1xuXHRpbkV2ZW50ID0gdHJ1ZTtcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcy5fbGlzdGVuZXJzW2UudHlwZSArIGZhbHNlXShcblx0XHRcdG9wdGlvbnMuZXZlbnQgPyBvcHRpb25zLmV2ZW50KGUpIDogZVxuXHRcdCk7XG5cdH0gZmluYWxseSB7XG5cdFx0aW5FdmVudCA9IGZhbHNlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGV2ZW50UHJveHlDYXB0dXJlKGUpIHtcblx0aW5FdmVudCA9IHRydWU7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMuX2xpc3RlbmVyc1tlLnR5cGUgKyB0cnVlXShvcHRpb25zLmV2ZW50ID8gb3B0aW9ucy5ldmVudChlKSA6IGUpO1xuXHR9IGZpbmFsbHkge1xuXHRcdGluRXZlbnQgPSBmYWxzZTtcblx0fVxufVxuIiwiaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IGRpZmYsIGNvbW1pdFJvb3QgfSBmcm9tICcuL2RpZmYvaW5kZXgnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IEZyYWdtZW50IH0gZnJvbSAnLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBpbkV2ZW50IH0gZnJvbSAnLi9kaWZmL3Byb3BzJztcblxuLyoqXG4gKiBCYXNlIENvbXBvbmVudCBjbGFzcy4gUHJvdmlkZXMgYHNldFN0YXRlKClgIGFuZCBgZm9yY2VVcGRhdGUoKWAsIHdoaWNoXG4gKiB0cmlnZ2VyIHJlbmRlcmluZ1xuICogQHBhcmFtIHtvYmplY3R9IHByb3BzIFRoZSBpbml0aWFsIGNvbXBvbmVudCBwcm9wc1xuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgVGhlIGluaXRpYWwgY29udGV4dCBmcm9tIHBhcmVudCBjb21wb25lbnRzJ1xuICogZ2V0Q2hpbGRDb250ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQpIHtcblx0dGhpcy5wcm9wcyA9IHByb3BzO1xuXHR0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xufVxuXG4vKipcbiAqIFVwZGF0ZSBjb21wb25lbnQgc3RhdGUgYW5kIHNjaGVkdWxlIGEgcmUtcmVuZGVyLlxuICogQHRoaXMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH1cbiAqIEBwYXJhbSB7b2JqZWN0IHwgKChzOiBvYmplY3QsIHA6IG9iamVjdCkgPT4gb2JqZWN0KX0gdXBkYXRlIEEgaGFzaCBvZiBzdGF0ZVxuICogcHJvcGVydGllcyB0byB1cGRhdGUgd2l0aCBuZXcgdmFsdWVzIG9yIGEgZnVuY3Rpb24gdGhhdCBnaXZlbiB0aGUgY3VycmVudFxuICogc3RhdGUgYW5kIHByb3BzIHJldHVybnMgYSBuZXcgcGFydGlhbCBzdGF0ZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIG9uY2UgY29tcG9uZW50IHN0YXRlIGlzXG4gKiB1cGRhdGVkXG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbih1cGRhdGUsIGNhbGxiYWNrKSB7XG5cdC8vIG9ubHkgY2xvbmUgc3RhdGUgd2hlbiBjb3B5aW5nIHRvIG5leHRTdGF0ZSB0aGUgZmlyc3QgdGltZS5cblx0bGV0IHM7XG5cdGlmICh0aGlzLl9uZXh0U3RhdGUgIT0gbnVsbCAmJiB0aGlzLl9uZXh0U3RhdGUgIT09IHRoaXMuc3RhdGUpIHtcblx0XHRzID0gdGhpcy5fbmV4dFN0YXRlO1xuXHR9IGVsc2Uge1xuXHRcdHMgPSB0aGlzLl9uZXh0U3RhdGUgPSBhc3NpZ24oe30sIHRoaXMuc3RhdGUpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiB1cGRhdGUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdC8vIFNvbWUgbGlicmFyaWVzIGxpa2UgYGltbWVyYCBtYXJrIHRoZSBjdXJyZW50IHN0YXRlIGFzIHJlYWRvbmx5LFxuXHRcdC8vIHByZXZlbnRpbmcgdXMgZnJvbSBtdXRhdGluZyBpdCwgc28gd2UgbmVlZCB0byBjbG9uZSBpdC4gU2VlICMyNzE2XG5cdFx0dXBkYXRlID0gdXBkYXRlKGFzc2lnbih7fSwgcyksIHRoaXMucHJvcHMpO1xuXHR9XG5cblx0aWYgKHVwZGF0ZSkge1xuXHRcdGFzc2lnbihzLCB1cGRhdGUpO1xuXHR9XG5cblx0Ly8gU2tpcCB1cGRhdGUgaWYgdXBkYXRlciBmdW5jdGlvbiByZXR1cm5lZCBudWxsXG5cdGlmICh1cGRhdGUgPT0gbnVsbCkgcmV0dXJuO1xuXG5cdGlmICh0aGlzLl92bm9kZSkge1xuXHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0dGhpcy5fc3RhdGVDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG5cdFx0fVxuXHRcdGVucXVldWVSZW5kZXIodGhpcyk7XG5cdH1cbn07XG5cbi8qKlxuICogSW1tZWRpYXRlbHkgcGVyZm9ybSBhIHN5bmNocm9ub3VzIHJlLXJlbmRlciBvZiB0aGUgY29tcG9uZW50XG4gKiBAdGhpcyB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50fVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpc1xuICogcmUtcmVuZGVyZWRcbiAqL1xuQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG5cdGlmICh0aGlzLl92bm9kZSkge1xuXHRcdC8vIFNldCByZW5kZXIgbW9kZSBzbyB0aGF0IHdlIGNhbiBkaWZmZXJlbnRpYXRlIHdoZXJlIHRoZSByZW5kZXIgcmVxdWVzdFxuXHRcdC8vIGlzIGNvbWluZyBmcm9tLiBXZSBuZWVkIHRoaXMgYmVjYXVzZSBmb3JjZVVwZGF0ZSBzaG91bGQgbmV2ZXIgY2FsbFxuXHRcdC8vIHNob3VsZENvbXBvbmVudFVwZGF0ZVxuXHRcdHRoaXMuX2ZvcmNlID0gdHJ1ZTtcblx0XHRpZiAoY2FsbGJhY2spIHRoaXMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcblx0XHRlbnF1ZXVlUmVuZGVyKHRoaXMpO1xuXHR9XG59O1xuXG4vKipcbiAqIEFjY2VwdHMgYHByb3BzYCBhbmQgYHN0YXRlYCwgYW5kIHJldHVybnMgYSBuZXcgVmlydHVhbCBET00gdHJlZSB0byBidWlsZC5cbiAqIFZpcnR1YWwgRE9NIGlzIGdlbmVyYWxseSBjb25zdHJ1Y3RlZCB2aWEgW0pTWF0oaHR0cDovL2phc29uZm9ybWF0LmNvbS93dGYtaXMtanN4KS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBQcm9wcyAoZWc6IEpTWCBhdHRyaWJ1dGVzKSByZWNlaXZlZCBmcm9tIHBhcmVudFxuICogZWxlbWVudC9jb21wb25lbnRcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdGF0ZSBUaGUgY29tcG9uZW50J3MgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbnRleHQgQ29udGV4dCBvYmplY3QsIGFzIHJldHVybmVkIGJ5IHRoZSBuZWFyZXN0XG4gKiBhbmNlc3RvcidzIGBnZXRDaGlsZENvbnRleHQoKWBcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vaW5kZXgnKS5Db21wb25lbnRDaGlsZHJlbiB8IHZvaWR9XG4gKi9cbkNvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyID0gRnJhZ21lbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqIEBwYXJhbSB7bnVtYmVyIHwgbnVsbH0gW2NoaWxkSW5kZXhdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREb21TaWJsaW5nKHZub2RlLCBjaGlsZEluZGV4KSB7XG5cdGlmIChjaGlsZEluZGV4ID09IG51bGwpIHtcblx0XHQvLyBVc2UgY2hpbGRJbmRleD09bnVsbCBhcyBhIHNpZ25hbCB0byByZXN1bWUgdGhlIHNlYXJjaCBmcm9tIHRoZSB2bm9kZSdzIHNpYmxpbmdcblx0XHRyZXR1cm4gdm5vZGUuX3BhcmVudFxuXHRcdFx0PyBnZXREb21TaWJsaW5nKHZub2RlLl9wYXJlbnQsIHZub2RlLl9wYXJlbnQuX2NoaWxkcmVuLmluZGV4T2Yodm5vZGUpICsgMSlcblx0XHRcdDogbnVsbDtcblx0fVxuXG5cdGxldCBzaWJsaW5nO1xuXHRmb3IgKDsgY2hpbGRJbmRleCA8IHZub2RlLl9jaGlsZHJlbi5sZW5ndGg7IGNoaWxkSW5kZXgrKykge1xuXHRcdHNpYmxpbmcgPSB2bm9kZS5fY2hpbGRyZW5bY2hpbGRJbmRleF07XG5cblx0XHRpZiAoc2libGluZyAhPSBudWxsICYmIHNpYmxpbmcuX2RvbSAhPSBudWxsKSB7XG5cdFx0XHQvLyBTaW5jZSB1cGRhdGVQYXJlbnREb21Qb2ludGVycyBrZWVwcyBfZG9tIHBvaW50ZXIgY29ycmVjdCxcblx0XHRcdC8vIHdlIGNhbiByZWx5IG9uIF9kb20gdG8gdGVsbCB1cyBpZiB0aGlzIHN1YnRyZWUgY29udGFpbnMgYVxuXHRcdFx0Ly8gcmVuZGVyZWQgRE9NIG5vZGUsIGFuZCB3aGF0IHRoZSBmaXJzdCByZW5kZXJlZCBET00gbm9kZSBpc1xuXHRcdFx0cmV0dXJuIHNpYmxpbmcuX2RvbTtcblx0XHR9XG5cdH1cblxuXHQvLyBJZiB3ZSBnZXQgaGVyZSwgd2UgaGF2ZSBub3QgZm91bmQgYSBET00gbm9kZSBpbiB0aGlzIHZub2RlJ3MgY2hpbGRyZW4uXG5cdC8vIFdlIG11c3QgcmVzdW1lIGZyb20gdGhpcyB2bm9kZSdzIHNpYmxpbmcgKGluIGl0J3MgcGFyZW50IF9jaGlsZHJlbiBhcnJheSlcblx0Ly8gT25seSBjbGltYiB1cCBhbmQgc2VhcmNoIHRoZSBwYXJlbnQgaWYgd2UgYXJlbid0IHNlYXJjaGluZyB0aHJvdWdoIGEgRE9NXG5cdC8vIFZOb2RlIChtZWFuaW5nIHdlIHJlYWNoZWQgdGhlIERPTSBwYXJlbnQgb2YgdGhlIG9yaWdpbmFsIHZub2RlIHRoYXQgYmVnYW5cblx0Ly8gdGhlIHNlYXJjaClcblx0cmV0dXJuIHR5cGVvZiB2bm9kZS50eXBlID09ICdmdW5jdGlvbicgPyBnZXREb21TaWJsaW5nKHZub2RlKSA6IG51bGw7XG59XG5cbi8qKlxuICogVHJpZ2dlciBpbi1wbGFjZSByZS1yZW5kZXJpbmcgb2YgYSBjb21wb25lbnQuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gY29tcG9uZW50IFRoZSBjb21wb25lbnQgdG8gcmVyZW5kZXJcbiAqL1xuZnVuY3Rpb24gcmVuZGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xuXHRsZXQgdm5vZGUgPSBjb21wb25lbnQuX3Zub2RlLFxuXHRcdG9sZERvbSA9IHZub2RlLl9kb20sXG5cdFx0cGFyZW50RG9tID0gY29tcG9uZW50Ll9wYXJlbnREb207XG5cblx0aWYgKHBhcmVudERvbSkge1xuXHRcdGxldCBjb21taXRRdWV1ZSA9IFtdO1xuXHRcdGNvbnN0IG9sZFZOb2RlID0gYXNzaWduKHt9LCB2bm9kZSk7XG5cdFx0b2xkVk5vZGUuX29yaWdpbmFsID0gdm5vZGUuX29yaWdpbmFsICsgMTtcblxuXHRcdGRpZmYoXG5cdFx0XHRwYXJlbnREb20sXG5cdFx0XHR2bm9kZSxcblx0XHRcdG9sZFZOb2RlLFxuXHRcdFx0Y29tcG9uZW50Ll9nbG9iYWxDb250ZXh0LFxuXHRcdFx0cGFyZW50RG9tLm93bmVyU1ZHRWxlbWVudCAhPT0gdW5kZWZpbmVkLFxuXHRcdFx0dm5vZGUuX2h5ZHJhdGluZyAhPSBudWxsID8gW29sZERvbV0gOiBudWxsLFxuXHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRvbGREb20gPT0gbnVsbCA/IGdldERvbVNpYmxpbmcodm5vZGUpIDogb2xkRG9tLFxuXHRcdFx0dm5vZGUuX2h5ZHJhdGluZ1xuXHRcdCk7XG5cdFx0Y29tbWl0Um9vdChjb21taXRRdWV1ZSwgdm5vZGUpO1xuXG5cdFx0aWYgKHZub2RlLl9kb20gIT0gb2xkRG9tKSB7XG5cdFx0XHR1cGRhdGVQYXJlbnREb21Qb2ludGVycyh2bm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqL1xuZnVuY3Rpb24gdXBkYXRlUGFyZW50RG9tUG9pbnRlcnModm5vZGUpIHtcblx0aWYgKCh2bm9kZSA9IHZub2RlLl9wYXJlbnQpICE9IG51bGwgJiYgdm5vZGUuX2NvbXBvbmVudCAhPSBudWxsKSB7XG5cdFx0dm5vZGUuX2RvbSA9IHZub2RlLl9jb21wb25lbnQuYmFzZSA9IG51bGw7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB2bm9kZS5fY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBjaGlsZCA9IHZub2RlLl9jaGlsZHJlbltpXTtcblx0XHRcdGlmIChjaGlsZCAhPSBudWxsICYmIGNoaWxkLl9kb20gIT0gbnVsbCkge1xuXHRcdFx0XHR2bm9kZS5fZG9tID0gdm5vZGUuX2NvbXBvbmVudC5iYXNlID0gY2hpbGQuX2RvbTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVwZGF0ZVBhcmVudERvbVBvaW50ZXJzKHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFRoZSByZW5kZXIgcXVldWVcbiAqIEB0eXBlIHtBcnJheTxpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fVxuICovXG5sZXQgcmVyZW5kZXJRdWV1ZSA9IFtdO1xuXG4vKlxuICogVGhlIHZhbHVlIG9mIGBDb21wb25lbnQuZGVib3VuY2VgIG11c3QgYXN5bmNocm9ub3VzbHkgaW52b2tlIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2suIEl0IGlzXG4gKiBpbXBvcnRhbnQgdGhhdCBjb250cmlidXRvcnMgdG8gUHJlYWN0IGNhbiBjb25zaXN0ZW50bHkgcmVhc29uIGFib3V0IHdoYXQgY2FsbHMgdG8gYHNldFN0YXRlYCwgZXRjLlxuICogZG8sIGFuZCB3aGVuIHRoZWlyIGVmZmVjdHMgd2lsbCBiZSBhcHBsaWVkLiBTZWUgdGhlIGxpbmtzIGJlbG93IGZvciBzb21lIGZ1cnRoZXIgcmVhZGluZyBvbiBkZXNpZ25pbmdcbiAqIGFzeW5jaHJvbm91cyBBUElzLlxuICogKiBbRGVzaWduaW5nIEFQSXMgZm9yIEFzeW5jaHJvbnldKGh0dHBzOi8vYmxvZy5penMubWUvMjAxMy8wOC9kZXNpZ25pbmctYXBpcy1mb3ItYXN5bmNocm9ueSlcbiAqICogW0NhbGxiYWNrcyBzeW5jaHJvbm91cyBhbmQgYXN5bmNocm9ub3VzXShodHRwczovL2Jsb2cub21ldGVyLmNvbS8yMDExLzA3LzI0L2NhbGxiYWNrcy1zeW5jaHJvbm91cy1hbmQtYXN5bmNocm9ub3VzLylcbiAqL1xuXG5sZXQgcHJldkRlYm91bmNlO1xuXG5jb25zdCBtaWNyb1RpY2sgPVxuXHR0eXBlb2YgUHJvbWlzZSA9PSAnZnVuY3Rpb24nXG5cdFx0PyBQcm9taXNlLnByb3RvdHlwZS50aGVuLmJpbmQoUHJvbWlzZS5yZXNvbHZlKCkpXG5cdFx0OiBzZXRUaW1lb3V0O1xuZnVuY3Rpb24gZGVmZXIoY2IpIHtcblx0aWYgKGluRXZlbnQpIHtcblx0XHRzZXRUaW1lb3V0KGNiKTtcblx0fSBlbHNlIHtcblx0XHRtaWNyb1RpY2soY2IpO1xuXHR9XG59XG5cbi8qKlxuICogRW5xdWV1ZSBhIHJlcmVuZGVyIG9mIGEgY29tcG9uZW50XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gYyBUaGUgY29tcG9uZW50IHRvIHJlcmVuZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbnF1ZXVlUmVuZGVyKGMpIHtcblx0aWYgKFxuXHRcdCghYy5fZGlydHkgJiZcblx0XHRcdChjLl9kaXJ0eSA9IHRydWUpICYmXG5cdFx0XHRyZXJlbmRlclF1ZXVlLnB1c2goYykgJiZcblx0XHRcdCFwcm9jZXNzLl9yZXJlbmRlckNvdW50KyspIHx8XG5cdFx0cHJldkRlYm91bmNlICE9PSBvcHRpb25zLmRlYm91bmNlUmVuZGVyaW5nXG5cdCkge1xuXHRcdHByZXZEZWJvdW5jZSA9IG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmc7XG5cdFx0KHByZXZEZWJvdW5jZSB8fCBkZWZlcikocHJvY2Vzcyk7XG5cdH1cbn1cblxuLyoqIEZsdXNoIHRoZSByZW5kZXIgcXVldWUgYnkgcmVyZW5kZXJpbmcgYWxsIHF1ZXVlZCBjb21wb25lbnRzICovXG5mdW5jdGlvbiBwcm9jZXNzKCkge1xuXHRsZXQgYztcblx0cmVyZW5kZXJRdWV1ZS5zb3J0KChhLCBiKSA9PiBhLl92bm9kZS5fZGVwdGggLSBiLl92bm9kZS5fZGVwdGgpO1xuXHQvLyBEb24ndCB1cGRhdGUgYHJlbmRlckNvdW50YCB5ZXQuIEtlZXAgaXRzIHZhbHVlIG5vbi16ZXJvIHRvIHByZXZlbnQgdW5uZWNlc3Nhcnlcblx0Ly8gcHJvY2VzcygpIGNhbGxzIGZyb20gZ2V0dGluZyBzY2hlZHVsZWQgd2hpbGUgYHF1ZXVlYCBpcyBzdGlsbCBiZWluZyBjb25zdW1lZC5cblx0d2hpbGUgKChjID0gcmVyZW5kZXJRdWV1ZS5zaGlmdCgpKSkge1xuXHRcdGlmIChjLl9kaXJ0eSkge1xuXHRcdFx0bGV0IHJlbmRlclF1ZXVlTGVuZ3RoID0gcmVyZW5kZXJRdWV1ZS5sZW5ndGg7XG5cdFx0XHRyZW5kZXJDb21wb25lbnQoYyk7XG5cdFx0XHRpZiAocmVyZW5kZXJRdWV1ZS5sZW5ndGggPiByZW5kZXJRdWV1ZUxlbmd0aCkge1xuXHRcdFx0XHQvLyBXaGVuIGkuZS4gcmVyZW5kZXJpbmcgYSBwcm92aWRlciBhZGRpdGlvbmFsIG5ldyBpdGVtcyBjYW4gYmUgaW5qZWN0ZWQsIHdlIHdhbnQgdG9cblx0XHRcdFx0Ly8ga2VlcCB0aGUgb3JkZXIgZnJvbSB0b3AgdG8gYm90dG9tIHdpdGggdGhvc2UgbmV3IGl0ZW1zIHNvIHdlIGNhbiBoYW5kbGUgdGhlbSBpbiBhXG5cdFx0XHRcdC8vIHNpbmdsZSBwYXNzXG5cdFx0XHRcdHJlcmVuZGVyUXVldWUuc29ydCgoYSwgYikgPT4gYS5fdm5vZGUuX2RlcHRoIC0gYi5fdm5vZGUuX2RlcHRoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cHJvY2Vzcy5fcmVyZW5kZXJDb3VudCA9IDA7XG59XG5cbnByb2Nlc3MuX3JlcmVuZGVyQ291bnQgPSAwO1xuIiwiaW1wb3J0IHsgZW5xdWV1ZVJlbmRlciB9IGZyb20gJy4vY29tcG9uZW50JztcblxuZXhwb3J0IGxldCBpID0gMDtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlLCBjb250ZXh0SWQpIHtcblx0Y29udGV4dElkID0gJ19fY0MnICsgaSsrO1xuXG5cdGNvbnN0IGNvbnRleHQgPSB7XG5cdFx0X2lkOiBjb250ZXh0SWQsXG5cdFx0X2RlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25Db21wb25lbnR9ICovXG5cdFx0Q29uc3VtZXIocHJvcHMsIGNvbnRleHRWYWx1ZSkge1xuXHRcdFx0Ly8gcmV0dXJuIHByb3BzLmNoaWxkcmVuKFxuXHRcdFx0Ly8gXHRjb250ZXh0W2NvbnRleHRJZF0gPyBjb250ZXh0W2NvbnRleHRJZF0ucHJvcHMudmFsdWUgOiBkZWZhdWx0VmFsdWVcblx0XHRcdC8vICk7XG5cdFx0XHRyZXR1cm4gcHJvcHMuY2hpbGRyZW4oY29udGV4dFZhbHVlKTtcblx0XHR9LFxuXHRcdC8qKiBAdHlwZSB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25Db21wb25lbnR9ICovXG5cdFx0UHJvdmlkZXIocHJvcHMpIHtcblx0XHRcdGlmICghdGhpcy5nZXRDaGlsZENvbnRleHQpIHtcblx0XHRcdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnRbXX0gKi9cblx0XHRcdFx0bGV0IHN1YnMgPSBbXTtcblx0XHRcdFx0bGV0IGN0eCA9IHt9O1xuXHRcdFx0XHRjdHhbY29udGV4dElkXSA9IHRoaXM7XG5cblx0XHRcdFx0dGhpcy5nZXRDaGlsZENvbnRleHQgPSAoKSA9PiBjdHg7XG5cblx0XHRcdFx0dGhpcy5zaG91bGRDb21wb25lbnRVcGRhdGUgPSBmdW5jdGlvbihfcHJvcHMpIHtcblx0XHRcdFx0XHRpZiAodGhpcy5wcm9wcy52YWx1ZSAhPT0gX3Byb3BzLnZhbHVlKSB7XG5cdFx0XHRcdFx0XHQvLyBJIHRoaW5rIHRoZSBmb3JjZWQgdmFsdWUgcHJvcGFnYXRpb24gaGVyZSB3YXMgb25seSBuZWVkZWQgd2hlbiBgb3B0aW9ucy5kZWJvdW5jZVJlbmRlcmluZ2Agd2FzIGJlaW5nIGJ5cGFzc2VkOlxuXHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3ByZWFjdGpzL3ByZWFjdC9jb21taXQvNGQzMzlmYjgwM2JlYTA5ZTlmMTk4YWJmMzhjYTFiZjhlYTRiNzc3MSNkaWZmLTU0NjgyY2UzODA5MzVhNzE3ZTQxYjhiZmM1NDczN2Y2UjM1OFxuXHRcdFx0XHRcdFx0Ly8gSW4gdGhvc2UgY2FzZXMgdGhvdWdoLCBldmVuIHdpdGggdGhlIHZhbHVlIGNvcnJlY3RlZCwgd2UncmUgZG91YmxlLXJlbmRlcmluZyBhbGwgbm9kZXMuXG5cdFx0XHRcdFx0XHQvLyBJdCBtaWdodCBiZSBiZXR0ZXIgdG8ganVzdCB0ZWxsIGZvbGtzIG5vdCB0byB1c2UgZm9yY2Utc3luYyBtb2RlLlxuXHRcdFx0XHRcdFx0Ly8gQ3VycmVudGx5LCB1c2luZyBgdXNlQ29udGV4dCgpYCBpbiBhIGNsYXNzIGNvbXBvbmVudCB3aWxsIG92ZXJ3cml0ZSBpdHMgYHRoaXMuY29udGV4dGAgdmFsdWUuXG5cdFx0XHRcdFx0XHQvLyBzdWJzLnNvbWUoYyA9PiB7XG5cdFx0XHRcdFx0XHQvLyBcdGMuY29udGV4dCA9IF9wcm9wcy52YWx1ZTtcblx0XHRcdFx0XHRcdC8vIFx0ZW5xdWV1ZVJlbmRlcihjKTtcblx0XHRcdFx0XHRcdC8vIH0pO1xuXG5cdFx0XHRcdFx0XHQvLyBzdWJzLnNvbWUoYyA9PiB7XG5cdFx0XHRcdFx0XHQvLyBcdGMuY29udGV4dFtjb250ZXh0SWRdID0gX3Byb3BzLnZhbHVlO1xuXHRcdFx0XHRcdFx0Ly8gXHRlbnF1ZXVlUmVuZGVyKGMpO1xuXHRcdFx0XHRcdFx0Ly8gfSk7XG5cdFx0XHRcdFx0XHRzdWJzLnNvbWUoYyA9PiB7XG5cdFx0XHRcdFx0XHRcdGMuX2ZvcmNlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0ZW5xdWV1ZVJlbmRlcihjKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLnN1YiA9IGMgPT4ge1xuXHRcdFx0XHRcdHN1YnMucHVzaChjKTtcblx0XHRcdFx0XHRsZXQgb2xkID0gYy5jb21wb25lbnRXaWxsVW5tb3VudDtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gKCkgPT4ge1xuXHRcdFx0XHRcdFx0c3Vicy5zcGxpY2Uoc3Vicy5pbmRleE9mKGMpLCAxKTtcblx0XHRcdFx0XHRcdGlmIChvbGQpIG9sZC5jYWxsKGMpO1xuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBwcm9wcy5jaGlsZHJlbjtcblx0XHR9XG5cdH07XG5cblx0Ly8gRGV2dG9vbHMgbmVlZHMgYWNjZXNzIHRvIHRoZSBjb250ZXh0IG9iamVjdCB3aGVuIGl0XG5cdC8vIGVuY291bnRlcnMgYSBQcm92aWRlci4gVGhpcyBpcyBuZWNlc3NhcnkgdG8gc3VwcG9ydFxuXHQvLyBzZXR0aW5nIGBkaXNwbGF5TmFtZWAgb24gdGhlIGNvbnRleHQgb2JqZWN0IGluc3RlYWRcblx0Ly8gb2Ygb24gdGhlIGNvbXBvbmVudCBpdHNlbGYuIFNlZTpcblx0Ly8gaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2NvbnRleHQuaHRtbCNjb250ZXh0ZGlzcGxheW5hbWVcblxuXHRyZXR1cm4gKGNvbnRleHQuUHJvdmlkZXIuX2NvbnRleHRSZWYgPSBjb250ZXh0LkNvbnN1bWVyLmNvbnRleHRUeXBlID0gY29udGV4dCk7XG59XG4iLCJleHBvcnQgY29uc3QgRU1QVFlfT0JKID0ge307XG5leHBvcnQgY29uc3QgRU1QVFlfQVJSID0gW107XG5leHBvcnQgY29uc3QgSVNfTk9OX0RJTUVOU0lPTkFMID0gL2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaTtcbiIsImltcG9ydCB7IGRpZmYsIHVubW91bnQsIGFwcGx5UmVmIH0gZnJvbSAnLi9pbmRleCc7XG5pbXBvcnQgeyBjcmVhdGVWTm9kZSwgRnJhZ21lbnQgfSBmcm9tICcuLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBFTVBUWV9PQkosIEVNUFRZX0FSUiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBnZXREb21TaWJsaW5nIH0gZnJvbSAnLi4vY29tcG9uZW50JztcblxuLyoqXG4gKiBEaWZmIHRoZSBjaGlsZHJlbiBvZiBhIHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBET00gZWxlbWVudCB3aG9zZVxuICogY2hpbGRyZW4gYXJlIGJlaW5nIGRpZmZlZFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGRyZW5bXX0gcmVuZGVyUmVzdWx0XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gbmV3UGFyZW50Vk5vZGUgVGhlIG5ldyB2aXJ0dWFsXG4gKiBub2RlIHdob3NlIGNoaWxkcmVuIHNob3VsZCBiZSBkaWZmJ2VkIGFnYWluc3Qgb2xkUGFyZW50Vk5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBvbGRQYXJlbnRWTm9kZSBUaGUgb2xkIHZpcnR1YWxcbiAqIG5vZGUgd2hvc2UgY2hpbGRyZW4gc2hvdWxkIGJlIGRpZmYnZWQgYWdhaW5zdCBuZXdQYXJlbnRWTm9kZVxuICogQHBhcmFtIHtvYmplY3R9IGdsb2JhbENvbnRleHQgVGhlIGN1cnJlbnQgY29udGV4dCBvYmplY3QgLSBtb2RpZmllZCBieSBnZXRDaGlsZENvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBET00gbm9kZSBpcyBhbiBTVkcgbm9kZVxuICogQHBhcmFtIHtBcnJheTxpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudD59IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBvbGREb20gVGhlIGN1cnJlbnQgYXR0YWNoZWQgRE9NXG4gKiBlbGVtZW50IGFueSBuZXcgZG9tIGVsZW1lbnRzIHNob3VsZCBiZSBwbGFjZWQgYXJvdW5kLiBMaWtlbHkgYG51bGxgIG9uIGZpcnN0XG4gKiByZW5kZXIgKGV4Y2VwdCB3aGVuIGh5ZHJhdGluZykuIENhbiBiZSBhIHNpYmxpbmcgRE9NIGVsZW1lbnQgd2hlbiBkaWZmaW5nXG4gKiBGcmFnbWVudHMgdGhhdCBoYXZlIHNpYmxpbmdzLiBJbiBtb3N0IGNhc2VzLCBpdCBzdGFydHMgb3V0IGFzIGBvbGRDaGlsZHJlblswXS5fZG9tYC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNIeWRyYXRpbmcgV2hldGhlciBvciBub3Qgd2UgYXJlIGluIGh5ZHJhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZGlmZkNoaWxkcmVuKFxuXHRwYXJlbnREb20sXG5cdHJlbmRlclJlc3VsdCxcblx0bmV3UGFyZW50Vk5vZGUsXG5cdG9sZFBhcmVudFZOb2RlLFxuXHRnbG9iYWxDb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IGksIGosIG9sZFZOb2RlLCBjaGlsZFZOb2RlLCBuZXdEb20sIGZpcnN0Q2hpbGREb20sIHJlZnM7XG5cblx0Ly8gVGhpcyBpcyBhIGNvbXByZXNzaW9uIG9mIG9sZFBhcmVudFZOb2RlIT1udWxsICYmIG9sZFBhcmVudFZOb2RlICE9IEVNUFRZX09CSiAmJiBvbGRQYXJlbnRWTm9kZS5fY2hpbGRyZW4gfHwgRU1QVFlfQVJSXG5cdC8vIGFzIEVNUFRZX09CSi5fY2hpbGRyZW4gc2hvdWxkIGJlIGB1bmRlZmluZWRgLlxuXHRsZXQgb2xkQ2hpbGRyZW4gPSAob2xkUGFyZW50Vk5vZGUgJiYgb2xkUGFyZW50Vk5vZGUuX2NoaWxkcmVuKSB8fCBFTVBUWV9BUlI7XG5cblx0bGV0IG9sZENoaWxkcmVuTGVuZ3RoID0gb2xkQ2hpbGRyZW4ubGVuZ3RoO1xuXG5cdG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbiA9IFtdO1xuXHRmb3IgKGkgPSAwOyBpIDwgcmVuZGVyUmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2hpbGRWTm9kZSA9IHJlbmRlclJlc3VsdFtpXTtcblxuXHRcdGlmIChjaGlsZFZOb2RlID09IG51bGwgfHwgdHlwZW9mIGNoaWxkVk5vZGUgPT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gbnVsbDtcblx0XHR9XG5cdFx0Ly8gSWYgdGhpcyBuZXdWTm9kZSBpcyBiZWluZyByZXVzZWQgKGUuZy4gPGRpdj57cmV1c2V9e3JldXNlfTwvZGl2PikgaW4gdGhlIHNhbWUgZGlmZixcblx0XHQvLyBvciB3ZSBhcmUgcmVuZGVyaW5nIGEgY29tcG9uZW50IChlLmcuIHNldFN0YXRlKSBjb3B5IHRoZSBvbGRWTm9kZXMgc28gaXQgY2FuIGhhdmVcblx0XHQvLyBpdCdzIG93biBET00gJiBldGMuIHBvaW50ZXJzXG5cdFx0ZWxzZSBpZiAoXG5cdFx0XHR0eXBlb2YgY2hpbGRWTm9kZSA9PSAnc3RyaW5nJyB8fFxuXHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUgPT0gJ251bWJlcicgfHxcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB2YWxpZC10eXBlb2Zcblx0XHRcdHR5cGVvZiBjaGlsZFZOb2RlID09ICdiaWdpbnQnXG5cdFx0KSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdGNoaWxkVk5vZGVcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkVk5vZGUpKSB7XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdEZyYWdtZW50LFxuXHRcdFx0XHR7IGNoaWxkcmVuOiBjaGlsZFZOb2RlIH0sXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGwsXG5cdFx0XHRcdG51bGxcblx0XHRcdCk7XG5cdFx0fSBlbHNlIGlmIChjaGlsZFZOb2RlLl9kZXB0aCA+IDApIHtcblx0XHRcdC8vIFZOb2RlIGlzIGFscmVhZHkgaW4gdXNlLCBjbG9uZSBpdC4gVGhpcyBjYW4gaGFwcGVuIGluIHRoZSBmb2xsb3dpbmdcblx0XHRcdC8vIHNjZW5hcmlvOlxuXHRcdFx0Ly8gICBjb25zdCByZXVzZSA9IDxkaXYgLz5cblx0XHRcdC8vICAgPGRpdj57cmV1c2V9PHNwYW4gLz57cmV1c2V9PC9kaXY+XG5cdFx0XHRjaGlsZFZOb2RlID0gbmV3UGFyZW50Vk5vZGUuX2NoaWxkcmVuW2ldID0gY3JlYXRlVk5vZGUoXG5cdFx0XHRcdGNoaWxkVk5vZGUudHlwZSxcblx0XHRcdFx0Y2hpbGRWTm9kZS5wcm9wcyxcblx0XHRcdFx0Y2hpbGRWTm9kZS5rZXksXG5cdFx0XHRcdGNoaWxkVk5vZGUucmVmID8gY2hpbGRWTm9kZS5yZWYgOiBudWxsLFxuXHRcdFx0XHRjaGlsZFZOb2RlLl9vcmlnaW5hbFxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y2hpbGRWTm9kZSA9IG5ld1BhcmVudFZOb2RlLl9jaGlsZHJlbltpXSA9IGNoaWxkVk5vZGU7XG5cdFx0fVxuXG5cdFx0Ly8gVGVyc2VyIHJlbW92ZXMgdGhlIGBjb250aW51ZWAgaGVyZSBhbmQgd3JhcHMgdGhlIGxvb3AgYm9keVxuXHRcdC8vIGluIGEgYGlmIChjaGlsZFZOb2RlKSB7IC4uLiB9IGNvbmRpdGlvblxuXHRcdGlmIChjaGlsZFZOb2RlID09IG51bGwpIHtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNoaWxkVk5vZGUuX3BhcmVudCA9IG5ld1BhcmVudFZOb2RlO1xuXHRcdGNoaWxkVk5vZGUuX2RlcHRoID0gbmV3UGFyZW50Vk5vZGUuX2RlcHRoICsgMTtcblxuXHRcdC8vIENoZWNrIGlmIHdlIGZpbmQgYSBjb3JyZXNwb25kaW5nIGVsZW1lbnQgaW4gb2xkQ2hpbGRyZW4uXG5cdFx0Ly8gSWYgZm91bmQsIGRlbGV0ZSB0aGUgYXJyYXkgaXRlbSBieSBzZXR0aW5nIHRvIGB1bmRlZmluZWRgLlxuXHRcdC8vIFdlIHVzZSBgdW5kZWZpbmVkYCwgYXMgYG51bGxgIGlzIHJlc2VydmVkIGZvciBlbXB0eSBwbGFjZWhvbGRlcnNcblx0XHQvLyAoaG9sZXMpLlxuXHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5baV07XG5cblx0XHRpZiAoXG5cdFx0XHRvbGRWTm9kZSA9PT0gbnVsbCB8fFxuXHRcdFx0KG9sZFZOb2RlICYmXG5cdFx0XHRcdGNoaWxkVk5vZGUua2V5ID09IG9sZFZOb2RlLmtleSAmJlxuXHRcdFx0XHRjaGlsZFZOb2RlLnR5cGUgPT09IG9sZFZOb2RlLnR5cGUpXG5cdFx0KSB7XG5cdFx0XHRvbGRDaGlsZHJlbltpXSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gRWl0aGVyIG9sZFZOb2RlID09PSB1bmRlZmluZWQgb3Igb2xkQ2hpbGRyZW5MZW5ndGggPiAwLFxuXHRcdFx0Ly8gc28gYWZ0ZXIgdGhpcyBsb29wIG9sZFZOb2RlID09IG51bGwgb3Igb2xkVk5vZGUgaXMgYSB2YWxpZCB2YWx1ZS5cblx0XHRcdGZvciAoaiA9IDA7IGogPCBvbGRDaGlsZHJlbkxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdG9sZFZOb2RlID0gb2xkQ2hpbGRyZW5bal07XG5cdFx0XHRcdC8vIElmIGNoaWxkVk5vZGUgaXMgdW5rZXllZCwgd2Ugb25seSBtYXRjaCBzaW1pbGFybHkgdW5rZXllZCBub2Rlcywgb3RoZXJ3aXNlIHdlIG1hdGNoIGJ5IGtleS5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIG1hdGNoIGJ5IHR5cGUgKGluIGVpdGhlciBjYXNlKS5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdG9sZFZOb2RlICYmXG5cdFx0XHRcdFx0Y2hpbGRWTm9kZS5rZXkgPT0gb2xkVk5vZGUua2V5ICYmXG5cdFx0XHRcdFx0Y2hpbGRWTm9kZS50eXBlID09PSBvbGRWTm9kZS50eXBlXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdG9sZENoaWxkcmVuW2pdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdG9sZFZOb2RlID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRvbGRWTm9kZSA9IG9sZFZOb2RlIHx8IEVNUFRZX09CSjtcblxuXHRcdC8vIE1vcnBoIHRoZSBvbGQgZWxlbWVudCBpbnRvIHRoZSBuZXcgb25lLCBidXQgZG9uJ3QgYXBwZW5kIGl0IHRvIHRoZSBkb20geWV0XG5cdFx0ZGlmZihcblx0XHRcdHBhcmVudERvbSxcblx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRvbGRWTm9kZSxcblx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRpc1N2Zyxcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRvbGREb20sXG5cdFx0XHRpc0h5ZHJhdGluZ1xuXHRcdCk7XG5cblx0XHRuZXdEb20gPSBjaGlsZFZOb2RlLl9kb207XG5cblx0XHRpZiAoKGogPSBjaGlsZFZOb2RlLnJlZikgJiYgb2xkVk5vZGUucmVmICE9IGopIHtcblx0XHRcdGlmICghcmVmcykgcmVmcyA9IFtdO1xuXHRcdFx0aWYgKG9sZFZOb2RlLnJlZikgcmVmcy5wdXNoKG9sZFZOb2RlLnJlZiwgbnVsbCwgY2hpbGRWTm9kZSk7XG5cdFx0XHRyZWZzLnB1c2goaiwgY2hpbGRWTm9kZS5fY29tcG9uZW50IHx8IG5ld0RvbSwgY2hpbGRWTm9kZSk7XG5cdFx0fVxuXG5cdFx0aWYgKG5ld0RvbSAhPSBudWxsKSB7XG5cdFx0XHRpZiAoZmlyc3RDaGlsZERvbSA9PSBudWxsKSB7XG5cdFx0XHRcdGZpcnN0Q2hpbGREb20gPSBuZXdEb207XG5cdFx0XHR9XG5cblx0XHRcdGlmIChcblx0XHRcdFx0dHlwZW9mIGNoaWxkVk5vZGUudHlwZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0XHRcdGNoaWxkVk5vZGUuX2NoaWxkcmVuID09PSBvbGRWTm9kZS5fY2hpbGRyZW5cblx0XHRcdCkge1xuXHRcdFx0XHRjaGlsZFZOb2RlLl9uZXh0RG9tID0gb2xkRG9tID0gcmVvcmRlckNoaWxkcmVuKFxuXHRcdFx0XHRcdGNoaWxkVk5vZGUsXG5cdFx0XHRcdFx0b2xkRG9tLFxuXHRcdFx0XHRcdHBhcmVudERvbVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b2xkRG9tID0gcGxhY2VDaGlsZChcblx0XHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdFx0Y2hpbGRWTm9kZSxcblx0XHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0XHRvbGRDaGlsZHJlbixcblx0XHRcdFx0XHRuZXdEb20sXG5cdFx0XHRcdFx0b2xkRG9tXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgbmV3UGFyZW50Vk5vZGUudHlwZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdC8vIEJlY2F1c2UgdGhlIG5ld1BhcmVudFZOb2RlIGlzIEZyYWdtZW50LWxpa2UsIHdlIG5lZWQgdG8gc2V0IGl0J3Ncblx0XHRcdFx0Ly8gX25leHREb20gcHJvcGVydHkgdG8gdGhlIG5leHRTaWJsaW5nIG9mIGl0cyBsYXN0IGNoaWxkIERPTSBub2RlLlxuXHRcdFx0XHQvL1xuXHRcdFx0XHQvLyBgb2xkRG9tYCBjb250YWlucyB0aGUgY29ycmVjdCB2YWx1ZSBoZXJlIGJlY2F1c2UgaWYgdGhlIGxhc3QgY2hpbGRcblx0XHRcdFx0Ly8gaXMgYSBGcmFnbWVudC1saWtlLCB0aGVuIG9sZERvbSBoYXMgYWxyZWFkeSBiZWVuIHNldCB0byB0aGF0IGNoaWxkJ3MgX25leHREb20uXG5cdFx0XHRcdC8vIElmIHRoZSBsYXN0IGNoaWxkIGlzIGEgRE9NIFZOb2RlLCB0aGVuIG9sZERvbSB3aWxsIGJlIHNldCB0byB0aGF0IERPTVxuXHRcdFx0XHQvLyBub2RlJ3MgbmV4dFNpYmxpbmcuXG5cdFx0XHRcdG5ld1BhcmVudFZOb2RlLl9uZXh0RG9tID0gb2xkRG9tO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRvbGREb20gJiZcblx0XHRcdG9sZFZOb2RlLl9kb20gPT0gb2xkRG9tICYmXG5cdFx0XHRvbGREb20ucGFyZW50Tm9kZSAhPSBwYXJlbnREb21cblx0XHQpIHtcblx0XHRcdC8vIFRoZSBhYm92ZSBjb25kaXRpb24gaXMgdG8gaGFuZGxlIG51bGwgcGxhY2Vob2xkZXJzLiBTZWUgdGVzdCBpbiBwbGFjZWhvbGRlci50ZXN0LmpzOlxuXHRcdFx0Ly8gYGVmZmljaWVudGx5IHJlcGxhY2UgbnVsbCBwbGFjZWhvbGRlcnMgaW4gcGFyZW50IHJlcmVuZGVyc2Bcblx0XHRcdG9sZERvbSA9IGdldERvbVNpYmxpbmcob2xkVk5vZGUpO1xuXHRcdH1cblx0fVxuXG5cdG5ld1BhcmVudFZOb2RlLl9kb20gPSBmaXJzdENoaWxkRG9tO1xuXG5cdC8vIFJlbW92ZSByZW1haW5pbmcgb2xkQ2hpbGRyZW4gaWYgdGhlcmUgYXJlIGFueS5cblx0Zm9yIChpID0gb2xkQ2hpbGRyZW5MZW5ndGg7IGktLTsgKSB7XG5cdFx0aWYgKG9sZENoaWxkcmVuW2ldICE9IG51bGwpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0dHlwZW9mIG5ld1BhcmVudFZOb2RlLnR5cGUgPT0gJ2Z1bmN0aW9uJyAmJlxuXHRcdFx0XHRvbGRDaGlsZHJlbltpXS5fZG9tICE9IG51bGwgJiZcblx0XHRcdFx0b2xkQ2hpbGRyZW5baV0uX2RvbSA9PSBuZXdQYXJlbnRWTm9kZS5fbmV4dERvbVxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIElmIHRoZSBuZXdQYXJlbnRWTm9kZS5fX25leHREb20gcG9pbnRzIHRvIGEgZG9tIG5vZGUgdGhhdCBpcyBhYm91dCB0b1xuXHRcdFx0XHQvLyBiZSB1bm1vdW50ZWQsIHRoZW4gZ2V0IHRoZSBuZXh0IHNpYmxpbmcgb2YgdGhhdCB2bm9kZSBhbmQgc2V0XG5cdFx0XHRcdC8vIF9uZXh0RG9tIHRvIGl0XG5cdFx0XHRcdG5ld1BhcmVudFZOb2RlLl9uZXh0RG9tID0gZ2V0TGFzdERvbShvbGRQYXJlbnRWTm9kZSkubmV4dFNpYmxpbmc7XG5cdFx0XHR9XG5cblx0XHRcdHVubW91bnQob2xkQ2hpbGRyZW5baV0sIG9sZENoaWxkcmVuW2ldKTtcblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgcmVmcyBvbmx5IGFmdGVyIHVubW91bnRcblx0aWYgKHJlZnMpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgcmVmcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0YXBwbHlSZWYocmVmc1tpXSwgcmVmc1srK2ldLCByZWZzWysraV0pO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiByZW9yZGVyQ2hpbGRyZW4oY2hpbGRWTm9kZSwgb2xkRG9tLCBwYXJlbnREb20pIHtcblx0Ly8gTm90ZTogVk5vZGVzIGluIG5lc3RlZCBzdXNwZW5kZWQgdHJlZXMgbWF5IGJlIG1pc3NpbmcgX2NoaWxkcmVuLlxuXHRsZXQgYyA9IGNoaWxkVk5vZGUuX2NoaWxkcmVuO1xuXHRsZXQgdG1wID0gMDtcblx0Zm9yICg7IGMgJiYgdG1wIDwgYy5sZW5ndGg7IHRtcCsrKSB7XG5cdFx0bGV0IHZub2RlID0gY1t0bXBdO1xuXHRcdGlmICh2bm9kZSkge1xuXHRcdFx0Ly8gV2UgdHlwaWNhbGx5IGVudGVyIHRoaXMgY29kZSBwYXRoIG9uIHNDVSBiYWlsb3V0LCB3aGVyZSB3ZSBjb3B5XG5cdFx0XHQvLyBvbGRWTm9kZS5fY2hpbGRyZW4gdG8gbmV3Vk5vZGUuX2NoaWxkcmVuLiBJZiB0aGF0IGlzIHRoZSBjYXNlLCB3ZSBuZWVkXG5cdFx0XHQvLyB0byB1cGRhdGUgdGhlIG9sZCBjaGlsZHJlbidzIF9wYXJlbnQgcG9pbnRlciB0byBwb2ludCB0byB0aGUgbmV3Vk5vZGVcblx0XHRcdC8vIChjaGlsZFZOb2RlIGhlcmUpLlxuXHRcdFx0dm5vZGUuX3BhcmVudCA9IGNoaWxkVk5vZGU7XG5cblx0XHRcdGlmICh0eXBlb2Ygdm5vZGUudHlwZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdG9sZERvbSA9IHJlb3JkZXJDaGlsZHJlbih2bm9kZSwgb2xkRG9tLCBwYXJlbnREb20pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b2xkRG9tID0gcGxhY2VDaGlsZChwYXJlbnREb20sIHZub2RlLCB2bm9kZSwgYywgdm5vZGUuX2RvbSwgb2xkRG9tKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gb2xkRG9tO1xufVxuXG4vKipcbiAqIEZsYXR0ZW4gYW5kIGxvb3AgdGhyb3VnaCB0aGUgY2hpbGRyZW4gb2YgYSB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbmRleCcpLkNvbXBvbmVudENoaWxkcmVufSBjaGlsZHJlbiBUaGUgdW5mbGF0dGVuZWRcbiAqIGNoaWxkcmVuIG9mIGEgdmlydHVhbCBub2RlXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0NoaWxkQXJyYXkoY2hpbGRyZW4sIG91dCkge1xuXHRvdXQgPSBvdXQgfHwgW107XG5cdGlmIChjaGlsZHJlbiA9PSBudWxsIHx8IHR5cGVvZiBjaGlsZHJlbiA9PSAnYm9vbGVhbicpIHtcblx0fSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuXHRcdGNoaWxkcmVuLnNvbWUoY2hpbGQgPT4ge1xuXHRcdFx0dG9DaGlsZEFycmF5KGNoaWxkLCBvdXQpO1xuXHRcdH0pO1xuXHR9IGVsc2Uge1xuXHRcdG91dC5wdXNoKGNoaWxkcmVuKTtcblx0fVxuXHRyZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBwbGFjZUNoaWxkKFxuXHRwYXJlbnREb20sXG5cdGNoaWxkVk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRvbGRDaGlsZHJlbixcblx0bmV3RG9tLFxuXHRvbGREb21cbikge1xuXHRsZXQgbmV4dERvbTtcblx0aWYgKGNoaWxkVk5vZGUuX25leHREb20gIT09IHVuZGVmaW5lZCkge1xuXHRcdC8vIE9ubHkgRnJhZ21lbnRzIG9yIGNvbXBvbmVudHMgdGhhdCByZXR1cm4gRnJhZ21lbnQgbGlrZSBWTm9kZXMgd2lsbFxuXHRcdC8vIGhhdmUgYSBub24tdW5kZWZpbmVkIF9uZXh0RG9tLiBDb250aW51ZSB0aGUgZGlmZiBmcm9tIHRoZSBzaWJsaW5nXG5cdFx0Ly8gb2YgbGFzdCBET00gY2hpbGQgb2YgdGhpcyBjaGlsZCBWTm9kZVxuXHRcdG5leHREb20gPSBjaGlsZFZOb2RlLl9uZXh0RG9tO1xuXG5cdFx0Ly8gRWFnZXJseSBjbGVhbnVwIF9uZXh0RG9tLiBXZSBkb24ndCBuZWVkIHRvIHBlcnNpc3QgdGhlIHZhbHVlIGJlY2F1c2Vcblx0XHQvLyBpdCBpcyBvbmx5IHVzZWQgYnkgYGRpZmZDaGlsZHJlbmAgdG8gZGV0ZXJtaW5lIHdoZXJlIHRvIHJlc3VtZSB0aGUgZGlmZiBhZnRlclxuXHRcdC8vIGRpZmZpbmcgQ29tcG9uZW50cyBhbmQgRnJhZ21lbnRzLiBPbmNlIHdlIHN0b3JlIGl0IHRoZSBuZXh0RE9NIGxvY2FsIHZhciwgd2Vcblx0XHQvLyBjYW4gY2xlYW4gdXAgdGhlIHByb3BlcnR5XG5cdFx0Y2hpbGRWTm9kZS5fbmV4dERvbSA9IHVuZGVmaW5lZDtcblx0fSBlbHNlIGlmIChcblx0XHRvbGRWTm9kZSA9PSBudWxsIHx8XG5cdFx0bmV3RG9tICE9IG9sZERvbSB8fFxuXHRcdG5ld0RvbS5wYXJlbnROb2RlID09IG51bGxcblx0KSB7XG5cdFx0b3V0ZXI6IGlmIChvbGREb20gPT0gbnVsbCB8fCBvbGREb20ucGFyZW50Tm9kZSAhPT0gcGFyZW50RG9tKSB7XG5cdFx0XHRwYXJlbnREb20uYXBwZW5kQ2hpbGQobmV3RG9tKTtcblx0XHRcdG5leHREb20gPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBgajxvbGRDaGlsZHJlbkxlbmd0aDsgais9MmAgaXMgYW4gYWx0ZXJuYXRpdmUgdG8gYGorKzxvbGRDaGlsZHJlbkxlbmd0aC8yYFxuXHRcdFx0Zm9yIChcblx0XHRcdFx0bGV0IHNpYkRvbSA9IG9sZERvbSwgaiA9IDA7XG5cdFx0XHRcdChzaWJEb20gPSBzaWJEb20ubmV4dFNpYmxpbmcpICYmIGogPCBvbGRDaGlsZHJlbi5sZW5ndGg7XG5cdFx0XHRcdGogKz0gMVxuXHRcdFx0KSB7XG5cdFx0XHRcdGlmIChzaWJEb20gPT0gbmV3RG9tKSB7XG5cdFx0XHRcdFx0YnJlYWsgb3V0ZXI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHBhcmVudERvbS5pbnNlcnRCZWZvcmUobmV3RG9tLCBvbGREb20pO1xuXHRcdFx0bmV4dERvbSA9IG9sZERvbTtcblx0XHR9XG5cdH1cblxuXHQvLyBJZiB3ZSBoYXZlIHByZS1jYWxjdWxhdGVkIHRoZSBuZXh0RE9NIG5vZGUsIHVzZSBpdC4gRWxzZSBjYWxjdWxhdGUgaXQgbm93XG5cdC8vIFN0cmljdGx5IGNoZWNrIGZvciBgdW5kZWZpbmVkYCBoZXJlIGN1eiBgbnVsbGAgaXMgYSB2YWxpZCB2YWx1ZSBvZiBgbmV4dERvbWAuXG5cdC8vIFNlZSBtb3JlIGRldGFpbCBpbiBjcmVhdGUtZWxlbWVudC5qczpjcmVhdGVWTm9kZVxuXHRpZiAobmV4dERvbSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0b2xkRG9tID0gbmV4dERvbTtcblx0fSBlbHNlIHtcblx0XHRvbGREb20gPSBuZXdEb20ubmV4dFNpYmxpbmc7XG5cdH1cblxuXHRyZXR1cm4gb2xkRG9tO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICovXG5mdW5jdGlvbiBnZXRMYXN0RG9tKHZub2RlKSB7XG5cdGlmICh2bm9kZS50eXBlID09IG51bGwgfHwgdHlwZW9mIHZub2RlLnR5cGUgPT09ICdzdHJpbmcnKSB7XG5cdFx0cmV0dXJuIHZub2RlLl9kb207XG5cdH1cblxuXHRpZiAodm5vZGUuX2NoaWxkcmVuKSB7XG5cdFx0Zm9yIChsZXQgaSA9IHZub2RlLl9jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0bGV0IGNoaWxkID0gdm5vZGUuX2NoaWxkcmVuW2ldO1xuXHRcdFx0aWYgKGNoaWxkKSB7XG5cdFx0XHRcdGxldCBsYXN0RG9tID0gZ2V0TGFzdERvbShjaGlsZCk7XG5cdFx0XHRcdGlmIChsYXN0RG9tKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGxhc3REb207XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn1cbiIsImltcG9ydCB7IEVNUFRZX09CSiB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb21wb25lbnQsIGdldERvbVNpYmxpbmcgfSBmcm9tICcuLi9jb21wb25lbnQnO1xuaW1wb3J0IHsgRnJhZ21lbnQgfSBmcm9tICcuLi9jcmVhdGUtZWxlbWVudCc7XG5pbXBvcnQgeyBkaWZmQ2hpbGRyZW4gfSBmcm9tICcuL2NoaWxkcmVuJztcbmltcG9ydCB7IGRpZmZQcm9wcywgc2V0UHJvcGVydHkgfSBmcm9tICcuL3Byb3BzJztcbmltcG9ydCB7IGFzc2lnbiwgcmVtb3ZlTm9kZSwgc2xpY2UgfSBmcm9tICcuLi91dGlsJztcbmltcG9ydCBvcHRpb25zIGZyb20gJy4uL29wdGlvbnMnO1xuXG4vKipcbiAqIERpZmYgdHdvIHZpcnR1YWwgbm9kZXMgYW5kIGFwcGx5IHByb3BlciBjaGFuZ2VzIHRvIHRoZSBET01cbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgcGFyZW50IG9mIHRoZSBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG5ld1ZOb2RlIFRoZSBuZXcgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gb2xkVk5vZGUgVGhlIG9sZCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBnbG9iYWxDb250ZXh0IFRoZSBjdXJyZW50IGNvbnRleHQgb2JqZWN0LiBNb2RpZmllZCBieSBnZXRDaGlsZENvbnRleHRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdmcgV2hldGhlciBvciBub3QgdGhpcyBlbGVtZW50IGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50Pn0gZXhjZXNzRG9tQ2hpbGRyZW5cbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59IGNvbW1pdFF1ZXVlIExpc3Qgb2YgY29tcG9uZW50c1xuICogd2hpY2ggaGF2ZSBjYWxsYmFja3MgdG8gaW52b2tlIGluIGNvbW1pdFJvb3RcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IG9sZERvbSBUaGUgY3VycmVudCBhdHRhY2hlZCBET01cbiAqIGVsZW1lbnQgYW55IG5ldyBkb20gZWxlbWVudHMgc2hvdWxkIGJlIHBsYWNlZCBhcm91bmQuIExpa2VseSBgbnVsbGAgb24gZmlyc3RcbiAqIHJlbmRlciAoZXhjZXB0IHdoZW4gaHlkcmF0aW5nKS4gQ2FuIGJlIGEgc2libGluZyBET00gZWxlbWVudCB3aGVuIGRpZmZpbmdcbiAqIEZyYWdtZW50cyB0aGF0IGhhdmUgc2libGluZ3MuIEluIG1vc3QgY2FzZXMsIGl0IHN0YXJ0cyBvdXQgYXMgYG9sZENoaWxkcmVuWzBdLl9kb21gLlxuICogQHBhcmFtIHtib29sZWFufSBbaXNIeWRyYXRpbmddIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpZmYoXG5cdHBhcmVudERvbSxcblx0bmV3Vk5vZGUsXG5cdG9sZFZOb2RlLFxuXHRnbG9iYWxDb250ZXh0LFxuXHRpc1N2Zyxcblx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdGNvbW1pdFF1ZXVlLFxuXHRvbGREb20sXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IHRtcCxcblx0XHRuZXdUeXBlID0gbmV3Vk5vZGUudHlwZTtcblxuXHQvLyBXaGVuIHBhc3NpbmcgdGhyb3VnaCBjcmVhdGVFbGVtZW50IGl0IGFzc2lnbnMgdGhlIG9iamVjdFxuXHQvLyBjb25zdHJ1Y3RvciBhcyB1bmRlZmluZWQuIFRoaXMgdG8gcHJldmVudCBKU09OLWluamVjdGlvbi5cblx0aWYgKG5ld1ZOb2RlLmNvbnN0cnVjdG9yICE9PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuXG5cdC8vIElmIHRoZSBwcmV2aW91cyBkaWZmIGJhaWxlZCBvdXQsIHJlc3VtZSBjcmVhdGluZy9oeWRyYXRpbmcuXG5cdGlmIChvbGRWTm9kZS5faHlkcmF0aW5nICE9IG51bGwpIHtcblx0XHRpc0h5ZHJhdGluZyA9IG9sZFZOb2RlLl9oeWRyYXRpbmc7XG5cdFx0b2xkRG9tID0gbmV3Vk5vZGUuX2RvbSA9IG9sZFZOb2RlLl9kb207XG5cdFx0Ly8gaWYgd2UgcmVzdW1lLCB3ZSB3YW50IHRoZSB0cmVlIHRvIGJlIFwidW5sb2NrZWRcIlxuXHRcdG5ld1ZOb2RlLl9oeWRyYXRpbmcgPSBudWxsO1xuXHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gW29sZERvbV07XG5cdH1cblxuXHRpZiAoKHRtcCA9IG9wdGlvbnMuX2RpZmYpKSB0bXAobmV3Vk5vZGUpO1xuXG5cdHRyeSB7XG5cdFx0b3V0ZXI6IGlmICh0eXBlb2YgbmV3VHlwZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRsZXQgYywgaXNOZXcsIG9sZFByb3BzLCBvbGRTdGF0ZSwgc25hcHNob3QsIGNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbjtcblx0XHRcdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXG5cdFx0XHQvLyBOZWNlc3NhcnkgZm9yIGNyZWF0ZUNvbnRleHQgYXBpLiBTZXR0aW5nIHRoaXMgcHJvcGVydHkgd2lsbCBwYXNzXG5cdFx0XHQvLyB0aGUgY29udGV4dCB2YWx1ZSBhcyBgdGhpcy5jb250ZXh0YCBqdXN0IGZvciB0aGlzIGNvbXBvbmVudC5cblx0XHRcdHRtcCA9IG5ld1R5cGUuY29udGV4dFR5cGU7XG5cdFx0XHRsZXQgcHJvdmlkZXIgPSB0bXAgJiYgZ2xvYmFsQ29udGV4dFt0bXAuX2lkXTtcblx0XHRcdGxldCBjb21wb25lbnRDb250ZXh0ID0gdG1wXG5cdFx0XHRcdD8gcHJvdmlkZXJcblx0XHRcdFx0XHQ/IHByb3ZpZGVyLnByb3BzLnZhbHVlXG5cdFx0XHRcdFx0OiB0bXAuX2RlZmF1bHRWYWx1ZVxuXHRcdFx0XHQ6IGdsb2JhbENvbnRleHQ7XG5cblx0XHRcdC8vIEdldCBjb21wb25lbnQgYW5kIHNldCBpdCB0byBgY2Bcblx0XHRcdGlmIChvbGRWTm9kZS5fY29tcG9uZW50KSB7XG5cdFx0XHRcdGMgPSBuZXdWTm9kZS5fY29tcG9uZW50ID0gb2xkVk5vZGUuX2NvbXBvbmVudDtcblx0XHRcdFx0Y2xlYXJQcm9jZXNzaW5nRXhjZXB0aW9uID0gYy5fcHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IGMuX3BlbmRpbmdFcnJvcjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEluc3RhbnRpYXRlIHRoZSBuZXcgY29tcG9uZW50XG5cdFx0XHRcdGlmICgncHJvdG90eXBlJyBpbiBuZXdUeXBlICYmIG5ld1R5cGUucHJvdG90eXBlLnJlbmRlcikge1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmUgVGhlIGNoZWNrIGFib3ZlIHZlcmlmaWVzIHRoYXQgbmV3VHlwZSBpcyBzdXBwb3NlIHRvIGJlIGNvbnN0cnVjdGVkXG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NvbXBvbmVudCA9IGMgPSBuZXcgbmV3VHlwZShuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbmV3LWNhcFxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIEB0cy1pZ25vcmUgVHJ1c3QgbWUsIENvbXBvbmVudCBpbXBsZW1lbnRzIHRoZSBpbnRlcmZhY2Ugd2Ugd2FudFxuXHRcdFx0XHRcdG5ld1ZOb2RlLl9jb21wb25lbnQgPSBjID0gbmV3IENvbXBvbmVudChuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7XG5cdFx0XHRcdFx0Yy5jb25zdHJ1Y3RvciA9IG5ld1R5cGU7XG5cdFx0XHRcdFx0Yy5yZW5kZXIgPSBkb1JlbmRlcjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocHJvdmlkZXIpIHByb3ZpZGVyLnN1YihjKTtcblxuXHRcdFx0XHRjLnByb3BzID0gbmV3UHJvcHM7XG5cdFx0XHRcdGlmICghYy5zdGF0ZSkgYy5zdGF0ZSA9IHt9O1xuXHRcdFx0XHRjLmNvbnRleHQgPSBjb21wb25lbnRDb250ZXh0O1xuXHRcdFx0XHRjLl9nbG9iYWxDb250ZXh0ID0gZ2xvYmFsQ29udGV4dDtcblx0XHRcdFx0aXNOZXcgPSBjLl9kaXJ0eSA9IHRydWU7XG5cdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0XHRjLl9zdGF0ZUNhbGxiYWNrcyA9IFtdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbnZva2UgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXG5cdFx0XHRpZiAoYy5fbmV4dFN0YXRlID09IG51bGwpIHtcblx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYy5zdGF0ZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5ld1R5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9IG51bGwpIHtcblx0XHRcdFx0aWYgKGMuX25leHRTdGF0ZSA9PSBjLnN0YXRlKSB7XG5cdFx0XHRcdFx0Yy5fbmV4dFN0YXRlID0gYXNzaWduKHt9LCBjLl9uZXh0U3RhdGUpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXNzaWduKFxuXHRcdFx0XHRcdGMuX25leHRTdGF0ZSxcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wcywgYy5fbmV4dFN0YXRlKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRvbGRQcm9wcyA9IGMucHJvcHM7XG5cdFx0XHRvbGRTdGF0ZSA9IGMuc3RhdGU7XG5cdFx0XHRjLl92bm9kZSA9IG5ld1ZOb2RlO1xuXG5cdFx0XHQvLyBJbnZva2UgcHJlLXJlbmRlciBsaWZlY3ljbGUgbWV0aG9kc1xuXHRcdFx0aWYgKGlzTmV3KSB7XG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHRuZXdUeXBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9PSBudWxsICYmXG5cdFx0XHRcdFx0Yy5jb21wb25lbnRXaWxsTW91bnQgIT0gbnVsbFxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRjLmNvbXBvbmVudFdpbGxNb3VudCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGMuY29tcG9uZW50RGlkTW91bnQgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuX3JlbmRlckNhbGxiYWNrcy5wdXNoKGMuY29tcG9uZW50RGlkTW91bnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0bmV3VHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT0gbnVsbCAmJlxuXHRcdFx0XHRcdG5ld1Byb3BzICE9PSBvbGRQcm9wcyAmJlxuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAhPSBudWxsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgY29tcG9uZW50Q29udGV4dCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0KCFjLl9mb3JjZSAmJlxuXHRcdFx0XHRcdFx0Yy5zaG91bGRDb21wb25lbnRVcGRhdGUgIT0gbnVsbCAmJlxuXHRcdFx0XHRcdFx0Yy5zaG91bGRDb21wb25lbnRVcGRhdGUoXG5cdFx0XHRcdFx0XHRcdG5ld1Byb3BzLFxuXHRcdFx0XHRcdFx0XHRjLl9uZXh0U3RhdGUsXG5cdFx0XHRcdFx0XHRcdGNvbXBvbmVudENvbnRleHRcblx0XHRcdFx0XHRcdCkgPT09IGZhbHNlKSB8fFxuXHRcdFx0XHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9PT0gb2xkVk5vZGUuX29yaWdpbmFsXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdC8vIE1vcmUgaW5mbyBhYm91dCB0aGlzIGhlcmU6IGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL0pvdmlEZUNyb29jay9iZWM1ZjJjZTkzNTQ0ZDJlNjA3MGVmOGUwMDM2ZTRlOFxuXHRcdFx0XHRcdGlmIChuZXdWTm9kZS5fb3JpZ2luYWwgIT09IG9sZFZOb2RlLl9vcmlnaW5hbCkge1xuXHRcdFx0XHRcdFx0Ly8gV2hlbiB3ZSBhcmUgZGVhbGluZyB3aXRoIGEgYmFpbCBiZWNhdXNlIG9mIHNDVSB3ZSBoYXZlIHRvIHVwZGF0ZVxuXHRcdFx0XHRcdFx0Ly8gdGhlIHByb3BzLCBzdGF0ZSBhbmQgZGlydHktc3RhdGUuXG5cdFx0XHRcdFx0XHQvLyB3aGVuIHdlIGFyZSBkZWFsaW5nIHdpdGggc3RyaWN0LWVxdWFsaXR5IHdlIGRvbid0IGFzIHRoZSBjaGlsZCBjb3VsZCBzdGlsbFxuXHRcdFx0XHRcdFx0Ly8gYmUgZGlydGllZCBzZWUgIzM4ODNcblx0XHRcdFx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdFx0XHRcdGMuc3RhdGUgPSBjLl9uZXh0U3RhdGU7XG5cdFx0XHRcdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBvbGRWTm9kZS5fY2hpbGRyZW47XG5cdFx0XHRcdFx0bmV3Vk5vZGUuX2NoaWxkcmVuLmZvckVhY2godm5vZGUgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHZub2RlKSB2bm9kZS5fcGFyZW50ID0gbmV3Vk5vZGU7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGMuX3N0YXRlQ2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MucHVzaChjLl9zdGF0ZUNhbGxiYWNrc1tpXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGMuX3N0YXRlQ2FsbGJhY2tzID0gW107XG5cblx0XHRcdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y29tbWl0UXVldWUucHVzaChjKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhayBvdXRlcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudFdpbGxVcGRhdGUgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGMuY29tcG9uZW50V2lsbFVwZGF0ZShuZXdQcm9wcywgYy5fbmV4dFN0YXRlLCBjb21wb25lbnRDb250ZXh0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChjLmNvbXBvbmVudERpZFVwZGF0ZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Yy5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goKCkgPT4ge1xuXHRcdFx0XHRcdFx0Yy5jb21wb25lbnREaWRVcGRhdGUob2xkUHJvcHMsIG9sZFN0YXRlLCBzbmFwc2hvdCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Yy5jb250ZXh0ID0gY29tcG9uZW50Q29udGV4dDtcblx0XHRcdGMucHJvcHMgPSBuZXdQcm9wcztcblx0XHRcdGMuX3BhcmVudERvbSA9IHBhcmVudERvbTtcblxuXHRcdFx0bGV0IHJlbmRlckhvb2sgPSBvcHRpb25zLl9yZW5kZXIsXG5cdFx0XHRcdGNvdW50ID0gMDtcblx0XHRcdGlmICgncHJvdG90eXBlJyBpbiBuZXdUeXBlICYmIG5ld1R5cGUucHJvdG90eXBlLnJlbmRlcikge1xuXHRcdFx0XHRjLnN0YXRlID0gYy5fbmV4dFN0YXRlO1xuXHRcdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXG5cdFx0XHRcdGlmIChyZW5kZXJIb29rKSByZW5kZXJIb29rKG5ld1ZOb2RlKTtcblxuXHRcdFx0XHR0bXAgPSBjLnJlbmRlcihjLnByb3BzLCBjLnN0YXRlLCBjLmNvbnRleHQpO1xuXG5cdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgYy5fc3RhdGVDYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MucHVzaChjLl9zdGF0ZUNhbGxiYWNrc1tpXSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Yy5fc3RhdGVDYWxsYmFja3MgPSBbXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRvIHtcblx0XHRcdFx0XHRjLl9kaXJ0eSA9IGZhbHNlO1xuXHRcdFx0XHRcdGlmIChyZW5kZXJIb29rKSByZW5kZXJIb29rKG5ld1ZOb2RlKTtcblxuXHRcdFx0XHRcdHRtcCA9IGMucmVuZGVyKGMucHJvcHMsIGMuc3RhdGUsIGMuY29udGV4dCk7XG5cblx0XHRcdFx0XHQvLyBIYW5kbGUgc2V0U3RhdGUgY2FsbGVkIGluIHJlbmRlciwgc2VlICMyNTUzXG5cdFx0XHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblx0XHRcdFx0fSB3aGlsZSAoYy5fZGlydHkgJiYgKytjb3VudCA8IDI1KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSGFuZGxlIHNldFN0YXRlIGNhbGxlZCBpbiByZW5kZXIsIHNlZSAjMjU1M1xuXHRcdFx0Yy5zdGF0ZSA9IGMuX25leHRTdGF0ZTtcblxuXHRcdFx0aWYgKGMuZ2V0Q2hpbGRDb250ZXh0ICE9IG51bGwpIHtcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCA9IGFzc2lnbihhc3NpZ24oe30sIGdsb2JhbENvbnRleHQpLCBjLmdldENoaWxkQ29udGV4dCgpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFpc05ldyAmJiBjLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICE9IG51bGwpIHtcblx0XHRcdFx0c25hcHNob3QgPSBjLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKG9sZFByb3BzLCBvbGRTdGF0ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBpc1RvcExldmVsRnJhZ21lbnQgPVxuXHRcdFx0XHR0bXAgIT0gbnVsbCAmJiB0bXAudHlwZSA9PT0gRnJhZ21lbnQgJiYgdG1wLmtleSA9PSBudWxsO1xuXHRcdFx0bGV0IHJlbmRlclJlc3VsdCA9IGlzVG9wTGV2ZWxGcmFnbWVudCA/IHRtcC5wcm9wcy5jaGlsZHJlbiA6IHRtcDtcblxuXHRcdFx0ZGlmZkNoaWxkcmVuKFxuXHRcdFx0XHRwYXJlbnREb20sXG5cdFx0XHRcdEFycmF5LmlzQXJyYXkocmVuZGVyUmVzdWx0KSA/IHJlbmRlclJlc3VsdCA6IFtyZW5kZXJSZXN1bHRdLFxuXHRcdFx0XHRuZXdWTm9kZSxcblx0XHRcdFx0b2xkVk5vZGUsXG5cdFx0XHRcdGdsb2JhbENvbnRleHQsXG5cdFx0XHRcdGlzU3ZnLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlbixcblx0XHRcdFx0Y29tbWl0UXVldWUsXG5cdFx0XHRcdG9sZERvbSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cblx0XHRcdGMuYmFzZSA9IG5ld1ZOb2RlLl9kb207XG5cblx0XHRcdC8vIFdlIHN1Y2Nlc3NmdWxseSByZW5kZXJlZCB0aGlzIFZOb2RlLCB1bnNldCBhbnkgc3RvcmVkIGh5ZHJhdGlvbi9iYWlsb3V0IHN0YXRlOlxuXHRcdFx0bmV3Vk5vZGUuX2h5ZHJhdGluZyA9IG51bGw7XG5cblx0XHRcdGlmIChjLl9yZW5kZXJDYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0XHRcdGNvbW1pdFF1ZXVlLnB1c2goYyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjbGVhclByb2Nlc3NpbmdFeGNlcHRpb24pIHtcblx0XHRcdFx0Yy5fcGVuZGluZ0Vycm9yID0gYy5fcHJvY2Vzc2luZ0V4Y2VwdGlvbiA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGMuX2ZvcmNlID0gZmFsc2U7XG5cdFx0fSBlbHNlIGlmIChcblx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID09IG51bGwgJiZcblx0XHRcdG5ld1ZOb2RlLl9vcmlnaW5hbCA9PT0gb2xkVk5vZGUuX29yaWdpbmFsXG5cdFx0KSB7XG5cdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBvbGRWTm9kZS5fY2hpbGRyZW47XG5cdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bmV3Vk5vZGUuX2RvbSA9IGRpZmZFbGVtZW50Tm9kZXMoXG5cdFx0XHRcdG9sZFZOb2RlLl9kb20sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0aXNTdmcsXG5cdFx0XHRcdGV4Y2Vzc0RvbUNoaWxkcmVuLFxuXHRcdFx0XHRjb21taXRRdWV1ZSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKCh0bXAgPSBvcHRpb25zLmRpZmZlZCkpIHRtcChuZXdWTm9kZSk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRuZXdWTm9kZS5fb3JpZ2luYWwgPSBudWxsO1xuXHRcdC8vIGlmIGh5ZHJhdGluZyBvciBjcmVhdGluZyBpbml0aWFsIHRyZWUsIGJhaWxvdXQgcHJlc2VydmVzIERPTTpcblx0XHRpZiAoaXNIeWRyYXRpbmcgfHwgZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0bmV3Vk5vZGUuX2RvbSA9IG9sZERvbTtcblx0XHRcdG5ld1ZOb2RlLl9oeWRyYXRpbmcgPSAhIWlzSHlkcmF0aW5nO1xuXHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5bZXhjZXNzRG9tQ2hpbGRyZW4uaW5kZXhPZihvbGREb20pXSA9IG51bGw7XG5cdFx0XHQvLyBeIGNvdWxkIHBvc3NpYmx5IGJlIHNpbXBsaWZpZWQgdG86XG5cdFx0XHQvLyBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGggPSAwO1xuXHRcdH1cblx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIG5ld1ZOb2RlLCBvbGRWTm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gcm9vdFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWl0Um9vdChjb21taXRRdWV1ZSwgcm9vdCkge1xuXHRpZiAob3B0aW9ucy5fY29tbWl0KSBvcHRpb25zLl9jb21taXQocm9vdCwgY29tbWl0UXVldWUpO1xuXG5cdGNvbW1pdFF1ZXVlLnNvbWUoYyA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgUmV1c2UgdGhlIGNvbW1pdFF1ZXVlIHZhcmlhYmxlIGhlcmUgc28gdGhlIHR5cGUgY2hhbmdlc1xuXHRcdFx0Y29tbWl0UXVldWUgPSBjLl9yZW5kZXJDYWxsYmFja3M7XG5cdFx0XHRjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGNvbW1pdFF1ZXVlLnNvbWUoY2IgPT4ge1xuXHRcdFx0XHQvLyBAdHMtaWdub3JlIFNlZSBhYm92ZSB0cy1pZ25vcmUgb24gY29tbWl0UXVldWVcblx0XHRcdFx0Y2IuY2FsbChjKTtcblx0XHRcdH0pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgYy5fdm5vZGUpO1xuXHRcdH1cblx0fSk7XG59XG5cbi8qKlxuICogRGlmZiB0d28gdmlydHVhbCBub2RlcyByZXByZXNlbnRpbmcgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IGRvbSBUaGUgRE9NIGVsZW1lbnQgcmVwcmVzZW50aW5nXG4gKiB0aGUgdmlydHVhbCBub2RlcyBiZWluZyBkaWZmZWRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBuZXdWTm9kZSBUaGUgbmV3IHZpcnR1YWwgbm9kZVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IG9sZFZOb2RlIFRoZSBvbGQgdmlydHVhbCBub2RlXG4gKiBAcGFyYW0ge29iamVjdH0gZ2xvYmFsQ29udGV4dCBUaGUgY3VycmVudCBjb250ZXh0IG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBpc1N2ZyBXaGV0aGVyIG9yIG5vdCB0aGlzIERPTSBub2RlIGlzIGFuIFNWRyBub2RlXG4gKiBAcGFyYW0geyp9IGV4Y2Vzc0RvbUNoaWxkcmVuXG4gKiBAcGFyYW0ge0FycmF5PGltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnQ+fSBjb21taXRRdWV1ZSBMaXN0IG9mIGNvbXBvbmVudHNcbiAqIHdoaWNoIGhhdmUgY2FsbGJhY2tzIHRvIGludm9rZSBpbiBjb21taXRSb290XG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzSHlkcmF0aW5nIFdoZXRoZXIgb3Igbm90IHdlIGFyZSBpbiBoeWRyYXRpb25cbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4uL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH1cbiAqL1xuZnVuY3Rpb24gZGlmZkVsZW1lbnROb2Rlcyhcblx0ZG9tLFxuXHRuZXdWTm9kZSxcblx0b2xkVk5vZGUsXG5cdGdsb2JhbENvbnRleHQsXG5cdGlzU3ZnLFxuXHRleGNlc3NEb21DaGlsZHJlbixcblx0Y29tbWl0UXVldWUsXG5cdGlzSHlkcmF0aW5nXG4pIHtcblx0bGV0IG9sZFByb3BzID0gb2xkVk5vZGUucHJvcHM7XG5cdGxldCBuZXdQcm9wcyA9IG5ld1ZOb2RlLnByb3BzO1xuXHRsZXQgbm9kZVR5cGUgPSBuZXdWTm9kZS50eXBlO1xuXHRsZXQgaSA9IDA7XG5cblx0Ly8gVHJhY2tzIGVudGVyaW5nIGFuZCBleGl0aW5nIFNWRyBuYW1lc3BhY2Ugd2hlbiBkZXNjZW5kaW5nIHRocm91Z2ggdGhlIHRyZWUuXG5cdGlmIChub2RlVHlwZSA9PT0gJ3N2ZycpIGlzU3ZnID0gdHJ1ZTtcblxuXHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdGZvciAoOyBpIDwgZXhjZXNzRG9tQ2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IGNoaWxkID0gZXhjZXNzRG9tQ2hpbGRyZW5baV07XG5cblx0XHRcdC8vIGlmIG5ld1ZOb2RlIG1hdGNoZXMgYW4gZWxlbWVudCBpbiBleGNlc3NEb21DaGlsZHJlbiBvciB0aGUgYGRvbWBcblx0XHRcdC8vIGFyZ3VtZW50IG1hdGNoZXMgYW4gZWxlbWVudCBpbiBleGNlc3NEb21DaGlsZHJlbiwgcmVtb3ZlIGl0IGZyb21cblx0XHRcdC8vIGV4Y2Vzc0RvbUNoaWxkcmVuIHNvIGl0IGlzbid0IGxhdGVyIHJlbW92ZWQgaW4gZGlmZkNoaWxkcmVuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdGNoaWxkICYmXG5cdFx0XHRcdCdzZXRBdHRyaWJ1dGUnIGluIGNoaWxkID09PSAhIW5vZGVUeXBlICYmXG5cdFx0XHRcdChub2RlVHlwZSA/IGNoaWxkLmxvY2FsTmFtZSA9PT0gbm9kZVR5cGUgOiBjaGlsZC5ub2RlVHlwZSA9PT0gMylcblx0XHRcdCkge1xuXHRcdFx0XHRkb20gPSBjaGlsZDtcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW5baV0gPSBudWxsO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoZG9tID09IG51bGwpIHtcblx0XHRpZiAobm9kZVR5cGUgPT09IG51bGwpIHtcblx0XHRcdC8vIEB0cy1pZ25vcmUgY3JlYXRlVGV4dE5vZGUgcmV0dXJucyBUZXh0LCB3ZSBleHBlY3QgUHJlYWN0RWxlbWVudFxuXHRcdFx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG5ld1Byb3BzKTtcblx0XHR9XG5cblx0XHRpZiAoaXNTdmcpIHtcblx0XHRcdGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcblx0XHRcdFx0J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZSBXZSBrbm93IGBuZXdWTm9kZS50eXBlYCBpcyBhIHN0cmluZ1xuXHRcdFx0XHRub2RlVHlwZVxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcblx0XHRcdFx0Ly8gQHRzLWlnbm9yZSBXZSBrbm93IGBuZXdWTm9kZS50eXBlYCBpcyBhIHN0cmluZ1xuXHRcdFx0XHRub2RlVHlwZSxcblx0XHRcdFx0bmV3UHJvcHMuaXMgJiYgbmV3UHJvcHNcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gd2UgY3JlYXRlZCBhIG5ldyBwYXJlbnQsIHNvIG5vbmUgb2YgdGhlIHByZXZpb3VzbHkgYXR0YWNoZWQgY2hpbGRyZW4gY2FuIGJlIHJldXNlZDpcblx0XHRleGNlc3NEb21DaGlsZHJlbiA9IG51bGw7XG5cdFx0Ly8gd2UgYXJlIGNyZWF0aW5nIGEgbmV3IG5vZGUsIHNvIHdlIGNhbiBhc3N1bWUgdGhpcyBpcyBhIG5ldyBzdWJ0cmVlIChpbiBjYXNlIHdlIGFyZSBoeWRyYXRpbmcpLCB0aGlzIGRlb3B0cyB0aGUgaHlkcmF0ZVxuXHRcdGlzSHlkcmF0aW5nID0gZmFsc2U7XG5cdH1cblxuXHRpZiAobm9kZVR5cGUgPT09IG51bGwpIHtcblx0XHQvLyBEdXJpbmcgaHlkcmF0aW9uLCB3ZSBzdGlsbCBoYXZlIHRvIHNwbGl0IG1lcmdlZCB0ZXh0IGZyb20gU1NSJ2QgSFRNTC5cblx0XHRpZiAob2xkUHJvcHMgIT09IG5ld1Byb3BzICYmICghaXNIeWRyYXRpbmcgfHwgZG9tLmRhdGEgIT09IG5ld1Byb3BzKSkge1xuXHRcdFx0ZG9tLmRhdGEgPSBuZXdQcm9wcztcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gSWYgZXhjZXNzRG9tQ2hpbGRyZW4gd2FzIG5vdCBudWxsLCByZXBvcHVsYXRlIGl0IHdpdGggdGhlIGN1cnJlbnQgZWxlbWVudCdzIGNoaWxkcmVuOlxuXHRcdGV4Y2Vzc0RvbUNoaWxkcmVuID0gZXhjZXNzRG9tQ2hpbGRyZW4gJiYgc2xpY2UuY2FsbChkb20uY2hpbGROb2Rlcyk7XG5cblx0XHRvbGRQcm9wcyA9IG9sZFZOb2RlLnByb3BzIHx8IEVNUFRZX09CSjtcblxuXHRcdGxldCBvbGRIdG1sID0gb2xkUHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw7XG5cdFx0bGV0IG5ld0h0bWwgPSBuZXdQcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTDtcblxuXHRcdC8vIER1cmluZyBoeWRyYXRpb24sIHByb3BzIGFyZSBub3QgZGlmZmVkIGF0IGFsbCAoaW5jbHVkaW5nIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKVxuXHRcdC8vIEBUT0RPIHdlIHNob3VsZCB3YXJuIGluIGRlYnVnIG1vZGUgd2hlbiBwcm9wcyBkb24ndCBtYXRjaCBoZXJlLlxuXHRcdGlmICghaXNIeWRyYXRpbmcpIHtcblx0XHRcdC8vIEJ1dCwgaWYgd2UgYXJlIGluIGEgc2l0dWF0aW9uIHdoZXJlIHdlIGFyZSB1c2luZyBleGlzdGluZyBET00gKGUuZy4gcmVwbGFjZU5vZGUpXG5cdFx0XHQvLyB3ZSBzaG91bGQgcmVhZCB0aGUgZXhpc3RpbmcgRE9NIGF0dHJpYnV0ZXMgdG8gZGlmZiB0aGVtXG5cdFx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0XHRvbGRQcm9wcyA9IHt9O1xuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgZG9tLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRvbGRQcm9wc1tkb20uYXR0cmlidXRlc1tpXS5uYW1lXSA9IGRvbS5hdHRyaWJ1dGVzW2ldLnZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChuZXdIdG1sIHx8IG9sZEh0bWwpIHtcblx0XHRcdFx0Ly8gQXZvaWQgcmUtYXBwbHlpbmcgdGhlIHNhbWUgJ19faHRtbCcgaWYgaXQgZGlkIG5vdCBjaGFuZ2VkIGJldHdlZW4gcmUtcmVuZGVyXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHQhbmV3SHRtbCB8fFxuXHRcdFx0XHRcdCgoIW9sZEh0bWwgfHwgbmV3SHRtbC5fX2h0bWwgIT0gb2xkSHRtbC5fX2h0bWwpICYmXG5cdFx0XHRcdFx0XHRuZXdIdG1sLl9faHRtbCAhPT0gZG9tLmlubmVySFRNTClcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0ZG9tLmlubmVySFRNTCA9IChuZXdIdG1sICYmIG5ld0h0bWwuX19odG1sKSB8fCAnJztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRpZmZQcm9wcyhkb20sIG5ld1Byb3BzLCBvbGRQcm9wcywgaXNTdmcsIGlzSHlkcmF0aW5nKTtcblxuXHRcdC8vIElmIHRoZSBuZXcgdm5vZGUgZGlkbid0IGhhdmUgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwsIGRpZmYgaXRzIGNoaWxkcmVuXG5cdFx0aWYgKG5ld0h0bWwpIHtcblx0XHRcdG5ld1ZOb2RlLl9jaGlsZHJlbiA9IFtdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpID0gbmV3Vk5vZGUucHJvcHMuY2hpbGRyZW47XG5cdFx0XHRkaWZmQ2hpbGRyZW4oXG5cdFx0XHRcdGRvbSxcblx0XHRcdFx0QXJyYXkuaXNBcnJheShpKSA/IGkgOiBbaV0sXG5cdFx0XHRcdG5ld1ZOb2RlLFxuXHRcdFx0XHRvbGRWTm9kZSxcblx0XHRcdFx0Z2xvYmFsQ29udGV4dCxcblx0XHRcdFx0aXNTdmcgJiYgbm9kZVR5cGUgIT09ICdmb3JlaWduT2JqZWN0Jyxcblx0XHRcdFx0ZXhjZXNzRG9tQ2hpbGRyZW4sXG5cdFx0XHRcdGNvbW1pdFF1ZXVlLFxuXHRcdFx0XHRleGNlc3NEb21DaGlsZHJlblxuXHRcdFx0XHRcdD8gZXhjZXNzRG9tQ2hpbGRyZW5bMF1cblx0XHRcdFx0XHQ6IG9sZFZOb2RlLl9jaGlsZHJlbiAmJiBnZXREb21TaWJsaW5nKG9sZFZOb2RlLCAwKSxcblx0XHRcdFx0aXNIeWRyYXRpbmdcblx0XHRcdCk7XG5cblx0XHRcdC8vIFJlbW92ZSBjaGlsZHJlbiB0aGF0IGFyZSBub3QgcGFydCBvZiBhbnkgdm5vZGUuXG5cdFx0XHRpZiAoZXhjZXNzRG9tQ2hpbGRyZW4gIT0gbnVsbCkge1xuXHRcdFx0XHRmb3IgKGkgPSBleGNlc3NEb21DaGlsZHJlbi5sZW5ndGg7IGktLTsgKSB7XG5cdFx0XHRcdFx0aWYgKGV4Y2Vzc0RvbUNoaWxkcmVuW2ldICE9IG51bGwpIHJlbW92ZU5vZGUoZXhjZXNzRG9tQ2hpbGRyZW5baV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gKGFzIGFib3ZlLCBkb24ndCBkaWZmIHByb3BzIGR1cmluZyBoeWRyYXRpb24pXG5cdFx0aWYgKCFpc0h5ZHJhdGluZykge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHQndmFsdWUnIGluIG5ld1Byb3BzICYmXG5cdFx0XHRcdChpID0gbmV3UHJvcHMudmFsdWUpICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0Ly8gIzI3NTYgRm9yIHRoZSA8cHJvZ3Jlc3M+LWVsZW1lbnQgdGhlIGluaXRpYWwgdmFsdWUgaXMgMCxcblx0XHRcdFx0Ly8gZGVzcGl0ZSB0aGUgYXR0cmlidXRlIG5vdCBiZWluZyBwcmVzZW50LiBXaGVuIHRoZSBhdHRyaWJ1dGVcblx0XHRcdFx0Ly8gaXMgbWlzc2luZyB0aGUgcHJvZ3Jlc3MgYmFyIGlzIHRyZWF0ZWQgYXMgaW5kZXRlcm1pbmF0ZS5cblx0XHRcdFx0Ly8gVG8gZml4IHRoYXQgd2UnbGwgYWx3YXlzIHVwZGF0ZSBpdCB3aGVuIGl0IGlzIDAgZm9yIHByb2dyZXNzIGVsZW1lbnRzXG5cdFx0XHRcdChpICE9PSBkb20udmFsdWUgfHxcblx0XHRcdFx0XHQobm9kZVR5cGUgPT09ICdwcm9ncmVzcycgJiYgIWkpIHx8XG5cdFx0XHRcdFx0Ly8gVGhpcyBpcyBvbmx5IGZvciBJRSAxMSB0byBmaXggPHNlbGVjdD4gdmFsdWUgbm90IGJlaW5nIHVwZGF0ZWQuXG5cdFx0XHRcdFx0Ly8gVG8gYXZvaWQgYSBzdGFsZSBzZWxlY3QgdmFsdWUgd2UgbmVlZCB0byBzZXQgdGhlIG9wdGlvbi52YWx1ZVxuXHRcdFx0XHRcdC8vIGFnYWluLCB3aGljaCB0cmlnZ2VycyBJRTExIHRvIHJlLWV2YWx1YXRlIHRoZSBzZWxlY3QgdmFsdWVcblx0XHRcdFx0XHQobm9kZVR5cGUgPT09ICdvcHRpb24nICYmIGkgIT09IG9sZFByb3BzLnZhbHVlKSlcblx0XHRcdCkge1xuXHRcdFx0XHRzZXRQcm9wZXJ0eShkb20sICd2YWx1ZScsIGksIG9sZFByb3BzLnZhbHVlLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoXG5cdFx0XHRcdCdjaGVja2VkJyBpbiBuZXdQcm9wcyAmJlxuXHRcdFx0XHQoaSA9IG5ld1Byb3BzLmNoZWNrZWQpICE9PSB1bmRlZmluZWQgJiZcblx0XHRcdFx0aSAhPT0gZG9tLmNoZWNrZWRcblx0XHRcdCkge1xuXHRcdFx0XHRzZXRQcm9wZXJ0eShkb20sICdjaGVja2VkJywgaSwgb2xkUHJvcHMuY2hlY2tlZCwgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBkb207XG59XG5cbi8qKlxuICogSW52b2tlIG9yIHVwZGF0ZSBhIHJlZiwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgaXQgaXMgYSBmdW5jdGlvbiBvciBvYmplY3QgcmVmLlxuICogQHBhcmFtIHtvYmplY3R8ZnVuY3Rpb259IHJlZlxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5UmVmKHJlZiwgdmFsdWUsIHZub2RlKSB7XG5cdHRyeSB7XG5cdFx0aWYgKHR5cGVvZiByZWYgPT0gJ2Z1bmN0aW9uJykgcmVmKHZhbHVlKTtcblx0XHRlbHNlIHJlZi5jdXJyZW50ID0gdmFsdWU7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIHZub2RlKTtcblx0fVxufVxuXG4vKipcbiAqIFVubW91bnQgYSB2aXJ0dWFsIG5vZGUgZnJvbSB0aGUgdHJlZSBhbmQgYXBwbHkgRE9NIGNoYW5nZXNcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBUaGUgdmlydHVhbCBub2RlIHRvIHVubW91bnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLlZOb2RlfSBwYXJlbnRWTm9kZSBUaGUgcGFyZW50IG9mIHRoZSBWTm9kZSB0aGF0XG4gKiBpbml0aWF0ZWQgdGhlIHVubW91bnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBSZW1vdmVdIEZsYWcgdGhhdCBpbmRpY2F0ZXMgdGhhdCBhIHBhcmVudCBub2RlIG9mIHRoZVxuICogY3VycmVudCBlbGVtZW50IGlzIGFscmVhZHkgZGV0YWNoZWQgZnJvbSB0aGUgRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5tb3VudCh2bm9kZSwgcGFyZW50Vk5vZGUsIHNraXBSZW1vdmUpIHtcblx0bGV0IHI7XG5cdGlmIChvcHRpb25zLnVubW91bnQpIG9wdGlvbnMudW5tb3VudCh2bm9kZSk7XG5cblx0aWYgKChyID0gdm5vZGUucmVmKSkge1xuXHRcdGlmICghci5jdXJyZW50IHx8IHIuY3VycmVudCA9PT0gdm5vZGUuX2RvbSkge1xuXHRcdFx0YXBwbHlSZWYociwgbnVsbCwgcGFyZW50Vk5vZGUpO1xuXHRcdH1cblx0fVxuXG5cdGlmICgociA9IHZub2RlLl9jb21wb25lbnQpICE9IG51bGwpIHtcblx0XHRpZiAoci5jb21wb25lbnRXaWxsVW5tb3VudCkge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ci5jb21wb25lbnRXaWxsVW5tb3VudCgpO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIHBhcmVudFZOb2RlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyLmJhc2UgPSByLl9wYXJlbnREb20gPSBudWxsO1xuXHRcdHZub2RlLl9jb21wb25lbnQgPSB1bmRlZmluZWQ7XG5cdH1cblxuXHRpZiAoKHIgPSB2bm9kZS5fY2hpbGRyZW4pKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAocltpXSkge1xuXHRcdFx0XHR1bm1vdW50KFxuXHRcdFx0XHRcdHJbaV0sXG5cdFx0XHRcdFx0cGFyZW50Vk5vZGUsXG5cdFx0XHRcdFx0c2tpcFJlbW92ZSB8fCB0eXBlb2Ygdm5vZGUudHlwZSAhPT0gJ2Z1bmN0aW9uJ1xuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICghc2tpcFJlbW92ZSAmJiB2bm9kZS5fZG9tICE9IG51bGwpIHtcblx0XHRyZW1vdmVOb2RlKHZub2RlLl9kb20pO1xuXHR9XG5cblx0Ly8gTXVzdCBiZSBzZXQgdG8gYHVuZGVmaW5lZGAgdG8gcHJvcGVybHkgY2xlYW4gdXAgYF9uZXh0RG9tYFxuXHQvLyBmb3Igd2hpY2ggYG51bGxgIGlzIGEgdmFsaWQgdmFsdWUuIFNlZSBjb21tZW50IGluIGBjcmVhdGUtZWxlbWVudC5qc2Bcblx0dm5vZGUuX3BhcmVudCA9IHZub2RlLl9kb20gPSB2bm9kZS5fbmV4dERvbSA9IHVuZGVmaW5lZDtcbn1cblxuLyoqIFRoZSBgLnJlbmRlcigpYCBtZXRob2QgZm9yIGEgUEZDIGJhY2tpbmcgaW5zdGFuY2UuICovXG5mdW5jdGlvbiBkb1JlbmRlcihwcm9wcywgc3RhdGUsIGNvbnRleHQpIHtcblx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IocHJvcHMsIGNvbnRleHQpO1xufVxuIiwiaW1wb3J0IHsgRU1QVFlfT0JKIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgY29tbWl0Um9vdCwgZGlmZiB9IGZyb20gJy4vZGlmZi9pbmRleCc7XG5pbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBGcmFnbWVudCB9IGZyb20gJy4vY3JlYXRlLWVsZW1lbnQnO1xuaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9vcHRpb25zJztcbmltcG9ydCB7IHNsaWNlIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBSZW5kZXIgYSBQcmVhY3QgdmlydHVhbCBub2RlIGludG8gYSBET00gZWxlbWVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnRDaGlsZH0gdm5vZGUgVGhlIHZpcnR1YWwgbm9kZSB0byByZW5kZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gcGFyZW50RG9tIFRoZSBET00gZWxlbWVudCB0b1xuICogcmVuZGVyIGludG9cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudCB8IG9iamVjdH0gW3JlcGxhY2VOb2RlXSBPcHRpb25hbDogQXR0ZW1wdCB0byByZS11c2UgYW5cbiAqIGV4aXN0aW5nIERPTSB0cmVlIHJvb3RlZCBhdCBgcmVwbGFjZU5vZGVgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudERvbSwgcmVwbGFjZU5vZGUpIHtcblx0aWYgKG9wdGlvbnMuX3Jvb3QpIG9wdGlvbnMuX3Jvb3Qodm5vZGUsIHBhcmVudERvbSk7XG5cblx0Ly8gV2UgYWJ1c2UgdGhlIGByZXBsYWNlTm9kZWAgcGFyYW1ldGVyIGluIGBoeWRyYXRlKClgIHRvIHNpZ25hbCBpZiB3ZSBhcmUgaW5cblx0Ly8gaHlkcmF0aW9uIG1vZGUgb3Igbm90IGJ5IHBhc3NpbmcgdGhlIGBoeWRyYXRlYCBmdW5jdGlvbiBpbnN0ZWFkIG9mIGEgRE9NXG5cdC8vIGVsZW1lbnQuLlxuXHRsZXQgaXNIeWRyYXRpbmcgPSB0eXBlb2YgcmVwbGFjZU5vZGUgPT09ICdmdW5jdGlvbic7XG5cblx0Ly8gVG8gYmUgYWJsZSB0byBzdXBwb3J0IGNhbGxpbmcgYHJlbmRlcigpYCBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZVxuXHQvLyBET00gbm9kZSwgd2UgbmVlZCB0byBvYnRhaW4gYSByZWZlcmVuY2UgdG8gdGhlIHByZXZpb3VzIHRyZWUuIFdlIGRvXG5cdC8vIHRoaXMgYnkgYXNzaWduaW5nIGEgbmV3IGBfY2hpbGRyZW5gIHByb3BlcnR5IHRvIERPTSBub2RlcyB3aGljaCBwb2ludHNcblx0Ly8gdG8gdGhlIGxhc3QgcmVuZGVyZWQgdHJlZS4gQnkgZGVmYXVsdCB0aGlzIHByb3BlcnR5IGlzIG5vdCBwcmVzZW50LCB3aGljaFxuXHQvLyBtZWFucyB0aGF0IHdlIGFyZSBtb3VudGluZyBhIG5ldyB0cmVlIGZvciB0aGUgZmlyc3QgdGltZS5cblx0bGV0IG9sZFZOb2RlID0gaXNIeWRyYXRpbmdcblx0XHQ/IG51bGxcblx0XHQ6IChyZXBsYWNlTm9kZSAmJiByZXBsYWNlTm9kZS5fY2hpbGRyZW4pIHx8IHBhcmVudERvbS5fY2hpbGRyZW47XG5cblx0dm5vZGUgPSAoXG5cdFx0KCFpc0h5ZHJhdGluZyAmJiByZXBsYWNlTm9kZSkgfHxcblx0XHRwYXJlbnREb21cblx0KS5fY2hpbGRyZW4gPSBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBbdm5vZGVdKTtcblxuXHQvLyBMaXN0IG9mIGVmZmVjdHMgdGhhdCBuZWVkIHRvIGJlIGNhbGxlZCBhZnRlciBkaWZmaW5nLlxuXHRsZXQgY29tbWl0UXVldWUgPSBbXTtcblx0ZGlmZihcblx0XHRwYXJlbnREb20sXG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBuZXcgdm5vZGUgdHJlZSBhbmQgc3RvcmUgaXQgb24gdGhlIERPTSBlbGVtZW50IG9uXG5cdFx0Ly8gb3VyIGN1c3RvbSBgX2NoaWxkcmVuYCBwcm9wZXJ0eS5cblx0XHR2bm9kZSxcblx0XHRvbGRWTm9kZSB8fCBFTVBUWV9PQkosXG5cdFx0RU1QVFlfT0JKLFxuXHRcdHBhcmVudERvbS5vd25lclNWR0VsZW1lbnQgIT09IHVuZGVmaW5lZCxcblx0XHQhaXNIeWRyYXRpbmcgJiYgcmVwbGFjZU5vZGVcblx0XHRcdD8gW3JlcGxhY2VOb2RlXVxuXHRcdFx0OiBvbGRWTm9kZVxuXHRcdFx0PyBudWxsXG5cdFx0XHQ6IHBhcmVudERvbS5maXJzdENoaWxkXG5cdFx0XHQ/IHNsaWNlLmNhbGwocGFyZW50RG9tLmNoaWxkTm9kZXMpXG5cdFx0XHQ6IG51bGwsXG5cdFx0Y29tbWl0UXVldWUsXG5cdFx0IWlzSHlkcmF0aW5nICYmIHJlcGxhY2VOb2RlXG5cdFx0XHQ/IHJlcGxhY2VOb2RlXG5cdFx0XHQ6IG9sZFZOb2RlXG5cdFx0XHQ/IG9sZFZOb2RlLl9kb21cblx0XHRcdDogcGFyZW50RG9tLmZpcnN0Q2hpbGQsXG5cdFx0aXNIeWRyYXRpbmdcblx0KTtcblxuXHQvLyBGbHVzaCBhbGwgcXVldWVkIGVmZmVjdHNcblx0Y29tbWl0Um9vdChjb21taXRRdWV1ZSwgdm5vZGUpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBhbiBleGlzdGluZyBET00gZWxlbWVudCB3aXRoIGRhdGEgZnJvbSBhIFByZWFjdCB2aXJ0dWFsIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGR9IHZub2RlIFRoZSB2aXJ0dWFsIG5vZGUgdG8gcmVuZGVyXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdEVsZW1lbnR9IHBhcmVudERvbSBUaGUgRE9NIGVsZW1lbnQgdG9cbiAqIHVwZGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZSh2bm9kZSwgcGFyZW50RG9tKSB7XG5cdHJlbmRlcih2bm9kZSwgcGFyZW50RG9tLCBoeWRyYXRlKTtcbn1cbiIsImltcG9ydCB7IGFzc2lnbiwgc2xpY2UgfSBmcm9tICcuL3V0aWwnO1xuaW1wb3J0IHsgY3JlYXRlVk5vZGUgfSBmcm9tICcuL2NyZWF0ZS1lbGVtZW50JztcblxuLyoqXG4gKiBDbG9uZXMgdGhlIGdpdmVuIFZOb2RlLCBvcHRpb25hbGx5IGFkZGluZyBhdHRyaWJ1dGVzL3Byb3BzIGFuZCByZXBsYWNpbmcgaXRzIGNoaWxkcmVuLlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZpcnR1YWwgRE9NIGVsZW1lbnQgdG8gY2xvbmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wcyBBdHRyaWJ1dGVzL3Byb3BzIHRvIGFkZCB3aGVuIGNsb25pbmdcbiAqIEBwYXJhbSB7QXJyYXk8aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50Q2hpbGRyZW4+fSByZXN0IEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyB3aWxsIGJlIHVzZWQgYXMgcmVwbGFjZW1lbnQgY2hpbGRyZW4uXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZUVsZW1lbnQodm5vZGUsIHByb3BzLCBjaGlsZHJlbikge1xuXHRsZXQgbm9ybWFsaXplZFByb3BzID0gYXNzaWduKHt9LCB2bm9kZS5wcm9wcyksXG5cdFx0a2V5LFxuXHRcdHJlZixcblx0XHRpO1xuXHRmb3IgKGkgaW4gcHJvcHMpIHtcblx0XHRpZiAoaSA9PSAna2V5Jykga2V5ID0gcHJvcHNbaV07XG5cdFx0ZWxzZSBpZiAoaSA9PSAncmVmJykgcmVmID0gcHJvcHNbaV07XG5cdFx0ZWxzZSBub3JtYWxpemVkUHJvcHNbaV0gPSBwcm9wc1tpXTtcblx0fVxuXG5cdGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikge1xuXHRcdG5vcm1hbGl6ZWRQcm9wcy5jaGlsZHJlbiA9XG5cdFx0XHRhcmd1bWVudHMubGVuZ3RoID4gMyA/IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSA6IGNoaWxkcmVuO1xuXHR9XG5cblx0cmV0dXJuIGNyZWF0ZVZOb2RlKFxuXHRcdHZub2RlLnR5cGUsXG5cdFx0bm9ybWFsaXplZFByb3BzLFxuXHRcdGtleSB8fCB2bm9kZS5rZXksXG5cdFx0cmVmIHx8IHZub2RlLnJlZixcblx0XHRudWxsXG5cdCk7XG59XG4iLCIvKipcbiAqIEZpbmQgdGhlIGNsb3Nlc3QgZXJyb3IgYm91bmRhcnkgdG8gYSB0aHJvd24gZXJyb3IgYW5kIGNhbGwgaXRcbiAqIEBwYXJhbSB7b2JqZWN0fSBlcnJvciBUaGUgdGhyb3duIHZhbHVlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5WTm9kZX0gdm5vZGUgVGhlIHZub2RlIHRoYXQgdGhyZXdcbiAqIHRoZSBlcnJvciB0aGF0IHdhcyBjYXVnaHQgKGV4Y2VwdCBmb3IgdW5tb3VudGluZyB3aGVuIHRoaXMgcGFyYW1ldGVyXG4gKiBpcyB0aGUgaGlnaGVzdCBwYXJlbnQgdGhhdCB3YXMgYmVpbmcgdW5tb3VudGVkKVxuICogQHBhcmFtIHtpbXBvcnQoJy4uL2ludGVybmFsJykuVk5vZGV9IFtvbGRWTm9kZV1cbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9pbnRlcm5hbCcpLkVycm9ySW5mb30gW2Vycm9ySW5mb11cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9jYXRjaEVycm9yKGVycm9yLCB2bm9kZSwgb2xkVk5vZGUsIGVycm9ySW5mbykge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdGxldCBjb21wb25lbnQsIGN0b3IsIGhhbmRsZWQ7XG5cblx0Zm9yICg7ICh2bm9kZSA9IHZub2RlLl9wYXJlbnQpOyApIHtcblx0XHRpZiAoKGNvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQpICYmICFjb21wb25lbnQuX3Byb2Nlc3NpbmdFeGNlcHRpb24pIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGN0b3IgPSBjb21wb25lbnQuY29uc3RydWN0b3I7XG5cblx0XHRcdFx0aWYgKGN0b3IgJiYgY3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgIT0gbnVsbCkge1xuXHRcdFx0XHRcdGNvbXBvbmVudC5zZXRTdGF0ZShjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikpO1xuXHRcdFx0XHRcdGhhbmRsZWQgPSBjb21wb25lbnQuX2RpcnR5O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGNvbXBvbmVudC5jb21wb25lbnREaWRDYXRjaCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Y29tcG9uZW50LmNvbXBvbmVudERpZENhdGNoKGVycm9yLCBlcnJvckluZm8gfHwge30pO1xuXHRcdFx0XHRcdGhhbmRsZWQgPSBjb21wb25lbnQuX2RpcnR5O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVGhpcyBpcyBhbiBlcnJvciBib3VuZGFyeS4gTWFyayBpdCBhcyBoYXZpbmcgYmFpbGVkIG91dCwgYW5kIHdoZXRoZXIgaXQgd2FzIG1pZC1oeWRyYXRpb24uXG5cdFx0XHRcdGlmIChoYW5kbGVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIChjb21wb25lbnQuX3BlbmRpbmdFcnJvciA9IGNvbXBvbmVudCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0ZXJyb3IgPSBlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHRocm93IGVycm9yO1xufVxuIiwiaW1wb3J0IHsgb3B0aW9ucywgRnJhZ21lbnQgfSBmcm9tICdwcmVhY3QnO1xuXG4vKiogQHR5cGVkZWYge2ltcG9ydCgncHJlYWN0JykuVk5vZGV9IFZOb2RlICovXG5cbmxldCB2bm9kZUlkID0gMDtcblxuLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiBUaGlzIGZpbGUgZXhwb3J0cyB2YXJpb3VzIG1ldGhvZHMgdGhhdCBpbXBsZW1lbnQgQmFiZWwncyBcImF1dG9tYXRpY1wiIEpTWCBydW50aW1lIEFQSTpcbiAqIC0ganN4KHR5cGUsIHByb3BzLCBrZXkpXG4gKiAtIGpzeHModHlwZSwgcHJvcHMsIGtleSlcbiAqIC0ganN4REVWKHR5cGUsIHByb3BzLCBrZXksIF9fc291cmNlLCBfX3NlbGYpXG4gKlxuICogVGhlIGltcGxlbWVudGF0aW9uIG9mIGNyZWF0ZVZOb2RlIGhlcmUgaXMgb3B0aW1pemVkIGZvciBwZXJmb3JtYW5jZS5cbiAqIEJlbmNobWFya3M6IGh0dHBzOi8vZXNiZW5jaC5jb20vYmVuY2gvNWY2YjU0YTBiNDYzMjEwMGE3ZGNkMmIzXG4gKi9cblxuLyoqXG4gKiBKU1guRWxlbWVudCBmYWN0b3J5IHVzZWQgYnkgQmFiZWwncyB7cnVudGltZTpcImF1dG9tYXRpY1wifSBKU1ggdHJhbnNmb3JtXG4gKiBAcGFyYW0ge1ZOb2RlWyd0eXBlJ119IHR5cGVcbiAqIEBwYXJhbSB7Vk5vZGVbJ3Byb3BzJ119IHByb3BzXG4gKiBAcGFyYW0ge1ZOb2RlWydrZXknXX0gW2tleV1cbiAqIEBwYXJhbSB7dW5rbm93bn0gW2lzU3RhdGljQ2hpbGRyZW5dXG4gKiBAcGFyYW0ge3Vua25vd259IFtfX3NvdXJjZV1cbiAqIEBwYXJhbSB7dW5rbm93bn0gW19fc2VsZl1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVk5vZGUodHlwZSwgcHJvcHMsIGtleSwgaXNTdGF0aWNDaGlsZHJlbiwgX19zb3VyY2UsIF9fc2VsZikge1xuXHQvLyBXZSdsbCB3YW50IHRvIHByZXNlcnZlIGByZWZgIGluIHByb3BzIHRvIGdldCByaWQgb2YgdGhlIG5lZWQgZm9yXG5cdC8vIGZvcndhcmRSZWYgY29tcG9uZW50cyBpbiB0aGUgZnV0dXJlLCBidXQgdGhhdCBzaG91bGQgaGFwcGVuIHZpYVxuXHQvLyBhIHNlcGFyYXRlIFBSLlxuXHRsZXQgbm9ybWFsaXplZFByb3BzID0ge30sXG5cdFx0cmVmLFxuXHRcdGk7XG5cdGZvciAoaSBpbiBwcm9wcykge1xuXHRcdGlmIChpID09ICdyZWYnKSB7XG5cdFx0XHRyZWYgPSBwcm9wc1tpXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bm9ybWFsaXplZFByb3BzW2ldID0gcHJvcHNbaV07XG5cdFx0fVxuXHR9XG5cblx0Y29uc3Qgdm5vZGUgPSB7XG5cdFx0dHlwZSxcblx0XHRwcm9wczogbm9ybWFsaXplZFByb3BzLFxuXHRcdGtleSxcblx0XHRyZWYsXG5cdFx0X2NoaWxkcmVuOiBudWxsLFxuXHRcdF9wYXJlbnQ6IG51bGwsXG5cdFx0X2RlcHRoOiAwLFxuXHRcdF9kb206IG51bGwsXG5cdFx0X25leHREb206IHVuZGVmaW5lZCxcblx0XHRfY29tcG9uZW50OiBudWxsLFxuXHRcdF9oeWRyYXRpbmc6IG51bGwsXG5cdFx0Y29uc3RydWN0b3I6IHVuZGVmaW5lZCxcblx0XHRfb3JpZ2luYWw6IC0tdm5vZGVJZCxcblx0XHRfX3NvdXJjZSxcblx0XHRfX3NlbGZcblx0fTtcblxuXHQvLyBJZiBhIENvbXBvbmVudCBWTm9kZSwgY2hlY2sgZm9yIGFuZCBhcHBseSBkZWZhdWx0UHJvcHMuXG5cdC8vIE5vdGU6IGB0eXBlYCBpcyBvZnRlbiBhIFN0cmluZywgYW5kIGNhbiBiZSBgdW5kZWZpbmVkYCBpbiBkZXZlbG9wbWVudC5cblx0aWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nICYmIChyZWYgPSB0eXBlLmRlZmF1bHRQcm9wcykpIHtcblx0XHRmb3IgKGkgaW4gcmVmKVxuXHRcdFx0aWYgKHR5cGVvZiBub3JtYWxpemVkUHJvcHNbaV0gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHJlZltpXTtcblx0XHRcdH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnZub2RlKSBvcHRpb25zLnZub2RlKHZub2RlKTtcblx0cmV0dXJuIHZub2RlO1xufVxuXG5leHBvcnQge1xuXHRjcmVhdGVWTm9kZSBhcyBqc3gsXG5cdGNyZWF0ZVZOb2RlIGFzIGpzeHMsXG5cdGNyZWF0ZVZOb2RlIGFzIGpzeERFVixcblx0RnJhZ21lbnRcbn07XG4iLCJpbXBvcnQgeyBvcHRpb25zIH0gZnJvbSAncHJlYWN0JztcblxuLyoqIEB0eXBlIHtudW1iZXJ9ICovXG5sZXQgY3VycmVudEluZGV4O1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cbmxldCBjdXJyZW50Q29tcG9uZW50O1xuXG4vKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cbmxldCBwcmV2aW91c0NvbXBvbmVudDtcblxuLyoqIEB0eXBlIHtudW1iZXJ9ICovXG5sZXQgY3VycmVudEhvb2sgPSAwO1xuXG4vKiogQHR5cGUge0FycmF5PGltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudD59ICovXG5sZXQgYWZ0ZXJQYWludEVmZmVjdHMgPSBbXTtcblxubGV0IEVNUFRZID0gW107XG5cbmxldCBvbGRCZWZvcmVEaWZmID0gb3B0aW9ucy5fZGlmZjtcbmxldCBvbGRCZWZvcmVSZW5kZXIgPSBvcHRpb25zLl9yZW5kZXI7XG5sZXQgb2xkQWZ0ZXJEaWZmID0gb3B0aW9ucy5kaWZmZWQ7XG5sZXQgb2xkQ29tbWl0ID0gb3B0aW9ucy5fY29tbWl0O1xubGV0IG9sZEJlZm9yZVVubW91bnQgPSBvcHRpb25zLnVubW91bnQ7XG5cbmNvbnN0IFJBRl9USU1FT1VUID0gMTAwO1xubGV0IHByZXZSYWY7XG5cbm9wdGlvbnMuX2RpZmYgPSB2bm9kZSA9PiB7XG5cdGN1cnJlbnRDb21wb25lbnQgPSBudWxsO1xuXHRpZiAob2xkQmVmb3JlRGlmZikgb2xkQmVmb3JlRGlmZih2bm9kZSk7XG59O1xuXG5vcHRpb25zLl9yZW5kZXIgPSB2bm9kZSA9PiB7XG5cdGlmIChvbGRCZWZvcmVSZW5kZXIpIG9sZEJlZm9yZVJlbmRlcih2bm9kZSk7XG5cblx0Y3VycmVudENvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQ7XG5cdGN1cnJlbnRJbmRleCA9IDA7XG5cblx0Y29uc3QgaG9va3MgPSBjdXJyZW50Q29tcG9uZW50Ll9faG9va3M7XG5cdGlmIChob29rcykge1xuXHRcdGlmIChwcmV2aW91c0NvbXBvbmVudCA9PT0gY3VycmVudENvbXBvbmVudCkge1xuXHRcdFx0aG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0XHRjdXJyZW50Q29tcG9uZW50Ll9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdGhvb2tzLl9saXN0LmZvckVhY2goaG9va0l0ZW0gPT4ge1xuXHRcdFx0XHRpZiAoaG9va0l0ZW0uX25leHRWYWx1ZSkge1xuXHRcdFx0XHRcdGhvb2tJdGVtLl92YWx1ZSA9IGhvb2tJdGVtLl9uZXh0VmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0aG9va0l0ZW0uX3BlbmRpbmdWYWx1ZSA9IEVNUFRZO1xuXHRcdFx0XHRob29rSXRlbS5fbmV4dFZhbHVlID0gaG9va0l0ZW0uX3BlbmRpbmdBcmdzID0gdW5kZWZpbmVkO1xuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhvb2tzLl9wZW5kaW5nRWZmZWN0cy5mb3JFYWNoKGludm9rZUNsZWFudXApO1xuXHRcdFx0aG9va3MuX3BlbmRpbmdFZmZlY3RzLmZvckVhY2goaW52b2tlRWZmZWN0KTtcblx0XHRcdGhvb2tzLl9wZW5kaW5nRWZmZWN0cyA9IFtdO1xuXHRcdH1cblx0fVxuXHRwcmV2aW91c0NvbXBvbmVudCA9IGN1cnJlbnRDb21wb25lbnQ7XG59O1xuXG5vcHRpb25zLmRpZmZlZCA9IHZub2RlID0+IHtcblx0aWYgKG9sZEFmdGVyRGlmZikgb2xkQWZ0ZXJEaWZmKHZub2RlKTtcblxuXHRjb25zdCBjID0gdm5vZGUuX2NvbXBvbmVudDtcblx0aWYgKGMgJiYgYy5fX2hvb2tzKSB7XG5cdFx0aWYgKGMuX19ob29rcy5fcGVuZGluZ0VmZmVjdHMubGVuZ3RoKSBhZnRlclBhaW50KGFmdGVyUGFpbnRFZmZlY3RzLnB1c2goYykpO1xuXHRcdGMuX19ob29rcy5fbGlzdC5mb3JFYWNoKGhvb2tJdGVtID0+IHtcblx0XHRcdGlmIChob29rSXRlbS5fcGVuZGluZ0FyZ3MpIHtcblx0XHRcdFx0aG9va0l0ZW0uX2FyZ3MgPSBob29rSXRlbS5fcGVuZGluZ0FyZ3M7XG5cdFx0XHR9XG5cdFx0XHRpZiAoaG9va0l0ZW0uX3BlbmRpbmdWYWx1ZSAhPT0gRU1QVFkpIHtcblx0XHRcdFx0aG9va0l0ZW0uX3ZhbHVlID0gaG9va0l0ZW0uX3BlbmRpbmdWYWx1ZTtcblx0XHRcdH1cblx0XHRcdGhvb2tJdGVtLl9wZW5kaW5nQXJncyA9IHVuZGVmaW5lZDtcblx0XHRcdGhvb2tJdGVtLl9wZW5kaW5nVmFsdWUgPSBFTVBUWTtcblx0XHR9KTtcblx0fVxuXHRwcmV2aW91c0NvbXBvbmVudCA9IGN1cnJlbnRDb21wb25lbnQgPSBudWxsO1xufTtcblxub3B0aW9ucy5fY29tbWl0ID0gKHZub2RlLCBjb21taXRRdWV1ZSkgPT4ge1xuXHRjb21taXRRdWV1ZS5zb21lKGNvbXBvbmVudCA9PiB7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLmZvckVhY2goaW52b2tlQ2xlYW51cCk7XG5cdFx0XHRjb21wb25lbnQuX3JlbmRlckNhbGxiYWNrcyA9IGNvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLmZpbHRlcihjYiA9PlxuXHRcdFx0XHRjYi5fdmFsdWUgPyBpbnZva2VFZmZlY3QoY2IpIDogdHJ1ZVxuXHRcdFx0KTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb21taXRRdWV1ZS5zb21lKGMgPT4ge1xuXHRcdFx0XHRpZiAoYy5fcmVuZGVyQ2FsbGJhY2tzKSBjLl9yZW5kZXJDYWxsYmFja3MgPSBbXTtcblx0XHRcdH0pO1xuXHRcdFx0Y29tbWl0UXVldWUgPSBbXTtcblx0XHRcdG9wdGlvbnMuX2NhdGNoRXJyb3IoZSwgY29tcG9uZW50Ll92bm9kZSk7XG5cdFx0fVxuXHR9KTtcblxuXHRpZiAob2xkQ29tbWl0KSBvbGRDb21taXQodm5vZGUsIGNvbW1pdFF1ZXVlKTtcbn07XG5cbm9wdGlvbnMudW5tb3VudCA9IHZub2RlID0+IHtcblx0aWYgKG9sZEJlZm9yZVVubW91bnQpIG9sZEJlZm9yZVVubW91bnQodm5vZGUpO1xuXG5cdGNvbnN0IGMgPSB2bm9kZS5fY29tcG9uZW50O1xuXHRpZiAoYyAmJiBjLl9faG9va3MpIHtcblx0XHRsZXQgaGFzRXJyb3JlZDtcblx0XHRjLl9faG9va3MuX2xpc3QuZm9yRWFjaChzID0+IHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGludm9rZUNsZWFudXAocyk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdGhhc0Vycm9yZWQgPSBlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGMuX19ob29rcyA9IHVuZGVmaW5lZDtcblx0XHRpZiAoaGFzRXJyb3JlZCkgb3B0aW9ucy5fY2F0Y2hFcnJvcihoYXNFcnJvcmVkLCBjLl92bm9kZSk7XG5cdH1cbn07XG5cbi8qKlxuICogR2V0IGEgaG9vaydzIHN0YXRlIGZyb20gdGhlIGN1cnJlbnRDb21wb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBUaGUgaW5kZXggb2YgdGhlIGhvb2sgdG8gZ2V0XG4gKiBAcGFyYW0ge251bWJlcn0gdHlwZSBUaGUgaW5kZXggb2YgdGhlIGhvb2sgdG8gZ2V0XG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBnZXRIb29rU3RhdGUoaW5kZXgsIHR5cGUpIHtcblx0aWYgKG9wdGlvbnMuX2hvb2spIHtcblx0XHRvcHRpb25zLl9ob29rKGN1cnJlbnRDb21wb25lbnQsIGluZGV4LCBjdXJyZW50SG9vayB8fCB0eXBlKTtcblx0fVxuXHRjdXJyZW50SG9vayA9IDA7XG5cblx0Ly8gTGFyZ2VseSBpbnNwaXJlZCBieTpcblx0Ly8gKiBodHRwczovL2dpdGh1Yi5jb20vbWljaGFlbC1rbGVpbi9mdW5jeS5qcy9ibG9iL2Y2YmU3MzQ2OGU2ZWM0NmIwZmY1YWEzY2M0YzliYWY3MmEyOTAyNWEvc3JjL2hvb2tzL2NvcmVfaG9va3MubWpzXG5cdC8vICogaHR0cHM6Ly9naXRodWIuY29tL21pY2hhZWwta2xlaW4vZnVuY3kuanMvYmxvYi82NTBiZWFhNThjNDNjMzNhNzQ4MjBhM2M5OGIzYzcwNzljZjJlMzMzL3NyYy9yZW5kZXJlci5tanNcblx0Ly8gT3RoZXIgaW1wbGVtZW50YXRpb25zIHRvIGxvb2sgYXQ6XG5cdC8vICogaHR0cHM6Ly9jb2Rlc2FuZGJveC5pby9zL21ub3gwNXFwOFxuXHRjb25zdCBob29rcyA9XG5cdFx0Y3VycmVudENvbXBvbmVudC5fX2hvb2tzIHx8XG5cdFx0KGN1cnJlbnRDb21wb25lbnQuX19ob29rcyA9IHtcblx0XHRcdF9saXN0OiBbXSxcblx0XHRcdF9wZW5kaW5nRWZmZWN0czogW11cblx0XHR9KTtcblxuXHRpZiAoaW5kZXggPj0gaG9va3MuX2xpc3QubGVuZ3RoKSB7XG5cdFx0aG9va3MuX2xpc3QucHVzaCh7IF9wZW5kaW5nVmFsdWU6IEVNUFRZIH0pO1xuXHR9XG5cdHJldHVybiBob29rcy5fbGlzdFtpbmRleF07XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW5kZXgnKS5TdGF0ZVVwZGF0ZXI8YW55Pn0gW2luaXRpYWxTdGF0ZV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0YXRlKGluaXRpYWxTdGF0ZSkge1xuXHRjdXJyZW50SG9vayA9IDE7XG5cdHJldHVybiB1c2VSZWR1Y2VyKGludm9rZU9yUmV0dXJuLCBpbml0aWFsU3RhdGUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuUmVkdWNlcjxhbnksIGFueT59IHJlZHVjZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuU3RhdGVVcGRhdGVyPGFueT59IGluaXRpYWxTdGF0ZVxuICogQHBhcmFtIHsoaW5pdGlhbFN0YXRlOiBhbnkpID0+IHZvaWR9IFtpbml0XVxuICogQHJldHVybnMge1sgYW55LCAoc3RhdGU6IGFueSkgPT4gdm9pZCBdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsU3RhdGUsIGluaXQpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5SZWR1Y2VySG9va1N0YXRlfSAqL1xuXHRjb25zdCBob29rU3RhdGUgPSBnZXRIb29rU3RhdGUoY3VycmVudEluZGV4KyssIDIpO1xuXHRob29rU3RhdGUuX3JlZHVjZXIgPSByZWR1Y2VyO1xuXHRpZiAoIWhvb2tTdGF0ZS5fY29tcG9uZW50KSB7XG5cdFx0aG9va1N0YXRlLl92YWx1ZSA9IFtcblx0XHRcdCFpbml0ID8gaW52b2tlT3JSZXR1cm4odW5kZWZpbmVkLCBpbml0aWFsU3RhdGUpIDogaW5pdChpbml0aWFsU3RhdGUpLFxuXG5cdFx0XHRhY3Rpb24gPT4ge1xuXHRcdFx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBob29rU3RhdGUuX25leHRWYWx1ZVxuXHRcdFx0XHRcdD8gaG9va1N0YXRlLl9uZXh0VmFsdWVbMF1cblx0XHRcdFx0XHQ6IGhvb2tTdGF0ZS5fdmFsdWVbMF07XG5cdFx0XHRcdGNvbnN0IG5leHRWYWx1ZSA9IGhvb2tTdGF0ZS5fcmVkdWNlcihjdXJyZW50VmFsdWUsIGFjdGlvbik7XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XG5cdFx0XHRcdFx0aG9va1N0YXRlLl9uZXh0VmFsdWUgPSBbbmV4dFZhbHVlLCBob29rU3RhdGUuX3ZhbHVlWzFdXTtcblx0XHRcdFx0XHRob29rU3RhdGUuX2NvbXBvbmVudC5zZXRTdGF0ZSh7fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRdO1xuXG5cdFx0aG9va1N0YXRlLl9jb21wb25lbnQgPSBjdXJyZW50Q29tcG9uZW50O1xuXG5cdFx0aWYgKCFjdXJyZW50Q29tcG9uZW50Ll9oYXNTY3VGcm9tSG9va3MpIHtcblx0XHRcdGN1cnJlbnRDb21wb25lbnQuX2hhc1NjdUZyb21Ib29rcyA9IHRydWU7XG5cdFx0XHRjb25zdCBwcmV2U2N1ID0gY3VycmVudENvbXBvbmVudC5zaG91bGRDb21wb25lbnRVcGRhdGU7XG5cblx0XHRcdC8vIFRoaXMgU0NVIGhhcyB0aGUgcHVycG9zZSBvZiBiYWlsaW5nIG91dCBhZnRlciByZXBlYXRlZCB1cGRhdGVzXG5cdFx0XHQvLyB0byBzdGF0ZWZ1bCBob29rcy5cblx0XHRcdC8vIHdlIHN0b3JlIHRoZSBuZXh0IHZhbHVlIGluIF9uZXh0VmFsdWVbMF0gYW5kIGtlZXAgZG9pbmcgdGhhdCBmb3IgYWxsXG5cdFx0XHQvLyBzdGF0ZSBzZXR0ZXJzLCBpZiB3ZSBoYXZlIG5leHQgc3RhdGVzIGFuZFxuXHRcdFx0Ly8gYWxsIG5leHQgc3RhdGVzIHdpdGhpbiBhIGNvbXBvbmVudCBlbmQgdXAgYmVpbmcgZXF1YWwgdG8gdGhlaXIgb3JpZ2luYWwgc3RhdGVcblx0XHRcdC8vIHdlIGFyZSBzYWZlIHRvIGJhaWwgb3V0IGZvciB0aGlzIHNwZWNpZmljIGNvbXBvbmVudC5cblx0XHRcdGN1cnJlbnRDb21wb25lbnQuc2hvdWxkQ29tcG9uZW50VXBkYXRlID0gZnVuY3Rpb24ocCwgcywgYykge1xuXHRcdFx0XHRpZiAoIWhvb2tTdGF0ZS5fY29tcG9uZW50Ll9faG9va3MpIHJldHVybiB0cnVlO1xuXG5cdFx0XHRcdGNvbnN0IHN0YXRlSG9va3MgPSBob29rU3RhdGUuX2NvbXBvbmVudC5fX2hvb2tzLl9saXN0LmZpbHRlcihcblx0XHRcdFx0XHR4ID0+IHguX2NvbXBvbmVudFxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjb25zdCBhbGxIb29rc0VtcHR5ID0gc3RhdGVIb29rcy5ldmVyeSh4ID0+ICF4Ll9uZXh0VmFsdWUpO1xuXHRcdFx0XHQvLyBXaGVuIHdlIGhhdmUgbm8gdXBkYXRlZCBob29rcyBpbiB0aGUgY29tcG9uZW50IHdlIGludm9rZSB0aGUgcHJldmlvdXMgU0NVIG9yXG5cdFx0XHRcdC8vIHRyYXZlcnNlIHRoZSBWRE9NIHRyZWUgZnVydGhlci5cblx0XHRcdFx0aWYgKGFsbEhvb2tzRW1wdHkpIHtcblx0XHRcdFx0XHRyZXR1cm4gcHJldlNjdSA/IHByZXZTY3UuY2FsbCh0aGlzLCBwLCBzLCBjKSA6IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBXZSBjaGVjayB3aGV0aGVyIHdlIGhhdmUgY29tcG9uZW50cyB3aXRoIGEgbmV4dFZhbHVlIHNldCB0aGF0XG5cdFx0XHRcdC8vIGhhdmUgdmFsdWVzIHRoYXQgYXJlbid0IGVxdWFsIHRvIG9uZSBhbm90aGVyIHRoaXMgcHVzaGVzXG5cdFx0XHRcdC8vIHVzIHRvIHVwZGF0ZSBmdXJ0aGVyIGRvd24gdGhlIHRyZWVcblx0XHRcdFx0bGV0IHNob3VsZFVwZGF0ZSA9IGZhbHNlO1xuXHRcdFx0XHRzdGF0ZUhvb2tzLmZvckVhY2goaG9va0l0ZW0gPT4ge1xuXHRcdFx0XHRcdGlmIChob29rSXRlbS5fbmV4dFZhbHVlKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBjdXJyZW50VmFsdWUgPSBob29rSXRlbS5fdmFsdWVbMF07XG5cdFx0XHRcdFx0XHRob29rSXRlbS5fdmFsdWUgPSBob29rSXRlbS5fbmV4dFZhbHVlO1xuXHRcdFx0XHRcdFx0aG9va0l0ZW0uX25leHRWYWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgIT09IGhvb2tJdGVtLl92YWx1ZVswXSkgc2hvdWxkVXBkYXRlID0gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiBzaG91bGRVcGRhdGUgfHwgaG9va1N0YXRlLl9jb21wb25lbnQucHJvcHMgIT09IHBcblx0XHRcdFx0XHQ/IHByZXZTY3Vcblx0XHRcdFx0XHRcdD8gcHJldlNjdS5jYWxsKHRoaXMsIHAsIHMsIGMpXG5cdFx0XHRcdFx0XHQ6IHRydWVcblx0XHRcdFx0XHQ6IGZhbHNlO1xuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gaG9va1N0YXRlLl9uZXh0VmFsdWUgfHwgaG9va1N0YXRlLl92YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkVmZmVjdH0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUVmZmVjdChjYWxsYmFjaywgYXJncykge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkVmZmVjdEhvb2tTdGF0ZX0gKi9cblx0Y29uc3Qgc3RhdGUgPSBnZXRIb29rU3RhdGUoY3VycmVudEluZGV4KyssIDMpO1xuXHRpZiAoIW9wdGlvbnMuX3NraXBFZmZlY3RzICYmIGFyZ3NDaGFuZ2VkKHN0YXRlLl9hcmdzLCBhcmdzKSkge1xuXHRcdHN0YXRlLl92YWx1ZSA9IGNhbGxiYWNrO1xuXHRcdHN0YXRlLl9wZW5kaW5nQXJncyA9IGFyZ3M7XG5cblx0XHRjdXJyZW50Q29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzLnB1c2goc3RhdGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3R9IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VMYXlvdXRFZmZlY3QoY2FsbGJhY2ssIGFyZ3MpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3RIb29rU3RhdGV9ICovXG5cdGNvbnN0IHN0YXRlID0gZ2V0SG9va1N0YXRlKGN1cnJlbnRJbmRleCsrLCA0KTtcblx0aWYgKCFvcHRpb25zLl9za2lwRWZmZWN0cyAmJiBhcmdzQ2hhbmdlZChzdGF0ZS5fYXJncywgYXJncykpIHtcblx0XHRzdGF0ZS5fdmFsdWUgPSBjYWxsYmFjaztcblx0XHRzdGF0ZS5fcGVuZGluZ0FyZ3MgPSBhcmdzO1xuXG5cdFx0Y3VycmVudENvbXBvbmVudC5fcmVuZGVyQ2FsbGJhY2tzLnB1c2goc3RhdGUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWYoaW5pdGlhbFZhbHVlKSB7XG5cdGN1cnJlbnRIb29rID0gNTtcblx0cmV0dXJuIHVzZU1lbW8oKCkgPT4gKHsgY3VycmVudDogaW5pdGlhbFZhbHVlIH0pLCBbXSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtvYmplY3R9IHJlZlxuICogQHBhcmFtIHsoKSA9PiBvYmplY3R9IGNyZWF0ZUhhbmRsZVxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZUhhbmRsZSwgYXJncykge1xuXHRjdXJyZW50SG9vayA9IDY7XG5cdHVzZUxheW91dEVmZmVjdChcblx0XHQoKSA9PiB7XG5cdFx0XHRpZiAodHlwZW9mIHJlZiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHJlZihjcmVhdGVIYW5kbGUoKSk7XG5cdFx0XHRcdHJldHVybiAoKSA9PiByZWYobnVsbCk7XG5cdFx0XHR9IGVsc2UgaWYgKHJlZikge1xuXHRcdFx0XHRyZWYuY3VycmVudCA9IGNyZWF0ZUhhbmRsZSgpO1xuXHRcdFx0XHRyZXR1cm4gKCkgPT4gKHJlZi5jdXJyZW50ID0gbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRhcmdzID09IG51bGwgPyBhcmdzIDogYXJncy5jb25jYXQocmVmKVxuXHQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7KCkgPT4gYW55fSBmYWN0b3J5XG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZW1vKGZhY3RvcnksIGFyZ3MpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5NZW1vSG9va1N0YXRlfSAqL1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgNyk7XG5cdGlmIChhcmdzQ2hhbmdlZChzdGF0ZS5fYXJncywgYXJncykpIHtcblx0XHRzdGF0ZS5fcGVuZGluZ1ZhbHVlID0gZmFjdG9yeSgpO1xuXHRcdHN0YXRlLl9wZW5kaW5nQXJncyA9IGFyZ3M7XG5cdFx0c3RhdGUuX2ZhY3RvcnkgPSBmYWN0b3J5O1xuXHRcdHJldHVybiBzdGF0ZS5fcGVuZGluZ1ZhbHVlO1xuXHR9XG5cblx0cmV0dXJuIHN0YXRlLl92YWx1ZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGNhbGxiYWNrXG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDYWxsYmFjayhjYWxsYmFjaywgYXJncykge1xuXHRjdXJyZW50SG9vayA9IDg7XG5cdHJldHVybiB1c2VNZW1vKCgpID0+IGNhbGxiYWNrLCBhcmdzKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlByZWFjdENvbnRleHR9IGNvbnRleHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbnRleHQoY29udGV4dCkge1xuXHRjb25zdCBwcm92aWRlciA9IGN1cnJlbnRDb21wb25lbnQuY29udGV4dFtjb250ZXh0Ll9pZF07XG5cdC8vIFdlIGNvdWxkIHNraXAgdGhpcyBjYWxsIGhlcmUsIGJ1dCB0aGFuIHdlJ2Qgbm90IGNhbGxcblx0Ly8gYG9wdGlvbnMuX2hvb2tgLiBXZSBuZWVkIHRvIGRvIHRoYXQgaW4gb3JkZXIgdG8gbWFrZVxuXHQvLyB0aGUgZGV2dG9vbHMgYXdhcmUgb2YgdGhpcyBob29rLlxuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbnRleHRIb29rU3RhdGV9ICovXG5cdGNvbnN0IHN0YXRlID0gZ2V0SG9va1N0YXRlKGN1cnJlbnRJbmRleCsrLCA5KTtcblx0Ly8gVGhlIGRldnRvb2xzIG5lZWRzIGFjY2VzcyB0byB0aGUgY29udGV4dCBvYmplY3QgdG9cblx0Ly8gYmUgYWJsZSB0byBwdWxsIG9mIHRoZSBkZWZhdWx0IHZhbHVlIHdoZW4gbm8gcHJvdmlkZXJcblx0Ly8gaXMgcHJlc2VudCBpbiB0aGUgdHJlZS5cblx0c3RhdGUuX2NvbnRleHQgPSBjb250ZXh0O1xuXHRpZiAoIXByb3ZpZGVyKSByZXR1cm4gY29udGV4dC5fZGVmYXVsdFZhbHVlO1xuXHQvLyBUaGlzIGlzIHByb2JhYmx5IG5vdCBzYWZlIHRvIGNvbnZlcnQgdG8gXCIhXCJcblx0aWYgKHN0YXRlLl92YWx1ZSA9PSBudWxsKSB7XG5cdFx0c3RhdGUuX3ZhbHVlID0gdHJ1ZTtcblx0XHRwcm92aWRlci5zdWIoY3VycmVudENvbXBvbmVudCk7XG5cdH1cblx0cmV0dXJuIHByb3ZpZGVyLnByb3BzLnZhbHVlO1xufVxuXG4vKipcbiAqIERpc3BsYXkgYSBjdXN0b20gbGFiZWwgZm9yIGEgY3VzdG9tIGhvb2sgZm9yIHRoZSBkZXZ0b29scyBwYW5lbFxuICogQHR5cGUgezxUPih2YWx1ZTogVCwgY2I/OiAodmFsdWU6IFQpID0+IHN0cmluZyB8IG51bWJlcikgPT4gdm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZURlYnVnVmFsdWUodmFsdWUsIGZvcm1hdHRlcikge1xuXHRpZiAob3B0aW9ucy51c2VEZWJ1Z1ZhbHVlKSB7XG5cdFx0b3B0aW9ucy51c2VEZWJ1Z1ZhbHVlKGZvcm1hdHRlciA/IGZvcm1hdHRlcih2YWx1ZSkgOiB2YWx1ZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0geyhlcnJvcjogYW55LCBlcnJvckluZm86IGltcG9ydCgncHJlYWN0JykuRXJyb3JJbmZvKSA9PiB2b2lkfSBjYlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRXJyb3JCb3VuZGFyeShjYikge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkVycm9yQm91bmRhcnlIb29rU3RhdGV9ICovXG5cdGNvbnN0IHN0YXRlID0gZ2V0SG9va1N0YXRlKGN1cnJlbnRJbmRleCsrLCAxMCk7XG5cdGNvbnN0IGVyclN0YXRlID0gdXNlU3RhdGUoKTtcblx0c3RhdGUuX3ZhbHVlID0gY2I7XG5cdGlmICghY3VycmVudENvbXBvbmVudC5jb21wb25lbnREaWRDYXRjaCkge1xuXHRcdGN1cnJlbnRDb21wb25lbnQuY29tcG9uZW50RGlkQ2F0Y2ggPSAoZXJyLCBlcnJvckluZm8pID0+IHtcblx0XHRcdGlmIChzdGF0ZS5fdmFsdWUpIHN0YXRlLl92YWx1ZShlcnIsIGVycm9ySW5mbyk7XG5cdFx0XHRlcnJTdGF0ZVsxXShlcnIpO1xuXHRcdH07XG5cdH1cblx0cmV0dXJuIFtcblx0XHRlcnJTdGF0ZVswXSxcblx0XHQoKSA9PiB7XG5cdFx0XHRlcnJTdGF0ZVsxXSh1bmRlZmluZWQpO1xuXHRcdH1cblx0XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUlkKCkge1xuXHRjb25zdCBzdGF0ZSA9IGdldEhvb2tTdGF0ZShjdXJyZW50SW5kZXgrKywgMTEpO1xuXHRpZiAoIXN0YXRlLl92YWx1ZSkge1xuXHRcdC8vIEdyYWIgZWl0aGVyIHRoZSByb290IG5vZGUgb3IgdGhlIG5lYXJlc3QgYXN5bmMgYm91bmRhcnkgbm9kZS5cblx0XHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbC5kJykuVk5vZGV9ICovXG5cdFx0bGV0IHJvb3QgPSBjdXJyZW50Q29tcG9uZW50Ll92bm9kZTtcblx0XHR3aGlsZSAocm9vdCAhPT0gbnVsbCAmJiAhcm9vdC5fbWFzayAmJiByb290Ll9wYXJlbnQgIT09IG51bGwpIHtcblx0XHRcdHJvb3QgPSByb290Ll9wYXJlbnQ7XG5cdFx0fVxuXG5cdFx0bGV0IG1hc2sgPSByb290Ll9tYXNrIHx8IChyb290Ll9tYXNrID0gWzAsIDBdKTtcblx0XHRzdGF0ZS5fdmFsdWUgPSAnUCcgKyBtYXNrWzBdICsgJy0nICsgbWFza1sxXSsrO1xuXHR9XG5cblx0cmV0dXJuIHN0YXRlLl92YWx1ZTtcbn1cbi8qKlxuICogQWZ0ZXIgcGFpbnQgZWZmZWN0cyBjb25zdW1lci5cbiAqL1xuZnVuY3Rpb24gZmx1c2hBZnRlclBhaW50RWZmZWN0cygpIHtcblx0bGV0IGNvbXBvbmVudDtcblx0d2hpbGUgKChjb21wb25lbnQgPSBhZnRlclBhaW50RWZmZWN0cy5zaGlmdCgpKSkge1xuXHRcdGlmICghY29tcG9uZW50Ll9wYXJlbnREb20gfHwgIWNvbXBvbmVudC5fX2hvb2tzKSBjb250aW51ZTtcblx0XHR0cnkge1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzLmZvckVhY2goaW52b2tlQ2xlYW51cCk7XG5cdFx0XHRjb21wb25lbnQuX19ob29rcy5fcGVuZGluZ0VmZmVjdHMuZm9yRWFjaChpbnZva2VFZmZlY3QpO1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29tcG9uZW50Ll9faG9va3MuX3BlbmRpbmdFZmZlY3RzID0gW107XG5cdFx0XHRvcHRpb25zLl9jYXRjaEVycm9yKGUsIGNvbXBvbmVudC5fdm5vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5sZXQgSEFTX1JBRiA9IHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT0gJ2Z1bmN0aW9uJztcblxuLyoqXG4gKiBTY2hlZHVsZSBhIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgYWZ0ZXIgdGhlIGJyb3dzZXIgaGFzIGEgY2hhbmNlIHRvIHBhaW50IGEgbmV3IGZyYW1lLlxuICogRG8gdGhpcyBieSBjb21iaW5pbmcgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIChyQUYpICsgc2V0VGltZW91dCB0byBpbnZva2UgYSBjYWxsYmFjayBhZnRlclxuICogdGhlIG5leHQgYnJvd3NlciBmcmFtZS5cbiAqXG4gKiBBbHNvLCBzY2hlZHVsZSBhIHRpbWVvdXQgaW4gcGFyYWxsZWwgdG8gdGhlIHRoZSByQUYgdG8gZW5zdXJlIHRoZSBjYWxsYmFjayBpcyBpbnZva2VkXG4gKiBldmVuIGlmIFJBRiBkb2Vzbid0IGZpcmUgKGZvciBleGFtcGxlIGlmIHRoZSBicm93c2VyIHRhYiBpcyBub3QgdmlzaWJsZSlcbiAqXG4gKiBAcGFyYW0geygpID0+IHZvaWR9IGNhbGxiYWNrXG4gKi9cbmZ1bmN0aW9uIGFmdGVyTmV4dEZyYW1lKGNhbGxiYWNrKSB7XG5cdGNvbnN0IGRvbmUgPSAoKSA9PiB7XG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdGlmIChIQVNfUkFGKSBjYW5jZWxBbmltYXRpb25GcmFtZShyYWYpO1xuXHRcdHNldFRpbWVvdXQoY2FsbGJhY2spO1xuXHR9O1xuXHRjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dChkb25lLCBSQUZfVElNRU9VVCk7XG5cblx0bGV0IHJhZjtcblx0aWYgKEhBU19SQUYpIHtcblx0XHRyYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZG9uZSk7XG5cdH1cbn1cblxuLy8gTm90ZTogaWYgc29tZW9uZSB1c2VkIG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUsXG4vLyB0aGVuIGVmZmVjdHMgd2lsbCBBTFdBWVMgcnVuIG9uIHRoZSBORVhUIGZyYW1lIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgb25lLCBpbmN1cnJpbmcgYSB+MTZtcyBkZWxheS5cbi8vIFBlcmhhcHMgdGhpcyBpcyBub3Qgc3VjaCBhIGJpZyBkZWFsLlxuLyoqXG4gKiBTY2hlZHVsZSBhZnRlclBhaW50RWZmZWN0cyBmbHVzaCBhZnRlciB0aGUgYnJvd3NlciBwYWludHNcbiAqIEBwYXJhbSB7bnVtYmVyfSBuZXdRdWV1ZUxlbmd0aFxuICovXG5mdW5jdGlvbiBhZnRlclBhaW50KG5ld1F1ZXVlTGVuZ3RoKSB7XG5cdGlmIChuZXdRdWV1ZUxlbmd0aCA9PT0gMSB8fCBwcmV2UmFmICE9PSBvcHRpb25zLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuXHRcdHByZXZSYWYgPSBvcHRpb25zLnJlcXVlc3RBbmltYXRpb25GcmFtZTtcblx0XHQocHJldlJhZiB8fCBhZnRlck5leHRGcmFtZSkoZmx1c2hBZnRlclBhaW50RWZmZWN0cyk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkVmZmVjdEhvb2tTdGF0ZX0gaG9va1xuICovXG5mdW5jdGlvbiBpbnZva2VDbGVhbnVwKGhvb2spIHtcblx0Ly8gQSBob29rIGNsZWFudXAgY2FuIGludHJvZHVjZSBhIGNhbGwgdG8gcmVuZGVyIHdoaWNoIGNyZWF0ZXMgYSBuZXcgcm9vdCwgdGhpcyB3aWxsIGNhbGwgb3B0aW9ucy52bm9kZVxuXHQvLyBhbmQgbW92ZSB0aGUgY3VycmVudENvbXBvbmVudCBhd2F5LlxuXHRjb25zdCBjb21wID0gY3VycmVudENvbXBvbmVudDtcblx0bGV0IGNsZWFudXAgPSBob29rLl9jbGVhbnVwO1xuXHRpZiAodHlwZW9mIGNsZWFudXAgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdGhvb2suX2NsZWFudXAgPSB1bmRlZmluZWQ7XG5cdFx0Y2xlYW51cCgpO1xuXHR9XG5cblx0Y3VycmVudENvbXBvbmVudCA9IGNvbXA7XG59XG5cbi8qKlxuICogSW52b2tlIGEgSG9vaydzIGVmZmVjdFxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5FZmZlY3RIb29rU3RhdGV9IGhvb2tcbiAqL1xuZnVuY3Rpb24gaW52b2tlRWZmZWN0KGhvb2spIHtcblx0Ly8gQSBob29rIGNhbGwgY2FuIGludHJvZHVjZSBhIGNhbGwgdG8gcmVuZGVyIHdoaWNoIGNyZWF0ZXMgYSBuZXcgcm9vdCwgdGhpcyB3aWxsIGNhbGwgb3B0aW9ucy52bm9kZVxuXHQvLyBhbmQgbW92ZSB0aGUgY3VycmVudENvbXBvbmVudCBhd2F5LlxuXHRjb25zdCBjb21wID0gY3VycmVudENvbXBvbmVudDtcblx0aG9vay5fY2xlYW51cCA9IGhvb2suX3ZhbHVlKCk7XG5cdGN1cnJlbnRDb21wb25lbnQgPSBjb21wO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7YW55W119IG9sZEFyZ3NcbiAqIEBwYXJhbSB7YW55W119IG5ld0FyZ3NcbiAqL1xuZnVuY3Rpb24gYXJnc0NoYW5nZWQob2xkQXJncywgbmV3QXJncykge1xuXHRyZXR1cm4gKFxuXHRcdCFvbGRBcmdzIHx8XG5cdFx0b2xkQXJncy5sZW5ndGggIT09IG5ld0FyZ3MubGVuZ3RoIHx8XG5cdFx0bmV3QXJncy5zb21lKChhcmcsIGluZGV4KSA9PiBhcmcgIT09IG9sZEFyZ3NbaW5kZXhdKVxuXHQpO1xufVxuXG5mdW5jdGlvbiBpbnZva2VPclJldHVybihhcmcsIGYpIHtcblx0cmV0dXJuIHR5cGVvZiBmID09ICdmdW5jdGlvbicgPyBmKGFyZykgOiBmO1xufVxuIiwiLyoqXG4gKiBBc3NpZ24gcHJvcGVydGllcyBmcm9tIGBwcm9wc2AgdG8gYG9iamBcbiAqIEB0ZW1wbGF0ZSBPLCBQIFRoZSBvYmogYW5kIHByb3BzIHR5cGVzXG4gKiBAcGFyYW0ge099IG9iaiBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyB0b1xuICogQHBhcmFtIHtQfSBwcm9wcyBUaGUgb2JqZWN0IHRvIGNvcHkgcHJvcGVydGllcyBmcm9tXG4gKiBAcmV0dXJucyB7TyAmIFB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ24ob2JqLCBwcm9wcykge1xuXHRmb3IgKGxldCBpIGluIHByb3BzKSBvYmpbaV0gPSBwcm9wc1tpXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7TyAmIFB9ICovIChvYmopO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHR3byBvYmplY3RzIGhhdmUgYSBkaWZmZXJlbnQgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBhXG4gKiBAcGFyYW0ge29iamVjdH0gYlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFsbG93RGlmZmVycyhhLCBiKSB7XG5cdGZvciAobGV0IGkgaW4gYSkgaWYgKGkgIT09ICdfX3NvdXJjZScgJiYgIShpIGluIGIpKSByZXR1cm4gdHJ1ZTtcblx0Zm9yIChsZXQgaSBpbiBiKSBpZiAoaSAhPT0gJ19fc291cmNlJyAmJiBhW2ldICE9PSBiW2ldKSByZXR1cm4gdHJ1ZTtcblx0cmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKSB7XG5cdGxldCBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlO1xuXHRpZiAocGFyZW50Tm9kZSkgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSB0aGUgc2FtZSB2YWx1ZVxuICogQHBhcmFtIHsqfSB4XG4gKiBAcGFyYW0geyp9IHlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXMoeCwgeSkge1xuXHRyZXR1cm4gKHggPT09IHkgJiYgKHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5KSkgfHwgKHggIT09IHggJiYgeSAhPT0geSk7XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgc2hhbGxvd0RpZmZlcnMgfSBmcm9tICcuL3V0aWwnO1xuXG4vKipcbiAqIENvbXBvbmVudCBjbGFzcyB3aXRoIGEgcHJlZGVmaW5lZCBgc2hvdWxkQ29tcG9uZW50VXBkYXRlYCBpbXBsZW1lbnRhdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gUHVyZUNvbXBvbmVudChwKSB7XG5cdHRoaXMucHJvcHMgPSBwO1xufVxuUHVyZUNvbXBvbmVudC5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50KCk7XG4vLyBTb21lIHRoaXJkLXBhcnR5IGxpYnJhcmllcyBjaGVjayBpZiB0aGlzIHByb3BlcnR5IGlzIHByZXNlbnRcblB1cmVDb21wb25lbnQucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gdHJ1ZTtcblB1cmVDb21wb25lbnQucHJvdG90eXBlLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IGZ1bmN0aW9uKHByb3BzLCBzdGF0ZSkge1xuXHRyZXR1cm4gc2hhbGxvd0RpZmZlcnModGhpcy5wcm9wcywgcHJvcHMpIHx8IHNoYWxsb3dEaWZmZXJzKHRoaXMuc3RhdGUsIHN0YXRlKTtcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVFbGVtZW50IH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IHNoYWxsb3dEaWZmZXJzIH0gZnJvbSAnLi91dGlsJztcblxuLyoqXG4gKiBNZW1vaXplIGEgY29tcG9uZW50LCBzbyB0aGF0IGl0IG9ubHkgdXBkYXRlcyB3aGVuIHRoZSBwcm9wcyBhY3R1YWxseSBoYXZlXG4gKiBjaGFuZ2VkLiBUaGlzIHdhcyBwcmV2aW91c2x5IGtub3duIGFzIGBSZWFjdC5wdXJlYC5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuRnVuY3Rpb25Db21wb25lbnR9IGMgZnVuY3Rpb25hbCBjb21wb25lbnRcbiAqIEBwYXJhbSB7KHByZXY6IG9iamVjdCwgbmV4dDogb2JqZWN0KSA9PiBib29sZWFufSBbY29tcGFyZXJdIEN1c3RvbSBlcXVhbGl0eSBmdW5jdGlvblxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkZ1bmN0aW9uQ29tcG9uZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVtbyhjLCBjb21wYXJlcikge1xuXHRmdW5jdGlvbiBzaG91bGRVcGRhdGUobmV4dFByb3BzKSB7XG5cdFx0bGV0IHJlZiA9IHRoaXMucHJvcHMucmVmO1xuXHRcdGxldCB1cGRhdGVSZWYgPSByZWYgPT0gbmV4dFByb3BzLnJlZjtcblx0XHRpZiAoIXVwZGF0ZVJlZiAmJiByZWYpIHtcblx0XHRcdHJlZi5jYWxsID8gcmVmKG51bGwpIDogKHJlZi5jdXJyZW50ID0gbnVsbCk7XG5cdFx0fVxuXG5cdFx0aWYgKCFjb21wYXJlcikge1xuXHRcdFx0cmV0dXJuIHNoYWxsb3dEaWZmZXJzKHRoaXMucHJvcHMsIG5leHRQcm9wcyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuICFjb21wYXJlcih0aGlzLnByb3BzLCBuZXh0UHJvcHMpIHx8ICF1cGRhdGVSZWY7XG5cdH1cblxuXHRmdW5jdGlvbiBNZW1vZWQocHJvcHMpIHtcblx0XHR0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZSA9IHNob3VsZFVwZGF0ZTtcblx0XHRyZXR1cm4gY3JlYXRlRWxlbWVudChjLCBwcm9wcyk7XG5cdH1cblx0TWVtb2VkLmRpc3BsYXlOYW1lID0gJ01lbW8oJyArIChjLmRpc3BsYXlOYW1lIHx8IGMubmFtZSkgKyAnKSc7XG5cdE1lbW9lZC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cdE1lbW9lZC5fZm9yd2FyZGVkID0gdHJ1ZTtcblx0cmV0dXJuIE1lbW9lZDtcbn1cbiIsImltcG9ydCB7IG9wdGlvbnMgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcblxubGV0IG9sZERpZmZIb29rID0gb3B0aW9ucy5fZGlmZjtcbm9wdGlvbnMuX2RpZmYgPSB2bm9kZSA9PiB7XG5cdGlmICh2bm9kZS50eXBlICYmIHZub2RlLnR5cGUuX2ZvcndhcmRlZCAmJiB2bm9kZS5yZWYpIHtcblx0XHR2bm9kZS5wcm9wcy5yZWYgPSB2bm9kZS5yZWY7XG5cdFx0dm5vZGUucmVmID0gbnVsbDtcblx0fVxuXHRpZiAob2xkRGlmZkhvb2spIG9sZERpZmZIb29rKHZub2RlKTtcbn07XG5cbmV4cG9ydCBjb25zdCBSRUFDVF9GT1JXQVJEX1NZTUJPTCA9XG5cdCh0eXBlb2YgU3ltYm9sICE9ICd1bmRlZmluZWQnICYmXG5cdFx0U3ltYm9sLmZvciAmJlxuXHRcdFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJykpIHx8XG5cdDB4ZjQ3O1xuXG4vKipcbiAqIFBhc3MgcmVmIGRvd24gdG8gYSBjaGlsZC4gVGhpcyBpcyBtYWlubHkgdXNlZCBpbiBsaWJyYXJpZXMgd2l0aCBIT0NzIHRoYXRcbiAqIHdyYXAgY29tcG9uZW50cy4gVXNpbmcgYGZvcndhcmRSZWZgIHRoZXJlIGlzIGFuIGVhc3kgd2F5IHRvIGdldCBhIHJlZmVyZW5jZVxuICogb2YgdGhlIHdyYXBwZWQgY29tcG9uZW50IGluc3RlYWQgb2Ygb25lIG9mIHRoZSB3cmFwcGVyIGl0c2VsZi5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2luZGV4JykuRm9yd2FyZEZufSBmblxuICogQHJldHVybnMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkZ1bmN0aW9uQ29tcG9uZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yd2FyZFJlZihmbikge1xuXHRmdW5jdGlvbiBGb3J3YXJkZWQocHJvcHMpIHtcblx0XHRsZXQgY2xvbmUgPSBhc3NpZ24oe30sIHByb3BzKTtcblx0XHRkZWxldGUgY2xvbmUucmVmO1xuXHRcdHJldHVybiBmbihjbG9uZSwgcHJvcHMucmVmIHx8IG51bGwpO1xuXHR9XG5cblx0Ly8gbW9ieC1yZWFjdCBjaGVja3MgZm9yIHRoaXMgYmVpbmcgcHJlc2VudFxuXHRGb3J3YXJkZWQuJCR0eXBlb2YgPSBSRUFDVF9GT1JXQVJEX1NZTUJPTDtcblx0Ly8gbW9ieC1yZWFjdCBoZWF2aWx5IHJlbGllcyBvbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzLlxuXHQvLyBJdCBleHBlY3RzIGFuIG9iamVjdCBoZXJlIHdpdGggYSBgcmVuZGVyYCBwcm9wZXJ0eSxcblx0Ly8gYW5kIHByb3RvdHlwZS5yZW5kZXIgd2lsbCBmYWlsLiBXaXRob3V0IHRoaXNcblx0Ly8gbW9ieC1yZWFjdCB0aHJvd3MuXG5cdEZvcndhcmRlZC5yZW5kZXIgPSBGb3J3YXJkZWQ7XG5cblx0Rm9yd2FyZGVkLnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0gRm9yd2FyZGVkLl9mb3J3YXJkZWQgPSB0cnVlO1xuXHRGb3J3YXJkZWQuZGlzcGxheU5hbWUgPSAnRm9yd2FyZFJlZignICsgKGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUpICsgJyknO1xuXHRyZXR1cm4gRm9yd2FyZGVkO1xufVxuIiwiaW1wb3J0IHsgdG9DaGlsZEFycmF5IH0gZnJvbSAncHJlYWN0JztcblxuY29uc3QgbWFwRm4gPSAoY2hpbGRyZW4sIGZuKSA9PiB7XG5cdGlmIChjaGlsZHJlbiA9PSBudWxsKSByZXR1cm4gbnVsbDtcblx0cmV0dXJuIHRvQ2hpbGRBcnJheSh0b0NoaWxkQXJyYXkoY2hpbGRyZW4pLm1hcChmbikpO1xufTtcblxuLy8gVGhpcyBBUEkgaXMgY29tcGxldGVseSB1bm5lY2Vzc2FyeSBmb3IgUHJlYWN0LCBzbyBpdCdzIGJhc2ljYWxseSBwYXNzdGhyb3VnaC5cbmV4cG9ydCBjb25zdCBDaGlsZHJlbiA9IHtcblx0bWFwOiBtYXBGbixcblx0Zm9yRWFjaDogbWFwRm4sXG5cdGNvdW50KGNoaWxkcmVuKSB7XG5cdFx0cmV0dXJuIGNoaWxkcmVuID8gdG9DaGlsZEFycmF5KGNoaWxkcmVuKS5sZW5ndGggOiAwO1xuXHR9LFxuXHRvbmx5KGNoaWxkcmVuKSB7XG5cdFx0Y29uc3Qgbm9ybWFsaXplZCA9IHRvQ2hpbGRBcnJheShjaGlsZHJlbik7XG5cdFx0aWYgKG5vcm1hbGl6ZWQubGVuZ3RoICE9PSAxKSB0aHJvdyAnQ2hpbGRyZW4ub25seSc7XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZWRbMF07XG5cdH0sXG5cdHRvQXJyYXk6IHRvQ2hpbGRBcnJheVxufTtcbiIsImltcG9ydCB7IENvbXBvbmVudCwgY3JlYXRlRWxlbWVudCwgb3B0aW9ucywgRnJhZ21lbnQgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgYXNzaWduIH0gZnJvbSAnLi91dGlsJztcblxuY29uc3Qgb2xkQ2F0Y2hFcnJvciA9IG9wdGlvbnMuX2NhdGNoRXJyb3I7XG5vcHRpb25zLl9jYXRjaEVycm9yID0gZnVuY3Rpb24oZXJyb3IsIG5ld1ZOb2RlLCBvbGRWTm9kZSwgZXJyb3JJbmZvKSB7XG5cdGlmIChlcnJvci50aGVuKSB7XG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdFx0bGV0IGNvbXBvbmVudDtcblx0XHRsZXQgdm5vZGUgPSBuZXdWTm9kZTtcblxuXHRcdGZvciAoOyAodm5vZGUgPSB2bm9kZS5fcGFyZW50KTsgKSB7XG5cdFx0XHRpZiAoKGNvbXBvbmVudCA9IHZub2RlLl9jb21wb25lbnQpICYmIGNvbXBvbmVudC5fY2hpbGREaWRTdXNwZW5kKSB7XG5cdFx0XHRcdGlmIChuZXdWTm9kZS5fZG9tID09IG51bGwpIHtcblx0XHRcdFx0XHRuZXdWTm9kZS5fZG9tID0gb2xkVk5vZGUuX2RvbTtcblx0XHRcdFx0XHRuZXdWTm9kZS5fY2hpbGRyZW4gPSBvbGRWTm9kZS5fY2hpbGRyZW47XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gRG9uJ3QgY2FsbCBvbGRDYXRjaEVycm9yIGlmIHdlIGZvdW5kIGEgU3VzcGVuc2Vcblx0XHRcdFx0cmV0dXJuIGNvbXBvbmVudC5fY2hpbGREaWRTdXNwZW5kKGVycm9yLCBuZXdWTm9kZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdG9sZENhdGNoRXJyb3IoZXJyb3IsIG5ld1ZOb2RlLCBvbGRWTm9kZSwgZXJyb3JJbmZvKTtcbn07XG5cbmNvbnN0IG9sZFVubW91bnQgPSBvcHRpb25zLnVubW91bnQ7XG5vcHRpb25zLnVubW91bnQgPSBmdW5jdGlvbih2bm9kZSkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH0gKi9cblx0Y29uc3QgY29tcG9uZW50ID0gdm5vZGUuX2NvbXBvbmVudDtcblx0aWYgKGNvbXBvbmVudCAmJiBjb21wb25lbnQuX29uUmVzb2x2ZSkge1xuXHRcdGNvbXBvbmVudC5fb25SZXNvbHZlKCk7XG5cdH1cblxuXHQvLyBpZiB0aGUgY29tcG9uZW50IGlzIHN0aWxsIGh5ZHJhdGluZ1xuXHQvLyBtb3N0IGxpa2VseSBpdCBpcyBiZWNhdXNlIHRoZSBjb21wb25lbnQgaXMgc3VzcGVuZGVkXG5cdC8vIHdlIHNldCB0aGUgdm5vZGUudHlwZSBhcyBgbnVsbGAgc28gdGhhdCBpdCBpcyBub3QgYSB0eXBlb2YgZnVuY3Rpb25cblx0Ly8gc28gdGhlIHVubW91bnQgd2lsbCByZW1vdmUgdGhlIHZub2RlLl9kb21cblx0aWYgKGNvbXBvbmVudCAmJiB2bm9kZS5faHlkcmF0aW5nID09PSB0cnVlKSB7XG5cdFx0dm5vZGUudHlwZSA9IG51bGw7XG5cdH1cblxuXHRpZiAob2xkVW5tb3VudCkgb2xkVW5tb3VudCh2bm9kZSk7XG59O1xuXG5mdW5jdGlvbiBkZXRhY2hlZENsb25lKHZub2RlLCBkZXRhY2hlZFBhcmVudCwgcGFyZW50RG9tKSB7XG5cdGlmICh2bm9kZSkge1xuXHRcdGlmICh2bm9kZS5fY29tcG9uZW50ICYmIHZub2RlLl9jb21wb25lbnQuX19ob29rcykge1xuXHRcdFx0dm5vZGUuX2NvbXBvbmVudC5fX2hvb2tzLl9saXN0LmZvckVhY2goZWZmZWN0ID0+IHtcblx0XHRcdFx0aWYgKHR5cGVvZiBlZmZlY3QuX2NsZWFudXAgPT0gJ2Z1bmN0aW9uJykgZWZmZWN0Ll9jbGVhbnVwKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dm5vZGUuX2NvbXBvbmVudC5fX2hvb2tzID0gbnVsbDtcblx0XHR9XG5cblx0XHR2bm9kZSA9IGFzc2lnbih7fSwgdm5vZGUpO1xuXHRcdGlmICh2bm9kZS5fY29tcG9uZW50ICE9IG51bGwpIHtcblx0XHRcdGlmICh2bm9kZS5fY29tcG9uZW50Ll9wYXJlbnREb20gPT09IHBhcmVudERvbSkge1xuXHRcdFx0XHR2bm9kZS5fY29tcG9uZW50Ll9wYXJlbnREb20gPSBkZXRhY2hlZFBhcmVudDtcblx0XHRcdH1cblx0XHRcdHZub2RlLl9jb21wb25lbnQgPSBudWxsO1xuXHRcdH1cblxuXHRcdHZub2RlLl9jaGlsZHJlbiA9XG5cdFx0XHR2bm9kZS5fY2hpbGRyZW4gJiZcblx0XHRcdHZub2RlLl9jaGlsZHJlbi5tYXAoY2hpbGQgPT5cblx0XHRcdFx0ZGV0YWNoZWRDbG9uZShjaGlsZCwgZGV0YWNoZWRQYXJlbnQsIHBhcmVudERvbSlcblx0XHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gdm5vZGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU9yaWdpbmFsKHZub2RlLCBkZXRhY2hlZFBhcmVudCwgb3JpZ2luYWxQYXJlbnQpIHtcblx0aWYgKHZub2RlKSB7XG5cdFx0dm5vZGUuX29yaWdpbmFsID0gbnVsbDtcblx0XHR2bm9kZS5fY2hpbGRyZW4gPVxuXHRcdFx0dm5vZGUuX2NoaWxkcmVuICYmXG5cdFx0XHR2bm9kZS5fY2hpbGRyZW4ubWFwKGNoaWxkID0+XG5cdFx0XHRcdHJlbW92ZU9yaWdpbmFsKGNoaWxkLCBkZXRhY2hlZFBhcmVudCwgb3JpZ2luYWxQYXJlbnQpXG5cdFx0XHQpO1xuXG5cdFx0aWYgKHZub2RlLl9jb21wb25lbnQpIHtcblx0XHRcdGlmICh2bm9kZS5fY29tcG9uZW50Ll9wYXJlbnREb20gPT09IGRldGFjaGVkUGFyZW50KSB7XG5cdFx0XHRcdGlmICh2bm9kZS5fZG9tKSB7XG5cdFx0XHRcdFx0b3JpZ2luYWxQYXJlbnQuaW5zZXJ0QmVmb3JlKHZub2RlLl9kb20sIHZub2RlLl9uZXh0RG9tKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2bm9kZS5fY29tcG9uZW50Ll9mb3JjZSA9IHRydWU7XG5cdFx0XHRcdHZub2RlLl9jb21wb25lbnQuX3BhcmVudERvbSA9IG9yaWdpbmFsUGFyZW50O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB2bm9kZTtcbn1cblxuLy8gaGF2aW5nIGN1c3RvbSBpbmhlcml0YW5jZSBpbnN0ZWFkIG9mIGEgY2xhc3MgaGVyZSBzYXZlcyBhIGxvdCBvZiBieXRlc1xuZXhwb3J0IGZ1bmN0aW9uIFN1c3BlbnNlKCkge1xuXHQvLyB3ZSBkbyBub3QgY2FsbCBzdXBlciBoZXJlIHRvIGdvbGYgc29tZSBieXRlcy4uLlxuXHR0aGlzLl9wZW5kaW5nU3VzcGVuc2lvbkNvdW50ID0gMDtcblx0dGhpcy5fc3VzcGVuZGVycyA9IG51bGw7XG5cdHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGw7XG59XG5cbi8vIFRoaW5ncyB3ZSBkbyBoZXJlIHRvIHNhdmUgc29tZSBieXRlcyBidXQgYXJlIG5vdCBwcm9wZXIgSlMgaW5oZXJpdGFuY2U6XG4vLyAtIGNhbGwgYG5ldyBDb21wb25lbnQoKWAgYXMgdGhlIHByb3RvdHlwZVxuLy8gLSBkbyBub3Qgc2V0IGBTdXNwZW5zZS5wcm90b3R5cGUuY29uc3RydWN0b3JgIHRvIGBTdXNwZW5zZWBcblN1c3BlbnNlLnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnQoKTtcblxuLyoqXG4gKiBAdGhpcyB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VDb21wb25lbnR9XG4gKiBAcGFyYW0ge1Byb21pc2V9IHByb21pc2UgVGhlIHRocm93biBwcm9taXNlXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlPGFueSwgYW55Pn0gc3VzcGVuZGluZ1ZOb2RlIFRoZSBzdXNwZW5kaW5nIGNvbXBvbmVudFxuICovXG5TdXNwZW5zZS5wcm90b3R5cGUuX2NoaWxkRGlkU3VzcGVuZCA9IGZ1bmN0aW9uKHByb21pc2UsIHN1c3BlbmRpbmdWTm9kZSkge1xuXHRjb25zdCBzdXNwZW5kaW5nQ29tcG9uZW50ID0gc3VzcGVuZGluZ1ZOb2RlLl9jb21wb25lbnQ7XG5cblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5TdXNwZW5zZUNvbXBvbmVudH0gKi9cblx0Y29uc3QgYyA9IHRoaXM7XG5cblx0aWYgKGMuX3N1c3BlbmRlcnMgPT0gbnVsbCkge1xuXHRcdGMuX3N1c3BlbmRlcnMgPSBbXTtcblx0fVxuXHRjLl9zdXNwZW5kZXJzLnB1c2goc3VzcGVuZGluZ0NvbXBvbmVudCk7XG5cblx0Y29uc3QgcmVzb2x2ZSA9IHN1c3BlbmRlZChjLl92bm9kZSk7XG5cblx0bGV0IHJlc29sdmVkID0gZmFsc2U7XG5cdGNvbnN0IG9uUmVzb2x2ZWQgPSAoKSA9PiB7XG5cdFx0aWYgKHJlc29sdmVkKSByZXR1cm47XG5cblx0XHRyZXNvbHZlZCA9IHRydWU7XG5cdFx0c3VzcGVuZGluZ0NvbXBvbmVudC5fb25SZXNvbHZlID0gbnVsbDtcblxuXHRcdGlmIChyZXNvbHZlKSB7XG5cdFx0XHRyZXNvbHZlKG9uU3VzcGVuc2lvbkNvbXBsZXRlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b25TdXNwZW5zaW9uQ29tcGxldGUoKTtcblx0XHR9XG5cdH07XG5cblx0c3VzcGVuZGluZ0NvbXBvbmVudC5fb25SZXNvbHZlID0gb25SZXNvbHZlZDtcblxuXHRjb25zdCBvblN1c3BlbnNpb25Db21wbGV0ZSA9ICgpID0+IHtcblx0XHRpZiAoIS0tYy5fcGVuZGluZ1N1c3BlbnNpb25Db3VudCkge1xuXHRcdFx0Ly8gSWYgdGhlIHN1c3BlbnNpb24gd2FzIGR1cmluZyBoeWRyYXRpb24gd2UgZG9uJ3QgbmVlZCB0byByZXN0b3JlIHRoZVxuXHRcdFx0Ly8gc3VzcGVuZGVkIGNoaWxkcmVuIGludG8gdGhlIF9jaGlsZHJlbiBhcnJheVxuXHRcdFx0aWYgKGMuc3RhdGUuX3N1c3BlbmRlZCkge1xuXHRcdFx0XHRjb25zdCBzdXNwZW5kZWRWTm9kZSA9IGMuc3RhdGUuX3N1c3BlbmRlZDtcblx0XHRcdFx0Yy5fdm5vZGUuX2NoaWxkcmVuWzBdID0gcmVtb3ZlT3JpZ2luYWwoXG5cdFx0XHRcdFx0c3VzcGVuZGVkVk5vZGUsXG5cdFx0XHRcdFx0c3VzcGVuZGVkVk5vZGUuX2NvbXBvbmVudC5fcGFyZW50RG9tLFxuXHRcdFx0XHRcdHN1c3BlbmRlZFZOb2RlLl9jb21wb25lbnQuX29yaWdpbmFsUGFyZW50RG9tXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGMuc2V0U3RhdGUoeyBfc3VzcGVuZGVkOiAoYy5fZGV0YWNoT25OZXh0UmVuZGVyID0gbnVsbCkgfSk7XG5cblx0XHRcdGxldCBzdXNwZW5kZWQ7XG5cdFx0XHR3aGlsZSAoKHN1c3BlbmRlZCA9IGMuX3N1c3BlbmRlcnMucG9wKCkpKSB7XG5cdFx0XHRcdHN1c3BlbmRlZC5mb3JjZVVwZGF0ZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogV2UgZG8gbm90IHNldCBgc3VzcGVuZGVkOiB0cnVlYCBkdXJpbmcgaHlkcmF0aW9uIGJlY2F1c2Ugd2Ugd2FudCB0aGUgYWN0dWFsIG1hcmt1cFxuXHQgKiB0byByZW1haW4gb24gc2NyZWVuIGFuZCBoeWRyYXRlIGl0IHdoZW4gdGhlIHN1c3BlbnNlIGFjdHVhbGx5IGdldHMgcmVzb2x2ZWQuXG5cdCAqIFdoaWxlIGluIG5vbi1oeWRyYXRpb24gY2FzZXMgdGhlIHVzdWFsIGZhbGxiYWNrIC0+IGNvbXBvbmVudCBmbG93IHdvdWxkIG9jY291ci5cblx0ICovXG5cdGNvbnN0IHdhc0h5ZHJhdGluZyA9IHN1c3BlbmRpbmdWTm9kZS5faHlkcmF0aW5nID09PSB0cnVlO1xuXHRpZiAoIWMuX3BlbmRpbmdTdXNwZW5zaW9uQ291bnQrKyAmJiAhd2FzSHlkcmF0aW5nKSB7XG5cdFx0Yy5zZXRTdGF0ZSh7IF9zdXNwZW5kZWQ6IChjLl9kZXRhY2hPbk5leHRSZW5kZXIgPSBjLl92bm9kZS5fY2hpbGRyZW5bMF0pIH0pO1xuXHR9XG5cdHByb21pc2UudGhlbihvblJlc29sdmVkLCBvblJlc29sdmVkKTtcbn07XG5cblN1c3BlbnNlLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uKCkge1xuXHR0aGlzLl9zdXNwZW5kZXJzID0gW107XG59O1xuXG4vKipcbiAqIEB0aGlzIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5TdXNwZW5zZUNvbXBvbmVudH1cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VDb21wb25lbnRbXCJwcm9wc1wiXX0gcHJvcHNcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuU3VzcGVuc2VTdGF0ZX0gc3RhdGVcbiAqL1xuU3VzcGVuc2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKHByb3BzLCBzdGF0ZSkge1xuXHRpZiAodGhpcy5fZGV0YWNoT25OZXh0UmVuZGVyKSB7XG5cdFx0Ly8gV2hlbiB0aGUgU3VzcGVuc2UncyBfdm5vZGUgd2FzIGNyZWF0ZWQgYnkgYSBjYWxsIHRvIGNyZWF0ZVZOb2RlXG5cdFx0Ly8gKGkuZS4gZHVlIHRvIGEgc2V0U3RhdGUgZnVydGhlciB1cCBpbiB0aGUgdHJlZSlcblx0XHQvLyBpdCdzIF9jaGlsZHJlbiBwcm9wIGlzIG51bGwsIGluIHRoaXMgY2FzZSB3ZSBcImZvcmdldFwiIGFib3V0IHRoZSBwYXJrZWQgdm5vZGVzIHRvIGRldGFjaFxuXHRcdGlmICh0aGlzLl92bm9kZS5fY2hpbGRyZW4pIHtcblx0XHRcdGNvbnN0IGRldGFjaGVkUGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0XHRjb25zdCBkZXRhY2hlZENvbXBvbmVudCA9IHRoaXMuX3Zub2RlLl9jaGlsZHJlblswXS5fY29tcG9uZW50O1xuXHRcdFx0dGhpcy5fdm5vZGUuX2NoaWxkcmVuWzBdID0gZGV0YWNoZWRDbG9uZShcblx0XHRcdFx0dGhpcy5fZGV0YWNoT25OZXh0UmVuZGVyLFxuXHRcdFx0XHRkZXRhY2hlZFBhcmVudCxcblx0XHRcdFx0KGRldGFjaGVkQ29tcG9uZW50Ll9vcmlnaW5hbFBhcmVudERvbSA9IGRldGFjaGVkQ29tcG9uZW50Ll9wYXJlbnREb20pXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHRoaXMuX2RldGFjaE9uTmV4dFJlbmRlciA9IG51bGw7XG5cdH1cblxuXHQvLyBXcmFwIGZhbGxiYWNrIHRyZWUgaW4gYSBWTm9kZSB0aGF0IHByZXZlbnRzIGl0c2VsZiBmcm9tIGJlaW5nIG1hcmtlZCBhcyBhYm9ydGluZyBtaWQtaHlkcmF0aW9uOlxuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSAqL1xuXHRjb25zdCBmYWxsYmFjayA9XG5cdFx0c3RhdGUuX3N1c3BlbmRlZCAmJiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBwcm9wcy5mYWxsYmFjayk7XG5cdGlmIChmYWxsYmFjaykgZmFsbGJhY2suX2h5ZHJhdGluZyA9IG51bGw7XG5cblx0cmV0dXJuIFtcblx0XHRjcmVhdGVFbGVtZW50KEZyYWdtZW50LCBudWxsLCBzdGF0ZS5fc3VzcGVuZGVkID8gbnVsbCA6IHByb3BzLmNoaWxkcmVuKSxcblx0XHRmYWxsYmFja1xuXHRdO1xufTtcblxuLyoqXG4gKiBDaGVja3MgYW5kIGNhbGxzIHRoZSBwYXJlbnQgY29tcG9uZW50J3MgX3N1c3BlbmRlZCBtZXRob2QsIHBhc3NpbmcgaW4gdGhlXG4gKiBzdXNwZW5kZWQgdm5vZGUuIFRoaXMgaXMgYSB3YXkgZm9yIGEgcGFyZW50IChlLmcuIFN1c3BlbnNlTGlzdCkgdG8gZ2V0IG5vdGlmaWVkXG4gKiB0aGF0IG9uZSBvZiBpdHMgY2hpbGRyZW4vZGVzY2VuZGFudHMgc3VzcGVuZGVkLlxuICpcbiAqIFRoZSBwYXJlbnQgTUFZIHJldHVybiBhIGNhbGxiYWNrLiBUaGUgY2FsbGJhY2sgd2lsbCBnZXQgY2FsbGVkIHdoZW4gdGhlXG4gKiBzdXNwZW5zaW9uIHJlc29sdmVzLCBub3RpZnlpbmcgdGhlIHBhcmVudCBvZiB0aGUgZmFjdC5cbiAqIE1vcmVvdmVyLCB0aGUgY2FsbGJhY2sgZ2V0cyBmdW5jdGlvbiBgdW5zdXNwZW5kYCBhcyBhIHBhcmFtZXRlci4gVGhlIHJlc29sdmVkXG4gKiBjaGlsZCBkZXNjZW5kYW50IHdpbGwgbm90IGFjdHVhbGx5IGdldCB1bnN1c3BlbmRlZCB1bnRpbCBgdW5zdXNwZW5kYCBnZXRzIGNhbGxlZC5cbiAqIFRoaXMgaXMgYSB3YXkgZm9yIHRoZSBwYXJlbnQgdG8gZGVsYXkgdW5zdXNwZW5kaW5nLlxuICpcbiAqIElmIHRoZSBwYXJlbnQgZG9lcyBub3QgcmV0dXJuIGEgY2FsbGJhY2sgdGhlbiB0aGUgcmVzb2x2ZWQgdm5vZGVcbiAqIGdldHMgdW5zdXNwZW5kZWQgaW1tZWRpYXRlbHkgd2hlbiBpdCByZXNvbHZlcy5cbiAqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZVxuICogQHJldHVybnMgeygodW5zdXNwZW5kOiAoKSA9PiB2b2lkKSA9PiB2b2lkKT99XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdXNwZW5kZWQodm5vZGUpIHtcblx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5Db21wb25lbnR9ICovXG5cdGxldCBjb21wb25lbnQgPSB2bm9kZS5fcGFyZW50Ll9jb21wb25lbnQ7XG5cdHJldHVybiBjb21wb25lbnQgJiYgY29tcG9uZW50Ll9zdXNwZW5kZWQgJiYgY29tcG9uZW50Ll9zdXNwZW5kZWQodm5vZGUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGF6eShsb2FkZXIpIHtcblx0bGV0IHByb207XG5cdGxldCBjb21wb25lbnQ7XG5cdGxldCBlcnJvcjtcblxuXHRmdW5jdGlvbiBMYXp5KHByb3BzKSB7XG5cdFx0aWYgKCFwcm9tKSB7XG5cdFx0XHRwcm9tID0gbG9hZGVyKCk7XG5cdFx0XHRwcm9tLnRoZW4oXG5cdFx0XHRcdGV4cG9ydHMgPT4ge1xuXHRcdFx0XHRcdGNvbXBvbmVudCA9IGV4cG9ydHMuZGVmYXVsdCB8fCBleHBvcnRzO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRlID0+IHtcblx0XHRcdFx0XHRlcnJvciA9IGU7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRpZiAoIWNvbXBvbmVudCkge1xuXHRcdFx0dGhyb3cgcHJvbTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY3JlYXRlRWxlbWVudChjb21wb25lbnQsIHByb3BzKTtcblx0fVxuXG5cdExhenkuZGlzcGxheU5hbWUgPSAnTGF6eSc7XG5cdExhenkuX2ZvcndhcmRlZCA9IHRydWU7XG5cdHJldHVybiBMYXp5O1xufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCB0b0NoaWxkQXJyYXkgfSBmcm9tICdwcmVhY3QnO1xuaW1wb3J0IHsgc3VzcGVuZGVkIH0gZnJvbSAnLi9zdXNwZW5zZS5qcyc7XG5cbi8vIEluZGV4ZXMgdG8gbGlua2VkIGxpc3Qgbm9kZXMgKG5vZGVzIGFyZSBzdG9yZWQgYXMgYXJyYXlzIHRvIHNhdmUgYnl0ZXMpLlxuY29uc3QgU1VTUEVOREVEX0NPVU5UID0gMDtcbmNvbnN0IFJFU09MVkVEX0NPVU5UID0gMTtcbmNvbnN0IE5FWFRfTk9ERSA9IDI7XG5cbi8vIEhhdmluZyBjdXN0b20gaW5oZXJpdGFuY2UgaW5zdGVhZCBvZiBhIGNsYXNzIGhlcmUgc2F2ZXMgYSBsb3Qgb2YgYnl0ZXMuXG5leHBvcnQgZnVuY3Rpb24gU3VzcGVuc2VMaXN0KCkge1xuXHR0aGlzLl9uZXh0ID0gbnVsbDtcblx0dGhpcy5fbWFwID0gbnVsbDtcbn1cblxuLy8gTWFyayBvbmUgb2YgY2hpbGQncyBlYXJsaWVyIHN1c3BlbnNpb25zIGFzIHJlc29sdmVkLlxuLy8gU29tZSBwZW5kaW5nIGNhbGxiYWNrcyBtYXkgYmVjb21lIGNhbGxhYmxlIGR1ZSB0byB0aGlzXG4vLyAoZS5nLiB0aGUgbGFzdCBzdXNwZW5kZWQgZGVzY2VuZGFudCBnZXRzIHJlc29sdmVkIHdoZW5cbi8vIHJldmVhbE9yZGVyID09PSAndG9nZXRoZXInKS4gUHJvY2VzcyB0aG9zZSBjYWxsYmFja3MgYXMgd2VsbC5cbmNvbnN0IHJlc29sdmUgPSAobGlzdCwgY2hpbGQsIG5vZGUpID0+IHtcblx0aWYgKCsrbm9kZVtSRVNPTFZFRF9DT1VOVF0gPT09IG5vZGVbU1VTUEVOREVEX0NPVU5UXSkge1xuXHRcdC8vIFRoZSBudW1iZXIgYSBjaGlsZCAob3IgYW55IG9mIGl0cyBkZXNjZW5kYW50cykgaGFzIGJlZW4gc3VzcGVuZGVkXG5cdFx0Ly8gbWF0Y2hlcyB0aGUgbnVtYmVyIG9mIHRpbWVzIGl0J3MgYmVlbiByZXNvbHZlZC4gVGhlcmVmb3JlIHdlXG5cdFx0Ly8gbWFyayB0aGUgY2hpbGQgYXMgY29tcGxldGVseSByZXNvbHZlZCBieSBkZWxldGluZyBpdCBmcm9tIC5fbWFwLlxuXHRcdC8vIFRoaXMgaXMgdXNlZCB0byBmaWd1cmUgb3V0IHdoZW4gKmFsbCogY2hpbGRyZW4gaGF2ZSBiZWVuIGNvbXBsZXRlbHlcblx0XHQvLyByZXNvbHZlZCB3aGVuIHJldmVhbE9yZGVyIGlzICd0b2dldGhlcicuXG5cdFx0bGlzdC5fbWFwLmRlbGV0ZShjaGlsZCk7XG5cdH1cblxuXHQvLyBJZiByZXZlYWxPcmRlciBpcyBmYWxzeSB0aGVuIHdlIGNhbiBkbyBhbiBlYXJseSBleGl0LCBhcyB0aGVcblx0Ly8gY2FsbGJhY2tzIHdvbid0IGdldCBxdWV1ZWQgaW4gdGhlIG5vZGUgYW55d2F5LlxuXHQvLyBJZiByZXZlYWxPcmRlciBpcyAndG9nZXRoZXInIHRoZW4gYWxzbyBkbyBhbiBlYXJseSBleGl0XG5cdC8vIGlmIGFsbCBzdXNwZW5kZWQgZGVzY2VuZGFudHMgaGF2ZSBub3QgeWV0IGJlZW4gcmVzb2x2ZWQuXG5cdGlmIChcblx0XHQhbGlzdC5wcm9wcy5yZXZlYWxPcmRlciB8fFxuXHRcdChsaXN0LnByb3BzLnJldmVhbE9yZGVyWzBdID09PSAndCcgJiYgbGlzdC5fbWFwLnNpemUpXG5cdCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFdhbGsgdGhlIGN1cnJlbnRseSBzdXNwZW5kZWQgY2hpbGRyZW4gaW4gb3JkZXIsIGNhbGxpbmcgdGhlaXJcblx0Ly8gc3RvcmVkIGNhbGxiYWNrcyBvbiB0aGUgd2F5LiBTdG9wIGlmIHdlIGVuY291bnRlciBhIGNoaWxkIHRoYXRcblx0Ly8gaGFzIG5vdCBiZWVuIGNvbXBsZXRlbHkgcmVzb2x2ZWQgeWV0LlxuXHRub2RlID0gbGlzdC5fbmV4dDtcblx0d2hpbGUgKG5vZGUpIHtcblx0XHR3aGlsZSAobm9kZS5sZW5ndGggPiAzKSB7XG5cdFx0XHRub2RlLnBvcCgpKCk7XG5cdFx0fVxuXHRcdGlmIChub2RlW1JFU09MVkVEX0NPVU5UXSA8IG5vZGVbU1VTUEVOREVEX0NPVU5UXSkge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGxpc3QuX25leHQgPSBub2RlID0gbm9kZVtORVhUX05PREVdO1xuXHR9XG59O1xuXG4vLyBUaGluZ3Mgd2UgZG8gaGVyZSB0byBzYXZlIHNvbWUgYnl0ZXMgYnV0IGFyZSBub3QgcHJvcGVyIEpTIGluaGVyaXRhbmNlOlxuLy8gLSBjYWxsIGBuZXcgQ29tcG9uZW50KClgIGFzIHRoZSBwcm90b3R5cGVcbi8vIC0gZG8gbm90IHNldCBgU3VzcGVuc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yYCB0byBgU3VzcGVuc2VgXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlID0gbmV3IENvbXBvbmVudCgpO1xuXG5TdXNwZW5zZUxpc3QucHJvdG90eXBlLl9zdXNwZW5kZWQgPSBmdW5jdGlvbihjaGlsZCkge1xuXHRjb25zdCBsaXN0ID0gdGhpcztcblx0Y29uc3QgZGVsZWdhdGVkID0gc3VzcGVuZGVkKGxpc3QuX3Zub2RlKTtcblxuXHRsZXQgbm9kZSA9IGxpc3QuX21hcC5nZXQoY2hpbGQpO1xuXHRub2RlW1NVU1BFTkRFRF9DT1VOVF0rKztcblxuXHRyZXR1cm4gdW5zdXNwZW5kID0+IHtcblx0XHRjb25zdCB3cmFwcGVkVW5zdXNwZW5kID0gKCkgPT4ge1xuXHRcdFx0aWYgKCFsaXN0LnByb3BzLnJldmVhbE9yZGVyKSB7XG5cdFx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0aGUgdW5kZWZpbmVkIChmYWxzeSkgcmV2ZWFsT3JkZXIsIGFzIHRoZXJlXG5cdFx0XHRcdC8vIGlzIG5vIG5lZWQgdG8gY29vcmRpbmF0ZSBhIHNwZWNpZmljIG9yZGVyIG9yIHVuc3VzcGVuZHMuXG5cdFx0XHRcdHVuc3VzcGVuZCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bm9kZS5wdXNoKHVuc3VzcGVuZCk7XG5cdFx0XHRcdHJlc29sdmUobGlzdCwgY2hpbGQsIG5vZGUpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0aWYgKGRlbGVnYXRlZCkge1xuXHRcdFx0ZGVsZWdhdGVkKHdyYXBwZWRVbnN1c3BlbmQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3cmFwcGVkVW5zdXNwZW5kKCk7XG5cdFx0fVxuXHR9O1xufTtcblxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbihwcm9wcykge1xuXHR0aGlzLl9uZXh0ID0gbnVsbDtcblx0dGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuXG5cdGNvbnN0IGNoaWxkcmVuID0gdG9DaGlsZEFycmF5KHByb3BzLmNoaWxkcmVuKTtcblx0aWYgKHByb3BzLnJldmVhbE9yZGVyICYmIHByb3BzLnJldmVhbE9yZGVyWzBdID09PSAnYicpIHtcblx0XHQvLyBJZiBvcmRlciA9PT0gJ2JhY2t3YXJkcycgKG9yLCB3ZWxsLCBhbnl0aGluZyBzdGFydGluZyB3aXRoIGEgJ2InKVxuXHRcdC8vIHRoZW4gZmxpcCB0aGUgY2hpbGQgbGlzdCBhcm91bmQgc28gdGhhdCB0aGUgbGFzdCBjaGlsZCB3aWxsIGJlXG5cdFx0Ly8gdGhlIGZpcnN0IGluIHRoZSBsaW5rZWQgbGlzdC5cblx0XHRjaGlsZHJlbi5yZXZlcnNlKCk7XG5cdH1cblx0Ly8gQnVpbGQgdGhlIGxpbmtlZCBsaXN0LiBJdGVyYXRlIHRocm91Z2ggdGhlIGNoaWxkcmVuIGluIHJldmVyc2Ugb3JkZXJcblx0Ly8gc28gdGhhdCBgX25leHRgIHBvaW50cyB0byB0aGUgZmlyc3QgbGlua2VkIGxpc3Qgbm9kZSB0byBiZSByZXNvbHZlZC5cblx0Zm9yIChsZXQgaSA9IGNoaWxkcmVuLmxlbmd0aDsgaS0tOyApIHtcblx0XHQvLyBDcmVhdGUgYSBuZXcgbGlua2VkIGxpc3Qgbm9kZSBhcyBhbiBhcnJheSBvZiBmb3JtOlxuXHRcdC8vIFx0W3N1c3BlbmRlZF9jb3VudCwgcmVzb2x2ZWRfY291bnQsIG5leHRfbm9kZV1cblx0XHQvLyB3aGVyZSBzdXNwZW5kZWRfY291bnQgYW5kIHJlc29sdmVkX2NvdW50IGFyZSBudW1lcmljIGNvdW50ZXJzIGZvclxuXHRcdC8vIGtlZXBpbmcgdHJhY2sgaG93IG1hbnkgdGltZXMgYSBub2RlIGhhcyBiZWVuIHN1c3BlbmRlZCBhbmQgcmVzb2x2ZWQuXG5cdFx0Ly9cblx0XHQvLyBOb3RlIHRoYXQgc3VzcGVuZGVkX2NvdW50IHN0YXJ0cyBmcm9tIDEgaW5zdGVhZCBvZiAwLCBzbyB3ZSBjYW4gYmxvY2tcblx0XHQvLyBwcm9jZXNzaW5nIGNhbGxiYWNrcyB1bnRpbCBjb21wb25lbnREaWRNb3VudCBoYXMgYmVlbiBjYWxsZWQuIEluIGEgc2Vuc2Vcblx0XHQvLyBub2RlIGlzIHN1c3BlbmRlZCBhdCBsZWFzdCB1bnRpbCBjb21wb25lbnREaWRNb3VudCBnZXRzIGNhbGxlZCFcblx0XHQvL1xuXHRcdC8vIFBlbmRpbmcgY2FsbGJhY2tzIGFyZSBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBub2RlOlxuXHRcdC8vIFx0W3N1c3BlbmRlZF9jb3VudCwgcmVzb2x2ZWRfY291bnQsIG5leHRfbm9kZSwgY2FsbGJhY2tfMCwgY2FsbGJhY2tfMSwgLi4uXVxuXHRcdHRoaXMuX21hcC5zZXQoY2hpbGRyZW5baV0sICh0aGlzLl9uZXh0ID0gWzEsIDAsIHRoaXMuX25leHRdKSk7XG5cdH1cblx0cmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufTtcblxuU3VzcGVuc2VMaXN0LnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBTdXNwZW5zZUxpc3QucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24oKSB7XG5cdC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgY2hpbGRyZW4gYWZ0ZXIgbW91bnRpbmcgZm9yIHR3byByZWFzb25zOlxuXHQvLyAxLiBBcyBlYWNoIG5vZGVbU1VTUEVOREVEX0NPVU5UXSBzdGFydHMgZnJvbSAxLCB0aGlzIGl0ZXJhdGlvbiBpbmNyZWFzZXNcblx0Ly8gICAgZWFjaCBub2RlW1JFTEVBU0VEX0NPVU5UXSBieSAxLCB0aGVyZWZvcmUgYmFsYW5jaW5nIHRoZSBjb3VudGVycy5cblx0Ly8gICAgVGhlIG5vZGVzIGNhbiBub3cgYmUgY29tcGxldGVseSBjb25zdW1lZCBmcm9tIHRoZSBsaW5rZWQgbGlzdC5cblx0Ly8gMi4gSGFuZGxlIG5vZGVzIHRoYXQgbWlnaHQgaGF2ZSBnb3R0ZW4gcmVzb2x2ZWQgYmV0d2VlbiByZW5kZXIgYW5kXG5cdC8vICAgIGNvbXBvbmVudERpZE1vdW50LlxuXHR0aGlzLl9tYXAuZm9yRWFjaCgobm9kZSwgY2hpbGQpID0+IHtcblx0XHRyZXNvbHZlKHRoaXMsIGNoaWxkLCBub2RlKTtcblx0fSk7XG59O1xuIiwiaW1wb3J0IHsgY3JlYXRlRWxlbWVudCwgcmVuZGVyIH0gZnJvbSAncHJlYWN0JztcblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vLi4vc3JjL2luZGV4JykuUmVuZGVyYWJsZVByb3BzPHsgY29udGV4dDogYW55IH0+fSBwcm9wc1xuICovXG5mdW5jdGlvbiBDb250ZXh0UHJvdmlkZXIocHJvcHMpIHtcblx0dGhpcy5nZXRDaGlsZENvbnRleHQgPSAoKSA9PiBwcm9wcy5jb250ZXh0O1xuXHRyZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59XG5cbi8qKlxuICogUG9ydGFsIGNvbXBvbmVudFxuICogQHRoaXMge2ltcG9ydCgnLi9pbnRlcm5hbCcpLkNvbXBvbmVudH1cbiAqIEBwYXJhbSB7b2JqZWN0IHwgbnVsbCB8IHVuZGVmaW5lZH0gcHJvcHNcbiAqXG4gKiBUT0RPOiB1c2UgY3JlYXRlUm9vdCgpIGluc3RlYWQgb2YgZmFrZSByb290XG4gKi9cbmZ1bmN0aW9uIFBvcnRhbChwcm9wcykge1xuXHRjb25zdCBfdGhpcyA9IHRoaXM7XG5cdGxldCBjb250YWluZXIgPSBwcm9wcy5fY29udGFpbmVyO1xuXG5cdF90aGlzLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmVuZGVyKG51bGwsIF90aGlzLl90ZW1wKTtcblx0XHRfdGhpcy5fdGVtcCA9IG51bGw7XG5cdFx0X3RoaXMuX2NvbnRhaW5lciA9IG51bGw7XG5cdH07XG5cblx0Ly8gV2hlbiB3ZSBjaGFuZ2UgY29udGFpbmVyIHdlIHNob3VsZCBjbGVhciBvdXIgb2xkIGNvbnRhaW5lciBhbmRcblx0Ly8gaW5kaWNhdGUgYSBuZXcgbW91bnQuXG5cdGlmIChfdGhpcy5fY29udGFpbmVyICYmIF90aGlzLl9jb250YWluZXIgIT09IGNvbnRhaW5lcikge1xuXHRcdF90aGlzLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdH1cblxuXHQvLyBXaGVuIHByb3BzLnZub2RlIGlzIHVuZGVmaW5lZC9mYWxzZS9udWxsIHdlIGFyZSBkZWFsaW5nIHdpdGggc29tZSBraW5kIG9mXG5cdC8vIGNvbmRpdGlvbmFsIHZub2RlLiBUaGlzIHNob3VsZCBub3QgdHJpZ2dlciBhIHJlbmRlci5cblx0aWYgKHByb3BzLl92bm9kZSkge1xuXHRcdGlmICghX3RoaXMuX3RlbXApIHtcblx0XHRcdF90aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XG5cblx0XHRcdC8vIENyZWF0ZSBhIGZha2UgRE9NIHBhcmVudCBub2RlIHRoYXQgbWFuYWdlcyBhIHN1YnNldCBvZiBgY29udGFpbmVyYCdzIGNoaWxkcmVuOlxuXHRcdFx0X3RoaXMuX3RlbXAgPSB7XG5cdFx0XHRcdG5vZGVUeXBlOiAxLFxuXHRcdFx0XHRwYXJlbnROb2RlOiBjb250YWluZXIsXG5cdFx0XHRcdGNoaWxkTm9kZXM6IFtdLFxuXHRcdFx0XHRhcHBlbmRDaGlsZChjaGlsZCkge1xuXHRcdFx0XHRcdHRoaXMuY2hpbGROb2Rlcy5wdXNoKGNoaWxkKTtcblx0XHRcdFx0XHRfdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKGNoaWxkKTtcblx0XHRcdFx0fSxcblx0XHRcdFx0aW5zZXJ0QmVmb3JlKGNoaWxkLCBiZWZvcmUpIHtcblx0XHRcdFx0XHR0aGlzLmNoaWxkTm9kZXMucHVzaChjaGlsZCk7XG5cdFx0XHRcdFx0X3RoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZChjaGlsZCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlbW92ZUNoaWxkKGNoaWxkKSB7XG5cdFx0XHRcdFx0dGhpcy5jaGlsZE5vZGVzLnNwbGljZSh0aGlzLmNoaWxkTm9kZXMuaW5kZXhPZihjaGlsZCkgPj4+IDEsIDEpO1xuXHRcdFx0XHRcdF90aGlzLl9jb250YWluZXIucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFJlbmRlciBvdXIgd3JhcHBpbmcgZWxlbWVudCBpbnRvIHRlbXAuXG5cdFx0cmVuZGVyKFxuXHRcdFx0Y3JlYXRlRWxlbWVudChDb250ZXh0UHJvdmlkZXIsIHsgY29udGV4dDogX3RoaXMuY29udGV4dCB9LCBwcm9wcy5fdm5vZGUpLFxuXHRcdFx0X3RoaXMuX3RlbXBcblx0XHQpO1xuXHR9XG5cdC8vIFdoZW4gd2UgY29tZSBmcm9tIGEgY29uZGl0aW9uYWwgcmVuZGVyLCBvbiBhIG1vdW50ZWRcblx0Ly8gcG9ydGFsIHdlIHNob3VsZCBjbGVhciB0aGUgRE9NLlxuXHRlbHNlIGlmIChfdGhpcy5fdGVtcCkge1xuXHRcdF90aGlzLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBgUG9ydGFsYCB0byBjb250aW51ZSByZW5kZXJpbmcgdGhlIHZub2RlIHRyZWUgYXQgYSBkaWZmZXJlbnQgRE9NIG5vZGVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuVk5vZGV9IHZub2RlIFRoZSB2bm9kZSB0byByZW5kZXJcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL2ludGVybmFsJykuUHJlYWN0RWxlbWVudH0gY29udGFpbmVyIFRoZSBET00gbm9kZSB0byBjb250aW51ZSByZW5kZXJpbmcgaW4gdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVQb3J0YWwodm5vZGUsIGNvbnRhaW5lcikge1xuXHRjb25zdCBlbCA9IGNyZWF0ZUVsZW1lbnQoUG9ydGFsLCB7IF92bm9kZTogdm5vZGUsIF9jb250YWluZXI6IGNvbnRhaW5lciB9KTtcblx0ZWwuY29udGFpbmVySW5mbyA9IGNvbnRhaW5lcjtcblx0cmV0dXJuIGVsO1xufVxuIiwiaW1wb3J0IHtcblx0cmVuZGVyIGFzIHByZWFjdFJlbmRlcixcblx0aHlkcmF0ZSBhcyBwcmVhY3RIeWRyYXRlLFxuXHRvcHRpb25zLFxuXHR0b0NoaWxkQXJyYXksXG5cdENvbXBvbmVudFxufSBmcm9tICdwcmVhY3QnO1xuXG5leHBvcnQgY29uc3QgUkVBQ1RfRUxFTUVOVF9UWVBFID1cblx0KHR5cGVvZiBTeW1ib2wgIT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLmZvciAmJiBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG5cdDB4ZWFjNztcblxuY29uc3QgQ0FNRUxfUFJPUFMgPSAvXig/OmFjY2VudHxhbGlnbm1lbnR8YXJhYmljfGJhc2VsaW5lfGNhcHxjbGlwKD8hUGF0aFUpfGNvbG9yfGRvbWluYW50fGZpbGx8Zmxvb2R8Zm9udHxnbHlwaCg/IVIpfGhvcml6fGltYWdlfGxldHRlcnxsaWdodGluZ3xtYXJrZXIoPyFIfFd8VSl8b3ZlcmxpbmV8cGFpbnR8cG9pbnRlcnxzaGFwZXxzdG9wfHN0cmlrZXRocm91Z2h8c3Ryb2tlfHRleHQoPyFMKXx0cmFuc2Zvcm18dW5kZXJsaW5lfHVuaWNvZGV8dW5pdHN8dnx2ZWN0b3J8dmVydHx3b3JkfHdyaXRpbmd8eCg/IUMpKVtBLVpdLztcblxuY29uc3QgSVNfRE9NID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxuLy8gSW5wdXQgdHlwZXMgZm9yIHdoaWNoIG9uY2hhbmdlIHNob3VsZCBub3QgYmUgY29udmVydGVkIHRvIG9uaW5wdXQuXG4vLyB0eXBlPVwiZmlsZXxjaGVja2JveHxyYWRpb1wiLCBwbHVzIFwicmFuZ2VcIiBpbiBJRTExLlxuLy8gKElFMTEgZG9lc24ndCBzdXBwb3J0IFN5bWJvbCwgd2hpY2ggd2UgdXNlIGhlcmUgdG8gdHVybiBgcmFkYCBpbnRvIGByYWAgd2hpY2ggbWF0Y2hlcyBcInJhbmdlXCIpXG5jb25zdCBvbkNoYW5nZUlucHV0VHlwZSA9IHR5cGUgPT5cblx0KHR5cGVvZiBTeW1ib2wgIT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIFN5bWJvbCgpID09ICdzeW1ib2wnXG5cdFx0PyAvZmlsfGNoZXxyYWQvaVxuXHRcdDogL2ZpbHxjaGV8cmEvaVxuXHQpLnRlc3QodHlwZSk7XG5cbi8vIFNvbWUgbGlicmFyaWVzIGxpa2UgYHJlYWN0LXZpcnR1YWxpemVkYCBleHBsaWNpdGx5IGNoZWNrIGZvciB0aGlzLlxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG5cbi8vIGBVTlNBRkVfKmAgbGlmZWN5Y2xlIGhvb2tzXG4vLyBQcmVhY3Qgb25seSBldmVyIGludm9rZXMgdGhlIHVucHJlZml4ZWQgbWV0aG9kcy5cbi8vIEhlcmUgd2UgcHJvdmlkZSBhIGJhc2UgXCJmYWxsYmFja1wiIGltcGxlbWVudGF0aW9uIHRoYXQgY2FsbHMgYW55IGRlZmluZWQgVU5TQUZFXyBwcmVmaXhlZCBtZXRob2QuXG4vLyAtIElmIGEgY29tcG9uZW50IGRlZmluZXMgaXRzIG93biBgY29tcG9uZW50RGlkTW91bnQoKWAgKGluY2x1ZGluZyB2aWEgZGVmaW5lUHJvcGVydHkpLCB1c2UgdGhhdC5cbi8vIC0gSWYgYSBjb21wb25lbnQgZGVmaW5lcyBgVU5TQUZFX2NvbXBvbmVudERpZE1vdW50KClgLCBgY29tcG9uZW50RGlkTW91bnRgIGlzIHRoZSBhbGlhcyBnZXR0ZXIvc2V0dGVyLlxuLy8gLSBJZiBhbnl0aGluZyBhc3NpZ25zIHRvIGFuIGBVTlNBRkVfKmAgcHJvcGVydHksIHRoZSBhc3NpZ25tZW50IGlzIGZvcndhcmRlZCB0byB0aGUgdW5wcmVmaXhlZCBwcm9wZXJ0eS5cbi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L2lzc3Vlcy8xOTQxXG5bXG5cdCdjb21wb25lbnRXaWxsTW91bnQnLFxuXHQnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG5cdCdjb21wb25lbnRXaWxsVXBkYXRlJ1xuXS5mb3JFYWNoKGtleSA9PiB7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBrZXksIHtcblx0XHRjb25maWd1cmFibGU6IHRydWUsXG5cdFx0Z2V0KCkge1xuXHRcdFx0cmV0dXJuIHRoaXNbJ1VOU0FGRV8nICsga2V5XTtcblx0XHR9LFxuXHRcdHNldCh2KSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywga2V5LCB7XG5cdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0d3JpdGFibGU6IHRydWUsXG5cdFx0XHRcdHZhbHVlOiB2XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xufSk7XG5cbi8qKlxuICogUHJveHkgcmVuZGVyKCkgc2luY2UgUmVhY3QgcmV0dXJucyBhIENvbXBvbmVudCByZWZlcmVuY2UuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9pbnRlcm5hbCcpLlZOb2RlfSB2bm9kZSBWTm9kZSB0cmVlIHRvIHJlbmRlclxuICogQHBhcmFtIHtpbXBvcnQoJy4vaW50ZXJuYWwnKS5QcmVhY3RFbGVtZW50fSBwYXJlbnQgRE9NIG5vZGUgdG8gcmVuZGVyIHZub2RlIHRyZWUgaW50b1xuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdIE9wdGlvbmFsIGNhbGxiYWNrIHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgcmVuZGVyaW5nXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL2ludGVybmFsJykuQ29tcG9uZW50IHwgbnVsbH0gVGhlIHJvb3QgY29tcG9uZW50IHJlZmVyZW5jZSBvciBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0Ly8gUmVhY3QgZGVzdHJveXMgYW55IGV4aXN0aW5nIERPTSBub2Rlcywgc2VlICMxNzI3XG5cdC8vIC4uLmJ1dCBvbmx5IG9uIHRoZSBmaXJzdCByZW5kZXIsIHNlZSAjMTgyOFxuXHRpZiAocGFyZW50Ll9jaGlsZHJlbiA9PSBudWxsKSB7XG5cdFx0cGFyZW50LnRleHRDb250ZW50ID0gJyc7XG5cdH1cblxuXHRwcmVhY3RSZW5kZXIodm5vZGUsIHBhcmVudCk7XG5cdGlmICh0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2soKTtcblxuXHRyZXR1cm4gdm5vZGUgPyB2bm9kZS5fY29tcG9uZW50IDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGh5ZHJhdGUodm5vZGUsIHBhcmVudCwgY2FsbGJhY2spIHtcblx0cHJlYWN0SHlkcmF0ZSh2bm9kZSwgcGFyZW50KTtcblx0aWYgKHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSBjYWxsYmFjaygpO1xuXG5cdHJldHVybiB2bm9kZSA/IHZub2RlLl9jb21wb25lbnQgOiBudWxsO1xufVxuXG5sZXQgb2xkRXZlbnRIb29rID0gb3B0aW9ucy5ldmVudDtcbm9wdGlvbnMuZXZlbnQgPSBlID0+IHtcblx0aWYgKG9sZEV2ZW50SG9vaykgZSA9IG9sZEV2ZW50SG9vayhlKTtcblx0ZS5wZXJzaXN0ID0gZW1wdHk7XG5cdGUuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBpc1Byb3BhZ2F0aW9uU3RvcHBlZDtcblx0ZS5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBpc0RlZmF1bHRQcmV2ZW50ZWQ7XG5cdHJldHVybiAoZS5uYXRpdmVFdmVudCA9IGUpO1xufTtcblxuZnVuY3Rpb24gZW1wdHkoKSB7fVxuXG5mdW5jdGlvbiBpc1Byb3BhZ2F0aW9uU3RvcHBlZCgpIHtcblx0cmV0dXJuIHRoaXMuY2FuY2VsQnViYmxlO1xufVxuXG5mdW5jdGlvbiBpc0RlZmF1bHRQcmV2ZW50ZWQoKSB7XG5cdHJldHVybiB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ7XG59XG5cbmxldCBjbGFzc05hbWVEZXNjcmlwdG9yID0ge1xuXHRjb25maWd1cmFibGU6IHRydWUsXG5cdGdldCgpIHtcblx0XHRyZXR1cm4gdGhpcy5jbGFzcztcblx0fVxufTtcblxubGV0IG9sZFZOb2RlSG9vayA9IG9wdGlvbnMudm5vZGU7XG5vcHRpb25zLnZub2RlID0gdm5vZGUgPT4ge1xuXHRsZXQgdHlwZSA9IHZub2RlLnR5cGU7XG5cdGxldCBwcm9wcyA9IHZub2RlLnByb3BzO1xuXHRsZXQgbm9ybWFsaXplZFByb3BzID0gcHJvcHM7XG5cblx0Ly8gb25seSBub3JtYWxpemUgcHJvcHMgb24gRWxlbWVudCBub2Rlc1xuXHRpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG5cdFx0Y29uc3Qgbm9uQ3VzdG9tRWxlbWVudCA9IHR5cGUuaW5kZXhPZignLScpID09PSAtMTtcblx0XHRub3JtYWxpemVkUHJvcHMgPSB7fTtcblxuXHRcdGZvciAobGV0IGkgaW4gcHJvcHMpIHtcblx0XHRcdGxldCB2YWx1ZSA9IHByb3BzW2ldO1xuXG5cdFx0XHRpZiAoSVNfRE9NICYmIGkgPT09ICdjaGlsZHJlbicgJiYgdHlwZSA9PT0gJ25vc2NyaXB0Jykge1xuXHRcdFx0XHQvLyBFbXVsYXRlIFJlYWN0J3MgYmVoYXZpb3Igb2Ygbm90IHJlbmRlcmluZyB0aGUgY29udGVudHMgb2Ygbm9zY3JpcHQgdGFncyBvbiB0aGUgY2xpZW50LlxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoaSA9PT0gJ3ZhbHVlJyAmJiAnZGVmYXVsdFZhbHVlJyBpbiBwcm9wcyAmJiB2YWx1ZSA9PSBudWxsKSB7XG5cdFx0XHRcdC8vIFNraXAgYXBwbHlpbmcgdmFsdWUgaWYgaXQgaXMgbnVsbC91bmRlZmluZWQgYW5kIHdlIGFscmVhZHkgc2V0XG5cdFx0XHRcdC8vIGEgZGVmYXVsdCB2YWx1ZVxuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdGkgPT09ICdkZWZhdWx0VmFsdWUnICYmXG5cdFx0XHRcdCd2YWx1ZScgaW4gcHJvcHMgJiZcblx0XHRcdFx0cHJvcHMudmFsdWUgPT0gbnVsbFxuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIGBkZWZhdWx0VmFsdWVgIGlzIHRyZWF0ZWQgYXMgYSBmYWxsYmFjayBgdmFsdWVgIHdoZW4gYSB2YWx1ZSBwcm9wIGlzIHByZXNlbnQgYnV0IG51bGwvdW5kZWZpbmVkLlxuXHRcdFx0XHQvLyBgZGVmYXVsdFZhbHVlYCBmb3IgRWxlbWVudHMgd2l0aCBubyB2YWx1ZSBwcm9wIGlzIHRoZSBzYW1lIGFzIHRoZSBET00gZGVmYXVsdFZhbHVlIHByb3BlcnR5LlxuXHRcdFx0XHRpID0gJ3ZhbHVlJztcblx0XHRcdH0gZWxzZSBpZiAoaSA9PT0gJ2Rvd25sb2FkJyAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHQvLyBDYWxsaW5nIGBzZXRBdHRyaWJ1dGVgIHdpdGggYSB0cnV0aHkgdmFsdWUgd2lsbCBsZWFkIHRvIGl0IGJlaW5nXG5cdFx0XHRcdC8vIHBhc3NlZCBhcyBhIHN0cmluZ2lmaWVkIHZhbHVlLCBlLmcuIGBkb3dubG9hZD1cInRydWVcImAuIFJlYWN0XG5cdFx0XHRcdC8vIGNvbnZlcnRzIGl0IHRvIGFuIGVtcHR5IHN0cmluZyBpbnN0ZWFkLCBvdGhlcndpc2UgdGhlIGF0dHJpYnV0ZVxuXHRcdFx0XHQvLyB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgdGhlIGZpbGUgbmFtZSBhbmQgdGhlIGZpbGUgd2lsbCBiZSBjYWxsZWRcblx0XHRcdFx0Ly8gXCJ0cnVlXCIgdXBvbiBkb3dubG9hZGluZyBpdC5cblx0XHRcdFx0dmFsdWUgPSAnJztcblx0XHRcdH0gZWxzZSBpZiAoL29uZG91YmxlY2xpY2svaS50ZXN0KGkpKSB7XG5cdFx0XHRcdGkgPSAnb25kYmxjbGljayc7XG5cdFx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0XHQvXm9uY2hhbmdlKHRleHRhcmVhfGlucHV0KS9pLnRlc3QoaSArIHR5cGUpICYmXG5cdFx0XHRcdCFvbkNoYW5nZUlucHV0VHlwZShwcm9wcy50eXBlKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGkgPSAnb25pbnB1dCc7XG5cdFx0XHR9IGVsc2UgaWYgKC9eb25mb2N1cyQvaS50ZXN0KGkpKSB7XG5cdFx0XHRcdGkgPSAnb25mb2N1c2luJztcblx0XHRcdH0gZWxzZSBpZiAoL15vbmJsdXIkL2kudGVzdChpKSkge1xuXHRcdFx0XHRpID0gJ29uZm9jdXNvdXQnO1xuXHRcdFx0fSBlbHNlIGlmICgvXm9uKEFuaXxUcmF8VG91fEJlZm9yZUlucHxDb21wbykvLnRlc3QoaSkpIHtcblx0XHRcdFx0aSA9IGkudG9Mb3dlckNhc2UoKTtcblx0XHRcdH0gZWxzZSBpZiAobm9uQ3VzdG9tRWxlbWVudCAmJiBDQU1FTF9QUk9QUy50ZXN0KGkpKSB7XG5cdFx0XHRcdGkgPSBpLnJlcGxhY2UoL1tBLVowLTldL2csICctJCYnKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0fSBlbHNlIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuXHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIHN1cHBvcnQgZm9yIG9uSW5wdXQgYW5kIG9uQ2hhbmdlLCBzZWUgIzM1NjFcblx0XHRcdC8vIGlmIHdlIGhhdmUgYW4gb25pbnB1dCBwcm9wIGFscmVhZHkgY2hhbmdlIGl0IHRvIG9uaW5wdXRDYXB0dXJlXG5cdFx0XHRpZiAoL15vbmlucHV0JC9pLnRlc3QoaSkpIHtcblx0XHRcdFx0aSA9IGkudG9Mb3dlckNhc2UoKTtcblx0XHRcdFx0aWYgKG5vcm1hbGl6ZWRQcm9wc1tpXSkge1xuXHRcdFx0XHRcdGkgPSAnb25pbnB1dENhcHR1cmUnO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdG5vcm1hbGl6ZWRQcm9wc1tpXSA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdC8vIEFkZCBzdXBwb3J0IGZvciBhcnJheSBzZWxlY3QgdmFsdWVzOiA8c2VsZWN0IG11bHRpcGxlIHZhbHVlPXtbXX0gLz5cblx0XHRpZiAoXG5cdFx0XHR0eXBlID09ICdzZWxlY3QnICYmXG5cdFx0XHRub3JtYWxpemVkUHJvcHMubXVsdGlwbGUgJiZcblx0XHRcdEFycmF5LmlzQXJyYXkobm9ybWFsaXplZFByb3BzLnZhbHVlKVxuXHRcdCkge1xuXHRcdFx0Ly8gZm9yRWFjaCgpIGFsd2F5cyByZXR1cm5zIHVuZGVmaW5lZCwgd2hpY2ggd2UgYWJ1c2UgaGVyZSB0byB1bnNldCB0aGUgdmFsdWUgcHJvcC5cblx0XHRcdG5vcm1hbGl6ZWRQcm9wcy52YWx1ZSA9IHRvQ2hpbGRBcnJheShwcm9wcy5jaGlsZHJlbikuZm9yRWFjaChjaGlsZCA9PiB7XG5cdFx0XHRcdGNoaWxkLnByb3BzLnNlbGVjdGVkID1cblx0XHRcdFx0XHRub3JtYWxpemVkUHJvcHMudmFsdWUuaW5kZXhPZihjaGlsZC5wcm9wcy52YWx1ZSkgIT0gLTE7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBBZGRpbmcgc3VwcG9ydCBmb3IgZGVmYXVsdFZhbHVlIGluIHNlbGVjdCB0YWdcblx0XHRpZiAodHlwZSA9PSAnc2VsZWN0JyAmJiBub3JtYWxpemVkUHJvcHMuZGVmYXVsdFZhbHVlICE9IG51bGwpIHtcblx0XHRcdG5vcm1hbGl6ZWRQcm9wcy52YWx1ZSA9IHRvQ2hpbGRBcnJheShwcm9wcy5jaGlsZHJlbikuZm9yRWFjaChjaGlsZCA9PiB7XG5cdFx0XHRcdGlmIChub3JtYWxpemVkUHJvcHMubXVsdGlwbGUpIHtcblx0XHRcdFx0XHRjaGlsZC5wcm9wcy5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRub3JtYWxpemVkUHJvcHMuZGVmYXVsdFZhbHVlLmluZGV4T2YoY2hpbGQucHJvcHMudmFsdWUpICE9IC0xO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNoaWxkLnByb3BzLnNlbGVjdGVkID1cblx0XHRcdFx0XHRcdG5vcm1hbGl6ZWRQcm9wcy5kZWZhdWx0VmFsdWUgPT0gY2hpbGQucHJvcHMudmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHZub2RlLnByb3BzID0gbm9ybWFsaXplZFByb3BzO1xuXG5cdFx0aWYgKHByb3BzLmNsYXNzICE9IHByb3BzLmNsYXNzTmFtZSkge1xuXHRcdFx0Y2xhc3NOYW1lRGVzY3JpcHRvci5lbnVtZXJhYmxlID0gJ2NsYXNzTmFtZScgaW4gcHJvcHM7XG5cdFx0XHRpZiAocHJvcHMuY2xhc3NOYW1lICE9IG51bGwpIG5vcm1hbGl6ZWRQcm9wcy5jbGFzcyA9IHByb3BzLmNsYXNzTmFtZTtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShub3JtYWxpemVkUHJvcHMsICdjbGFzc05hbWUnLCBjbGFzc05hbWVEZXNjcmlwdG9yKTtcblx0XHR9XG5cdH1cblxuXHR2bm9kZS4kJHR5cGVvZiA9IFJFQUNUX0VMRU1FTlRfVFlQRTtcblxuXHRpZiAob2xkVk5vZGVIb29rKSBvbGRWTm9kZUhvb2sodm5vZGUpO1xufTtcblxuLy8gT25seSBuZWVkZWQgZm9yIHJlYWN0LXJlbGF5XG5sZXQgY3VycmVudENvbXBvbmVudDtcbmNvbnN0IG9sZEJlZm9yZVJlbmRlciA9IG9wdGlvbnMuX3JlbmRlcjtcbm9wdGlvbnMuX3JlbmRlciA9IGZ1bmN0aW9uKHZub2RlKSB7XG5cdGlmIChvbGRCZWZvcmVSZW5kZXIpIHtcblx0XHRvbGRCZWZvcmVSZW5kZXIodm5vZGUpO1xuXHR9XG5cdGN1cnJlbnRDb21wb25lbnQgPSB2bm9kZS5fY29tcG9uZW50O1xufTtcblxuLy8gVGhpcyBpcyBhIHZlcnkgdmVyeSBwcml2YXRlIGludGVybmFsIGZ1bmN0aW9uIGZvciBSZWFjdCBpdFxuLy8gaXMgdXNlZCB0byBzb3J0LW9mIGRvIHJ1bnRpbWUgZGVwZW5kZW5jeSBpbmplY3Rpb24uIFNvIGZhclxuLy8gb25seSBgcmVhY3QtcmVsYXlgIG1ha2VzIHVzZSBvZiBpdC4gSXQgdXNlcyBpdCB0byByZWFkIHRoZVxuLy8gY29udGV4dCB2YWx1ZS5cbmV4cG9ydCBjb25zdCBfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCA9IHtcblx0UmVhY3RDdXJyZW50RGlzcGF0Y2hlcjoge1xuXHRcdGN1cnJlbnQ6IHtcblx0XHRcdHJlYWRDb250ZXh0KGNvbnRleHQpIHtcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRDb21wb25lbnQuX2dsb2JhbENvbnRleHRbY29udGV4dC5faWRdLnByb3BzLnZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcbiIsImltcG9ydCB7IENvbXBvbmVudFR5cGUsIGgsIFJlZiB9IGZyb20gXCJwcmVhY3RcIjtcblxuZXhwb3J0IHR5cGUgUmVmRnJvbVRhZzxUIGV4dGVuZHMga2V5b2YgaC5KU1guSW50cmluc2ljRWxlbWVudHM+ID0gTm9uTnVsbGFibGU8aC5KU1guSW50cmluc2ljRWxlbWVudHNbVF1bXCJyZWZcIl0+ICYgUmVmPGFueT47XG5leHBvcnQgdHlwZSBFbGVtZW50RnJvbVJlZjxSIGV4dGVuZHMgUmVmPGFueT4+ID0gUiBleHRlbmRzIFJlZjxpbmZlciBFPiA/IEUgOiBFdmVudFRhcmdldDtcbmV4cG9ydCB0eXBlIEVsZW1lbnRGcm9tVGFnPFQgZXh0ZW5kcyBrZXlvZiBoLkpTWC5JbnRyaW5zaWNFbGVtZW50cz4gPSBFbGVtZW50RnJvbVJlZjxSZWZGcm9tVGFnPFQ+PjtcblxuXG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ2NTgzODgzL3R5cGVzY3JpcHQtcGljay1wcm9wZXJ0aWVzLXdpdGgtYS1kZWZpbmVkLXR5cGVcbmV4cG9ydCB0eXBlIFBpY2tCeVR5cGU8T2JqLCBXYW50ZWRUeXBlPiA9IHtcbiAgICAvLyBGb3IgZWFjaCBwcm9wZXJ0eSBpbiBPYmosIGdldCB0aGUgdHlwZSBvbiB0aGF0IHByb3BlcnR5LCBcbiAgICAvLyBhbmQgaWYgaXQgZXh0ZW5kcyBvdXIgV2FudGVkVHlwZSwgdGhlbiB3ZSBETyBpbmNsdWRlIHRoYXQgcHJvcGVydHkuXG4gICAgLy8gSW1hZ2luZSwgbGlrZSwgaW52aXNpYmxlIHBhcmFudGhlc2lzOlxuICAgIC8vIChQIGluIGtleW9mIE9iaiBhcyBPYmpbUF0gZXh0ZW5kcyBXYW50ZWRUeXBlIHwgdW5kZWZpbmVkKT8gUCA6IG5ldmVyXG4gICAgLy8gQmVjYXVzZSB3ZSBjYW4ndCB1c2UgYSB0eXBlIGFzIGEga2V5LCBidXQgd2UgY2FuIHVzZSBpdCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCFcbiAgICBbUCBpbiBrZXlvZiBPYmogYXMgT2JqW1BdIGV4dGVuZHMgV2FudGVkVHlwZSB8IHVuZGVmaW5lZCA/IFAgOiBuZXZlcl06IE9ialtQXVxuICB9XG4gIFxuZXhwb3J0IHR5cGUgRWxlbWVudFRvVGFnPEU+ID0ga2V5b2YgUGlja0J5VHlwZTxIVE1MRWxlbWVudFRhZ05hbWVNYXAsIEU+O1xuXG4vKipcbiAqICogYGZhbHNlYDogVGhpcyBjb21wb25lbnQgaXMgbm90IGRpc2FibGVkLlxuICogKiBgXCJzb2Z0XCJgOiBUaGlzIGNvbXBvbmVudCBpcyBkaXNhYmxlZCwgYnV0IGlzIHN0aWxsIGZvY3VzYWJsZSBhbmQgdmlzaWJsZSB0byAqYWxsKiB1c2Vycy5cbiAqICogYFwiaGFyZFwiYDogVGhpcyBjb21wb25lbnQgaXMgZGlzYWJsZWQsIGFuZCBnZW5lcmFsbHkgaGlkZGVuIHRvIGFsbCBidXQgc2lnaHRlZCB1c2VycywgdXNpbmcgdGhlIEhUTUwgYGRpc2FibGVkYCBhdHRyaWJ1dGUuXG4gKiAqIGB0cnVlYDogVGhpcyBjb21wb25lbnQgaXMgZGlzYWJsZWQuIFdoZXRoZXIgXCJoYXJkXCIgb3IgXCJzb2Z0XCIgaXMgY2hvc2VuIGlzIHVzdWFsbHkgY2hvc2VuIGJhc2VkIG9uIGEgYENvbnRleHRgLlxuICovXG5leHBvcnQgdHlwZSBEaXNhYmxlZFR5cGUgPSBib29sZWFuIHwgXCJzb2Z0XCIgfCBcImhhcmRcIjtcblxuZXhwb3J0IHR5cGUgT21pdFN0cm9uZzxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+O1xuXG5leHBvcnQgdHlwZSBQcm9wc09mVHlwZTxUPiA9XG4gICAgVCBleHRlbmRzIGtleW9mIGguSlNYLkludHJpbnNpY0VsZW1lbnRzID8gaC5KU1guSW50cmluc2ljRWxlbWVudHNbVF0gOiBcbiAgICBUIGV4dGVuZHMgQ29tcG9uZW50VHlwZTxpbmZlciBQPj8gUCA6IG5ldmVyO1xuXG4vKipcbiAqIEZvciB0aW1lcyB3aGVuIG1vcmUgdGhhbiBqdXN0IHRoZSBhYnN0cmFjdCBlbGVtZW50IHR5cGUgaXMgbmVlZGVkLFxuICogYnV0IHRoZSBhY3R1YWwsIGNvbmNyZXRlLCBpbXBsZW1lbnRhdGlvbi1hZmZlY3RpbmcgXCJkaXZcIiBzdHJpbmcgdHlwZS5cbiAqIFxuICogVE9ETzogU2hvdWxkIHRoaXMgYmUgdGhlIHN0YW5kYXJkIGZvciBhbGwgdGhlIG5vbi1BUklBIGhvb2tzP1xuICogVGhleSAqbmV2ZXIqIGNhcmUgYWJvdXQgdGhlIHNwZWNpZmljIHR5cGUgZm9yIHRoZSBpbXBsZW1lbnRhdGlvbixcbiAqIGp1c3QgZm9yIHR5cGluZywgc28gaXQgd291bGRuJ3QgYmUgbmVjZXNzYXJ5LCBcbiAqIGJ1dCBpdCB3b3VsZCBiZSBjb25zaXN0ZW50IHdpdGggdGhlc2UgQVJJQSBob29rcy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUYWdTZW5zaXRpdmVQcm9wczxFIGV4dGVuZHMgRXZlbnRUYXJnZXQ+IHtcbiAgICB0YWc6IEVsZW1lbnRUb1RhZzxFPjtcbn1cblxuZXhwb3J0IGNvbnN0IEV2ZW50RGV0YWlsID0gU3ltYm9sKFwiZXZlbnQtZGV0YWlsXCIpO1xuZXhwb3J0IHR5cGUgRXZlbnREZXRhaWwgPSB0eXBlb2YgRXZlbnREZXRhaWw7XG5leHBvcnQgdHlwZSBFbmhhbmNlZEV2ZW50PFRhcmdldCBleHRlbmRzIEV2ZW50VGFyZ2V0LCBUeXBlZEV2ZW50IGV4dGVuZHMgRXZlbnQsIERldGFpbD4gPSBoLkpTWC5UYXJnZXRlZEV2ZW50PFRhcmdldCwgVHlwZWRFdmVudD4gJiB7XG4gICAgW0V2ZW50RGV0YWlsXTogRGV0YWlsO1xufTtcblxuXG5leHBvcnQgZnVuY3Rpb24gZW5oYW5jZUV2ZW50PEUgZXh0ZW5kcyBFdmVudFRhcmdldCwgVHlwZWRFdmVudCBleHRlbmRzIEV2ZW50LCBEZXRhaWwgZXh0ZW5kcyBvYmplY3Q+KGU6IFR5cGVkRXZlbnQgfCBoLkpTWC5UYXJnZXRlZEV2ZW50PEUsIFR5cGVkRXZlbnQ+LCBkZXRhaWw6IERldGFpbCk6IEVuaGFuY2VkRXZlbnQ8RSwgVHlwZWRFdmVudCwgRGV0YWlsPiB7XG4gICAgY29uc3QgZXZlbnQgPSBlIGFzIHVua25vd24gYXMgRW5oYW5jZWRFdmVudDxFLCBUeXBlZEV2ZW50LCBEZXRhaWw+O1xuICAgIGV2ZW50W0V2ZW50RGV0YWlsXSA9IGRldGFpbDtcbiAgICByZXR1cm4gZXZlbnQ7XG59XG5cblxuY29uc3QgYWxyZWFkeVdhcm5lZCA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG5leHBvcnQgZnVuY3Rpb24gb3ZlcndyaXRlV2l0aFdhcm5pbmc8UCBleHRlbmRzIHt9LCBLIGV4dGVuZHMga2V5b2YgUD4oY29tcG9uZW50TmFtZTogc3RyaW5nLCBwcm9wczogUCwgcHJvcE5hbWU6IEssIG5ld1ZhbHVlOiBQW0tdKTogdm9pZCB7XG4gICAgLy9jb25zdCBrZXkgPSBgJHtjb21wb25lbnROYW1lfTske3Byb3BOYW1lfWA7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgaWYgKG9sZFZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgaWYgKCFhbHJlYWR5V2FybmVkLmhhcyhTdHJpbmcocHJvcE5hbWUpKSkge1xuICAgICAgICAgICAgYWxyZWFkeVdhcm5lZC5hZGQoU3RyaW5nKHByb3BOYW1lKSk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFRoZSAke1N0cmluZyhwcm9wTmFtZSl9IGF0dHJpYnV0ZSBvbiAke2NvbXBvbmVudE5hbWV9IHdhcyBnaXZlbiBhIHZhbHVlIG9mICR7b2xkVmFsdWV9IGJ1dCBpcyBiZWluZyBvdmVyd3JpdHRlbiB0byAke25ld1ZhbHVlfSBmb3IgY29uZm9ybWFuY2UuIENvbnNpZGVyIHJlbW92aW5nIGl0IGJlZm9yZSBwYXNzaW5nIHRob3NlIHByb3BzIHRvICR7Y29tcG9uZW50TmFtZX0uYCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wc1twcm9wTmFtZV0gPSBuZXdWYWx1ZTtcbn1cblxubGV0IGRlYnVnID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gc2V0RGVidWdMb2dnaW5nKGxvZ2dpbmc6IGJvb2xlYW4pIHtcbiAgICBkZWJ1ZyA9IGxvZ2dpbmc7XG59XG5cbmV4cG9ydCB0eXBlIERlYnVnTG9nVHlwZXMgPVxuICAgIFwidXNlQWNjb3JkaWFuXCIgfCBcInVzZUFjY29yZGlhblNlY3Rpb25cIiB8XG4gICAgXCJ1c2VCdXR0b25cIiB8XG4gICAgXCJ1c2VDaGVja2JveFwiIHxcbiAgICBcInVzZUNoZWNrYm94R3JvdXBcIiB8IFwidXNlQ2hlY2tib3hHcm91cFBhcmVudFwiIHwgXCJ1c2VDaGVja2JveEdyb3VwQ2hpbGRcIiB8XG4gICAgXCJ1c2VEaWFsb2dcIiB8IFwidXNlRHJhd2VyXCIgfFxuICAgIFwidXNlTGlzdGJveE11bHRpXCIgfCBcInVzZUxpc3Rib3hNdWx0aUl0ZW1cIiB8XG4gICAgXCJ1c2VMaXN0Ym94U2luZ2xlXCIgfCBcInVzZUxpc3Rib3hTaW5nbGVJdGVtXCIgfFxuICAgIFwidXNlTWVudWJhclwiIHwgXCJ1c2VNZW51XCIgfCBcInVzZU1lbnVTdXJmYWNlXCIgfCBcInVzZU1lbnVJdGVtXCIgfCBcInVzZUZvY3VzU2VudGluZWxcIiB8IFwidXNlTWVudVN1cmZhY2VTZW50aW5lbFwiIHxcbiAgICBcInVzZVJhZGlvR3JvdXBcIiB8IFwidXNlUmFkaW9cIiB8XG4gICAgXCJ1c2VTbGlkZXJcIiB8IFwidXNlU2xpZGVyVGh1bWJcIiB8XG4gICAgXCJ1c2VUYWJsZVwiIHwgXCJ1c2VUYWJsZVJvd1wiIHwgXCJ1c2VUYWJsZUNlbGxcIiB8IFwidXNlVGFibGVCb2R5XCIgfFxuICAgIFwidXNlR3JpZGxpc3RcIiB8IFwidXNlR3JpZGxpc3RSb3dcIiB8IFwidXNlR3JpZGxpc3RDaGlsZFwiIHwgXCJ1c2VHcmlkbGlzdFNlY3Rpb25cIiB8XG4gICAgXCJ1c2VUYWJzXCIgfCBcInVzZVRhYkxpc3RcIiB8IFwidXNlVGFiXCIgfCBcInVzZVRhYlBhbmVsXCIgfFxuICAgIFwidXNlVG9hc3RzXCIgfCBcInVzZVRvYXN0XCIgfFxuICAgIFwidXNlVG9vbHRpcFwiIHwgXCJ1c2VUb29sdGlwVG9vbHRpcFwiIHwgXCJ1c2VUb29sdGlwVHJpZ2dlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVidWdMb2cod2hvOiBEZWJ1Z0xvZ1R5cGVzLCAuLi5hcmdzOiBQYXJhbWV0ZXJzPCh0eXBlb2YgY29uc29sZSlbXCJsb2dcIl0+KSB7XG4gICAgaWYgKGRlYnVnKVxuICAgICAgICBjb25zb2xlLmRlYnVnKHdobyArIFwiOlwiLCAuLi5hcmdzKTtcbn1cblxuZXhwb3J0IHR5cGUgUHJvcE1vZGlmaWVyPFQgZXh0ZW5kcyBFdmVudFRhcmdldD4gPSAocHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFQ+KSA9PiBoLkpTWC5IVE1MQXR0cmlidXRlczxUPjtcbmV4cG9ydCB0eXBlIFByb3BNb2RpZmllcjI8UD4gPSAocHJvcHM6IFApID0+IFA7XG5leHBvcnQgZnVuY3Rpb24gbm9vcCgpOiB2b2lkIHsgcmV0dXJuOyB9XG5cbi8vIChUaGVzZSBkbyBub3QgbmVlZCB0byBiZSB1bmlxdWUpXG5leHBvcnQgY29uc3QgUHJlZmljZXMgPSB7XG4gICAgYWNjb3JkaW9uU2VjdGlvbkhlYWRlckJ1dHRvbjogXCJhc2hiLVwiLFxuICAgIGFjY29yZGlvblNlY3Rpb25Cb2R5OiBcImFzYi1cIixcbiAgICBjaGVja2JveExpa2VJbnB1dDogXCJjYmxpLVwiLFxuICAgIGNoZWNrYm94TGlrZUxhYmVsOiBcImNibGwtXCIsXG4gICAgZGlhbG9nOiBcIm1kbC1cIixcbiAgICBkaWFsb2dUaXRsZTogXCJtZGx0LVwiLFxuICAgIGRyYXdlcjogXCJtZHctXCIsXG4gICAgZHJhd2VyVGl0bGU6IFwibWR3dC1cIixcbiAgICBncmlkbGlzdDogXCJnbC1cIixcbiAgICBncmlkbGlzdExhYmVsOiBcImdsbC1cIixcbiAgICBsaXN0Ym94OiBcImxiLVwiLFxuICAgIGxpc3Rib3hMYWJlbDogXCJsYmwtXCIsXG4gICAgbWVudTogXCJtZW51LVwiLFxuICAgIHByb2dyZXNzSW5kaWNhdG9yOiBcInBpLVwiLFxuICAgIHByb2dyZXNzTGFiZWw6IFwicGwtXCIsXG4gICAgcmFkaW9Hcm91cDogXCJyZy1cIixcbiAgICByYWRpb0dyb3VwTGFiZWw6IFwicmdsLVwiLFxuICAgIHJhZGlvOiBcInJiLVwiLFxuICAgIHJhZGlvTGFiZWw6IFwicmJsLVwiLFxuICAgIHNsaWRlclRodW1iOiBcInN0LVwiLFxuICAgIHRhYmxlOiBcInRiLVwiLFxuICAgIHRhYmxlTGFiZWw6IFwidGJsLVwiLFxuICAgIHRhYmxpc3Q6IFwidGwtXCIsXG4gICAgdGFibGlzdExhYmVsOiBcInRsbC1cIixcbiAgICB0b29sdGlwOiBcInR0LVwiLFxuICAgIHRvb2xiYXI6IFwidGxiLVwiLFxuICAgIHRvb2xiYXJMYWJlbDogXCJ0bGJsLVwiXG59IGFzIGNvbnN0XG4iLCJpbXBvcnQgeyBDb21wb25lbnRDaGlsZHJlbiwgY3JlYXRlQ29udGV4dCwgY3JlYXRlRWxlbWVudCwgaCwgUmVuZGVyYWJsZVByb3BzIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgbWVtbyB9IGZyb20gXCJwcmVhY3QvY29tcGF0XCI7XG5pbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgRWxlbWVudFRvVGFnLCBvdmVyd3JpdGVXaXRoV2FybmluZyB9IGZyb20gXCIuLi9wcm9wc1wiO1xuXG5jb25zdCBIZWFkaW5nTGV2ZWxDb250ZXh0ID0gY3JlYXRlQ29udGV4dCgwKTtcblxuZXhwb3J0IGludGVyZmFjZSBIZWFkaW5nUHJvcHM8VCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgUmVuZGVyYWJsZVByb3BzPGguSlNYLkhUTUxBdHRyaWJ1dGVzPFQ+PiB7XG4gICAgLyoqXG4gICAgICogVGhlIGNvbnRlbnRzIG9mIHRoZSBoZWFkaW5nLlxuICAgICAqIFxuICAgICAqIFNlcGFyYXRlIGZyb20gdGhlIGNoaWxkcmVuLCB3aGljaCBiZWNvbWUgdGhlIGNvbnRlbnQgZGVzY3JpYmVkIGJ5IHRoaXMgaGVhZGluZy5cbiAgICAgKi9cbiAgICBoZWFkaW5nOiBDb21wb25lbnRDaGlsZHJlbjtcblxuICAgIHRhZz86IEVsZW1lbnRUb1RhZzxUPjtcbn1cblxuZXhwb3J0IGNvbnN0IEhlYWRpbmcgPSBtZW1vKGZ1bmN0aW9uIEhlYWRpbmc8VCBleHRlbmRzIEVsZW1lbnQ+KHsgY2hpbGRyZW4sIGhlYWRpbmcsIHRhZywgLi4ucHJvcHMgfTogSGVhZGluZ1Byb3BzPFQ+KSB7XG4gICAgY29uc3QgaGVhZGluZ0xldmVsQmVmb3JlVXMgPSB1c2VDb250ZXh0KEhlYWRpbmdMZXZlbENvbnRleHQpO1xuICAgIGNvbnN0IG5ld0hlYWRpbmdMZXZlbCA9IGhlYWRpbmdMZXZlbEJlZm9yZVVzICsgMTtcblxuICAgIGlmICh0YWcgPT0gbnVsbCkge1xuICAgICAgICBpZiAobmV3SGVhZGluZ0xldmVsIDw9IDYpIHtcbiAgICAgICAgICAgIHRhZyA9IGBoJHtuZXdIZWFkaW5nTGV2ZWx9YCBhcyBuZXZlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRhZyA9ICdkaXYnIGFzIG5ldmVyO1xuICAgICAgICAgICAgb3ZlcndyaXRlV2l0aFdhcm5pbmcoXCJIZWFkaW5nXCIsIHByb3BzLCBcImFyaWEtbGV2ZWxcIiwgYCR7bmV3SGVhZGluZ0xldmVsfWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD5cbiAgICAgICAgICAgIDxIZWFkaW5nUmVzZXQgbmV3TGV2ZWw9e2hlYWRpbmdMZXZlbEJlZm9yZVVzICsgMX0+XG4gICAgICAgICAgICAgICAge2NyZWF0ZUVsZW1lbnQodGFnIGFzIGFueSwgcHJvcHMsIGhlYWRpbmcpfVxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgIDwvSGVhZGluZ1Jlc2V0PlxuICAgICAgICA8Lz5cbiAgICApXG59KVxuXG5leHBvcnQgY29uc3QgSGVhZGluZ1Jlc2V0ID0gbWVtbyhmdW5jdGlvbiBIZWFkaW5nUmVzZXQoeyBuZXdMZXZlbCwgY2hpbGRyZW4gfTogeyBuZXdMZXZlbDogbnVtYmVyLCBjaGlsZHJlbjogQ29tcG9uZW50Q2hpbGRyZW4gfSkge1xuICAgIHJldHVybiAoXG4gICAgICAgIDxIZWFkaW5nTGV2ZWxDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtuZXdMZXZlbH0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvSGVhZGluZ0xldmVsQ29udGV4dC5Qcm92aWRlcj5cbiAgICApXG59KVxuIiwiaW1wb3J0IHsgb3B0aW9ucyB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcblxuLyoqIFRha2VzIGEgbmV3IHZhbHVlIG9yIGEgZnVuY3Rpb24gdGhhdCB1cGRhdGVzIGEgdmFsdWUsIHVubGlrZSBgT25QYXNzaXZlU3RhdGVDaGFuZ2VgIHdoaWNoIHJlYWN0cyB0byB0aG9zZSB1cGRhdGVzICovXG5leHBvcnQgdHlwZSBQYXNzaXZlU3RhdGVVcGRhdGVyPFMsIFI+ID0gKCh2YWx1ZTogUyB8ICgocHJldlN0YXRlOiBTIHwgdW5kZWZpbmVkKSA9PiBTKSwgcmVhc29uPzogUikgPT4gdm9pZCk7Ly9bUl0gZXh0ZW5kcyBbbmV2ZXJdPyAoKHZhbHVlOiBTIHwgKChwcmV2U3RhdGU6IFMgfCB1bmRlZmluZWQpID0+IFMpLCByZWFzb24/OiBSKSA9PiB2b2lkKSA6ICgodmFsdWU6IFMgfCAoKHByZXZTdGF0ZTogUyB8IHVuZGVmaW5lZCkgPT4gUyksIHJlYXNvbjogUikgPT4gdm9pZCk7XG4vKiogUmVzcG9uZHMgdG8gYSBjaGFuZ2UgaW4gYSB2YWx1ZSwgdW5saWtlIGBQYXNzaXZlU3RhdGVVcGRhdGVyYCB3aGljaCBjYXVzZXMgdGhlIHVwZGF0ZXMgKi9cbmV4cG9ydCB0eXBlIE9uUGFzc2l2ZVN0YXRlQ2hhbmdlPFMsIFI+ID0gKCh2YWx1ZTogUywgcHJldlZhbHVlOiBTIHwgdW5kZWZpbmVkLCByZWFzb24/OiBSKSA9PiAodm9pZCB8ICgoKSA9PiB2b2lkKSkpOy8vW1JdIGV4dGVuZHMgW25ldmVyXT8gKCh2YWx1ZTogUywgcHJldlZhbHVlOiBTIHwgdW5kZWZpbmVkLCByZWFzb24/OiBSKSA9PiAodm9pZCB8ICgoKSA9PiB2b2lkKSkpIDogKCh2YWx1ZTogUywgcHJldlZhbHVlOiBTIHwgdW5kZWZpbmVkLCByZWFzb246IFIpID0+ICh2b2lkIHwgKCgpID0+IHZvaWQpKSk7XG5cblxuXG4vKipcbiAqIERlYnVnIGhvb2suXG4gKiBcbiAqIEdpdmVuIGEgdmFsdWUgb3Igc2V0IG9mIHZhbHVlcywgZW1pdHMgYSBjb25zb2xlIGVycm9yIGlmIGFueSBvZiB0aGVtIGNoYW5nZSBmcm9tIG9uZSByZW5kZXIgdG8gdGhlIG5leHQuXG4gKiBcbiAqIEV2ZW50dWFsbHksIHdoZW4gdXNlRXZlbnQgbGFuZHMsIHdlIGhvcGVmdWxseSB3b24ndCBuZWVkIHRoaXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VFbnN1cmVTdGFiaWxpdHk8VCBleHRlbmRzIGFueVtdPihwYXJlbnRIb29rTmFtZTogc3RyaW5nLCAuLi52YWx1ZXM6IFQpIHtcbiAgICBjb25zdCBoZWxwZXJUb0Vuc3VyZVN0YWJpbGl0eSA9IHVzZVJlZjxBcnJheTxUPj4oW10pO1xuICAgIGNvbnN0IHNob3duRXJyb3IgPSB1c2VSZWY8QXJyYXk8Ym9vbGVhbj4+KFtdKTtcbiAgICB1c2VIZWxwZXIodmFsdWVzLmxlbmd0aCBhcyBhbnksIC0xKTtcbiAgICB2YWx1ZXMuZm9yRWFjaCh1c2VIZWxwZXIpO1xuICAgIHJldHVybjtcblxuXG4gICAgZnVuY3Rpb24gdXNlSGVscGVyPFUgZXh0ZW5kcyBUPih2YWx1ZTogVSwgaTogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gaSArIDE7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIHByb3ZpZGVkIGZ1bmN0aW9ucyBhcmUgcGVyZmVjdGx5IHN0YWJsZSBhY3Jvc3MgcmVuZGVyc1xuICAgICAgICBpZiAoaGVscGVyVG9FbnN1cmVTdGFiaWxpdHkuY3VycmVudFtpbmRleF0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGhlbHBlclRvRW5zdXJlU3RhYmlsaXR5LmN1cnJlbnRbaW5kZXhdID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKGhlbHBlclRvRW5zdXJlU3RhYmlsaXR5LmN1cnJlbnRbaW5kZXhdICE9IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIXNob3duRXJyb3IuY3VycmVudFtpbmRleF0pIHtcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1kZWJ1Z2dlciAqL1xuICAgICAgICAgICAgICAgIGRlYnVnZ2VyO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFRoZSBob29rICR7cGFyZW50SG9va05hbWV9IHJlcXVpcmVzIHNvbWUgb3IgYWxsIG9mIGl0cyBhcmd1bWVudHMgcmVtYWluIHN0YWJsZSBhY3Jvc3MgZWFjaCByZW5kZXI7IHBsZWFzZSBjaGVjayB0aGUgJHtpfS1pbmRleGVkIGFyZ3VtZW50ICgke2kgPj0gMD8gSlNPTi5zdHJpbmdpZnkodmFsdWVzW2ldKSA6IFwidGhlIG51bWJlciBvZiBzdXBwb3NlZGx5IHN0YWJsZSBlbGVtZW50c1wifSkuYCk7XG4gICAgICAgICAgICAgICAgc2hvd25FcnJvci5jdXJyZW50W2luZGV4XSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZVJlbmRlcmluZyhmOiAoKSA9PiB2b2lkKSB7XG4gICAgKG9wdGlvbnMuZGVib3VuY2VSZW5kZXJpbmcgPz8gc2V0VGltZW91dCkoZik7XG59XG5cbi8qKlxuICogU2ltaWxhciB0byBgdXNlU3RhdGVgLCBidXQgZm9yIHZhbHVlcyB0aGF0IGFyZW4ndCBcInJlbmRlci1pbXBvcnRhbnRcIiAmbmRhc2g7IHVwZGF0ZXMgZG9uJ3QgY2F1c2UgYSByZS1yZW5kZXIgYW5kIHNvIHRoZSB2YWx1ZSBzaG91bGRuJ3QgYmUgdXNlZCBkdXJpbmcgcmVuZGVyICh0aG91Z2ggaXQgY2VydGFpbmx5IGNhbiwgYXQgbGVhc3QgYnkgcmUtcmVuZGVyaW5nIGFnYWluKS5cbiAqIFxuICogVG8gY29tcGVuc2F0ZSBmb3IgdGhpcywgeW91IHNob3VsZCBwYXNzIGEgYHVzZUVmZmVjdGAtZXNxdWUgY2FsbGJhY2sgdGhhdCBpcyBydW4gd2hlbmV2ZXIgdGhlIHZhbHVlIGNoYW5nZXMuICBKdXN0IGxpa2UgYHVzZUVmZmVjdGAsIHRoaXMgY2FsbGJhY2sgY2FuIHJldHVybiBhIGNsZWFudXAgZnVuY3Rpb24gdGhhdCdzIHJ1biBiZWZvcmUgdGhlIHZhbHVlIGNoYW5nZXMuICBJZiB5b3Ugd291bGQgbGlrZSB0byByZS1yZW5kZXIgd2hlbiB0aGUgdmFsdWUgY2hhbmdlcyAob3IsIHNheSwgd2hlbiB0aGUgdmFsdWUgbWVldHMgc29tZSBjcml0ZXJpYSksIHRoaXMgaXMgd2hlcmUgeW91J2xsIHdhbnQgdG8gcHV0IGluIGEgY2FsbCB0byBhIGBzZXRTdGF0ZWAgZnVuY3Rpb24uXG4gKiBcbiAqIFRvIHN1bW1hcml6ZSwgaXQncyBsaWtlIGEgYHVzZVN0YXRlYC1gdXNlRWZmZWN0YCBtYXNodXA6XG4gKiBcbiAqIDEuIEl0J3MgbGlrZSBgdXNlU3RhdGVgLCBleGNlcHQgdGhpcyB2ZXJzaW9uIG9mIGBzZXRTdGF0ZWAgZG9lc24ndCByZS1yZW5kZXIgdGhlIHdob2xlIGNvbXBvbmVudFxuICogMi4gSXQncyBsaWtlIGB1c2VTdGF0ZWAsIGV4Y2VwdCB5b3UgY2FuIHJ1biBhIGZ1bmN0aW9uIHdoZW4gdGhlIHZhbHVlIGNoYW5nZXMgdGhhdCBvcHRpb25hbGx5IHJldHVybnMgYSBjbGVhbnVwIGZ1bmN0aW9uXG4gKiAzLiBJdCdzIGxpa2UgYHVzZUVmZmVjdGAsIGV4Y2VwdCB5b3UgdHJpZ2dlciB0aGUgZWZmZWN0IGZ1bmN0aW9uIFwicmVtb3RlbHlcIiBpbnN0ZWFkIG9mIGl0IHJ1bm5pbmcgYWZ0ZXIgcmVuZGVyaW5nXG4gKiA0LiBJdCdzIGxpa2UgYHVzZUVmZmVjdGAsIGV4Y2VwdCB0aGUgc2luZ2xlIFwiZGVwZW5kZW5jeVwiIGlzIGJhc2VkIG9uIHlvdXIgY2FsbHMgdG8gYHNldFN0YXRlYFxuICogXG4gKiBOb3RlIHRoYXQgd2hpbGUgY2FsbGluZyBgc2V0U3RhdGVgIGRvZXNuJ3QgY2F1c2UgYW55IHJlLXJlbmRlcnMsIHlvdSBjYW4gZG8gdGhhdCB3aXRoaW4geW91ciBgb25DaGFuZ2VgIGZ1bmN0aW9uLCBjYWxsZWQgd2hlbmV2ZXIgdGhlIHZhbHVlIGNoYW5nZXMgdmlhIHRoYXQgYHNldFN0YXRlYC5cbiAqIFxuICogQHBhcmFtIG9uQ2hhbmdlIFRoZSBcImVmZmVjdFwiIGZ1bmN0aW9uIHRvIHJ1biB3aGVuIHRoZSB2YWx1ZSBjaGFuZ2VzLiBFZmZlY3RpdmVseSB0aGUgc2FtZSBhcyBgdXNlRWZmZWN0YCdzIFwiZWZmZWN0XCIgZnVuY3Rpb24uICBNVVNUIEJFIFNUQUJMRSwgZWl0aGVyIGJlY2F1c2UgaXQgaGFzIG5vIGRlcGVuZGVuY2llcywgb3IgYmVjYXVzZSBpdCdzIGZyb20gdXNlU3RhYmxlQ2FsbGJhY2ssIGJ1dCB0aGlzIHdpbGwgbWVhbiB5b3UgY2Fubm90IHVzZSBnZXRTdGF0ZSBvciBzZXRTdGF0ZSBkdXJpbmcgcmVuZGVyLlxuICogQHBhcmFtIGdldEluaXRpYWxWYWx1ZSBJZiBwcm92aWRlZCwgdGhlIGVmZmVjdCB3aWxsIGJlIGludm9rZWQgb25jZSB3aXRoIHRoaXMgdmFsdWUgb24gbW91bnQuIE1VU1QgQkUgU1RBQkxFLCBlaXRoZXIgYmVjYXVzZSBpdCBoYXMgbm8gZGVwZW5kZW5jaWVzLCBvciBiZWNhdXNlIGl0J3MgZnJvbSB1c2VTdGFibGVDYWxsYmFjaywgYnV0IHRoaXMgd2lsbCBtZWFuIHlvdSBjYW5ub3QgdXNlIGdldFN0YXRlIG9yIHNldFN0YXRlIGR1cmluZyByZW5kZXIuXG4gKiBAcGFyYW0gY3VzdG9tRGVib3VuY2VSZW5kZXJpbmcgQnkgZGVmYXVsdCwgY2hhbmdlcyB0byBwYXNzaXZlIHN0YXRlIGFyZSBkZWxheWVkIGJ5IG9uZSB0aWNrIHNvIHRoYXQgd2Ugb25seSBjaGVjayBmb3IgY2hhbmdlcyBpbiBhIHNpbWlsYXIgd2F5IHRvIFByZWFjdC4gWW91IGNhbiBvdmVycmlkZSB0aGlzIHRvLCBmb3IgZXhhbXBsZSwgYWx3YXlzIHJ1biBpbW1lZGlhdGVseSBpbnN0ZWFkLlxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQYXNzaXZlU3RhdGU8VCwgUj4ob25DaGFuZ2U6IHVuZGVmaW5lZCB8IG51bGwgfCBPblBhc3NpdmVTdGF0ZUNoYW5nZTxULCBSPiwgZ2V0SW5pdGlhbFZhbHVlPzogKCkgPT4gVCwgY3VzdG9tRGVib3VuY2VSZW5kZXJpbmc/OiB0eXBlb2YgZGVib3VuY2VSZW5kZXJpbmcpOiByZWFkb25seSBbZ2V0U3RhdGVTdGFibGU6ICgpID0+IFQsIHNldFN0YXRlU3RhYmxlOiBQYXNzaXZlU3RhdGVVcGRhdGVyPFQsIFI+XSB7XG5cbiAgICBjb25zdCB2YWx1ZVJlZiA9IHVzZVJlZjxUIHwgdHlwZW9mIFVuc2V0PihVbnNldCk7XG4gICAgY29uc3QgcmVhc29uUmVmID0gdXNlUmVmPFIgfCB0eXBlb2YgVW5zZXQ+KFVuc2V0KTtcbiAgICBjb25zdCB3YXJuaW5nUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBkZXBlbmRlbmN5VG9Db21wYXJlQWdhaW5zdCA9IHVzZVJlZjxUIHwgKHR5cGVvZiBVbnNldCk+KFVuc2V0KTtcbiAgICBjb25zdCBjbGVhbnVwQ2FsbGJhY2tSZWYgPSB1c2VSZWY8dW5kZWZpbmVkIHwgKCgpID0+IHZvaWQpPih1bmRlZmluZWQpO1xuXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgdGhlIHByb3ZpZGVkIGZ1bmN0aW9ucyBhcmUgcGVyZmVjdGx5IHN0YWJsZSBhY3Jvc3MgcmVuZGVyc1xuICAgIHVzZUVuc3VyZVN0YWJpbGl0eShcInVzZVBhc3NpdmVTdGF0ZVwiLCBvbkNoYW5nZSwgZ2V0SW5pdGlhbFZhbHVlLCBjdXN0b21EZWJvdW5jZVJlbmRlcmluZyk7XG5cbiAgICAvLyBTaGFyZWQgYmV0d2VlbiBcImRlcGVuZGVuY3kgY2hhbmdlZFwiIGFuZCBcImNvbXBvbmVudCB1bm1vdW50ZWRcIi5cbiAgICBjb25zdCBvblNob3VsZENsZWFuVXAgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsZWFudXBDYWxsYmFjayA9IGNsZWFudXBDYWxsYmFja1JlZi5jdXJyZW50O1xuICAgICAgICBpZiAoY2xlYW51cENhbGxiYWNrKVxuICAgICAgICAgICAgY2xlYW51cENhbGxiYWNrKCk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gVGhlcmUgYXJlIGEgY291cGxlIHBsYWNlcyB3aGVyZSB3ZSdkIGxpa2UgdG8gdXNlIG91ciBpbml0aWFsXG4gICAgLy8gdmFsdWUgaW4gcGxhY2Ugb2YgaGF2aW5nIG5vIHZhbHVlIGF0IGFsbCB5ZXQuXG4gICAgLy8gVGhpcyBpcyB0aGUgc2hhcmVkIGNvZGUgZm9yIHRoYXQsIHVzZWQgb24gbW91bnQgYW5kIHdoZW5ldmVyXG4gICAgLy8gZ2V0VmFsdWUgaXMgY2FsbGVkLlxuICAgIGNvbnN0IHRyeUVuc3VyZVZhbHVlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAodmFsdWVSZWYuY3VycmVudCA9PT0gVW5zZXQgJiYgZ2V0SW5pdGlhbFZhbHVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0aWFsVmFsdWUgPSBnZXRJbml0aWFsVmFsdWUoKTtcbiAgICAgICAgICAgICAgICB2YWx1ZVJlZi5jdXJyZW50ID0gaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgICAgIGNsZWFudXBDYWxsYmFja1JlZi5jdXJyZW50ID0gKG9uQ2hhbmdlPy4oaW5pdGlhbFZhbHVlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCEpID8/IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAvLyBFeGNlcHRpb25zIGFyZSBpbnRlbnRpb25hbCB0byBhbGxvdyBiYWlsb3V0ICh3aXRob3V0IGV4cG9zaW5nIHRoZSBVbnNldCBzeW1ib2wpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbLyogZ2V0SW5pdGlhbFZhbHVlIGFuZCBvbkNoYW5nZSBpbnRlbnRpb25hbGx5IG9taXR0ZWQgKi9dKTtcblxuXG4gICAgY29uc3QgZ2V0VmFsdWUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICh3YXJuaW5nUmVmLmN1cnJlbnQpXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJEdXJpbmcgb25DaGFuZ2UsIHByZWZlciB1c2luZyB0aGUgKHZhbHVlLCBwcmV2VmFsdWUpIGFyZ3VtZW50cyBpbnN0ZWFkIG9mIGdldFZhbHVlIC0tIGl0J3MgYW1iaWd1b3VzIGFzIHRvIGlmIHlvdSdyZSBhc2tpbmcgZm9yIHRoZSBvbGQgb3IgbmV3IHZhbHVlIGF0IHRoaXMgcG9pbnQgaW4gdGltZSBmb3IgdGhpcyBjb21wb25lbnQuXCIpO1xuXG4gICAgICAgIC8vIFRoZSBmaXJzdCB0aW1lIHdlIGNhbGwgZ2V0VmFsdWUsIGlmIHdlIGhhdmVuJ3QgYmVlbiBnaXZlbiBhIHZhbHVlIHlldCxcbiAgICAgICAgLy8gKGFuZCB3ZSB3ZXJlIGdpdmVuIGFuIGluaXRpYWwgdmFsdWUgdG8gdXNlKVxuICAgICAgICAvLyByZXR1cm4gdGhlIGluaXRpYWwgdmFsdWUgaW5zdGVhZCBvZiBub3RoaW5nLlxuICAgICAgICBpZiAodmFsdWVSZWYuY3VycmVudCA9PT0gVW5zZXQpXG4gICAgICAgICAgICB0cnlFbnN1cmVWYWx1ZSgpO1xuXG4gICAgICAgIHJldHVybiAodmFsdWVSZWYuY3VycmVudCA9PT0gVW5zZXQgPyB1bmRlZmluZWQhIDogdmFsdWVSZWYuY3VycmVudCEpIGFzIFQ7XG4gICAgfSwgW10pO1xuXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlJ3ZlIHJ1biBvdXIgZWZmZWN0IGF0IGxlYXN0IG9uY2Ugb24gbW91bnQuXG4gICAgICAgIC8vIChJZiB3ZSBoYXZlIGFuIGluaXRpYWwgdmFsdWUsIG9mIGNvdXJzZSlcbiAgICAgICAgdHJ5RW5zdXJlVmFsdWUoKTtcblxuXG4gICAgfSwgW10pO1xuXG4gICAgLy8gVGhlIGFjdHVhbCBjb2RlIHRoZSB1c2VyIGNhbGxzIHRvIChwb3NzaWJseSkgcnVuIGEgbmV3IGVmZmVjdC5cbiAgICBjb25zdCBzZXRWYWx1ZSA9IHVzZUNhbGxiYWNrPFBhc3NpdmVTdGF0ZVVwZGF0ZXI8VCwgUj4+KChhcmc6IFBhcmFtZXRlcnM8UGFzc2l2ZVN0YXRlVXBkYXRlcjxULCBSPj5bMF0sIHJlYXNvbjogUGFyYW1ldGVyczxQYXNzaXZlU3RhdGVVcGRhdGVyPFQsIFI+PlsxXSkgPT4ge1xuXG4gICAgICAgIC8vIFJlZ2FyZGxlc3Mgb2YgYW55dGhpbmcgZWxzZSwgZmlndXJlIG91dCB3aGF0IG91ciBuZXh0IHZhbHVlIGlzIGFib3V0IHRvIGJlLlxuICAgICAgICBjb25zdCBuZXh0VmFsdWUgPSAoYXJnIGluc3RhbmNlb2YgRnVuY3Rpb24gPyBhcmcodmFsdWVSZWYuY3VycmVudCA9PT0gVW5zZXQgPyB1bmRlZmluZWQgOiB2YWx1ZVJlZi5jdXJyZW50KSA6IGFyZyk7XG5cblxuICAgICAgICBpZiAoZGVwZW5kZW5jeVRvQ29tcGFyZUFnYWluc3QuY3VycmVudCA9PT0gVW5zZXQgJiYgbmV4dFZhbHVlICE9PSB2YWx1ZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCByZXF1ZXN0IHRvIGNoYW5nZSB0aGlzIHZhbHVlLlxuICAgICAgICAgICAgLy8gRXZhbHVhdGUgdGhlIHJlcXVlc3QgaW1tZWRpYXRlbHksIHRoZW4gcXVldWUgdXAgdGhlIG9uQ2hhbmdlIGZ1bmN0aW9uXG5cbiAgICAgICAgICAgIC8vIFNhdmUgb3VyIGN1cnJlbnQgdmFsdWUgc28gdGhhdCB3ZSBjYW4gY29tcGFyZSBhZ2FpbnN0IGl0IGxhdGVyXG4gICAgICAgICAgICAvLyAoaWYgd2UgZmxpcCBiYWNrIHRvIHRoaXMgc3RhdGUsIHRoZW4gd2Ugd29uJ3Qgc2VuZCB0aGUgb25DaGFuZ2UgZnVuY3Rpb24pXG4gICAgICAgICAgICBkZXBlbmRlbmN5VG9Db21wYXJlQWdhaW5zdC5jdXJyZW50ID0gdmFsdWVSZWYuY3VycmVudDtcblxuICAgICAgICAgICAgLy8gSXQncyBpbXBvcnRhbnQgdG8gdXBkYXRlIHRoaXMgaGVyZSAoYXMgd2VsbCBhcyBiZWxvdykgaW4gY2FzZSBjdXN0b21EZWJvdW5jZVJlbmRlcmluZyBpbnZva2VzIHRoaXMgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIHZhbHVlUmVmLmN1cnJlbnQgPSBuZXh0VmFsdWU7XG4gICAgICAgICAgICByZWFzb25SZWYuY3VycmVudCA9IHJlYXNvbiBhcyBSO1xuXG4gICAgICAgICAgICAvLyBTY2hlZHVsZSB0aGUgYWN0dWFsIGNoZWNrIGFuZCBpbnZvY2F0aW9uIG9mIG9uQ2hhbmdlIGxhdGVyIHRvIGxldCBlZmZlY3RzIHNldHRsZVxuICAgICAgICAgICAgKGN1c3RvbURlYm91bmNlUmVuZGVyaW5nID8/IGRlYm91bmNlUmVuZGVyaW5nKSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFJlYXNvbiA9IHJlYXNvblJlZi5jdXJyZW50ISBhcyBSO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHREZXAgPSB2YWx1ZVJlZi5jdXJyZW50ISBhcyBUO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZEZXAgPSBkZXBlbmRlbmN5VG9Db21wYXJlQWdhaW5zdC5jdXJyZW50O1xuICAgICAgICAgICAgICAgIGlmIChkZXBlbmRlbmN5VG9Db21wYXJlQWdhaW5zdC5jdXJyZW50ICE9IHZhbHVlUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ1JlZi5jdXJyZW50ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsbCBhbnkgcmVnaXN0ZXJlZCBjbGVhbnVwIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBvblNob3VsZENsZWFuVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFudXBDYWxsYmFja1JlZi5jdXJyZW50ID0gKG9uQ2hhbmdlPy4obmV4dERlcCwgcHJldkRlcCA9PT0gVW5zZXQgPyB1bmRlZmluZWQgOiBwcmV2RGVwLCBuZXh0UmVhc29uKSA/PyB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVSZWYuY3VycmVudCA9IG5leHREZXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyB0aGUgdXNlciB0byBub3JtYWxseSBjYWxsIGdldFZhbHVlIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gV2UndmUgZmluaXNoZWQgd2l0aCBldmVyeXRoaW5nLCBzbyBtYXJrIHVzIGFzIGJlaW5nIG9uIGEgY2xlYW4gc2xhdGUgYWdhaW4uXG4gICAgICAgICAgICAgICAgZGVwZW5kZW5jeVRvQ29tcGFyZUFnYWluc3QuY3VycmVudCA9IFVuc2V0O1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdmFsdWUgaW1tZWRpYXRlbHkuXG4gICAgICAgIC8vIFRoaXMgd2lsbCBiZSBjaGVja2VkIGFnYWluc3QgcHJldkRlcCB0byBzZWUgaWYgd2Ugc2hvdWxkIGFjdHVhbGx5IGNhbGwgb25DaGFuZ2VcbiAgICAgICAgdmFsdWVSZWYuY3VycmVudCA9IG5leHRWYWx1ZTtcblxuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiBbZ2V0VmFsdWUsIHNldFZhbHVlXSBhcyBjb25zdDtcbn1cblxuY29uc3QgVW5zZXQgPSBTeW1ib2woKTtcblxuLy8gRWFzeSBjb25zdGFudHMgZm9yIGdldEluaXRpYWxWYWx1ZVxuZXhwb3J0IGZ1bmN0aW9uIHJldHVyblRydWUoKSB7IHJldHVybiB0cnVlOyB9XG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7IHJldHVybiBmYWxzZTsgfVxuZXhwb3J0IGZ1bmN0aW9uIHJldHVybk51bGwoKSB7IHJldHVybiBudWxsOyB9XG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuVW5kZWZpbmVkKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9XG5leHBvcnQgZnVuY3Rpb24gcmV0dXJuWmVybygpIHsgcmV0dXJuIDA7IH1cblxuLyoqIFxuICogQW4gYWx0ZXJuYXRpdmUgdG8gdXNlIGZvciBgY3VzdG9tRGVib3VuY2VSZW5kZXJpbmdgIHRoYXQgY2F1c2VzIGB1c2VQYXNzaXZlU3RhdGVgIHRvIHJ1biBjaGFuZ2VzIHdpdGhvdXQgd2FpdGluZyBhIHRpY2suXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBydW5JbW1lZGlhdGVseShmOiAoKSA9PiB2b2lkKSB7IGYoKTsgfSIsIlxuaW1wb3J0IHsgQ29tcG9uZW50LCBvcHRpb25zLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IEVmZmVjdENhbGxiYWNrLCBJbnB1dHMsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5cblxuXG5jb25zdCBUYWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlfLVwiO1xuXG5mdW5jdGlvbiBiYXNlNjQodmFsdWU6IG51bWJlcikge1xuICAgIHJldHVybiBUYWJsZVt2YWx1ZV07XG59XG5cbmZ1bmN0aW9uIHJhbmRvbTZCaXRzKCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAwYjEwMDAwMDApO1xufVxuXG5mdW5jdGlvbiByYW5kb202NEJpdHMoKSB7XG4gICAgcmV0dXJuIFtyYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpLCByYW5kb202Qml0cygpXSBhcyBjb25zdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcmFuZG9tbHktZ2VuZXJhdGVkIElEIHdpdGggYW4gb3B0aW9uYWwgcHJlZml4LlxuICogTm90ZSB0aGF0IGlmIHRoZSBwcmVmaXggaXMgKmV4cGxpY2l0bHkqIHNldCB0byBcIlwiLCB0aGVuXG4gKiBJRHMgdGhhdCBhcmUgbm90IHZhbGlkIHVuZGVyIEhUTUw0IG1heSBiZSBnZW5lcmF0ZWQuIE9oIG5vLlxuICogXG4gKiBcbiAqIChUaGlzIGlzIGhlcmUsIGluIHRoaXMgcGFydGljdWxhciBmaWxlLCB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmNpZXNcbiAqIHdpdGhvdXQgYWxzbyBtYWtpbmcgYSB1dGlsaXRpZXMgZmlsZS5cbiAqIE9uY2Ugd2UgY2FuIHJlbW92ZSB0aGlzIGhvb2ssIHdlIGNhbiBwdXQgdGhpcyBmdW5jdGlvbiBiYWNrIHdpdGggdXNlUmFuZG9tSWQpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbUlkKHByZWZpeD86IHN0cmluZykge1xuICAgIHJldHVybiBgJHtwcmVmaXggPz8gXCJpZC1cIn0ke3JhbmRvbTY0Qml0cygpLm1hcChuID0+IGJhc2U2NChuKSkuam9pbihcIlwiKX1gO1xufVxuXG5jb25zdCBwcmV2aW91c0lucHV0cyA9IG5ldyBNYXA8c3RyaW5nLCBJbnB1dHMgfCB1bmRlZmluZWQ+KCk7XG5jb25zdCB0b1J1biA9IG5ldyBNYXA8c3RyaW5nLCB7IGVmZmVjdDogRWZmZWN0Q2FsbGJhY2ssIGlucHV0cz86IElucHV0cywgY2xlYW51cDogbnVsbCB8IHVuZGVmaW5lZCB8IHZvaWQgfCAoKCkgPT4gdm9pZCkgfT4oKTtcblxuXG4vLyBUT0RPOiBXaGV0aGVyIHRoaXMgZ29lcyBpbiBvcHRpb25zLmRpZmZlZCBvciBvcHRpb25zLl9jb21taXRcbi8vIGlzIGEgcG9zdC1zdXNwZW5zZSBxdWVzdGlvbi5cbi8vIFJpZ2h0IG5vdywgdXNpbmcgb3B0aW9ucy5fY29tbWl0IGhhcyB0aGUgcHJvYmxlbSBvZiBydW5uaW5nXG4vLyAqYWZ0ZXIqIHJlZnMgYXJlIGFwcGxpZWQsIGJ1dCB3ZSBuZWVkIHRvIGNvbWUgYmVmb3JlIGV2ZW4gdGhhdFxuLy8gc28gYHJlZj17c29tZVN0YWJsZUZ1bmN0aW9ufWAgd29ya3MuXG4vLyBcbi8vIEFsc28gaXQncyBwcml2YXRlLlxuLy9cbi8vIC4uLlxuLy8gV2VsbCwgdXNlRXZlbnQgb3Igd2hhdGV2ZXIgaXMgZmluYWxseSwgZmluYWxseSA0IHllYXJzIGxhdGVyIGZpbmFsbHkgaGVyZVxuLy8gd2hpY2ggaXMgY29vbCBhbmQgbWVhbnMgd2Ugd29uJ3QgbmVlZCB0aGlzIGF0IGFsbCBzb29uLlxuLy8gU28gZm9yIG5vdyB3ZSdsbCBzdGljayB3aXRoIGRpZmYgdG8gcHJldmVudCBhbnkgd2VpcmRuZXNzIHdpdGhcbi8vIGNvbW1pdCBiZWluZyBwcml2YXRlIGFuZCBhbGwuXG5jb25zdCBjb21taXROYW1lID0gXCJkaWZmZWRcIjtcblxuY29uc3Qgb3JpZ2luYWxDb21taXQgPSBvcHRpb25zW2NvbW1pdE5hbWVdIGFzICh2bm9kZTogVk5vZGUsIGNvbW1pdFF1ZXVlOiBDb21wb25lbnRbXSkgPT4gdm9pZDtcbmNvbnN0IG5ld0NvbW1pdDogdHlwZW9mIG9yaWdpbmFsQ29tbWl0ID0gKC4uLmFyZ3MpID0+IHtcbiAgICBmb3IgKGNvbnN0IFtpZCwgZWZmZWN0SW5mb10gb2YgdG9SdW4pIHtcbiAgICAgICAgY29uc3Qgb2xkSW5wdXRzID0gcHJldmlvdXNJbnB1dHMuZ2V0KGlkKTtcbiAgICAgICAgaWYgKGFyZ3NDaGFuZ2VkKG9sZElucHV0cywgZWZmZWN0SW5mby5pbnB1dHMpKSB7XG4gICAgICAgICAgICBlZmZlY3RJbmZvLmNsZWFudXA/LigpO1xuICAgICAgICAgICAgZWZmZWN0SW5mby5jbGVhbnVwID0gZWZmZWN0SW5mby5lZmZlY3QoKTtcbiAgICAgICAgICAgIHByZXZpb3VzSW5wdXRzLnNldChpZCwgZWZmZWN0SW5mby5pbnB1dHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvUnVuLmNsZWFyKCk7XG4gICAgb3JpZ2luYWxDb21taXQ/LiguLi5hcmdzKTtcbn1cbm9wdGlvbnNbY29tbWl0TmFtZV0gPSBuZXdDb21taXQgYXMgbmV2ZXJcblxuLyoqXG4gKiBTZW1pLXByaXZhdGUgZnVuY3Rpb24gdG8gYWxsb3cgc3RhYmxlIGNhbGxiYWNrcyBldmVuIHdpdGhpbiBgdXNlTGF5b3V0RWZmZWN0YCBhbmQgcmVmIGFzc2lnbm1lbnQuXG4gKiBcbiAqIEV2ZXJ5IHJlbmRlciwgd2Ugc2VuZCB0aGUgYXJndW1lbnRzIHRvIGJlIGV2YWx1YXRlZCBhZnRlciBkaWZmaW5nIGhhcyBjb21wbGV0ZWQsXG4gKiB3aGljaCBoYXBwZW5zIGJlZm9yZS5cbiAqIFxuICogQHBhcmFtIGVmZmVjdCBcbiAqIEBwYXJhbSBpbnB1dHMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VCZWZvcmVMYXlvdXRFZmZlY3QoZWZmZWN0OiBFZmZlY3RDYWxsYmFjayB8IG51bGwsIGlucHV0cz86IElucHV0cykge1xuXG4gICAgLyooKCkgPT4ge1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gdXNlUmVmPHZvaWQgfCAoKCkgPT4gdm9pZCkgfCBudWxsPihudWxsKTtcbiAgICAgICAgY29uc3QgcHJldkFyZ3NSZWYgPSB1c2VSZWY8SW5wdXRzPihudWxsISk7XG4gICAgICAgIGlmIChhcmdzQ2hhbmdlZChpbnB1dHMsIHByZXZBcmdzUmVmLmN1cnJlbnQpKSB7XG4gICAgICAgICAgICBwcmV2QXJnc1JlZi5jdXJyZW50ID0gaW5wdXRzITtcbiAgICAgICAgICAgIGlmIChjbGVhbnVwLmN1cnJlbnQpXG4gICAgICAgICAgICAgICAgY2xlYW51cC5jdXJyZW50KCk7XG4gICAgICAgICAgICBjbGVhbnVwLmN1cnJlbnQgPSBlZmZlY3QoKTtcbiAgICAgICAgfVxuICAgIH0pKCk7Ki9cblxuICAgIGNvbnN0IFtpZF0gPSB1c2VTdGF0ZSgoKSA9PiBnZW5lcmF0ZVJhbmRvbUlkKCkpO1xuICAgIGlmIChlZmZlY3QpXG4gICAgICAgIHRvUnVuLnNldChpZCwgeyBlZmZlY3QsIGlucHV0cywgY2xlYW51cDogbnVsbCB9KTtcbiAgICBlbHNlXG4gICAgICAgIHRvUnVuLmRlbGV0ZShpZCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdG9SdW4uZGVsZXRlKGlkKTtcbiAgICAgICAgICAgIHByZXZpb3VzSW5wdXRzLmRlbGV0ZShpZCk7XG4gICAgICAgIH1cbiAgICB9LCBbaWRdKVxufVxuXG5mdW5jdGlvbiBhcmdzQ2hhbmdlZChvbGRBcmdzPzogSW5wdXRzLCBuZXdBcmdzPzogSW5wdXRzKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICEhKFxuICAgICAgICAhb2xkQXJncyB8fFxuICAgICAgICBvbGRBcmdzLmxlbmd0aCAhPT0gbmV3QXJncz8ubGVuZ3RoIHx8XG4gICAgICAgIG5ld0FyZ3M/LnNvbWUoKGFyZywgaW5kZXgpID0+IGFyZyAhPT0gb2xkQXJnc1tpbmRleF0pXG4gICAgKTtcbn0iLCJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgdXNlQmVmb3JlTGF5b3V0RWZmZWN0IH0gZnJvbSBcIi4vdXNlLWJlZm9yZS1sYXlvdXQtZWZmZWN0XCI7XG5pbXBvcnQgeyB1c2VFbnN1cmVTdGFiaWxpdHkgfSBmcm9tIFwiLi91c2UtcGFzc2l2ZS1zdGF0ZVwiO1xuXG5jb25zdCBVbnNldCA9IFN5bWJvbChcInVuc2V0XCIpO1xuXG5cbi8qKlxuICogR2l2ZW4gYW4gaW5wdXQgdmFsdWUsIHJldHVybnMgYSBjb25zdGFudCBnZXR0ZXIgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCBcbiAqIGluc2lkZSBvZiBgdXNlRWZmZWN0YCBhbmQgZnJpZW5kcyB3aXRob3V0IGluY2x1ZGluZyBpdCBpbiB0aGUgZGVwZW5kZW5jeSBhcnJheS5cbiAqIFxuICogVGhpcyB1c2VzIGBvcHRpb25zLmRpZmZlZGAgaW4gb3JkZXIgdG8gcnVuIGJlZm9yZSBldmVyeXRoaW5nLCBldmVuXG4gKiByZWYgYXNzaWdubWVudC4gVGhpcyBtZWFucyB0aGlzIGdldHRlciBpcyBzYWZlIHRvIHVzZSBhbnl3aGVyZSAqKipleGNlcHQgdGhlIHJlbmRlciBwaGFzZSoqKi5cbiAqIFxuICogQHBhcmFtIHZhbHVlIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdGFibGVHZXR0ZXI8VD4odmFsdWU6IFQpIHtcblxuICAgIGNvbnN0IHJlZiA9IHVzZVJlZjxUPihVbnNldCBhcyB1bmtub3duIGFzIFQpO1xuICAgIHVzZUJlZm9yZUxheW91dEVmZmVjdCgoKCkgPT4geyByZWYuY3VycmVudCA9IHZhbHVlOyB9KSwgW3ZhbHVlXSk7XG5cbiAgICByZXR1cm4gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAocmVmLmN1cnJlbnQgYXMgdW5rbm93biA9PT0gVW5zZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWUgcmV0cmlldmVkIGZyb20gdXNlU3RhYmxlR2V0dGVyKCkgY2Fubm90IGJlIGNhbGxlZCBkdXJpbmcgcmVuZGVyLicpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZi5jdXJyZW50O1xuICAgIH0sIFtdKTtcbn1cblxuXG4vKipcbiAqIExpa2UgYHVzZVN0YWJsZUdldHRlcmAsIGJ1dCAqKipyZXF1aXJlcyoqKiB0aGF0IGV2ZXJ5dGhpbmcgaW4gdGhlIG9iamVjdCBpcyBhbHNvIHN0YWJsZSxcbiAqIGFuZCBpbiB0dXJuIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgaXRzZWxmIGlzIHN0YWJsZS5cbiAqIEBwYXJhbSB0IFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdGFibGVPYmplY3Q8VCBleHRlbmRzIHt9Pih0OiBUKTogVCB7XG4gICAgY29uc3QgZSA9IE9iamVjdC5lbnRyaWVzKHQpO1xuICAgIHVzZUVuc3VyZVN0YWJpbGl0eShcInVzZVN0YWJsZU9iamVjdFwiLCBlLmxlbmd0aCwgLi4uZS5tYXAoKFtfaywgdl0pID0+IHYpKTtcbiAgICByZXR1cm4gdXNlUmVmKHQpLmN1cnJlbnQ7XG59XG5cbiIsImltcG9ydCB7IHVzZUNhbGxiYWNrIGFzIHVzZUNhbGxiYWNrTmF0aXZlIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgdXNlRW5zdXJlU3RhYmlsaXR5IH0gZnJvbSBcIi4vdXNlLXBhc3NpdmUtc3RhdGVcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUdldHRlciB9IGZyb20gXCIuL3VzZS1zdGFibGUtZ2V0dGVyXCI7XG5cblxuLy9jb25zdCBfSVNfU1RBQkxFX0dFVFRFUiA9IFN5bWJvbChcIlNUQUJMRVwiKTtcbmV4cG9ydCB0eXBlIFN0YWJsZTxUPiA9IFQ7Ly8gJiB7IFtfU1RBQkxFXTogdHJ1ZSB9O1xuXG4vKipcbiAqIFdlIGtlZXAgdHJhY2sgb2Ygd2hpY2ggY2FsbGJhY2tzIGFyZSBzdGFibGUgd2l0aCBhIFdlYWtNYXAgaW5zdGVhZCBvZiwgc2F5LCBhIHN5bWJvbCBiZWNhdXNlXG4gKiBgdXNlQ2FsbGJhY2tgIHdpbGwgcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCdzIHN0YWJsZSBhY3Jvc3MgKmFsbCogcmVuZGVycywgbWVhbmluZ1xuICogd2UgY2FuJ3QgdXNlIG91ciBmdW5ueSBcImBpZmAgb25seSB3b3JrcyBoZXJlIGJlY2F1c2UgaXQgZG9lc24ndCBicmVhayB0aGUgcnVsZXMgb2YgaG9va3NcIiB0cmljayB0aGVuLlxuICovXG5jb25zdCBtYXAgPSBuZXcgV2Vha01hcDxGdW5jdGlvbiwgYm9vbGVhbj4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RhYmxlR2V0dGVyPFQgZXh0ZW5kcyBGdW5jdGlvbj4ob2JqOiBUKTogb2JqIGlzIFN0YWJsZTxUPiB7XG4gICAgcmV0dXJuIChtYXAuZ2V0KG9iaikgPz8gZmFsc2UpO1xufVxuZnVuY3Rpb24gc2V0SXNTdGFibGVHZXR0ZXI8VCBleHRlbmRzICguLi5fYXJnczogYW55W10pID0+IGFueT4ob2JqOiBUKTogU3RhYmxlPFQ+IHtcbiAgICBtYXAuc2V0KG9iaiwgdHJ1ZSk7XG4gICAgcmV0dXJuIG9iajtcbn1cblxuXG4vKipcbiAqIEFsdGVybmF0ZSB1c2VDYWxsYmFjaygpIHdoaWNoIGFsd2F5cyByZXR1cm5zIHRoZSBzYW1lICh3cmFwcGVkKSBmdW5jdGlvbiByZWZlcmVuY2VcbiAqIHNvIHRoYXQgaXQgY2FuIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIGRlcGVuZGVuY3kgYXJyYXlzIG9mIGB1c2VFZmZlY3RgIGFuZCBmcmllbmRzLlxuICogXG4gKiBJbiBnZW5lcmFsLCBqdXN0IHBhc3MgdGhlIGZ1bmN0aW9uIHlvdSB3YW50IHRvIGJlIHN0YWJsZSAoYnV0IHlvdSBjYW4ndCB1c2UgaXQgZHVyaW5nIHJlbmRlcixcbiAqIHNvIGJlIGNhcmVmdWwhKS4gIEFsdGVybmF0aXZlbHksIGlmIHlvdSBuZWVkIGEgc3RhYmxlIGNhbGxiYWNrIHRoYXQgKipjYW4qKiBiZSB1c2VkXG4gKiBkdXJpbmcgcmVuZGVyLCBwYXNzIGFuIGVtcHR5IGRlcGVuZGVuY3kgYXJyYXkgYW5kIGl0J2xsIGFjdCBsaWtlIGB1c2VDYWxsYmFja2Agd2l0aCBhblxuICogZW1wdHkgZGVwZW5kZW5jeSBhcnJheSwgYnV0IHdpdGggdGhlIGFzc29jaWF0ZWQgc3RhYmxlIHR5cGluZy4gSW4gdGhpcyBjYXNlLCB5b3UgKioqbXVzdCoqKiBlbnN1cmUgdGhhdCBpdFxuICogdHJ1bHkgaGFzIG5vIGRlcGVuZGVuY2llcy9vbmx5IHN0YWJsZSBkZXBlbmRlbmNpZXMhIVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU3RhYmxlQ2FsbGJhY2s8VCBleHRlbmRzIEZ1bmN0aW9uIHwgbnVsbCB8IHVuZGVmaW5lZD4oZm46IE5vbk51bGxhYmxlPFQ+LCBub0RlcHM/OiBbXSB8IG51bGwgfCB1bmRlZmluZWQpOiBTdGFibGU8Tm9uTnVsbGFibGU8VD4+IHtcbiAgICB0eXBlIFUgPSAoTm9uTnVsbGFibGU8VD4gJiAoKC4uLmFyZ3M6IGFueSkgPT4gYW55KSk7XG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlU3RhYmxlQ2FsbGJhY2tcIiwgbm9EZXBzID09IG51bGwsIG5vRGVwcz8ubGVuZ3RoLCBpc1N0YWJsZUdldHRlcjxVPihmbiBhcyBVKSk7XG4gICAgaWYgKGlzU3RhYmxlR2V0dGVyKGZuKSlcbiAgICAgICAgcmV0dXJuIGZuO1xuXG4gICAgaWYgKG5vRGVwcyA9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRDYWxsYmFja0dldHRlciA9IHVzZVN0YWJsZUdldHRlcjxVPihmbik7XG4gICAgICAgIHJldHVybiBzZXRJc1N0YWJsZUdldHRlcih1c2VDYWxsYmFja05hdGl2ZTxVPigoKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50Q2FsbGJhY2tHZXR0ZXIoKSguLi5hcmdzKTtcbiAgICAgICAgfSkgYXMgVSwgW10pKTtcblxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5hc3NlcnQobm9EZXBzLmxlbmd0aCA9PT0gMCk7XG4gICAgICAgIHJldHVybiBzZXRJc1N0YWJsZUdldHRlcih1c2VDYWxsYmFja05hdGl2ZTxVPihmbiwgW10pKTtcbiAgICB9XG59XG5cbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIEZyYWdtZW50LCBoIH0gZnJvbSBcInByZWFjdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVyZ2VkQ2hpbGRyZW4obGhzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFdmVudFRhcmdldD5bXCJjaGlsZHJlblwiXSwgcmhzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFdmVudFRhcmdldD5bXCJjaGlsZHJlblwiXSk6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEV2ZW50VGFyZ2V0PltcImNoaWxkcmVuXCJdIHtcbiAgICBpZiAobGhzID09IG51bGwgJiYgcmhzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSBpZiAobGhzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJocztcbiAgICB9XG4gICAgZWxzZSBpZiAocmhzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxocztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KEZyYWdtZW50LCB7fSwgbGhzLCByaHMpO1xuICAgIH1cbn1cbiIsImZ1bmN0aW9uIHIoZSl7dmFyIHQsZixuPVwiXCI7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlKW4rPWU7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgZSlpZihBcnJheS5pc0FycmF5KGUpKWZvcih0PTA7dDxlLmxlbmd0aDt0KyspZVt0XSYmKGY9cihlW3RdKSkmJihuJiYobis9XCIgXCIpLG4rPWYpO2Vsc2UgZm9yKHQgaW4gZSllW3RdJiYobiYmKG4rPVwiIFwiKSxuKz10KTtyZXR1cm4gbn1leHBvcnQgZnVuY3Rpb24gY2xzeCgpe2Zvcih2YXIgZSx0LGY9MCxuPVwiXCI7Zjxhcmd1bWVudHMubGVuZ3RoOykoZT1hcmd1bWVudHNbZisrXSkmJih0PXIoZSkpJiYobiYmKG4rPVwiIFwiKSxuKz10KTtyZXR1cm4gbn1leHBvcnQgZGVmYXVsdCBjbHN4OyIsImltcG9ydCB7IGRlZmF1bHQgYXMgY2xzeCB9IGZyb20gXCJjbHN4XCI7XG5pbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xudHlwZSBDID0gaC5KU1guSFRNTEF0dHJpYnV0ZXM8RXZlbnRUYXJnZXQ+W1wiY2xhc3NOYW1lXCJdO1xuLyoqXG4gKiBHaXZlbiB0d28gc2V0cyBvZiBwcm9wcywgbWVyZ2VzIHRoZWlyIGBjbGFzc2AgYW5kIGBjbGFzc05hbWVgIHByb3BlcnRpZXMuXG4gKiBEdXBsaWNhdGUgY2xhc3NlcyBhcmUgcmVtb3ZlZCAob3JkZXIgZG9lc24ndCBtYXR0ZXIgYW55d2F5KS5cbiAqIFxuICogQHBhcmFtIGxocyBDbGFzc2VzIG9mIHRoZSBmaXJzdCBjb21wb25lbnRcbiAqIEBwYXJhbSByaHMgQ2xhc3NlcyBvZiB0aGUgc2Vjb25kIGNvbXBvbmVudFxuICogQHJldHVybnMgQSBzdHJpbmcgcmVwcmVzZW50aW5nIGFsbCBjb21iaW5lZCBjbGFzc2VzIGZyb20gYm90aCBhcmd1bWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZWRDbGFzc2VzKGxoc0NsYXNzOiBDLCBsaHNDbGFzc05hbWU6IEMsIHJoc0NsYXNzOiBDLCByaHNDbGFzc05hbWU6IEMpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuXG4gICAgLy8gTm90ZTogRm9yIHRoZSBzYWtlIG9mIGZvcndhcmQgY29tcGF0aWJpbGl0eSwgdGhpcyBmdW5jdGlvbiBpcyBsYWJlbGxlZCBhc1xuICAgIC8vIGEgaG9vaywgYnV0IGFzIGl0IHVzZXMgbm8gb3RoZXIgaG9va3MgaXQgdGVjaG5pY2FsbHkgaXNuJ3Qgb25lLlxuXG4gICAgaWYgKGxoc0NsYXNzIHx8IHJoc0NsYXNzIHx8IGxoc0NsYXNzTmFtZSB8fCByaHNDbGFzc05hbWUpIHtcbiAgICAgICAgY29uc3QgbGhzQ2xhc3NlcyA9IGNsc3gobGhzQ2xhc3MsIGxoc0NsYXNzTmFtZSkuc3BsaXQoXCIgXCIpO1xuICAgICAgICBjb25zdCByaHNDbGFzc2VzID0gY2xzeChyaHNDbGFzcywgcmhzQ2xhc3NOYW1lKS5zcGxpdChcIiBcIik7XG4gICAgICAgIGNvbnN0IGFsbENsYXNzZXMgPSBuZXcgU2V0KFsuLi5BcnJheS5mcm9tKGxoc0NsYXNzZXMpLCAuLi5BcnJheS5mcm9tKHJoc0NsYXNzZXMpXSlcblxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShhbGxDbGFzc2VzKS5qb2luKFwiIFwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaCwgUmVmLCBSZWZPYmplY3QgfSBmcm9tIFwicHJlYWN0XCI7XG5cblxuZnVuY3Rpb24gcHJvY2Vzc1JlZjxUPihpbnN0YW5jZTogVCB8IG51bGwsIHJlZjogUmVmPFQ+IHwgbnVsbCB8IHVuZGVmaW5lZCkge1xuICAgIGlmICh0eXBlb2YgcmVmID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmVmKGluc3RhbmNlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVmICE9IG51bGwpIHtcbiAgICAgICAgKHJlZiBhcyBSZWZPYmplY3Q8VCB8IG51bGw+KS5jdXJyZW50ID0gaW5zdGFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1kZWJ1Z2dlciAqL1xuICAgICAgICBkZWJ1Z2dlcjtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoZmFsc2UsIFwiVW5rbm93biByZWYgdHlwZSBmb3VuZCB0aGF0IHdhcyBuZWl0aGVyIGEgUmVmQ2FsbGJhY2sgbm9yIGEgUmVmT2JqZWN0XCIpO1xuICAgIH1cbn1cblxuXG4vKipcbiAqIENvbWJpbmVzIHR3byByZWZzIGludG8gb25lLiBUaGlzIGFsbG93cyBhIGNvbXBvbmVudCB0byBib3RoIHVzZSBpdHMgb3duIHJlZiAqYW5kKiBmb3J3YXJkIGEgcmVmIHRoYXQgd2FzIGdpdmVuIHRvIGl0LlxuICogQHBhcmFtIGxocyBcbiAqIEBwYXJhbSByaHMgXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1lcmdlZFJlZnM8RSBleHRlbmRzIEV2ZW50VGFyZ2V0PihyaHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+W1wicmVmXCJdLCBsaHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+W1wicmVmXCJdKSB7XG4gICAgaWYgKGxocyA9PSBudWxsICYmIHJocyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQhO1xuICAgIH1cbiAgICBlbHNlIGlmIChsaHMgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gcmhzITtcbiAgICB9XG4gICAgZWxzZSBpZiAocmhzID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxocyE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gY29tYmluZWQ7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjb21iaW5lZChjdXJyZW50OiBFIHwgbnVsbCkge1xuICAgICAgICBwcm9jZXNzUmVmKGN1cnJlbnQsIGxocyk7XG4gICAgICAgIHByb2Nlc3NSZWYoY3VycmVudCwgcmhzKTtcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcblxuZnVuY3Rpb24gc3R5bGVTdHJpbmdUb09iamVjdChzdHlsZTogc3RyaW5nKTogaC5KU1guQ1NTUHJvcGVydGllcyB7XG4gICAgLy8gVE9ETzogVGhpcyBzdWNrcyBEOlxuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoc3R5bGUuc3BsaXQoXCI7XCIpLm1hcChzdGF0ZW1lbnQgPT4gc3RhdGVtZW50LnNwbGl0KFwiOlwiKSkpIGFzIHVua25vd24gYXMgaC5KU1guQ1NTUHJvcGVydGllcztcbn1cblxuLyoqXG4gKiBNZXJnZXMgdHdvIHN0eWxlIG9iamVjdHMsIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICogXG4gKiBAcGFyYW0gc3R5bGUgVGhlIHVzZXItZ2l2ZW4gc3R5bGUgcHJvcCBmb3IgdGhpcyBjb21wb25lbnRcbiAqIEBwYXJhbSBvYmogVGhlIENTUyBwcm9wZXJ0aWVzIHlvdSB3YW50IGFkZGVkIHRvIHRoZSB1c2VyLWdpdmVuIHN0eWxlXG4gKiBAcmV0dXJucyBBIENTUyBvYmplY3QgY29udGFpbmluZyB0aGUgcHJvcGVydGllcyBvZiBib3RoIG9iamVjdHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZWRTdHlsZXMobGhzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFdmVudFRhcmdldD5bXCJzdHlsZVwiXSwgcmhzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFdmVudFRhcmdldD5bXCJzdHlsZVwiXSk6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEV2ZW50VGFyZ2V0PltcInN0eWxlXCJdIHtcblxuICAgIC8vIEVhc3kgY2FzZSwgd2hlbiB0aGVyZSBhcmUgbm8gc3R5bGVzIHRvIG1lcmdlIHJldHVybiBub3RoaW5nLlxuICAgIGlmICghbGhzICYmICFyaHMpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgICBpZiAodHlwZW9mIGxocyAhPSB0eXBlb2YgcmhzKSB7XG4gICAgICAgIC8vIEVhc3kgY2FzZXMsIHdoZW4gb25lIGlzIG51bGwgYW5kIHRoZSBvdGhlciBpc24ndC5cbiAgICAgICAgaWYgKGxocyAmJiAhcmhzKVxuICAgICAgICAgICAgcmV0dXJuIGxocztcbiAgICAgICAgaWYgKCFsaHMgJiYgcmhzKVxuICAgICAgICAgICAgcmV0dXJuIHJocztcblxuICAgICAgICAvLyBUaGV5J3JlIGJvdGggbm9uLW51bGwgYnV0IGRpZmZlcmVudCB0eXBlcy5cbiAgICAgICAgLy8gQ29udmVydCB0aGUgc3RyaW5nIHR5cGUgdG8gYW4gb2JqZWN0IGJhZyB0eXBlIGFuZCBydW4gaXQgYWdhaW4uXG4gICAgICAgIGlmIChsaHMgJiYgcmhzKSB7XG4gICAgICAgICAgICAvLyAodXNlTWVyZ2VkU3R5bGVzIGlzbid0IGEgdHJ1ZSBob29rIC0tIHRoaXMgaXNuJ3QgYSB2aW9sYXRpb24pXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxocyA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VNZXJnZWRTdHlsZXMoc3R5bGVTdHJpbmdUb09iamVjdChsaHMgYXMgc3RyaW5nKSwgcmhzKSBhcyBoLkpTWC5DU1NQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByaHMgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlTWVyZ2VkU3R5bGVzKGxocywgc3R5bGVTdHJpbmdUb09iamVjdChyaHMgYXMgc3RyaW5nKSkgYXMgaC5KU1guQ1NTUHJvcGVydGllcztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExvZ2ljPz8/XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gVGhleSdyZSBib3RoIHN0cmluZ3MsIGp1c3QgY29uY2F0ZW5hdGUgdGhlbS5cbiAgICBpZiAodHlwZW9mIGxocyA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBgJHtsaHN9OyR7cmhzID8/IFwiXCJ9YCBhcyB1bmtub3duIGFzIHN0cmluZztcbiAgICB9XG5cbiAgICAvLyBUaGV5J3JlIGJvdGggb2JqZWN0cywganVzdCBtZXJnZSB0aGVtLlxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLihsaHMgPz8ge30pIGFzIGguSlNYLkNTU1Byb3BlcnRpZXMsXG4gICAgICAgIC4uLihyaHMgPz8ge30pIGFzIGguSlNYLkNTU1Byb3BlcnRpZXNcbiAgICB9IGFzIHVua25vd24gYXMgaC5KU1guQ1NTUHJvcGVydGllc1xufVxuXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlRW5zdXJlU3RhYmlsaXR5IH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1wYXNzaXZlLXN0YXRlXCI7XG5pbXBvcnQgeyB1c2VNZXJnZWRDaGlsZHJlbiB9IGZyb20gXCIuL3VzZS1tZXJnZWQtY2hpbGRyZW5cIjtcbmltcG9ydCB7IHVzZU1lcmdlZENsYXNzZXMgfSBmcm9tIFwiLi91c2UtbWVyZ2VkLWNsYXNzZXNcIjtcbmltcG9ydCB7IHVzZU1lcmdlZFJlZnMgfSBmcm9tIFwiLi91c2UtbWVyZ2VkLXJlZnNcIjtcbmltcG9ydCB7IHVzZU1lcmdlZFN0eWxlcyB9IGZyb20gXCIuL3VzZS1tZXJnZWQtc3R5bGVzXCI7XG5cbmxldCBsb2cgPSBjb25zb2xlLndhcm47XG5cbi8qXG50eXBlIElzRW1wdHlPYmplY3Q8VD4gPSBba2V5b2YgVF0gZXh0ZW5kcyBbbmV2ZXJdPyB0cnVlIDogZmFsc2U7XG5cbmV4cG9ydCB0eXBlIEV4dHJhY3RlZFByb3BzPE8gZXh0ZW5kcyB7fT4gPSB7IFtLIGluIGtleW9mIE9dOiBQaWNrPE9bS10sIChcInByb3BzU3RhYmxlXCIgfCBcInByb3BzVW5zdGFibGVcIikgJiBrZXlvZiBPW0tdPiB9O1xuXG5jb25zdCBvOiBFeHRyYWN0ZWRQcm9wczxVc2VHcmlkTmF2aWdhdGlvblJvd1JldHVyblR5cGU8YW55LCBhbnk+PiA9IHtcbiAgICBhc0NoaWxkUm93T2ZUYWJsZToge1xuXG4gICAgfSxcbiAgICBhc1BhcmVudFJvd09mQ2VsbHM6IHt9XG59Ki9cblxuZXhwb3J0IGZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmdQcm9wQ29uZmxpY3RzKGxvZzI6IHR5cGVvZiBjb25zb2xlW1wibG9nXCJdKSB7XG4gICAgbG9nID0gbG9nMlxufVxuXG5cbi8qKlxuICogR2l2ZW4gdHdvIHNldHMgb2YgcHJvcHMsIG1lcmdlcyB0aGVtIGFuZCByZXR1cm5zIHRoZSByZXN1bHQuXG4gKiBcbiAqIFRoZSBob29rIGlzIGF3YXJlIG9mIGFuZCBjYW4gaW50ZWxsaWdlbnRseSBtZXJnZSBgY2xhc3NOYW1lYCwgYGNsYXNzYCwgYHN0eWxlYCwgYHJlZmAsIGFuZCBhbGwgZXZlbnQgaGFuZGxlcnMuXG4gKiBAcGFyYW0gbGhzMiBcbiAqIEBwYXJhbSByaHMyIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZWRQcm9wczxFIGV4dGVuZHMgRXZlbnRUYXJnZXQ+KC4uLmFsbFByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPltdKSB7XG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlTWVyZ2VkUHJvcHNcIiwgYWxsUHJvcHMubGVuZ3RoKTtcbiAgICBsZXQgcmV0OiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPiA9IHt9O1xuICAgIGZvciAobGV0IG5leHRQcm9wcyBvZiBhbGxQcm9wcykge1xuICAgICAgICByZXQgPSB1c2VNZXJnZWRQcm9wczI8RT4ocmV0LCBuZXh0UHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG59XG5cbmNvbnN0IGtub3ducyA9IG5ldyBTZXQ8c3RyaW5nPihbXCJjaGlsZHJlblwiLCBcInJlZlwiLCBcImNsYXNzTmFtZVwiLCBcImNsYXNzXCIsIFwic3R5bGVcIl0pXG5cbmZ1bmN0aW9uIG1lcmdlVW5rbm93bihrZXk6IHN0cmluZywgbGhzVmFsdWU6IHVua25vd24sIHJoc1ZhbHVlOiB1bmtub3duKSB7XG5cbiAgICBpZiAodHlwZW9mIGxoc1ZhbHVlID09PSBcImZ1bmN0aW9uXCIgfHwgdHlwZW9mIHJoc1ZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcblxuICAgICAgICAvLyBUaGV5J3JlIGJvdGggZnVuY3Rpb25zIHRoYXQgY2FuIGJlIG1lcmdlZCAob3Igb25lJ3MgYSBmdW5jdGlvbiBhbmQgdGhlIG90aGVyJ3MgbnVsbCkuXG4gICAgICAgIC8vIE5vdCBhbiAqZWFzeSogY2FzZSwgYnV0IGEgd2VsbC1kZWZpbmVkIG9uZS5cbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VGdW5jdGlvbnMobGhzVmFsdWUgYXMgbmV2ZXIsIHJoc1ZhbHVlIGFzIG5ldmVyKTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZCBhcyBuZXZlcjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFVoLi4ud2UncmUgaGVyZSBiZWNhdXNlIG9uZSBvZiB0aGVtJ3MgbnVsbCwgcmlnaHQ/XG4gICAgICAgIGlmIChsaHNWYWx1ZSA9PSBudWxsICYmIHJoc1ZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChyaHNWYWx1ZSA9PT0gbnVsbCAmJiBsaHNWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiByaHNWYWx1ZSBhcyBuZXZlcjtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbGhzVmFsdWUgYXMgbmV2ZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxoc1ZhbHVlID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gcmhzVmFsdWUgYXMgbmV2ZXI7XG4gICAgICAgIGVsc2UgaWYgKHJoc1ZhbHVlID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbGhzVmFsdWUgYXMgbmV2ZXI7XG4gICAgICAgIGVsc2UgaWYgKChyaHNWYWx1ZSBhcyBhbnkpID09IGxoc1ZhbHVlKSB7XG4gICAgICAgICAgICAvLyBJIG1lYW4sIHRoZXkncmUgdGhlIHNhbWUgdmFsdWUgYXQgbGVhc3RcbiAgICAgICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcuXG4gICAgICAgICAgICAvLyBOb3QgcmVhbGx5IGlkZWFsIHRob3VnaC5cbiAgICAgICAgICAgIHJldHVybiByaHNWYWx1ZSBhcyBuZXZlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFVnaC5cbiAgICAgICAgICAgIC8vIE5vIGdvb2Qgc3RyYXRlZ2llcyBoZXJlLCBqdXN0IGxvZyBpdCBpZiByZXF1ZXN0ZWRcbiAgICAgICAgICAgIGxvZz8uKGBUaGUgcHJvcCBcIiR7a2V5fVwiIGNhbm5vdCBzaW11bHRhbmVvdXNseSBiZSB0aGUgdmFsdWVzICR7bGhzVmFsdWV9IGFuZCAke3Joc1ZhbHVlfS4gT25lIG11c3QgYmUgY2hvc2VuIG91dHNpZGUgb2YgdXNlTWVyZ2VkUHJvcHMuYCk7XG4gICAgICAgICAgICByZXR1cm4gcmhzVmFsdWUgYXMgbmV2ZXJcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24uXG4gKiBcbiAqIFRoaXMgaXMgb25lIG9mIHRoZSBtb3N0IGNvbW1vbmx5IGNhbGxlZCBmdW5jdGlvbnMgaW4gdGhpcyBhbmQgY29uc3VtZXIgbGlicmFyaWVzLFxuICogc28gaXQgdHJhZGVzIGEgYml0IG9mIHJlYWRhYmlsaXR5IGZvciBzcGVlZCAoaS5lLiB3ZSBkb24ndCBkZWNvbXBvc2Ugb2JqZWN0cyBhbmQganVzdCBkbyByZWd1bGFyIHByb3BlcnR5IGFjY2VzcywgaXRlcmF0ZSB3aXRoIGBmb3IuLi5pbmAsIGluc3RlYWQgb2YgYE9iamVjdC5lbnRyaWVzYCwgZXRjLilcbiAqL1xuZnVuY3Rpb24gdXNlTWVyZ2VkUHJvcHMyPEUgZXh0ZW5kcyBFdmVudFRhcmdldD4obGhzQWxsOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPiwgcmhzQWxsOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPik6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+IHtcblxuICAgIFxuICAgIGNvbnN0IHJldDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4gPSB7XG4gICAgICAgIHJlZjogdXNlTWVyZ2VkUmVmczxFPihsaHNBbGwucmVmLCByaHNBbGwucmVmKSxcbiAgICAgICAgc3R5bGU6IHVzZU1lcmdlZFN0eWxlcyhsaHNBbGwuc3R5bGUsIHJoc0FsbC5zdHlsZSksXG4gICAgICAgIGNsYXNzTmFtZTogdXNlTWVyZ2VkQ2xhc3NlcyhsaHNBbGxbXCJjbGFzc1wiXSwgbGhzQWxsLmNsYXNzTmFtZSwgcmhzQWxsW1wiY2xhc3NcIl0sIHJoc0FsbC5jbGFzc05hbWUpLFxuICAgICAgICBjaGlsZHJlbjogdXNlTWVyZ2VkQ2hpbGRyZW4obGhzQWxsLmNoaWxkcmVuLCByaHNBbGwuY2hpbGRyZW4pLFxuICAgIH0gYXMgYW55O1xuXG4gICAgaWYgKHJldC5yZWYgPT09IHVuZGVmaW5lZCkgZGVsZXRlIHJldC5yZWY7XG4gICAgaWYgKHJldC5zdHlsZSA9PT0gdW5kZWZpbmVkKSBkZWxldGUgcmV0LnN0eWxlO1xuICAgIGlmIChyZXQuY2xhc3NOYW1lID09PSB1bmRlZmluZWQpIGRlbGV0ZSByZXQuY2xhc3NOYW1lO1xuICAgIGlmIChyZXRbXCJjbGFzc1wiXSA9PT0gdW5kZWZpbmVkKSBkZWxldGUgcmV0W1wiY2xhc3NcIl07XG4gICAgaWYgKHJldC5jaGlsZHJlbiA9PT0gdW5kZWZpbmVkKSBkZWxldGUgcmV0LmNoaWxkcmVuO1xuXG4gICAgZm9yIChjb25zdCBsaHNLZXlVIGluIGxoc0FsbCkge1xuICAgICAgICBjb25zdCBsaHNLZXkgPSBsaHNLZXlVIGFzIGtleW9mIHR5cGVvZiBsaHNBbGw7XG4gICAgICAgIGlmIChrbm93bnMuaGFzKGxoc0tleSkpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgcmV0W2xoc0tleV0gPSBsaHNBbGxbbGhzS2V5XTtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IHJoc0tleVUgaW4gcmhzQWxsKSB7XG4gICAgICAgIGNvbnN0IHJoc0tleSA9IHJoc0tleVUgYXMga2V5b2YgdHlwZW9mIHJoc0FsbDtcbiAgICAgICAgaWYgKGtub3ducy5oYXMocmhzS2V5KSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICByZXRbcmhzS2V5XSA9IG1lcmdlVW5rbm93bihyaHNLZXksIHJldFtyaHNLZXldLCByaHNBbGxbcmhzS2V5XSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcblxufVxuXG5mdW5jdGlvbiBtZXJnZUZ1bmN0aW9uczxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnksIFUgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4obGhzOiBUIHwgbnVsbCB8IHVuZGVmaW5lZCwgcmhzOiBVIHwgbnVsbCB8IHVuZGVmaW5lZCkge1xuXG4gICAgaWYgKCFsaHMpXG4gICAgICAgIHJldHVybiByaHM7XG4gICAgaWYgKCFyaHMpXG4gICAgICAgIHJldHVybiBsaHM7XG5cbiAgICByZXR1cm4gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8VD4pID0+IHtcbiAgICAgICAgY29uc3QgbHYgPSBsaHMoLi4uYXJncyk7XG4gICAgICAgIGNvbnN0IHJ2ID0gcmhzKC4uLmFyZ3MpO1xuXG4gICAgICAgIGlmIChsdiBpbnN0YW5jZW9mIFByb21pc2UgfHwgcnYgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtsdiwgcnZdKTtcbiAgICB9O1xufVxuXG4vKlxuZnVuY3Rpb24gdGVzdDxQIGV4dGVuZHMgaC5KU1guSFRNTEF0dHJpYnV0ZXM8SFRNTElucHV0RWxlbWVudD4+KHByb3BzOiBQKSB7XG5cbiAgICBjb25zdCBpZDA6IEdlbmVyaWNHZXQ8e30sIFwiaWRcIiwgc3RyaW5nPiA9IFwiXCI7XG4gICAgY29uc3QgaWQzOiBHZW5lcmljR2V0PHsgaWQ6IHVuZGVmaW5lZCB9LCBcImlkXCIsIHN0cmluZz4gPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgaWQ0OiBHZW5lcmljR2V0PHsgaWQ6IHVuZGVmaW5lZCB9LCBcImlkXCIsIHN0cmluZz4gPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgaWQ1OiBHZW5lcmljR2V0PHsgaWQ6IHVuZGVmaW5lZCB9LCBcImlkXCIsIHN0cmluZz4gPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgaWQ2OiBHZW5lcmljR2V0PHsgaWQ6IHVuZGVmaW5lZCB9LCBcImlkXCIsIHN0cmluZz4gPSB1bmRlZmluZWQ7XG4gICAgLy9jb25zdCBpZDI6IFppcFNpbmdsZTxzdHJpbmcgfCB1bmRlZmluZWQsIHN0cmluZyB8IHVuZGVmaW5lZD4gPSB1bmRlZmluZWQ7XG4gICAgY29uc3QgaWQxOiBaaXBPYmplY3Q8eyBpZDogdW5kZWZpbmVkIH0sIHsgaWQ6IHN0cmluZyB9PiA9IHsgaWQ6IHVuZGVmaW5lZCB9O1xuXG4gICAgdHlwZSBNMSA9IEdlbmVyaWNHZXQ8UCwgXCJzdHlsZVwiLCBzdHJpbmc+O1xuICAgIHR5cGUgTTIgPSBHZW5lcmljR2V0PHt9LCBcInN0eWxlXCIsIHN0cmluZz47XG4gICAgY29uc3QgbTE6IE0xID0gXCJcIjtcbiAgICBjb25zdCBtMjogTTEgPSB1bmRlZmluZWQ7XG4gICAgLy8vIEB0cy1leHBlY3QtZXJyb3IgICAgQmVjYXVzZSBudW1iZXIgaXNuJ3QgYXNzaWduYWJsZSB0byBzdHJpbmdcbiAgICBjb25zdCBtMzogTTEgPSAwO1xuXG4gICAgY29uc3QgbTQ6IE0yID0gXCJcIjtcbiAgICBjb25zdCBtNTogTTIgPSB1bmRlZmluZWQ7XG4gICAgLy8vIEB0cy1leHBlY3QtZXJyb3IgICAgQmVjYXVzZSBudW1iZXIgaXNuJ3QgYXNzaWduYWJsZSB0byBzdHJpbmdcbiAgICBjb25zdCBtNjogTTIgPSAwO1xuXG4gICAgY29uc3QgcDE6IE1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQsIHt9LCB7IGlkOiBzdHJpbmcgfT4gPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHt9LCB7IGlkOiBcInN0cmluZ1wiIH0pO1xuICAgIGNvbnN0IHAyOiBNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50LCB7IGlkOiB1bmRlZmluZWQgfSwgeyBpZDogc3RyaW5nIH0+ID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7IGlkOiB1bmRlZmluZWQgfSwgeyBpZDogXCJzdHJpbmdcIiB9KTtcbiAgICBjb25zdCBwMzogTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudCwgeyBpZDogdW5kZWZpbmVkIH0sIHsgaWQ6IHVuZGVmaW5lZCB9PiA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkoeyBpZDogdW5kZWZpbmVkIH0sIHsgaWQ6IHVuZGVmaW5lZCB9KTtcbiAgICBjb25zdCBwNDogTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudCwge30sIHt9PiA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkoe30sIHt9KTtcbiAgICBjb25zdCBwNSA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkocHJvcHMsIHt9KTtcbiAgICBjb25zdCBwNiA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkocHJvcHMsIHsgaWQ6IHVuZGVmaW5lZCB9KTtcbiAgICBjb25zdCBwNyA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkocHJvcHMsIHsgaWQ6IFwic3RyaW5nXCIgfSk7XG5cblxuICAgIHAxLmlkPy5jb25jYXQoXCJcIik7XG4gICAgcDIuaWQ/LmNvbmNhdChcIlwiKTtcbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBjYW4ndCBiZSBhbnl0aGluZyBidXQgdW5kZWZpbmVkXG4gICAgcDMuaWQ/LmNvbmNhdChcIlwiKTtcbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBjYW4ndCBiZSBhbnl0aGluZyBidXQgdW5kZWZpbmVkXG4gICAgcDQuaWQ/LmNvbmNhdChcIlwiKTtcblxuXG4gICAgcDUuaWQ/LmNvbmNhdChcIlwiKTtcbiAgICBwNi5pZD8uY29uY2F0KFwiXCIpO1xuICAgIHA3LmlkPy5jb25jYXQoXCJcIik7XG5cbiAgICAvLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBtdXN0IGNvbnRhaW4gdW5kZWZpbmVkXG4gICAgcDUuaWQuY29uY2F0KFwiXCIpO1xuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcbiAgICBwNi5pZC5jb25jYXQoXCJcIik7XG4gICAgLy8vIEB0cy1leHBlY3QtZXJyb3IgICAgaWQgbXVzdCBjb250YWluIHVuZGVmaW5lZFxuICAgIHA3LmlkLmNvbmNhdChcIlwiKTtcblxuXG4gICAgaWYgKHA1LmFsbG93RnVsbFNjcmVlbiA9PT0gdW5kZWZpbmVkKSB7fVxuICAgIGVsc2UgaWYgKHA1LmFsbG93RnVsbFNjcmVlbiA9PT0gZmFsc2UpIHt9XG4gICAgZWxzZSBpZiAocDUuYWxsb3dGdWxsU2NyZWVuID09PSB0cnVlKSB7fVxuICAgIGVsc2Uge1xuICAgICAgICBhY2NlcHRzTmV2ZXIocDUuYWxsb3dGdWxsU2NyZWVuKTtcbiAgICB9XG5cblxuICAgIGlmIChwNi5hbGxvd0Z1bGxTY3JlZW4gPT09IHVuZGVmaW5lZCkge31cbiAgICBlbHNlIGlmIChwNi5hbGxvd0Z1bGxTY3JlZW4gPT09IGZhbHNlKSB7fVxuICAgIGVsc2UgaWYgKHA2LmFsbG93RnVsbFNjcmVlbiA9PT0gdHJ1ZSkge31cbiAgICBlbHNlIHtcbiAgICAgICAgYWNjZXB0c05ldmVyKHA2LmFsbG93RnVsbFNjcmVlbik7XG4gICAgfVxuXG5cbiAgICBpZiAocDcuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XG4gICAgZWxzZSBpZiAocDcuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cbiAgICBlbHNlIGlmIChwNy5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XG4gICAgZWxzZSB7XG4gICAgICAgIGFjY2VwdHNOZXZlcihwNy5hbGxvd0Z1bGxTY3JlZW4pO1xuICAgIH1cblxuXG4gICAgLy8gTWFrZSBzdXJlIGl0IHdvcmtzIHJlY3Vyc2l2ZWx5XG4gICAgY29uc3QgcjFhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDEpO1xuICAgIGNvbnN0IHIxYiA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkocHJvcHMsIHAxKTtcbiAgICBjb25zdCByMmEgPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHt9LCBwMik7XG4gICAgY29uc3QgcjJiID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDIpO1xuICAgIGNvbnN0IHIzYSA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkoe30sIHAzKTtcbiAgICBjb25zdCByM2IgPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHByb3BzLCBwMyk7XG4gICAgY29uc3QgcjRhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDQpO1xuICAgIGNvbnN0IHI0YiA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkocHJvcHMsIHA0KTtcbiAgICBjb25zdCByNWEgPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHt9LCBwNSk7XG4gICAgY29uc3QgcjViID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKShwcm9wcywgcDUpO1xuICAgIGNvbnN0IHI2YSA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkoe30sIHA2KTtcbiAgICBjb25zdCByNmIgPSB1c2VNZXJnZWRQcm9wczxIVE1MSW5wdXRFbGVtZW50PigpKHByb3BzLCBwNik7XG4gICAgY29uc3QgcjdhID0gdXNlTWVyZ2VkUHJvcHM8SFRNTElucHV0RWxlbWVudD4oKSh7fSwgcDcpO1xuICAgIGNvbnN0IHI3YiA9IHVzZU1lcmdlZFByb3BzPEhUTUxJbnB1dEVsZW1lbnQ+KCkocHJvcHMsIHA3KTtcblxuXG4gICAgcjFhLmlkPy5jb25jYXQoXCJcIik7XG4gICAgcjFiLmlkPy5jb25jYXQoXCJcIik7XG4gICAgcjJhLmlkPy5jb25jYXQoXCJcIik7XG4gICAgcjJiLmlkPy5jb25jYXQoXCJcIik7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAgICBpZCBjYW4ndCBiZSBhbnl0aGluZyBidXQgdW5kZWZpbmVkXG4gICAgcjNhLmlkPy5jb25jYXQoXCJcIik7XG4gICAgcjNiLmlkPy5jb25jYXQoXCJcIik7XG4gICAgLy8vIEB0cy1leHBlY3QtZXJyb3IgICAgaWQgY2FuJ3QgYmUgYW55dGhpbmcgYnV0IHVuZGVmaW5lZFxuICAgIHI0YS5pZD8uY29uY2F0KFwiXCIpO1xuICAgIHI0Yi5pZD8uY29uY2F0KFwiXCIpO1xuXG5cbiAgICByNWEuaWQ/LmNvbmNhdChcIlwiKTtcbiAgICByNWIuaWQ/LmNvbmNhdChcIlwiKTtcbiAgICByNmEuaWQ/LmNvbmNhdChcIlwiKTtcbiAgICByNmIuaWQ/LmNvbmNhdChcIlwiKTtcbiAgICByN2EuaWQ/LmNvbmNhdChcIlwiKTtcbiAgICByN2IuaWQ/LmNvbmNhdChcIlwiKTtcblxuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcbiAgICByNWEuaWQuY29uY2F0KFwiXCIpO1xuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcbiAgICByNWIuaWQuY29uY2F0KFwiXCIpO1xuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcbiAgICByNmEuaWQuY29uY2F0KFwiXCIpO1xuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcbiAgICByNmIuaWQuY29uY2F0KFwiXCIpO1xuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcbiAgICByN2EuaWQuY29uY2F0KFwiXCIpO1xuICAgIC8vLyBAdHMtZXhwZWN0LWVycm9yICAgIGlkIG11c3QgY29udGFpbiB1bmRlZmluZWRcbiAgICByN2IuaWQuY29uY2F0KFwiXCIpO1xuXG5cbiAgICBpZiAocjVhLmFsbG93RnVsbFNjcmVlbiA9PT0gdW5kZWZpbmVkKSB7fVxuICAgIGVsc2UgaWYgKHI1YS5hbGxvd0Z1bGxTY3JlZW4gPT09IGZhbHNlKSB7fVxuICAgIGVsc2UgaWYgKHI1YS5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XG4gICAgZWxzZSB7XG4gICAgICAgIGFjY2VwdHNOZXZlcihyNWEuYWxsb3dGdWxsU2NyZWVuKTtcbiAgICB9XG5cblxuICAgIGlmIChyNWIuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XG4gICAgZWxzZSBpZiAocjViLmFsbG93RnVsbFNjcmVlbiA9PT0gZmFsc2UpIHt9XG4gICAgZWxzZSBpZiAocjViLmFsbG93RnVsbFNjcmVlbiA9PT0gdHJ1ZSkge31cbiAgICBlbHNlIHtcbiAgICAgICAgYWNjZXB0c05ldmVyKHI1Yi5hbGxvd0Z1bGxTY3JlZW4pO1xuICAgIH1cblxuXG4gICAgaWYgKHI2YS5hbGxvd0Z1bGxTY3JlZW4gPT09IHVuZGVmaW5lZCkge31cbiAgICBlbHNlIGlmIChyNmEuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cbiAgICBlbHNlIGlmIChyNmEuYWxsb3dGdWxsU2NyZWVuID09PSB0cnVlKSB7fVxuICAgIGVsc2Uge1xuICAgICAgICBhY2NlcHRzTmV2ZXIocjZhLmFsbG93RnVsbFNjcmVlbik7XG4gICAgfVxuXG5cbiAgICBpZiAocjZiLmFsbG93RnVsbFNjcmVlbiA9PT0gdW5kZWZpbmVkKSB7fVxuICAgIGVsc2UgaWYgKHI2Yi5hbGxvd0Z1bGxTY3JlZW4gPT09IGZhbHNlKSB7fVxuICAgIGVsc2UgaWYgKHI2Yi5hbGxvd0Z1bGxTY3JlZW4gPT09IHRydWUpIHt9XG4gICAgZWxzZSB7XG4gICAgICAgIGFjY2VwdHNOZXZlcihyNmIuYWxsb3dGdWxsU2NyZWVuKTtcbiAgICB9XG5cblxuICAgIGlmIChyN2EuYWxsb3dGdWxsU2NyZWVuID09PSB1bmRlZmluZWQpIHt9XG4gICAgZWxzZSBpZiAocjdhLmFsbG93RnVsbFNjcmVlbiA9PT0gZmFsc2UpIHt9XG4gICAgZWxzZSBpZiAocjdhLmFsbG93RnVsbFNjcmVlbiA9PT0gdHJ1ZSkge31cbiAgICBlbHNlIHtcbiAgICAgICAgYWNjZXB0c05ldmVyKHI3YS5hbGxvd0Z1bGxTY3JlZW4pO1xuICAgIH1cblxuXG4gICAgaWYgKHI3Yi5hbGxvd0Z1bGxTY3JlZW4gPT09IHVuZGVmaW5lZCkge31cbiAgICBlbHNlIGlmIChyN2IuYWxsb3dGdWxsU2NyZWVuID09PSBmYWxzZSkge31cbiAgICBlbHNlIGlmIChyN2IuYWxsb3dGdWxsU2NyZWVuID09PSB0cnVlKSB7fVxuICAgIGVsc2Uge1xuICAgICAgICBhY2NlcHRzTmV2ZXIocjdiLmFsbG93RnVsbFNjcmVlbik7XG4gICAgfVxuXG59XG5mdW5jdGlvbiBhY2NlcHRzTmV2ZXIobjogbmV2ZXIpIHt9XG4qLyIsImltcG9ydCB7IGgsIFByZWFjdERPTUF0dHJpYnV0ZXMgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VFbnN1cmVTdGFiaWxpdHkgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXBhc3NpdmUtc3RhdGVcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XG5pbXBvcnQgeyB1c2VNZXJnZWRQcm9wcyB9IGZyb20gXCIuL3VzZS1tZXJnZWQtcHJvcHNcIjtcblxuLyoqXG4gKiBUaGlzIGlzIHVzZWQgdG8gc2VsZWN0ICpqdXN0KiB0aGUgdHlwZWQgYWRkRXZlbnRMaXN0ZW5lciBcbiAqIGFuZCBub3QgdGhlIGdlbmVyaWMgXCJJJ2xsIGFjY2VwdCBhbnkgc3RyaW5nIGFuZCBhbnkgaGFuZGxlclwiIG9uZS5cbiAqIFxuICogVE9ETzogVGhpcyBcIlwiXCJ3b3Jrc1wiXCJcIiBidXQgaXQncyBub3QgZ3JlYXQgYW5kIGltcGxpY2l0bHkgcmVsaWVzIG9uXG4gKiBsaWIuZG9tLnRzIGFsd2F5cyBnaXZlaW5nIHRoZSB0d28gb3ZlcmxvYWRzIGluIHRoZSBzYW1lIG9yZGVyLCB3aXRoIHRoZVxuICogdHlwZWQgb25lIGZpcnN0LiAqVGhhdCogcHJvYmFibHkgd29uJ3QgY2hhbmdlLCBidXQgaWYgbW9yZSBvdmVybG9hZHNcbiAqIGFyZSBldmVyIGFkZGVkIHRoaXMgd2lsbCBuZWVkIGFkanVzdG1lbnQuXG4gKiBcbiAqIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNTI3NjExNTYgZm9yIGhvdyBzZWxlY3RpbmcgdGhlIGNvcnJlY3Qgb3ZlcmxvYWQgd29ya3MuXG4gKi9cbnR5cGUgRmlyc3RPdmVybG9hZFBhcmFtZXRlcnM8VD4gPVxuICAgIFQgZXh0ZW5kcyB7ICguLi5hcmdzOiBpbmZlciBSKTogYW55OyAoLi4uYXJnczogYW55W10pOiBhbnk7ICguLi5hcmdzOiBhbnlbXSk6IGFueTsgKC4uLmFyZ3M6IGFueVtdKTogaW5mZXIgUiB9ID8gUiA6XG4gICAgVCBleHRlbmRzIHsgKC4uLmFyZ3M6IGluZmVyIFIpOiBhbnk7ICguLi5hcmdzOiBhbnlbXSk6IGFueTsgKC4uLmFyZ3M6IGFueVtdKTogYW55IH0gPyBSIDpcbiAgICBUIGV4dGVuZHMgeyAoLi4uYXJnczogaW5mZXIgUik6IGFueTsgKC4uLmFyZ3M6IGFueVtdKTogYW55IH0gPyBSIDpcbiAgICBUIGV4dGVuZHMgKC4uLmFyZ3M6IGluZmVyIFIpID0+IGFueSA/IFIgOiBbXTtcblxuLy8gR2V0IGp1c3QgdGhlIHR5cGVkIHZlcnNpb24gb2YgYWRkRXZlbnRMaXN0ZW5lciwgaWYgaXQgZXhpc3RzXG50eXBlIFR5cGVkQWRkRXZlbnRMaXN0ZW5lcjxUIGV4dGVuZHMgRXZlbnRUYXJnZXQ+ID0gKC4uLmFyZ3M6IEZpcnN0T3ZlcmxvYWRQYXJhbWV0ZXJzPChUW1wiYWRkRXZlbnRMaXN0ZW5lclwiXSk+KSA9PiB2b2lkO1xuXG4vLyBSZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBvZiBcImFkZEV2ZW50TGlzdGVuZXJcIiAodGhlIGV2ZW50IHR5cGUgYXMgYSBzdHJpbmcpXG50eXBlIFR5cGVkRXZlbnRMaXN0ZW5lclR5cGVzPFQgZXh0ZW5kcyBFdmVudFRhcmdldD4gPSBUeXBlZEFkZEV2ZW50TGlzdGVuZXI8VD4gZXh0ZW5kcyAoKHR5cGU6IGluZmVyIEsyLCAuLi5hcmdzOiBhbnlbXSkgPT4gYW55KSA/IEsyIDogc3RyaW5nO1xuXG5cbi8vIFRPRE86IFRoaXMgaXNuJ3QgcXVpdGUgYWJsZSB0byBuYXJyb3cgZG93biB0aGUgZXhhY3QgZXZlbnQgdHlwZSBmb3IgdW5rbm93biByZWFzb25zLlxuLy8gSW5zdGVhZCBpdCByZXR1cm5zIGEgdW5pb24gb2YgYWxsIGF2YWlsYWJsZSBldmVudCB0eXBlcywgd2hpY2ggaXMuLi5maW5lLCBJIGd1ZXNzLlxuLy8gSSBkb24ndCBrbm93IHdoeSBgaW5mZXIgSGAgaXMgZG9pbmcgdGhhdCB3aGVuIHRoZSB0eXBlIHNob3VsZCBiZSBuYXJyb3dlZCBieSBgVGAgdGhvdWdoLi4uXG4vLyBOb3RlIHRoYXQgdGhlIHR5cGUgcGFyYW1ldGVyIGlzIHN0aWxsIHVzZWQsIGV2ZW4gdGhvdWdoIGl0IGRvZXNuJ3QgbmFycm93IGRvd24gdGhlIHR5cGUsXG4vLyBiZWNhdXNlIG90aGVyd2lzZSwgaW5zdGVhZCBvZiBiZWluZyBhIHVuaW9uIG9mIGFsbCB0eXBlcywgaXQncyBqdXN0IGBhbnlgXG50eXBlIFR5cGVkRXZlbnRIYW5kbGVyPEUgZXh0ZW5kcyBFdmVudFRhcmdldCwgVCBleHRlbmRzIFR5cGVkRXZlbnRMaXN0ZW5lclR5cGVzPEU+PiA9IFR5cGVkQWRkRXZlbnRMaXN0ZW5lcjxFPiBleHRlbmRzICgodHlwZTogVCwgaGFuZGxlcjogaW5mZXIgSCwgLi4uYXJnczogYW55W10pID0+IGFueSkgPyBOb25OdWxsYWJsZTxIPiA6IG5ldmVyO1xuLy8oKFR5cGVkQWRkRXZlbnRMaXN0ZW5lcjxFPiAmICgodHlwZTogVCwgaGFuZGxlcjogKGU6IEV2ZW50KSA9PiB2b2lkLCAuLi5hcmdzOiBhbnlbXSkgPT4gYW55KSkgZXh0ZW5kcyAoKHR5cGU6IFQsIGhhbmRsZXI6IChlOiBpbmZlciBIKSA9PiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiBhbnkpID8gSCA6IEZ1bmN0aW9uKSAvKiYgKFQgZXh0ZW5kcyBrZXlvZiBHbG9iYWxFdmVudEhhbmRsZXJzRXZlbnRNYXA/IEdsb2JhbEV2ZW50SGFuZGxlcnNFdmVudE1hcFtUXSA6IChlOiBFdmVudCkgPT4gdm9pZCkqLztcblxudHlwZSBQYXJhbWV0ZXJzMjxUIGV4dGVuZHMgKEV2ZW50TGlzdGVuZXJPYmplY3QgfCAoKC4uLmFyZ3M6IGFueSkgPT4gYW55KSk+ID1cbiAgICBUIGV4dGVuZHMgRXZlbnRMaXN0ZW5lck9iamVjdCA/IFBhcmFtZXRlcnM8VFtcImhhbmRsZUV2ZW50XCJdPiA6XG4gICAgVCBleHRlbmRzICguLi5hcmdzOiBpbmZlciBQKSA9PiBhbnkgPyBQIDogbmV2ZXI7XG5cblxudHlwZSBUeXBlZEV2ZW50SGFuZGxlckV2ZW50PEUgZXh0ZW5kcyBFdmVudFRhcmdldCwgVCBleHRlbmRzIFR5cGVkRXZlbnRMaXN0ZW5lclR5cGVzPEU+PiA9IFBhcmFtZXRlcnMyPFR5cGVkRXZlbnRIYW5kbGVyPEUsIFQ+PlswXTtcblxuXG4vKipcbiAqIEFsbG93cyBhdHRhY2hpbmcgYW4gZXZlbnQgaGFuZGxlciB0byBhbnkgKm5vbi1QcmVhY3QqIGVsZW1lbnQsIGFuZCByZW1vdmluZyBpdCB3aGVuIHRoZSBjb21wb25lbnQgdXNpbmcgdGhlIGhvb2sgdW5tb3VudHMuIFRoZSBjYWxsYmFjayBkb2VzIG5vdCBuZWVkIHRvIGJlIHN0YWJsZSBhY3Jvc3MgcmVuZGVycy5cbiAqIFxuICogRHVlIHRvIHR5cGluZyBsaW1pdGF0aW9ucywgdGhpcyBmdW5jdGlvbiBtdXN0IGJlIGNhbGxlZCBsaWtlIHRoaXM6XG4gKiBcbiAqIGB1c2VFdmVudEhhbmRsZXIoZWxlbWVudCwgXCJpbnB1dFwiKTxJbnB1dEV2ZW50PihlID0+IHt9KWBcbiAqIFxuICogVGhlIHR5cGUgYXJndW1lbnQgaXMgb3B0aW9uYWwsIGJ1dCBuYXJyb3dzIGRvd24gdGhlIHR5cGUgZnJvbSBcImEgdW5pb24gb2YgYWxsIGV2ZW50c1wiIHRvIHdoYXRldmVyIHlvdSBzcGVjaWZ5LCBhbmQgZXJyb3JzIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gKiBcbiAqIFRoZXJlIGlzIGEgc2VwYXJhdGUgdmVyc2lvbiB0aGF0IGF0dGFjaGVzIGV2ZW50IGhhbmRsZXJzIHRvIGEgc2V0IG9mIHByb3BzLiBcbiAqIEl0IHRha2VzIGRpZmZlcmVudCBldmVudCBzdHJpbmcgdHlwZXMgKG9uRXZlbnQgdnMgb25ldmVudCkuXG4gKiBcbiAqIEBwYXJhbSB0YXJnZXQgQSAqbm9uLVByZWFjdCogbm9kZSB0byBhdHRhY2ggdGhlIGV2ZW50IHRvLlxuICogQHJldHVybnNcbiAqICpcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUdsb2JhbEhhbmRsZXI8VCBleHRlbmRzIEV2ZW50VGFyZ2V0LCBFdmVudFR5cGUgZXh0ZW5kcyBUeXBlZEV2ZW50TGlzdGVuZXJUeXBlczxUPiwgSCBleHRlbmRzIFR5cGVkRXZlbnRIYW5kbGVyRXZlbnQ8VCwgRXZlbnRUeXBlPj4odGFyZ2V0OiBULCB0eXBlOiBFdmVudFR5cGUsIGhhbmRsZXI6IG51bGwgfCAoKGU6IEgpID0+IHZvaWQpLCBvcHRpb25zPzogUGFyYW1ldGVyczxUeXBlZEFkZEV2ZW50TGlzdGVuZXI8VD4+WzJdLCBtb2RlPzogXCJncm91cGVkXCIgfCBcInNpbmdsZVwiKTogdm9pZCB7XG4gICAgbW9kZSB8fD0gXCJncm91cGVkXCI7XG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlR2xvYmFsSGFuZGxlclwiLCBtb2RlKTtcblxuICAgIGlmIChtb2RlID09PSBcImdyb3VwZWRcIikge1xuICAgICAgICAvLyBOb3RlIHRvIHNlbGY6IFRoZSB0eXBpbmcgZG9lc24ndCBpbXByb3ZlIGV2ZW4gaWYgdGhpcyBpcyBzcGxpdCB1cCBpbnRvIGEgc3ViLWZ1bmN0aW9uLlxuICAgICAgICAvLyBObyBtYXR0ZXIgd2hhdCwgaXQgc2VlbXMgaW1wb3NzaWJsZSB0byBnZXQgdGhlIGhhbmRsZXIncyBldmVudCBvYmplY3QgdHlwZWQgcGVyZmVjdGx5LlxuICAgICAgICAvLyBJdCBzZWVtcyBsaWtlIGl0J3MgZ3VhcmFudGVlZCB0byBhbHdheXMgYmUgYSB1bmlvbiBvZiBhbGwgYXZhaWxhYmxlIHR1cGVzLlxuICAgICAgICAvLyBBZ2Fpbiwgbm8gbWF0dGVyIHdoYXQgY29tYmluYXRpb24gb2Ygc3ViLSBvciBzdWItc3ViLWZ1bmN0aW9ucyB1c2VkLlxuICAgICAgICB1c2VHbG9iYWxIYW5kbGVyR3JvdXBlZDxULCBFdmVudFR5cGUsIEg+KHRhcmdldCwgdHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB1c2VHbG9iYWxIYW5kbGVyU2luZ2xlPFQsIEV2ZW50VHlwZSwgSD4odGFyZ2V0LCB0eXBlLCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbnR5cGUgR2xvYmFsSGFuZGxlckluZm8gPSB7IGxpc3RlbmVyOiBFdmVudExpc3RlbmVyOyBsaXN0ZW5lcnM6IFNldDxFdmVudExpc3RlbmVyPjsgfTtcbnR5cGUgTWFwT2ZPcHRpb25zVG9JbmZvID0gTWFwPHN0cmluZywgR2xvYmFsSGFuZGxlckluZm8+XG50eXBlIE1hcE9mVHlwZVRvTWFwT2ZPcHRpb25zVG9JbmZvID0gTWFwPFR5cGVkRXZlbnRMaXN0ZW5lclR5cGVzPEV2ZW50VGFyZ2V0PiwgTWFwT2ZPcHRpb25zVG9JbmZvPjtcbmxldCBtYXBUaGluZyA9IG5ldyBNYXA8RXZlbnRUYXJnZXQsIE1hcE9mVHlwZVRvTWFwT2ZPcHRpb25zVG9JbmZvPigpO1xuXG5mdW5jdGlvbiBkb01hcFRoaW5nPFQgZXh0ZW5kcyBFdmVudFRhcmdldCwgRXZlbnRUeXBlIGV4dGVuZHMgVHlwZWRFdmVudExpc3RlbmVyVHlwZXM8VD4+KG9wOiAoaTogR2xvYmFsSGFuZGxlckluZm8sIGg6IEV2ZW50TGlzdGVuZXIpID0+IHZvaWQsIHRhcmdldDogVCwgdHlwZTogRXZlbnRUeXBlLCBoYW5kbGVyOiBudWxsIHwgRXZlbnRMaXN0ZW5lciwgb3B0aW9uczogUGFyYW1ldGVyczxUeXBlZEFkZEV2ZW50TGlzdGVuZXI8VD4+WzJdKTogdm9pZCB7XG4gICAgaWYgKGhhbmRsZXIpIHtcblxuICAgICAgICBjb25zdCBvcHRpb25zS2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGJ5VHlwZSA9IG1hcFRoaW5nLmdldCh0YXJnZXQpIHx8IChuZXcgTWFwKCkgYXMgTWFwT2ZUeXBlVG9NYXBPZk9wdGlvbnNUb0luZm8pO1xuICAgICAgICBjb25zdCBieU9wdGlvbnMgPSAoYnlUeXBlLmdldCh0eXBlKSB8fCAobmV3IE1hcCgpIGFzIE1hcE9mT3B0aW9uc1RvSW5mbykpO1xuICAgICAgICBjb25zdCBpbmZvID0gYnlPcHRpb25zLmdldChvcHRpb25zS2V5KSB8fCB7IGxpc3RlbmVyOiBudWxsISwgbGlzdGVuZXJzOiBuZXcgU2V0KCkgfTtcblxuICAgICAgICBvcChpbmZvLCBoYW5kbGVyKTtcblxuICAgICAgICBieU9wdGlvbnMuc2V0KG9wdGlvbnNLZXksIGluZm8pO1xuICAgICAgICBieVR5cGUuc2V0KHR5cGUsIGJ5T3B0aW9ucyk7XG4gICAgICAgIG1hcFRoaW5nLnNldCh0YXJnZXQsIGJ5VHlwZSk7XG4gICAgfVxufVxuXG5cbmZ1bmN0aW9uIGFkZFRvTWFwVGhpbmc8VCBleHRlbmRzIEV2ZW50VGFyZ2V0LCBFdmVudFR5cGUgZXh0ZW5kcyBUeXBlZEV2ZW50TGlzdGVuZXJUeXBlczxUPj4odGFyZ2V0OiBULCB0eXBlOiBFdmVudFR5cGUsIGhhbmRsZXI6IG51bGwgfCBFdmVudExpc3RlbmVyLCBvcHRpb25zOiBQYXJhbWV0ZXJzPFR5cGVkQWRkRXZlbnRMaXN0ZW5lcjxUPj5bMl0pOiB2b2lkIHtcbiAgICBkb01hcFRoaW5nKChpbmZvLCBoKSA9PiB7XG4gICAgICAgIGluZm8ubGlzdGVuZXJzLmFkZChoKTtcbiAgICAgICAgaWYgKGluZm8ubGlzdGVuZXIgPT0gbnVsbClcbiAgICAgICAgICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGluZm8ubGlzdGVuZXIgPSBlID0+IGluZm8ubGlzdGVuZXJzLmZvckVhY2goZm4gPT4gZm4oZSkpLCBvcHRpb25zKTtcbiAgICB9LCB0YXJnZXQsIHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpO1xuXG59XG5cbmZ1bmN0aW9uIHJlbW92ZUZyb21NYXBUaGluZzxUIGV4dGVuZHMgRXZlbnRUYXJnZXQsIEV2ZW50VHlwZSBleHRlbmRzIFR5cGVkRXZlbnRMaXN0ZW5lclR5cGVzPFQ+Pih0YXJnZXQ6IFQsIHR5cGU6IEV2ZW50VHlwZSwgaGFuZGxlcjogbnVsbCB8IEV2ZW50TGlzdGVuZXIsIG9wdGlvbnM/OiBQYXJhbWV0ZXJzPFR5cGVkQWRkRXZlbnRMaXN0ZW5lcjxUPj5bMl0pOiB2b2lkIHtcbiAgICBkb01hcFRoaW5nKChpbmZvLCBoKSA9PiB7XG4gICAgICAgIGluZm8ubGlzdGVuZXJzLmRlbGV0ZShoKTtcbiAgICAgICAgaWYgKGluZm8ubGlzdGVuZXIgPT0gbnVsbClcbiAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGluZm8ubGlzdGVuZXIgPSBlID0+IGluZm8ubGlzdGVuZXJzLmZvckVhY2goZm4gPT4gZm4oZSkpLCBvcHRpb25zKTtcbiAgICB9LCB0YXJnZXQsIHR5cGUsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFRoaXMgaXMgd2F5IGZhc3RlciBmb3IgbGFyZ2UgbnVtYmVycyBvZiBldmVudCBoYW5kbGVycy5cbiAqIFxuICogRm9yIGV4YW1wbGUsIGlmIGV2ZXJ5IGJ1dHRvbiBsaXN0ZW5zIGZvciBhIGdsb2JhbCBjbGljaywgb3Igc29tZXRoaW5nLFxuICogaXQgd291bGQgYmUgbmljZSBpZiBpdCB3YXMgZWZmaWNpZW50IGF0IGxlYXN0LiBcbiAqL1xuZnVuY3Rpb24gdXNlR2xvYmFsSGFuZGxlckdyb3VwZWQ8VCBleHRlbmRzIEV2ZW50VGFyZ2V0LCBFdmVudFR5cGUgZXh0ZW5kcyBUeXBlZEV2ZW50TGlzdGVuZXJUeXBlczxUPiwgSCBleHRlbmRzIFR5cGVkRXZlbnRIYW5kbGVyRXZlbnQ8VCwgRXZlbnRUeXBlPj4odGFyZ2V0OiBULCB0eXBlOiBFdmVudFR5cGUsIGhhbmRsZXI6IG51bGwgfCAoKGU6IEgpID0+IHZvaWQpLCBvcHRpb25zPzogUGFyYW1ldGVyczxUeXBlZEFkZEV2ZW50TGlzdGVuZXI8VD4+WzJdKTogdm9pZCB7XG4gICAgbGV0IHN0YWJsZUhhbmRsZXI6IEV2ZW50TGlzdGVuZXIgfCBudWxsID0gdXNlU3RhYmxlQ2FsbGJhY2s8RXZlbnRMaXN0ZW5lcj4oKGhhbmRsZXIgYXMgYW55KSA/PyAoKCkgPT4geyB9KSkgYXMgKEV2ZW50TGlzdGVuZXIgfCBudWxsKTtcbiAgICBpZiAoaGFuZGxlciA9PSBudWxsKVxuICAgICAgICBzdGFibGVIYW5kbGVyID0gbnVsbDtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzdGFibGVIYW5kbGVyKSB7XG4gICAgICAgICAgICBhZGRUb01hcFRoaW5nKHRhcmdldCwgdHlwZSwgc3RhYmxlSGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gcmVtb3ZlRnJvbU1hcFRoaW5nKHRhcmdldCwgdHlwZSwgc3RhYmxlSGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9LCBbdGFyZ2V0LCB0eXBlLCBzdGFibGVIYW5kbGVyXSk7XG59XG5cbmZ1bmN0aW9uIHVzZUdsb2JhbEhhbmRsZXJTaW5nbGU8VCBleHRlbmRzIEV2ZW50VGFyZ2V0LCBFdmVudFR5cGUgZXh0ZW5kcyBUeXBlZEV2ZW50TGlzdGVuZXJUeXBlczxUPiwgSCBleHRlbmRzIFR5cGVkRXZlbnRIYW5kbGVyRXZlbnQ8VCwgRXZlbnRUeXBlPj4odGFyZ2V0OiBULCB0eXBlOiBFdmVudFR5cGUsIGhhbmRsZXI6IG51bGwgfCAoKGU6IEgpID0+IHZvaWQpLCBvcHRpb25zPzogUGFyYW1ldGVyczxUeXBlZEFkZEV2ZW50TGlzdGVuZXI8VD4+WzJdKTogdm9pZCB7XG4gICAgbGV0IHN0YWJsZUhhbmRsZXI6IEV2ZW50TGlzdGVuZXIgfCBudWxsID0gdXNlU3RhYmxlQ2FsbGJhY2s8RXZlbnRMaXN0ZW5lcj4oKGhhbmRsZXIgYXMgYW55KSA/PyAoKCkgPT4geyB9KSkgYXMgKEV2ZW50TGlzdGVuZXIgfCBudWxsKTtcbiAgICBpZiAoaGFuZGxlciA9PSBudWxsKVxuICAgICAgICBzdGFibGVIYW5kbGVyID0gbnVsbDtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzdGFibGVIYW5kbGVyKSB7XG4gICAgICAgICAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBzdGFibGVIYW5kbGVyLCBvcHRpb25zKTtcblxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHN0YWJsZUhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfSwgW3RhcmdldCwgdHlwZSwgc3RhYmxlSGFuZGxlcl0pO1xufVxuXG5cbi8qKlxuICogQW4gYWx0ZXJuYXRpdmUgd2F5IHRvIGFkZCBhbiBldmVudCBoYW5kbGVyIHRvIGFuIGVsZW1lbnQuIFVzZWZ1bCBwcmltYXJpbHkgd2hlbiBpbnRlZ3JhdGluZyAzcmQgcGFydHkgbGlicmFyaWVzIHRoYXQgZXhwZWN0IGEgZ2VuZXJpYyBcImFkZCBldmVudCBoYW5kbGVyXCIgZnVuY3Rpb24uXG4gKiBcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGFsbG93cyB5b3UgdG8gbW9kaWZ5IGEgc2V0IG9mIHByb3BzIHRvIGFwcGx5IHRoaXMgaGFuZGxlci5cbiAqIFxuICogRm9yIHR5cGluZyByZWFzb25zLCB0aGlzIGZ1bmN0aW9uIGlzIHNwbGl0IGludG8gdHdvLiAgVXNhZ2UgaXMgbGlrZSB0aGUgZm9sbG93aW5nOlxuICogXG4gKiBgYGBcbiAqIGNvbnN0IHsgdXNlTG9jYWxFdmVudEhhbmRsZXJQcm9wcyB9ID0gdXNlTG9jYWxFdmVudEhhbmRsZXI8SFRNTERpdkVsZW1lbnQ+KCkoXCJvbk1vdXNlRG93blwiLCBlID0+IHsgIH0pO1xuICogY29uc3QgZGl2UHJvcHMgPSB1c2VMb2NhbEV2ZW50SGFuZGxlclByb3BzKHByb3BzKTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTG9jYWxIYW5kbGVyPEVsZW1lbnRUeXBlIGV4dGVuZHMgKEhUTUxFbGVtZW50VGFnTmFtZU1hcFtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXBdIHwgU1ZHRWxlbWVudFRhZ05hbWVNYXBba2V5b2YgU1ZHRWxlbWVudFRhZ05hbWVNYXBdKT4oKSB7XG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrKDxFdmVudFR5cGUgZXh0ZW5kcyBFeGNsdWRlPGtleW9mIGguSlNYLkRPTUF0dHJpYnV0ZXM8RWxlbWVudFR5cGU+LCBrZXlvZiBQcmVhY3RET01BdHRyaWJ1dGVzPj4odHlwZTogRXZlbnRUeXBlLCBoYW5kbGVyOiBOb25OdWxsYWJsZTxoLkpTWC5ET01BdHRyaWJ1dGVzPEVsZW1lbnRUeXBlPltFdmVudFR5cGVdPikgPT4ge1xuXG4gICAgICAgIGNvbnN0IHN0YWJsZUhhbmRsZXIgPSB1c2VTdGFibGVDYWxsYmFjayhoYW5kbGVyKTtcblxuICAgICAgICBjb25zdCB1c2VMb2NhbEV2ZW50SGFuZGxlclByb3BzID0gdXNlQ2FsbGJhY2soKHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFbGVtZW50VHlwZT4pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB1c2VNZXJnZWRQcm9wczxFbGVtZW50VHlwZT4oeyBbdHlwZV06IHN0YWJsZUhhbmRsZXIgfSBhcyBoLkpTWC5IVE1MQXR0cmlidXRlczxFbGVtZW50VHlwZT4sIHByb3BzKSBhcyBoLkpTWC5IVE1MQXR0cmlidXRlczxFbGVtZW50VHlwZT47XG4gICAgICAgIH0sIFt0eXBlXSk7XG5cbiAgICAgICAgcmV0dXJuIHsgdXNlTG9jYWxFdmVudEhhbmRsZXJQcm9wcyB9O1xuXG4gICAgfSwgW10pO1xufVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBPblBhc3NpdmVTdGF0ZUNoYW5nZSwgcmV0dXJuTnVsbCwgcnVuSW1tZWRpYXRlbHksIHVzZUVuc3VyZVN0YWJpbGl0eSwgdXNlUGFzc2l2ZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1wYXNzaXZlLXN0YXRlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUmVmRWxlbWVudFJldHVyblR5cGU8VCBleHRlbmRzIEV2ZW50VGFyZ2V0PiB7XG4gICAgcmVmRWxlbWVudFJldHVybjoge1xuICAgICAgICAvKiogKipTVEFCTEUqKiAqL1xuICAgICAgICBnZXRFbGVtZW50KCk6IFQgfCBudWxsO1xuICAgICAgICBwcm9wc1N0YWJsZTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8VD47XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPFQ+IHtcbiAgICAvKipcbiAgICAgKiBGb3IgdGhlIHNha2Ugb2YgY29udmVuaWVuY2UsXG4gICAgICogdGhpcyBvbmUgaXMgb3B0aW9uYWwsIHNpbmNlIHVzaW5nIHRoaXMgaG9vayBpcyBzbyBjb21tb24sXG4gICAgICogYnV0IHVzaW5nIGl0cyBwYXJhbWV0ZXIgb3B0aW9ucyBpcyBzbyB1bmNvbW1vbiwgYW5kIGl0J3NcbiAgICAgKiBhYnNlbnNlIGlzbid0IHVzdWFsbHkgYmVjYXVzZSBpdCB3YXMgZm9yZ290dGVuLCBpdCdzIGJlY2F1c2VcbiAgICAgKiBpdCBkb2Vzbid0IG1hdHRlci5cbiAgICAgKi9cbiAgICByZWZFbGVtZW50UGFyYW1ldGVycz86IHtcbiAgICAgICAgb25FbGVtZW50Q2hhbmdlPzogT25QYXNzaXZlU3RhdGVDaGFuZ2U8VCB8IG51bGwsIG5ldmVyPjtcbiAgICAgICAgb25Nb3VudD86IChlbGVtZW50OiBUKSA9PiB2b2lkO1xuICAgICAgICBvblVubW91bnQ/OiAoZWxlbWVudDogVCkgPT4gdm9pZDtcbiAgICB9XG59XG5cblxuLypcbmV4cG9ydCBmdW5jdGlvbiB1c2VSZWZFbGVtZW50UHJvcHM8RSBleHRlbmRzIEVsZW1lbnQ+KHI6IFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPEU+LCAuLi5vdGhlclByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPltdKTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT5bXSB7XG4gICAgcmV0dXJuIFtyLnJlZkVsZW1lbnRSZXR1cm4ucHJvcHNTdGFibGUsIC4uLm90aGVyUHJvcHNdO1xufSovXG5cbi8qKlxuICogQWxsb3dzIGFjY2Vzc2luZyB0aGUgZWxlbWVudCBhIHJlZiByZWZlcmVuY2VzIGFzIHNvb24gYXMgaXQgZG9lcyBzby5cbiAqICpUaGlzIGhvb2sgaXRzZWxmIHJldHVybnMgYSBob29rKi0tdXNlUmVmRWxlbWVudFByb3BzIG1vZGlmaWVzIHRoZSBwcm9wcyB0aGF0IHlvdSB3ZXJlIGdvaW5nIHRvIHBhc3MgdG8gYW4gSFRNTEVsZW1lbnQsIFxuICogYWRkaW5nIGEgUmVmQ2FsbGJhY2sgYW5kIG1lcmdpbmcgaXQgd2l0aCBhbnkgZXhpc3RpbmcgcmVmIHRoYXQgZXhpc3RlZCBvbiB0aGUgcHJvcHMuXG4gKiBcbiAqIERvbid0IGZvcmdldCB0byBwcm92aWRlIHRoZSBFbGVtZW50IGFzIHRoZSB0eXBlIGFyZ3VtZW50IVxuICogXG4gKiBAcmV0dXJucyBUaGUgZWxlbWVudCwgYW5kIHRoZSBzdWItaG9vayB0aGF0IG1ha2VzIGl0IHJldHJpZXZhYmxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlUmVmRWxlbWVudDxUIGV4dGVuZHMgRXZlbnRUYXJnZXQ+KGFyZ3M6IFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPFQ+KTogVXNlUmVmRWxlbWVudFJldHVyblR5cGU8VD4ge1xuICAgIGNvbnN0IHsgb25FbGVtZW50Q2hhbmdlLCBvbk1vdW50LCBvblVubW91bnQgfSA9IChhcmdzLnJlZkVsZW1lbnRQYXJhbWV0ZXJzIHx8IHt9KTtcbiAgICB1c2VFbnN1cmVTdGFiaWxpdHkoXCJ1c2VSZWZFbGVtZW50XCIsIG9uRWxlbWVudENoYW5nZSwgb25Nb3VudCwgb25Vbm1vdW50KTtcblxuICAgIC8vIENhbGxlZCAoaW5kaXJlY3RseSkgYnkgdGhlIHJlZiB0aGF0IHRoZSBlbGVtZW50IHJlY2VpdmVzLlxuICAgIGNvbnN0IGhhbmRsZXIgPSB1c2VDYWxsYmFjazxPblBhc3NpdmVTdGF0ZUNoYW5nZTxUIHwgbnVsbCwgbmV2ZXI+PigoZSwgcHJldlZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBvbkVsZW1lbnRDaGFuZ2U/LihlLCBwcmV2VmFsdWUpO1xuICAgICAgICBpZiAocHJldlZhbHVlKVxuICAgICAgICAgICAgb25Vbm1vdW50Py4ocHJldlZhbHVlISk7XG5cbiAgICAgICAgaWYgKGUpXG4gICAgICAgICAgICBvbk1vdW50Py4oZSk7XG5cbiAgICAgICAgcmV0dXJuIGNsZWFudXA7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gTGV0IHVzIHN0b3JlIHRoZSBhY3R1YWwgKHJlZmVyZW5jZSB0bykgdGhlIGVsZW1lbnQgd2UgY2FwdHVyZVxuICAgIGNvbnN0IFtnZXRFbGVtZW50LCBzZXRFbGVtZW50XSA9IHVzZVBhc3NpdmVTdGF0ZTxUIHwgbnVsbCwgbmV2ZXI+KGhhbmRsZXIsIHJldHVybk51bGwsIHJ1bkltbWVkaWF0ZWx5KTtcbiAgICBjb25zdCBwcm9wc1N0YWJsZSA9IHVzZVJlZjxoLkpTWC5IVE1MQXR0cmlidXRlczxUPj4oeyByZWY6IHNldEVsZW1lbnQgfSk7XG5cbiAgICAvLyBSZXR1cm4gYm90aCB0aGUgZWxlbWVudCBhbmQgdGhlIGhvb2sgdGhhdCBtb2RpZmllcyBcbiAgICAvLyB0aGUgcHJvcHMgYW5kIGFsbG93cyB1cyB0byBhY3R1YWxseSBmaW5kIHRoZSBlbGVtZW50XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVmRWxlbWVudFJldHVybjoge1xuICAgICAgICAgICAgZ2V0RWxlbWVudCxcbiAgICAgICAgICAgIHByb3BzU3RhYmxlOiBwcm9wc1N0YWJsZS5jdXJyZW50XG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsIlxuaW1wb3J0IHsgU3RhdGVVcGRhdGVyLCB1c2VFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBPblBhc3NpdmVTdGF0ZUNoYW5nZSwgcmV0dXJuTnVsbCwgcmV0dXJuVHJ1ZSwgcnVuSW1tZWRpYXRlbHksIHVzZUVuc3VyZVN0YWJpbGl0eSwgdXNlUGFzc2l2ZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1wYXNzaXZlLXN0YXRlXCI7XG5cblxuLyoqXG4gKiBcbiAqIFRoZXJlIGFyZSBzZXZlcmFsIGRpZmZlcmVudCB3YXlzIHRoYXQgYSBmb2N1cyBldmVudCBjYW4gaGFwcGVuLiAgQXNzdW1lXG4gKiB0aGUgZm9sbG93aW5nIHN0ZXBzIGhhcHBlbiBpbiBvcmRlcjpcbiAqIFxuICogMS4gVGhlIHBhZ2UgbG9hZHMuXG4gKiAgICAqIE5vdGhpbmcgaXMgZm9jdXNlZCwgYnV0IGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBgYm9keWAuIFxuICogICAgKiBObyBmb2N1cyBldmVudHMgYXJlIGZpcmVkLlxuICogMi4gVGhlIHdpbmRvdyBpcyBmb2N1c2VkLCBhbiB1bmZvY3VzYWJsZSBlbGVtZW50IGlzIGNsaWNrZWQsIHRleHQgaXMgc2VsZWN0ZWQsIGV0Yy5cbiAqICAgICogVGhlIGBhY3RpdmVFbGVtZW50YCByZW1haW5zIGFzIGBib2R5YC5cbiAqICAgICogQSBgZm9jdXNgL2Bmb2N1c2luYCBldmVudCAqTUlHSFQqIGJlIGZpcmVkIGZvciBgYm9keWAuIERlcGVuZGluZyBvblxuICogICAgICB0aGUgYnJvd3NlciwgdGhpcyBkZXBlbmRzIG9uIHdoZXRoZXIgdGhlIGhhbmRsZXIgd2FzIGF0dGFjaGVkIHRvIGB3aW5kb3dgIG9yIGBkb2N1bWVudGAuXG4gKiAgICAgIFByb2JhYmx5IGp1c3QgYmVzdCB0byBub3QgcmVseSBvbiBpdCwgb3IgbGlzdGVuIHRvIGB3aW5kb3dgIGZvY3VzIGV2ZW50cyBkaXJlY3RseS5cbiAqIDMuIEEgZm9jdXNhYmxlIGVsZW1lbnQgaXMgY2xpY2tlZCwgZXRjLlxuICogICAgKiBUaGUgYGFjdGl2ZUVsZW1lbnRgIGlzIHNldCB0byB0aGUgbmV3IGVsZW1lbnQgYmVmb3JlIGFueSBldmVudCBldmVuIGZpcmVzLlxuICogICAgKiBgZm9jdXNvdXRgIGFuZCBgYmx1cmAgYXJlICpub3QqIGZpcmVkIG9uIGBib2R5YC5cbiAqICAgICogYGZvY3VzYCBhbmQgYGZvY3VzaW5gIGFyZSBmaXJlZCBvbiB0aGUgbmV3IGVsZW1lbnQuIGByZWxhdGVkVGFyZ2V0YCBpcyBudWxsLlxuICogNC4gQSBmb2N1c2FibGUgZWxlbWVudCBpcyBjbGlja2VkLCBldGMuXG4gKiAgICAqICoqVGhlIGBhY3RpdmVFbGVtZW50YCBpcyBzZXQgdG8gdGhlIGBib2R5YCoqIGJlZm9yZSBhbnkgZXZlbnQgZXZlbiBmaXJlcy5cbiAqICAgICogYGJsdXJgIGFuZCBgZm9jdXNvdXRgIGFyZSBmaXJlZCBvbiB0aGUgb2xkIGVsZW1lbnQuIGByZWxhdGVkVGFyZ2V0YCBpcyB0aGUgbmV3IGVsZW1lbnQuXG4gKiAgICAqIFRoZSBgYWN0aXZlRWxlbWVudGAgaXMgbm93IHNldCB0byB0aGUgbmV3IGVsZW1lbnQuXG4gKiAgICAqIGBmb2N1c2luYCBpcyBmaXJlZCBvbiB0aGUgbmV3IGVsZW1lbnQuIGByZWxhdGVkVGFyZ2V0YCBpcyB0aGUgb2xkIGVsZW1lbnQuXG4gKiA1LiBBbiB1bmZvY3VzYWJsZSBlbGVtZW50IGlzIGNsaWNrZWQsIHRleHQgaXMgc2VsZWN0ZWQsIGV0Yy5cbiAqICAgICogVGhlIGBhY3RpdmVFbGVtZW50YCBpcyBzZXQgdG8gYGJvZHlgLlxuICogICAgKiBgYmx1cmAgYW5kIGBmb2N1c291dGAgYXJlIGZpcmVkIG9uIHRoZSBvbGQgZWxlbWVudC4gYHJlbGF0ZWRUYXJnZXRgIGlzIG51bGwuXG4gKiAgICAqIGBmb2N1c2luYCBpcyAqbm90KiBmaXJlZCBvbiBgYm9keWAuXG4gKiBcbiAqIFxuICogSW4gc3VtbWFyeTpcbiAqIDEuIEZvY3VzIGV2ZW50cyAqZG8qIG5vdGlmeSB1cyBvZiBhbGwgY2hhbmdlcyBpbiBmb2N1cywgYnV0IHRoZXJlIGlzIG5vIG9uZSBzaW5nbGUgY29tcHJlaGVuc2l2ZSBldmVudCB0aGF0IHByb3ZpZGVzIHVzIHdpdGggYWxsIGF2YWlsYWJsZSBpbmZvcm1hdGlvbi5cbiAqIDIuIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCAqaXMgbm90KiBhbHdheXMgdGhlIHNhbWUgYXMgd2hhdCdzIGJlaW5nIHJlZmVyZW5jZWQgYnkgYSBmb2N1cyBldmVudC4gSW4gcGFydGljdWxhciwgaXQgbWF5IGJlY29tZSBgYm9keWAgYXQgYW55IGFyYml0cmFyeSB0aW1lLlxuICogMy4gQSBgYmx1cmAgd2l0aG91dCBhIGBmb2N1c2AgY2FuIGFuZCB3aWxsIG9jY3VyLiBUaGlzIG1lYW5zIGl0IGlzIG5vdCBwb3NzaWJsZSB0byBzb2xlbHkgdXNlIGBmb2N1c2AgdG8gZGV0ZWN0IGFsbCBjaGFuZ2VzLlxuICogNC4gQSBgYmx1cmAgZXZlbnQgd2hvc2UgYHJlbGF0ZWRUYXJnZXRgIGlzIG51bGwgaW5kaWNhdGVzIHRoYXQgdGhlcmUgd2lsbCBiZSBubyBmb2xsb3dpbmcgYGZvY3VzYCBldmVudC5cbiAqIFxuICovXG5jb25zdCBfZHVtbXkgPSAwO1xuXG5pbnRlcmZhY2UgRm9vPFQ+IHtcbiAgICBsYXN0U2VudDogVCB8IHVuZGVmaW5lZDtcbiAgICBzZW5kOiAoZTogVCwgcjogRm9jdXNFdmVudCkgPT4gdm9pZDtcbn1cbi8qXG5jb25zdCBhY3RpdmVFbGVtZW50VXBkYXRlcnMgPSBuZXcgTWFwPFdpbmRvdyB8IG51bGwgfCB1bmRlZmluZWQsIFNldDx1bmRlZmluZWQgfCAoKGU6IE5vZGUgfCBudWxsKSA9PiB2b2lkKT4+KCk7XG5jb25zdCBsYXN0QWN0aXZlRWxlbWVudFVwZGF0ZXJzID0gbmV3IE1hcDxXaW5kb3cgfCBudWxsIHwgdW5kZWZpbmVkLCBTZXQ8dW5kZWZpbmVkIHwgKChlOiBOb2RlKSA9PiB2b2lkKT4+KCk7XG5jb25zdCB3aW5kb3dGb2N1c2VkVXBkYXRlcnMgPSBuZXcgTWFwPFdpbmRvdyB8IG51bGwgfCB1bmRlZmluZWQsIFNldDx1bmRlZmluZWQgfCAoKGZvY3VzZWQ6IGJvb2xlYW4pID0+IHZvaWQpPj4oKTtcbmNvbnN0IHdpbmRvd3NGb2N1c2VkVXBkYXRlcnMgPSBuZXcgTWFwPFdpbmRvdyB8IG51bGwgfCB1bmRlZmluZWQsIGJvb2xlYW4+KCk7Ki9cbmNvbnN0IGFjdGl2ZUVsZW1lbnRVcGRhdGVycyA9IG5ldyBNYXA8V2luZG93IHwgbnVsbCB8IHVuZGVmaW5lZCwgU2V0PEZvbzxOb2RlIHwgbnVsbD4+PigpO1xuY29uc3QgbGFzdEFjdGl2ZUVsZW1lbnRVcGRhdGVycyA9IG5ldyBNYXA8V2luZG93IHwgbnVsbCB8IHVuZGVmaW5lZCwgU2V0PEZvbzxOb2RlPj4+KCk7XG5jb25zdCB3aW5kb3dGb2N1c2VkVXBkYXRlcnMgPSBuZXcgTWFwPFdpbmRvdyB8IG51bGwgfCB1bmRlZmluZWQsIFNldDxGb288Ym9vbGVhbj4+PigpO1xuY29uc3Qgd2luZG93c0ZvY3VzZWRVcGRhdGVycyA9IG5ldyBNYXA8V2luZG93IHwgbnVsbCB8IHVuZGVmaW5lZCwgYm9vbGVhbj4oKTtcblxuLy9jb25zdCBtaWNyb3Rhc2tzID0gbmV3IE1hcDxTZXQ8YW55PiwgYW55PigpO1xuXG4vLyBUaGUgZm9jdXNpbiBhbmQgZm9jdXNvdXQgZXZlbnRzIG9mdGVuIGZpcmUgc3luY3Jvbm91c2x5IGluIHRoZSBtaWRkbGUgb2YgcnVubmluZyBjb2RlLlxuLy8gRS5HLiBjYWxsaW5nIGVsZW1lbnQuZm9jdXMoKSBjYW4gY2F1c2UgYSBmb2N1c2luIGV2ZW50IGhhbmRsZXIgdG8gaW1tZWRpYXRlbHkgaW50ZXJydXB0IHRoYXQgY29kZS5cbi8vIEZvciB0aGUgcHVycG9zZSBvZiBpbXByb3Zpbmcgc3RhYmlsaXR5LCB3ZSBkZWJvdW5jZSBhbGwgZm9jdXMgZXZlbnRzIHRvIHRoZSBuZXh0IG1pY3JvdGFzay5cbmZ1bmN0aW9uIGZvckVhY2hVcGRhdGVyPFQ+KHdpbmRvdzogV2luZG93IHwgbnVsbCB8IHVuZGVmaW5lZCwgbWFwOiBNYXA8V2luZG93IHwgbnVsbCB8IHVuZGVmaW5lZCwgU2V0PEZvbzxUPj4+LCB2YWx1ZTogVCwgcmVhc29uOiBhbnkpIHtcbiAgICBjb25zdCB1cGRhdGVycyA9IG1hcC5nZXQod2luZG93KTtcbiAgICBpZiAodXBkYXRlcnMpIHtcbiAgICAgICAgLy9pZiAoIW1pY3JvdGFza3MuaGFzKHVwZGF0ZXJzS2V5KSkge1xuICAgICAgICAvL2RlYm91bmNlUmVuZGVyaW5nKCgpID0+IHtcbiAgICAgICAgLy9jb25zdCB1cGRhdGVyc0tleSA9IG1hcC5nZXQod2luZG93KSE7XG4gICAgICAgIC8vY29uc3QgdmFsdWUgPSBtaWNyb3Rhc2tzLmdldCh1cGRhdGVyc0tleSk7XG4gICAgICAgIC8vbWljcm90YXNrcy5kZWxldGUodXBkYXRlcnNLZXkpO1xuXG4gICAgICAgIGlmICh1cGRhdGVycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGVyIG9mIHVwZGF0ZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBsYXN0U2VudCwgc2VuZCB9ID0gdXBkYXRlcjtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IGxhc3RTZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmQodmFsdWUsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZXIubGFzdFNlbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL30pO1xuICAgICAgICAvL31cblxuICAgICAgICAvL21pY3JvdGFza3Muc2V0KHVwZGF0ZXJzS2V5LCB2YWx1ZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBmb2N1c291dChlOiBGb2N1c0V2ZW50KSB7XG4gICAgY29uc3Qgd2luZG93ID0gKGUudGFyZ2V0IGFzIEVsZW1lbnQpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cbiAgICBpZiAoZS5yZWxhdGVkVGFyZ2V0ID09IG51bGwpIHtcbiAgICAgICAgZm9yRWFjaFVwZGF0ZXIod2luZG93LCBhY3RpdmVFbGVtZW50VXBkYXRlcnMsIG51bGwsIGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gSnVzdCB3YWl0IGZvciB0aGUgZm9jdXNpbiBldmVudC5cbiAgICB9XG5cbn1cblxuZnVuY3Rpb24gZm9jdXNpbihlOiBGb2N1c0V2ZW50KSB7XG4gICAgY29uc3Qgd2luZG93ID0gKGUudGFyZ2V0IGFzIEVsZW1lbnQpLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgY29uc3QgY3VycmVudGx5Rm9jdXNlZEVsZW1lbnQgPSBlLnRhcmdldCBhcyAoRWxlbWVudCAmIEhUTUxPclNWR0VsZW1lbnQpO1xuICAgIGZvckVhY2hVcGRhdGVyKHdpbmRvdywgYWN0aXZlRWxlbWVudFVwZGF0ZXJzLCBjdXJyZW50bHlGb2N1c2VkRWxlbWVudCwgZSk7XG4gICAgZm9yRWFjaFVwZGF0ZXIod2luZG93LCBsYXN0QWN0aXZlRWxlbWVudFVwZGF0ZXJzLCBjdXJyZW50bHlGb2N1c2VkRWxlbWVudCwgZSk7XG59XG5cbmZ1bmN0aW9uIHdpbmRvd0ZvY3VzKGU6IEZvY3VzRXZlbnQpIHtcbiAgICBjb25zdCB3aW5kb3cgPSAoZS50YXJnZXQgaW5zdGFuY2VvZiBXaW5kb3cgPyBlLnRhcmdldCA6IGUuY3VycmVudFRhcmdldCBpbnN0YW5jZW9mIFdpbmRvdyA/IGUuY3VycmVudFRhcmdldCA6IChlLnRhcmdldCBhcyBFbGVtZW50KS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgICB3aW5kb3dzRm9jdXNlZFVwZGF0ZXJzLnNldCh3aW5kb3csIHRydWUpO1xuICAgIGZvckVhY2hVcGRhdGVyKHdpbmRvdywgd2luZG93Rm9jdXNlZFVwZGF0ZXJzLCB0cnVlLCBlKTtcbn1cblxuZnVuY3Rpb24gd2luZG93Qmx1cihlOiBGb2N1c0V2ZW50KSB7XG4gICAgY29uc3Qgd2luZG93ID0gKGUudGFyZ2V0IGluc3RhbmNlb2YgV2luZG93ID8gZS50YXJnZXQgOiBlLmN1cnJlbnRUYXJnZXQgaW5zdGFuY2VvZiBXaW5kb3cgPyBlLmN1cnJlbnRUYXJnZXQgOiAoZS50YXJnZXQgYXMgRWxlbWVudCkub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldyk7XG4gICAgd2luZG93c0ZvY3VzZWRVcGRhdGVycy5zZXQod2luZG93LCBmYWxzZSk7XG4gICAgZm9yRWFjaFVwZGF0ZXIod2luZG93LCB3aW5kb3dGb2N1c2VkVXBkYXRlcnMsIGZhbHNlLCBlKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VBY3RpdmVFbGVtZW50UGFyYW1ldGVycyB7XG5cbiAgICBhY3RpdmVFbGVtZW50UGFyYW1ldGVyczogeyBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxlZCBhbnkgdGltZSB0aGUgYWN0aXZlIGVsZW1lbnQgY2hhbmdlcy4gTXVzdCBiZSBzdGFibGUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkFjdGl2ZUVsZW1lbnRDaGFuZ2U/OiBPblBhc3NpdmVTdGF0ZUNoYW5nZTxFbGVtZW50IHwgbnVsbCwgRm9jdXNFdmVudD47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxlZCBhbnkgdGltZSB0aGUgYWN0aXZlIGVsZW1lbnQgY2hhbmdlcyBhbmQgaXMgbm90IG51bGwuIFxuICAgICAgICAgKiBNdXN0IGJlIHN0YWJsZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2U/OiBPblBhc3NpdmVTdGF0ZUNoYW5nZTxFbGVtZW50LCBGb2N1c0V2ZW50PjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGVkIGFueSB0aW1lIHRoZSB3aW5kb3cgZ2FpbnMvbG9zZXMgZm9jdXMuIE11c3QgYmUgc3RhYmxlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25XaW5kb3dGb2N1c2VkQ2hhbmdlPzogT25QYXNzaXZlU3RhdGVDaGFuZ2U8Ym9vbGVhbiwgRm9jdXNFdmVudD47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbXVzdCBiZSBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgZG9jdW1lbnQgYXNzb2NpYXRlZCB3aXRoIHdoYXRldmVyIGVsZW1lbnRzIHdlJ3JlIGxpc3RlbmluZyB0by5cbiAgICAgICAgICogXG4gICAgICAgICAqIEUuRy4gc29tZURpdkVsZW1lbnQub3duZXJEb2N1bWVudFxuICAgICAgICAgKiBcbiAgICAgICAgICogKipNVVNUKiogYmUgc3RhYmxlXG4gICAgICAgICAqL1xuICAgICAgICBnZXREb2N1bWVudCgpOiBEb2N1bWVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQnkgZGVmYXVsdCwgZXZlbnQgaGFuZGxlcnMgYXJlIGF0dGFjaGVkIHRvIHRoZSBkb2N1bWVudCdzIGRlZmF1bHRWaWV3IFdpbmRvdy5cbiAgICAgICAgICogSWYgeW91IG5lZWQgc29tZXRoaW5nIGRpZmZlcmVudCwgb3ZlcnJpZGUgaXQgaGVyZS5cbiAgICAgICAgICogXG4gICAgICAgICAqICoqTVVTVCoqIGJlIHN0YWJsZVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0V2luZG93Pyhkb2N1bWVudDogRG9jdW1lbnQpOiBXaW5kb3c7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUFjdGl2ZUVsZW1lbnRSZXR1cm5UeXBlIHtcbiAgICBhY3RpdmVFbGVtZW50UmV0dXJuOiB7XG4gICAgICAgIC8qKiBcbiAgICAgICAgICogUmV0dXJucyB3aGF0ZXZlciBlbGVtZW50IGlzIGN1cnJlbnRseSBmb2N1c2VkLCBvciBgbnVsbGAgaWYgdGhlcmUncyBubyBmb2N1c2VkIGVsZW1lbnRcbiAgICAgICAgICogKipTVEFCTEUqKlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlRWxlbWVudDogKCkgPT4gRWxlbWVudCB8IG51bGw7XG4gICAgICAgIC8qKiBcbiAgICAgICAgICogUmV0dXJucyB3aGF0ZXZlciBlbGVtZW50IGlzIGN1cnJlbnRseSBmb2N1c2VkLCBvciB3aGF0ZXZlciBlbGVtZW50IHdhcyBtb3N0IHJlY2VudGx5IGZvY3VzZWQgaWYgdGhlcmUncyBubyBmb2N1c2VkIGVsZW1lbnRcbiAgICAgICAgICogKipTVEFCTEUqKlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGFzdEFjdGl2ZUVsZW1lbnQ6ICgpID0+IEVsZW1lbnQ7XG4gICAgICAgIC8qKiBcbiAgICAgICAgICogUmV0dXJucyBpZiB0aGUgd2luZG93IGl0c2VsZiBoYXMgZm9jdXMgb3Igbm90XG4gICAgICAgICAqICoqU1RBQkxFKipcbiAgICAgICAgICovXG4gICAgICAgIGdldFdpbmRvd0ZvY3VzZWQ6ICgpID0+IGJvb2xlYW47XG4gICAgfVxufVxuXG4vKipcbiAqIEFsbG93cyB5b3UgdG8gaW5zcGVjdCB3aGljaCBlbGVtZW50IGluIHRoZSBgZG9jdW1lbnRgIGN1cnJlbnRseSBoYXMgZm9jdXMsIHdoaWNoIHdhcyBtb3N0IHJlY2VudGx5IGZvY3VzZWQgaWYgbm9uZSBhcmUgY3VycmVudGx5LCBhbmQgd2hldGhlciBvciBub3QgdGhlIHdpbmRvdyBoYXMgZm9jdXMgYnkgcmV0dXJuaW5nIHRoZSBmb2xsb3dpbmcgZnVuY3Rpb25zOlxuICogKiBgZ2V0QWN0aXZlRWxlbWVudCgpYFxuICogKiBgZ2V0TGFzdEFjdGl2ZUVsZW1lbnQoKWBcbiAqICogYGdldFdpbmRvd0ZvY3VzZWQoKWBcbiAqIFxuICogKFRoZSBkb2N1bWVudCdzIGJvZHkgcmVjZWl2aW5nIGZvY3VzLCBsaWtlIGl0IGRvZXMgd2hlbiB5b3UgY2xpY2sgb24gYW4gZW1wdHkgYXJlYSwgaXMgY291bnRlZCBhcyBubyBlbGVtZW50IGhhdmluZyBmb2N1cyBmb3IgYWxsIGludGVudHMgYW5kIHB1cnBvc2VzKVxuICogXG4gKiBUaGlzIGlzIGEgcGFzc2l2ZSBob29rLCBzbyBieSBkZWZhdWx0IGl0IHJldHVybnMgZ2V0dGVyIGZ1bmN0aW9ucyB0aGF0IHJlcG9ydCB0aGlzIGluZm9ybWF0aW9uIGJ1dCB0aGUgY29tcG9uZW50IHdpbGwgbm90IHJlLXJlbmRlciBieSBkZWZhdWx0IHdoZW4gdGhlIGFjdGl2ZSBlbGVtZW50IGNoYW5nZXMuXG4gKiBcbiAqIElmIHlvdSBuZWVkIHRoZSBjb21wb25lbnQgdG8gcmUtcmVuZGVyIHdoZW4gdGhlIGFjdGl2ZSBlbGVtZW50IGNoYW5nZXMsIHVzZSB0aGUgYG9uKkNoYW5nZWAgYXJndW1lbnRzIHRvIHNldCBzb21lIHN0YXRlIG9uIHlvdXIgZW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQWN0aXZlRWxlbWVudCh7IGFjdGl2ZUVsZW1lbnRQYXJhbWV0ZXJzOiB7IG9uQWN0aXZlRWxlbWVudENoYW5nZSwgb25MYXN0QWN0aXZlRWxlbWVudENoYW5nZSwgb25XaW5kb3dGb2N1c2VkQ2hhbmdlLCBnZXREb2N1bWVudCwgZ2V0V2luZG93IH0gfTogVXNlQWN0aXZlRWxlbWVudFBhcmFtZXRlcnMpOiBVc2VBY3RpdmVFbGVtZW50UmV0dXJuVHlwZSB7XG5cbiAgICB1c2VFbnN1cmVTdGFiaWxpdHkoXCJ1c2VBY3RpdmVFbGVtZW50XCIsIG9uQWN0aXZlRWxlbWVudENoYW5nZSwgb25MYXN0QWN0aXZlRWxlbWVudENoYW5nZSwgb25XaW5kb3dGb2N1c2VkQ2hhbmdlLCBnZXREb2N1bWVudCwgZ2V0V2luZG93KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgY29uc3Qgd2luZG93ID0gKGdldFdpbmRvdz8uKGRvY3VtZW50KSA/PyBkb2N1bWVudD8uZGVmYXVsdFZpZXcpO1xuXG4gICAgICAgIGlmICgoYWN0aXZlRWxlbWVudFVwZGF0ZXJzLmdldCh3aW5kb3cpPy5zaXplID8/IDApID09PSAwKSB7XG4gICAgICAgICAgICBkb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgZm9jdXNpbiwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICAgICAgZG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCBmb2N1c291dCwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICAgICAgd2luZG93Py5hZGRFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgd2luZG93Rm9jdXMsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHdpbmRvdz8uYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgd2luZG93Qmx1ciwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIHRoZW0gZXZlbiBpZiB0aGV5J3JlIHVuZGVmaW5lZCB0byBtb3JlIGVhc2lseVxuICAgICAgICAvLyBtYW5hZ2UgdGhlIFwiPjAgbWVhbnMgZG9uJ3QgYWRkIGhhbmRsZXJzXCIgbG9naWMuXG4gICAgICAgIGNvbnN0IGxvY2FsQWN0aXZlRWxlbWVudFVwZGF0ZXJzID0gYWN0aXZlRWxlbWVudFVwZGF0ZXJzLmdldCh3aW5kb3cpID8/IG5ldyBTZXQoKTtcbiAgICAgICAgY29uc3QgbG9jYWxMYXN0QWN0aXZlRWxlbWVudFVwZGF0ZXJzID0gbGFzdEFjdGl2ZUVsZW1lbnRVcGRhdGVycy5nZXQod2luZG93KSA/PyBuZXcgU2V0KCk7XG4gICAgICAgIGNvbnN0IGxvY2FsV2luZG93Rm9jdXNlZFVwZGF0ZXJzID0gd2luZG93Rm9jdXNlZFVwZGF0ZXJzLmdldCh3aW5kb3cpID8/IG5ldyBTZXQoKTtcblxuICAgICAgICBjb25zdCBsYWV1ID0geyBzZW5kOiBzZXRBY3RpdmVFbGVtZW50IGFzIFN0YXRlVXBkYXRlcjxOb2RlIHwgbnVsbD4sIGxhc3RTZW50OiB1bmRlZmluZWQgfVxuICAgICAgICBjb25zdCBsbGFldSA9IHsgc2VuZDogc2V0TGFzdEFjdGl2ZUVsZW1lbnQgYXMgU3RhdGVVcGRhdGVyPE5vZGU+LCBsYXN0U2VudDogdW5kZWZpbmVkIH07XG4gICAgICAgIGNvbnN0IGx3ZnUgPSB7IHNlbmQ6IHNldFdpbmRvd0ZvY3VzZWQsIGxhc3RTZW50OiB1bmRlZmluZWQgfTtcblxuICAgICAgICBsb2NhbEFjdGl2ZUVsZW1lbnRVcGRhdGVycy5hZGQobGFldSk7XG4gICAgICAgIGxvY2FsTGFzdEFjdGl2ZUVsZW1lbnRVcGRhdGVycy5hZGQobGxhZXUpO1xuICAgICAgICBsb2NhbFdpbmRvd0ZvY3VzZWRVcGRhdGVycy5hZGQobHdmdSk7XG5cbiAgICAgICAgYWN0aXZlRWxlbWVudFVwZGF0ZXJzLnNldCh3aW5kb3csIGxvY2FsQWN0aXZlRWxlbWVudFVwZGF0ZXJzKTtcbiAgICAgICAgbGFzdEFjdGl2ZUVsZW1lbnRVcGRhdGVycy5zZXQod2luZG93LCBsb2NhbExhc3RBY3RpdmVFbGVtZW50VXBkYXRlcnMpO1xuICAgICAgICB3aW5kb3dGb2N1c2VkVXBkYXRlcnMuc2V0KHdpbmRvdywgbG9jYWxXaW5kb3dGb2N1c2VkVXBkYXRlcnMpO1xuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBhY3RpdmVFbGVtZW50VXBkYXRlcnMuZ2V0KHdpbmRvdykhLmRlbGV0ZShsYWV1KTtcbiAgICAgICAgICAgIGxhc3RBY3RpdmVFbGVtZW50VXBkYXRlcnMuZ2V0KHdpbmRvdykhLmRlbGV0ZShsYWV1KTtcbiAgICAgICAgICAgIHdpbmRvd0ZvY3VzZWRVcGRhdGVycy5nZXQod2luZG93KSEuZGVsZXRlKGx3ZnUpO1xuXG4gICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudFVwZGF0ZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudD8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgZm9jdXNpbik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCBmb2N1c291dCk7XG4gICAgICAgICAgICAgICAgd2luZG93Py5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNcIiwgd2luZG93Rm9jdXMpO1xuICAgICAgICAgICAgICAgIHdpbmRvdz8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgd2luZG93Qmx1cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IFtnZXRBY3RpdmVFbGVtZW50LCBzZXRBY3RpdmVFbGVtZW50XSA9IHVzZVBhc3NpdmVTdGF0ZTxFbGVtZW50IHwgbnVsbCwgRm9jdXNFdmVudD4ob25BY3RpdmVFbGVtZW50Q2hhbmdlLCByZXR1cm5OdWxsLCBydW5JbW1lZGlhdGVseSk7XG4gICAgY29uc3QgW2dldExhc3RBY3RpdmVFbGVtZW50LCBzZXRMYXN0QWN0aXZlRWxlbWVudF0gPSB1c2VQYXNzaXZlU3RhdGU8RWxlbWVudCwgRm9jdXNFdmVudD4ob25MYXN0QWN0aXZlRWxlbWVudENoYW5nZSwgcmV0dXJuTnVsbCBhcyAoKSA9PiBuZXZlciwgcnVuSW1tZWRpYXRlbHkpO1xuICAgIGNvbnN0IFtnZXRXaW5kb3dGb2N1c2VkLCBzZXRXaW5kb3dGb2N1c2VkXSA9IHVzZVBhc3NpdmVTdGF0ZTxib29sZWFuLCBGb2N1c0V2ZW50PihvbldpbmRvd0ZvY3VzZWRDaGFuZ2UsIHJldHVyblRydWUsIHJ1bkltbWVkaWF0ZWx5KTtcblxuICAgIHJldHVybiB7IGFjdGl2ZUVsZW1lbnRSZXR1cm46IHsgZ2V0QWN0aXZlRWxlbWVudCwgZ2V0TGFzdEFjdGl2ZUVsZW1lbnQsIGdldFdpbmRvd0ZvY3VzZWQgfSB9O1xufVxuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgZGVib3VuY2VSZW5kZXJpbmcsIE9uUGFzc2l2ZVN0YXRlQ2hhbmdlLCBQYXNzaXZlU3RhdGVVcGRhdGVyLCB1c2VFbnN1cmVTdGFiaWxpdHksIHVzZVBhc3NpdmVTdGF0ZSB9IGZyb20gXCIuL3VzZS1wYXNzaXZlLXN0YXRlXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuL3VzZS1zdGFibGUtY2FsbGJhY2tcIjtcbmltcG9ydCB7IHVzZVN0YWJsZU9iamVjdCB9IGZyb20gXCIuL3VzZS1zdGFibGUtZ2V0dGVyXCI7XG5cbi8qKlxuICogUmVtaW5kZXIgb2Ygb3JkZXIgb2YgZXhlY3V0aW9uOlxuICogXG4gKiAqICh0cmVlIG1vdW50cylcbiAqICogUGFyZW50IHJlbmRlcnNcbiAqICogQ2hpbGRyZW4gcmVuZGVyXG4gKiAqIENoaWxkcmVuIHJlY2VpdmUgcmVmIChpZiBhcHBsaWNhYmxlKVxuICogKiBQYXJlbnQgcmVjZWl2ZXMgcmVmIChpZiBhcHBsaWNhYmxlKVxuICogKiBDaGlsZHJlbiBydW4gZWZmZWN0c1xuICogKiBQYXJlbnQgcnVucyBlZmZlY3RzXG4gKiBcbiAqICogKHRyZWUgdW5tb3VudHMpXG4gKiAqIFBhcmVudCBydW5zIGVmZmVjdC1jbGVhbnVwXG4gKiAqIFBhcmVudCBkZWxldGVzIHJlZiAoaWYgYXBwbGljYWJsZSlcbiAqICogQ2hpbGQgcnVucyBlZmZlY3QtY2xlYW51cFxuICogKiBDaGlsZCBkZWxldGVzIHJlZiAoaWYgYXBwbGljYWJsZSlcbiAqIFxuICogVHdvIHRoaW5ncyB0byBub3RlIGhlcmU6XG4gKiAqIFJlbmRlcmluZyBzdGFydHMgYXQgdGhlIHJvb3QsICBidXQgZWZmZWN0cyBhbmQgcmVmcyBzdGFydCBhdCB0aGUgbGVhdmVzLlxuICogKiByZWZzIGFyZSAqdXN1YWxseSogY2FsbGVkIGJlZm9yZSBlZmZlY3RzLCBidXQgb25seSB3aGVuIHRoYXQgSFRNTEVsZW1lbnQgcmVuZGVycy4gQmFzaWNhbGx5IGp1c3QgYSByZW1pbmRlciB0aGF0IGEgY29tcG9uZW50IGNhbiBiZSBtb3VudGVkIHdpdGhvdXQgaXQgZXhpc3RpbmcgaW4gdGhlIERPTS5cbiAqL1xuY29uc3QgX2NvbW1lbnRzID0gdm9pZCAoMCk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTWFuYWdlZENoaWxkcmVuQ29udGV4dDxNIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxhbnk+PiB7XG4gICAgLy9tYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IFVzZU1hbmFnZWRDaGlsZHJlblJldHVyblR5cGU8TT5bXCJtYW5hZ2VkQ2hpbGRyZW5SZXR1cm5cIl1cblxuICAgIG1hbmFnZWRDaGlsZENvbnRleHQ6IHtcbiAgICAgICAgZ2V0Q2hpbGRyZW4oKTogTWFuYWdlZENoaWxkcmVuPE0+O1xuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5BcnJheTogSW50ZXJuYWxDaGlsZEluZm88TT47XG4gICAgICAgIHJlbW90ZVVMRUNoaWxkTW91bnRlZDogKGluZGV4OiBNW1wiaW5kZXhcIl0sIG1vdW50ZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gICAgICAgIHJlbW90ZVVMRUNoaWxkQ2hhbmdlZDogKGluZGV4OiBNW1wiaW5kZXhcIl0pID0+ICgoKSA9PiB2b2lkKTtcbiAgICB9XG59XG5cblxuLyoqXG4gKiBEb2VzIG5vdGhpbmcgYXQgcnVudGltZSAtLSB0eXBlIGNoZWNraW5nIG9ubHkuXG4gKiBcbiAqIFRocm93cyBhIChUeXBlc2NyaXB0IGNvbXBpbGVyKSBlcnJvciBpZiB0aGUgcGFzc2VkIG9iamVjdCBpcyBhbnl0aGluZyBidXQgdGhlIGVtcHR5IG9iamVjdCB7fS5cbiAqIFxuICogVXNlIHRoaXMgdG8gZW5zdXJlIHRoYXQgeW91ciBzcHJlYWQgb3BlcmF0b3JzIHdvcmsgY29ycmVjdGx5IGFuZCBjb3ZlciBhbGwgY2FzZXMuXG4gKiBcbiAqIEBwYXJhbSBfYSBUaGUgcmVtYWluaW5nIHNwcmVhZCBwYXJhbWV0ZXJzIG9mIGEgZ2l2ZW4gb2JqZWN0IHRoYXQgeW91IGV4cGVjdCB0byBiZSBlbXB0eSAoYmVjYXVzZSB5b3UgcHJvcGVybHkgYWNjb3VudGVkIGZvciBhbGwgdGhlIHByb3BlcnRpZXMgdGhhdCBleGlzdCBpbiBpdCwgYW5kIHdhbnQgdG8gZW5zdXJlIGl0IHN0YXlzIHRoYXQgd2F5KVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RW1wdHlPYmplY3Q8VCBleHRlbmRzIHt9PihfYTogW2tleW9mIFRdIGV4dGVuZHMgW25ldmVyXSA/IFQgOiBgVW5oYW5kbGVkIGtleXMgaW4gdGhpcyByZXN0IHNwcmVhZCBvYmplY3QhYCk6IHZvaWQgeyB9XG5cblxuXG4vKipcbiAqIEluZm9ybWF0aW9uIHRoYXQgY2hpbGRyZW4gYW5kIHBhcmVudHMgdXNlIHRvIGNvbW11bmljYXRlIHdpdGggZWFjaCBvdGhlci5cbiAqIFxuICogKiBgaW5kZXhgIHJlZmVycyB0byB3aGljaCBjaGlsZCB0aGlzIGlzLlxuICogKiBgZmxhZ3NgIGFyZSBxdWljay1hbmQtZWFzeSBnZXR0ZXJzIGFuZCBzZXR0ZXJzIHRoYXQgeW91IGNhbiBvcHRpb25hbGx5IHVzZVxuICogKiBgc3ViSW5mb2AgaXMgYW55dGhpbmcgdXNlZCBieSBhIGRlcml2ZWQgaG9vay4gYHVzZVJvdmluZ1RhYkluZGV4YCwgZm9yIGV4YW1wbGUsIG5lZWRzIHRvIGtub3cgaG93IHRvIGZvY3VzIGFuIGFyYml0cmFyeSBjaGlsZCwgc28gdGhlIGNoaWxkIHBvcHVsYXRlcyBgaW5mb2Agd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyBhIG1ldGhvZCBjYWxsZWQgYGZvY3VzU2VsZmAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWFuYWdlZENoaWxkSW5mbzxUIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyPiB7XG4gICAgaW5kZXg6IFQ7XG4gICAgLy9mbGFnczogUGFydGlhbDxSZWNvcmQ8SywgQ2hpbGRGbGFnT3BlcmF0aW9ucz4+O1xuICAgIC8vc3ViSW5mbzogTUNTdWJJbmZvO1xufVxuXG5cblxuZXhwb3J0IHR5cGUgT25DaGlsZHJlbk1vdW50Q2hhbmdlPFQgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXI+ID0gKChtb3VudGVkOiBTZXQ8VD4sIHVubW91bnRlZDogU2V0PFQ+KSA9PiB2b2lkKTtcbmV4cG9ydCB0eXBlIE9uQWZ0ZXJDaGlsZExheW91dEVmZmVjdDxUIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyPiA9ICgoY2F1c2VyczogSXRlcmFibGU8VD4pID0+IHZvaWQpO1xuXG5pbnRlcmZhY2UgTUNQPFQgZXh0ZW5kcyBudW1iZXIgfCBzdHJpbmc+IHtcbiAgICAvKipcbiAgICAgKiBSdW5zIGFmdGVyIG9uZSBvciBtb3JlIGNoaWxkcmVuIGhhdmUgdXBkYXRlZCB0aGVpciBpbmZvcm1hdGlvbiAoaW5kZXgsIGV0Yy4pLlxuICAgICAqIFxuICAgICAqIE9ubHkgb25lIHdpbGwgcnVuIHBlciB0aWNrLCBqdXN0IGxpa2UgbGF5b3V0RWZmZWN0LCBidXQgaXQgaXNuJ3RcbiAgICAgKiAqZ3VhcmFudGVlZCogdG8gaGF2ZSBhY3R1YWxseSBiZWVuIGEgY2hhbmdlLlxuICAgICAqIFxuICAgICAqIFRPRE86IFRoaXMgZW5kZWQgdXAgbm90IGJlaW5nIG5lZWRlZCBieSBhbnl0aGluZy4gSXMgaXQgbmVjZXNzYXJ5PyBEb2VzIGl0IGNvc3QgYW55dGhpbmc/XG4gICAgICovXG4gICAgb25BZnRlckNoaWxkTGF5b3V0RWZmZWN0PzogbnVsbCB8IHVuZGVmaW5lZCB8IE9uQWZ0ZXJDaGlsZExheW91dEVmZmVjdDxUPjtcblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdGhlIGFib3ZlLCBidXQgb25seSBmb3IgbW91bnQvdW5tb3VudCAob3Igd2hlbiBhIGNoaWxkIGNoYW5nZXMgaXRzIGluZGV4KVxuICAgICAqL1xuICAgIG9uQ2hpbGRyZW5Nb3VudENoYW5nZT86IG51bGwgfCB1bmRlZmluZWQgfCBPbkNoaWxkcmVuTW91bnRDaGFuZ2U8VD47XG5cbiAgICBvbkNoaWxkQ291bnRDaGFuZ2U/OiBudWxsIHwgdW5kZWZpbmVkIHwgKChjb3VudDogbnVtYmVyKSA9PiB2b2lkKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VNYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzPE0gZXh0ZW5kcyBNYW5hZ2VkQ2hpbGRJbmZvPGFueT4+IHtcbiAgICBtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzOiBNQ1A8TVtcImluZGV4XCJdPjtcbn1cblxuLy8gTUNTdWJJbmZvIGNvbnRhaW5zIHRoZSBlbnRpcmV0eSBvZiB0aGUgc2F2ZWQgZGF0YSBmb3IgdGhpcyBjaGlsZC4gIEFsbCBvZiBpdC4gRXZlbiB0eXBlcyB0aGUgdXNlciB3aWxsIG5ldmVyIGJlIGFibGUgdG8gcGFzcyBpbiBiZWNhdXNlIHRoZXkncmUgaW50ZXJuYWxseSBkZXJpdmVkLlxuLy8gU3ViYmVzdEluZm8gcmVmZXJzIHRvIHRoZSBhY3R1YWwgcGFyYW1ldGVycyB0aGUgdXNlciBwYXNzZXMgaW4gdGhhdCBjb3VsZCBiZSB0b3RhbGx5IHVucmVsYXRlZC4gXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8TSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88YW55Pj4ge1xuICAgIC8vIFRoaXMgaXMgdGhlIG9ubHkgcHJvcGVydHkgc2hhcmVkIGFtb25nIGFsbCBtYW5hZ2VkIGNoaWxkcmVuLlxuICAgIC8vIFRlY2huaWNhbGx5IHRoaXMgaXMgcmVkdW5kYW50IHdpdGggdGhlIHNlY29uZCBhcmd1bWVudCwgd2hpY2ggaXMuLi5laC4gQnV0IHRoZSB0eXBlcyBhcmUgY2xlYXIuXG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogUGljazxNLCBcImluZGV4XCI+O1xuICAgIGNvbnRleHQ6IFVzZU1hbmFnZWRDaGlsZHJlbkNvbnRleHQ8TT47XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VNYW5hZ2VkQ2hpbGRyZW5SZXR1cm5UeXBlPE0gZXh0ZW5kcyBNYW5hZ2VkQ2hpbGRJbmZvPGFueT4+IHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjaGlsZCB0aGF0IHJlbmRlcmVkIGl0c2VsZiB3aXRoIHRoZSByZXF1ZXN0ZWQga2V5LlxuICAgICAqIFxuICAgICAqICoqU1RBQkxFKiogKGV2ZW4gdGhvdWdoIGl0J3Mgbm90IGEgZnVuY3Rpb24sIHRoZSBpZGVudGl0eSBvZiB0aGlzIG9iamVjdCBuZXZlciBjaGFuZ2VzKVxuICAgICAqL1xuICAgIG1hbmFnZWRDaGlsZHJlblJldHVybjoge1xuICAgICAgICAvKiogXG4gICAgICAgICAqICoqKlNUQUJMRSoqKlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgKipib3RoKiogYGdldENoaWxkcmVuYCBhbmQgdGhlIGBNYW5hZ2VkQ2hpbGRyZW5gIG9iamVjdCBpdCByZXR1cm5zIGFyZSBzdGFibGUhXG4gICAgICAgICAqIFxuICAgICAgICAgKiBUaGlzIGlzIGEgZ2V0dGVyIGluc3RlYWQgb2YgYW4gb2JqZWN0IGJlY2F1c2Ugd2hlbiBmdW5jdGlvbiBjYWxscyBoYXBwZW4gb3V0IG9mIG9yZGVyIGl0J3MgZWFzaWVyIHRvIGp1c3QgaGF2ZSBhbHdheXMgYmVlbiBwYXNzaW5nIGFuZCByZXR1cm4gZ2V0dGVycyBldmVyeXdoZXJlIFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2hpbGRyZW4oKTogTWFuYWdlZENoaWxkcmVuPE0+O1xuXG4gICAgfTtcblxuICAgIGNvbnRleHQ6IFVzZU1hbmFnZWRDaGlsZHJlbkNvbnRleHQ8TT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTWFuYWdlZENoaWxkUmV0dXJuVHlwZTxNIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxhbnk+PiB7XG4gICAgbWFuYWdlZENoaWxkUmV0dXJuOiB7XG4gICAgICAgIGdldENoaWxkcmVuKCk6IE1hbmFnZWRDaGlsZHJlbjxNPjtcbiAgICB9XG59XG5cbi8vZXhwb3J0IHR5cGUgVXNlTWFuYWdlZENoaWxkPE0gZXh0ZW5kcyBNYW5hZ2VkQ2hpbGRJbmZvPGFueT4+ID0gKGE6IFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8TT4pID0+IFVzZU1hbmFnZWRDaGlsZFJldHVyblR5cGU8TT47XG5cblxuXG5cblxuXG4vKipcbiAqIEFic3RyYWN0aW9uIG92ZXIgdGhlIG1hbmFnZWQgY2hpbGRyZW5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNYW5hZ2VkQ2hpbGRyZW48TSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88YW55Pj4ge1xuICAgIC8qKiBTVEFCTEUgKi9cbiAgICBnZXRBdChpbmRleDogTVtcImluZGV4XCJdKTogTSB8IHVuZGVmaW5lZDtcbiAgICAvKiogU1RBQkxFICovXG4gICAgZ2V0SGlnaGVzdEluZGV4KCk6IG51bWJlcjtcbiAgICAvKiogU1RBQkxFICovXG4gICAgZm9yRWFjaDogKGY6IChjaGlsZDogTSkgPT4gdm9pZCkgPT4gdm9pZDtcblxuICAgIC8qKiAqKlVOU1RBQkxFKiosIGFsc28gaW50ZXJuYWwtdXNlIG9ubHksIGFsc28gVE9ETyBuZWVkIGEgd29ya2Fyb3VuZCBmb3IgdGhpcyBmb3Igc29ydGFibGUgY2hpbGRyZW4gKi9cbiAgICBhcnJheVNsaWNlOiAoKSA9PiBNW107XG59XG5cbmludGVyZmFjZSBJbnRlcm5hbENoaWxkSW5mbzxNIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxzdHJpbmcgfCBudW1iZXI+PiB7XG4gICAgYXJyOiBBcnJheTxNPjtcbiAgICByZWM6IFBhcnRpYWw8UmVjb3JkPE1bXCJpbmRleFwiXSwgTT4+O1xuICAgIGhpZ2hlc3RJbmRleDogbnVtYmVyO1xuICAgIGxvd2VzdEluZGV4OiBudW1iZXI7XG59XG5cbi8qKlxuICogQWxsb3dzIGEgcGFyZW50IGNvbXBvbmVudCB0byBhY2Nlc3MgaW5mb3JtYXRpb24gYWJvdXQgY2VydGFpblxuICogY2hpbGQgY29tcG9uZW50cyBvbmNlIHRoZXkgaGF2ZSByZW5kZXJlZC5cbiAqIFxuICogVGhpcyBob29rIGlzIGRlc2lnbmVkIHRvIGJlIGxpZ2h0d2VpZ2h0LCBpbiB0aGF0IHRoZSBwYXJlbnQga2VlcHMgbm8gc3RhdGVcbiAqIGFuZCBydW5zIG5vIGVmZmVjdHMuICBFYWNoIGNoaWxkICpkb2VzKiBydW4gYW4gZWZmZWN0LCBidXQgd2l0aCBubyBzdGF0ZVxuICogY2hhbmdlcyB1bmxlc3MgeW91IGV4cGxpY2l0bHkgcmVxdWVzdCB0aGVtLlxuICogXG4gKiBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU1hbmFnZWRDaGlsZHJlbjxNIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxzdHJpbmcgfCBudW1iZXI+PihwYXJlbnRQYXJhbWV0ZXJzOiBVc2VNYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzPE0+KTogVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZTxNPiB7XG4gICAgdHlwZSBJbmRleFR5cGUgPSBNW1wiaW5kZXhcIl07XG4gICAgdHlwZSBJbmZvID0gTTtcblxuICAgIGNvbnN0IHsgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyczogeyBvbkFmdGVyQ2hpbGRMYXlvdXRFZmZlY3QsIG9uQ2hpbGRyZW5Nb3VudENoYW5nZSwgb25DaGlsZENvdW50Q2hhbmdlIH0sIC4uLnJlc3QgfSA9IHBhcmVudFBhcmFtZXRlcnM7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3QocmVzdCk7XG5cbiAgICB1c2VFbnN1cmVTdGFiaWxpdHkoXCJ1c2VNYW5hZ2VkQ2hpbGRyZW5cIiwgb25BZnRlckNoaWxkTGF5b3V0RWZmZWN0LCBvbkNoaWxkcmVuTW91bnRDaGFuZ2UsIG9uQ2hpbGRDb3VudENoYW5nZSk7XG5cbiAgICAvL2NvbnN0IFtnZXRNb3VudENvdW50LCBzZXRNb3VudENvdW50XSA9IHVzZVBhc3NpdmVTdGF0ZShvbkNoaWxkQ291bnRDaGFuZ2UsIHJldHVyblplcm8sIHJ1bkltbWVkaWF0ZWx5KTtcblxuICAgIGNvbnN0IGdldEhpZ2hlc3RJbmRleCA9IHVzZUNhbGxiYWNrKCgpOiBudW1iZXIgPT4ge1xuICAgICAgICByZXR1cm4gbWFuYWdlZENoaWxkcmVuQXJyYXkuY3VycmVudC5oaWdoZXN0SW5kZXg7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gQWxsIHRoZSBpbmZvcm1hdGlvbiB3ZSBoYXZlIGFib3V0IG91ciBjaGlsZHJlbiBpcyBzdG9yZWQgaW4gdGhpcyAqKnN0YWJsZSoqIGFycmF5LlxuICAgIC8vIEFueSBtdXRhdGlvbnMgdG8gdGhpcyBhcnJheSAqKkRPIE5PVCoqIHRyaWdnZXIgYW55IHNvcnQgb2YgYSByZS1yZW5kZXIuXG4gICAgY29uc3QgbWFuYWdlZENoaWxkcmVuQXJyYXkgPSB1c2VSZWY8SW50ZXJuYWxDaGlsZEluZm88TT4+KHsgYXJyOiBbXSwgcmVjOiB7fSwgaGlnaGVzdEluZGV4OiAwLCBsb3dlc3RJbmRleDogMCB9KTtcblxuICAgIC8vIEZvciBpbmRpcmVjdCBhY2Nlc3MgdG8gZWFjaCBjaGlsZFxuICAgIC8vIENvbXBhcmUgZ2V0TWFuYWdlZENoaWxkSW5mb1xuICAgIC8vIFRPRE86IFRoZSBwcmltYXJ5IHVzZSBmb3IgdGhpcyBpcyBmbGFnZ2FibGUgY2xvc2VzdCBmaXRzXG4gICAgLy8gd2hpY2ggbmVlZHMgdG8gc2VhcmNoIGFsbCBjaGlsZHJlbiBmb3IgdGhhdCBjbG9zZXN0IGZpdC5cbiAgICAvLyBJdCB3b3VsZCBiZSBuaWNlIGlmIHRoZXJlIHdhcyBzb21ldGhpbmcgYmV0dGVyIGZvciB0aGF0LlxuICAgIGNvbnN0IGZvckVhY2hDaGlsZCA9IHVzZUNhbGxiYWNrKChmOiAoY2hpbGQ6IEluZm8pID0+IHZvaWQpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBtYW5hZ2VkQ2hpbGRyZW5BcnJheS5jdXJyZW50LmFycikge1xuICAgICAgICAgICAgaWYgKGNoaWxkKVxuICAgICAgICAgICAgICAgIGYoY2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgaW4gbWFuYWdlZENoaWxkcmVuQXJyYXkuY3VycmVudC5yZWMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkOiBJbmZvIHwgdW5kZWZpbmVkID0gbWFuYWdlZENoaWxkcmVuQXJyYXkuY3VycmVudC5yZWNbZmllbGQgYXMga2V5b2YgUmVjb3JkPEluZGV4VHlwZSwgSW5mbz5dO1xuICAgICAgICAgICAgaWYgKGNoaWxkKVxuICAgICAgICAgICAgICAgIGYoY2hpbGQpO1xuICAgICAgICB9XG4gICAgfSwgW10pXG5cbiAgICAvLyBSZXRyaWV2ZXMgdGhlIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgY2hpbGQgd2l0aCB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgLy8gYHVuZGVmaW5lZGAgaWYgbm90IGNoaWxkIHRoZXJlLCBvciBpdCdzIHVubW91bnRlZC5cbiAgICBjb25zdCBnZXRNYW5hZ2VkQ2hpbGRJbmZvID0gdXNlQ2FsbGJhY2s8TWFuYWdlZENoaWxkcmVuPE0+W1wiZ2V0QXRcIl0+KChpbmRleDogSW5kZXhUeXBlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgIHJldHVybiBtYW5hZ2VkQ2hpbGRyZW5BcnJheS5jdXJyZW50LmFycltpbmRleCBhcyBudW1iZXJdITtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIG1hbmFnZWRDaGlsZHJlbkFycmF5LmN1cnJlbnQucmVjW2luZGV4IGFzIEluZGV4VHlwZV0hO1xuICAgIH0sIFtdKVxuXG4gICAgLy8gdGw7ZHIgdGhpcyBpcyBhIHdheSB0byBoYXZlIHJ1biB1c2VMYXlvdXRFZmZlY3Qgb25jZSBhZnRlciBhbGwgTiBjaGlsZHJlblxuICAgIC8vIGhhdmUgbW91bnRlZCBhbmQgcnVuICp0aGVpciogdXNlTGF5b3V0RWZmZWN0LCBidXQgYWxzbyAqd2l0aG91dCogcmUtcmVuZGVyaW5nXG4gICAgLy8gb3Vyc2VsdmVzIGJlY2F1c2Ugb2YgaGF2aW5nIGEgYGNoaWxkQ291bnRgIHN0YXRlIG9yIGFueXRoaW5nIHNpbWlsYXIuXG4gICAgLy9cbiAgICAvLyBXaGVuIHRoZSBjaGlsZCBjb3VudCByZWYgdXBkYXRlcywgd2Ugd2FudCB0aGUgcGFyZW50IHRvIGFsc28gcnVuIGFuIGVmZmVjdFxuICAgIC8vIHRvIG1heWJlIGRvIHNvbWV0aGluZyB3aXRoIGFsbCB0aGVzZSBjaGlsZHJlbiB0aGF0IGp1c3QgbW91bnRlZC5cbiAgICAvLyBUaGUgZWFzaWVzdCB3YXkgd291bGQgYmUgdXNlRWZmZWN0KC4uLiwgW2NoaWxkQ291bnRdKSBidXRcbiAgICAvLyB0aGF0IHdvdWxkIHJlcXVpcmUgdXMgaGF2aW5nIGEgY2hpbGRDb3VudCBzdGF0ZSwgdGhlbiBjYWxsaW5nXG4gICAgLy8gc2V0Q2hpbGRDb3VudCBhbmQgcmUtcmVuZGVyaW5nIGV2ZXJ5IHRpbWUgY2hpbGRyZW4gbW91bnRcbiAgICAvLyAob25seSBvbmUgcmUtcmVuZGVyIGF0IGEgdGltZSB1bmxlc3MgY2hpbGRyZW4gYXJlIHN0YWdnZXJlZCwgYnV0IHN0aWxsKVxuICAgIC8vIFxuICAgIC8vIEFzIGFuIGFsdGVybmF0ZSBzb2x1dGlvbiwgYW55IHRpbWUgYSBjaGlsZCB1c2VzIFVMRSBvbiBtb3VudCwgaXQgcXVldWVzIGEgbWljcm90YXNrXG4gICAgLy8gdG8gZW11bGF0ZSBydW5uaW5nIFVMRSBvbiB0aGUgcGFyZW50LiBPbmx5IHRoZSBmaXJzdCBjaGlsZCB3aWxsIGFjdHVhbGx5IHF1ZXVlXG4gICAgLy8gdGhlIG1pY3JvdGFzayAoYnkgY2hlY2tpbmcgaGFzUmVtb3RlVUxFIGZpcnN0KSBzbyB0aGF0IHRoZSBcImVmZmVjdFwiIG9ubHlcbiAgICAvLyBydW5zIG9uY2UuIFdoZW4gaXQncyBkb25lLCBoYXNSZW1vdGVVTEUgaXMgcmVzZXQgc28gaXQgY2FuIHJ1biBhZ2FpbiBpZlxuICAgIC8vIG1vcmUgY2hpbGRyZW4gbW91bnQvdW5tb3VudC5cbiAgICBjb25zdCBoYXNSZW1vdGVVTEVDaGlsZE1vdW50ZWQgPSB1c2VSZWY8eyBtb3VudHM6IFNldDxJbmRleFR5cGU+LCB1bm1vdW50czogU2V0PEluZGV4VHlwZT4gfSB8IG51bGw+KG51bGwpO1xuICAgIGNvbnN0IHJlbW90ZVVMRUNoaWxkQ2hhbmdlZENhdXNlcnMgPSB1c2VSZWYobmV3IFNldDxJbmRleFR5cGU+KCkpO1xuICAgIGNvbnN0IHJlbW90ZVVMRUNoaWxkQ2hhbmdlZCA9IHVzZUNhbGxiYWNrKChpbmRleDogSW5kZXhUeXBlKSA9PiB7XG5cbiAgICAgICAgaWYgKHJlbW90ZVVMRUNoaWxkQ2hhbmdlZENhdXNlcnMuY3VycmVudC5zaXplID09IDApIHtcbiAgICAgICAgICAgIGlmIChvbkFmdGVyQ2hpbGRMYXlvdXRFZmZlY3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRlYm91bmNlUmVuZGVyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25BZnRlckNoaWxkTGF5b3V0RWZmZWN0Py4ocmVtb3RlVUxFQ2hpbGRDaGFuZ2VkQ2F1c2Vycy5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlVUxFQ2hpbGRDaGFuZ2VkQ2F1c2Vycy5jdXJyZW50LmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZW1vdGVVTEVDaGlsZENoYW5nZWRDYXVzZXJzLmN1cnJlbnQuYWRkKGluZGV4KTtcblxuICAgICAgICByZXR1cm4gKCkgPT4geyB9O1xuXG4gICAgfSwgWy8qIE11c3QgcmVtYWluIHN0YWJsZSAqL10pO1xuXG4gICAgY29uc3QgcmVtb3RlVUxFQ2hpbGRNb3VudGVkID0gdXNlQ2FsbGJhY2soKGluZGV4OiBJbmRleFR5cGUsIG1vdW50ZWQ6IGJvb2xlYW4pOiB2b2lkID0+IHtcbiAgICAgICAgaWYgKCFoYXNSZW1vdGVVTEVDaGlsZE1vdW50ZWQuY3VycmVudCkge1xuICAgICAgICAgICAgaGFzUmVtb3RlVUxFQ2hpbGRNb3VudGVkLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgbW91bnRzOiBuZXcgU2V0KCksXG4gICAgICAgICAgICAgICAgdW5tb3VudHM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAob25DaGlsZENvdW50Q2hhbmdlIHx8IG9uQ2hpbGRyZW5Nb3VudENoYW5nZSkge1xuICAgICAgICAgICAgICAgIGRlYm91bmNlUmVuZGVyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb25DaGlsZHJlbk1vdW50Q2hhbmdlPy4oaGFzUmVtb3RlVUxFQ2hpbGRNb3VudGVkLmN1cnJlbnQhLm1vdW50cywgaGFzUmVtb3RlVUxFQ2hpbGRNb3VudGVkLmN1cnJlbnQhLnVubW91bnRzKTtcbiAgICAgICAgICAgICAgICAgICAgb25DaGlsZENvdW50Q2hhbmdlPy4oZ2V0Q2hpbGRyZW4oKS5nZXRIaWdoZXN0SW5kZXgoKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICBoYXNSZW1vdGVVTEVDaGlsZE1vdW50ZWQuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW91bnRlZCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpbmRleCA9PSBcIm51bWJlclwiKVxuICAgICAgICAgICAgICAgIG1hbmFnZWRDaGlsZHJlbkFycmF5LmN1cnJlbnQuaGlnaGVzdEluZGV4ID0gTWF0aC5tYXgobWFuYWdlZENoaWxkcmVuQXJyYXkuY3VycmVudC5oaWdoZXN0SW5kZXgsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBtYW5hZ2VkQ2hpbGRyZW5BcnJheS5jdXJyZW50LmFycltpbmRleCBhcyBudW1iZXJdO1xuICAgICAgICAgICAgICAgIGxldCBzaGF2ZSA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHNoYXZlIDw9IG1hbmFnZWRDaGlsZHJlbkFycmF5LmN1cnJlbnQuYXJyLmxlbmd0aCAmJiBtYW5hZ2VkQ2hpbGRyZW5BcnJheS5jdXJyZW50LmFyclttYW5hZ2VkQ2hpbGRyZW5BcnJheS5jdXJyZW50LmFyci5sZW5ndGggLSAxIC0gc2hhdmVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgKytzaGF2ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWFuYWdlZENoaWxkcmVuQXJyYXkuY3VycmVudC5hcnIuc3BsaWNlKG1hbmFnZWRDaGlsZHJlbkFycmF5LmN1cnJlbnQuYXJyLmxlbmd0aCAtIHNoYXZlLCBzaGF2ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZGVsZXRlIG1hbmFnZWRDaGlsZHJlbkFycmF5LmN1cnJlbnQucmVjW2luZGV4IGFzIEluZGV4VHlwZV07XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5BcnJheS5jdXJyZW50LmhpZ2hlc3RJbmRleCA9IG1hbmFnZWRDaGlsZHJlbkFycmF5LmN1cnJlbnQuYXJyLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cblxuICAgICAgICBoYXNSZW1vdGVVTEVDaGlsZE1vdW50ZWQuY3VycmVudFttb3VudGVkID8gXCJtb3VudHNcIiA6IFwidW5tb3VudHNcIl0uYWRkKGluZGV4KTtcbiAgICB9LCBbLyogTXVzdCByZW1haW4gc3RhYmxlICovXSk7XG5cblxuICAgIGNvbnN0IG1hbmFnZWRDaGlsZHJlbiA9IHVzZVN0YWJsZU9iamVjdDxNYW5hZ2VkQ2hpbGRyZW48TT4+KHtcbiAgICAgICAgLi4ueyBfOiBtYW5hZ2VkQ2hpbGRyZW5BcnJheS5jdXJyZW50IH0gYXMge30sXG4gICAgICAgIGZvckVhY2g6IGZvckVhY2hDaGlsZCxcbiAgICAgICAgZ2V0QXQ6IGdldE1hbmFnZWRDaGlsZEluZm8sXG4gICAgICAgIGdldEhpZ2hlc3RJbmRleDogZ2V0SGlnaGVzdEluZGV4LFxuICAgICAgICBhcnJheVNsaWNlOiB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbWFuYWdlZENoaWxkcmVuQXJyYXkuY3VycmVudC5hcnIuc2xpY2UoKTtcbiAgICAgICAgfSwgW10pXG4gICAgfSk7XG5cbiAgICBjb25zdCBnZXRDaGlsZHJlbiA9IHVzZUNhbGxiYWNrKCgpID0+IG1hbmFnZWRDaGlsZHJlbiwgW10pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dDogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgIG1hbmFnZWRDaGlsZENvbnRleHQ6IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgbWFuYWdlZENoaWxkcmVuQXJyYXk6IG1hbmFnZWRDaGlsZHJlbkFycmF5LmN1cnJlbnQsXG4gICAgICAgICAgICAgICAgcmVtb3RlVUxFQ2hpbGRNb3VudGVkLFxuICAgICAgICAgICAgICAgIHJlbW90ZVVMRUNoaWxkQ2hhbmdlZCxcbiAgICAgICAgICAgICAgICBnZXRDaGlsZHJlblxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybjogeyBnZXRDaGlsZHJlbiB9XG4gICAgfVxufVxuXG5cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWFuYWdlZENoaWxkPE0gZXh0ZW5kcyBNYW5hZ2VkQ2hpbGRJbmZvPG51bWJlciB8IHN0cmluZz4+KGluZm86IFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8TT4sIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IE0pOiBVc2VNYW5hZ2VkQ2hpbGRSZXR1cm5UeXBlPE0+IHtcbiAgICB0eXBlIEluZGV4VHlwZSA9IE1bXCJpbmRleFwiXTtcblxuICAgIGNvbnN0IHsgY29udGV4dDogeyBtYW5hZ2VkQ2hpbGRDb250ZXh0OiB7IGdldENoaWxkcmVuLCBtYW5hZ2VkQ2hpbGRyZW5BcnJheSwgcmVtb3RlVUxFQ2hpbGRNb3VudGVkLCByZW1vdGVVTEVDaGlsZENoYW5nZWQgfSB9IH0gPSBpbmZvO1xuICAgIGNvbnN0IGluZGV4ID0gbWFuYWdlZENoaWxkUGFyYW1ldGVycy5pbmRleDtcbiAgICAvLyBBbnkgdGltZSBvdXIgY2hpbGQgcHJvcHMgY2hhbmdlLCBtYWtlIHRoYXQgaW5mb3JtYXRpb24gYXZhaWxhYmxlXG4gICAgLy8gdGhlIHBhcmVudCBpZiB0aGV5IG5lZWQgaXQuXG4gICAgLy8gVGhlIHBhcmVudCBjYW4gbGlzdGVuIGZvciBhbGwgdXBkYXRlcyBhbmQgb25seSBhY3Qgb24gdGhlIG9uZXMgaXQgY2FyZXMgYWJvdXQsXG4gICAgLy8gYW5kIG11bHRpcGxlIGNoaWxkcmVuIHVwZGF0aW5nIGluIHRoZSBzYW1lIHRpY2sgd2lsbCBhbGwgYmUgc2VudCBhdCBvbmNlLlxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIEluc2VydCB0aGlzIGluZm9ybWF0aW9uIGluLXBsYWNlXG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgbWFuYWdlZENoaWxkcmVuQXJyYXkuYXJyW2luZGV4IGFzIG51bWJlcl0gPSB7IC4uLm1hbmFnZWRDaGlsZFBhcmFtZXRlcnMgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1hbmFnZWRDaGlsZHJlbkFycmF5LnJlY1tpbmRleCBhcyBJbmRleFR5cGVdID0geyAuLi5tYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlbW90ZVVMRUNoaWxkQ2hhbmdlZChpbmRleCBhcyBJbmRleFR5cGUpO1xuICAgIH0sIFsuLi5PYmplY3QuZW50cmllcyhpbmZvKS5mbGF0KDkpXSk7ICAvLyA5IGlzIGluZmluaXR5LCByaWdodD8gU3VyZS4gVW5yZWxhdGVkOiBUT0RPLlxuXG4gICAgLy8gV2hlbiB3ZSBtb3VudCwgbm90aWZ5IHRoZSBwYXJlbnQgdmlhIHF1ZXVlTWljcm90YXNrXG4gICAgLy8gKGV2ZXJ5IGNoaWxkIGRvZXMgdGhpcywgc28gZXZlcnl0aGluZydzIGNvb3JkaW5hdGVkIHRvIG9ubHkgcXVldWUgYSBzaW5nbGUgbWljcm90YXNrIHBlciB0aWNrKVxuICAgIC8vIERvIHRoZSBzYW1lIG9uIHVubW91bnQuXG4gICAgLy8gTm90ZTogSXQncyBpbXBvcnRhbnQgdGhhdCB0aGlzIGNvbWVzIEFGVEVSIHJlbW90ZVVMRUNoaWxkQ2hhbmdlZFxuICAgIC8vIHNvIHRoYXQgcmVtb3RlVUxFQ2hpbGRNb3VudGVkIGhhcyBhY2Nlc3MgdG8gYWxsIHRoZSBpbmZvIG9uIG1vdW50LlxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlbW90ZVVMRUNoaWxkTW91bnRlZD8uKGluZGV4IGFzIEluZGV4VHlwZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiByZW1vdGVVTEVDaGlsZE1vdW50ZWQ/LihpbmRleCBhcyBJbmRleFR5cGUsIGZhbHNlKTtcbiAgICB9LCBbaW5kZXhdKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIG1hbmFnZWRDaGlsZFJldHVybjogeyBnZXRDaGlsZHJlbiB9XG4gICAgfVxufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ2hpbGRyZW5GbGFnUGFyYW1ldGVyczxNIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxhbnk+LCBSPiB7XG5cbiAgICAvKipcbiAgICAgKiBXaGljaCBjaGlsZCBpcyBjb25zaWRlcmVkIGFjdGl2ZSBvbiBtb3VudC5cbiAgICAgKiBcbiAgICAgKiBBZnRlciBtb3VudCwgY2hhbmdlIHRoZSBjdXJyZW50IGFjdGl2ZSBjaGlsZCB3aXRoIGBjaGFuZ2VJbmRleGAuXG4gICAgICovXG4gICAgaW5pdGlhbEluZGV4OiBudW1iZXIgfCBudWxsIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBwcm92aWRlZCwgaWYgdGhlIGdpdmVuIGFjdGl2YXRlZEluZGV4IGRvZXNuJ3QgbWFwIG9udG8gYW55XG4gICAgICogcHJvdmlkZWQgY2hpbGQgKGVpdGhlciBiZWNhdXNlIGl0J3MgdG9vIGxhcmdlIG9yIHRoYXQgY2hpbGRcbiAgICAgKiBkb2Vzbid0IGV4aXN0KSwgdGhlIGNsb3Nlc3QgY2hpbGQgdG8gdGhlIGdpdmVuIGFjdGl2YXRlZEluZGV4XG4gICAgICogd2lsbCBoYXZlIGl0cyBmbGFnIHNldCBpbnN0ZWFkLlxuICAgICAqIFxuICAgICAqIFVzZSB3aXRoIGNhdXRpb24sIGFuZCBjb25zaWRlciBob3cgYSBjaGlsZCBoYXZpbmcgaXRzIGZsYWcgc2V0XG4gICAgICogd2hpbGUgdGhlIHBhcmVudCB0aGlua3MgaXQgc2hvdWxkbid0IGJlIGNvdWxkIGNhdXNlIGlzc3Vlcy5cbiAgICAgKi9cbiAgICBjbG9zZXN0Rml0OiBib29sZWFuO1xuXG4gICAgZ2V0Q2hpbGRyZW4oKTogTWFuYWdlZENoaWxkcmVuPE0+O1xuXG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbmV2ZXIgYSBuZXcgaW5kZXggaXMgc2VsZWN0ZWQuXG4gICAgICogXG4gICAgICogTm90YWJseSwgdGhlIHZhbHVlIGNhbiBiZSBkaWZmZXJlbnQgdGhhbiB3aGF0IHdhcyBjYWxsZWQgd2l0aCBjaGFuZ2VJbmRleCgpXG4gICAgICogaWYgdGhlIHJlcXVlc3RlZCBpbmRleCBkaWRuJ3QgZXhpc3Qgb3Igd2FzIGhpZGRlbi5cbiAgICAgKi9cbiAgICBvbkluZGV4Q2hhbmdlOiBudWxsIHwgT25QYXNzaXZlU3RhdGVDaGFuZ2U8bnVtYmVyIHwgbnVsbCwgUj47XG5cbiAgICBzZXRBdChpbmRleDogTSwgdmFsdWU6IGJvb2xlYW4sIG5ld1NlbGVjdGVkSW5kZXg6IG51bWJlciB8IG51bGwsIHByZXZTZWxlY3RlZEluZGV4OiBudW1iZXIgfCBudWxsKTogdm9pZDtcbiAgICBnZXRBdChpbmRleDogTSk6IGJvb2xlYW47XG4gICAgaXNWYWxpZChpbmRleDogTSk6IGJvb2xlYW47XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBDaGlsZEZsYWdPcGVyYXRpb25zIHtcblxuICAgIC8qKlxuICAgICAqIE11c3QgcmV0dXJuIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2hpbGQgaXMgYWN0aXZlXG4gICAgICovXG4gICAgZ2V0OiAoKSA9PiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIFRoZSBjaGlsZCBtdXN0IHNldCBpdHNlbGYgYXMgYWN0aXZlL2luYWN0aXZlLCB3aGF0ZXZlciB0aGF0IGVudGFpbHMuXG4gICAgICogVGhpcyBjb3VsZCBiZSBhcyBzaW1wbGUgYXMgYSBzZXRTdGF0ZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBzZXQ6IChhY3RpdmU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gICAgLyoqXG4gICAgICogTXVzdCByZXR1cm4gdHJ1ZSBpZiB0aGlzIGNoaWxkIGlzIGEgdmFsaWQgY2FuZGlkYXRlIHRvIGJlIGZsYWdnZWQsIGFuZCBmYWxzZSBpZiBub3QuXG4gICAgICogTW9zdCBjaGlsZHJlbiBzaG91bGQgcmV0dXJuIHRydWUuIFJldHVybmluZyBmYWxzZSBpcyBvbmx5IHVzZWZ1bCB0byBtYXJrIGEgY2hpbGQgYXMgXCJpbnZhbGlkXCIgaW4gc29tZSB3YXkuXG4gICAgICogUmVtb3ZpbmcgYSBjaGlsZCBmcm9tIHRoZSBsaXN0IGRvZXMgZWZmZWN0aXZlbHkgdGhlIHNhbWUgdGhpbmcsIGJ1dCB0aGlzIGxldHMgeW91IGtlZXAgdGhlIGNoaWxkIGFyb3VuZC5cbiAgICAgKi9cbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW47XG59XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNoaWxkcmVuRmxhZ1JldHVyblR5cGU8Uj4ge1xuICAgIC8qKiBcbiAgICAgKiAqKlNUQUJMRSoqXG4gICAgICogXG4gICAgICogTWFudWFsbHkgY2hhbmdlcyB0aGUgY3VycmVudCBpbmRleCB0aGF0IGlzIChmb2N1c2VkL3NlbGVjdGVkL3RhYmJhYmxlL3doYXRldmVyKS5cbiAgICAgKiBcbiAgICAgKiBUaGUgcGFyZW50IGNhbiB1c2UgdGhpcyB0byBub3RpZnkgZWFjaCByZWxldmFudCBjaGlsZCBvZiB3aGF0IGl0IG11c3QgZG8gaW4gb3JkZXIgdG8gbWFrZSB0aGlzIGNoYW5nZSBoYXBwZW4uXG4gICAgICogXG4gICAgICogVGhlIHJldHVybmVkIHZhbHVlIHdpbGwgYmUgdGhlIG5ldyBpbmRleCB0aGF0IHdpbGwgYmUgdXNlZC4gSWYgYGNsb3Nlc3RGaXRgIGlzIGZhbHNlLCBpdCB3aWxsIGFsd2F5cyBiZSB0aGUgc2FtZSBhcyB3aGF0IHlvdSBwYXNzZWQgaW4uXG4gICAgICovXG4gICAgY2hhbmdlSW5kZXg6IFBhc3NpdmVTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbCwgUj47XG4gICAgLyoqIFxuICAgICAqICoqU1RBQkxFKipcbiAgICAgKiBcbiAgICAgKiBDYWxsIHRoaXMgd2hlbmV2ZXIgYSBjaGlsZCBtb3VudHMvdW5tb3VudHMsIG9yIHdoZW5ldmVyIGNhbGxpbmcgYSBjaGlsZCdzIGlzVmFsaWQoKSB3b3VsZCBjaGFuZ2VcbiAgICAgKiAgKi9cbiAgICByZWV2YWx1YXRlQ2xvc2VzdEZpdDogKCkgPT4gdm9pZDtcbiAgICAvKiogKipTVEFCTEUqKiAqL1xuICAgIGdldEN1cnJlbnRJbmRleDogKCkgPT4gbnVtYmVyIHwgbnVsbDtcbn1cblxuLyoqXG4gKiBBbiBleHRlbnNpb24gdG8gdXNlTWFuYWdlZENoaWxkcmVuIHRoYXQgaGFuZGxlcyB0aGUgZm9sbG93aW5nIGNvbW1vbiBjYXNlOlxuICogMS4gWW91IGhhdmUgYSBidW5jaCBvZiBjaGlsZHJlblxuICogMi4gQXQgYW55IGdpdmVuIHRpbWUsIG9ubHkgMSBvZiB0aGVtIGlzIFwic2VsZWN0ZWRcIiwgXCJhY3RpdmF0ZWRcIiwgXCJmb2N1c2FibGVcIiwgd2hhdGV2ZXIgKG9yIDAgb2YgdGhlbSwgdGhhdCdzIGNvb2wgdG9vLCBqdXN0IDAgb3IgMSB0aG91Z2gpLlxuICogMy4gVGhlIHBhcmVudCBoYXMgY29udHJvbCBvdmVyIHdobyBpcyBcInNlbGVjdGVkXCIgdmlhIGEgbnVtZXJpY2FsIGluZGV4LlxuICogXG4gKiBUaGlzIGhvb2sgYWxsb3dzIGZvciBtdWNoIGVhc2llciBjb250cm9sIG92ZXIgc2VsZWN0aW9uIG1hbmFnZW1lbnQuXG4gKiBcbiAqIE5vdGUgdGhhdCBiZWNhdXNlIHlvdSBtYXkgd2FudCB0byB1c2UgbXVsdGlwbGUgZmxhZ3Mgd2l0aCB0aGUgc2FtZSBjaGlsZHJlbiwgdGhpcyBob29rICpkb2VzIG5vdCogdXNlIGB1c2VNYW5hZ2VkQ2hpbGRyZW5gIVxuICogWW91IG5lZWQgdG8gcGFzcyBpdCB0aGUgZXhpc3RpbmcgY2hpbGRyZW4sIGFuZCB5b3UgbXVzdCBwYXNzIHlvdXIgaW52b2NhdGlvbiBvZiBgdXNlTWFuYWdlZENoaWxkcmVuYCB0aGUgcmV0dXJuZWQgYG9uQ2hpbGRyZW5Nb3VudENoYW5nZWAgaGFuZGxlciFcbiAqIFxuICogQWxzbyBiZWNhdXNlIG9mIHRoYXQsIHRoZSB0eXBlcyBvZiB0aGlzIGZ1bmN0aW9uIGFyZSByYXRoZXIgb2RkLiAgSXQncyBiZXR0ZXIgdG8gc3RhcnQgb2ZmIHVzaW5nIGEgaG9vayB0aGF0IGFscmVhZHkgdXNlcyBhIGZsYWcsIHN1Y2ggYXMgYHVzZVJvdmluZ1RhYkluZGV4YCwgYXMgYW4gZXhhbXBsZS5cbiAqIFxuICogXG4gKiBAcGFyYW0gcGFyYW0wIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDaGlsZHJlbkZsYWc8TSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPiwgUj4oeyBnZXRDaGlsZHJlbiwgaW5pdGlhbEluZGV4LCBjbG9zZXN0Rml0LCBvbkluZGV4Q2hhbmdlLCBnZXRBdCwgc2V0QXQsIGlzVmFsaWQsIH06IFVzZUNoaWxkcmVuRmxhZ1BhcmFtZXRlcnM8TSwgUj4pOiBVc2VDaGlsZHJlbkZsYWdSZXR1cm5UeXBlPFI+IHtcbiAgICB1c2VFbnN1cmVTdGFiaWxpdHkoXCJ1c2VDaGlsZHJlbkZsYWdcIiwgb25JbmRleENoYW5nZSwgZ2V0QXQsIHNldEF0LCBpc1ZhbGlkKTtcblxuICAgIC8vIFRPRE8gKG1heWJlPyk6IEV2ZW4gaWYgdGhlcmUgaXMgYW4gaW5pdGlhbCBpbmRleCwgaXQncyBub3Qgc2V0IHVudGlsIG1vdW50LiBJcyB0aGF0IGZpbmU/XG4gICAgY29uc3QgW2dldEN1cnJlbnRJbmRleCwgc2V0Q3VycmVudEluZGV4XSA9IHVzZVBhc3NpdmVTdGF0ZTxudWxsIHwgbnVtYmVyLCBSPihvbkluZGV4Q2hhbmdlKTtcblxuICAgIGNvbnN0IFtnZXRSZXF1ZXN0ZWRJbmRleCwgc2V0UmVxdWVzdGVkSW5kZXhdID0gdXNlUGFzc2l2ZVN0YXRlPG51bGwgfCBudW1iZXIsIFI+KG51bGwpO1xuXG4gICAgLy8gU2hhcmVkIGJldHdlZW4gb25DaGlsZHJlbk1vdW50Q2hhbmdlIGFuZCBjaGFuZ2VJbmRleCwgbm90IHB1YmxpY1xuICAgIC8vIE9ubHkgY2FsbGVkIHdoZW4gYGNsb3Nlc3RGaXRgIGlzIGZhbHNlLCBuYXR1cmFsbHkuXG4gICAgY29uc3QgZ2V0Q2xvc2VzdEZpdCA9IHVzZUNhbGxiYWNrKChyZXF1ZXN0ZWRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oKTtcbiAgICAgICAgbGV0IGNsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuICAgICAgICBsZXQgY2xvc2VzdEluZGV4OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG5cbiAgICAgICAgICAgIGlmIChjaGlsZCAhPSBudWxsICYmIGlzVmFsaWQoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RGlzdGFuY2UgPSBNYXRoLmFicyhjaGlsZC5pbmRleCAtIHJlcXVlc3RlZEluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAobmV3RGlzdGFuY2UgPCBjbG9zZXN0RGlzdGFuY2UgfHwgKG5ld0Rpc3RhbmNlID09IGNsb3Nlc3REaXN0YW5jZSAmJiBjaGlsZC5pbmRleCA8IHJlcXVlc3RlZEluZGV4KSkge1xuICAgICAgICAgICAgICAgICAgICBjbG9zZXN0RGlzdGFuY2UgPSBuZXdEaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VzdEluZGV4ID0gY2hpbGQuaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsb3Nlc3RJbmRleDtcbiAgICB9LCBbLyogTXVzdCByZW1haW4gc3RhYmxlISAqL10pO1xuXG4gICAgLy8gQW55IHRpbWUgYSBjaGlsZCBtb3VudHMvdW5tb3VudHMsIHdlIG5lZWQgdG8gZG91YmxlLWNoZWNrIHRvIHNlZSBpZiB0aGF0IGFmZmVjdHMgXG4gICAgLy8gdGhlIFwiY3VycmVudGx5IHNlbGVjdGVkXCIgKG9yIHdoYXRldmVyKSBpbmRleC4gIFRoZSB0d28gY2FzZXMgd2UncmUgbG9va2luZyBmb3I6XG4gICAgLy8gMS4gVGhlIGN1cnJlbnRseSBzZWxlY3RlZCBjaGlsZCB1bm1vdW50ZWRcbiAgICAvLyAyLiBBIGNoaWxkIG1vdW50ZWQsIGFuZCBpdCBtb3VudHMgd2l0aCB0aGUgaW5kZXggd2UncmUgbG9va2luZyBmb3JcbiAgICBjb25zdCByZWV2YWx1YXRlQ2xvc2VzdEZpdCA9IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBnZXRDaGlsZHJlbigpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ZWRJbmRleCA9IGdldFJlcXVlc3RlZEluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGdldEN1cnJlbnRJbmRleCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50Q2hpbGQgPSBjdXJyZW50SW5kZXggPT0gbnVsbCA/IG51bGwgOiBjaGlsZHJlbi5nZXRBdChjdXJyZW50SW5kZXgpO1xuXG4gICAgICAgIGlmIChyZXF1ZXN0ZWRJbmRleCAhPSBudWxsICYmIGNsb3Nlc3RGaXQgJiYgKHJlcXVlc3RlZEluZGV4ICE9IGN1cnJlbnRJbmRleCB8fCBjdXJyZW50Q2hpbGQgPT0gbnVsbCB8fCAhaXNWYWxpZChjdXJyZW50Q2hpbGQpKSkge1xuXG4gICAgICAgICAgICBjb25zdCBjbG9zZXN0Rml0SW5kZXggPSBnZXRDbG9zZXN0Rml0KHJlcXVlc3RlZEluZGV4KTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRJbmRleChjbG9zZXN0Rml0SW5kZXgsIHVuZGVmaW5lZCEpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRDaGlsZClcbiAgICAgICAgICAgICAgICBzZXRBdChjdXJyZW50Q2hpbGQsIGZhbHNlLCBjbG9zZXN0Rml0SW5kZXgsIGN1cnJlbnRJbmRleCk7XG4gICAgICAgICAgICBpZiAoY2xvc2VzdEZpdEluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbG9zZXN0Rml0Q2hpbGQgPSBjaGlsZHJlbi5nZXRBdChjbG9zZXN0Rml0SW5kZXgpITtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChjbG9zZXN0Rml0Q2hpbGQgIT0gbnVsbCwgXCJJbnRlcm5hbCBsb2dpYz8/P1wiKTtcbiAgICAgICAgICAgICAgICBzZXRBdChjbG9zZXN0Rml0Q2hpbGQsIHRydWUsIGNsb3Nlc3RGaXRJbmRleCwgY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfSk7XG5cblxuXG5cbiAgICBjb25zdCBjaGFuZ2VJbmRleCA9IHVzZUNhbGxiYWNrPFBhc3NpdmVTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbCwgUj4+KChhcmc6IFBhcmFtZXRlcnM8UGFzc2l2ZVN0YXRlVXBkYXRlcjxudW1iZXIgfCBudWxsLCBSPj5bMF0sIHJlYXNvbjogUGFyYW1ldGVyczxQYXNzaXZlU3RhdGVVcGRhdGVyPG51bWJlciB8IG51bGwsIFI+PlsxXSkgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IGdldENoaWxkcmVuKCk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RlZEluZGV4ID0gKGFyZyBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gYXJnKGdldFJlcXVlc3RlZEluZGV4KCkpIDogYXJnKSBhcyBNW1wiaW5kZXhcIl07XG4gICAgICAgIC8vaWYgKHJlcXVlc3RlZEluZGV4ID09IG51bGwgJiYgZ2V0Rml0TnVsbFRvWmVybygpKVxuICAgICAgICAvLyAgICByZXF1ZXN0ZWRJbmRleCA9IDA7XG5cbiAgICAgICAgc2V0UmVxdWVzdGVkSW5kZXgocmVxdWVzdGVkSW5kZXgsIHJlYXNvbiBhcyBSKTtcbiAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gZ2V0Q3VycmVudEluZGV4KCk7XG4gICAgICAgIGlmIChjdXJyZW50SW5kZXggPT0gcmVxdWVzdGVkSW5kZXgpXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdGVkSW5kZXg7XG5cbiAgICAgICAgbGV0IG5ld01hdGNoaW5nQ2hpbGQgPSAocmVxdWVzdGVkSW5kZXggPT0gbnVsbCA/IG51bGwgOiBjaGlsZHJlbi5nZXRBdChyZXF1ZXN0ZWRJbmRleCkpO1xuICAgICAgICBjb25zdCBvbGRNYXRjaGluZ0NoaWxkID0gKGN1cnJlbnRJbmRleCA9PSBudWxsID8gbnVsbCA6IGNoaWxkcmVuLmdldEF0KGN1cnJlbnRJbmRleCkpO1xuICAgICAgICBpZiAocmVxdWVzdGVkSW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gRWFzeSBjYXNlXG4gICAgICAgICAgICBzZXRDdXJyZW50SW5kZXgobnVsbCwgcmVhc29uIGFzIFIpO1xuICAgICAgICAgICAgaWYgKG9sZE1hdGNoaW5nQ2hpbGQpXG4gICAgICAgICAgICAgICAgc2V0QXQob2xkTWF0Y2hpbmdDaGlsZCwgZmFsc2UsIHJlcXVlc3RlZEluZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZElzVmFsaWQgPSAobmV3TWF0Y2hpbmdDaGlsZCAmJiBpc1ZhbGlkKG5ld01hdGNoaW5nQ2hpbGQpKTtcbiAgICAgICAgICAgIGlmIChjaGlsZElzVmFsaWQgfHwgIWNsb3Nlc3RGaXQpIHtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50SW5kZXgocmVxdWVzdGVkSW5kZXgsIHJlYXNvbiBhcyBSKTtcbiAgICAgICAgICAgICAgICBpZiAob2xkTWF0Y2hpbmdDaGlsZClcbiAgICAgICAgICAgICAgICAgICAgc2V0QXQob2xkTWF0Y2hpbmdDaGlsZCwgZmFsc2UsIHJlcXVlc3RlZEluZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdNYXRjaGluZ0NoaWxkKVxuICAgICAgICAgICAgICAgICAgICBzZXRBdChuZXdNYXRjaGluZ0NoaWxkLCB0cnVlLCByZXF1ZXN0ZWRJbmRleCwgY3VycmVudEluZGV4KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0ZWRJbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsb3Nlc3RGaXRJbmRleCA9IGdldENsb3Nlc3RGaXQocmVxdWVzdGVkSW5kZXgpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbmRleChjbG9zZXN0Rml0SW5kZXgsIHJlYXNvbiBhcyBSKTtcbiAgICAgICAgICAgICAgICBpZiAoY2xvc2VzdEZpdEluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TWF0Y2hpbmdDaGlsZCA9IGNoaWxkcmVuLmdldEF0KGNsb3Nlc3RGaXRJbmRleCkhO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydChuZXdNYXRjaGluZ0NoaWxkICE9IG51bGwsIFwiSW50ZXJuYWwgbG9naWM/Pz9cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRNYXRjaGluZ0NoaWxkKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXQob2xkTWF0Y2hpbmdDaGlsZCwgZmFsc2UsIGNsb3Nlc3RGaXRJbmRleCwgY3VycmVudEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0QXQobmV3TWF0Y2hpbmdDaGlsZCwgdHJ1ZSwgY2xvc2VzdEZpdEluZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xvc2VzdEZpdEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZE1hdGNoaW5nQ2hpbGQpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRBdChvbGRNYXRjaGluZ0NoaWxkLCBmYWxzZSwgY2xvc2VzdEZpdEluZGV4LCBjdXJyZW50SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG5cbiAgICAvLyBSdW4gb25jZSwgb24gbW91bnRcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjaGFuZ2VJbmRleChpbml0aWFsSW5kZXggPz8gbnVsbCwgdW5kZWZpbmVkKTtcbiAgICB9LCBbXSlcblxuICAgIHJldHVybiB7IGNoYW5nZUluZGV4LCByZWV2YWx1YXRlQ2xvc2VzdEZpdCwgZ2V0Q3VycmVudEluZGV4IH07XG59XG5cbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgdXNlR2xvYmFsSGFuZGxlciB9IGZyb20gXCIuLi9kb20taGVscGVycy91c2UtZXZlbnQtaGFuZGxlclwiO1xuaW1wb3J0IHsgdXNlUmVmRWxlbWVudCwgVXNlUmVmRWxlbWVudFJldHVyblR5cGUgfSBmcm9tIFwiLi4vZG9tLWhlbHBlcnMvdXNlLXJlZi1lbGVtZW50XCI7XG5pbXBvcnQgeyB1c2VBY3RpdmVFbGVtZW50LCBVc2VBY3RpdmVFbGVtZW50UGFyYW1ldGVycyB9IGZyb20gXCIuLi9vYnNlcnZlcnMvdXNlLWFjdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQgeyBhc3NlcnRFbXB0eU9iamVjdCB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgT25QYXNzaXZlU3RhdGVDaGFuZ2UgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXBhc3NpdmUtc3RhdGVcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtY2FsbGJhY2tcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUdldHRlciB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhYmxlLWdldHRlclwiO1xuXG4vKipcbiAqIEluIGdlbmVyYWwsIGVhY2ggc29mdCBkaXNtaXNzIGhvb2sgdGFrZXMgYW4gYG9wZW5gIGFuZCBhbiBgb25DbG9zZWAgcHJvcC5cbiAqIFxuICogYG9wZW5gIGluIGFsbCBjYXNlcyByZWZlcmVzIHRvIGJvdGggd2hldGhlciBvciBub3QgdGhlIGNvbnRyb2xsZWQgc3VyZmFjZSBpcyBjdXJyZW50bHkgYmVpbmcgc2hvd24sXG4gKiBidXQgYWxzbyB3aGV0aGVyIHRoYXQgcGFydGljdWxhciBtZXRob2Qgb2Ygc29mdCBkaXNtaXNzIGlzIGVuYWJsZWQgb3Igbm90LlxuICogXG4gKiBFLkcuIElmIGBlc2NhcGVgIGtleSBkaXNtaXNzaW5nIGlzIGRpc2FibGVkLCBqdXN0IGhhdmUgYG9wZW5gIGZhbHNlIGF0IGFsbCB0aW1lcyBmb3IgYGVzY2FwZURpc21pc3NQYXJhbWV0ZXJzYC5cbiAqL1xuY29uc3QgX2R1bW15ID0gMDtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VFc2NhcGVEaXNtaXNzUGFyYW1ldGVyczxQb3B1cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiB7XG4gICAgcmVmRWxlbWVudFBvcHVwUmV0dXJuOiBQaWNrPFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPFBvcHVwRWxlbWVudD5bXCJyZWZFbGVtZW50UmV0dXJuXCJdLCBcImdldEVsZW1lbnRcIj47XG4gICAgZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnM6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBkaXNtaXNzZWQuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBQcmVzdW1hYmx5IHlvdSdsbCBzZXQgc29tZSBzdGF0ZSB0aGF0IGNoYW5nZXMgYG9wZW5gIHRvIGZhbHNlIGR1cmluZyB0aGlzLCBvdGhlcndpc2UgaXQncyBub3QgYSBzb2Z0IGRpc21pc3MsIGJ1dCB5b3UgY2FuIGRvIHdoYXRldmVyIHlvdSB3YW50IEkgZ3Vlc3MuXG4gICAgICAgICAqL1xuICAgICAgICBvbkNsb3NlKHJlYXNvbjogXCJlc2NhcGVcIiB8IFwibG9zdC1mb2N1c1wiKTogdm9pZDtcblxuICAgICAgICAvKiogXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHN1cmZhY2UgY29udHJvbGxlZCBieSB0aGUgYEVzY2FwZWAga2V5IGlzIGN1cnJlbnRseSBvcGVuLiBcbiAgICAgICAgICogQ2FuIGFsc28gYmUgYGZhbHNlYCB0byBmb3JjZSB0aGUgYEVzY2FwZWAga2V5IHRvIGRvIG5vdGhpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuOiBib29sZWFuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXNjYXBlIGtleSBldmVudCBoYW5kbGVyIGlzIGF0dGFjaGVkIG9udG8gdGhlIHdpbmRvdywgc28gd2UgbmVlZCB0byBrbm93IHdoaWNoIHdpbmRvdy5cbiAgICAgICAgICovXG4gICAgICAgIGdldFdpbmRvdygpOiBXaW5kb3c7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGlzIGZyb20gY29udGV4dCBzb21ld2hlcmUsIGFuZCBpbmNyZW1lbnQgaXQgaW4gdGhhdCBjb250ZXh0LlxuICAgICAgICAgKiBcbiAgICAgICAgICogSWYgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIFByZWFjdCBhcmUgb24gdGhlIHBhZ2UsIHRyZWUgZGVwdGggaXMgdXNlZCBhcyBhIHRpZWJyZWFrZXJcbiAgICAgICAgICovXG4gICAgICAgIHBhcmVudERlcHRoOiBudW1iZXI7XG4gICAgfVxufVxuXG5cbmNvbnN0IE1hZ2ljV2luZG93S2V5ID0gKFwiX19wcmVhY3QtcHJvcC1oZWxwZXJzLWVzY2FwZS1rZXktZGlzbWlzc19fXCIpIGFzIGtleW9mIFdpbmRvdztcbmludGVyZmFjZSBXaW5kb3dFc2NhcGVLZXlJbmZvIHtcbiAgICBtaWNyb3Rhc2tRdWV1ZWQ6IGJvb2xlYW47XG4gICAgZWxlbWVudFF1ZXVlOiBNYXA8RWxlbWVudCwgeyBvbkNsb3NlOiAoKSA9PiB2b2lkLCBkZXB0aDogbnVtYmVyLCB0cmVlRGVwdGg6IG51bWJlciB9PjsvLyhFbGVtZW50IHwgbnVsbClbXTtcbn1cblxuZnVuY3Rpb24gZ2V0RWxlbWVudERlcHRoKGVsZW1lbnQ6IEVsZW1lbnQpIHtcbiAgICBsZXQgZGVwdGggPSAwO1xuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgICBkZXB0aCArPSAxO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVwdGg7XG59XG5cbi8qKlxuICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgYSBtb2RhbC1saWtlIHNvZnQtZGlzbWlzcyBpbnRlcmFjdGlvbi5cbiAqIFxuICogVGhhdCBpcywgYW55IGNsaWNrcyBvciB0YXBzIG91dHNpZGUgb2YgdGhlIGdpdmVuIGNvbXBvbmVudCwgXG4gKiBvciBhbnkgdGltZSB0aGUgRXNjYXBlIGtleSBpcyBwcmVzc2VkIHdpdGhpbiB0aGUgY29tcG9uZW50LFxuICogKHdpdGggdmFyaW91cyBicm93c2VyIG9kZGl0aWVzIHJlZ2FyZGluZyBjbGlja3Mgb24gYmxhbmsgb3IgaW5lcnQgYXJlYXMgaGFuZGxlZClcbiAqIHRoZSBjb21wb25lbnQgd2lsbCByZXF1ZXN0IHRvIGNsb3NlIGl0c2VsZi5cbiAqIFxuICogT2YgY291cnNlLCBpZiB5b3UgZG9uJ3QgZG8gYW55dGhpbmcgaW4gdGhlIGBvbkNsb3NlYCBmdW5jdGlvbixcbiAqIGl0IHdvbid0IGJlIGEgc29mdCBkaXNtaXNzIGFueW1vcmUuXG4gKiBcbiAqIEhhbmRsZXMgZXZlbnRzIGZvciBwcmVzc2luZyB0aGUgYEVzY2FwZWAga2V5IHRvIGNsb3NlIHRoZSBhbnkgY3VycmVudGx5IG9wZW4gZGlhbG9ncywgdG9vbHRpcHMsIG1lbnVzLCBwb3B1cHMsIGV0Yy5cbiAqIFxuICogT25lIHByZXNzIG9mIHRoZSBgRXNjYXBlYCBrZXkgaXMgZ3VhcmFudGVlZCB0byBvbmx5IGNhbGwgYG9uQ2xvc2VgIGZvciAqb25seSBvbmUqIGNvbXBvbmVudCwgYW5kIGl0IGlzIGNhbGxlZCBvbiB0aGUgY29tcG9uZW50IGRlZXBlc3QgaW4gdGhlIERPTSB0cmVlLCBkaWZmZXJlbnRpYXRlZCBieSBwYXNzaW5nIGNvbnRleHQgaW5mb3JtYXRpb24gYmV0d2VlbiBwYXJlbnQgYW5kIGNoaWxkLlxuICogXG4gKiBAcGFyYW0gcGFyYW0wIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VFc2NhcGVEaXNtaXNzPFBvcHVwRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHsgZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnM6IHsgb25DbG9zZSwgb3BlbiwgZ2V0V2luZG93OiB1bnN0YWJsZUdldFdpbmRvdywgcGFyZW50RGVwdGgsIC4uLnZvaWQxIH0sIHJlZkVsZW1lbnRQb3B1cFJldHVybjogeyBnZXRFbGVtZW50LCAuLi52b2lkMiB9IH06IFVzZUVzY2FwZURpc21pc3NQYXJhbWV0ZXJzPFBvcHVwRWxlbWVudD4pOiB2b2lkIHtcbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkMSk7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3Qodm9pZDIpO1xuXG4gICAgY29uc3Qgc3RhYmxlT25DbG9zZSA9IHVzZVN0YWJsZUNhbGxiYWNrKG9uQ2xvc2UpO1xuICAgIGNvbnN0IGdldFdpbmRvdyA9IHVzZVN0YWJsZUNhbGxiYWNrKHVuc3RhYmxlR2V0V2luZG93KTtcbiAgICBjb25zdCBnZXREZXB0aCA9IHVzZVN0YWJsZUdldHRlcihwYXJlbnREZXB0aCArIDEpO1xuXG5cbiAgICAvLyBXaGVuIHRoaXMgY29tcG9uZW50IG9wZW5zLCBhZGQgYW4gZXZlbnQgbGlzdGVuZXIgdGhhdCBmaW5kcyB0aGUgZGVlcGVzdCBvcGVuIHNvZnQgZGlzbWlzcyBlbGVtZW50IHRvIGFjdHVhbGx5IGRpc21pc3MuXG4gICAgLy8gT25seSBvcGVuZWQgY29tcG9uZW50cyB3aWxsIGFkZCBldmVudCBoYW5kbGVycywgYW5kIHdpbGwgcmVtb3ZlIHRoZW0gb25jZSBjbG9zZWQuXG4gICAgLy8gVGhlIHJlYXNvbiB0aGlzIGlzIHNvIGNvbXBsaWNhdGVkIGlzIGJlY2F1c2U6XG4gICAgLy8gMS4gV2UgbXVzdCBvbmx5IGNsb3NlIG9uZSBzb2Z0IGRpc21pc3MgY29tcG9uZW50IGF0IGEgdGltZS4gIElmIHRoZXJlJ3MgYSB0b29sdGlwIGluIGEgcG9wdXAsIHRoZSB0b29sdGlwIG11c3QgYmUgZGlzbWlzc2VkLlxuICAgIC8vIDIuIGBrZXlkb3duYCBldmVudHMgZG9uJ3QganVzdCB3b3JrIG9uIGFyYml0cmFyeSBlbGVtZW50cywgZm9yIG91ciBwdXJwb3NlcyB0aGV5IG11c3QgYmUgZnJvbSB0aGUgYHdpbmRvd2AuIFNvIHdlIGNhbid0IHJlbHkgb24gbm9ybWFsIGNhcHR1cmluZyBvciBidWJibGluZyBiZWhhdmlvciBvbiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgLy8gMy4gRXZlbnQgaGFuZGxlcnMgYWRkZWQgdG8gdGhlIGB3aW5kb3dgIHZpYSBgYWRkRXZlbnRIYW5kbGVyYCBhcmUgY2FsbGVkIGluIHRoZSBvcmRlciBvZiByZWdpc3RyYXRpb24sIHdoaWNoIGlzIGNvbXBsZXRlbHkgYXQgb2RkcyB3aXRoICMxLlxuICAgIC8vXG4gICAgLy8gU28gYWxsIHNvZnQgZGlzbWlzcyBjb21wb25lbnRzIGxpc3RlbiBmb3IgYSBrZXlkb3duIG9mIEVzY2FwZSwgXG4gICAgLy8gdGhlbiB0aGUgZmlyc3Qgb25lIHRvIGRvIHNvIHdpbGwgd2FpdCBmb3IgYSBtaWNyb3Rhc2ssIFxuICAgIC8vIHRoZW4gZmluZCB0aGUgZGVlcGVzdCBlbGVtZW50IGluIHRoZSBkb2N1bWVudCB0cmVlIHRvIGRpc21pc3Mgb2YgYWxsIG9mIHRob3NlIGNvbXBvbmVudHMgY3VycmVudGx5IG9wZW4uXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gICAgICAgICh3aW5kb3cgYXMgYW55KVtNYWdpY1dpbmRvd0tleV0gPz89ICh7IG1pY3JvdGFza1F1ZXVlZDogZmFsc2UsIGVsZW1lbnRRdWV1ZTogbmV3IE1hcCgpIH0gYXMgV2luZG93RXNjYXBlS2V5SW5mbylcbiAgICAgICAgY29uc3QgaW5mbyA9IHdpbmRvd1tNYWdpY1dpbmRvd0tleV0gYXMgV2luZG93RXNjYXBlS2V5SW5mbztcblxuICAgICAgICBpZiAob3Blbikge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZ2V0RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICYmIGluZm8uZWxlbWVudFF1ZXVlKVxuICAgICAgICAgICAgICAgICAgICBpbmZvLmVsZW1lbnRRdWV1ZS5kZWxldGUoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuXG5cblxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVyKGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PSBcIkVzY2FwZVwiKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBrbm93IHdoaWNoIG9mIHRoZSBjdXJyZW50bHkgYWN0aXZlIHNvZnQgZGlzbWlzc2VzIHdpbGwgYWN0dWFsbHkgZG8gc29tZXRoaW5nLFxuICAgICAgICAgICAgICAgIC8vIGJ1dCBPTkUgb2YgdGhlbSBkZWZpbml0ZWx5IHdpbGwsXG4gICAgICAgICAgICAgICAgLy8gc28gd2Ugc3RvcCBwcm9wYWdhdGlvbiB0byBjaGlsZCBub2RlcywgYnV0IG5vdCB0byBldmVyeW9uZSBvbiB0aGUgd2luZG93IChzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24pLlxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cblxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgd2hhdCBhdCBsZWFzdCBvbmUgb2YgdGhlIGVsZW1lbnRzIHdpbGwgY2FsbFxuICAgICAgICAgICAgICAgIGNvbnN0IG9uQ2xvc2UyID0gKCkgPT4geyBzdGFibGVPbkNsb3NlKFwiZXNjYXBlXCIpOyB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJlZURlcHRoID0gZ2V0RWxlbWVudERlcHRoKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkZXB0aCA9IGdldERlcHRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGluZm8uZWxlbWVudFF1ZXVlLnNldChlbGVtZW50LCB7IGRlcHRoLCBvbkNsb3NlOiBvbkNsb3NlMiwgdHJlZURlcHRoIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgaWYgKCFpbmZvLm1pY3JvdGFza1F1ZXVlZCkge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLm1pY3JvdGFza1F1ZXVlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGVsZW1lbnRRdWV1ZSB9ID0gaW5mbztcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubWljcm90YXNrUXVldWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmVsZW1lbnRRdWV1ZSA9IG5ldyBNYXAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlZXBlc3REZXB0aCA9IC1JbmZpbml0eTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkZWVwZXN0VHJlZURlcHRoID0gLUluZmluaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IF9kZWVwZXN0RWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRlZXBlc3RPbkNsb3NlOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZWxlbWVudCwgeyBkZXB0aCwgb25DbG9zZSwgdHJlZURlcHRoIH1dIG9mIGVsZW1lbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aWVCcm9rZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwdGggPT0gZGVlcGVzdERlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmVlRGVwdGggPiBkZWVwZXN0VHJlZURlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWVCcm9rZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcHRoID4gZGVlcGVzdERlcHRoIHx8IChkZXB0aCA9PSBkZWVwZXN0RGVwdGggJiYgdGllQnJva2VuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWVwZXN0RGVwdGggPSBkZXB0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RlZXBlc3RFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVlcGVzdFRyZWVEZXB0aCA9IHRyZWVEZXB0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVlcGVzdE9uQ2xvc2UgPSBvbkNsb3NlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZXBlc3RPbkNsb3NlPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW29wZW5dKTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VMb3N0Rm9jdXNEaXNtaXNzUGFyYW1ldGVyczxTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB8IG51bGwsIFBvcHVwRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBsb3N0Rm9jdXNEaXNtaXNzOiB7IG9wZW46IGJvb2xlYW4sIG9uQ2xvc2UoKTogdm9pZDsgfTtcbiAgICByZWZFbGVtZW50U291cmNlUmV0dXJuOiBudWxsIHwgUGljazxVc2VSZWZFbGVtZW50UmV0dXJuVHlwZTxOb25OdWxsYWJsZTxTb3VyY2VFbGVtZW50Pj5bXCJyZWZFbGVtZW50UmV0dXJuXCJdLCBcImdldEVsZW1lbnRcIj47XG4gICAgcmVmRWxlbWVudFBvcHVwUmV0dXJuOiBQaWNrPFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPFBvcHVwRWxlbWVudD5bXCJyZWZFbGVtZW50UmV0dXJuXCJdLCBcImdldEVsZW1lbnRcIj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTG9zdEZvY3VzRGlzbWlzc1JldHVyblR5cGU8X1NvdXJjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHwgbnVsbCwgX1BvcHVwRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBhY3RpdmVFbGVtZW50UGFyYW1ldGVyczogUGljazxVc2VBY3RpdmVFbGVtZW50UGFyYW1ldGVyc1tcImFjdGl2ZUVsZW1lbnRQYXJhbWV0ZXJzXCJdLCBcIm9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2VcIj5cbn1cblxuLyoqXG4gKiBIYW5kbGVzIGV2ZW50cyBmb3IgZGlzbWlzcyBldmVudHMgZm9yIHRoaW5ncyBsaWtlIHBvcHVwIG1lbnVzIG9yIHRyYW5zaWVudCBkaWFsb2dzIC0tIHRoaW5ncyB3aGVyZSBtb3ZpbmcgZm9jdXMgdG8gYSBuZXcgYXJlYSBvZiB0aGUgcGFnZSBtZWFucyB0aGlzIGNvbXBvbmVudCBzaG91bGQgY2xvc2UgaXRzZWxmLlxuICogXG4gKiBAcGFyYW0gcGFyYW0wIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VMb3N0Rm9jdXNEaXNtaXNzPFNvdXJjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHwgbnVsbCwgUG9wdXBFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oeyByZWZFbGVtZW50UG9wdXBSZXR1cm46IHsgZ2V0RWxlbWVudDogZ2V0UG9wdXBFbGVtZW50LCAuLi52b2lkMyB9LCByZWZFbGVtZW50U291cmNlUmV0dXJuLCBsb3N0Rm9jdXNEaXNtaXNzOiB7IG9wZW4sIG9uQ2xvc2UgfSwgLi4udm9pZDEgfTogVXNlTG9zdEZvY3VzRGlzbWlzc1BhcmFtZXRlcnM8U291cmNlRWxlbWVudCwgUG9wdXBFbGVtZW50Pik6IFVzZUxvc3RGb2N1c0Rpc21pc3NSZXR1cm5UeXBlPFNvdXJjZUVsZW1lbnQsIFBvcHVwRWxlbWVudD4ge1xuXG4gICAgY29uc3QgeyBnZXRFbGVtZW50OiBnZXRTb3VyY2VFbGVtZW50LCAuLi52b2lkMiB9ID0gKHJlZkVsZW1lbnRTb3VyY2VSZXR1cm4gPz8ge30pO1xuXG4gICAgYXNzZXJ0RW1wdHlPYmplY3Qodm9pZDEpO1xuICAgIGFzc2VydEVtcHR5T2JqZWN0KHZvaWQyKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkMyk7XG5cblxuICAgIGNvbnN0IHN0YWJsZU9uQ2xvc2UgPSB1c2VTdGFibGVDYWxsYmFjayhvbkNsb3NlKTtcbiAgICBjb25zdCBnZXRPcGVuID0gdXNlU3RhYmxlR2V0dGVyKG9wZW4pO1xuICAgIGNvbnN0IG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2UgPSB1c2VDYWxsYmFjazxPblBhc3NpdmVTdGF0ZUNoYW5nZTxFbGVtZW50IHwgbnVsbCwgaC5KU1guVGFyZ2V0ZWRGb2N1c0V2ZW50PGFueT4+PigobmV3RWxlbWVudCwgX3ByZXZFbGVtZW50LCBfZSkgPT4ge1xuICAgICAgICBjb25zdCBvcGVuID0gZ2V0T3BlbigpO1xuICAgICAgICBjb25zdCBzb3VyY2VFbGVtZW50ID0gZ2V0U291cmNlRWxlbWVudD8uKCk7XG4gICAgICAgIGNvbnN0IHBvcHVwRWxlbWVudCA9IGdldFBvcHVwRWxlbWVudCgpO1xuICAgICAgICBpZiAoIShzb3VyY2VFbGVtZW50Py5jb250YWlucyhuZXdFbGVtZW50KSB8fCBwb3B1cEVsZW1lbnQ/LmNvbnRhaW5zKG5ld0VsZW1lbnQpKSkge1xuICAgICAgICAgICAgaWYgKG9wZW4pXG4gICAgICAgICAgICAgICAgc3RhYmxlT25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgfSwgW2dldFNvdXJjZUVsZW1lbnRdKTtcblxuICAgIHJldHVybiB7IGFjdGl2ZUVsZW1lbnRQYXJhbWV0ZXJzOiB7IG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2UgfSB9XG59XG5cbi8qXG5leHBvcnQgaW50ZXJmYWNlIFVzZVNvZnREaXNtaXNzUGFyYW1ldGVyczxTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUG9wdXBFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VMb3N0Rm9jdXNEaXNtaXNzUGFyYW1ldGVyczxTb3VyY2VFbGVtZW50LCBQb3B1cEVsZW1lbnQ+LCBVc2VFc2NhcGVEaXNtaXNzUGFyYW1ldGVyczxTb3VyY2VFbGVtZW50PiB7IH1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNvZnREaXNtaXNzPFNvdXJjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBQb3B1cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IGVzY2FwZURpc21pc3NQYXJhbWV0ZXJzLCBsb3N0Rm9jdXNEaXNtaXNzLCByZWZFbGVtZW50UG9wdXBSZXR1cm4sIHJlZkVsZW1lbnRSZXR1cm4sIHJlZkVsZW1lbnRTb3VyY2VSZXR1cm4sIC4uLl92b2lkMyB9OiBVc2VTb2Z0RGlzbWlzc1BhcmFtZXRlcnM8U291cmNlRWxlbWVudCwgUG9wdXBFbGVtZW50Pikge1xuICAgIGNvbnN0IHsgYWN0aXZlRWxlbWVudFBhcmFtZXRlcnMsIC4uLnZvaWQyIH0gPSB1c2VMb3N0Rm9jdXNEaXNtaXNzKHsgbG9zdEZvY3VzRGlzbWlzcywgcmVmRWxlbWVudFBvcHVwUmV0dXJuLCByZWZFbGVtZW50U291cmNlUmV0dXJuIH0pO1xuICAgIGNvbnN0IF92b2lkMTogdm9pZCA9IHVzZUVzY2FwZURpc21pc3MoeyBlc2NhcGVEaXNtaXNzUGFyYW1ldGVycywgcmVmRWxlbWVudFJldHVybiB9KTtcbn0qL1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUJhY2tkcm9wRGlzbWlzc1BhcmFtZXRlcnM8UG9wdXBFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIGJhY2tkcm9wRGlzbWlzc1BhcmFtZXRlcnM6IHsgb3BlbjogYm9vbGVhbiwgb25DbG9zZSgpOiB2b2lkOyB9O1xuICAgIHJlZkVsZW1lbnRQb3B1cFJldHVybjogUGljazxVc2VSZWZFbGVtZW50UmV0dXJuVHlwZTxQb3B1cEVsZW1lbnQ+W1wicmVmRWxlbWVudFJldHVyblwiXSwgXCJnZXRFbGVtZW50XCI+O1xufVxuXG4vKipcbiAqIEhhbmRsZXMgZXZlbnRzIGZvciBhIGJhY2tkcm9wIG9uIGEgbW9kYWwgZGlhbG9nIC0tIHRoZSBraW5kIHdoZXJlIHRoZSB1c2VyIGV4cGVjdHMgdGhlIG1vZGFsIHRvIGNsb3NlIHdoZW4gdGhleSBjbGljay90YXAgb3V0c2lkZSBvZiBpdC5cbiAqIFxuICogQHBhcmFtIHBhcmFtMCBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUJhY2tkcm9wRGlzbWlzczxQb3B1cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IGJhY2tkcm9wRGlzbWlzc1BhcmFtZXRlcnM6IHsgb3Blbiwgb25DbG9zZTogb25DbG9zZVVuc3RhYmxlLCAuLi52b2lkMSB9LCByZWZFbGVtZW50UG9wdXBSZXR1cm46IHsgZ2V0RWxlbWVudCwgLi4udm9pZDMgfSwgLi4udm9pZDIgfTogVXNlQmFja2Ryb3BEaXNtaXNzUGFyYW1ldGVyczxQb3B1cEVsZW1lbnQ+KTogdm9pZCB7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3Qodm9pZDEpO1xuICAgIGFzc2VydEVtcHR5T2JqZWN0KHZvaWQyKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkMyk7XG4gICAgY29uc3QgZ2V0T3BlbiA9IHVzZVN0YWJsZUdldHRlcihvcGVuKTtcbiAgICBjb25zdCBvbkNsb3NlID0gdXNlU3RhYmxlQ2FsbGJhY2sob25DbG9zZVVuc3RhYmxlKTtcblxuICAgIGNvbnN0IG9uQmFja2Ryb3BDbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIG9uQmFja2Ryb3BDbGljayhlOiBoLkpTWC5UYXJnZXRlZEV2ZW50PGFueT4pIHtcbiAgICAgICAgaWYgKCFnZXRPcGVuKCkpXG4gICAgICAgICAgICByZXR1cm47XG5cblxuICAgICAgICAvLyBCYXNpY2FsbHksIFwid2FzIHRoaXMgZXZlbnQgZmlyZWQgb24gYW4gZWxlbWVudCBub3QgY29udGFpbmVkIGJ5IHRoZSBtb2RhbD9cIlxuICAgICAgICAvLyBUaGVyZSBhcmUgbXVsdGlwbGUgd2F5cyBicm93c2VyIHJlYWN0IHRvIFwiaW50ZXJhY3Rpbmcgd2l0aCBub3RoaW5nXCIsIGFuZCB0aGlzIHRha2VzIGNhcmUgb2YgZXZlcnl0aGluZy5cblxuICAgICAgICBsZXQgZWxlbWVudCA9IGdldEVsZW1lbnQoKTtcblxuICAgICAgICBsZXQgZm91bmRJbnNpZGVDbGljayA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChlLnRhcmdldCAmJiBlbGVtZW50ICYmIGVsZW1lbnQuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgICAgIGZvdW5kSW5zaWRlQ2xpY2sgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFmb3VuZEluc2lkZUNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG5cbiAgICB1c2VHbG9iYWxIYW5kbGVyKHdpbmRvdywgXCJtb3VzZWRvd25cIiwgb3BlbiA/IG9uQmFja2Ryb3BDbGljayA6IG51bGwsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB1c2VHbG9iYWxIYW5kbGVyKHdpbmRvdywgXCJ0b3VjaHN0YXJ0XCIsIG9wZW4gPyBvbkJhY2tkcm9wQ2xpY2sgOiBudWxsLCB7IGNhcHR1cmU6IHRydWUgfSk7XG59XG5cbmV4cG9ydCB0eXBlIERpc21pc3NMaXN0ZW5lclR5cGVzID0gXCJiYWNrZHJvcFwiIHwgXCJsb3N0LWZvY3VzXCIgfCBcImVzY2FwZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZURpc21pc3NQYXJhbWV0ZXJzPExpc3RlbmVycyBleHRlbmRzIERpc21pc3NMaXN0ZW5lclR5cGVzPiB7XG4gICAgZGlzbWlzc1BhcmFtZXRlcnM6IHtcblxuICAgICAgICAvKiogXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9uZW50IGlzIGN1cnJlbnRseSBvcGVuL3Nob3dpbmcgaXRzZWxmLCBhcyBvcHBvc2VkIHRvIGhpZGRlbi9jbG9zZWQuXG4gICAgICAgICAqIEV2ZW50IGhhbmRsZXJzIGFyZSBvbmx5IGF0dGFjaGVkIHdoZW4gdGhpcyBpcyBgdHJ1ZWAuXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuOiBib29sZWFuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsZWQgYW55IHRpbWUgdGhlIHVzZXIgaGFzIHJlcXVlc3RlZCB0aGUgY29tcG9uZW50IGJlIGRpc21pc3NlZCBmb3IgdGhlIGdpdmVuIHJlYXNvbi5cbiAgICAgICAgICogXG4gICAgICAgICAqIFlvdSBjYW4gY2hvb3NlIHRvIGlnbm9yZSBhIHJlYXNvbiBpZiB5b3Ugd2FudCwgYnV0IGl0J3MgYmV0dGVyIHRvIHNldCBgY2xvc2VPbiR7cmVhc29ufWAgdG8gYGZhbHNlYCBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgb25DbG9zZTogKHJlYXNvbjogTGlzdGVuZXJzKSA9PiB2b2lkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBgdHJ1ZWAsIHRoZW4gdGhpcyBjb21wb25lbnQgY2xvc2VzIHdoZW4gYSBjbGljayBpcyBkZXRlY3RlZCBhbnl3aGVyZSBub3Qgd2l0aGluIHRoZSBjb21wb25lbnRcbiAgICAgICAgICogKGRldGVybWluZWQgYnkgYmVpbmcgaW4gYSBkaWZmZXJlbnQgYnJhbmNoIG9mIHRoZSBET00pXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZU9uQmFja2Ryb3A6IExpc3RlbmVycyBleHRlbmRzIFwiYmFja2Ryb3BcIiA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgYHRydWVgLCB0aGVuIHRoaXMgY29tcG9uZW50IGNsb3NlcyB3aGVuIHRoZSBFc2NhcGUga2V5IGlzIHByZXNzZWQsIGFuZCBubyBkZWVwZXIgY29tcG9uZW50XG4gICAgICAgICAqIGlzIGxpc3RlbmluZyBmb3IgdGhhdCBzYW1lIEVzY2FwZSBwcmVzcyAoaS5lLiBvbmx5IG9uZSBFc2NhcGUgZGlzbWlzcyBoYXBwZW5zIHBlciBrZXkgcHJlc3MpXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZU9uRXNjYXBlOiBMaXN0ZW5lcnMgZXh0ZW5kcyBcImVzY2FwZVwiID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBgdHJ1ZWAsIHRoZW4gdGhpcyBjb21wb25lbnQgY2xvc2VzIHdoZW5ldmVyIGZvY3VzIGlzIHNlbnQgdG8gYW4gZWxlbWVudCBub3QgY29udGFpbmVkIGJ5IHRoaXMgb25lXG4gICAgICAgICAqICh1c2luZyB0aGUgc2FtZSBydWxlcyBhcyBgY2xvc2VPbkJhY2tkcm9wYClcbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlT25Mb3N0Rm9jdXM6IExpc3RlbmVycyBleHRlbmRzIFwibG9zdC1mb2N1c1wiID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cbiAgICBlc2NhcGVEaXNtaXNzUGFyYW1ldGVyczogUGljazxVc2VFc2NhcGVEaXNtaXNzUGFyYW1ldGVyczxhbnk+W1wiZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnNcIl0sIFwiZ2V0V2luZG93XCIgfCBcInBhcmVudERlcHRoXCI+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZURpc21pc3NSZXR1cm5UeXBlPFNvdXJjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHwgbnVsbCwgUG9wdXBFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIC8qKlxuICAgICAqIElmIHRoaXMgZGlzbWlzc2FibGUgY29tcG9uZW50IGhhcyBhIHNwZWNpZmljIGVsZW1lbnQgdGhhdCBjYXVzZWQgaXQgdG8gYXBwZWFyIChhIGJ1dHRvbiwgZm9yIGV4YW1wbGUpLFxuICAgICAqIHByb3ZpZGUgaXQgd2l0aCB0aGVzZSBwcm9wcy5cbiAgICAgKiBcbiAgICAgKiAqIFJFUVVJUkVEIGZvciB0aGluZ3MgbGlrZSBtZW51cyB0aGF0IHBvcCB1cCBmcm9tIGEgYnV0dG9uIGFuZCBmb3Igd2hvbSBsb3NpbmcgZm9jdXMgY291bnRzIGFzIHJlcXVlc3RpbmcgY2xvc3VyZS4gXG4gICAgICogKiBPUFRJT05BTCBmb3IgdGhpbmdzIGxpa2UgZGlhbG9ncyB0aGF0IGNhbiBhcHBlYXIgb3V0IG9mIG5vd2hlcmUgYW5kIGZvciB3aG9tIGxvc2luZyBmb2N1cyBpcyBhY3RpdmVseSBpbXBvc3NpYmxlIChkdWUgdG8gZm9jdXMgdHJhcHMpLlxuICAgICAqL1xuICAgIHJlZkVsZW1lbnRTb3VyY2VSZXR1cm46IFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPE5vbk51bGxhYmxlPFNvdXJjZUVsZW1lbnQ+PltcInJlZkVsZW1lbnRSZXR1cm5cIl07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG9uZSdzIGFsd2F5cyByZXF1aXJlZCB0aG91Z2hcbiAgICAgKi9cbiAgICByZWZFbGVtZW50UG9wdXBSZXR1cm46IFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPFBvcHVwRWxlbWVudD5bXCJyZWZFbGVtZW50UmV0dXJuXCJdO1xuXG59XG5cbi8qKlxuICogQ29tYmluZXMgYWxsIHRoZSBtZXRob2RzIG9mIGRpc21pc3NpbmcgYSBtb2RhbC1pc2ggb3IgcG9wdXAtaXNoIGNvbXBvbmVudCBpbnRvIG9uZSBjb21iaW5lZCBob29rLlxuICogXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gdGhlIFwiY29tcGxldGVcIiBzZXJpZXMgb2YgbGlzdC9ncmlkIG5hdmlnYXRpb24sIGluIHRoYXQgaXQncyB0aGUgXCJvdXRlcm1vc3RcIiBob29rIG9mIGl0cyB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlRGlzbWlzczxMaXN0ZW5lcnMgZXh0ZW5kcyBEaXNtaXNzTGlzdGVuZXJUeXBlcywgU291cmNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQgfCBudWxsLCBQb3B1cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IGRpc21pc3NQYXJhbWV0ZXJzOiB7IG9wZW46IGdsb2JhbE9wZW4sIG9uQ2xvc2U6IGdsb2JhbE9uQ2xvc2UsIGNsb3NlT25CYWNrZHJvcCwgY2xvc2VPbkVzY2FwZSwgY2xvc2VPbkxvc3RGb2N1cyB9LCBlc2NhcGVEaXNtaXNzUGFyYW1ldGVyczogeyBnZXRXaW5kb3csIHBhcmVudERlcHRoIH0gfTogVXNlRGlzbWlzc1BhcmFtZXRlcnM8TGlzdGVuZXJzPik6IFVzZURpc21pc3NSZXR1cm5UeXBlPFNvdXJjZUVsZW1lbnQsIFBvcHVwRWxlbWVudD4ge1xuXG4gICAgY29uc3QgeyByZWZFbGVtZW50UmV0dXJuOiByZWZFbGVtZW50U291cmNlUmV0dXJuIH0gPSB1c2VSZWZFbGVtZW50PE5vbk51bGxhYmxlPFNvdXJjZUVsZW1lbnQ+Pih7IHJlZkVsZW1lbnRQYXJhbWV0ZXJzOiB7fSB9KTtcbiAgICBjb25zdCB7IHJlZkVsZW1lbnRSZXR1cm46IHJlZkVsZW1lbnRQb3B1cFJldHVybiB9ID0gdXNlUmVmRWxlbWVudDxQb3B1cEVsZW1lbnQ+KHsgcmVmRWxlbWVudFBhcmFtZXRlcnM6IHt9IH0pO1xuXG4gICAgY29uc3Qgb25DbG9zZUJhY2tkcm9wID0gdXNlQ2FsbGJhY2soKCkgPT4geyByZXR1cm4gZ2xvYmFsT25DbG9zZT8uKFwiYmFja2Ryb3BcIiBhcyBMaXN0ZW5lcnMpOyB9LCBbZ2xvYmFsT25DbG9zZV0pO1xuICAgIGNvbnN0IG9uQ2xvc2VFc2NhcGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7IHJldHVybiBnbG9iYWxPbkNsb3NlPy4oXCJlc2NhcGVcIiBhcyBMaXN0ZW5lcnMpOyB9LCBbZ2xvYmFsT25DbG9zZV0pO1xuICAgIGNvbnN0IG9uQ2xvc2VGb2N1cyA9IHVzZUNhbGxiYWNrKCgpID0+IHsgcmV0dXJuIGdsb2JhbE9uQ2xvc2U/LihcImxvc3QtZm9jdXNcIiBhcyBMaXN0ZW5lcnMpOyB9LCBbZ2xvYmFsT25DbG9zZV0pO1xuICAgIGNvbnN0IF92MTogdm9pZCA9IHVzZUJhY2tkcm9wRGlzbWlzczxQb3B1cEVsZW1lbnQ+KHsgYmFja2Ryb3BEaXNtaXNzUGFyYW1ldGVyczogeyBvbkNsb3NlOiBvbkNsb3NlQmFja2Ryb3AsIG9wZW46IChjbG9zZU9uQmFja2Ryb3AgJiYgZ2xvYmFsT3BlbikgfSwgcmVmRWxlbWVudFBvcHVwUmV0dXJuIH0pO1xuICAgIGNvbnN0IF92Mjogdm9pZCA9IHVzZUVzY2FwZURpc21pc3M8UG9wdXBFbGVtZW50Pih7IGVzY2FwZURpc21pc3NQYXJhbWV0ZXJzOiB7IGdldFdpbmRvdywgb25DbG9zZTogb25DbG9zZUVzY2FwZSwgb3BlbjogKGNsb3NlT25Fc2NhcGUgJiYgZ2xvYmFsT3BlbiksIHBhcmVudERlcHRoIH0sIHJlZkVsZW1lbnRQb3B1cFJldHVybiB9KTtcbiAgICBjb25zdCB7IGFjdGl2ZUVsZW1lbnRQYXJhbWV0ZXJzIH0gPSB1c2VMb3N0Rm9jdXNEaXNtaXNzPFNvdXJjZUVsZW1lbnQsIFBvcHVwRWxlbWVudD4oeyBsb3N0Rm9jdXNEaXNtaXNzOiB7IG9uQ2xvc2U6IG9uQ2xvc2VGb2N1cywgb3BlbjogKGNsb3NlT25Mb3N0Rm9jdXMgJiYgZ2xvYmFsT3BlbikgfSwgcmVmRWxlbWVudFBvcHVwUmV0dXJuLCByZWZFbGVtZW50U291cmNlUmV0dXJuIH0pO1xuXG4gICAgY29uc3QgZ2V0RG9jdW1lbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHJldHVybiBnZXRXaW5kb3coKS5kb2N1bWVudDtcbiAgICB9LCBbZ2V0V2luZG93XSlcblxuICAgIGNvbnN0IHtcbiAgICAgICAgYWN0aXZlRWxlbWVudFJldHVybjoge1xuICAgICAgICAgICAgZ2V0QWN0aXZlRWxlbWVudDogX2dldEFjdGl2ZUVsZW1lbnQsXG4gICAgICAgICAgICBnZXRMYXN0QWN0aXZlRWxlbWVudDogX2dldExhc3RBY3RpdmVFbGVtZW50LFxuICAgICAgICAgICAgZ2V0V2luZG93Rm9jdXNlZDogX2dldFdpbmRvd0ZvY3VzZWRcbiAgICAgICAgfVxuICAgIH0gPSB1c2VBY3RpdmVFbGVtZW50KHsgYWN0aXZlRWxlbWVudFBhcmFtZXRlcnM6IHsgLi4uYWN0aXZlRWxlbWVudFBhcmFtZXRlcnMsIGdldFdpbmRvdywgZ2V0RG9jdW1lbnQgfSB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHJlZkVsZW1lbnRTb3VyY2VSZXR1cm4sXG4gICAgICAgIHJlZkVsZW1lbnRQb3B1cFJldHVyblxuICAgIH1cbn1cbiIsImNvbnN0IGNhbmRpZGF0ZVNlbGVjdG9ycyA9IFtcbiAgJ2lucHV0JyxcbiAgJ3NlbGVjdCcsXG4gICd0ZXh0YXJlYScsXG4gICdhW2hyZWZdJyxcbiAgJ2J1dHRvbicsXG4gICdbdGFiaW5kZXhdOm5vdChzbG90KScsXG4gICdhdWRpb1tjb250cm9sc10nLFxuICAndmlkZW9bY29udHJvbHNdJyxcbiAgJ1tjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIl0pJyxcbiAgJ2RldGFpbHM+c3VtbWFyeTpmaXJzdC1vZi10eXBlJyxcbiAgJ2RldGFpbHMnLFxuXTtcbmNvbnN0IGNhbmRpZGF0ZVNlbGVjdG9yID0gLyogI19fUFVSRV9fICovIGNhbmRpZGF0ZVNlbGVjdG9ycy5qb2luKCcsJyk7XG5cbmNvbnN0IE5vRWxlbWVudCA9IHR5cGVvZiBFbGVtZW50ID09PSAndW5kZWZpbmVkJztcblxuY29uc3QgbWF0Y2hlcyA9IE5vRWxlbWVudFxuICA/IGZ1bmN0aW9uICgpIHt9XG4gIDogRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyB8fFxuICAgIEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuXG5jb25zdCBnZXRSb290Tm9kZSA9XG4gICFOb0VsZW1lbnQgJiYgRWxlbWVudC5wcm90b3R5cGUuZ2V0Um9vdE5vZGVcbiAgICA/IChlbGVtZW50KSA9PiBlbGVtZW50LmdldFJvb3ROb2RlKClcbiAgICA6IChlbGVtZW50KSA9PiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbCBjb250YWluZXIgdG8gY2hlY2sgaW5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZUNvbnRhaW5lciBhZGQgY29udGFpbmVyIHRvIGNoZWNrXG4gKiBAcGFyYW0geyhub2RlOiBFbGVtZW50KSA9PiBib29sZWFufSBmaWx0ZXIgZmlsdGVyIGNhbmRpZGF0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50W119XG4gKi9cbmNvbnN0IGdldENhbmRpZGF0ZXMgPSBmdW5jdGlvbiAoZWwsIGluY2x1ZGVDb250YWluZXIsIGZpbHRlcikge1xuICBsZXQgY2FuZGlkYXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShcbiAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKGNhbmRpZGF0ZVNlbGVjdG9yKVxuICApO1xuICBpZiAoaW5jbHVkZUNvbnRhaW5lciAmJiBtYXRjaGVzLmNhbGwoZWwsIGNhbmRpZGF0ZVNlbGVjdG9yKSkge1xuICAgIGNhbmRpZGF0ZXMudW5zaGlmdChlbCk7XG4gIH1cbiAgY2FuZGlkYXRlcyA9IGNhbmRpZGF0ZXMuZmlsdGVyKGZpbHRlcik7XG4gIHJldHVybiBjYW5kaWRhdGVzO1xufTtcblxuLyoqXG4gKiBAY2FsbGJhY2sgR2V0U2hhZG93Um9vdFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IHRvIGNoZWNrIGZvciBzaGFkb3cgcm9vdFxuICogQHJldHVybnMge1NoYWRvd1Jvb3R8Ym9vbGVhbn0gU2hhZG93Um9vdCBpZiBhdmFpbGFibGUgb3IgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIGEgc2hhZG93Um9vdCBpcyBhdHRhY2hlZCBidXQgbm90IGF2YWlsYWJsZS5cbiAqL1xuXG4vKipcbiAqIEBjYWxsYmFjayBTaGFkb3dSb290RmlsdGVyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IHNoYWRvd0hvc3ROb2RlIHRoZSBlbGVtZW50IHdoaWNoIGNvbnRhaW5zIHNoYWRvdyBjb250ZW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBhIHNoYWRvdyByb290IGNvdWxkIHBvdGVudGlhbGx5IGNvbnRhaW4gdmFsaWQgY2FuZGlkYXRlcy5cbiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IENhbmRpZGF0ZVNjb3BlXG4gKiBAcHJvcGVydHkge0VsZW1lbnR9IHNjb3BlUGFyZW50IGNvbnRhaW5zIGlubmVyIGNhbmRpZGF0ZXNcbiAqIEBwcm9wZXJ0eSB7RWxlbWVudFtdfSBjYW5kaWRhdGVzIGxpc3Qgb2YgY2FuZGlkYXRlcyBmb3VuZCBpbiB0aGUgc2NvcGUgcGFyZW50XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBJdGVyYXRpdmVPcHRpb25zXG4gKiBAcHJvcGVydHkge0dldFNoYWRvd1Jvb3R8Ym9vbGVhbn0gZ2V0U2hhZG93Um9vdCB0cnVlIGlmIHNoYWRvdyBzdXBwb3J0IGlzIGVuYWJsZWQ7IGZhbHN5IGlmIG5vdDtcbiAqICBpZiBhIGZ1bmN0aW9uLCBpbXBsaWVzIHNoYWRvdyBzdXBwb3J0IGlzIGVuYWJsZWQgYW5kIGVpdGhlciByZXR1cm5zIHRoZSBzaGFkb3cgcm9vdCBvZiBhbiBlbGVtZW50XG4gKiAgb3IgYSBib29sZWFuIHN0YXRpbmcgaWYgaXQgaGFzIGFuIHVuZGlzY2xvc2VkIHNoYWRvdyByb290XG4gKiBAcHJvcGVydHkgeyhub2RlOiBFbGVtZW50KSA9PiBib29sZWFufSBmaWx0ZXIgZmlsdGVyIGNhbmRpZGF0ZXNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZmxhdHRlbiBpZiB0cnVlIHRoZW4gcmVzdWx0IHdpbGwgZmxhdHRlbiBhbnkgQ2FuZGlkYXRlU2NvcGUgaW50byB0aGUgcmV0dXJuZWQgbGlzdFxuICogQHByb3BlcnR5IHtTaGFkb3dSb290RmlsdGVyfSBzaGFkb3dSb290RmlsdGVyIGZpbHRlciBzaGFkb3cgcm9vdHM7XG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnRbXX0gZWxlbWVudHMgbGlzdCBvZiBlbGVtZW50IGNvbnRhaW5lcnMgdG8gbWF0Y2ggY2FuZGlkYXRlcyBmcm9tXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1ZGVDb250YWluZXIgYWRkIGNvbnRhaW5lciBsaXN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0l0ZXJhdGl2ZU9wdGlvbnN9IG9wdGlvbnNcbiAqIEByZXR1cm5zIHtBcnJheS48RWxlbWVudHxDYW5kaWRhdGVTY29wZT59XG4gKi9cbmNvbnN0IGdldENhbmRpZGF0ZXNJdGVyYXRpdmVseSA9IGZ1bmN0aW9uIChcbiAgZWxlbWVudHMsXG4gIGluY2x1ZGVDb250YWluZXIsXG4gIG9wdGlvbnNcbikge1xuICBjb25zdCBjYW5kaWRhdGVzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzVG9DaGVjayA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuICB3aGlsZSAoZWxlbWVudHNUb0NoZWNrLmxlbmd0aCkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBlbGVtZW50c1RvQ2hlY2suc2hpZnQoKTtcbiAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAnU0xPVCcpIHtcbiAgICAgIC8vIGFkZCBzaGFkb3cgZG9tIHNsb3Qgc2NvcGUgKHNsb3QgaXRzZWxmIGNhbm5vdCBiZSBmb2N1c2FibGUpXG4gICAgICBjb25zdCBhc3NpZ25lZCA9IGVsZW1lbnQuYXNzaWduZWRFbGVtZW50cygpO1xuICAgICAgY29uc3QgY29udGVudCA9IGFzc2lnbmVkLmxlbmd0aCA/IGFzc2lnbmVkIDogZWxlbWVudC5jaGlsZHJlbjtcbiAgICAgIGNvbnN0IG5lc3RlZENhbmRpZGF0ZXMgPSBnZXRDYW5kaWRhdGVzSXRlcmF0aXZlbHkoY29udGVudCwgdHJ1ZSwgb3B0aW9ucyk7XG4gICAgICBpZiAob3B0aW9ucy5mbGF0dGVuKSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaCguLi5uZXN0ZWRDYW5kaWRhdGVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaCh7XG4gICAgICAgICAgc2NvcGVQYXJlbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgY2FuZGlkYXRlczogbmVzdGVkQ2FuZGlkYXRlcyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGNoZWNrIGNhbmRpZGF0ZSBlbGVtZW50XG4gICAgICBjb25zdCB2YWxpZENhbmRpZGF0ZSA9IG1hdGNoZXMuY2FsbChlbGVtZW50LCBjYW5kaWRhdGVTZWxlY3Rvcik7XG4gICAgICBpZiAoXG4gICAgICAgIHZhbGlkQ2FuZGlkYXRlICYmXG4gICAgICAgIG9wdGlvbnMuZmlsdGVyKGVsZW1lbnQpICYmXG4gICAgICAgIChpbmNsdWRlQ29udGFpbmVyIHx8ICFlbGVtZW50cy5pbmNsdWRlcyhlbGVtZW50KSlcbiAgICAgICkge1xuICAgICAgICBjYW5kaWRhdGVzLnB1c2goZWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGl0ZXJhdGUgb3ZlciBzaGFkb3cgY29udGVudCBpZiBwb3NzaWJsZVxuICAgICAgY29uc3Qgc2hhZG93Um9vdCA9XG4gICAgICAgIGVsZW1lbnQuc2hhZG93Um9vdCB8fFxuICAgICAgICAvLyBjaGVjayBmb3IgYW4gdW5kaXNjbG9zZWQgc2hhZG93XG4gICAgICAgICh0eXBlb2Ygb3B0aW9ucy5nZXRTaGFkb3dSb290ID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgb3B0aW9ucy5nZXRTaGFkb3dSb290KGVsZW1lbnQpKTtcblxuICAgICAgY29uc3QgdmFsaWRTaGFkb3dSb290ID1cbiAgICAgICAgIW9wdGlvbnMuc2hhZG93Um9vdEZpbHRlciB8fCBvcHRpb25zLnNoYWRvd1Jvb3RGaWx0ZXIoZWxlbWVudCk7XG5cbiAgICAgIGlmIChzaGFkb3dSb290ICYmIHZhbGlkU2hhZG93Um9vdCkge1xuICAgICAgICAvLyBhZGQgc2hhZG93IGRvbSBzY29wZSBJSUYgYSBzaGFkb3cgcm9vdCBub2RlIHdhcyBnaXZlbjsgb3RoZXJ3aXNlLCBhbiB1bmRpc2Nsb3NlZFxuICAgICAgICAvLyAgc2hhZG93IGV4aXN0cywgc28gbG9vayBhdCBsaWdodCBkb20gY2hpbGRyZW4gYXMgZmFsbGJhY2sgQlVUIGNyZWF0ZSBhIHNjb3BlIGZvciBhbnlcbiAgICAgICAgLy8gIGNoaWxkIGNhbmRpZGF0ZXMgZm91bmQgYmVjYXVzZSB0aGV5J3JlIGxpa2VseSBzbG90dGVkIGVsZW1lbnRzIChlbGVtZW50cyB0aGF0IGFyZVxuICAgICAgICAvLyAgY2hpbGRyZW4gb2YgdGhlIHdlYiBjb21wb25lbnQgZWxlbWVudCAod2hpY2ggaGFzIHRoZSBzaGFkb3cpLCBpbiB0aGUgbGlnaHQgZG9tLCBidXRcbiAgICAgICAgLy8gIHNsb3R0ZWQgc29tZXdoZXJlIF9pbnNpZGVfIHRoZSB1bmRpc2Nsb3NlZCBzaGFkb3cpIC0tIHRoZSBzY29wZSBpcyBjcmVhdGVkIGJlbG93LFxuICAgICAgICAvLyAgX2FmdGVyXyB3ZSByZXR1cm4gZnJvbSB0aGlzIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIGNvbnN0IG5lc3RlZENhbmRpZGF0ZXMgPSBnZXRDYW5kaWRhdGVzSXRlcmF0aXZlbHkoXG4gICAgICAgICAgc2hhZG93Um9vdCA9PT0gdHJ1ZSA/IGVsZW1lbnQuY2hpbGRyZW4gOiBzaGFkb3dSb290LmNoaWxkcmVuLFxuICAgICAgICAgIHRydWUsXG4gICAgICAgICAgb3B0aW9uc1xuICAgICAgICApO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmZsYXR0ZW4pIHtcbiAgICAgICAgICBjYW5kaWRhdGVzLnB1c2goLi4ubmVzdGVkQ2FuZGlkYXRlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHtcbiAgICAgICAgICAgIHNjb3BlUGFyZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgY2FuZGlkYXRlczogbmVzdGVkQ2FuZGlkYXRlcyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gdGhlcmUncyBub3Qgc2hhZG93IHNvIGp1c3QgZGlnIGludG8gdGhlIGVsZW1lbnQncyAobGlnaHQgZG9tKSBjaGlsZHJlblxuICAgICAgICAvLyAgX193aXRob3V0X18gZ2l2aW5nIHRoZSBlbGVtZW50IHNwZWNpYWwgc2NvcGUgdHJlYXRtZW50XG4gICAgICAgIGVsZW1lbnRzVG9DaGVjay51bnNoaWZ0KC4uLmVsZW1lbnQuY2hpbGRyZW4pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2FuZGlkYXRlcztcbn07XG5cbmNvbnN0IGdldFRhYmluZGV4ID0gZnVuY3Rpb24gKG5vZGUsIGlzU2NvcGUpIHtcbiAgaWYgKG5vZGUudGFiSW5kZXggPCAwKSB7XG4gICAgLy8gaW4gQ2hyb21lLCA8ZGV0YWlscy8+LCA8YXVkaW8gY29udHJvbHMvPiBhbmQgPHZpZGVvIGNvbnRyb2xzLz4gZWxlbWVudHMgZ2V0IGEgZGVmYXVsdFxuICAgIC8vIGB0YWJJbmRleGAgb2YgLTEgd2hlbiB0aGUgJ3RhYmluZGV4JyBhdHRyaWJ1dGUgaXNuJ3Qgc3BlY2lmaWVkIGluIHRoZSBET00sXG4gICAgLy8geWV0IHRoZXkgYXJlIHN0aWxsIHBhcnQgb2YgdGhlIHJlZ3VsYXIgdGFiIG9yZGVyOyBpbiBGRiwgdGhleSBnZXQgYSBkZWZhdWx0XG4gICAgLy8gYHRhYkluZGV4YCBvZiAwOyBzaW5jZSBDaHJvbWUgc3RpbGwgcHV0cyB0aG9zZSBlbGVtZW50cyBpbiB0aGUgcmVndWxhciB0YWJcbiAgICAvLyBvcmRlciwgY29uc2lkZXIgdGhlaXIgdGFiIGluZGV4IHRvIGJlIDAuXG4gICAgLy8gQWxzbyBicm93c2VycyBkbyBub3QgcmV0dXJuIGB0YWJJbmRleGAgY29ycmVjdGx5IGZvciBjb250ZW50RWRpdGFibGUgbm9kZXM7XG4gICAgLy8gc28gaWYgdGhleSBkb24ndCBoYXZlIGEgdGFiaW5kZXggYXR0cmlidXRlIHNwZWNpZmljYWxseSBzZXQsIGFzc3VtZSBpdCdzIDAuXG4gICAgLy9cbiAgICAvLyBpc1Njb3BlIGlzIHBvc2l0aXZlIGZvciBjdXN0b20gZWxlbWVudCB3aXRoIHNoYWRvdyByb290IG9yIHNsb3QgdGhhdCBieSBkZWZhdWx0XG4gICAgLy8gaGF2ZSB0YWJJbmRleCAtMSwgYnV0IG5lZWQgdG8gYmUgc29ydGVkIGJ5IGRvY3VtZW50IG9yZGVyIGluIG9yZGVyIGZvciB0aGVpclxuICAgIC8vIGNvbnRlbnQgdG8gYmUgaW5zZXJ0ZWQgaW4gdGhlIGNvcnJlY3QgcG9zaXRpb25cbiAgICBpZiAoXG4gICAgICAoaXNTY29wZSB8fFxuICAgICAgICAvXihBVURJT3xWSURFT3xERVRBSUxTKSQvLnRlc3Qobm9kZS50YWdOYW1lKSB8fFxuICAgICAgICBub2RlLmlzQ29udGVudEVkaXRhYmxlKSAmJlxuICAgICAgaXNOYU4ocGFyc2VJbnQobm9kZS5nZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JyksIDEwKSlcbiAgICApIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBub2RlLnRhYkluZGV4O1xufTtcblxuY29uc3Qgc29ydE9yZGVyZWRUYWJiYWJsZXMgPSBmdW5jdGlvbiAoYSwgYikge1xuICByZXR1cm4gYS50YWJJbmRleCA9PT0gYi50YWJJbmRleFxuICAgID8gYS5kb2N1bWVudE9yZGVyIC0gYi5kb2N1bWVudE9yZGVyXG4gICAgOiBhLnRhYkluZGV4IC0gYi50YWJJbmRleDtcbn07XG5cbmNvbnN0IGlzSW5wdXQgPSBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gbm9kZS50YWdOYW1lID09PSAnSU5QVVQnO1xufTtcblxuY29uc3QgaXNIaWRkZW5JbnB1dCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIHJldHVybiBpc0lucHV0KG5vZGUpICYmIG5vZGUudHlwZSA9PT0gJ2hpZGRlbic7XG59O1xuXG5jb25zdCBpc0RldGFpbHNXaXRoU3VtbWFyeSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIGNvbnN0IHIgPVxuICAgIG5vZGUudGFnTmFtZSA9PT0gJ0RFVEFJTFMnICYmXG4gICAgQXJyYXkucHJvdG90eXBlLnNsaWNlXG4gICAgICAuYXBwbHkobm9kZS5jaGlsZHJlbilcbiAgICAgIC5zb21lKChjaGlsZCkgPT4gY2hpbGQudGFnTmFtZSA9PT0gJ1NVTU1BUlknKTtcbiAgcmV0dXJuIHI7XG59O1xuXG5jb25zdCBnZXRDaGVja2VkUmFkaW8gPSBmdW5jdGlvbiAobm9kZXMsIGZvcm0pIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChub2Rlc1tpXS5jaGVja2VkICYmIG5vZGVzW2ldLmZvcm0gPT09IGZvcm0pIHtcbiAgICAgIHJldHVybiBub2Rlc1tpXTtcbiAgICB9XG4gIH1cbn07XG5cbmNvbnN0IGlzVGFiYmFibGVSYWRpbyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gIGlmICghbm9kZS5uYW1lKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3QgcmFkaW9TY29wZSA9IG5vZGUuZm9ybSB8fCBnZXRSb290Tm9kZShub2RlKTtcbiAgY29uc3QgcXVlcnlSYWRpb3MgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiByYWRpb1Njb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnaW5wdXRbdHlwZT1cInJhZGlvXCJdW25hbWU9XCInICsgbmFtZSArICdcIl0nXG4gICAgKTtcbiAgfTtcblxuICBsZXQgcmFkaW9TZXQ7XG4gIGlmIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cuQ1NTICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cuQ1NTLmVzY2FwZSA9PT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByYWRpb1NldCA9IHF1ZXJ5UmFkaW9zKHdpbmRvdy5DU1MuZXNjYXBlKG5vZGUubmFtZSkpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICByYWRpb1NldCA9IHF1ZXJ5UmFkaW9zKG5vZGUubmFtZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ0xvb2tzIGxpa2UgeW91IGhhdmUgYSByYWRpbyBidXR0b24gd2l0aCBhIG5hbWUgYXR0cmlidXRlIGNvbnRhaW5pbmcgaW52YWxpZCBDU1Mgc2VsZWN0b3IgY2hhcmFjdGVycyBhbmQgbmVlZCB0aGUgQ1NTLmVzY2FwZSBwb2x5ZmlsbDogJXMnLFxuICAgICAgICBlcnIubWVzc2FnZVxuICAgICAgKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBjaGVja2VkID0gZ2V0Q2hlY2tlZFJhZGlvKHJhZGlvU2V0LCBub2RlLmZvcm0pO1xuICByZXR1cm4gIWNoZWNrZWQgfHwgY2hlY2tlZCA9PT0gbm9kZTtcbn07XG5cbmNvbnN0IGlzUmFkaW8gPSBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gaXNJbnB1dChub2RlKSAmJiBub2RlLnR5cGUgPT09ICdyYWRpbyc7XG59O1xuXG5jb25zdCBpc05vblRhYmJhYmxlUmFkaW8gPSBmdW5jdGlvbiAobm9kZSkge1xuICByZXR1cm4gaXNSYWRpbyhub2RlKSAmJiAhaXNUYWJiYWJsZVJhZGlvKG5vZGUpO1xufTtcblxuLy8gZGV0ZXJtaW5lcyBpZiBhIG5vZGUgaXMgdWx0aW1hdGVseSBhdHRhY2hlZCB0byB0aGUgd2luZG93J3MgZG9jdW1lbnRcbmNvbnN0IGlzTm9kZUF0dGFjaGVkID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgLy8gVGhlIHJvb3Qgbm9kZSBpcyB0aGUgc2hhZG93IHJvb3QgaWYgdGhlIG5vZGUgaXMgaW4gYSBzaGFkb3cgRE9NOyBzb21lIGRvY3VtZW50IG90aGVyd2lzZVxuICAvLyAgKGJ1dCBOT1QgX3RoZV8gZG9jdW1lbnQ7IHNlZSBzZWNvbmQgJ0lmJyBjb21tZW50IGJlbG93IGZvciBtb3JlKS5cbiAgLy8gSWYgcm9vdE5vZGUgaXMgc2hhZG93IHJvb3QsIGl0J2xsIGhhdmUgYSBob3N0LCB3aGljaCBpcyB0aGUgZWxlbWVudCB0byB3aGljaCB0aGUgc2hhZG93XG4gIC8vICBpcyBhdHRhY2hlZCwgYW5kIHRoZSBvbmUgd2UgbmVlZCB0byBjaGVjayBpZiBpdCdzIGluIHRoZSBkb2N1bWVudCBvciBub3QgKGJlY2F1c2UgdGhlXG4gIC8vICBzaGFkb3csIGFuZCBhbGwgbm9kZXMgaXQgY29udGFpbnMsIGlzIG5ldmVyIGNvbnNpZGVyZWQgaW4gdGhlIGRvY3VtZW50IHNpbmNlIHNoYWRvd3NcbiAgLy8gIGJlaGF2ZSBsaWtlIHNlbGYtY29udGFpbmVkIERPTXM7IGJ1dCBpZiB0aGUgc2hhZG93J3MgSE9TVCwgd2hpY2ggaXMgcGFydCBvZiB0aGUgZG9jdW1lbnQsXG4gIC8vICBpcyBoaWRkZW4sIG9yIGlzIG5vdCBpbiB0aGUgZG9jdW1lbnQgaXRzZWxmIGJ1dCBpcyBkZXRhY2hlZCwgaXQgd2lsbCBhZmZlY3QgdGhlIHNoYWRvdydzXG4gIC8vICB2aXNpYmlsaXR5LCBpbmNsdWRpbmcgYWxsIHRoZSBub2RlcyBpdCBjb250YWlucykuIFRoZSBob3N0IGNvdWxkIGJlIGFueSBub3JtYWwgbm9kZSxcbiAgLy8gIG9yIGEgY3VzdG9tIGVsZW1lbnQgKGkuZS4gd2ViIGNvbXBvbmVudCkuIEVpdGhlciB3YXksIHRoYXQncyB0aGUgb25lIHRoYXQgaXMgY29uc2lkZXJlZFxuICAvLyAgcGFydCBvZiB0aGUgZG9jdW1lbnQsIG5vdCB0aGUgc2hhZG93IHJvb3QsIG5vciBhbnkgb2YgaXRzIGNoaWxkcmVuIChpLmUuIHRoZSBub2RlIGJlaW5nXG4gIC8vICB0ZXN0ZWQpLlxuICAvLyBUbyBmdXJ0aGVyIGNvbXBsaWNhdGUgdGhpbmdzLCB3ZSBoYXZlIHRvIGxvb2sgYWxsIHRoZSB3YXkgdXAgdW50aWwgd2UgZmluZCBhIHNoYWRvdyBIT1NUXG4gIC8vICB0aGF0IGlzIGF0dGFjaGVkIChvciBmaW5kIG5vbmUpIGJlY2F1c2UgdGhlIG5vZGUgbWlnaHQgYmUgaW4gbmVzdGVkIHNoYWRvd3MuLi5cbiAgLy8gSWYgcm9vdE5vZGUgaXMgbm90IGEgc2hhZG93IHJvb3QsIGl0IHdvbid0IGhhdmUgYSBob3N0LCBhbmQgc28gcm9vdE5vZGUgc2hvdWxkIGJlIHRoZVxuICAvLyAgZG9jdW1lbnQgKHBlciB0aGUgZG9jcykgYW5kIHdoaWxlIGl0J3MgYSBEb2N1bWVudC10eXBlIG9iamVjdCwgdGhhdCBkb2N1bWVudCBkb2VzIG5vdFxuICAvLyAgYXBwZWFyIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBub2RlJ3MgYG93bmVyRG9jdW1lbnRgIGZvciBzb21lIHJlYXNvbiwgc28gaXQncyBzYWZlclxuICAvLyAgdG8gaWdub3JlIHRoZSByb290Tm9kZSBhdCB0aGlzIHBvaW50LCBhbmQgdXNlIGBub2RlLm93bmVyRG9jdW1lbnRgLiBPdGhlcndpc2UsXG4gIC8vICB1c2luZyBgcm9vdE5vZGUuY29udGFpbnMobm9kZSlgIHdpbGwgX2Fsd2F5c18gYmUgdHJ1ZSB3ZSdsbCBnZXQgZmFsc2UtcG9zaXRpdmVzIHdoZW5cbiAgLy8gIG5vZGUgaXMgYWN0dWFsbHkgZGV0YWNoZWQuXG4gIGxldCBub2RlUm9vdEhvc3QgPSBnZXRSb290Tm9kZShub2RlKS5ob3N0O1xuICBsZXQgYXR0YWNoZWQgPSAhIShcbiAgICBub2RlUm9vdEhvc3Q/Lm93bmVyRG9jdW1lbnQuY29udGFpbnMobm9kZVJvb3RIb3N0KSB8fFxuICAgIG5vZGUub3duZXJEb2N1bWVudC5jb250YWlucyhub2RlKVxuICApO1xuXG4gIHdoaWxlICghYXR0YWNoZWQgJiYgbm9kZVJvb3RIb3N0KSB7XG4gICAgLy8gc2luY2UgaXQncyBub3QgYXR0YWNoZWQgYW5kIHdlIGhhdmUgYSByb290IGhvc3QsIHRoZSBub2RlIE1VU1QgYmUgaW4gYSBuZXN0ZWQgc2hhZG93IERPTSxcbiAgICAvLyAgd2hpY2ggbWVhbnMgd2UgbmVlZCB0byBnZXQgdGhlIGhvc3QncyBob3N0IGFuZCBjaGVjayBpZiB0aGF0IHBhcmVudCBob3N0IGlzIGNvbnRhaW5lZFxuICAgIC8vICBpbiAoaS5lLiBhdHRhY2hlZCB0bykgdGhlIGRvY3VtZW50XG4gICAgbm9kZVJvb3RIb3N0ID0gZ2V0Um9vdE5vZGUobm9kZVJvb3RIb3N0KS5ob3N0O1xuICAgIGF0dGFjaGVkID0gISFub2RlUm9vdEhvc3Q/Lm93bmVyRG9jdW1lbnQuY29udGFpbnMobm9kZVJvb3RIb3N0KTtcbiAgfVxuXG4gIHJldHVybiBhdHRhY2hlZDtcbn07XG5cbmNvbnN0IGlzWmVyb0FyZWEgPSBmdW5jdGlvbiAobm9kZSkge1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiB3aWR0aCA9PT0gMCAmJiBoZWlnaHQgPT09IDA7XG59O1xuY29uc3QgaXNIaWRkZW4gPSBmdW5jdGlvbiAobm9kZSwgeyBkaXNwbGF5Q2hlY2ssIGdldFNoYWRvd1Jvb3QgfSkge1xuICAvLyBOT1RFOiB2aXNpYmlsaXR5IHdpbGwgYmUgYHVuZGVmaW5lZGAgaWYgbm9kZSBpcyBkZXRhY2hlZCBmcm9tIHRoZSBkb2N1bWVudFxuICAvLyAgKHNlZSBub3RlcyBhYm91dCB0aGlzIGZ1cnRoZXIgZG93biksIHdoaWNoIG1lYW5zIHdlIHdpbGwgY29uc2lkZXIgaXQgdmlzaWJsZVxuICAvLyAgKHRoaXMgaXMgbGVnYWN5IGJlaGF2aW9yIGZyb20gYSB2ZXJ5IGxvbmcgd2F5IGJhY2spXG4gIC8vIE5PVEU6IHdlIGNoZWNrIHRoaXMgcmVnYXJkbGVzcyBvZiBgZGlzcGxheUNoZWNrPVwibm9uZVwiYCBiZWNhdXNlIHRoaXMgaXMgYVxuICAvLyAgX3Zpc2liaWxpdHlfIGNoZWNrLCBub3QgYSBfZGlzcGxheV8gY2hlY2tcbiAgaWYgKGdldENvbXB1dGVkU3R5bGUobm9kZSkudmlzaWJpbGl0eSA9PT0gJ2hpZGRlbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGNvbnN0IGlzRGlyZWN0U3VtbWFyeSA9IG1hdGNoZXMuY2FsbChub2RlLCAnZGV0YWlscz5zdW1tYXJ5OmZpcnN0LW9mLXR5cGUnKTtcbiAgY29uc3Qgbm9kZVVuZGVyRGV0YWlscyA9IGlzRGlyZWN0U3VtbWFyeSA/IG5vZGUucGFyZW50RWxlbWVudCA6IG5vZGU7XG4gIGlmIChtYXRjaGVzLmNhbGwobm9kZVVuZGVyRGV0YWlscywgJ2RldGFpbHM6bm90KFtvcGVuXSkgKicpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgIWRpc3BsYXlDaGVjayB8fFxuICAgIGRpc3BsYXlDaGVjayA9PT0gJ2Z1bGwnIHx8XG4gICAgZGlzcGxheUNoZWNrID09PSAnbGVnYWN5LWZ1bGwnXG4gICkge1xuICAgIGlmICh0eXBlb2YgZ2V0U2hhZG93Um9vdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gZmlndXJlIG91dCBpZiB3ZSBzaG91bGQgY29uc2lkZXIgdGhlIG5vZGUgdG8gYmUgaW4gYW4gdW5kaXNjbG9zZWQgc2hhZG93IGFuZCB1c2UgdGhlXG4gICAgICAvLyAgJ25vbi16ZXJvLWFyZWEnIGZhbGxiYWNrXG4gICAgICBjb25zdCBvcmlnaW5hbE5vZGUgPSBub2RlO1xuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgY29uc3QgcGFyZW50RWxlbWVudCA9IG5vZGUucGFyZW50RWxlbWVudDtcbiAgICAgICAgY29uc3Qgcm9vdE5vZGUgPSBnZXRSb290Tm9kZShub2RlKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHBhcmVudEVsZW1lbnQgJiZcbiAgICAgICAgICAhcGFyZW50RWxlbWVudC5zaGFkb3dSb290ICYmXG4gICAgICAgICAgZ2V0U2hhZG93Um9vdChwYXJlbnRFbGVtZW50KSA9PT0gdHJ1ZSAvLyBjaGVjayBpZiB0aGVyZSdzIGFuIHVuZGlzY2xvc2VkIHNoYWRvd1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBub2RlIGhhcyBhbiB1bmRpc2Nsb3NlZCBzaGFkb3cgd2hpY2ggbWVhbnMgd2UgY2FuIG9ubHkgdHJlYXQgaXQgYXMgYSBibGFjayBib3gsIHNvIHdlXG4gICAgICAgICAgLy8gIGZhbGwgYmFjayB0byBhIG5vbi16ZXJvLWFyZWEgdGVzdFxuICAgICAgICAgIHJldHVybiBpc1plcm9BcmVhKG5vZGUpO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGUuYXNzaWduZWRTbG90KSB7XG4gICAgICAgICAgLy8gaXRlcmF0ZSB1cCBzbG90XG4gICAgICAgICAgbm9kZSA9IG5vZGUuYXNzaWduZWRTbG90O1xuICAgICAgICB9IGVsc2UgaWYgKCFwYXJlbnRFbGVtZW50ICYmIHJvb3ROb2RlICE9PSBub2RlLm93bmVyRG9jdW1lbnQpIHtcbiAgICAgICAgICAvLyBjcm9zcyBzaGFkb3cgYm91bmRhcnlcbiAgICAgICAgICBub2RlID0gcm9vdE5vZGUuaG9zdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpdGVyYXRlIHVwIG5vcm1hbCBkb21cbiAgICAgICAgICBub2RlID0gcGFyZW50RWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBub2RlID0gb3JpZ2luYWxOb2RlO1xuICAgIH1cbiAgICAvLyBlbHNlLCBgZ2V0U2hhZG93Um9vdGAgbWlnaHQgYmUgdHJ1ZSwgYnV0IGFsbCB0aGF0IGRvZXMgaXMgZW5hYmxlIHNoYWRvdyBET00gc3VwcG9ydFxuICAgIC8vICAoaS5lLiBpdCBkb2VzIG5vdCBhbHNvIHByZXN1bWUgdGhhdCBhbGwgbm9kZXMgbWlnaHQgaGF2ZSB1bmRpc2Nsb3NlZCBzaGFkb3dzKTsgb3JcbiAgICAvLyAgaXQgbWlnaHQgYmUgYSBmYWxzeSB2YWx1ZSwgd2hpY2ggbWVhbnMgc2hhZG93IERPTSBzdXBwb3J0IGlzIGRpc2FibGVkXG5cbiAgICAvLyBTaW5jZSB3ZSBkaWRuJ3QgZmluZCBpdCBzaXR0aW5nIGluIGFuIHVuZGlzY2xvc2VkIHNoYWRvdyAob3Igc2hhZG93cyBhcmUgZGlzYWJsZWQpXG4gICAgLy8gIG5vdyB3ZSBjYW4ganVzdCB0ZXN0IHRvIHNlZSBpZiBpdCB3b3VsZCBub3JtYWxseSBiZSB2aXNpYmxlIG9yIG5vdCwgcHJvdmlkZWQgaXQnc1xuICAgIC8vICBhdHRhY2hlZCB0byB0aGUgbWFpbiBkb2N1bWVudC5cbiAgICAvLyBOT1RFOiBXZSBtdXN0IGNvbnNpZGVyIGNhc2Ugd2hlcmUgbm9kZSBpcyBpbnNpZGUgYSBzaGFkb3cgRE9NIGFuZCBnaXZlbiBkaXJlY3RseSB0b1xuICAgIC8vICBgaXNUYWJiYWJsZSgpYCBvciBgaXNGb2N1c2FibGUoKWAgLS0gcmVnYXJkbGVzcyBvZiBgZ2V0U2hhZG93Um9vdGAgb3B0aW9uIHNldHRpbmcuXG5cbiAgICBpZiAoaXNOb2RlQXR0YWNoZWQobm9kZSkpIHtcbiAgICAgIC8vIHRoaXMgd29ya3Mgd2hlcmV2ZXIgdGhlIG5vZGUgaXM6IGlmIHRoZXJlJ3MgYXQgbGVhc3Qgb25lIGNsaWVudCByZWN0LCBpdCdzXG4gICAgICAvLyAgc29tZWhvdyBkaXNwbGF5ZWQ7IGl0IGFsc28gY292ZXJzIHRoZSBDU1MgJ2Rpc3BsYXk6IGNvbnRlbnRzJyBjYXNlIHdoZXJlIHRoZVxuICAgICAgLy8gIG5vZGUgaXRzZWxmIGlzIGhpZGRlbiBpbiBwbGFjZSBvZiBpdHMgY29udGVudHM7IGFuZCB0aGVyZSdzIG5vIG5lZWQgdG8gc2VhcmNoXG4gICAgICAvLyAgdXAgdGhlIGhpZXJhcmNoeSBlaXRoZXJcbiAgICAgIHJldHVybiAhbm9kZS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvLyBFbHNlLCB0aGUgbm9kZSBpc24ndCBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQsIHdoaWNoIG1lYW5zIHRoZSBgZ2V0Q2xpZW50UmVjdHMoKWBcbiAgICAvLyAgQVBJIHdpbGwgX19hbHdheXNfXyByZXR1cm4gemVybyByZWN0cyAodGhpcyBjYW4gaGFwcGVuLCBmb3IgZXhhbXBsZSwgaWYgUmVhY3RcbiAgICAvLyAgaXMgdXNlZCB0byByZW5kZXIgbm9kZXMgb250byBhIGRldGFjaGVkIHRyZWUsIGFzIGNvbmZpcm1lZCBpbiB0aGlzIHRocmVhZDpcbiAgICAvLyAgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy85MTE3I2lzc3VlY29tbWVudC0yODQyMjg4NzApXG4gICAgLy9cbiAgICAvLyBJdCBhbHNvIG1lYW5zIHRoYXQgZXZlbiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS5kaXNwbGF5IHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgXG4gICAgLy8gIGJlY2F1c2Ugc3R5bGVzIGFyZSBvbmx5IGNvbXB1dGVkIGZvciBub2RlcyB0aGF0IGFyZSBpbiB0aGUgZG9jdW1lbnQuXG4gICAgLy9cbiAgICAvLyBOT1RFOiBUSElTIEhBUyBCRUVOIFRIRSBDQVNFIEZPUiBZRUFSUy4gSXQgaXMgbm90IG5ldywgbm9yIGlzIGl0IGNhdXNlZCBieSB0YWJiYWJsZVxuICAgIC8vICBzb21laG93LiBUaG91Z2ggaXQgd2FzIG5ldmVyIHN0YXRlZCBvZmZpY2lhbGx5LCBhbnlvbmUgd2hvIGhhcyBldmVyIHVzZWQgdGFiYmFibGVcbiAgICAvLyAgQVBJcyBvbiBub2RlcyBpbiBkZXRhY2hlZCBjb250YWluZXJzIGhhcyBhY3R1YWxseSBpbXBsaWNpdGx5IHVzZWQgdGFiYmFibGUgaW4gd2hhdFxuICAgIC8vICB3YXMgbGF0ZXIgKGFzIG9mIHY1LjIuMCBvbiBBcHIgOSwgMjAyMSkgY2FsbGVkIGBkaXNwbGF5Q2hlY2s9XCJub25lXCJgIG1vZGUgLS0gZXNzZW50aWFsbHlcbiAgICAvLyAgY29uc2lkZXJpbmcgX19ldmVyeXRoaW5nX18gdG8gYmUgdmlzaWJsZSBiZWNhdXNlIG9mIHRoZSBpbm5hYmlsaXR5IHRvIGRldGVybWluZSBzdHlsZXMuXG4gICAgLy9cbiAgICAvLyB2Ni4wLjA6IEFzIG9mIHRoaXMgbWFqb3IgcmVsZWFzZSwgdGhlIGRlZmF1bHQgJ2Z1bGwnIG9wdGlvbiBfX25vIGxvbmdlciB0cmVhdHMgZGV0YWNoZWRcbiAgICAvLyAgbm9kZXMgYXMgdmlzaWJsZSB3aXRoIHRoZSAnbm9uZScgZmFsbGJhY2suX19cbiAgICBpZiAoZGlzcGxheUNoZWNrICE9PSAnbGVnYWN5LWZ1bGwnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gaGlkZGVuXG4gICAgfVxuICAgIC8vIGVsc2UsIGZhbGxiYWNrIHRvICdub25lJyBtb2RlIGFuZCBjb25zaWRlciB0aGUgbm9kZSB2aXNpYmxlXG4gIH0gZWxzZSBpZiAoZGlzcGxheUNoZWNrID09PSAnbm9uLXplcm8tYXJlYScpIHtcbiAgICAvLyBOT1RFOiBFdmVuIHRob3VnaCB0aGlzIHRlc3RzIHRoYXQgdGhlIG5vZGUncyBjbGllbnQgcmVjdCBpcyBub24temVybyB0byBkZXRlcm1pbmVcbiAgICAvLyAgd2hldGhlciBpdCdzIGRpc3BsYXllZCwgYW5kIHRoYXQgYSBkZXRhY2hlZCBub2RlIHdpbGwgX19hbHdheXNfXyBoYXZlIGEgemVyby1hcmVhXG4gICAgLy8gIGNsaWVudCByZWN0LCB3ZSBkb24ndCBzcGVjaWFsLWNhc2UgZm9yIHdoZXRoZXIgdGhlIG5vZGUgaXMgYXR0YWNoZWQgb3Igbm90LiBJblxuICAgIC8vICB0aGlzIG1vZGUsIHdlIGRvIHdhbnQgdG8gY29uc2lkZXIgbm9kZXMgdGhhdCBoYXZlIGEgemVybyBhcmVhIHRvIGJlIGhpZGRlbiBhdCBhbGxcbiAgICAvLyAgdGltZXMsIGFuZCB0aGF0IGluY2x1ZGVzIGF0dGFjaGVkIG9yIG5vdC5cbiAgICByZXR1cm4gaXNaZXJvQXJlYShub2RlKTtcbiAgfVxuXG4gIC8vIHZpc2libGUsIGFzIGZhciBhcyB3ZSBjYW4gdGVsbCwgb3IgcGVyIGN1cnJlbnQgYGRpc3BsYXlDaGVjaz1ub25lYCBtb2RlLCB3ZSBhc3N1bWVcbiAgLy8gIGl0J3MgdmlzaWJsZVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vLyBmb3JtIGZpZWxkcyAobmVzdGVkKSBpbnNpZGUgYSBkaXNhYmxlZCBmaWVsZHNldCBhcmUgbm90IGZvY3VzYWJsZS90YWJiYWJsZVxuLy8gIHVubGVzcyB0aGV5IGFyZSBpbiB0aGUgX2ZpcnN0XyA8bGVnZW5kPiBlbGVtZW50IG9mIHRoZSB0b3AtbW9zdCBkaXNhYmxlZFxuLy8gIGZpZWxkc2V0XG5jb25zdCBpc0Rpc2FibGVkRnJvbUZpZWxkc2V0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKC9eKElOUFVUfEJVVFRPTnxTRUxFQ1R8VEVYVEFSRUEpJC8udGVzdChub2RlLnRhZ05hbWUpKSB7XG4gICAgbGV0IHBhcmVudE5vZGUgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgLy8gY2hlY2sgaWYgYG5vZGVgIGlzIGNvbnRhaW5lZCBpbiBhIGRpc2FibGVkIDxmaWVsZHNldD5cbiAgICB3aGlsZSAocGFyZW50Tm9kZSkge1xuICAgICAgaWYgKHBhcmVudE5vZGUudGFnTmFtZSA9PT0gJ0ZJRUxEU0VUJyAmJiBwYXJlbnROb2RlLmRpc2FibGVkKSB7XG4gICAgICAgIC8vIGxvb2sgZm9yIHRoZSBmaXJzdCA8bGVnZW5kPiBhbW9uZyB0aGUgY2hpbGRyZW4gb2YgdGhlIGRpc2FibGVkIDxmaWVsZHNldD5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnROb2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgY2hpbGQgPSBwYXJlbnROb2RlLmNoaWxkcmVuLml0ZW0oaSk7XG4gICAgICAgICAgLy8gd2hlbiB0aGUgZmlyc3QgPGxlZ2VuZD4gKGluIGRvY3VtZW50IG9yZGVyKSBpcyBmb3VuZFxuICAgICAgICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAnTEVHRU5EJykge1xuICAgICAgICAgICAgLy8gaWYgaXRzIHBhcmVudCA8ZmllbGRzZXQ+IGlzIG5vdCBuZXN0ZWQgaW4gYW5vdGhlciBkaXNhYmxlZCA8ZmllbGRzZXQ+LFxuICAgICAgICAgICAgLy8gcmV0dXJuIHdoZXRoZXIgYG5vZGVgIGlzIGEgZGVzY2VuZGFudCBvZiBpdHMgZmlyc3QgPGxlZ2VuZD5cbiAgICAgICAgICAgIHJldHVybiBtYXRjaGVzLmNhbGwocGFyZW50Tm9kZSwgJ2ZpZWxkc2V0W2Rpc2FibGVkXSAqJylcbiAgICAgICAgICAgICAgPyB0cnVlXG4gICAgICAgICAgICAgIDogIWNoaWxkLmNvbnRhaW5zKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgZGlzYWJsZWQgPGZpZWxkc2V0PiBjb250YWluaW5nIGBub2RlYCBoYXMgbm8gPGxlZ2VuZD5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnRFbGVtZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIGVsc2UsIG5vZGUncyB0YWJiYWJsZS9mb2N1c2FibGUgc3RhdGUgc2hvdWxkIG5vdCBiZSBhZmZlY3RlZCBieSBhIGZpZWxkc2V0J3NcbiAgLy8gIGVuYWJsZWQvZGlzYWJsZWQgc3RhdGVcbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBub2RlKSB7XG4gIGlmIChcbiAgICBub2RlLmRpc2FibGVkIHx8XG4gICAgaXNIaWRkZW5JbnB1dChub2RlKSB8fFxuICAgIGlzSGlkZGVuKG5vZGUsIG9wdGlvbnMpIHx8XG4gICAgLy8gRm9yIGEgZGV0YWlscyBlbGVtZW50IHdpdGggYSBzdW1tYXJ5LCB0aGUgc3VtbWFyeSBlbGVtZW50IGdldHMgdGhlIGZvY3VzXG4gICAgaXNEZXRhaWxzV2l0aFN1bW1hcnkobm9kZSkgfHxcbiAgICBpc0Rpc2FibGVkRnJvbUZpZWxkc2V0KG5vZGUpXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmNvbnN0IGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JUYWJiYWJsZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBub2RlKSB7XG4gIGlmIChcbiAgICBpc05vblRhYmJhYmxlUmFkaW8obm9kZSkgfHxcbiAgICBnZXRUYWJpbmRleChub2RlKSA8IDAgfHxcbiAgICAhaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZShvcHRpb25zLCBub2RlKVxuICApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBpc1ZhbGlkU2hhZG93Um9vdFRhYmJhYmxlID0gZnVuY3Rpb24gKHNoYWRvd0hvc3ROb2RlKSB7XG4gIGNvbnN0IHRhYkluZGV4ID0gcGFyc2VJbnQoc2hhZG93SG9zdE5vZGUuZ2V0QXR0cmlidXRlKCd0YWJpbmRleCcpLCAxMCk7XG4gIGlmIChpc05hTih0YWJJbmRleCkgfHwgdGFiSW5kZXggPj0gMCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIC8vIElmIGEgY3VzdG9tIGVsZW1lbnQgaGFzIGFuIGV4cGxpY2l0IG5lZ2F0aXZlIHRhYmluZGV4LFxuICAvLyBicm93c2VycyB3aWxsIG5vdCBhbGxvdyB0YWIgdGFyZ2V0aW5nIHNhaWQgZWxlbWVudCdzIGNoaWxkcmVuLlxuICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXkuPEVsZW1lbnR8Q2FuZGlkYXRlU2NvcGU+fSBjYW5kaWRhdGVzXG4gKiBAcmV0dXJucyBFbGVtZW50W11cbiAqL1xuY29uc3Qgc29ydEJ5T3JkZXIgPSBmdW5jdGlvbiAoY2FuZGlkYXRlcykge1xuICBjb25zdCByZWd1bGFyVGFiYmFibGVzID0gW107XG4gIGNvbnN0IG9yZGVyZWRUYWJiYWJsZXMgPSBbXTtcbiAgY2FuZGlkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgY29uc3QgaXNTY29wZSA9ICEhaXRlbS5zY29wZVBhcmVudDtcbiAgICBjb25zdCBlbGVtZW50ID0gaXNTY29wZSA/IGl0ZW0uc2NvcGVQYXJlbnQgOiBpdGVtO1xuICAgIGNvbnN0IGNhbmRpZGF0ZVRhYmluZGV4ID0gZ2V0VGFiaW5kZXgoZWxlbWVudCwgaXNTY29wZSk7XG4gICAgY29uc3QgZWxlbWVudHMgPSBpc1Njb3BlID8gc29ydEJ5T3JkZXIoaXRlbS5jYW5kaWRhdGVzKSA6IGVsZW1lbnQ7XG4gICAgaWYgKGNhbmRpZGF0ZVRhYmluZGV4ID09PSAwKSB7XG4gICAgICBpc1Njb3BlXG4gICAgICAgID8gcmVndWxhclRhYmJhYmxlcy5wdXNoKC4uLmVsZW1lbnRzKVxuICAgICAgICA6IHJlZ3VsYXJUYWJiYWJsZXMucHVzaChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3JkZXJlZFRhYmJhYmxlcy5wdXNoKHtcbiAgICAgICAgZG9jdW1lbnRPcmRlcjogaSxcbiAgICAgICAgdGFiSW5kZXg6IGNhbmRpZGF0ZVRhYmluZGV4LFxuICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICBpc1Njb3BlOiBpc1Njb3BlLFxuICAgICAgICBjb250ZW50OiBlbGVtZW50cyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIG9yZGVyZWRUYWJiYWJsZXNcbiAgICAuc29ydChzb3J0T3JkZXJlZFRhYmJhYmxlcylcbiAgICAucmVkdWNlKChhY2MsIHNvcnRhYmxlKSA9PiB7XG4gICAgICBzb3J0YWJsZS5pc1Njb3BlXG4gICAgICAgID8gYWNjLnB1c2goLi4uc29ydGFibGUuY29udGVudClcbiAgICAgICAgOiBhY2MucHVzaChzb3J0YWJsZS5jb250ZW50KTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pXG4gICAgLmNvbmNhdChyZWd1bGFyVGFiYmFibGVzKTtcbn07XG5cbmNvbnN0IHRhYmJhYmxlID0gZnVuY3Rpb24gKGVsLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIGxldCBjYW5kaWRhdGVzO1xuICBpZiAob3B0aW9ucy5nZXRTaGFkb3dSb290KSB7XG4gICAgY2FuZGlkYXRlcyA9IGdldENhbmRpZGF0ZXNJdGVyYXRpdmVseShbZWxdLCBvcHRpb25zLmluY2x1ZGVDb250YWluZXIsIHtcbiAgICAgIGZpbHRlcjogaXNOb2RlTWF0Y2hpbmdTZWxlY3RvclRhYmJhYmxlLmJpbmQobnVsbCwgb3B0aW9ucyksXG4gICAgICBmbGF0dGVuOiBmYWxzZSxcbiAgICAgIGdldFNoYWRvd1Jvb3Q6IG9wdGlvbnMuZ2V0U2hhZG93Um9vdCxcbiAgICAgIHNoYWRvd1Jvb3RGaWx0ZXI6IGlzVmFsaWRTaGFkb3dSb290VGFiYmFibGUsXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgY2FuZGlkYXRlcyA9IGdldENhbmRpZGF0ZXMoXG4gICAgICBlbCxcbiAgICAgIG9wdGlvbnMuaW5jbHVkZUNvbnRhaW5lcixcbiAgICAgIGlzTm9kZU1hdGNoaW5nU2VsZWN0b3JUYWJiYWJsZS5iaW5kKG51bGwsIG9wdGlvbnMpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gc29ydEJ5T3JkZXIoY2FuZGlkYXRlcyk7XG59O1xuXG5jb25zdCBmb2N1c2FibGUgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgbGV0IGNhbmRpZGF0ZXM7XG4gIGlmIChvcHRpb25zLmdldFNoYWRvd1Jvb3QpIHtcbiAgICBjYW5kaWRhdGVzID0gZ2V0Q2FuZGlkYXRlc0l0ZXJhdGl2ZWx5KFtlbF0sIG9wdGlvbnMuaW5jbHVkZUNvbnRhaW5lciwge1xuICAgICAgZmlsdGVyOiBpc05vZGVNYXRjaGluZ1NlbGVjdG9yRm9jdXNhYmxlLmJpbmQobnVsbCwgb3B0aW9ucyksXG4gICAgICBmbGF0dGVuOiB0cnVlLFxuICAgICAgZ2V0U2hhZG93Um9vdDogb3B0aW9ucy5nZXRTaGFkb3dSb290LFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNhbmRpZGF0ZXMgPSBnZXRDYW5kaWRhdGVzKFxuICAgICAgZWwsXG4gICAgICBvcHRpb25zLmluY2x1ZGVDb250YWluZXIsXG4gICAgICBpc05vZGVNYXRjaGluZ1NlbGVjdG9yRm9jdXNhYmxlLmJpbmQobnVsbCwgb3B0aW9ucylcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIGNhbmRpZGF0ZXM7XG59O1xuXG5jb25zdCBpc1RhYmJhYmxlID0gZnVuY3Rpb24gKG5vZGUsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGlmICghbm9kZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gbm9kZSBwcm92aWRlZCcpO1xuICB9XG4gIGlmIChtYXRjaGVzLmNhbGwobm9kZSwgY2FuZGlkYXRlU2VsZWN0b3IpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNOb2RlTWF0Y2hpbmdTZWxlY3RvclRhYmJhYmxlKG9wdGlvbnMsIG5vZGUpO1xufTtcblxuY29uc3QgZm9jdXNhYmxlQ2FuZGlkYXRlU2VsZWN0b3IgPSAvKiAjX19QVVJFX18gKi8gY2FuZGlkYXRlU2VsZWN0b3JzXG4gIC5jb25jYXQoJ2lmcmFtZScpXG4gIC5qb2luKCcsJyk7XG5cbmNvbnN0IGlzRm9jdXNhYmxlID0gZnVuY3Rpb24gKG5vZGUsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGlmICghbm9kZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm8gbm9kZSBwcm92aWRlZCcpO1xuICB9XG4gIGlmIChtYXRjaGVzLmNhbGwobm9kZSwgZm9jdXNhYmxlQ2FuZGlkYXRlU2VsZWN0b3IpID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gaXNOb2RlTWF0Y2hpbmdTZWxlY3RvckZvY3VzYWJsZShvcHRpb25zLCBub2RlKTtcbn07XG5cbmV4cG9ydCB7IHRhYmJhYmxlLCBmb2N1c2FibGUsIGlzVGFiYmFibGUsIGlzRm9jdXNhYmxlIH07XG4iLCIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIGBCbG9ja2luZ0VsZW1lbnRzYCBtYW5hZ2VzIGEgc3RhY2sgb2YgZWxlbWVudHMgdGhhdCBpbmVydCB0aGUgaW50ZXJhY3Rpb25cbiAqIG91dHNpZGUgdGhlbS4gVGhlIHRvcCBlbGVtZW50IGlzIHRoZSBpbnRlcmFjdGl2ZSBwYXJ0IG9mIHRoZSBkb2N1bWVudC5cbiAqIFRoZSBzdGFjayBjYW4gYmUgdXBkYXRlZCB3aXRoIHRoZSBtZXRob2RzIGBwdXNoLCByZW1vdmUsIHBvcGAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmxvY2tpbmdFbGVtZW50cyB7XG4gIC8qKlxuICAgKiBDYWxsIHRoaXMgd2hlbmV2ZXIgdGhpcyBvYmplY3QgaXMgYWJvdXQgdG8gYmVjb21lIG9ic29sZXRlLiBUaGlzIGVtcHRpZXNcbiAgICogdGhlIGJsb2NraW5nIGVsZW1lbnRzXG4gICAqL1xuICBkZXN0cnVjdG9yKCk6IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFRoZSB0b3AgYmxvY2tpbmcgZWxlbWVudC5cbiAgICovXG4gIHRvcDogSFRNTEVsZW1lbnR8bnVsbDtcblxuICAvKipcbiAgICogQWRkcyB0aGUgZWxlbWVudCB0byB0aGUgYmxvY2tpbmcgZWxlbWVudHMuXG4gICAqL1xuICBwdXNoKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZDtcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZWxlbWVudCBmcm9tIHRoZSBibG9ja2luZyBlbGVtZW50cy4gUmV0dXJucyB0cnVlIGlmIHRoZVxuICAgKiBlbGVtZW50IHdhcyByZW1vdmVkLlxuICAgKi9cbiAgcmVtb3ZlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbjtcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSB0b3AgYmxvY2tpbmcgZWxlbWVudCBhbmQgcmV0dXJucyBpdC5cbiAgICovXG4gIHBvcCgpOiBIVE1MRWxlbWVudHxudWxsO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGlmIHRoZSBlbGVtZW50IGlzIGEgYmxvY2tpbmcgZWxlbWVudC5cbiAgICovXG4gIGhhcyhlbGVtZW50OiBIVE1MRWxlbWVudCk6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRXaXRoQmxvY2tpbmdFbGVtZW50cyBleHRlbmRzIERvY3VtZW50IHtcbiAgJGJsb2NraW5nRWxlbWVudHM6IEJsb2NraW5nRWxlbWVudHM7XG59XG5cbigoKSA9PiB7XG4gIC8qIFN5bWJvbHMgZm9yIHByaXZhdGUgcHJvcGVydGllcyAqL1xuICBjb25zdCBfYmxvY2tpbmdFbGVtZW50cyA9IFN5bWJvbCgpO1xuICBjb25zdCBfYWxyZWFkeUluZXJ0RWxlbWVudHMgPSBTeW1ib2woKTtcbiAgY29uc3QgX3RvcEVsUGFyZW50cyA9IFN5bWJvbCgpO1xuICBjb25zdCBfc2libGluZ3NUb1Jlc3RvcmUgPSBTeW1ib2woKTtcbiAgY29uc3QgX3BhcmVudE1PID0gU3ltYm9sKCk7XG5cbiAgLyogU3ltYm9scyBmb3IgcHJpdmF0ZSBzdGF0aWMgbWV0aG9kcyAqL1xuICBjb25zdCBfdG9wQ2hhbmdlZCA9IFN5bWJvbCgpO1xuICBjb25zdCBfc3dhcEluZXJ0ZWRTaWJsaW5nID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9pbmVydFNpYmxpbmdzID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9yZXN0b3JlSW5lcnRlZFNpYmxpbmdzID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9nZXRQYXJlbnRzID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9nZXREaXN0cmlidXRlZENoaWxkcmVuID0gU3ltYm9sKCk7XG4gIGNvbnN0IF9pc0luZXJ0YWJsZSA9IFN5bWJvbCgpO1xuICBjb25zdCBfaGFuZGxlTXV0YXRpb25zID0gU3ltYm9sKCk7XG5cbiAgaW50ZXJmYWNlIEluZXJ0YWJsZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBpbmVydD86IGJvb2xlYW47XG4gIH1cblxuICBpbnRlcmZhY2UgSW50ZXJuYWxTdGF0ZSB7XG4gICAgW19zaWJsaW5nc1RvUmVzdG9yZV06IFNldDxNYXliZUhhc0ludGVybmFsU3RhdGU+O1xuICAgIFtfcGFyZW50TU9dOiBNdXRhdGlvbk9ic2VydmVyO1xuICB9XG4gIGludGVyZmFjZSBIYXNJbnRlcm5hbFN0YXRlIGV4dGVuZHMgSW5lcnRhYmxlLCBJbnRlcm5hbFN0YXRlIHt9XG4gIGludGVyZmFjZSBNYXliZUhhc0ludGVybmFsU3RhdGUgZXh0ZW5kcyBJbmVydGFibGUsIFBhcnRpYWw8SW50ZXJuYWxTdGF0ZT4ge31cblxuICAvKipcbiAgICogU2hhZHlET00gc2hhZHkgcm9vdHMgbG9vayBhIGxvdCBsaWtlIHJlYWwgU2hhZG93Um9vdHMuIFRoZSBfX3NoYWR5IHByb3BlcnR5XG4gICAqIGdpdmVzIHRoZW0gYXdheSwgdGhvdWdoLlxuICAgKi9cbiAgaW50ZXJmYWNlIE1heWJlU2hhZHlSb290IGV4dGVuZHMgRWxlbWVudCB7XG4gICAgX19zaGFkeTogdW5rbm93bjtcbiAgICBob3N0OiBFbGVtZW50O1xuICB9XG5cbiAgY2xhc3MgQmxvY2tpbmdFbGVtZW50c0ltcGwgaW1wbGVtZW50cyBCbG9ja2luZ0VsZW1lbnRzIHtcbiAgICAvKipcbiAgICAgKiBUaGUgYmxvY2tpbmcgZWxlbWVudHMuXG4gICAgICovXG4gICAgcHJpdmF0ZVtfYmxvY2tpbmdFbGVtZW50c106IE1heWJlSGFzSW50ZXJuYWxTdGF0ZVtdID0gW107XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHBhcmVudHMgb2YgdGhlIHRvcCBlbGVtZW50LCBmcm9tIHRoZSBlbGVtZW50XG4gICAgICogaXRzZWxmIHVwIHRvIGJvZHkuIFdoZW4gdG9wIGNoYW5nZXMsIHRoZSBvbGQgdG9wIG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkXG4gICAgICogZnJvbSB0aGUgZG9jdW1lbnQsIHNvIHdlIG5lZWQgdG8gbWVtb2l6ZSB0aGUgaW5lcnRlZCBwYXJlbnRzJyBzaWJsaW5nc1xuICAgICAqIGluIG9yZGVyIHRvIHJlc3RvcmUgdGhlaXIgaW5lcnRlbmVzcyB3aGVuIHRvcCBjaGFuZ2VzLlxuICAgICAqL1xuICAgIHByaXZhdGVbX3RvcEVsUGFyZW50c106IEhhc0ludGVybmFsU3RhdGVbXSA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogRWxlbWVudHMgdGhhdCBhcmUgYWxyZWFkeSBpbmVydCBiZWZvcmUgdGhlIGZpcnN0IGJsb2NraW5nIGVsZW1lbnQgaXNcbiAgICAgKiBwdXNoZWQuXG4gICAgICovXG4gICAgcHJpdmF0ZVtfYWxyZWFkeUluZXJ0RWxlbWVudHNdID0gbmV3IFNldDxNYXliZUhhc0ludGVybmFsU3RhdGU+KCk7XG5cbiAgICBkZXN0cnVjdG9yKCk6IHZvaWQge1xuICAgICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBpbmVydG5lc3MuXG4gICAgICB0aGlzW19yZXN0b3JlSW5lcnRlZFNpYmxpbmdzXSh0aGlzW190b3BFbFBhcmVudHNdKTtcbiAgICAgIC8vIE5vdGUgd2UgZG9uJ3Qgd2FudCB0byBtYWtlIHRoZXNlIHByb3BlcnRpZXMgbnVsbGFibGUgb24gdGhlIGNsYXNzLFxuICAgICAgLy8gc2luY2UgdGhlbiB3ZSdkIG5lZWQgbm9uLW51bGwgY2FzdHMgaW4gbWFueSBwbGFjZXMuIENhbGxpbmcgYSBtZXRob2Qgb25cbiAgICAgIC8vIGEgQmxvY2tpbmdFbGVtZW50cyBpbnN0YW5jZSBhZnRlciBjYWxsaW5nIGRlc3RydWN0b3Igd2lsbCByZXN1bHQgaW4gYW5cbiAgICAgIC8vIGV4Y2VwdGlvbi5cbiAgICAgIGNvbnN0IG51bGxhYmxlID0gdGhpcyBhcyB1bmtub3duIGFzIHtcbiAgICAgICAgW19ibG9ja2luZ0VsZW1lbnRzXTogbnVsbDtcbiAgICAgICAgW190b3BFbFBhcmVudHNdOiBudWxsO1xuICAgICAgICBbX2FscmVhZHlJbmVydEVsZW1lbnRzXTogbnVsbDtcbiAgICAgIH07XG4gICAgICBudWxsYWJsZVtfYmxvY2tpbmdFbGVtZW50c10gPSBudWxsO1xuICAgICAgbnVsbGFibGVbX3RvcEVsUGFyZW50c10gPSBudWxsO1xuICAgICAgbnVsbGFibGVbX2FscmVhZHlJbmVydEVsZW1lbnRzXSA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0IHRvcCgpOiBIVE1MRWxlbWVudHxudWxsIHtcbiAgICAgIGNvbnN0IGVsZW1zID0gdGhpc1tfYmxvY2tpbmdFbGVtZW50c107XG4gICAgICByZXR1cm4gZWxlbXNbZWxlbXMubGVuZ3RoIC0gMV0gfHwgbnVsbDtcbiAgICB9XG5cbiAgICBwdXNoKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogdm9pZCB7XG4gICAgICBpZiAoIWVsZW1lbnQgfHwgZWxlbWVudCA9PT0gdGhpcy50b3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUmVtb3ZlIGl0IGZyb20gdGhlIHN0YWNrLCB3ZSdsbCBicmluZyBpdCB0byB0aGUgdG9wLlxuICAgICAgdGhpcy5yZW1vdmUoZWxlbWVudCk7XG4gICAgICB0aGlzW190b3BDaGFuZ2VkXShlbGVtZW50KTtcbiAgICAgIHRoaXNbX2Jsb2NraW5nRWxlbWVudHNdLnB1c2goZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICBjb25zdCBpID0gdGhpc1tfYmxvY2tpbmdFbGVtZW50c10uaW5kZXhPZihlbGVtZW50KTtcbiAgICAgIGlmIChpID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzW19ibG9ja2luZ0VsZW1lbnRzXS5zcGxpY2UoaSwgMSk7XG4gICAgICAvLyBUb3AgY2hhbmdlZCBvbmx5IGlmIHRoZSByZW1vdmVkIGVsZW1lbnQgd2FzIHRoZSB0b3AgZWxlbWVudC5cbiAgICAgIGlmIChpID09PSB0aGlzW19ibG9ja2luZ0VsZW1lbnRzXS5sZW5ndGgpIHtcbiAgICAgICAgdGhpc1tfdG9wQ2hhbmdlZF0odGhpcy50b3ApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcG9wKCk6IEhUTUxFbGVtZW50fG51bGwge1xuICAgICAgY29uc3QgdG9wID0gdGhpcy50b3A7XG4gICAgICB0b3AgJiYgdGhpcy5yZW1vdmUodG9wKTtcbiAgICAgIHJldHVybiB0b3A7XG4gICAgfVxuXG4gICAgaGFzKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpc1tfYmxvY2tpbmdFbGVtZW50c10uaW5kZXhPZihlbGVtZW50KSAhPT0gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBgaW5lcnRgIHRvIGFsbCBkb2N1bWVudCBlbGVtZW50cyBleGNlcHQgdGhlIG5ldyB0b3AgZWxlbWVudCwgaXRzXG4gICAgICogcGFyZW50cywgYW5kIGl0cyBkaXN0cmlidXRlZCBjb250ZW50LlxuICAgICAqL1xuICAgIHByaXZhdGVbX3RvcENoYW5nZWRdKG5ld1RvcDogTWF5YmVIYXNJbnRlcm5hbFN0YXRlfG51bGwpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHRvS2VlcEluZXJ0ID0gdGhpc1tfYWxyZWFkeUluZXJ0RWxlbWVudHNdO1xuICAgICAgY29uc3Qgb2xkUGFyZW50cyA9IHRoaXNbX3RvcEVsUGFyZW50c107XG4gICAgICAvLyBObyBuZXcgdG9wLCByZXNldCBvbGQgdG9wIGlmIGFueS5cbiAgICAgIGlmICghbmV3VG9wKSB7XG4gICAgICAgIHRoaXNbX3Jlc3RvcmVJbmVydGVkU2libGluZ3NdKG9sZFBhcmVudHMpO1xuICAgICAgICB0b0tlZXBJbmVydC5jbGVhcigpO1xuICAgICAgICB0aGlzW190b3BFbFBhcmVudHNdID0gW107XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmV3UGFyZW50cyA9IHRoaXNbX2dldFBhcmVudHNdKG5ld1RvcCk7XG4gICAgICAvLyBOZXcgdG9wIGlzIG5vdCBjb250YWluZWQgaW4gdGhlIG1haW4gZG9jdW1lbnQhXG4gICAgICBpZiAobmV3UGFyZW50c1tuZXdQYXJlbnRzLmxlbmd0aCAtIDFdLnBhcmVudE5vZGUgIT09IGRvY3VtZW50LmJvZHkpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ05vbi1jb25uZWN0ZWQgZWxlbWVudCBjYW5ub3QgYmUgYSBibG9ja2luZyBlbGVtZW50Jyk7XG4gICAgICB9XG4gICAgICAvLyBDYXN0IGhlcmUgYmVjYXVzZSB3ZSBrbm93IHdlJ2xsIGNhbGwgX2luZXJ0U2libGluZ3Mgb24gbmV3UGFyZW50c1xuICAgICAgLy8gYmVsb3cuXG4gICAgICB0aGlzW190b3BFbFBhcmVudHNdID0gbmV3UGFyZW50cyBhcyBBcnJheTxIYXNJbnRlcm5hbFN0YXRlPjtcblxuICAgICAgY29uc3QgdG9Ta2lwID0gdGhpc1tfZ2V0RGlzdHJpYnV0ZWRDaGlsZHJlbl0obmV3VG9wKTtcblxuICAgICAgLy8gTm8gcHJldmlvdXMgdG9wIGVsZW1lbnQuXG4gICAgICBpZiAoIW9sZFBhcmVudHMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXNbX2luZXJ0U2libGluZ3NdKG5ld1BhcmVudHMsIHRvU2tpcCwgdG9LZWVwSW5lcnQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxldCBpID0gb2xkUGFyZW50cy5sZW5ndGggLSAxO1xuICAgICAgbGV0IGogPSBuZXdQYXJlbnRzLmxlbmd0aCAtIDE7XG4gICAgICAvLyBGaW5kIGNvbW1vbiBwYXJlbnQuIEluZGV4IDAgaXMgdGhlIGVsZW1lbnQgaXRzZWxmIChzbyBzdG9wIGJlZm9yZSBpdCkuXG4gICAgICB3aGlsZSAoaSA+IDAgJiYgaiA+IDAgJiYgb2xkUGFyZW50c1tpXSA9PT0gbmV3UGFyZW50c1tqXSkge1xuICAgICAgICBpLS07XG4gICAgICAgIGotLTtcbiAgICAgIH1cbiAgICAgIC8vIElmIHVwIHRoZSBwYXJlbnRzIHRyZWUgdGhlcmUgYXJlIDIgZWxlbWVudHMgdGhhdCBhcmUgc2libGluZ3MsIHN3YXBcbiAgICAgIC8vIHRoZSBpbmVydGVkIHNpYmxpbmcuXG4gICAgICBpZiAob2xkUGFyZW50c1tpXSAhPT0gbmV3UGFyZW50c1tqXSkge1xuICAgICAgICB0aGlzW19zd2FwSW5lcnRlZFNpYmxpbmddKG9sZFBhcmVudHNbaV0sIG5ld1BhcmVudHNbal0pO1xuICAgICAgfVxuICAgICAgLy8gUmVzdG9yZSBvbGQgcGFyZW50cyBzaWJsaW5ncyBpbmVydG5lc3MuXG4gICAgICBpID4gMCAmJiB0aGlzW19yZXN0b3JlSW5lcnRlZFNpYmxpbmdzXShvbGRQYXJlbnRzLnNsaWNlKDAsIGkpKTtcbiAgICAgIC8vIE1ha2UgbmV3IHBhcmVudHMgc2libGluZ3MgaW5lcnQuXG4gICAgICBqID4gMCAmJiB0aGlzW19pbmVydFNpYmxpbmdzXShuZXdQYXJlbnRzLnNsaWNlKDAsIGopLCB0b1NraXAsIG51bGwpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN3YXBzIGluZXJ0bmVzcyBiZXR3ZWVuIHR3byBzaWJsaW5nIGVsZW1lbnRzLlxuICAgICAqIFNldHMgdGhlIHByb3BlcnR5IGBpbmVydGAgb3ZlciB0aGUgYXR0cmlidXRlIHNpbmNlIHRoZSBpbmVydCBzcGVjXG4gICAgICogZG9lc24ndCBzcGVjaWZ5IGlmIGl0IHNob3VsZCBiZSByZWZsZWN0ZWQuXG4gICAgICogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW50ZXJhY3Rpb24uaHRtbCNpbmVydFxuICAgICAqL1xuICAgIHByaXZhdGVbX3N3YXBJbmVydGVkU2libGluZ10oXG4gICAgICAgIG9sZEluZXJ0OiBIYXNJbnRlcm5hbFN0YXRlLCBuZXdJbmVydDogTWF5YmVIYXNJbnRlcm5hbFN0YXRlKTogdm9pZCB7XG4gICAgICBjb25zdCBzaWJsaW5nc1RvUmVzdG9yZSA9IG9sZEluZXJ0W19zaWJsaW5nc1RvUmVzdG9yZV07XG4gICAgICAvLyBvbGRJbmVydCBpcyBub3QgY29udGFpbmVkIGluIHNpYmxpbmdzIHRvIHJlc3RvcmUsIHNvIHdlIGhhdmUgdG8gY2hlY2tcbiAgICAgIC8vIGlmIGl0J3MgaW5lcnRhYmxlIGFuZCBpZiBhbHJlYWR5IGluZXJ0LlxuICAgICAgaWYgKHRoaXNbX2lzSW5lcnRhYmxlXShvbGRJbmVydCkgJiYgIW9sZEluZXJ0LmluZXJ0KSB7XG4gICAgICAgIG9sZEluZXJ0LmluZXJ0ID0gdHJ1ZTtcbiAgICAgICAgc2libGluZ3NUb1Jlc3RvcmUuYWRkKG9sZEluZXJ0KTtcbiAgICAgIH1cbiAgICAgIC8vIElmIG5ld0luZXJ0IHdhcyBhbHJlYWR5IGJldHdlZW4gdGhlIHNpYmxpbmdzIHRvIHJlc3RvcmUsIGl0IG1lYW5zIGl0IGlzXG4gICAgICAvLyBpbmVydGFibGUgYW5kIG11c3QgYmUgcmVzdG9yZWQuXG4gICAgICBpZiAoc2libGluZ3NUb1Jlc3RvcmUuaGFzKG5ld0luZXJ0KSkge1xuICAgICAgICBuZXdJbmVydC5pbmVydCA9IGZhbHNlO1xuICAgICAgICBzaWJsaW5nc1RvUmVzdG9yZS5kZWxldGUobmV3SW5lcnQpO1xuICAgICAgfVxuICAgICAgbmV3SW5lcnRbX3BhcmVudE1PXSA9IG9sZEluZXJ0W19wYXJlbnRNT107XG4gICAgICBuZXdJbmVydFtfc2libGluZ3NUb1Jlc3RvcmVdID0gc2libGluZ3NUb1Jlc3RvcmU7XG4gICAgICAob2xkSW5lcnQgYXMgTWF5YmVIYXNJbnRlcm5hbFN0YXRlKVtfcGFyZW50TU9dID0gdW5kZWZpbmVkO1xuICAgICAgKG9sZEluZXJ0IGFzIE1heWJlSGFzSW50ZXJuYWxTdGF0ZSlbX3NpYmxpbmdzVG9SZXN0b3JlXSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlcyBvcmlnaW5hbCBpbmVydG5lc3MgdG8gdGhlIHNpYmxpbmdzIG9mIHRoZSBlbGVtZW50cy5cbiAgICAgKiBTZXRzIHRoZSBwcm9wZXJ0eSBgaW5lcnRgIG92ZXIgdGhlIGF0dHJpYnV0ZSBzaW5jZSB0aGUgaW5lcnQgc3BlY1xuICAgICAqIGRvZXNuJ3Qgc3BlY2lmeSBpZiBpdCBzaG91bGQgYmUgcmVmbGVjdGVkLlxuICAgICAqIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2ludGVyYWN0aW9uLmh0bWwjaW5lcnRcbiAgICAgKi9cbiAgICBwcml2YXRlW19yZXN0b3JlSW5lcnRlZFNpYmxpbmdzXShlbGVtZW50czogSGFzSW50ZXJuYWxTdGF0ZVtdKSB7XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgY29uc3QgbW8gPSBlbGVtZW50W19wYXJlbnRNT107XG4gICAgICAgIG1vLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgKGVsZW1lbnQgYXMgTWF5YmVIYXNJbnRlcm5hbFN0YXRlKVtfcGFyZW50TU9dID0gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzaWJsaW5ncyA9IGVsZW1lbnRbX3NpYmxpbmdzVG9SZXN0b3JlXTtcbiAgICAgICAgZm9yIChjb25zdCBzaWJsaW5nIG9mIHNpYmxpbmdzKSB7XG4gICAgICAgICAgc2libGluZy5pbmVydCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIChlbGVtZW50IGFzIE1heWJlSGFzSW50ZXJuYWxTdGF0ZSlbX3NpYmxpbmdzVG9SZXN0b3JlXSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmVydHMgdGhlIHNpYmxpbmdzIG9mIHRoZSBlbGVtZW50cyBleGNlcHQgdGhlIGVsZW1lbnRzIHRvIHNraXAuIFN0b3Jlc1xuICAgICAqIHRoZSBpbmVydGVkIHNpYmxpbmdzIGludG8gdGhlIGVsZW1lbnQncyBzeW1ib2wgYF9zaWJsaW5nc1RvUmVzdG9yZWAuXG4gICAgICogUGFzcyBgdG9LZWVwSW5lcnRgIHRvIGNvbGxlY3QgdGhlIGFscmVhZHkgaW5lcnQgZWxlbWVudHMuXG4gICAgICogU2V0cyB0aGUgcHJvcGVydHkgYGluZXJ0YCBvdmVyIHRoZSBhdHRyaWJ1dGUgc2luY2UgdGhlIGluZXJ0IHNwZWNcbiAgICAgKiBkb2Vzbid0IHNwZWNpZnkgaWYgaXQgc2hvdWxkIGJlIHJlZmxlY3RlZC5cbiAgICAgKiBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbnRlcmFjdGlvbi5odG1sI2luZXJ0XG4gICAgICovXG4gICAgcHJpdmF0ZVtfaW5lcnRTaWJsaW5nc10oXG4gICAgICAgIGVsZW1lbnRzOiBNYXliZUhhc0ludGVybmFsU3RhdGVbXSwgdG9Ta2lwOiBTZXQ8SFRNTEVsZW1lbnQ+fG51bGwsXG4gICAgICAgIHRvS2VlcEluZXJ0OiBTZXQ8SFRNTEVsZW1lbnQ+fG51bGwpIHtcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAvLyBBc3N1bWUgZWxlbWVudCBpcyBub3QgYSBEb2N1bWVudCwgc28gaXQgbXVzdCBoYXZlIGEgcGFyZW50Tm9kZS5cbiAgICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlITtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBwYXJlbnQuY2hpbGRyZW47XG4gICAgICAgIGNvbnN0IGluZXJ0ZWRTaWJsaW5ncyA9IG5ldyBTZXQ8SFRNTEVsZW1lbnQ+KCk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICBjb25zdCBzaWJsaW5nID0gY2hpbGRyZW5bal0gYXMgTWF5YmVIYXNJbnRlcm5hbFN0YXRlO1xuICAgICAgICAgIC8vIFNraXAgdGhlIGlucHV0IGVsZW1lbnQsIGlmIG5vdCBpbmVydGFibGUgb3IgdG8gYmUgc2tpcHBlZC5cbiAgICAgICAgICBpZiAoc2libGluZyA9PT0gZWxlbWVudCB8fCAhdGhpc1tfaXNJbmVydGFibGVdKHNpYmxpbmcpIHx8XG4gICAgICAgICAgICAgICh0b1NraXAgJiYgdG9Ta2lwLmhhcyhzaWJsaW5nKSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBTaG91bGQgYmUgY29sbGVjdGVkIHNpbmNlIGFscmVhZHkgaW5lcnRlZC5cbiAgICAgICAgICBpZiAodG9LZWVwSW5lcnQgJiYgc2libGluZy5pbmVydCkge1xuICAgICAgICAgICAgdG9LZWVwSW5lcnQuYWRkKHNpYmxpbmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaWJsaW5nLmluZXJ0ID0gdHJ1ZTtcbiAgICAgICAgICAgIGluZXJ0ZWRTaWJsaW5ncy5hZGQoc2libGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFN0b3JlIHRoZSBzaWJsaW5ncyB0aGF0IHdlcmUgaW5lcnRlZC5cbiAgICAgICAgZWxlbWVudFtfc2libGluZ3NUb1Jlc3RvcmVdID0gaW5lcnRlZFNpYmxpbmdzO1xuICAgICAgICAvLyBPYnNlcnZlIG9ubHkgaW1tZWRpYXRlIGNoaWxkcmVuIG11dGF0aW9ucyBvbiB0aGUgcGFyZW50LlxuICAgICAgICBjb25zdCBtbyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXNbX2hhbmRsZU11dGF0aW9uc10uYmluZCh0aGlzKSk7XG4gICAgICAgIGVsZW1lbnRbX3BhcmVudE1PXSA9IG1vO1xuICAgICAgICBsZXQgcGFyZW50VG9PYnNlcnZlID0gcGFyZW50O1xuICAgICAgICAvLyBJZiB3ZSdyZSB1c2luZyB0aGUgU2hhZHlET00gcG9seWZpbGwsIHRoZW4gb3VyIHBhcmVudCBjb3VsZCBiZSBhXG4gICAgICAgIC8vIHNoYWR5IHJvb3QsIHdoaWNoIGlzIGFuIG9iamVjdCB0aGF0IGFjdHMgbGlrZSBhIFNoYWRvd1Jvb3QsIGJ1dCBpc24ndFxuICAgICAgICAvLyBhY3R1YWxseSBhIG5vZGUgaW4gdGhlIHJlYWwgRE9NLiBPYnNlcnZlIHRoZSByZWFsIERPTSBwYXJlbnQgaW5zdGVhZC5cbiAgICAgICAgY29uc3QgbWF5YmVTaGFkeVJvb3QgPSBwYXJlbnRUb09ic2VydmUgYXMgTWF5YmVTaGFkeVJvb3Q7XG4gICAgICAgIGlmIChtYXliZVNoYWR5Um9vdC5fX3NoYWR5ICYmIG1heWJlU2hhZHlSb290Lmhvc3QpIHtcbiAgICAgICAgICBwYXJlbnRUb09ic2VydmUgPSBtYXliZVNoYWR5Um9vdC5ob3N0O1xuICAgICAgICB9XG4gICAgICAgIG1vLm9ic2VydmUocGFyZW50VG9PYnNlcnZlLCB7XG4gICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIG5ld2x5IGFkZGVkL3JlbW92ZWQgbm9kZXMgYnkgdG9nZ2xpbmcgdGhlaXIgaW5lcnRuZXNzLlxuICAgICAqIEl0IGFsc28gY2hlY2tzIGlmIHRoZSBjdXJyZW50IHRvcCBCbG9ja2luZyBFbGVtZW50IGhhcyBiZWVuIHJlbW92ZWQsXG4gICAgICogbm90aWZ5aW5nIGFuZCByZW1vdmluZyBpdC5cbiAgICAgKi9cbiAgICBwcml2YXRlW19oYW5kbGVNdXRhdGlvbnNdKG11dGF0aW9uczogTXV0YXRpb25SZWNvcmRbXSk6IHZvaWQge1xuICAgICAgY29uc3QgcGFyZW50cyA9IHRoaXNbX3RvcEVsUGFyZW50c107XG4gICAgICBjb25zdCB0b0tlZXBJbmVydCA9IHRoaXNbX2FscmVhZHlJbmVydEVsZW1lbnRzXTtcbiAgICAgIGZvciAoY29uc3QgbXV0YXRpb24gb2YgbXV0YXRpb25zKSB7XG4gICAgICAgIC8vIElmIHRoZSB0YXJnZXQgaXMgYSBzaGFkb3dSb290LCBnZXQgaXRzIGhvc3QgYXMgd2Ugc2tpcCBzaGFkb3dSb290cyB3aGVuXG4gICAgICAgIC8vIGNvbXB1dGluZyBfdG9wRWxQYXJlbnRzLlxuICAgICAgICBjb25zdCB0YXJnZXQgPSAobXV0YXRpb24udGFyZ2V0IGFzIFNoYWRvd1Jvb3QpLmhvc3QgfHwgbXV0YXRpb24udGFyZ2V0O1xuICAgICAgICBjb25zdCBpZHggPSB0YXJnZXQgPT09IGRvY3VtZW50LmJvZHkgP1xuICAgICAgICAgICAgcGFyZW50cy5sZW5ndGggOlxuICAgICAgICAgICAgcGFyZW50cy5pbmRleE9mKHRhcmdldCBhcyBIYXNJbnRlcm5hbFN0YXRlKTtcbiAgICAgICAgY29uc3QgaW5lcnRlZENoaWxkID0gcGFyZW50c1tpZHggLSAxXTtcbiAgICAgICAgY29uc3QgaW5lcnRlZFNpYmxpbmdzID0gaW5lcnRlZENoaWxkW19zaWJsaW5nc1RvUmVzdG9yZV07XG5cbiAgICAgICAgLy8gVG8gcmVzdG9yZS5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXRhdGlvbi5yZW1vdmVkTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBzaWJsaW5nID0gbXV0YXRpb24ucmVtb3ZlZE5vZGVzW2ldIGFzIE1heWJlSGFzSW50ZXJuYWxTdGF0ZTtcbiAgICAgICAgICBpZiAoc2libGluZyA9PT0gaW5lcnRlZENoaWxkKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ0RldGVjdGVkIHJlbW92YWwgb2YgdGhlIHRvcCBCbG9ja2luZyBFbGVtZW50LicpO1xuICAgICAgICAgICAgdGhpcy5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZXJ0ZWRTaWJsaW5ncy5oYXMoc2libGluZykpIHtcbiAgICAgICAgICAgIHNpYmxpbmcuaW5lcnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGluZXJ0ZWRTaWJsaW5ncy5kZWxldGUoc2libGluZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG8gaW5lcnQuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHNpYmxpbmcgPSBtdXRhdGlvbi5hZGRlZE5vZGVzW2ldIGFzIE1heWJlSGFzSW50ZXJuYWxTdGF0ZTtcbiAgICAgICAgICBpZiAoIXRoaXNbX2lzSW5lcnRhYmxlXShzaWJsaW5nKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0b0tlZXBJbmVydCAmJiBzaWJsaW5nLmluZXJ0KSB7XG4gICAgICAgICAgICB0b0tlZXBJbmVydC5hZGQoc2libGluZyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNpYmxpbmcuaW5lcnQgPSB0cnVlO1xuICAgICAgICAgICAgaW5lcnRlZFNpYmxpbmdzLmFkZChzaWJsaW5nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlmIHRoZSBlbGVtZW50IGlzIGluZXJ0YWJsZS5cbiAgICAgKi9cbiAgICBwcml2YXRlW19pc0luZXJ0YWJsZV0oZWxlbWVudDogSFRNTEVsZW1lbnQpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiBmYWxzZSA9PT0gL14oc3R5bGV8dGVtcGxhdGV8c2NyaXB0KSQvLnRlc3QoZWxlbWVudC5sb2NhbE5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgbmV3UGFyZW50cyBvZiBhbiBlbGVtZW50LCBzdGFydGluZyBmcm9tIGVsZW1lbnRcbiAgICAgKiAoaW5jbHVkZWQpIHVwIHRvIGBkb2N1bWVudC5ib2R5YCAoZXhjbHVkZWQpLlxuICAgICAqL1xuICAgIHByaXZhdGVbX2dldFBhcmVudHNdKGVsZW1lbnQ6IEhUTUxFbGVtZW50KTogQXJyYXk8SFRNTEVsZW1lbnQ+IHtcbiAgICAgIGNvbnN0IHBhcmVudHMgPSBbXTtcbiAgICAgIGxldCBjdXJyZW50OiBIVE1MRWxlbWVudHxudWxsfHVuZGVmaW5lZCA9IGVsZW1lbnQ7XG4gICAgICAvLyBTdG9wIHRvIGJvZHkuXG4gICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIC8vIFNraXAgc2hhZG93IHJvb3RzLlxuICAgICAgICBpZiAoY3VycmVudC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICBwYXJlbnRzLnB1c2goY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hhZG93RG9tIHYxXG4gICAgICAgIGlmIChjdXJyZW50LmFzc2lnbmVkU2xvdCkge1xuICAgICAgICAgIC8vIENvbGxlY3Qgc2xvdHMgZnJvbSBkZWVwZXN0IHNsb3QgdG8gdG9wLlxuICAgICAgICAgIHdoaWxlIChjdXJyZW50ID0gY3VycmVudC5hc3NpZ25lZFNsb3QpIHtcbiAgICAgICAgICAgIHBhcmVudHMucHVzaChjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gQ29udGludWUgdGhlIHNlYXJjaCBvbiB0aGUgdG9wIHNsb3QuXG4gICAgICAgICAgY3VycmVudCA9IHBhcmVudHMucG9wKCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucGFyZW50Tm9kZSBhcyBIVE1MRWxlbWVudCB8fFxuICAgICAgICAgICAgKGN1cnJlbnQgYXMgTm9kZSBhcyBTaGFkb3dSb290KS5ob3N0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmVudHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGlzdHJpYnV0ZWQgY2hpbGRyZW4gb2YgdGhlIGVsZW1lbnQncyBzaGFkb3cgcm9vdC5cbiAgICAgKiBSZXR1cm5zIG51bGwgaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGEgc2hhZG93IHJvb3QuXG4gICAgICovXG4gICAgcHJpdmF0ZVtfZ2V0RGlzdHJpYnV0ZWRDaGlsZHJlbl0oZWxlbWVudDogSFRNTEVsZW1lbnQpOlxuICAgICAgICBTZXQ8SFRNTEVsZW1lbnQ+fG51bGwge1xuICAgICAgY29uc3Qgc2hhZG93Um9vdCA9IGVsZW1lbnQuc2hhZG93Um9vdDtcbiAgICAgIGlmICghc2hhZG93Um9vdCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBTZXQ8SFRNTEVsZW1lbnQ+KCk7XG4gICAgICBsZXQgaTtcbiAgICAgIGxldCBqO1xuICAgICAgbGV0IG5vZGVzO1xuICAgICAgY29uc3Qgc2xvdHMgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ3Nsb3QnKTtcbiAgICAgIGlmIChzbG90cy5sZW5ndGggJiYgc2xvdHNbMF0uYXNzaWduZWROb2Rlcykge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc2xvdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBub2RlcyA9IHNsb3RzW2ldLmFzc2lnbmVkTm9kZXMoe1xuICAgICAgICAgICAgZmxhdHRlbjogdHJ1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbm9kZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChub2Rlc1tqXS5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREUpIHtcbiAgICAgICAgICAgICAgcmVzdWx0LmFkZChub2Rlc1tqXSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5vIG5lZWQgdG8gc2VhcmNoIGZvciA8Y29udGVudD4uXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIChkb2N1bWVudCBhcyBEb2N1bWVudFdpdGhCbG9ja2luZ0VsZW1lbnRzKS4kYmxvY2tpbmdFbGVtZW50cyA9XG4gICAgICBuZXcgQmxvY2tpbmdFbGVtZW50c0ltcGwoKTtcbn0pKCk7XG4iLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vKipcbiAqIFRoaXMgd29yayBpcyBsaWNlbnNlZCB1bmRlciB0aGUgVzNDIFNvZnR3YXJlIGFuZCBEb2N1bWVudCBMaWNlbnNlXG4gKiAoaHR0cDovL3d3dy53My5vcmcvQ29uc29ydGl1bS9MZWdhbC8yMDE1L2NvcHlyaWdodC1zb2Z0d2FyZS1hbmQtZG9jdW1lbnQpLlxuICovXG5cbihmdW5jdGlvbiAoKSB7XG4gIC8vIFJldHVybiBlYXJseSBpZiB3ZSdyZSBub3QgcnVubmluZyBpbnNpZGUgb2YgdGhlIGJyb3dzZXIuXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciBjb252ZXJ0aW5nIE5vZGVMaXN0cy5cbiAgLyoqIEB0eXBlIHt0eXBlb2YgQXJyYXkucHJvdG90eXBlLnNsaWNlfSAqL1xuICB2YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbiAgLyoqXG4gICAqIElFIGhhcyBhIG5vbi1zdGFuZGFyZCBuYW1lIGZvciBcIm1hdGNoZXNcIi5cbiAgICogQHR5cGUge3R5cGVvZiBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzfVxuICAgKi9cbiAgdmFyIG1hdGNoZXMgPSBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzIHx8IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yO1xuXG4gIC8qKiBAdHlwZSB7c3RyaW5nfSAqL1xuICB2YXIgX2ZvY3VzYWJsZUVsZW1lbnRzU3RyaW5nID0gWydhW2hyZWZdJywgJ2FyZWFbaHJlZl0nLCAnaW5wdXQ6bm90KFtkaXNhYmxlZF0pJywgJ3NlbGVjdDpub3QoW2Rpc2FibGVkXSknLCAndGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pJywgJ2J1dHRvbjpub3QoW2Rpc2FibGVkXSknLCAnZGV0YWlscycsICdzdW1tYXJ5JywgJ2lmcmFtZScsICdvYmplY3QnLCAnZW1iZWQnLCAnW2NvbnRlbnRlZGl0YWJsZV0nXS5qb2luKCcsJyk7XG5cbiAgLyoqXG4gICAqIGBJbmVydFJvb3RgIG1hbmFnZXMgYSBzaW5nbGUgaW5lcnQgc3VidHJlZSwgaS5lLiBhIERPTSBzdWJ0cmVlIHdob3NlIHJvb3QgZWxlbWVudCBoYXMgYW4gYGluZXJ0YFxuICAgKiBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEl0cyBtYWluIGZ1bmN0aW9ucyBhcmU6XG4gICAqXG4gICAqIC0gdG8gY3JlYXRlIGFuZCBtYWludGFpbiBhIHNldCBvZiBtYW5hZ2VkIGBJbmVydE5vZGVgcywgaW5jbHVkaW5nIHdoZW4gbXV0YXRpb25zIG9jY3VyIGluIHRoZVxuICAgKiAgIHN1YnRyZWUuIFRoZSBgbWFrZVN1YnRyZWVVbmZvY3VzYWJsZSgpYCBtZXRob2QgaGFuZGxlcyBjb2xsZWN0aW5nIGBJbmVydE5vZGVgcyB2aWEgcmVnaXN0ZXJpbmdcbiAgICogICBlYWNoIGZvY3VzYWJsZSBub2RlIGluIHRoZSBzdWJ0cmVlIHdpdGggdGhlIHNpbmdsZXRvbiBgSW5lcnRNYW5hZ2VyYCB3aGljaCBtYW5hZ2VzIGFsbCBrbm93blxuICAgKiAgIGZvY3VzYWJsZSBub2RlcyB3aXRoaW4gaW5lcnQgc3VidHJlZXMuIGBJbmVydE1hbmFnZXJgIGVuc3VyZXMgdGhhdCBhIHNpbmdsZSBgSW5lcnROb2RlYFxuICAgKiAgIGluc3RhbmNlIGV4aXN0cyBmb3IgZWFjaCBmb2N1c2FibGUgbm9kZSB3aGljaCBoYXMgYXQgbGVhc3Qgb25lIGluZXJ0IHJvb3QgYXMgYW4gYW5jZXN0b3IuXG4gICAqXG4gICAqIC0gdG8gbm90aWZ5IGFsbCBtYW5hZ2VkIGBJbmVydE5vZGVgcyB3aGVuIHRoaXMgc3VidHJlZSBzdG9wcyBiZWluZyBpbmVydCAoaS5lLiB3aGVuIHRoZSBgaW5lcnRgXG4gICAqICAgYXR0cmlidXRlIGlzIHJlbW92ZWQgZnJvbSB0aGUgcm9vdCBub2RlKS4gVGhpcyBpcyBoYW5kbGVkIGluIHRoZSBkZXN0cnVjdG9yLCB3aGljaCBjYWxscyB0aGVcbiAgICogICBgZGVyZWdpc3RlcmAgbWV0aG9kIG9uIGBJbmVydE1hbmFnZXJgIGZvciBlYWNoIG1hbmFnZWQgaW5lcnQgbm9kZS5cbiAgICovXG5cbiAgdmFyIEluZXJ0Um9vdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gcm9vdEVsZW1lbnQgVGhlIEhUTUxFbGVtZW50IGF0IHRoZSByb290IG9mIHRoZSBpbmVydCBzdWJ0cmVlLlxuICAgICAqIEBwYXJhbSB7IUluZXJ0TWFuYWdlcn0gaW5lcnRNYW5hZ2VyIFRoZSBnbG9iYWwgc2luZ2xldG9uIEluZXJ0TWFuYWdlciBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSW5lcnRSb290KHJvb3RFbGVtZW50LCBpbmVydE1hbmFnZXIpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbmVydFJvb3QpO1xuXG4gICAgICAvKiogQHR5cGUgeyFJbmVydE1hbmFnZXJ9ICovXG4gICAgICB0aGlzLl9pbmVydE1hbmFnZXIgPSBpbmVydE1hbmFnZXI7XG5cbiAgICAgIC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL1xuICAgICAgdGhpcy5fcm9vdEVsZW1lbnQgPSByb290RWxlbWVudDtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7IVNldDwhSW5lcnROb2RlPn1cbiAgICAgICAqIEFsbCBtYW5hZ2VkIGZvY3VzYWJsZSBub2RlcyBpbiB0aGlzIEluZXJ0Um9vdCdzIHN1YnRyZWUuXG4gICAgICAgKi9cbiAgICAgIHRoaXMuX21hbmFnZWROb2RlcyA9IG5ldyBTZXQoKTtcblxuICAgICAgLy8gTWFrZSB0aGUgc3VidHJlZSBoaWRkZW4gZnJvbSBhc3Npc3RpdmUgdGVjaG5vbG9neVxuICAgICAgaWYgKHRoaXMuX3Jvb3RFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKSkge1xuICAgICAgICAvKiogQHR5cGUgez9zdHJpbmd9ICovXG4gICAgICAgIHRoaXMuX3NhdmVkQXJpYUhpZGRlbiA9IHRoaXMuX3Jvb3RFbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3NhdmVkQXJpYUhpZGRlbiA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLl9yb290RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgLy8gTWFrZSBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzIGluIHRoZSBzdWJ0cmVlIHVuZm9jdXNhYmxlIGFuZCBhZGQgdGhlbSB0byBfbWFuYWdlZE5vZGVzXG4gICAgICB0aGlzLl9tYWtlU3VidHJlZVVuZm9jdXNhYmxlKHRoaXMuX3Jvb3RFbGVtZW50KTtcblxuICAgICAgLy8gV2F0Y2ggZm9yOlxuICAgICAgLy8gLSBhbnkgYWRkaXRpb25zIGluIHRoZSBzdWJ0cmVlOiBtYWtlIHRoZW0gdW5mb2N1c2FibGUgdG9vXG4gICAgICAvLyAtIGFueSByZW1vdmFscyBmcm9tIHRoZSBzdWJ0cmVlOiByZW1vdmUgdGhlbSBmcm9tIHRoaXMgaW5lcnQgcm9vdCdzIG1hbmFnZWQgbm9kZXNcbiAgICAgIC8vIC0gYXR0cmlidXRlIGNoYW5nZXM6IGlmIGB0YWJpbmRleGAgaXMgYWRkZWQsIG9yIHJlbW92ZWQgZnJvbSBhbiBpbnRyaW5zaWNhbGx5IGZvY3VzYWJsZVxuICAgICAgLy8gICBlbGVtZW50LCBtYWtlIHRoYXQgbm9kZSBhIG1hbmFnZWQgbm9kZS5cbiAgICAgIHRoaXMuX29ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fb25NdXRhdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuX29ic2VydmVyLm9ic2VydmUodGhpcy5fcm9vdEVsZW1lbnQsIHsgYXR0cmlidXRlczogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgdGhpcyB3aGVuZXZlciB0aGlzIG9iamVjdCBpcyBhYm91dCB0byBiZWNvbWUgb2Jzb2xldGUuICBUaGlzIHVud2luZHMgYWxsIG9mIHRoZSBzdGF0ZVxuICAgICAqIHN0b3JlZCBpbiB0aGlzIG9iamVjdCBhbmQgdXBkYXRlcyB0aGUgc3RhdGUgb2YgYWxsIG9mIHRoZSBtYW5hZ2VkIG5vZGVzLlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoSW5lcnRSb290LCBbe1xuICAgICAga2V5OiAnZGVzdHJ1Y3RvcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9yb290RWxlbWVudCkge1xuICAgICAgICAgIGlmICh0aGlzLl9zYXZlZEFyaWFIaWRkZW4gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3Jvb3RFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0aGlzLl9zYXZlZEFyaWFIaWRkZW4pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9yb290RWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFuYWdlZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGluZXJ0Tm9kZSkge1xuICAgICAgICAgIHRoaXMuX3VubWFuYWdlTm9kZShpbmVydE5vZGUubm9kZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIC8vIE5vdGUgd2UgY2FzdCB0aGUgbnVsbHMgdG8gdGhlIEFOWSB0eXBlIGhlcmUgYmVjYXVzZTpcbiAgICAgICAgLy8gMSkgV2Ugd2FudCB0aGUgY2xhc3MgcHJvcGVydGllcyB0byBiZSBkZWNsYXJlZCBhcyBub24tbnVsbCwgb3IgZWxzZSB3ZVxuICAgICAgICAvLyAgICBuZWVkIGV2ZW4gbW9yZSBjYXN0cyB0aHJvdWdob3V0IHRoaXMgY29kZS4gQWxsIGJldHMgYXJlIG9mZiBpZiBhblxuICAgICAgICAvLyAgICBpbnN0YW5jZSBoYXMgYmVlbiBkZXN0cm95ZWQgYW5kIGEgbWV0aG9kIGlzIGNhbGxlZC5cbiAgICAgICAgLy8gMikgV2UgZG9uJ3Qgd2FudCB0byBjYXN0IFwidGhpc1wiLCBiZWNhdXNlIHdlIHdhbnQgdHlwZS1hd2FyZSBvcHRpbWl6YXRpb25zXG4gICAgICAgIC8vICAgIHRvIGtub3cgd2hpY2ggcHJvcGVydGllcyB3ZSdyZSBzZXR0aW5nLlxuICAgICAgICB0aGlzLl9vYnNlcnZlciA9IC8qKiBAdHlwZSB7P30gKi9udWxsO1xuICAgICAgICB0aGlzLl9yb290RWxlbWVudCA9IC8qKiBAdHlwZSB7P30gKi9udWxsO1xuICAgICAgICB0aGlzLl9tYW5hZ2VkTm9kZXMgPSAvKiogQHR5cGUgez99ICovbnVsbDtcbiAgICAgICAgdGhpcy5faW5lcnRNYW5hZ2VyID0gLyoqIEB0eXBlIHs/fSAqL251bGw7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQHJldHVybiB7IVNldDwhSW5lcnROb2RlPn0gQSBjb3B5IG9mIHRoaXMgSW5lcnRSb290J3MgbWFuYWdlZCBub2RlcyBzZXQuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ19tYWtlU3VidHJlZVVuZm9jdXNhYmxlJyxcblxuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7IU5vZGV9IHN0YXJ0Tm9kZVxuICAgICAgICovXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX21ha2VTdWJ0cmVlVW5mb2N1c2FibGUoc3RhcnROb2RlKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIGNvbXBvc2VkVHJlZVdhbGsoc3RhcnROb2RlLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczIuX3Zpc2l0Tm9kZShub2RlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuXG4gICAgICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhzdGFydE5vZGUpKSB7XG4gICAgICAgICAgLy8gc3RhcnROb2RlIG1heSBiZSBpbiBzaGFkb3cgRE9NLCBzbyBmaW5kIGl0cyBuZWFyZXN0IHNoYWRvd1Jvb3QgdG8gZ2V0IHRoZSBhY3RpdmVFbGVtZW50LlxuICAgICAgICAgIHZhciBub2RlID0gc3RhcnROb2RlO1xuICAgICAgICAgIC8qKiBAdHlwZSB7IVNoYWRvd1Jvb3R8dW5kZWZpbmVkfSAqL1xuICAgICAgICAgIHZhciByb290ID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFKSB7XG4gICAgICAgICAgICAgIHJvb3QgPSAvKiogQHR5cGUgeyFTaGFkb3dSb290fSAqL25vZGU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJvb3QpIHtcbiAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSByb290LmFjdGl2ZUVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydE5vZGUuY29udGFpbnMoYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICBhY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICAgICAgICAvLyBJbiBJRTExLCBpZiBhbiBlbGVtZW50IGlzIGFscmVhZHkgZm9jdXNlZCwgYW5kIHRoZW4gc2V0IHRvIHRhYmluZGV4PS0xXG4gICAgICAgICAgLy8gY2FsbGluZyBibHVyKCkgd2lsbCBub3QgYWN0dWFsbHkgbW92ZSB0aGUgZm9jdXMuXG4gICAgICAgICAgLy8gVG8gd29yayBhcm91bmQgdGhpcyB3ZSBjYWxsIGZvY3VzKCkgb24gdGhlIGJvZHkgaW5zdGVhZC5cbiAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiAnX3Zpc2l0Tm9kZScsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3Zpc2l0Tm9kZShub2RlKSB7XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL25vZGU7XG5cbiAgICAgICAgLy8gSWYgYSBkZXNjZW5kYW50IGluZXJ0IHJvb3QgYmVjb21lcyB1bi1pbmVydCwgaXRzIGRlc2NlbmRhbnRzIHdpbGwgc3RpbGwgYmUgaW5lcnQgYmVjYXVzZSBvZlxuICAgICAgICAvLyB0aGlzIGluZXJ0IHJvb3QsIHNvIGFsbCBvZiBpdHMgbWFuYWdlZCBub2RlcyBuZWVkIHRvIGJlIGFkb3B0ZWQgYnkgdGhpcyBJbmVydFJvb3QuXG4gICAgICAgIGlmIChlbGVtZW50ICE9PSB0aGlzLl9yb290RWxlbWVudCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnaW5lcnQnKSkge1xuICAgICAgICAgIHRoaXMuX2Fkb3B0SW5lcnRSb290KGVsZW1lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1hdGNoZXMuY2FsbChlbGVtZW50LCBfZm9jdXNhYmxlRWxlbWVudHNTdHJpbmcpIHx8IGVsZW1lbnQuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XG4gICAgICAgICAgdGhpcy5fbWFuYWdlTm9kZShlbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlZ2lzdGVyIHRoZSBnaXZlbiBub2RlIHdpdGggdGhpcyBJbmVydFJvb3QgYW5kIHdpdGggSW5lcnRNYW5hZ2VyLlxuICAgICAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6ICdfbWFuYWdlTm9kZScsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX21hbmFnZU5vZGUobm9kZSkge1xuICAgICAgICB2YXIgaW5lcnROb2RlID0gdGhpcy5faW5lcnRNYW5hZ2VyLnJlZ2lzdGVyKG5vZGUsIHRoaXMpO1xuICAgICAgICB0aGlzLl9tYW5hZ2VkTm9kZXMuYWRkKGluZXJ0Tm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogVW5yZWdpc3RlciB0aGUgZ2l2ZW4gbm9kZSB3aXRoIHRoaXMgSW5lcnRSb290IGFuZCB3aXRoIEluZXJ0TWFuYWdlci5cbiAgICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiAnX3VubWFuYWdlTm9kZScsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gX3VubWFuYWdlTm9kZShub2RlKSB7XG4gICAgICAgIHZhciBpbmVydE5vZGUgPSB0aGlzLl9pbmVydE1hbmFnZXIuZGVyZWdpc3Rlcihub2RlLCB0aGlzKTtcbiAgICAgICAgaWYgKGluZXJ0Tm9kZSkge1xuICAgICAgICAgIHRoaXMuX21hbmFnZWROb2Rlc1snZGVsZXRlJ10oaW5lcnROb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFVucmVnaXN0ZXIgdGhlIGVudGlyZSBzdWJ0cmVlIHN0YXJ0aW5nIGF0IGBzdGFydE5vZGVgLlxuICAgICAgICogQHBhcmFtIHshTm9kZX0gc3RhcnROb2RlXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ191bm1hbmFnZVN1YnRyZWUnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91bm1hbmFnZVN1YnRyZWUoc3RhcnROb2RlKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIGNvbXBvc2VkVHJlZVdhbGsoc3RhcnROb2RlLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgIHJldHVybiBfdGhpczMuX3VubWFuYWdlTm9kZShub2RlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogSWYgYSBkZXNjZW5kYW50IG5vZGUgaXMgZm91bmQgd2l0aCBhbiBgaW5lcnRgIGF0dHJpYnV0ZSwgYWRvcHQgaXRzIG1hbmFnZWQgbm9kZXMuXG4gICAgICAgKiBAcGFyYW0geyFIVE1MRWxlbWVudH0gbm9kZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6ICdfYWRvcHRJbmVydFJvb3QnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9hZG9wdEluZXJ0Um9vdChub2RlKSB7XG4gICAgICAgIHZhciBpbmVydFN1YnJvb3QgPSB0aGlzLl9pbmVydE1hbmFnZXIuZ2V0SW5lcnRSb290KG5vZGUpO1xuXG4gICAgICAgIC8vIER1cmluZyBpbml0aWFsaXNhdGlvbiB0aGlzIGluZXJ0IHJvb3QgbWF5IG5vdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCB5ZXQsXG4gICAgICAgIC8vIHNvIHJlZ2lzdGVyIGl0IG5vdyBpZiBuZWVkIGJlLlxuICAgICAgICBpZiAoIWluZXJ0U3Vicm9vdCkge1xuICAgICAgICAgIHRoaXMuX2luZXJ0TWFuYWdlci5zZXRJbmVydChub2RlLCB0cnVlKTtcbiAgICAgICAgICBpbmVydFN1YnJvb3QgPSB0aGlzLl9pbmVydE1hbmFnZXIuZ2V0SW5lcnRSb290KG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5lcnRTdWJyb290Lm1hbmFnZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChzYXZlZEluZXJ0Tm9kZSkge1xuICAgICAgICAgIHRoaXMuX21hbmFnZU5vZGUoc2F2ZWRJbmVydE5vZGUubm9kZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxiYWNrIHVzZWQgd2hlbiBtdXRhdGlvbiBvYnNlcnZlciBkZXRlY3RzIHN1YnRyZWUgYWRkaXRpb25zLCByZW1vdmFscywgb3IgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKiBAcGFyYW0geyFBcnJheTwhTXV0YXRpb25SZWNvcmQ+fSByZWNvcmRzXG4gICAgICAgKiBAcGFyYW0geyFNdXRhdGlvbk9ic2VydmVyfSBzZWxmXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ19vbk11dGF0aW9uJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfb25NdXRhdGlvbihyZWNvcmRzLCBzZWxmKSB7XG4gICAgICAgIHJlY29yZHMuZm9yRWFjaChmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgICAgdmFyIHRhcmdldCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL3JlY29yZC50YXJnZXQ7XG4gICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSAnY2hpbGRMaXN0Jykge1xuICAgICAgICAgICAgLy8gTWFuYWdlIGFkZGVkIG5vZGVzXG4gICAgICAgICAgICBzbGljZS5jYWxsKHJlY29yZC5hZGRlZE5vZGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgIHRoaXMuX21ha2VTdWJ0cmVlVW5mb2N1c2FibGUobm9kZSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICAgICAgLy8gVW4tbWFuYWdlIHJlbW92ZWQgbm9kZXNcbiAgICAgICAgICAgIHNsaWNlLmNhbGwocmVjb3JkLnJlbW92ZWROb2RlcykuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICB0aGlzLl91bm1hbmFnZVN1YnRyZWUobm9kZSk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSAnYXR0cmlidXRlcycpIHtcbiAgICAgICAgICAgIGlmIChyZWNvcmQuYXR0cmlidXRlTmFtZSA9PT0gJ3RhYmluZGV4Jykge1xuICAgICAgICAgICAgICAvLyBSZS1pbml0aWFsaXNlIGluZXJ0IG5vZGUgaWYgdGFiaW5kZXggY2hhbmdlc1xuICAgICAgICAgICAgICB0aGlzLl9tYW5hZ2VOb2RlKHRhcmdldCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldCAhPT0gdGhpcy5fcm9vdEVsZW1lbnQgJiYgcmVjb3JkLmF0dHJpYnV0ZU5hbWUgPT09ICdpbmVydCcgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnaW5lcnQnKSkge1xuICAgICAgICAgICAgICAvLyBJZiBhIG5ldyBpbmVydCByb290IGlzIGFkZGVkLCBhZG9wdCBpdHMgbWFuYWdlZCBub2RlcyBhbmQgbWFrZSBzdXJlIGl0IGtub3dzIGFib3V0IHRoZVxuICAgICAgICAgICAgICAvLyBhbHJlYWR5IG1hbmFnZWQgbm9kZXMgZnJvbSB0aGlzIGluZXJ0IHN1YnJvb3QuXG4gICAgICAgICAgICAgIHRoaXMuX2Fkb3B0SW5lcnRSb290KHRhcmdldCk7XG4gICAgICAgICAgICAgIHZhciBpbmVydFN1YnJvb3QgPSB0aGlzLl9pbmVydE1hbmFnZXIuZ2V0SW5lcnRSb290KHRhcmdldCk7XG4gICAgICAgICAgICAgIHRoaXMuX21hbmFnZWROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChtYW5hZ2VkTm9kZSkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY29udGFpbnMobWFuYWdlZE5vZGUubm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgIGluZXJ0U3Vicm9vdC5fbWFuYWdlTm9kZShtYW5hZ2VkTm9kZS5ub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnbWFuYWdlZE5vZGVzJyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFNldCh0aGlzLl9tYW5hZ2VkTm9kZXMpO1xuICAgICAgfVxuXG4gICAgICAvKiogQHJldHVybiB7Ym9vbGVhbn0gKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ2hhc1NhdmVkQXJpYUhpZGRlbicsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmVkQXJpYUhpZGRlbiAhPT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLyoqIEBwYXJhbSB7P3N0cmluZ30gYXJpYUhpZGRlbiAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiAnc2F2ZWRBcmlhSGlkZGVuJyxcbiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGFyaWFIaWRkZW4pIHtcbiAgICAgICAgdGhpcy5fc2F2ZWRBcmlhSGlkZGVuID0gYXJpYUhpZGRlbjtcbiAgICAgIH1cblxuICAgICAgLyoqIEByZXR1cm4gez9zdHJpbmd9ICovXG4gICAgICAsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmVkQXJpYUhpZGRlbjtcbiAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gSW5lcnRSb290O1xuICB9KCk7XG5cbiAgLyoqXG4gICAqIGBJbmVydE5vZGVgIGluaXRpYWxpc2VzIGFuZCBtYW5hZ2VzIGEgc2luZ2xlIGluZXJ0IG5vZGUuXG4gICAqIEEgbm9kZSBpcyBpbmVydCBpZiBpdCBpcyBhIGRlc2NlbmRhbnQgb2Ygb25lIG9yIG1vcmUgaW5lcnQgcm9vdCBlbGVtZW50cy5cbiAgICpcbiAgICogT24gY29uc3RydWN0aW9uLCBgSW5lcnROb2RlYCBzYXZlcyB0aGUgZXhpc3RpbmcgYHRhYmluZGV4YCB2YWx1ZSBmb3IgdGhlIG5vZGUsIGlmIGFueSwgYW5kXG4gICAqIGVpdGhlciByZW1vdmVzIHRoZSBgdGFiaW5kZXhgIGF0dHJpYnV0ZSBvciBzZXRzIGl0IHRvIGAtMWAsIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBlbGVtZW50XG4gICAqIGlzIGludHJpbnNpY2FsbHkgZm9jdXNhYmxlIG9yIG5vdC5cbiAgICpcbiAgICogYEluZXJ0Tm9kZWAgbWFpbnRhaW5zIGEgc2V0IG9mIGBJbmVydFJvb3RgcyB3aGljaCBhcmUgZGVzY2VuZGFudHMgb2YgdGhpcyBgSW5lcnROb2RlYC4gV2hlbiBhblxuICAgKiBgSW5lcnRSb290YCBpcyBkZXN0cm95ZWQsIGFuZCBjYWxscyBgSW5lcnRNYW5hZ2VyLmRlcmVnaXN0ZXIoKWAsIHRoZSBgSW5lcnRNYW5hZ2VyYCBub3RpZmllcyB0aGVcbiAgICogYEluZXJ0Tm9kZWAgdmlhIGByZW1vdmVJbmVydFJvb3QoKWAsIHdoaWNoIGluIHR1cm4gZGVzdHJveXMgdGhlIGBJbmVydE5vZGVgIGlmIG5vIGBJbmVydFJvb3Rgc1xuICAgKiByZW1haW4gaW4gdGhlIHNldC4gT24gZGVzdHJ1Y3Rpb24sIGBJbmVydE5vZGVgIHJlaW5zdGF0ZXMgdGhlIHN0b3JlZCBgdGFiaW5kZXhgIGlmIG9uZSBleGlzdHMsXG4gICAqIG9yIHJlbW92ZXMgdGhlIGB0YWJpbmRleGAgYXR0cmlidXRlIGlmIHRoZSBlbGVtZW50IGlzIGludHJpbnNpY2FsbHkgZm9jdXNhYmxlLlxuICAgKi9cblxuXG4gIHZhciBJbmVydE5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHshTm9kZX0gbm9kZSBBIGZvY3VzYWJsZSBlbGVtZW50IHRvIGJlIG1hZGUgaW5lcnQuXG4gICAgICogQHBhcmFtIHshSW5lcnRSb290fSBpbmVydFJvb3QgVGhlIGluZXJ0IHJvb3QgZWxlbWVudCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbmVydCBub2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEluZXJ0Tm9kZShub2RlLCBpbmVydFJvb3QpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbmVydE5vZGUpO1xuXG4gICAgICAvKiogQHR5cGUgeyFOb2RlfSAqL1xuICAgICAgdGhpcy5fbm9kZSA9IG5vZGU7XG5cbiAgICAgIC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi9cbiAgICAgIHRoaXMuX292ZXJyb2RlRm9jdXNNZXRob2QgPSBmYWxzZTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAdHlwZSB7IVNldDwhSW5lcnRSb290Pn0gVGhlIHNldCBvZiBkZXNjZW5kYW50IGluZXJ0IHJvb3RzLlxuICAgICAgICogICAgSWYgYW5kIG9ubHkgaWYgdGhpcyBzZXQgYmVjb21lcyBlbXB0eSwgdGhpcyBub2RlIGlzIG5vIGxvbmdlciBpbmVydC5cbiAgICAgICAqL1xuICAgICAgdGhpcy5faW5lcnRSb290cyA9IG5ldyBTZXQoW2luZXJ0Um9vdF0pO1xuXG4gICAgICAvKiogQHR5cGUgez9udW1iZXJ9ICovXG4gICAgICB0aGlzLl9zYXZlZFRhYkluZGV4ID0gbnVsbDtcblxuICAgICAgLyoqIEB0eXBlIHtib29sZWFufSAqL1xuICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgIC8vIFNhdmUgYW55IHByaW9yIHRhYmluZGV4IGluZm8gYW5kIG1ha2UgdGhpcyBub2RlIHVudGFiYmFibGVcbiAgICAgIHRoaXMuZW5zdXJlVW50YWJiYWJsZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGwgdGhpcyB3aGVuZXZlciB0aGlzIG9iamVjdCBpcyBhYm91dCB0byBiZWNvbWUgb2Jzb2xldGUuXG4gICAgICogVGhpcyBtYWtlcyB0aGUgbWFuYWdlZCBub2RlIGZvY3VzYWJsZSBhZ2FpbiBhbmQgZGVsZXRlcyBhbGwgb2YgdGhlIHByZXZpb3VzbHkgc3RvcmVkIHN0YXRlLlxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoSW5lcnROb2RlLCBbe1xuICAgICAga2V5OiAnZGVzdHJ1Y3RvcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dJZkRlc3Ryb3llZCgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ub2RlICYmIHRoaXMuX25vZGUubm9kZVR5cGUgPT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgdmFyIGVsZW1lbnQgPSAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi90aGlzLl9ub2RlO1xuICAgICAgICAgIGlmICh0aGlzLl9zYXZlZFRhYkluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCB0aGlzLl9zYXZlZFRhYkluZGV4KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gVXNlIGBkZWxldGVgIHRvIHJlc3RvcmUgbmF0aXZlIGZvY3VzIG1ldGhvZC5cbiAgICAgICAgICBpZiAodGhpcy5fb3ZlcnJvZGVGb2N1c01ldGhvZCkge1xuICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQuZm9jdXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2VlIG5vdGUgaW4gSW5lcnRSb290LmRlc3RydWN0b3IgZm9yIHdoeSB3ZSBjYXN0IHRoZXNlIG51bGxzIHRvIEFOWS5cbiAgICAgICAgdGhpcy5fbm9kZSA9IC8qKiBAdHlwZSB7P30gKi9udWxsO1xuICAgICAgICB0aGlzLl9pbmVydFJvb3RzID0gLyoqIEB0eXBlIHs/fSAqL251bGw7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQHR5cGUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBvYmplY3QgaXMgb2Jzb2xldGUgYmVjYXVzZSB0aGUgbWFuYWdlZCBub2RlIGlzIG5vIGxvbmdlciBpbmVydC5cbiAgICAgICAqIElmIHRoZSBvYmplY3QgaGFzIGJlZW4gZGVzdHJveWVkLCBhbnkgYXR0ZW1wdCB0byBhY2Nlc3MgaXQgd2lsbCBjYXVzZSBhbiBleGNlcHRpb24uXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ190aHJvd0lmRGVzdHJveWVkJyxcblxuXG4gICAgICAvKipcbiAgICAgICAqIFRocm93IGlmIHVzZXIgdHJpZXMgdG8gYWNjZXNzIGRlc3Ryb3llZCBJbmVydE5vZGUuXG4gICAgICAgKi9cbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdGhyb3dJZkRlc3Ryb3llZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVzdHJveWVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGRlc3Ryb3llZCBJbmVydE5vZGUnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiogQHJldHVybiB7Ym9vbGVhbn0gKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ2Vuc3VyZVVudGFiYmFibGUnLFxuXG5cbiAgICAgIC8qKiBTYXZlIHRoZSBleGlzdGluZyB0YWJpbmRleCB2YWx1ZSBhbmQgbWFrZSB0aGUgbm9kZSB1bnRhYmJhYmxlIGFuZCB1bmZvY3VzYWJsZSAqL1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGVuc3VyZVVudGFiYmFibGUoKSB7XG4gICAgICAgIGlmICh0aGlzLm5vZGUubm9kZVR5cGUgIT09IE5vZGUuRUxFTUVOVF9OT0RFKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50ID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovdGhpcy5ub2RlO1xuICAgICAgICBpZiAobWF0Y2hlcy5jYWxsKGVsZW1lbnQsIF9mb2N1c2FibGVFbGVtZW50c1N0cmluZykpIHtcbiAgICAgICAgICBpZiAoIC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL2VsZW1lbnQudGFiSW5kZXggPT09IC0xICYmIHRoaXMuaGFzU2F2ZWRUYWJJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgndGFiaW5kZXgnKSkge1xuICAgICAgICAgICAgdGhpcy5fc2F2ZWRUYWJJbmRleCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL2VsZW1lbnQudGFiSW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgZWxlbWVudC5mb2N1cyA9IGZ1bmN0aW9uICgpIHt9O1xuICAgICAgICAgICAgdGhpcy5fb3ZlcnJvZGVGb2N1c01ldGhvZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCd0YWJpbmRleCcpKSB7XG4gICAgICAgICAgdGhpcy5fc2F2ZWRUYWJJbmRleCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL2VsZW1lbnQudGFiSW5kZXg7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBBZGQgYW5vdGhlciBpbmVydCByb290IHRvIHRoaXMgaW5lcnQgbm9kZSdzIHNldCBvZiBtYW5hZ2luZyBpbmVydCByb290cy5cbiAgICAgICAqIEBwYXJhbSB7IUluZXJ0Um9vdH0gaW5lcnRSb290XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ2FkZEluZXJ0Um9vdCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkSW5lcnRSb290KGluZXJ0Um9vdCkge1xuICAgICAgICB0aGlzLl90aHJvd0lmRGVzdHJveWVkKCk7XG4gICAgICAgIHRoaXMuX2luZXJ0Um9vdHMuYWRkKGluZXJ0Um9vdCk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogUmVtb3ZlIHRoZSBnaXZlbiBpbmVydCByb290IGZyb20gdGhpcyBpbmVydCBub2RlJ3Mgc2V0IG9mIG1hbmFnaW5nIGluZXJ0IHJvb3RzLlxuICAgICAgICogSWYgdGhlIHNldCBvZiBtYW5hZ2luZyBpbmVydCByb290cyBiZWNvbWVzIGVtcHR5LCB0aGlzIG5vZGUgaXMgbm8gbG9uZ2VyIGluZXJ0LFxuICAgICAgICogc28gdGhlIG9iamVjdCBzaG91bGQgYmUgZGVzdHJveWVkLlxuICAgICAgICogQHBhcmFtIHshSW5lcnRSb290fSBpbmVydFJvb3RcbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiAncmVtb3ZlSW5lcnRSb290JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVJbmVydFJvb3QoaW5lcnRSb290KSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZEZXN0cm95ZWQoKTtcbiAgICAgICAgdGhpcy5faW5lcnRSb290c1snZGVsZXRlJ10oaW5lcnRSb290KTtcbiAgICAgICAgaWYgKHRoaXMuX2luZXJ0Um9vdHMuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuZGVzdHJ1Y3RvcigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAnZGVzdHJveWVkJyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gKC8qKiBAdHlwZSB7IUluZXJ0Tm9kZX0gKi90aGlzLl9kZXN0cm95ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdoYXNTYXZlZFRhYkluZGV4JyxcbiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2F2ZWRUYWJJbmRleCAhPT0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLyoqIEByZXR1cm4geyFOb2RlfSAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiAnbm9kZScsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dJZkRlc3Ryb3llZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZTtcbiAgICAgIH1cblxuICAgICAgLyoqIEBwYXJhbSB7P251bWJlcn0gdGFiSW5kZXggKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ3NhdmVkVGFiSW5kZXgnLFxuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodGFiSW5kZXgpIHtcbiAgICAgICAgdGhpcy5fdGhyb3dJZkRlc3Ryb3llZCgpO1xuICAgICAgICB0aGlzLl9zYXZlZFRhYkluZGV4ID0gdGFiSW5kZXg7XG4gICAgICB9XG5cbiAgICAgIC8qKiBAcmV0dXJuIHs/bnVtYmVyfSAqL1xuICAgICAgLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHRoaXMuX3Rocm93SWZEZXN0cm95ZWQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhdmVkVGFiSW5kZXg7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIEluZXJ0Tm9kZTtcbiAgfSgpO1xuXG4gIC8qKlxuICAgKiBJbmVydE1hbmFnZXIgaXMgYSBwZXItZG9jdW1lbnQgc2luZ2xldG9uIG9iamVjdCB3aGljaCBtYW5hZ2VzIGFsbCBpbmVydCByb290cyBhbmQgbm9kZXMuXG4gICAqXG4gICAqIFdoZW4gYW4gZWxlbWVudCBiZWNvbWVzIGFuIGluZXJ0IHJvb3QgYnkgaGF2aW5nIGFuIGBpbmVydGAgYXR0cmlidXRlIHNldCBhbmQvb3IgaXRzIGBpbmVydGBcbiAgICogcHJvcGVydHkgc2V0IHRvIGB0cnVlYCwgdGhlIGBzZXRJbmVydGAgbWV0aG9kIGNyZWF0ZXMgYW4gYEluZXJ0Um9vdGAgb2JqZWN0IGZvciB0aGUgZWxlbWVudC5cbiAgICogVGhlIGBJbmVydFJvb3RgIGluIHR1cm4gcmVnaXN0ZXJzIGl0c2VsZiBhcyBtYW5hZ2luZyBhbGwgb2YgdGhlIGVsZW1lbnQncyBmb2N1c2FibGUgZGVzY2VuZGFudFxuICAgKiBub2RlcyB2aWEgdGhlIGByZWdpc3RlcigpYCBtZXRob2QuIFRoZSBgSW5lcnRNYW5hZ2VyYCBlbnN1cmVzIHRoYXQgYSBzaW5nbGUgYEluZXJ0Tm9kZWAgaW5zdGFuY2VcbiAgICogaXMgY3JlYXRlZCBmb3IgZWFjaCBzdWNoIG5vZGUsIHZpYSB0aGUgYF9tYW5hZ2VkTm9kZXNgIG1hcC5cbiAgICovXG5cblxuICB2YXIgSW5lcnRNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7IURvY3VtZW50fSBkb2N1bWVudFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEluZXJ0TWFuYWdlcihkb2N1bWVudCkge1xuICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZXJ0TWFuYWdlcik7XG5cbiAgICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50OyBJbmVydE1hbmFnZXIgbmVlZHMgdG8gd3JhcCBhIGRvY3VtZW50LicpO1xuICAgICAgfVxuXG4gICAgICAvKiogQHR5cGUgeyFEb2N1bWVudH0gKi9cbiAgICAgIHRoaXMuX2RvY3VtZW50ID0gZG9jdW1lbnQ7XG5cbiAgICAgIC8qKlxuICAgICAgICogQWxsIG1hbmFnZWQgbm9kZXMga25vd24gdG8gdGhpcyBJbmVydE1hbmFnZXIuIEluIGEgbWFwIHRvIGFsbG93IGxvb2tpbmcgdXAgYnkgTm9kZS5cbiAgICAgICAqIEB0eXBlIHshTWFwPCFOb2RlLCAhSW5lcnROb2RlPn1cbiAgICAgICAqL1xuICAgICAgdGhpcy5fbWFuYWdlZE5vZGVzID0gbmV3IE1hcCgpO1xuXG4gICAgICAvKipcbiAgICAgICAqIEFsbCBpbmVydCByb290cyBrbm93biB0byB0aGlzIEluZXJ0TWFuYWdlci4gSW4gYSBtYXAgdG8gYWxsb3cgbG9va2luZyB1cCBieSBOb2RlLlxuICAgICAgICogQHR5cGUgeyFNYXA8IU5vZGUsICFJbmVydFJvb3Q+fVxuICAgICAgICovXG4gICAgICB0aGlzLl9pbmVydFJvb3RzID0gbmV3IE1hcCgpO1xuXG4gICAgICAvKipcbiAgICAgICAqIE9ic2VydmVyIGZvciBtdXRhdGlvbnMgb24gYGRvY3VtZW50LmJvZHlgLlxuICAgICAgICogQHR5cGUgeyFNdXRhdGlvbk9ic2VydmVyfVxuICAgICAgICovXG4gICAgICB0aGlzLl9vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMuX3dhdGNoRm9ySW5lcnQuYmluZCh0aGlzKSk7XG5cbiAgICAgIC8vIEFkZCBpbmVydCBzdHlsZS5cbiAgICAgIGFkZEluZXJ0U3R5bGUoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIGRvY3VtZW50IHRvIGJlIGxvYWRlZC5cbiAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnbG9hZGluZycpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHRoaXMuX29uRG9jdW1lbnRMb2FkZWQuYmluZCh0aGlzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9vbkRvY3VtZW50TG9hZGVkKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHdoZXRoZXIgdGhlIGdpdmVuIGVsZW1lbnQgc2hvdWxkIGJlIGFuIGluZXJ0IHJvb3Qgb3Igbm90LlxuICAgICAqIEBwYXJhbSB7IUhUTUxFbGVtZW50fSByb290XG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmVydFxuICAgICAqL1xuXG5cbiAgICBfY3JlYXRlQ2xhc3MoSW5lcnRNYW5hZ2VyLCBbe1xuICAgICAga2V5OiAnc2V0SW5lcnQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEluZXJ0KHJvb3QsIGluZXJ0KSB7XG4gICAgICAgIGlmIChpbmVydCkge1xuICAgICAgICAgIGlmICh0aGlzLl9pbmVydFJvb3RzLmhhcyhyb290KSkge1xuICAgICAgICAgICAgLy8gZWxlbWVudCBpcyBhbHJlYWR5IGluZXJ0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGluZXJ0Um9vdCA9IG5ldyBJbmVydFJvb3Qocm9vdCwgdGhpcyk7XG4gICAgICAgICAgcm9vdC5zZXRBdHRyaWJ1dGUoJ2luZXJ0JywgJycpO1xuICAgICAgICAgIHRoaXMuX2luZXJ0Um9vdHMuc2V0KHJvb3QsIGluZXJ0Um9vdCk7XG4gICAgICAgICAgLy8gSWYgbm90IGNvbnRhaW5lZCBpbiB0aGUgZG9jdW1lbnQsIGl0IG11c3QgYmUgaW4gYSBzaGFkb3dSb290LlxuICAgICAgICAgIC8vIEVuc3VyZSBpbmVydCBzdHlsZXMgYXJlIGFkZGVkIHRoZXJlLlxuICAgICAgICAgIGlmICghdGhpcy5fZG9jdW1lbnQuYm9keS5jb250YWlucyhyb290KSkge1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IHJvb3QucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgaWYgKHBhcmVudC5ub2RlVHlwZSA9PT0gMTEpIHtcbiAgICAgICAgICAgICAgICBhZGRJbmVydFN0eWxlKHBhcmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghdGhpcy5faW5lcnRSb290cy5oYXMocm9vdCkpIHtcbiAgICAgICAgICAgIC8vIGVsZW1lbnQgaXMgYWxyZWFkeSBub24taW5lcnRcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgX2luZXJ0Um9vdCA9IHRoaXMuX2luZXJ0Um9vdHMuZ2V0KHJvb3QpO1xuICAgICAgICAgIF9pbmVydFJvb3QuZGVzdHJ1Y3RvcigpO1xuICAgICAgICAgIHRoaXMuX2luZXJ0Um9vdHNbJ2RlbGV0ZSddKHJvb3QpO1xuICAgICAgICAgIHJvb3QucmVtb3ZlQXR0cmlidXRlKCdpbmVydCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogR2V0IHRoZSBJbmVydFJvb3Qgb2JqZWN0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGluZXJ0IHJvb3QgZWxlbWVudCwgaWYgYW55LlxuICAgICAgICogQHBhcmFtIHshTm9kZX0gZWxlbWVudFxuICAgICAgICogQHJldHVybiB7IUluZXJ0Um9vdHx1bmRlZmluZWR9XG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ2dldEluZXJ0Um9vdCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5lcnRSb290KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZXJ0Um9vdHMuZ2V0KGVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIFJlZ2lzdGVyIHRoZSBnaXZlbiBJbmVydFJvb3QgYXMgbWFuYWdpbmcgdGhlIGdpdmVuIG5vZGUuXG4gICAgICAgKiBJbiB0aGUgY2FzZSB3aGVyZSB0aGUgbm9kZSBoYXMgYSBwcmV2aW91c2x5IGV4aXN0aW5nIGluZXJ0IHJvb3QsIHRoaXMgaW5lcnQgcm9vdCB3aWxsXG4gICAgICAgKiBiZSBhZGRlZCB0byBpdHMgc2V0IG9mIGluZXJ0IHJvb3RzLlxuICAgICAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgICAgICogQHBhcmFtIHshSW5lcnRSb290fSBpbmVydFJvb3RcbiAgICAgICAqIEByZXR1cm4geyFJbmVydE5vZGV9IGluZXJ0Tm9kZVxuICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICBrZXk6ICdyZWdpc3RlcicsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXIobm9kZSwgaW5lcnRSb290KSB7XG4gICAgICAgIHZhciBpbmVydE5vZGUgPSB0aGlzLl9tYW5hZ2VkTm9kZXMuZ2V0KG5vZGUpO1xuICAgICAgICBpZiAoaW5lcnROb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBub2RlIHdhcyBhbHJlYWR5IGluIGFuIGluZXJ0IHN1YnRyZWVcbiAgICAgICAgICBpbmVydE5vZGUuYWRkSW5lcnRSb290KGluZXJ0Um9vdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5lcnROb2RlID0gbmV3IEluZXJ0Tm9kZShub2RlLCBpbmVydFJvb3QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWFuYWdlZE5vZGVzLnNldChub2RlLCBpbmVydE5vZGUpO1xuXG4gICAgICAgIHJldHVybiBpbmVydE5vZGU7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogRGUtcmVnaXN0ZXIgdGhlIGdpdmVuIEluZXJ0Um9vdCBhcyBtYW5hZ2luZyB0aGUgZ2l2ZW4gaW5lcnQgbm9kZS5cbiAgICAgICAqIFJlbW92ZXMgdGhlIGluZXJ0IHJvb3QgZnJvbSB0aGUgSW5lcnROb2RlJ3Mgc2V0IG9mIG1hbmFnaW5nIGluZXJ0IHJvb3RzLCBhbmQgcmVtb3ZlIHRoZSBpbmVydFxuICAgICAgICogbm9kZSBmcm9tIHRoZSBJbmVydE1hbmFnZXIncyBzZXQgb2YgbWFuYWdlZCBub2RlcyBpZiBpdCBpcyBkZXN0cm95ZWQuXG4gICAgICAgKiBJZiB0aGUgbm9kZSBpcyBub3QgY3VycmVudGx5IG1hbmFnZWQsIHRoaXMgaXMgZXNzZW50aWFsbHkgYSBuby1vcC5cbiAgICAgICAqIEBwYXJhbSB7IU5vZGV9IG5vZGVcbiAgICAgICAqIEBwYXJhbSB7IUluZXJ0Um9vdH0gaW5lcnRSb290XG4gICAgICAgKiBAcmV0dXJuIHs/SW5lcnROb2RlfSBUaGUgcG90ZW50aWFsbHkgZGVzdHJveWVkIEluZXJ0Tm9kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBub2RlLCBpZiBhbnkuXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ2RlcmVnaXN0ZXInLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlcmVnaXN0ZXIobm9kZSwgaW5lcnRSb290KSB7XG4gICAgICAgIHZhciBpbmVydE5vZGUgPSB0aGlzLl9tYW5hZ2VkTm9kZXMuZ2V0KG5vZGUpO1xuICAgICAgICBpZiAoIWluZXJ0Tm9kZSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5lcnROb2RlLnJlbW92ZUluZXJ0Um9vdChpbmVydFJvb3QpO1xuICAgICAgICBpZiAoaW5lcnROb2RlLmRlc3Ryb3llZCkge1xuICAgICAgICAgIHRoaXMuX21hbmFnZWROb2Rlc1snZGVsZXRlJ10obm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5lcnROb2RlO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIENhbGxiYWNrIHVzZWQgd2hlbiBkb2N1bWVudCBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAga2V5OiAnX29uRG9jdW1lbnRMb2FkZWQnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkRvY3VtZW50TG9hZGVkKCkge1xuICAgICAgICAvLyBGaW5kIGFsbCBpbmVydCByb290cyBpbiBkb2N1bWVudCBhbmQgbWFrZSB0aGVtIGFjdHVhbGx5IGluZXJ0LlxuICAgICAgICB2YXIgaW5lcnRFbGVtZW50cyA9IHNsaWNlLmNhbGwodGhpcy5fZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2luZXJ0XScpKTtcbiAgICAgICAgaW5lcnRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChpbmVydEVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLnNldEluZXJ0KGluZXJ0RWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIC8vIENvbW1lbnQgdGhpcyBvdXQgdG8gdXNlIHByb2dyYW1tYXRpYyBBUEkgb25seS5cbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLl9kb2N1bWVudC5ib2R5IHx8IHRoaXMuX2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgeyBhdHRyaWJ1dGVzOiB0cnVlLCBzdWJ0cmVlOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUgfSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2FsbGJhY2sgdXNlZCB3aGVuIG11dGF0aW9uIG9ic2VydmVyIGRldGVjdHMgYXR0cmlidXRlIGNoYW5nZXMuXG4gICAgICAgKiBAcGFyYW0geyFBcnJheTwhTXV0YXRpb25SZWNvcmQ+fSByZWNvcmRzXG4gICAgICAgKiBAcGFyYW0geyFNdXRhdGlvbk9ic2VydmVyfSBzZWxmXG4gICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgIGtleTogJ193YXRjaEZvckluZXJ0JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBfd2F0Y2hGb3JJbmVydChyZWNvcmRzLCBzZWxmKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJlY29yZHMuZm9yRWFjaChmdW5jdGlvbiAocmVjb3JkKSB7XG4gICAgICAgICAgc3dpdGNoIChyZWNvcmQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnY2hpbGRMaXN0JzpcbiAgICAgICAgICAgICAgc2xpY2UuY2FsbChyZWNvcmQuYWRkZWROb2RlcykuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaW5lcnRFbGVtZW50cyA9IHNsaWNlLmNhbGwobm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbaW5lcnRdJykpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzLmNhbGwobm9kZSwgJ1tpbmVydF0nKSkge1xuICAgICAgICAgICAgICAgICAgaW5lcnRFbGVtZW50cy51bnNoaWZ0KG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmVydEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGluZXJ0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJbmVydChpbmVydEVsZW1lbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgIH0sIF90aGlzKTtcbiAgICAgICAgICAgICAgfSwgX3RoaXMpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2F0dHJpYnV0ZXMnOlxuICAgICAgICAgICAgICBpZiAocmVjb3JkLmF0dHJpYnV0ZU5hbWUgIT09ICdpbmVydCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IC8qKiBAdHlwZSB7IUhUTUxFbGVtZW50fSAqL3JlY29yZC50YXJnZXQ7XG4gICAgICAgICAgICAgIHZhciBpbmVydCA9IHRhcmdldC5oYXNBdHRyaWJ1dGUoJ2luZXJ0Jyk7XG4gICAgICAgICAgICAgIF90aGlzLnNldEluZXJ0KHRhcmdldCwgaW5lcnQpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBJbmVydE1hbmFnZXI7XG4gIH0oKTtcblxuICAvKipcbiAgICogUmVjdXJzaXZlbHkgd2FsayB0aGUgY29tcG9zZWQgdHJlZSBmcm9tIHxub2RlfC5cbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgKiBAcGFyYW0geyhmdW5jdGlvbiAoIUhUTUxFbGVtZW50KSk9fSBjYWxsYmFjayBDYWxsYmFjayB0byBiZSBjYWxsZWQgZm9yIGVhY2ggZWxlbWVudCB0cmF2ZXJzZWQsXG4gICAqICAgICBiZWZvcmUgZGVzY2VuZGluZyBpbnRvIGNoaWxkIG5vZGVzLlxuICAgKiBAcGFyYW0gez9TaGFkb3dSb290PX0gc2hhZG93Um9vdEFuY2VzdG9yIFRoZSBuZWFyZXN0IFNoYWRvd1Jvb3QgYW5jZXN0b3IsIGlmIGFueS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBjb21wb3NlZFRyZWVXYWxrKG5vZGUsIGNhbGxiYWNrLCBzaGFkb3dSb290QW5jZXN0b3IpIHtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSAvKiogQHR5cGUgeyFIVE1MRWxlbWVudH0gKi9ub2RlO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBEZXNjZW5kIGludG8gbm9kZTpcbiAgICAgIC8vIElmIGl0IGhhcyBhIFNoYWRvd1Jvb3QsIGlnbm9yZSBhbGwgY2hpbGQgZWxlbWVudHMgLSB0aGVzZSB3aWxsIGJlIHBpY2tlZFxuICAgICAgLy8gdXAgYnkgdGhlIDxjb250ZW50PiBvciA8c2hhZG93PiBlbGVtZW50cy4gRGVzY2VuZCBzdHJhaWdodCBpbnRvIHRoZVxuICAgICAgLy8gU2hhZG93Um9vdC5cbiAgICAgIHZhciBzaGFkb3dSb290ID0gLyoqIEB0eXBlIHshSFRNTEVsZW1lbnR9ICovZWxlbWVudC5zaGFkb3dSb290O1xuICAgICAgaWYgKHNoYWRvd1Jvb3QpIHtcbiAgICAgICAgY29tcG9zZWRUcmVlV2FsayhzaGFkb3dSb290LCBjYWxsYmFjaywgc2hhZG93Um9vdCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgaXQgaXMgYSA8Y29udGVudD4gZWxlbWVudCwgZGVzY2VuZCBpbnRvIGRpc3RyaWJ1dGVkIGVsZW1lbnRzIC0gdGhlc2VcbiAgICAgIC8vIGFyZSBlbGVtZW50cyBmcm9tIG91dHNpZGUgdGhlIHNoYWRvdyByb290IHdoaWNoIGFyZSByZW5kZXJlZCBpbnNpZGUgdGhlXG4gICAgICAvLyBzaGFkb3cgRE9NLlxuICAgICAgaWYgKGVsZW1lbnQubG9jYWxOYW1lID09ICdjb250ZW50Jykge1xuICAgICAgICB2YXIgY29udGVudCA9IC8qKiBAdHlwZSB7IUhUTUxDb250ZW50RWxlbWVudH0gKi9lbGVtZW50O1xuICAgICAgICAvLyBWZXJpZmllcyBpZiBTaGFkb3dEb20gdjAgaXMgc3VwcG9ydGVkLlxuICAgICAgICB2YXIgZGlzdHJpYnV0ZWROb2RlcyA9IGNvbnRlbnQuZ2V0RGlzdHJpYnV0ZWROb2RlcyA/IGNvbnRlbnQuZ2V0RGlzdHJpYnV0ZWROb2RlcygpIDogW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzdHJpYnV0ZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbXBvc2VkVHJlZVdhbGsoZGlzdHJpYnV0ZWROb2Rlc1tpXSwgY2FsbGJhY2ssIHNoYWRvd1Jvb3RBbmNlc3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiBpdCBpcyBhIDxzbG90PiBlbGVtZW50LCBkZXNjZW5kIGludG8gYXNzaWduZWQgbm9kZXMgLSB0aGVzZVxuICAgICAgLy8gYXJlIGVsZW1lbnRzIGZyb20gb3V0c2lkZSB0aGUgc2hhZG93IHJvb3Qgd2hpY2ggYXJlIHJlbmRlcmVkIGluc2lkZSB0aGVcbiAgICAgIC8vIHNoYWRvdyBET00uXG4gICAgICBpZiAoZWxlbWVudC5sb2NhbE5hbWUgPT0gJ3Nsb3QnKSB7XG4gICAgICAgIHZhciBzbG90ID0gLyoqIEB0eXBlIHshSFRNTFNsb3RFbGVtZW50fSAqL2VsZW1lbnQ7XG4gICAgICAgIC8vIFZlcmlmeSBpZiBTaGFkb3dEb20gdjEgaXMgc3VwcG9ydGVkLlxuICAgICAgICB2YXIgX2Rpc3RyaWJ1dGVkTm9kZXMgPSBzbG90LmFzc2lnbmVkTm9kZXMgPyBzbG90LmFzc2lnbmVkTm9kZXMoeyBmbGF0dGVuOiB0cnVlIH0pIDogW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfZGlzdHJpYnV0ZWROb2Rlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICBjb21wb3NlZFRyZWVXYWxrKF9kaXN0cmlidXRlZE5vZGVzW19pXSwgY2FsbGJhY2ssIHNoYWRvd1Jvb3RBbmNlc3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIGl0IGlzIG5laXRoZXIgdGhlIHBhcmVudCBvZiBhIFNoYWRvd1Jvb3QsIGEgPGNvbnRlbnQ+IGVsZW1lbnQsIGEgPHNsb3Q+XG4gICAgLy8gZWxlbWVudCwgbm9yIGEgPHNoYWRvdz4gZWxlbWVudCByZWN1cnNlIG5vcm1hbGx5LlxuICAgIHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICB3aGlsZSAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgY29tcG9zZWRUcmVlV2FsayhjaGlsZCwgY2FsbGJhY2ssIHNoYWRvd1Jvb3RBbmNlc3Rvcik7XG4gICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgc3R5bGUgZWxlbWVudCB0byB0aGUgbm9kZSBjb250YWluaW5nIHRoZSBpbmVydCBzcGVjaWZpYyBzdHlsZXNcbiAgICogQHBhcmFtIHshTm9kZX0gbm9kZVxuICAgKi9cbiAgZnVuY3Rpb24gYWRkSW5lcnRTdHlsZShub2RlKSB7XG4gICAgaWYgKG5vZGUucXVlcnlTZWxlY3Rvcignc3R5bGUjaW5lcnQtc3R5bGUsIGxpbmsjaW5lcnQtc3R5bGUnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnaWQnLCAnaW5lcnQtc3R5bGUnKTtcbiAgICBzdHlsZS50ZXh0Q29udGVudCA9ICdcXG4nICsgJ1tpbmVydF0ge1xcbicgKyAnICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4nICsgJyAgY3Vyc29yOiBkZWZhdWx0O1xcbicgKyAnfVxcbicgKyAnXFxuJyArICdbaW5lcnRdLCBbaW5lcnRdICoge1xcbicgKyAnICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbicgKyAnICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbicgKyAnICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuJyArICcgIHVzZXItc2VsZWN0OiBub25lO1xcbicgKyAnfVxcbic7XG4gICAgbm9kZS5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICBpZiAoIUhUTUxFbGVtZW50LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSgnaW5lcnQnKSkge1xuICAgIC8qKiBAdHlwZSB7IUluZXJ0TWFuYWdlcn0gKi9cbiAgICB2YXIgaW5lcnRNYW5hZ2VyID0gbmV3IEluZXJ0TWFuYWdlcihkb2N1bWVudCk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSFRNTEVsZW1lbnQucHJvdG90eXBlLCAnaW5lcnQnLCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgLyoqIEB0aGlzIHshSFRNTEVsZW1lbnR9ICovXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKCdpbmVydCcpO1xuICAgICAgfSxcbiAgICAgIC8qKiBAdGhpcyB7IUhUTUxFbGVtZW50fSAqL1xuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5lcnQpIHtcbiAgICAgICAgaW5lcnRNYW5hZ2VyLnNldEluZXJ0KHRoaXMsIGluZXJ0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSkoKTtcbiIsImltcG9ydCB7IGNsc3ggfSBmcm9tIFwiY2xzeFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RG9jdW1lbnQoZWxlbWVudD86IE5vZGUpIHsgcmV0dXJuIChlbGVtZW50Py5vd25lckRvY3VtZW50ID8/IGRvY3VtZW50ID8/IHdpbmRvdy5kb2N1bWVudCA/PyBnbG9iYWxUaGlzLmRvY3VtZW50KTsgfVxuXG50eXBlIFAgPSBQYXJhbWV0ZXJzPHR5cGVvZiBjbHN4PjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURvY3VtZW50Q2xhc3MoY2xhc3NOYW1lOiBQWzBdLCBhY3RpdmU/OiBib29sZWFuLCBlbGVtZW50PzogSFRNTEVsZW1lbnQpIHtcbiAgICBlbGVtZW50ID8/PSBnZXREb2N1bWVudCgpLmRvY3VtZW50RWxlbWVudDtcbiAgICBjbGFzc05hbWUgPSBjbHN4KGNsYXNzTmFtZSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGFjdGl2ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lIGFzIHN0cmluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sIFtjbGFzc05hbWUsIGFjdGl2ZSwgZWxlbWVudF0pO1xuXG59XG4iLCJpbXBvcnQgXCJibG9ja2luZy1lbGVtZW50c1wiO1xuaW1wb3J0IHsgRG9jdW1lbnRXaXRoQmxvY2tpbmdFbGVtZW50cyB9IGZyb20gXCJibG9ja2luZy1lbGVtZW50c1wiO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IFwid2ljZy1pbmVydFwiO1xuaW1wb3J0IHsgdXNlQWN0aXZlRWxlbWVudCB9IGZyb20gXCIuLi9vYnNlcnZlcnMvdXNlLWFjdGl2ZS1lbGVtZW50XCI7XG5pbXBvcnQgeyByZXR1cm5OdWxsLCB1c2VQYXNzaXZlU3RhdGUgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXBhc3NpdmUtc3RhdGVcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtY2FsbGJhY2tcIjtcbmltcG9ydCB7IGdldERvY3VtZW50IH0gZnJvbSBcIi4vdXNlLWRvY3VtZW50LWNsYXNzXCI7XG5cbmZ1bmN0aW9uIGJsb2NraW5nRWxlbWVudHMoKSB7IHJldHVybiAoZ2V0RG9jdW1lbnQoKSBhcyBEb2N1bWVudFdpdGhCbG9ja2luZ0VsZW1lbnRzKS4kYmxvY2tpbmdFbGVtZW50cyB9XG4vKipcbiAqIEFsbG93cyBhbiBlbGVtZW50IHRvIHRyYXAgZm9jdXMgYnkgYXBwbHlpbmcgdGhlIFwiaW5lcnRcIiBhdHRyaWJ1dGUgdG8gYWxsIHNpYmxpbmcsIGF1bnQsIGFuZCB1bmNsZSBub2Rlcy5cbiAqIFxuICogQXV0b21hdGljYWxseSBoYW5kbGVzIGNvbnNlY3V0aXZlIGNhbGxzIHdpdGggYSBsb29zZWx5IGFwcGxpZWQgc3RhY2sgb3BlcmF0aW9uIFxuICogKHNwZWNpZmljYWxseSB2aWEgYGJsb2NraW5nRWxlbWVudHNgLCB3aXRoIGEgc21hbGwgcG9seWZpbGwgYmVjYXVzZSBJJ20gbm90IHN1cmUgaG93IGxvbmdcbiAqIGl0J2xsIHRha2UgdG8gZmluZCBpdHMgd2F5IGludG8gdGhlIHNwZWMsIGlmIGV2ZXIpXG4gKiBAcGFyYW0gdGFyZ2V0IFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQmxvY2tpbmdFbGVtZW50PEUgZXh0ZW5kcyBFbGVtZW50PihlbmFibGVkOiBib29sZWFuLCBnZXRUYXJnZXQ6ICgpID0+IChFIHwgbnVsbCkpIHtcblxuICAgIGNvbnN0IHN0YWJsZUdldFRhcmdldCA9IHVzZVN0YWJsZUNhbGxiYWNrKGdldFRhcmdldCk7XG5cbiAgICBjb25zdCBnZXREb2N1bWVudCA9IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IChnZXRUYXJnZXQoKT8ub3duZXJEb2N1bWVudCA/PyBnbG9iYWxUaGlzLmRvY3VtZW50KSk7XG4gICAgdXNlQWN0aXZlRWxlbWVudCh7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnRQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBnZXREb2N1bWVudCxcbiAgICAgICAgICAgIG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2U6IHVzZVN0YWJsZUNhbGxiYWNrKChlOiBFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVuYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRMYXN0QWN0aXZlV2hlbk9wZW4oZSBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldExhc3RBY3RpdmVXaGVuQ2xvc2VkKGUgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc3QgW2dldFRvcCwgc2V0VG9wXSA9IHVzZVBhc3NpdmVTdGF0ZTxIVE1MRWxlbWVudCB8IG51bGwsIG5ldmVyPihudWxsLCByZXR1cm5OdWxsKTtcbiAgICBjb25zdCBbZ2V0TGFzdEFjdGl2ZVdoZW5DbG9zZWQsIHNldExhc3RBY3RpdmVXaGVuQ2xvc2VkXSA9IHVzZVBhc3NpdmVTdGF0ZTxIVE1MRWxlbWVudCB8IG51bGwsIG5ldmVyPihudWxsLCByZXR1cm5OdWxsKTtcbiAgICBjb25zdCBbZ2V0TGFzdEFjdGl2ZVdoZW5PcGVuLCBzZXRMYXN0QWN0aXZlV2hlbk9wZW5dID0gdXNlUGFzc2l2ZVN0YXRlPEhUTUxFbGVtZW50IHwgbnVsbCwgbmV2ZXI+KG51bGwsIHJldHVybk51bGwpO1xuXG4gICAgLyoqXG4gICAgICogUHVzaC9wb3AgdGhlIGVsZW1lbnQgZnJvbSB0aGUgYmxvY2tpbmdFbGVtZW50cyBzdGFjay5cbiAgICAgKi9cbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBzdGFibGVHZXRUYXJnZXQoKTtcblxuICAgICAgICBpZiAoZW5hYmxlZCkge1xuXG4gICAgICAgICAgICAvLyBTb21ldGltZXMgYmxvY2tpbmdFbGVtZW50cyB3aWxsIGZhaWwgaWYsIGZvciBleGFtcGxlLFxuICAgICAgICAgICAgLy8gdGhlIHRhcmdldCBlbGVtZW50IGlzbid0IGNvbm5lY3RlZCB0byBkb2N1bWVudC5ib2R5LlxuICAgICAgICAgICAgLy8gVGhpcyBpcyByYXJlLCBidXQgaXQncyBiZXR0ZXIgdG8gZmFpbCBzaWxlbnRseSB3aXRoIHdlaXJkIHRhYmJpbmcgYmVoYXZpb3JcbiAgICAgICAgICAgIC8vIHRoYW4gdG8gY3Jhc2ggdGhlIGVudGlyZSBhcHBsaWNhdGlvbi5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgYmxvY2tpbmdFbGVtZW50cygpLnB1c2godGFyZ2V0IGFzIEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgc2V0VG9wKHRhcmdldCBhcyBFbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBibG9ja2luZ0VsZW1lbnRzKCkucmVtb3ZlKHRhcmdldCBhcyBFbGVtZW50IGFzIEhUTUxFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgLy8gV2VsbCwgc2VtaS1zaWxlbnRseS5cbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtlbmFibGVkXSk7XG5cbiAgICByZXR1cm4geyBnZXRUb3AsIGdldExhc3RBY3RpdmVXaGVuQ2xvc2VkLCBnZXRMYXN0QWN0aXZlV2hlbk9wZW4gfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9wRWxlbWVudCgpIHtcbiAgICByZXR1cm4gYmxvY2tpbmdFbGVtZW50cygpLnRvcDtcbn1cblxuXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgaXNGb2N1c2FibGUsIGlzVGFiYmFibGUgfSBmcm9tIFwidGFiYmFibGVcIjtcbmltcG9ydCB7IHVzZUJsb2NraW5nRWxlbWVudCB9IGZyb20gXCIuLi9kb20taGVscGVycy91c2UtYmxvY2tpbmctZWxlbWVudFwiO1xuaW1wb3J0IHsgdXNlUmVmRWxlbWVudCwgVXNlUmVmRWxlbWVudFBhcmFtZXRlcnMsIFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL2RvbS1oZWxwZXJzL3VzZS1yZWYtZWxlbWVudFwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUZvY3VzVHJhcFBhcmFtZXRlcnM8U291cmNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQgfCBudWxsLCBQb3B1cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPFBvcHVwRWxlbWVudD4ge1xuICAgIGZvY3VzVHJhcFBhcmFtZXRlcnM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBmb2N1cyB0cmFwIGlzIGN1cnJlbnRseSBhY3RpdmUgKG9yLCB3aGVuIHVzZWQgYXMgcGFydCBvZiBhIGxhcmdlciBjb21wb25lbnQsIHdoZXRoZXIgaXQgaXMgYWN0aXZhdGFibGUpXG4gICAgICAgICAqL1xuICAgICAgICB0cmFwQWN0aXZlOiBib29sZWFuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBmb2N1cyBpcyBub3QgdHJhcHBlZCBidXQgb25seSBtb3ZlZCB0byB0aGUgbmV3IGVsZW1lbnQuIFxuICAgICAgICAgKi9cbiAgICAgICAgb25seU1vdmVGb2N1czogYm9vbGVhbjtcblxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGEgbW9kYWwgcG9wdXAgb3BlbnMsIGZvY3VzIG11c3QgYmUgc2VudCB0byB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IG1ha2VzIHNlbnNlLlxuICAgICAgICAgKiBcbiAgICAgICAgICogRm9yIGV4YW1wbGUsIGlmIGl0J3MgYSBjb25maXJtYXRpb24gZGlhbG9nIGFib3V0IGRlbGV0aW5nIHNvbWV0aGluZywgaXQncyBiZXN0IHRvIHNlbmQgZm9jdXMgdG8gdGhlIFwiY2FuY2VsXCIgYnV0dG9uLlxuICAgICAgICAgKiBcbiAgICAgICAgICogSW4gb3RoZXIgY2FzZXMsIGl0IG1ha2VzIG1vcmUgc2Vuc2UgdG8gZm9jdXMgdGhlIGRpYWxvZydzIHRpdGxlLCBmaXJzdCBpbnRlcmFjdGl2ZSBlbGVtZW50LCBldGMuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBUaGlzIGlzIGhpZ2hseSBzdWJqZWN0aXZlIGFuZCAqYWxtb3N0IEFMV0FZUyogbW9yZSBjb21wbGljYXRlZCB0aGFuIGp1c3QgXCJmb2N1cyB0aGUgd2hvbGUgZGlhbG9nIGVsZW1lbnQgaXRzZWxmXCIsXG4gICAgICAgICAqIGJlY2F1c2UgdGhhdCBvbmx5IHdvcmtzIGlmIHRoZSBkaWFsb2cgKioqb25seSBjb250YWlucyB0ZXh0KioqLCB3aGljaCBpcyB1bmNvbW1vbi5cbiAgICAgICAgICogXG4gICAgICAgICAqIElmIHlvdSByZWFsbHksIHJlYWxseSwgKioqZ2VudWluZWx5KioqIGNhbm5vdCBkZXRlcm1pbmUgd2hhdCBzaG91bGQgYmUgZG9uZSBpbiB5b3VyIHVzZSBjYXNlLFxuICAgICAgICAgKiBmaXJzdCBvZiBhbGwsIGtlZXAgdHJ5aW5nLCByZWFsbHksXG4gICAgICAgICAqIHRoZW4gYXMgYSB2ZXJ5IGxhc3QgcmVzb3J0LCB1c2UgYGZpbmRGaXJzdEZvY3VzYWJsZWAsIGFuZCB0aGVuIGlmIG5vdGhpbmcncyBmb3VuZCBmb2N1cyB0aGUgYm9keS4gIFxuICAgICAgICAgKiBKdXN0IHBsZWFzZSwgcGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHdoYXRldmVyIHRoYXQgZmlyc3QgZm9jdXNhYmxlIGlzICoqaXNuJ3QqKiBhIGRlc3RydWN0aXZlIGFjdGlvbiwgYXQgdGhlIHZlcnkgbGVhc3QuIFxuICAgICAgICAgKi9cbiAgICAgICAgZm9jdXNQb3B1cChlOiBQb3B1cEVsZW1lbnQsIGZpbmRGaXJzdEZvY3VzYWJsZTogKCkgPT4gSFRNTE9yU1ZHRWxlbWVudCB8IG51bGwpOiB2b2lkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBmb2N1cyB0cmFwIGhhcyBkZWFjdGl2YXRlZCwgZm9jdXMgbXVzdCBiZSBzZW50IGJhY2sgdG8gdGhlIGVsZW1lbnQgdGhhdCBvcGVuZWQgaXQuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBUaGlzIGlzIHRyYWNrZWQgZm9yIHlvdTsgYnkgZGVmYXVsdCwganVzdCBjYWxsIGBsYXN0Rm9jdXNlZD8uZm9jdXMoKWAsIGJ1dCB5b3UgY2FuIGFsc28gb3ZlcnJpZGUgdGhpcyBiZWhhdmlvclxuICAgICAgICAgKiBhbmQganVzdCBkbyB3aGF0ZXZlciB5b3Ugd2FudCB3aXRoIGFueSBlbGVtZW50LiAgXG4gICAgICAgICAqIEBwYXJhbSBsYXN0Rm9jdXNlZCBcbiAgICAgICAgICovXG4gICAgICAgIGZvY3VzT3BlbmVyKGxhc3RGb2N1c2VkOiBTb3VyY2VFbGVtZW50IHwgbnVsbCk6IHZvaWQ7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUZvY3VzVHJhcFJldHVyblR5cGU8RSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlUmVmRWxlbWVudFJldHVyblR5cGU8RT4ge1xuICAgIGZvY3VzVHJhcFJldHVybjogeyBwcm9wc1Vuc3RhYmxlOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPiB9XG59XG5cbi8vY29uc3QgZWxlbWVudHNUb1Jlc3RvcmVGb2N1c1RvID0gbmV3IE1hcDxFbGVtZW50IHwgbnVsbCwgKE5vZGUgJiBIVE1MT3JTVkdFbGVtZW50KT4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUZvY3VzVHJhcDxTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB8IG51bGwsIFBvcHVwRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBmb2N1c1RyYXBQYXJhbWV0ZXJzOiB7IG9ubHlNb3ZlRm9jdXMsIHRyYXBBY3RpdmUsIGZvY3VzUG9wdXA6IGZvY3VzU2VsZlVuc3RhYmxlLCBmb2N1c09wZW5lcjogZm9jdXNPcGVuZXJVbnN0YWJsZSB9LFxuICAgIHJlZkVsZW1lbnRQYXJhbWV0ZXJzXG59OiBVc2VGb2N1c1RyYXBQYXJhbWV0ZXJzPFNvdXJjZUVsZW1lbnQsIFBvcHVwRWxlbWVudD4pOiBVc2VGb2N1c1RyYXBSZXR1cm5UeXBlPFBvcHVwRWxlbWVudD4ge1xuXG4gICAgY29uc3QgeyBvbkVsZW1lbnRDaGFuZ2UsIC4uLnJlc3QgfSA9IChyZWZFbGVtZW50UGFyYW1ldGVycyB8fCB7fSk7XG5cbiAgICB0eXBlIEUgPSBQb3B1cEVsZW1lbnQ7XG5cbiAgICBjb25zdCBmb2N1c1NlbGYgPSB1c2VTdGFibGVDYWxsYmFjayhmb2N1c1NlbGZVbnN0YWJsZSk7XG4gICAgY29uc3QgZm9jdXNPcGVuZXIgPSB1c2VTdGFibGVDYWxsYmFjayhmb2N1c09wZW5lclVuc3RhYmxlKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICh0cmFwQWN0aXZlKSB7XG4gICAgICAgICAgICBsZXQgdG9wID0gZ2V0VG9wKCk7XG4gICAgICAgICAgICBjb25zdCBsYXN0Rm9jdXNlZEluVGhpc0NvbXBvbmVudCA9IGdldExhc3RBY3RpdmVXaGVuT3BlbigpO1xuXG4gICAgICAgICAgICBpZiAoZmFsc2UgJiYgbGFzdEZvY3VzZWRJblRoaXNDb21wb25lbnQgJiYgbGFzdEZvY3VzZWRJblRoaXNDb21wb25lbnQ/LmlzQ29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNTZWxmKGxhc3RGb2N1c2VkSW5UaGlzQ29tcG9uZW50IGFzIGFueSBhcyBQb3B1cEVsZW1lbnQsICgpID0+IGxhc3RGb2N1c2VkSW5UaGlzQ29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvcCA/Pz0gcmVmRWxlbWVudFJldHVybi5nZXRFbGVtZW50KCkgYXMgdW5rbm93biBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydCghIXRvcCk7XG4gICAgICAgICAgICAgICAgaWYgKHRvcClcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNTZWxmKHRvcCBhcyBhbnkgYXMgUG9wdXBFbGVtZW50LCAoKSA9PiBmaW5kRmlyc3RGb2N1c2FibGUodG9wISkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGFzdEFjdGl2ZSA9IGdldExhc3RBY3RpdmVXaGVuQ2xvc2VkKCk7XG4gICAgICAgICAgICBpZiAobGFzdEFjdGl2ZSlcbiAgICAgICAgICAgICAgICBmb2N1c09wZW5lcihsYXN0QWN0aXZlIGFzIGFueSBhcyBTb3VyY2VFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH0sIFt0cmFwQWN0aXZlXSlcblxuICAgIGNvbnN0IHsgcmVmRWxlbWVudFJldHVybiB9ID0gdXNlUmVmRWxlbWVudDxFPih7XG4gICAgICAgIHJlZkVsZW1lbnRQYXJhbWV0ZXJzOiB7IG9uRWxlbWVudENoYW5nZSwgLi4ucmVzdCB9XG4gICAgfSlcbiAgICBjb25zdCB7IGdldEVsZW1lbnQgfSA9IHJlZkVsZW1lbnRSZXR1cm47XG5cbiAgICBjb25zdCB7IGdldFRvcCwgZ2V0TGFzdEFjdGl2ZVdoZW5DbG9zZWQsIGdldExhc3RBY3RpdmVXaGVuT3BlbiB9ID0gdXNlQmxvY2tpbmdFbGVtZW50KHRyYXBBY3RpdmUgJiYgIW9ubHlNb3ZlRm9jdXMsIGdldEVsZW1lbnQpO1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICBmb2N1c1RyYXBSZXR1cm46IHsgcHJvcHNVbnN0YWJsZTogeyBcImFyaWEtbW9kYWxcIjogdHJhcEFjdGl2ZSA/IFwidHJ1ZVwiIDogdW5kZWZpbmVkIH0gYXMgaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4gfVxuICAgIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgZm9jdXNhYmxlIGVsZW1lbnQgY29udGFpbmVkIHdpdGhpbiB0aGUgZ2l2ZW4gbm9kZSwgb3IgbnVsbCBpZiBub25lIGFyZSBmb3VuZC5cbiAqIEBwYXJhbSBlbGVtZW50IFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRmlyc3RGb2N1c2FibGU8VCBleHRlbmRzIE5vZGU+KGVsZW1lbnQ6IFQpOiBUIHwgbnVsbCB7XG4gICAgcmV0dXJuIGZpbmRGaXJzdENvbmRpdGlvbjxUPihlbGVtZW50LCBub2RlID0+IG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50ICYmIGlzRm9jdXNhYmxlKG5vZGUpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCB0YWJiYWJsZSBlbGVtZW50IGNvbnRhaW5lZCB3aXRoaW4gdGhlIGdpdmVuIG5vZGUsIG9yIG51bGwgaWYgbm9uZSBhcmUgZm91bmQuXG4gKiBAcGFyYW0gZWxlbWVudCBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEZpcnN0VGFiYmFibGU8VCBleHRlbmRzIE5vZGU+KGVsZW1lbnQ6IFQpOiBUIHwgbnVsbCB7XG4gICAgcmV0dXJuIGZpbmRGaXJzdENvbmRpdGlvbjxUPihlbGVtZW50LCBub2RlID0+IG5vZGUgaW5zdGFuY2VvZiBFbGVtZW50ICYmIGlzVGFiYmFibGUobm9kZSkpO1xufVxuXG5mdW5jdGlvbiBmaW5kRmlyc3RDb25kaXRpb248VCBleHRlbmRzIE5vZGU+KGVsZW1lbnQ6IFQsIGZpbHRlcjogKG5vZGU6IE5vZGUpID0+IGJvb2xlYW4pOiBUIHwgbnVsbCB7XG4gICAgaWYgKGVsZW1lbnQgJiYgZmlsdGVyKGVsZW1lbnQpKVxuICAgICAgICByZXR1cm4gZWxlbWVudDtcblxuICAgIGNvbnNvbGUuYXNzZXJ0KCEhZWxlbWVudCk7XG4gICAgZWxlbWVudCA/Pz0gZG9jdW1lbnQuYm9keSBhcyBOb2RlIGFzIFQ7XG4gICAgY29uc3QgdHJlZVdhbGtlciA9IGRvY3VtZW50LmNyZWF0ZVRyZWVXYWxrZXIoZWxlbWVudCwgTm9kZUZpbHRlci5TSE9XX0VMRU1FTlQsIHsgYWNjZXB0Tm9kZTogKG5vZGUpID0+IChmaWx0ZXIobm9kZSkgPyBOb2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQgOiBOb2RlRmlsdGVyLkZJTFRFUl9TS0lQKSB9KVxuICAgIGNvbnN0IGZpcnN0Rm9jdXNhYmxlID0gdHJlZVdhbGtlci5maXJzdENoaWxkKCkgYXMgVCB8IG51bGw7XG4gICAgcmV0dXJuIGZpcnN0Rm9jdXNhYmxlO1xufVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVHZXR0ZXIgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1nZXR0ZXJcIjtcbmltcG9ydCB7IFVzZVJvdmluZ1RhYkluZGV4UmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1yb3ZpbmctdGFiaW5kZXhcIjtcblxudHlwZSBPbWl0U3Ryb25nPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IE9taXQ8VCwgSz5cblxuLypcbmV4cG9ydCBmdW5jdGlvbiB1c2VMaW5lYXJOYXZpZ2F0aW9uUHJvcHM8RSBleHRlbmRzIEVsZW1lbnQ+KHI6IFVzZUxpbmVhck5hdmlnYXRpb25SZXR1cm5UeXBlSW5mbzxFPiwgLi4ub3RoZXJQcm9wczogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT5bXSk6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+W10ge1xuICAgIHJldHVybiBbci5saW5lYXJOYXZpZ2F0aW9uUmV0dXJuLnByb3BzU3RhYmxlLCAuLi5vdGhlclByb3BzXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VUeXBlYWhlYWROYXZpZ2F0aW9uUHJvcHM8RSBleHRlbmRzIEVsZW1lbnQ+KHI6IFVzZVR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm5UeXBlSW5mbzxFPiwgLi4ub3RoZXJQcm9wczogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT5bXSk6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+W10ge1xuICAgIHJldHVybiBbci50eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuLnByb3BzU3RhYmxlLCAuLi5vdGhlclByb3BzXTtcbn0qL1xuXG4vKmV4cG9ydCBpbnRlcmZhY2UgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNvbnRleHQ8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM6IFVzZVR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm5UeXBlSW5mbzxDaGlsZEVsZW1lbnQ+W1widHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyc1wiXTtcbn0qL1xuXG5leHBvcnQgaW50ZXJmYWNlIExpbmVhck5hdmlnYXRpb25SZXN1bHQge1xuICAgIHZhbHVlOiBudW1iZXIgfCBudWxsO1xuICAgIHN0YXR1czogXCJub3JtYWxcIiB8IFwicGFzdC1zdGFydFwiIHwgXCJwYXN0LWVuZFwiXG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VMaW5lYXJOYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPckNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuOiB7XG4gICAgICAgIHByb3BzU3RhYmxlOiBoLkpTWC5IVE1MQXR0cmlidXRlczxQYXJlbnRPckNoaWxkRWxlbWVudD47XG4gICAgfVxufVxuXG4vKiogRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB3aXRoIG5vIHNvcnRpbmcgKi9cbi8vZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRlUmVsYXRpdmUob3JpZ2luYWw6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIpOiBudW1iZXIgfCBudWxsIHsgcmV0dXJuIG9yaWdpbmFsICsgb2Zmc2V0OyB9XG5cbi8qKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpdGggbm8gc29ydGluZyAqL1xuLy9leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGVBYnNvbHV0ZShpbmRleDogbnVtYmVyKTogbnVtYmVyIHwgbnVsbCB7IHJldHVybiBpbmRleDsgfVxuXG4vKiogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgcGFyZW50IGB1c2VMaW5lYXJOYXZpZ2F0aW9uYCAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VMaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczxfUGFyZW50T3JDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiB7XG5cbiAgICByb3ZpbmdUYWJJbmRleFJldHVybjogUGljazxVc2VSb3ZpbmdUYWJJbmRleFJldHVyblR5cGU8Q2hpbGRFbGVtZW50PltcInJvdmluZ1RhYkluZGV4UmV0dXJuXCJdLCBcImdldFRhYmJhYmxlSW5kZXhcIiB8IFwic2V0VGFiYmFibGVJbmRleFwiPlxuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE11c3QgcmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIGNoaWxkIGNhbiBiZSBuYXZpZ2F0ZWQgdG8uXG4gICAgICAgICAqIFxuICAgICAgICAgKiBHZW5lcmFsbHkgY29ycmVzcG9uZHMgdG8gYSBgaGlkZGVuYCBvciBgZGlzYWJsZWRgIHByb3AuXG4gICAgICAgICAqIEBwYXJhbSBpIFxuICAgICAgICAgKi9cbiAgICAgICAgaXNWYWxpZChpOiBudW1iZXIpOiBib29sZWFuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb250cm9scyBob3cgbWFueSBlbGVtZW50cyBhcmUgc2tpcHBlZCBvdmVyIHdoZW4gcGFnZSB1cC9kb3duIGFyZSBwcmVzc2VkLlxuICAgICAgICAgKiBcbiAgICAgICAgICogKiBXaGVuIDA6IFBhZ2UgVXAvRG93biBhcmUgZGlzYWJsZWRcbiAgICAgICAgICogKiBXaGVuID49IDE6IFBhZ2UgVXAvRG93biBtb3ZlcyB0aGF0IG51bWJlciBvZiBlbGVtZW50cyB1cCBvciBkb3duXG4gICAgICAgICAqICogV2hlbiAwIDwgeCA8IDEsIFBhZ2UgVXAvRG93biBtb3ZlcyBieSB0aGF0IHBlcmNlbnRhZ2Ugb2YgYWxsIGVsZW1lbnRzLCBvciBvZiAxMDAgZWxlbWVudHMsIHdoaWNoZXZlciBpcyBoaWdoZXIuIEluIG90aGVyIHdvcmRzLCAwLjEganVtcHMgYnkgMTAgZWxlbWVudHMgd2hlbiB0aGVyZSBhcmUgZmV3ZXIgdGhlbiAxMDAgZWxlbWVudHMsIGFuZCAyMCBlbGVtZW50cyB3aGVuIHRoZXJlIGFyZSAyMDAgZWxlbWVudHMuXG4gICAgICAgICAqL1xuICAgICAgICBwYWdlTmF2aWdhdGlvblNpemU6IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hhdCBoYXBwZW5zIHdoZW4gYHVwYCBpcyBwcmVzc2VkIG9uIHRoZSBmaXJzdCB2YWxpZCBjaGlsZD9cbiAgICAgICAgICogXG4gICAgICAgICAqICogXCJ3cmFwXCI6IFRoZSBmb2N1cyBpcyBzZW50IGRvd24gdG8gdGhlIGxhc3QgY2hpbGRcbiAgICAgICAgICogKiBcInBhc3N0aHJvdWdoXCI6IE5vdGhpbmcgaGFwcGVucywgKiphbmQgdGhlIGV2ZW50IGlzIGFsbG93ZWQgdG8gcHJvcGFnYXRlKiouXG4gICAgICAgICAqICogQSBmdW5jdGlvbjogXG4gICAgICAgICAqL1xuICAgICAgICBuYXZpZ2F0ZVBhc3RTdGFydDogXCJwYXNzdGhyb3VnaFwiIHwgXCJ3cmFwXCIgfCAoKCkgPT4gdm9pZCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGF0IGhhcHBlbnMgd2hlbiBgZG93bmAgaXMgcHJlc3NlZCBvbiB0aGUgbGFzdCB2YWxpZCBjaGlsZD9cbiAgICAgICAgICovXG4gICAgICAgIG5hdmlnYXRlUGFzdEVuZDogXCJwYXNzdGhyb3VnaFwiIHwgXCJ3cmFwXCIgfCAoKCkgPT4gdm9pZCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFR1cm4gYSBzb3J0ZWQgYGluZGV4YCBpbnRvIGl0cyBvcmlnaW5hbCwgdW5zb3J0ZWQgYGluZGV4YC4gVXNlIGBpZGVudGl0eWAgaWYgeW91IGRvbid0IGNhcmUuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBUaGlzIGlzIHdoYXQgYWxsb3dzIG91ciBsaW5lYXIga2V5Ym9hcmQgbmF2aWdhdGlvbiB0byBzdGlsbCB3b3JrIGlmIHRoZSBjaGlsZHJlbiBhcmUgcmUtb3JkZXJlZFxuICAgICAgICAgKiAoaS5lLiBob3cgd2hlbiByZXZlcnNlLXNvcnRlZCwgcHJlc3NpbmcgYGRvd25gIG1vdmVzIGZyb20gaXRlbSAjOSB0byBpdGVtICM4KS5cbiAgICAgICAgICovXG4gICAgICAgIGluZGV4TWFuZ2xlcjogKG46IG51bWJlcikgPT4gbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHVybiBhbiB1bnNvcnRlZCBgaW5kZXhgIGludG8gaXRzIHZpc3VhbCBkaXNwbGF5IGBpbmRleGAuIFVzZSBgaWRlbnRpdHlgIGlmIHlvdSBkb24ndCBjYXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5kZXhEZW1hbmdsZXI6IChuOiBudW1iZXIpID0+IG51bWJlcjtcblxuICAgICAgICBnZXRIaWdoZXN0SW5kZXgoKTogbnVtYmVyOyAgLy8gWzAsIG5dLCBub3QgWzAsIG4pXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIHdoaWNoIGFycm93IGtleXMgYXJlIHVzZWQgdG8gbmF2aWdhdGUgdGhyb3VnaCB0aGUgY29tcG9uZW50LlxuICAgICAgICAgKiBOb3QgcmVsYXRpdmUgdG8gdGhlIHdyaXRpbmcgbW9kZSAtLSB0aGVzZSBhcmUgdGhlIGxpdGVyYWwga2V5cyB0aGF0IG5lZWQgdG8gYmUgcHJlc3NlZC5cbiAgICAgICAgICogXG4gICAgICAgICAqIFVzZSBcImVpdGhlclwiIHRvIGFsbG93IG5hdmlnYXRpb24gaW4gZWl0aGVyIGRpcmVjdGlvbi5cbiAgICAgICAgICogXG4gICAgICAgICAqIFVzZSBcIm5vbmVcIiB0byBkaXNhbGxvdyBuYXZpZ2F0aW9uIHdpdGggdGhlIGFycm93IGtleXMgaW4gYW55IGRpcmVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIG5hdmlnYXRpb25EaXJlY3Rpb246IFwiaG9yaXpvbnRhbFwiIHwgXCJ2ZXJ0aWNhbFwiIHwgXCJlaXRoZXJcIiB8IFwibm9uZVwiO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgbmF2aWdhdGlvbiB3aXRoIHRoZSBhcnJvdyBrZXlzIHdpbGwgYmUgXG4gICAgICAgICAqIGRpc2FibGVkLCBidXQgbmF2aWdhdGlvbiB3aXRoIHRoZSBob21lICYgZW5kIGtleXMgd2lsbFxuICAgICAgICAgKiBiZSB1bmFmZmVjdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZGlzYWJsZUFycm93S2V5czogYm9vbGVhbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgc2V0IHRvIHRydWUsIG5hdmlnYXRpb24gd2l0aCB0aGUgaG9tZSAmIGVuZCBrZXlzIHdpbGxcbiAgICAgICAgICogYmUgZGlzYWJsZWQsIGJ1dCBuYXZpZ2F0aW9uIHdpdGggdGhlIGFycm93IGtleXMgd2lsbCBiZVxuICAgICAgICAgKiB1bmFmZmVjdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZGlzYWJsZUhvbWVFbmRLZXlzOiBib29sZWFuO1xuICAgIH1cbn1cblxuXG4vKiogQXJndW1lbnRzIHBhc3NlZCB0byB0aGUgY2hpbGQgJ3VzZUxpbmVhck5hdmlnYXRpb25DaGlsZGAgKi9cbi8vZXhwb3J0IGludGVyZmFjZSBVc2VMaW5lYXJOYXZpZ2F0aW9uQ2hpbGRJbmZvIHsgfVxuXG4vKipcbiAqIFdoZW4gdXNlZCBpbiB0YW5kZW0gd2l0aCBgdXNlUm92aW5nVGFiSW5kZXhgLCBhbGxvd3MgY29udHJvbCBvZlxuICogdGhlIHRhYmJhYmxlIGluZGV4IHdpdGggdGhlIGFycm93IGtleXMuXG4gKiBcbiAqIEBzZWUgdXNlTGlzdE5hdmlnYXRpb24sIHdoaWNoIHBhY2thZ2VzIGV2ZXJ5dGhpbmcgdXAgdG9nZXRoZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VMaW5lYXJOYXZpZ2F0aW9uPFBhcmVudE9yQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXG59OiBVc2VMaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50Pik6IFVzZUxpbmVhck5hdmlnYXRpb25SZXR1cm5UeXBlPFBhcmVudE9yQ2hpbGRFbGVtZW50PiB7XG4gICAgdHlwZSBSID0gRXZlbnQ7Ly9oLkpTWC5UYXJnZXRlZEV2ZW50PFBhcmVudE9yQ2hpbGRFbGVtZW50PjtcbiAgICBjb25zdCB7IGdldEhpZ2hlc3RJbmRleCwgaW5kZXhEZW1hbmdsZXIsIGluZGV4TWFuZ2xlciwgaXNWYWxpZCwgbmF2aWdhdGVQYXN0RW5kLCBuYXZpZ2F0ZVBhc3RTdGFydCB9ID0gbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM7XG4gICAgY29uc3QgeyBnZXRUYWJiYWJsZUluZGV4LCBzZXRUYWJiYWJsZUluZGV4IH0gPSByb3ZpbmdUYWJJbmRleFJldHVybjtcblxuICAgIGNvbnN0IG5hdmlnYXRlQWJzb2x1dGUgPSB1c2VDYWxsYmFjaygoaTogbnVtYmVyLCBlOiBSLCBmcm9tVXNlckludGVyYWN0aW9uOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGluZGV4RGVtYW5nbGVyKGkpO1xuICAgICAgICBjb25zdCB7IHZhbHVlIH0gPSB0cnlOYXZpZ2F0ZVRvSW5kZXgoeyBpc1ZhbGlkLCBoaWdoZXN0Q2hpbGRJbmRleDogZ2V0SGlnaGVzdEluZGV4KCksIGluZGV4RGVtYW5nbGVyLCBpbmRleE1hbmdsZXIsIHNlYXJjaERpcmVjdGlvbjogLTEsIHRhcmdldCB9KTtcbiAgICAgICAgc2V0VGFiYmFibGVJbmRleCh2YWx1ZSwgZSwgZnJvbVVzZXJJbnRlcmFjdGlvbik7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IG5hdmlnYXRlVG9GaXJzdCA9IHVzZVN0YWJsZUNhbGxiYWNrKChlOiBSLCBmcm9tVXNlckludGVyYWN0aW9uOiBib29sZWFuKSA9PiB7IG5hdmlnYXRlQWJzb2x1dGUoMCwgZSwgZnJvbVVzZXJJbnRlcmFjdGlvbik7IH0pO1xuICAgIGNvbnN0IG5hdmlnYXRlVG9MYXN0ID0gdXNlU3RhYmxlQ2FsbGJhY2soKGU6IFIsIGZyb21Vc2VySW50ZXJhY3Rpb246IGJvb2xlYW4pID0+IHsgbmF2aWdhdGVBYnNvbHV0ZShnZXRIaWdoZXN0SW5kZXgoKSwgZSwgZnJvbVVzZXJJbnRlcmFjdGlvbik7IH0pO1xuICAgIGNvbnN0IG5hdmlnYXRlUmVsYXRpdmUyID0gdXNlU3RhYmxlQ2FsbGJhY2soKGU6IFIsIG9mZnNldDogbnVtYmVyLCBmcm9tVXNlckludGVyYWN0aW9uOiBib29sZWFuLCBtb2RlOiBcInBhZ2VcIiB8IFwic2luZ2xlXCIpOiBcInBhc3N0aHJvdWdoXCIgfCBcInN0b3BcIiA9PiB7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsID0gKGdldFRhYmJhYmxlSW5kZXgoKSA/PyAwKTtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIHZhbHVlIH0gPSB0cnlOYXZpZ2F0ZVRvSW5kZXgoeyBpc1ZhbGlkLCBoaWdoZXN0Q2hpbGRJbmRleDogZ2V0SGlnaGVzdEluZGV4KCksIGluZGV4RGVtYW5nbGVyLCBpbmRleE1hbmdsZXIsIHNlYXJjaERpcmVjdGlvbjogKE1hdGguc2lnbihvZmZzZXQpIHx8IDEpIGFzIDEgfCAtMSwgdGFyZ2V0OiBpbmRleERlbWFuZ2xlcihpbmRleE1hbmdsZXIob3JpZ2luYWwpICsgb2Zmc2V0KSB9KTtcbiAgICAgICAgaWYgKHN0YXR1cyA9PSBcInBhc3QtZW5kXCIpIHtcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0ZVBhc3RFbmQgPT0gXCJ3cmFwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PSBcInNpbmdsZVwiKVxuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvRmlyc3QoZSwgZnJvbVVzZXJJbnRlcmFjdGlvbik7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc3RhbnQtY29uZGl0aW9uICovXG4gICAgICAgICAgICAgICAgICAgIC8vIFVuY29tbWVudCB0byBhbGxvdyBwYWdlIHVwL2Rvd24gdG8gd3JhcCBhZnRlciBoaXR0aW5nIHRoZSB0b3AvYm90dG9tIG9uY2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIEl0IHdvcmtzIGZpbmUsIHRoZSBwcm9ibGVtIGlzbid0IHRoYXQgLS0gdGhlIHByb2JsZW0gaXMgaXQganVzdCBmZWVscyB3cm9uZy4gXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhZ2UgVXAvRG93biBkb24ndCBmZWVsIGxpa2UgdGhleSBzaG91bGQgd3JhcCwgZXZlbiBpZiBub3JtYWxseSByZXF1ZXN0ZWQuIFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGF0J3MgdGhlIGFycm93IGtleXMnIGRvbWFpbi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbHNlICYmICh2YWx1ZSA9PSBnZXRUYWJiYWJsZUluZGV4KCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb0ZpcnN0KGUsIGZyb21Vc2VySW50ZXJhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvTGFzdChlLCBmcm9tVXNlckludGVyYWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic3RvcFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmF2aWdhdGVQYXN0RW5kID09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInBhc3N0aHJvdWdoXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVBhc3RFbmQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJzdG9wXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09IFwicGFzdC1zdGFydFwiKSB7XG4gICAgICAgICAgICBpZiAobmF2aWdhdGVQYXN0U3RhcnQgPT0gXCJ3cmFwXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobW9kZSA9PSBcInNpbmdsZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9MYXN0KGUsIGZyb21Vc2VySW50ZXJhY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc3RhbnQtY29uZGl0aW9uICovXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBhYm92ZS4gSXQgd29ya3MgZmluZSBidXQganVzdCBmZWVscyB3cm9uZyB0byB3cmFwIG9uIFBhZ2UgVXAvRG93bi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZhbHNlICYmIHZhbHVlID09IGdldFRhYmJhYmxlSW5kZXgoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlVG9MYXN0KGUsIGZyb21Vc2VySW50ZXJhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvRmlyc3QoZSwgZnJvbVVzZXJJbnRlcmFjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBcInN0b3BcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hdmlnYXRlUGFzdFN0YXJ0ID09IFwicGFzc3Rocm91Z2hcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInBhc3N0aHJvdWdoXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVBhc3RTdGFydCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBcInN0b3BcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFRhYmJhYmxlSW5kZXgodmFsdWUsIGUsIGZyb21Vc2VySW50ZXJhY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIFwic3RvcFwiO1xuICAgICAgICB9XG4gICAgfSlcbiAgICBjb25zdCBuYXZpZ2F0ZVRvTmV4dCA9IHVzZVN0YWJsZUNhbGxiYWNrKChlOiBSLCBmcm9tVXNlckludGVyYWN0aW9uOiBib29sZWFuKSA9PiB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0ZVJlbGF0aXZlMihlLCAxLCBmcm9tVXNlckludGVyYWN0aW9uLCBcInNpbmdsZVwiKTtcbiAgICAgICAgLy8gc2V0VGFiYmFibGVJbmRleChuYXZpZ2F0ZVJlbGF0aXZlKChnZXRUYWJiYWJsZUluZGV4KCkgPz8gMCksICsxKSwgZnJvbVVzZXJJbnRlcmFjdGlvbilcbiAgICB9KTtcbiAgICBjb25zdCBuYXZpZ2F0ZVRvUHJldiA9IHVzZVN0YWJsZUNhbGxiYWNrKChlOiBSLCBmcm9tVXNlckludGVyYWN0aW9uOiBib29sZWFuKSA9PiB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0ZVJlbGF0aXZlMihlLCAtMSwgZnJvbVVzZXJJbnRlcmFjdGlvbiwgXCJzaW5nbGVcIik7XG4gICAgICAgIC8vIHNldFRhYmJhYmxlSW5kZXgobmF2aWdhdGVSZWxhdGl2ZSgoZ2V0VGFiYmFibGVJbmRleCgpID8/IDApLCArMSksIGZyb21Vc2VySW50ZXJhY3Rpb24pXG4gICAgfSk7XG4gICAgY29uc3QgZ2V0RGlzYWJsZUFycm93S2V5cyA9IHVzZVN0YWJsZUdldHRlcihsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycy5kaXNhYmxlQXJyb3dLZXlzKTtcbiAgICBjb25zdCBnZXREaXNhYmxlSG9tZUVuZEtleXMgPSB1c2VTdGFibGVHZXR0ZXIobGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMuZGlzYWJsZUhvbWVFbmRLZXlzKTtcbiAgICBjb25zdCBnZXROYXZpZ2F0aW9uRGlyZWN0aW9uID0gdXNlU3RhYmxlR2V0dGVyKGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLm5hdmlnYXRpb25EaXJlY3Rpb24pO1xuICAgIGNvbnN0IGdldFBhZ2VOYXZpZ2F0aW9uU2l6ZSA9IHVzZVN0YWJsZUdldHRlcihsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycy5wYWdlTmF2aWdhdGlvblNpemUpO1xuXG5cbiAgICBjb25zdCBzdGFibGVQcm9wcyA9IHVzZVJlZjxoLkpTWC5IVE1MQXR0cmlidXRlczxQYXJlbnRPckNoaWxkRWxlbWVudD4+KHtcbiAgICAgICAgb25LZXlEb3duOiAoZTogaC5KU1guVGFyZ2V0ZWRLZXlib2FyZEV2ZW50PFBhcmVudE9yQ2hpbGRFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgLy8gTm90IGhhbmRsZWQgYnkgdHlwZWFoZWFkIChpLmUuIGFzc3VtZSB0aGlzIGlzIGEga2V5Ym9hcmQgc2hvcnRjdXQpXG4gICAgICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vY29uc3QgaW5mbyA9IGdldExvZ2ljYWxEaXJlY3Rpb25JbmZvKCk7XG4gICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uRGlyZWN0aW9uID0gZ2V0TmF2aWdhdGlvbkRpcmVjdGlvbigpO1xuICAgICAgICAgICAgY29uc3QgZGlzYWJsZUFycm93S2V5cyA9IGdldERpc2FibGVBcnJvd0tleXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGRpc2FibGVIb21lRW5kS2V5cyA9IGdldERpc2FibGVIb21lRW5kS2V5cygpO1xuICAgICAgICAgICAgY29uc3QgcGFnZU5hdmlnYXRpb25TaXplID0gZ2V0UGFnZU5hdmlnYXRpb25TaXplKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFsbG93c1ZlcnRpY2FsTmF2aWdhdGlvbiA9IChuYXZpZ2F0aW9uRGlyZWN0aW9uID09IFwidmVydGljYWxcIiB8fCBuYXZpZ2F0aW9uRGlyZWN0aW9uID09IFwiZWl0aGVyXCIpO1xuICAgICAgICAgICAgY29uc3QgYWxsb3dzSG9yaXpvbnRhbE5hdmlnYXRpb24gPSAobmF2aWdhdGlvbkRpcmVjdGlvbiA9PSBcImhvcml6b250YWxcIiB8fCBuYXZpZ2F0aW9uRGlyZWN0aW9uID09IFwiZWl0aGVyXCIpO1xuXG4gICAgICAgICAgICBsZXQgdHJ1ZVBhZ2VOYXZpZ2F0aW9uU2l6ZSA9IHBhZ2VOYXZpZ2F0aW9uU2l6ZTtcbiAgICAgICAgICAgIGlmICh0cnVlUGFnZU5hdmlnYXRpb25TaXplIDwgMSkge1xuICAgICAgICAgICAgICAgIHRydWVQYWdlTmF2aWdhdGlvblNpemUgPSBNYXRoLnJvdW5kKHBhZ2VOYXZpZ2F0aW9uU2l6ZSAqIE1hdGgubWF4KDEwMCwgZ2V0SGlnaGVzdEluZGV4KCkgKyAxKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIC8vY29uc3QgcHJvcE5hbWUgPSAoaW5mbz8uYmxvY2tPcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiID8gXCJibG9ja0RpcmVjdGlvblwiIDogXCJpbmxpbmVEaXJlY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbkFsbG93ZWQgPSAoIWRpc2FibGVBcnJvd0tleXMgJiYgYWxsb3dzVmVydGljYWxOYXZpZ2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbkFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5hdmlnYXRlVG9QcmV2KGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpcmVjdGlvbkFsbG93ZWQgPSAoIWRpc2FibGVBcnJvd0tleXMgJiYgYWxsb3dzVmVydGljYWxOYXZpZ2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbkFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG5hdmlnYXRlVG9OZXh0KGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPSBcInBhc3N0aHJvdWdoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uQWxsb3dlZCA9ICghZGlzYWJsZUFycm93S2V5cyAmJiBhbGxvd3NIb3Jpem9udGFsTmF2aWdhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb25BbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuYXZpZ2F0ZVRvUHJldihlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uQWxsb3dlZCA9ICghZGlzYWJsZUFycm93S2V5cyAmJiBhbGxvd3NIb3Jpem9udGFsTmF2aWdhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb25BbGxvd2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuYXZpZ2F0ZVRvTmV4dChlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJQYWdlVXBcIjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZVBhZ2VOYXZpZ2F0aW9uU2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlUmVsYXRpdmUyKGUsIC10cnVlUGFnZU5hdmlnYXRpb25TaXplLCB0cnVlLCBcInBhZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwiUGFnZURvd25cIjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJ1ZVBhZ2VOYXZpZ2F0aW9uU2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlUmVsYXRpdmUyKGUsIHRydWVQYWdlTmF2aWdhdGlvblNpemUsIHRydWUsIFwicGFnZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJIb21lXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGlzYWJsZUhvbWVFbmRLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0ZVRvRmlyc3QoZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBcIkVuZFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRpc2FibGVIb21lRW5kS2V5cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmF2aWdhdGVUb0xhc3QoZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSlcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybjoge1xuICAgICAgICAgICAgcHJvcHNTdGFibGU6IHN0YWJsZVByb3BzLmN1cnJlbnRcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFRyeU5hdmlnYXRlVG9JbmRleFBhcmFtZXRlcnMge1xuICAgIC8vY2hpbGRyZW46IE1hbmFnZWRDaGlsZHJlbjxudW1iZXIsIHVua25vd24sIEs+O1xuICAgIGhpZ2hlc3RDaGlsZEluZGV4OiBudW1iZXI7IC8vIFswLCBuXSwgbm90IFswLCBuKVxuICAgIGlzVmFsaWQoaW5kZXg6IG51bWJlcik6IGJvb2xlYW47XG5cbiAgICAvL2RlZmF1bHQ6IG51bWJlcjtcbiAgICB0YXJnZXQ6IG51bWJlcjtcbiAgICBzZWFyY2hEaXJlY3Rpb246IDEgfCAtMTtcbiAgICBpbmRleE1hbmdsZXI6IChuOiBudW1iZXIpID0+IG51bWJlcjtcbiAgICBpbmRleERlbWFuZ2xlcjogKG46IG51bWJlcikgPT4gbnVtYmVyO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cnlOYXZpZ2F0ZVRvSW5kZXgoeyBpc1ZhbGlkLCBoaWdoZXN0Q2hpbGRJbmRleCwgc2VhcmNoRGlyZWN0aW9uLCBpbmRleERlbWFuZ2xlciwgaW5kZXhNYW5nbGVyLCB0YXJnZXQgfTogVHJ5TmF2aWdhdGVUb0luZGV4UGFyYW1ldGVycyk6IExpbmVhck5hdmlnYXRpb25SZXN1bHQge1xuXG4gICAgaWYgKHNlYXJjaERpcmVjdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgbGV0IGJlc3RVcFJlc3VsdDogTGluZWFyTmF2aWdhdGlvblJlc3VsdCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgYmVzdFVwUmVzdWx0ID0gdHJ5TmF2aWdhdGVVcCh7IGlzVmFsaWQsIGluZGV4RGVtYW5nbGVyLCBpbmRleE1hbmdsZXIsIHRhcmdldCB9KTtcbiAgICAgICAgYmVzdFVwUmVzdWx0ID8/PSB0cnlOYXZpZ2F0ZURvd24oeyBpc1ZhbGlkLCBpbmRleERlbWFuZ2xlciwgaW5kZXhNYW5nbGVyLCB0YXJnZXQsIGhpZ2hlc3RDaGlsZEluZGV4IH0pO1xuICAgICAgICByZXR1cm4gYmVzdFVwUmVzdWx0IHx8IHsgdmFsdWU6IHRhcmdldCwgc3RhdHVzOiBcIm5vcm1hbFwiIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgYmVzdERvd25SZXN1bHQ6IExpbmVhck5hdmlnYXRpb25SZXN1bHQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGJlc3REb3duUmVzdWx0ID0gdHJ5TmF2aWdhdGVEb3duKHsgaXNWYWxpZCwgaW5kZXhEZW1hbmdsZXIsIGluZGV4TWFuZ2xlciwgdGFyZ2V0LCBoaWdoZXN0Q2hpbGRJbmRleCB9KTtcbiAgICAgICAgYmVzdERvd25SZXN1bHQgPz89IHRyeU5hdmlnYXRlVXAoeyBpc1ZhbGlkLCBpbmRleERlbWFuZ2xlciwgaW5kZXhNYW5nbGVyLCB0YXJnZXQgfSk7XG4gICAgICAgIHJldHVybiBiZXN0RG93blJlc3VsdCB8fCB7IHZhbHVlOiB0YXJnZXQsIHN0YXR1czogXCJub3JtYWxcIiB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gdHJ5TmF2aWdhdGVVcCh7IGlzVmFsaWQsIGluZGV4RGVtYW5nbGVyLCBpbmRleE1hbmdsZXIsIHRhcmdldCB9OiBPbWl0U3Ryb25nPFRyeU5hdmlnYXRlVG9JbmRleFBhcmFtZXRlcnMsIFwiaGlnaGVzdENoaWxkSW5kZXhcIiB8IFwic2VhcmNoRGlyZWN0aW9uXCI+KTogTGluZWFyTmF2aWdhdGlvblJlc3VsdCB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgbG93ZXIgPSAwO1xuICAgIHdoaWxlICh0YXJnZXQgPj0gbG93ZXIgJiYgIWlzVmFsaWQodGFyZ2V0KSlcbiAgICAgICAgdGFyZ2V0ID0gaW5kZXhEZW1hbmdsZXIoaW5kZXhNYW5nbGVyKHRhcmdldCkgLSAxKTtcblxuICAgIGlmICghaXNWYWxpZCh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0YXJnZXQgPCBsb3dlcikge1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogaW5kZXhEZW1hbmdsZXIobG93ZXIpLCBzdGF0dXM6IFwicGFzdC1zdGFydFwiIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogdGFyZ2V0LCBzdGF0dXM6IFwibm9ybWFsXCIgfTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHRyeU5hdmlnYXRlRG93bih7IGlzVmFsaWQsIGluZGV4RGVtYW5nbGVyLCBpbmRleE1hbmdsZXIsIHRhcmdldCwgaGlnaGVzdENoaWxkSW5kZXg6IHVwcGVyIH06IE9taXRTdHJvbmc8VHJ5TmF2aWdhdGVUb0luZGV4UGFyYW1ldGVycywgXCJzZWFyY2hEaXJlY3Rpb25cIj4pOiBMaW5lYXJOYXZpZ2F0aW9uUmVzdWx0IHwgdW5kZWZpbmVkIHtcblxuICAgIHdoaWxlICh0YXJnZXQgPD0gdXBwZXIgJiYgIWlzVmFsaWQodGFyZ2V0KSlcbiAgICAgICAgdGFyZ2V0ID0gaW5kZXhEZW1hbmdsZXIoaW5kZXhNYW5nbGVyKHRhcmdldCkgKyAxKTtcblxuICAgIGlmICghaXNWYWxpZCh0YXJnZXQpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmICh0YXJnZXQgPiB1cHBlcikge1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogaW5kZXhEZW1hbmdsZXIodXBwZXIpLCBzdGF0dXM6IFwicGFzdC1lbmRcIiB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHRhcmdldCwgc3RhdHVzOiBcIm5vcm1hbFwiIH07XG4gICAgfVxufVxuXG5cblxuIiwiXG5pbXBvcnQgeyBTdGF0ZVVwZGF0ZXIsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZVN0YXRlIGFzIHVzZVN0YXRlUCB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcblxuLyoqXG4gKiBTbGlnaHRseSBlbmhhbmNlZCB2ZXJzaW9uIG9mIGB1c2VTdGF0ZWAgdGhhdCBpbmNsdWRlcyBhIGdldHRlciB0aGF0IHJlbWFpbnMgY29uc3RhbnRcbiAqIChpLmUuIHlvdSBjYW4gdXNlIGl0IGluIGB1c2VFZmZlY3RgIGFuZCBmcmllbmRzIHdpdGhvdXQgaXQgYmVpbmcgYSBkZXBlbmRlbmN5KS5cbiAqIFxuICogQHBhcmFtIGluaXRpYWxTdGF0ZSBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU3RhdGU8VD4oaW5pdGlhbFN0YXRlOiBUIHwgKCgpID0+IFQpKTogcmVhZG9ubHkgW3ZhbHVlOiBULCBzZXRWYWx1ZTogU3RhdGVVcGRhdGVyPFQ+LCBnZXRWYWx1ZTogKCkgPT4gVF0ge1xuXG4gICAgLy8gV2Uga2VlcCBib3RoLCBidXQgb3ZlcnJyaWRlIHRoZSBgc2V0U3RhdGVgIGZ1bmN0aW9uYWxpdHlcbiAgICBjb25zdCBbc3RhdGUsIHNldFN0YXRlUF0gPSB1c2VTdGF0ZVAoaW5pdGlhbFN0YXRlKTtcbiAgICBjb25zdCByZWYgPSB1c2VSZWYoc3RhdGUpO1xuXG4gICAgLy8gSGlqYWNrIHRoZSBub3JtYWwgc2V0dGVyIGZ1bmN0aW9uIFxuICAgIC8vIHRvIGFsc28gc2V0IG91ciByZWYgdG8gdGhlIG5ldyB2YWx1ZVxuICAgIGNvbnN0IHNldFN0YXRlID0gdXNlQ2FsbGJhY2s8U3RhdGVVcGRhdGVyPFQ+Pih2YWx1ZSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSB2YWx1ZSBhcyAoKF9wcmV2VmFsdWU6IFQpID0+IFQpO1xuICAgICAgICAgICAgc2V0U3RhdGVQKHByZXZWYWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gY2FsbGJhY2socHJldlZhbHVlKTtcbiAgICAgICAgICAgICAgICByZWYuY3VycmVudCA9IG5leHRWYWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dFZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICAgICAgICAgICAgc2V0U3RhdGVQKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IGdldFN0YXRlID0gKCkgPT4geyByZXR1cm4gcmVmLmN1cnJlbnQ7IH07XG5cblxuICAgIGNvbnNvbGUuYXNzZXJ0KHJlZi5jdXJyZW50ID09PSBzdGF0ZSB8fCAodHlwZW9mIHN0YXRlID09PSBcIm51bWJlclwiICYmIGlzTmFOKHN0YXRlKSkpO1xuICAgIHJldHVybiBbc3RhdGUsIHNldFN0YXRlLCBnZXRTdGF0ZV0gYXMgY29uc3Q7XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IFN0YXRlVXBkYXRlciwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IFVzZUhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnMgfSBmcm9tIFwiLi4vb2JzZXJ2ZXJzL3VzZS1oYXMtY3VycmVudC1mb2N1c1wiO1xuaW1wb3J0IHsgYXNzZXJ0RW1wdHlPYmplY3QsIE1hbmFnZWRDaGlsZEluZm8sIHVzZUNoaWxkcmVuRmxhZywgVXNlTWFuYWdlZENoaWxkcmVuUGFyYW1ldGVycywgVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgT25QYXNzaXZlU3RhdGVDaGFuZ2UsIFBhc3NpdmVTdGF0ZVVwZGF0ZXIsIHVzZVBhc3NpdmVTdGF0ZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtcGFzc2l2ZS1zdGF0ZVwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuaW1wb3J0IHsgdXNlU3RhYmxlR2V0dGVyLCB1c2VTdGFibGVPYmplY3QgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1nZXR0ZXJcIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGF0ZVwiO1xuXG5cblxuZXhwb3J0IHR5cGUgT25UYWJiYWJsZUluZGV4Q2hhbmdlID0gKHRhYmJhYmxlSW5kZXg6IG51bWJlciB8IG51bGwpID0+IHZvaWQ7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUm92aW5nVGFiSW5kZXhDaGlsZEluZm88VGFiYmFibGVDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPiB7XG4gICAgLyoqXG4gICAgICogV2hlbiB3ZSBuYXZpZ2F0ZSB0byBhIGNoaWxkIGFuZCBmb2N1cyBpdCwgd2UgbmVlZCB0byBrbm93IGhvdyB0aGF0IGNoaWxkIHdhbnRzIHRvIGJlIGZvY3VzZWQuXG4gICAgICogR2VuZXJhbGx5LCB0aGlzIGlzIGp1c3QgZ2V0RWxlbWVudCgpLmZvY3VzKCksIGJ1dCB5b3UncmUgYWxsb3dlZCB0byBzdXBwbHkgYW55dGhpbmcgeW91IHdhbnQgaGVyZS5cbiAgICAgKiBHcmlkIHJvd3MsIGZvciBleGFtcGxlLCBkb24ndCBkaXJlY3RseSBmb2N1cyB0aGVtc2VsdmVzIGJ1dCBpbnN0ZWFkIGNhbGwgb25lIG9mIHRoZWlyIGNlbGwncyBgZm9jdXNTZWxmYC5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGlzIHVzZWQgd2hlbiB0aGUgdGFiYmFibGUgaW5kZXggY2hhbmdlcyAod2UgYXV0by1mb2N1cyB0aGUgbmV3bHkgdGFiYmFibGUgZWxlbWVudCBpZiBhcHBsaWNhYmxlKSxcbiAgICAgKiBhbmQgYWxzbyBieSB0aGUgYGZvY3VzU2VsZmAgdmFsdWUgcmV0dXJuZWQgYnkgdGhlIHBhcmVudCAoaS5lLiBgcGFyZW50LmZvY3VzU2VsZmAgY2FsbHMgb25lIGNoaWxkJ3MgYGZvY3VzU2VsZmApXG4gICAgICovXG4gICAgZm9jdXNTZWxmKGU6IFRhYmJhYmxlQ2hpbGRFbGVtZW50KTogdm9pZDtcblxuICAgIGdldEVsZW1lbnQoKTogVGFiYmFibGVDaGlsZEVsZW1lbnQgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgdGhpcyBjaGlsZCBjYW5ub3QgYmUgZ2l2ZW4gZm9jdXMgYmVjYXVzZSBpdCBkb2VzIG5vdCBleGlzdCwgaXMgbm90IHZpc2libGUsIGlzIGRpc2FibGVkLCBldGMuIEFueSBhdHRlbXB0IHRvIGZvY3VzIHRoaXMgZWxlbWVudCB3aWxsIGZvY3VzIGl0cyBjbG9zZXN0IG5laWdoYm9yIGluc3RlYWQuXG4gICAgICogXG4gICAgICogVGhpcyAqKipNVVNUKioqIGJlIHRydWUgaWYgdGhlIGNoaWxkIGlzIGBkaXNwbGF5OiBub25lYCwgYHZpc2liaWxpdHk6IGhpZGRlbmAsIGFuZCBvdGhlciBjYXNlcyB3aGVyZSB0aGUgZWxlbWVudCdzIGZvY3VzYWJpbGl0eSBpcyByZW1vdmVkIGluIGEgd2F5IHRoYXQncyBub3QgZGV0ZWN0aWJsZS5cbiAgICAgKi9cbiAgICBoaWRkZW46IGJvb2xlYW47XG5cbiAgICBzZXRUYWJiYWJsZTogU3RhdGVVcGRhdGVyPGJvb2xlYW4+O1xuICAgIGdldFRhYmJhYmxlOiAoKSA9PiBib29sZWFuO1xuICAgIHRhYmJhYmxlOiBib29sZWFuO1xuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzPFRhYmJhYmxlQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50Pj4ge1xuICAgIC8qKiBXaGVuIGNoaWxkcmVuIG1vdW50L3VubW91bnQsIFJUSSBuZWVkcyBhY2Nlc3MgdG8gYWxsIGtub3duIGNoaWxkcmVuIGluIGNhc2Ugd2UgdW5tb3VudGVkIHRoZSBjdXJyZW50bHkgdGFiYmFibGUgY2hpbGQgKi9cbiAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IFBpY2s8VXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZTxNPltcIm1hbmFnZWRDaGlsZHJlblJldHVyblwiXSwgXCJnZXRDaGlsZHJlblwiPjtcblxuICAgIC8qKiBUaGUgb25seSBwYXJhbWV0ZXJzIFJUSSBuZWVkcyBkaXJlY3RseSBpcyB0aGUgaW5pdGlhbCBpbmRleCB0byBiZSB0YWJiYWJsZSAqL1xuICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVyczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyBpbXBlcmF0aXZlLCBub3QgZGVjbGFyYXRpdmU7IFxuICAgICAgICAgKiBpdCBpcyBiZXR0ZXIgaWYgd2UgY2FuIGtlZXAgcmUtcmVuZGVycyBvbiB0aGUgcGFyZW50IHRvIGEgbWluaW11bSBhbnl3YXkuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBZb3UgY2FuIG1hbnVhbGx5IGNvbnRyb2wgdGhpcyB3aXRoIGBvblRhYmJhYmxlSW5kZXhDaGFuZ2VgIGFuZCBgc2V0VGFiYmFibGVJbmRleGAgaWYgeW91IG5lZWQuXG4gICAgICAgICAqL1xuICAgICAgICBpbml0aWFsbHlUYWJiZWRJbmRleDogbnVtYmVyIHwgbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0cnVlLCBub25lIG9mIHRoZSBjaGlsZHJlbiB3aWxsIGJlIHRhYmJhYmxlLCBhcyBpZiB0aGUgZW50aXJlIGNvbXBvbmVudCBpcyBoaWRkZW4uXG4gICAgICAgICAqIFxuICAgICAgICAgKiBUaGlzIGRvZXMgbm90IGFjdHVhbGx5IGNoYW5nZSB0aGUgY3VycmVudGx5IHRhYmJhYmxlIGluZGV4OyBpZiB0aGlzIGlzIHNldCB0byBgZmFsc2VgLCB0aGUgbGFzdCB0YWJiYWJsZSBjaGlsZCBpcyByZW1lbWJlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdW50YWJiYWJsZTogYm9vbGVhbjtcblxuICAgICAgICAvKiogXG4gICAgICAgICAqIElmIHlvdSB3b3VsZCBsaWtlIHRvIGhhdmUgYW4gZXZlbnQgcnVuIHdoZW5ldmVyIGEgbmV3IGluZGV4IGJlY29tZXMgdGFiYmFibGVcbiAgICAgICAgICogKGUuZy4gdG8gY2FsbCBgc2V0U3RhdGVgIHRvIHJlbmRlciB0aGF0IHRhYmJhYmxlIGluZGV4Li4uZm9yIHNvbWUgcmVhc29uLi4uKVxuICAgICAgICAgKiB5b3UgY2FuIGRvIHRoYXQgaGVyZS5cbiAgICAgICAgICogXG4gICAgICAgICAqICoqTVVTVCoqIGJlIHN0YWJsZSFcbiAgICAgICAgICovXG4gICAgICAgIG9uVGFiYmFibGVJbmRleENoYW5nZTogbnVsbCB8IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlPG51bWJlciB8IG51bGwsIEV2ZW50PjtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJvdmluZ1RhYkluZGV4UmV0dXJuVHlwZTxUYWJiYWJsZUNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICAvKiogUlRJIHJ1bnMgbG9naWMgd2hlbiBpdHMgY2hpbGRyZW4gbW91bnQvdW5tb3VudCB0aGVtc2VsdmVzICovXG4gICAgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyczogUGljazxVc2VNYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzPFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50Pj5bXCJtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzXCJdLCBcIm9uQ2hpbGRyZW5Nb3VudENoYW5nZVwiPjtcblxuICAgIC8qKlxuICAgICAqIFNUQUJMRVxuICAgICAqL1xuICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0OiBVc2VSb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczxUYWJiYWJsZUNoaWxkRWxlbWVudD5bXCJyb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dFwiXTtcblxuICAgIC8qKiBcbiAgICAgKiBSZXR1cm4gaW5mb3JtYXRpb24gdGhhdCBsZXRzIHRoZSB1c2VyIHVwZGF0ZS9xdWVyeS9mb2N1cyB0aGUgY3VycmVudGx5IHRhYmJhYmxlIGNoaWxkXG4gICAgICpcbiAgICAgKiAgXG4gICAgICovXG4gICAgcm92aW5nVGFiSW5kZXhSZXR1cm46IHtcbiAgICAgICAgLyoqICoqU1RBQkxFKiogKi9cbiAgICAgICAgc2V0VGFiYmFibGVJbmRleDogU2V0VGFiYmFibGVJbmRleDtcbiAgICAgICAgLyoqICoqU1RBQkxFKiogKi9cbiAgICAgICAgZ2V0VGFiYmFibGVJbmRleDogKCkgPT4gbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgLyoqICoqU1RBQkxFKiogKi9cbiAgICAgICAgZm9jdXNTZWxmOiAocmVhc29uPzogYW55KSA9PiB2b2lkO1xuICAgIH1cbn1cblxuZXhwb3J0IHR5cGUgU2V0VGFiYmFibGVJbmRleCA9ICh1cGRhdGVyOiBQYXJhbWV0ZXJzPFBhc3NpdmVTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbCwgRXZlbnQ+PlswXSwgcmVhc29uOiBFdmVudCB8IHVuZGVmaW5lZCwgZnJvbVVzZXJJbnRlcmFjdGlvbjogYm9vbGVhbikgPT4gdm9pZDtcblxuLy9leHBvcnQgaW50ZXJmYWNlIFVzZVJvdmluZ1RhYkluZGV4UmV0dXJuVHlwZVdpdGhIb29rczxUYWJiYWJsZUNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlUm92aW5nVGFiSW5kZXhSZXR1cm5UeXBlSW5mbzxUYWJiYWJsZUNoaWxkRWxlbWVudD4geyB9XG5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VSb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczxUYWJiYWJsZUNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiBQaWNrPFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50PiwgXCJpbmRleFwiPjtcblxuICAgIC8qKiBcbiAgICAgKiBUaGUgaW5mb3JtYXRpb24gc3BlY2lmaWMgdG8gUlRJIGZvciB0aGlzIGNoaWxkIHRoYXQgeW91IHByb3ZpZGVcbiAgICAgKi9cbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogUGljazxVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbzxUYWJiYWJsZUNoaWxkRWxlbWVudD4sIFwiaGlkZGVuXCI+O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkIGJ5IHRoZSBwYXJlbnQgaG9va1xuICAgICAqL1xuICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0OiBSb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dDxUYWJiYWJsZUNoaWxkRWxlbWVudD47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHQ8VGFiYmFibGVDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiB7XG4gICAgX2U/OiBUYWJiYWJsZUNoaWxkRWxlbWVudDtcblxuICAgIHNldFRhYmJhYmxlSW5kZXg6IFNldFRhYmJhYmxlSW5kZXg7XG5cbiAgICBnZXRJbml0aWFsbHlUYWJiZWRJbmRleCgpOiBudW1iZXIgfCBudWxsO1xuXG4gICAgLyoqXG4gICAgICogKFRoaXMgaXMgdGVjaG5pY2FsbHkgdGhlIHNhbWUgYXMgd2hhdCdzIHBhc3NlZCB0byBvbkNoaWxkcmVuTW91bnRDaGFuZ2UsXG4gICAgICogYnV0IGl0IHNlcnZlcyBhIHNsaWdodGx5IGRpZmZlcmVudCBwdXJwb3NlIGFuZCBpcyBzZXBhcmF0ZSBmb3IgY2xhcml0eSlcbiAgICAgKi9cbiAgICByZWV2YWx1YXRlQ2xvc2VzdEZpdDogKCkgPT4gdm9pZDtcbn1cblxuLy9leHBvcnQgdHlwZSBVc2VSb3ZpbmdUYWJJbmRleENoaWxkPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gKGE6IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudCwgUj4pID0+IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD47XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUm92aW5nVGFiSW5kZXhDaGlsZFJldHVyblR5cGU8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuXG4gICAgLyoqIFxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgYSB1c2VyIGNsaWNrcyBvbiBhbiBlbGVtZW50IG9yIG1hbnVhbGx5IGZvY3VzZXMgaXQgaW4gc29tZSBvdGhlciB3YXkuXG4gICAgICogXG4gICAgICogV2UgbmVlZCB0byBrbm93IGlmIHdlJ3JlIGN1cnJlbnRseSBmb2N1c2VkIHNvIHRoYXQgd2UgY2FuIHRlbGwgdGhlIHBhcmVudCB0byBtYXJrIHRoaXMgY2hpbGQgYXMgdGhlIGN1cnJlbnRseSB0YWJiYWJsZSBjaGlsZC5cbiAgICAgKi9cbiAgICBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiBSZXF1aXJlZDxQaWNrPFVzZUhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PltcImhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnNcIl0sIFwib25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZFwiPj47XG5cbiAgICAvKiogUmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSB0YWJiYWJsZSBzdGF0ZSBvZiB0aGlzIGNoaWxkICovXG4gICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybjoge1xuICAgICAgICAvKipcbiAgICAgICAgICogKlVuc3RhYmxlKlxuICAgICAgICAgKiBcbiAgICAgICAgICogV2hldGhlciB0aGlzIGNoaWxkLCBpbmRpdmlkdWFsbHksIGlzICp0aGUqIGN1cnJlbnRseSB0YWJiYWJsZSBjaGlsZC5cbiAgICAgICAgICovXG4gICAgICAgIHRhYmJhYmxlOiBib29sZWFuO1xuICAgICAgICAvKiogKipTVEFCTEUqKiAqL1xuICAgICAgICBnZXRUYWJiYWJsZSgpOiBib29sZWFuO1xuICAgICAgICAvKiogKipTVEFCTEUqKlxuICAgICAgICAgKiBcbiAgICAgICAgICogSW50ZXJuYWwgdXNlIG9ubHksIHBhc3MgdG8gYHVzZU1hbmFnZWRDaGlsZGBcbiAgICAgICAgICovXG4gICAgICAgIHNldFRhYmJhYmxlOiBTdGF0ZVVwZGF0ZXI8Ym9vbGVhbj47XG5cbiAgICAgICAgLyoqIFxuICAgICAgICAgKiAqVW5zdGFibGUqXG4gICAgICAgICAqIFxuICAgICAgICAgKiBUaGUgcHJvcHMgdGhhdCBtdXN0IGJlIGFwcGxpZWQgdG8gdGhpcyBjaGlsZCBpbiBvcmRlciBmb3IgdGhpcyBob29rIHRvIHdvcmsuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBUaGUgb2JqZWN0IGl0c2VsZiwgYXMgd2VsbCBhcyB0aGUgcHJvcGVydGllcyB3aXRoaW4gaXQsIGFyZSB1bnN0YWJsZSBhbmQgc2hvdWxkIGJlIHJlbmRlcmVkIGJ5IHRoZSBzYW1lIGNvbXBvbmVudCB0aGF0IHVzZXMgdGhpcyBob29rLlxuICAgICAgICAgKi9cbiAgICAgICAgcHJvcHNVbnN0YWJsZTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8Q2hpbGRFbGVtZW50PjtcbiAgICB9XG59XG5cblxuXG4vKipcbiAqIEltcGxlbWVudHMgYSByb3ZpbmcgdGFiaW5kZXggc3lzdGVtIHdoZXJlIG9ubHkgb25lIFwiZm9jdXNhYmxlXCJcbiAqIGNvbXBvbmVudCBpbiBhIHNldCBpcyBhYmxlIHRvIHJlY2VpdmUgYSB0YWIgZm9jdXMuICpXaGljaCpcbiAqIG9mIHRob3NlIGVsZW1lbnRzIHJlY2VpdmVzIGZvY3VzIGlzIGRldGVybWluZWQgYnkgeW91LCBidXQgaXQnc1xuICogcmVjb21tZW5kZWQgdG8gb2ZmbG9hZCB0aGF0IGxvZ2ljIHRoZW4gdG8gYW5vdGhlciBob29rLCBsaWtlXG4gKiBgdXNlTGluZWFyTmF2aWdhdGlvbmAsIHdoaWNoIGxldHMgeW91IGNoYW5nZSB0aGUgdGFiYmFibGVcbiAqIGVsZW1lbnQgd2l0aCB0aGUgYXJyb3cga2V5cywgYHVzZVR5cGVhaGVhZE5hdmlnYXRpb25gLCB3aGljaFxuICogbGV0cyB5b3UgY2hhbmdlIHRoZSB0YWJiYWJsZSBpbmRleCB3aXRoIHR5cGVhaGVhZCwgb3JcbiAqIGB1c2VMaXN0TmF2aWdhdGlvbmAgaWYgeW91IGp1c3Qgd2FudCBldmVyeXRoaW5nIGJ1bmRsZWQgdG9nZXRoZXIuXG4gKiBcbiAqIE5vdGUgdGhhdCB0aGUgY2hpbGQgaG9vayByZXR1cm5lZCBieSB0aGlzIGZ1bmN0aW9uIG11c3QgYmUgdXNlZFxuICogYnkgZXZlcnkgY2hpbGQgdGhhdCB1c2VzIHRoaXMgcm92aW5nIHRhYmluZGV4IGxvZ2ljLiAgVGhlXG4gKiBwcm9wLW1vZGlmeWluZyBob29rICp0aGF0KiBob29rIHJldHVybnMgc2hvdWxkIHRoZW4gYmUgdXNlZFxuICogb24gdGhlIGNoaWxkJ3MgZWxlbWVudCwgYXMgd2VsbCBhcyBhbnkgb3RoZXIgZWxlbWVudHMgeW91J2QgbGlrZVxuICogdG8gYmUgZXhwbGljaXRseSBtYWRlIHVudGFiYmFibGUgdG9vLlxuICogXG4gKiBgc2hvdWxkRm9jdXNPbkNoYW5nZWAgc2hvdWxkIHJldHVybiB0cnVlIGlmIGZvY3VzIGlzIFxuICogY29udGFpbmVkIHdpdGhpbiB3aGF0ZXZlciBlbGVtZW50IGNvbnRhaW5zIHRoZSByb3ZpbmcgdGFiIGluZGV4LlxuICogR2VuZXJhbGx5IGFzIHNpbXBsZSBhcyB0aGUgZm9sbG93aW5nOlxuICogYGBgXG4gKiBjb25zdCBbZm9jdXNlZElubmVyLCBzZXRGb2N1c2VkSW5uZXJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICogY29uc3QgeyB1c2VIYXNGb2N1c1Byb3BzIH0gPSB1c2VIYXNGb2N1czxQYXJlbnRFbGVtZW50Pih7IHNldEZvY3VzZWRJbm5lciB9KTtcbiAqIGNvbnN0IGZvY3VzT25DaGFuZ2UgPSAoZm9jdXNlZElubmVyICE9IGZhbHNlKTtcbiAqIGBgYFxuICogSXQncyBub3QgaW5jbHVkZWQgaGVyZSBiZWNhdXNlIGB1c2VSb3ZpbmdUYWJJbmRleGAgZG9lc24ndCBrbm93IFxuICogYW55dGhpbmcgYWJvdXQgdGhlIGNvbnRhaW5lciBlbGVtZW50LCBvbmx5IGNoaWxkcmVuIGVsZW1lbnRzLlxuICogQW5kIGp1c3QgYXMgd2VsbCEgQ2hpbGRyZW4gc2hvdWxkIGJlIGFsbG93ZWQgYXQgdGhlIHJvb3QsIFxuICogcmVnYXJkbGVzcyBvZiBpZiBpdCdzIHRoZSB3aG9sZSBhcHAgb3IganVzdCBhIGdpdmVuIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJvdmluZ1RhYkluZGV4PENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+Pih7XG4gICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuOiB7IGdldENoaWxkcmVuIH0sXG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiB7IHVudGFiYmFibGUsIGluaXRpYWxseVRhYmJlZEluZGV4LCBvblRhYmJhYmxlSW5kZXhDaGFuZ2UgfSxcbiAgICAuLi5fdm9pZDFcbn06IFVzZVJvdmluZ1RhYkluZGV4UGFyYW1ldGVyczxDaGlsZEVsZW1lbnQsIE0+KTogVXNlUm92aW5nVGFiSW5kZXhSZXR1cm5UeXBlPENoaWxkRWxlbWVudD4ge1xuICAgIGFzc2VydEVtcHR5T2JqZWN0KF92b2lkMSk7XG5cbiAgICBjb25zdCBnZXRVbnRhYmJhYmxlID0gdXNlU3RhYmxlR2V0dGVyKHVudGFiYmFibGUpO1xuXG4gICAgLy9pbml0aWFsbHlUYWJiZWRJbmRleCA/Pz0gMDtcblxuICAgIC8vIE92ZXJyaWRlIHRoZSBhY3R1YWwgc2V0dGVyIHRvIGluY2x1ZGUgc29tZSBleHRyYSBsb2dpYyByZWxhdGVkIHRvIGF2b2lkaW5nIGhpZGRlbiBjaGlsZHJlbiwgXG4gICAgLy8gd2hhdCB0byBkbyB3aGVuIHdlJ3JlIHVudGFiYmFibGUsIHdoYXQgdG8gZG8gd2hlbiB3ZSdyZSB0YWJiYWJsZSBidXQgZ2l2ZW4gYG51bGxgLCBldGMuXG4gICAgY29uc3Qgc2V0VGFiYmFibGVJbmRleCA9IHVzZVN0YWJsZUNhbGxiYWNrPFNldFRhYmJhYmxlSW5kZXg+KCh1cGRhdGVyLCByZWFzb24sIGZyb21Vc2VySW50ZXJhY3Rpb24pID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBnZXRDaGlsZHJlbigpO1xuXG4gICAgICAgIC8vIE5vdGlmeSB0aGUgcmVsZXZhbnQgY2hpbGRyZW4gdGhhdCB0aGV5IHNob3VsZCBiZWNvbWUgdGFiYmFibGUvdW50YWJiYWJsZSxcbiAgICAgICAgLy8gYnV0IGFsc28gaGFuZGxlIGZvY3VzIG1hbmFnZW1lbnQgd2hlbiB3ZSBjaGFuZ2VkIGR1ZSB0byB1c2VyIGludGVyYWN0aW9uXG4gICAgICAgIHJldHVybiBjaGFuZ2VUYWJiYWJsZUluZGV4KGZ1bmN0aW9uIHJldHVybk1vZGlmaWVkVGFiYmFibGVJbmRleChwcmV2SW5kZXg6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQpOiBudW1iZXIgfCBudWxsIHtcbiAgICAgICAgICAgIGxldCBuZXh0SW5kZXggPSAoKHR5cGVvZiB1cGRhdGVyID09PSBcImZ1bmN0aW9uXCIpID8gdXBkYXRlcihwcmV2SW5kZXggPz8gbnVsbCkgOiB1cGRhdGVyKSBhcyBNW1wiaW5kZXhcIl07XG4gICAgICAgICAgICBjb25zdCB1bnRhYmJhYmxlID0gZ2V0VW50YWJiYWJsZSgpO1xuXG4gICAgICAgICAgICBpZiAobmV4dEluZGV4ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgc2V0TGFzdE5vbk51bGxJbmRleChuZXh0SW5kZXgpO1xuXG4gICAgICAgICAgICBpZiAodW50YWJiYWJsZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAgICAgaWYgKHByZXZJbmRleCAhPSBuZXh0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hpbGQgPSBuZXh0SW5kZXggPT0gbnVsbCA/IG51bGwgOiBjaGlsZHJlbi5nZXRBdChuZXh0SW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQ/LmhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldkluZGV4ID8/ICh1bnRhYmJhYmxlID8gbnVsbCA6IDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hpbGQgIT0gbnVsbCAmJiBmcm9tVXNlckludGVyYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBuZXh0Q2hpbGQuZ2V0RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT0gbnVsbCB8fCAhZWxlbWVudC5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q2hpbGQuZm9jdXNTZWxmKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPOiBSZWR1bmRhbnQ/XG4gICAgICAgICAgICBpZiAobmV4dEluZGV4ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgc2V0TGFzdE5vbk51bGxJbmRleChuZXh0SW5kZXgpO1xuXG4gICAgICAgICAgICByZXR1cm4gbmV4dEluZGV4ID8/ICh1bnRhYmJhYmxlID8gbnVsbCA6IDApO1xuICAgICAgICB9LCByZWFzb24pO1xuICAgIH0sIFtdKTtcblxuICAgIC8vIFdoZW4gd2Ugc3dpdGNoIGZyb20gdGFiYmFibGUgdG8gbm9uL3RhYmJhYmxlLCB3ZSByZWFsbHkgd2FudCB0byByZW1lbWJlciB0aGUgbGFzdCB0YWJiYWJsZSBjaGlsZC5cbiAgICAvLyBTbyBldmVyeSB0aW1lIHdlIGNoYW5nZSB0aGUgaW5kZXggZm9yIGFueSByZWFzb24sIHJlY29yZCB0aGF0IGNoYW5nZSBhcyBhIGJhY2sgdXAgaGVyZSB0aGF0IGNhbiBiZSByZXN0b3JlZC5cbiAgICBjb25zdCBbZ2V0TGFzdE5vbk51bGxJbmRleCwgc2V0TGFzdE5vbk51bGxJbmRleF0gPSB1c2VQYXNzaXZlU3RhdGU8bnVtYmVyLCBFdmVudD4obnVsbCwgdXNlQ2FsbGJhY2soKCkgPT4gKGluaXRpYWxseVRhYmJlZEluZGV4ID8/IDApLCBbXSkpO1xuXG4gICAgLy8gQW55IHRpbWUgd2Ugc3dpdGNoIHRvIGJlaW5nIHVudGFiYmFibGUsIHNldCB0aGUgY3VycmVudCB0YWJiYWJsZSBpbmRleCBhY2NvcmRpbmdseS5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAodW50YWJiYWJsZSlcbiAgICAgICAgICAgIGNoYW5nZVRhYmJhYmxlSW5kZXgobnVsbCwgdW5kZWZpbmVkISk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbmdlVGFiYmFibGVJbmRleChnZXRMYXN0Tm9uTnVsbEluZGV4KCksIHVuZGVmaW5lZCEpO1xuICAgICAgICB9XG4gICAgfSwgW3VudGFiYmFibGVdKTtcblxuICAgIC8vIEJvaWxlcnBsYXRlIHJlbGF0ZWQgdG8gbm90aWZ5aW5nIGluZGl2aWR1YWwgY2hpbGRyZW4gd2hlbiB0aGV5IGJlY29tZSB0YWJiYWJsZS91bnRhYmJhYmxlXG4gICAgY29uc3QgZ2V0VGFiYmFibGVBdCA9IHVzZUNhbGxiYWNrKChtOiBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+KSA9PiB7IHJldHVybiBtLmdldFRhYmJhYmxlKCkgfSwgW10pO1xuICAgIGNvbnN0IHNldFRhYmJhYmxlQXQgPSB1c2VDYWxsYmFjaygobTogVXNlUm92aW5nVGFiSW5kZXhDaGlsZEluZm88Q2hpbGRFbGVtZW50PiwgdDogYm9vbGVhbikgPT4geyBtLnNldFRhYmJhYmxlKHQpOyB9LCBbXSk7XG4gICAgY29uc3QgaXNUYWJiYWJsZVZhbGlkID0gdXNlQ2FsbGJhY2soKG06IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvPENoaWxkRWxlbWVudD4pID0+IHsgcmV0dXJuICFtLmhpZGRlbiB9LCBbXSk7XG4gICAgY29uc3QgeyBjaGFuZ2VJbmRleDogY2hhbmdlVGFiYmFibGVJbmRleCwgZ2V0Q3VycmVudEluZGV4OiBnZXRUYWJiYWJsZUluZGV4LCByZWV2YWx1YXRlQ2xvc2VzdEZpdCB9ID0gdXNlQ2hpbGRyZW5GbGFnPFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvPENoaWxkRWxlbWVudD4sIEV2ZW50Pih7XG4gICAgICAgIGluaXRpYWxJbmRleDogaW5pdGlhbGx5VGFiYmVkSW5kZXggPz8gKHVudGFiYmFibGUgPyBudWxsIDogMCksXG4gICAgICAgIG9uSW5kZXhDaGFuZ2U6IG9uVGFiYmFibGVJbmRleENoYW5nZSxcbiAgICAgICAgZ2V0Q2hpbGRyZW4sXG4gICAgICAgIGNsb3Nlc3RGaXQ6IHRydWUsXG4gICAgICAgIGdldEF0OiBnZXRUYWJiYWJsZUF0LFxuICAgICAgICBpc1ZhbGlkOiBpc1RhYmJhYmxlVmFsaWQsXG4gICAgICAgIHNldEF0OiBzZXRUYWJiYWJsZUF0LFxuICAgIH0pO1xuXG4gICAgY29uc3QgZm9jdXNTZWxmID0gdXNlQ2FsbGJhY2soKHJlYXNvbj86IHVua25vd24pID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBnZXRDaGlsZHJlbigpO1xuICAgICAgICBjb25zdCBpbmRleCA9IGdldFRhYmJhYmxlSW5kZXgoKTtcbiAgICAgICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBjaGlsZHJlbi5nZXRBdChpbmRleCk/LmdldEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGNoaWxkcmVuLmdldEF0KGluZGV4KT8uZm9jdXNTZWxmPy4oZWxlbWVudCEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHNldFRhYmJhYmxlSW5kZXgobnVsbCwgcmVhc29uIGFzIGFueSwgdHJ1ZSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3Qgcm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHQgPSB1c2VTdGFibGVPYmplY3Qoe1xuICAgICAgICBzZXRUYWJiYWJsZUluZGV4LFxuICAgICAgICBnZXRJbml0aWFsbHlUYWJiZWRJbmRleDogdXNlQ2FsbGJhY2soKCkgPT4geyByZXR1cm4gaW5pdGlhbGx5VGFiYmVkSW5kZXggPz8gKHVudGFiYmFibGUgPyBudWxsIDogMCkgfSwgW10pLFxuICAgICAgICByZWV2YWx1YXRlQ2xvc2VzdEZpdFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyczogeyBvbkNoaWxkcmVuTW91bnRDaGFuZ2U6IHJlZXZhbHVhdGVDbG9zZXN0Rml0LCB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleFJldHVybjogeyBzZXRUYWJiYWJsZUluZGV4LCBnZXRUYWJiYWJsZUluZGV4LCBmb2N1c1NlbGYgfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHRcbiAgICB9O1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSb3ZpbmdUYWJJbmRleENoaWxkPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4LCAuLi5fdm9pZDIgfSxcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dDogeyByZWV2YWx1YXRlQ2xvc2VzdEZpdCwgc2V0VGFiYmFibGVJbmRleCwgZ2V0SW5pdGlhbGx5VGFiYmVkSW5kZXggfSxcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcbn06IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudD4pOiBVc2VSb3ZpbmdUYWJJbmRleENoaWxkUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQ+IHtcbiAgICBjb25zdCB7IGhpZGRlbiwgLi4uX3ZvaWQxIH0gPSByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycztcbiAgICBjb25zdCBbdGFiYmFibGUsIHNldFRhYmJhYmxlLCBnZXRUYWJiYWJsZV0gPSB1c2VTdGF0ZShnZXRJbml0aWFsbHlUYWJiZWRJbmRleCgpID09PSBpbmRleCk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZWV2YWx1YXRlQ2xvc2VzdEZpdCgpO1xuICAgIH0sIFshIWhpZGRlbl0pO1xuXG4gICAgYXNzZXJ0RW1wdHlPYmplY3QoX3ZvaWQxKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdChfdm9pZDIpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZDogdXNlU3RhYmxlQ2FsbGJhY2soKGZvY3VzZWQ6IGJvb2xlYW4sIF9wcmV2Rm9jdXNlZDogYm9vbGVhbiB8IHVuZGVmaW5lZCwgZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRhYmJhYmxlSW5kZXgoaW5kZXgsIGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUmV0dXJuOiB7XG4gICAgICAgICAgICBwcm9wc1Vuc3RhYmxlOiB7IHRhYkluZGV4OiAodGFiYmFibGUgPyAwIDogLTEpIH0sXG4gICAgICAgICAgICB0YWJiYWJsZSxcbiAgICAgICAgICAgIGdldFRhYmJhYmxlLFxuICAgICAgICAgICAgc2V0VGFiYmFibGVcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlLCByZXR1cm5OdWxsLCBydW5JbW1lZGlhdGVseSwgdXNlUGFzc2l2ZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1wYXNzaXZlLXN0YXRlXCI7XG5pbXBvcnQgeyBVc2VSZWZFbGVtZW50UmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1yZWYtZWxlbWVudFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRleHRDb250ZW50UGFyYW1ldGVyczxFIGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHJlZkVsZW1lbnRSZXR1cm46IFBpY2s8VXNlUmVmRWxlbWVudFJldHVyblR5cGU8RT5bXCJyZWZFbGVtZW50UmV0dXJuXCJdLCBcImdldEVsZW1lbnRcIj47XG4gICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIHRleHQgY29udGVudCBvZiB0aGlzIGNvbXBvbmVudC4gQnkgZGVmYXVsdCwgYGUgPT4gZS50ZXh0Q29udGVudGAgaXMgcHJvYmFibHkgd2hhdCB5b3Ugd2FudC5cbiAgICAgICAgICovXG4gICAgICAgIGdldFRleHQoZTogRSB8IG51bGwpOiBzdHJpbmcgfCBudWxsO1xuICAgICAgICBvblRleHRDb250ZW50Q2hhbmdlOiBPblBhc3NpdmVTdGF0ZUNoYW5nZTxzdHJpbmcgfCBudWxsLCBuZXZlcj47XG5cbiAgICAgICAgaGlkZGVuOiBib29sZWFuO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VUZXh0Q29udGVudFJldHVyblR5cGUge1xuICAgIHRleHRDb250ZW50UmV0dXJuOiB7IGdldFRleHRDb250ZW50OiAoKSA9PiBzdHJpbmcgfCBudWxsOyB9IFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVGV4dENvbnRlbnQ8RSBleHRlbmRzIEVsZW1lbnQ+KHsgcmVmRWxlbWVudFJldHVybjogeyBnZXRFbGVtZW50IH0sIHRleHRDb250ZW50UGFyYW1ldGVyczogeyBnZXRUZXh0LCBvblRleHRDb250ZW50Q2hhbmdlLCBoaWRkZW4gfSB9OiBVc2VUZXh0Q29udGVudFBhcmFtZXRlcnM8RT4pOiBVc2VUZXh0Q29udGVudFJldHVyblR5cGUge1xuICAgIGNvbnN0IFtnZXRUZXh0Q29udGVudCwgc2V0VGV4dENvbnRlbnRdID0gdXNlUGFzc2l2ZVN0YXRlPHN0cmluZyB8IG51bGwsIG5ldmVyPihvblRleHRDb250ZW50Q2hhbmdlLCByZXR1cm5OdWxsLCBydW5JbW1lZGlhdGVseSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFoaWRkZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50KCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRDb250ZW50ID0gZ2V0VGV4dChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGV4dENvbnRlbnQodGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB7IHRleHRDb250ZW50UmV0dXJuOiB7IGdldFRleHRDb250ZW50IH0gfVxufVxuIiwiaW1wb3J0IHsgVXNlUHJlc3NQYXJhbWV0ZXJzIH0gZnJvbSBcImNvbXBvbmVudC11c2UvdXNlLXByZXNzXCI7XG5pbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUxheW91dEVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgVXNlUmVmRWxlbWVudFJldHVyblR5cGUgfSBmcm9tIFwiLi4vZG9tLWhlbHBlcnMvdXNlLXJlZi1lbGVtZW50XCI7XG5pbXBvcnQgeyB1c2VUZXh0Q29udGVudCwgVXNlVGV4dENvbnRlbnRQYXJhbWV0ZXJzLCBVc2VUZXh0Q29udGVudFJldHVyblR5cGUgfSBmcm9tIFwiLi4vZG9tLWhlbHBlcnMvdXNlLXRleHQtY29udGVudFwiO1xuaW1wb3J0IHsgYXNzZXJ0RW1wdHlPYmplY3QgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLW1hbmFnZWQtY2hpbGRyZW5cIjtcbmltcG9ydCB7IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlLCB1c2VQYXNzaXZlU3RhdGUgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXBhc3NpdmUtc3RhdGVcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtY2FsbGJhY2tcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUdldHRlciwgdXNlU3RhYmxlT2JqZWN0IH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtZ2V0dGVyXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhdGVcIjtcbmltcG9ydCB7IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzLCBVc2VSb3ZpbmdUYWJJbmRleFJldHVyblR5cGUgfSBmcm9tIFwiLi91c2Utcm92aW5nLXRhYmluZGV4XCI7XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm5UeXBlPFBhcmVudE9yQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm46IHtcbiAgICAgICAgZ2V0Q3VycmVudFR5cGVhaGVhZCgpOiBzdHJpbmcgfCBudWxsO1xuICAgICAgICB0eXBlYWhlYWRTdGF0dXM6IFwiaW52YWxpZFwiIHwgXCJ2YWxpZFwiIHwgXCJub25lXCI7XG4gICAgICAgIC8vaW52YWxpZFR5cGVhaGVhZDogYm9vbGVhbiB8IG51bGw7XG4gICAgICAgIHByb3BzU3RhYmxlOiBoLkpTWC5IVE1MQXR0cmlidXRlczxQYXJlbnRPckNoaWxkRWxlbWVudD47XG4gICAgfVxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQ6IFVzZVR5cGVhaGVhZE5hdmlnYXRpb25Db250ZXh0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25Db250ZXh0IHtcblxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM6IHtcbiAgICAgICAgZXhjbHVkZVNwYWNlOiAoKSA9PiBib29sZWFuO1xuICAgICAgICBzb3J0ZWRUeXBlYWhlYWRJbmZvOiBBcnJheTxUeXBlYWhlYWRJbmZvPjtcbiAgICAgICAgaW5zZXJ0aW5nQ29tcGFyYXRvcjogKGxoczogc3RyaW5nIHwgbnVsbCwgcmhzOiBUeXBlYWhlYWRJbmZvKSA9PiBudW1iZXI7XG4gICAgfVxufVxuXG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzPFRhYmJhYmxlQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogTXVzdCByZXR1cm4gdHJ1ZSBpZiB0aGUgZ2l2ZW4gY2hpbGQgY2FuIGJlIG5hdmlnYXRlZCB0by5cbiAgICAgICAgICogXG4gICAgICAgICAqIEdlbmVyYWxseSBjb3JyZXNwb25kcyB0byBhIGBoaWRkZW5gIG9yIGBkaXNhYmxlZGAgcHJvcC5cbiAgICAgICAgICogQHBhcmFtIGkgXG4gICAgICAgICAqL1xuICAgICAgICBpc1ZhbGlkKGk6IG51bWJlcik6IGJvb2xlYW47XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb2xsYXRvciB0byB1c2Ugd2hlbiBjb21wYXJpbmcuIElmIG5vdCBwcm92aWRlZCwgc2ltcGx5IHVzZXMgYGxvY2FsZUNvbXBhcmVgIGFmdGVyIHRyYW5zZm9ybWluZyBlYWNoIHRvIGxvd2VyY2FzZSwgd2hpY2ggd2lsbCwgYXQgYmVzdCwgd29yayBva2F5IGluIEVuZ2xpc2guXG4gICAgICAgICAqL1xuICAgICAgICBjb2xsYXRvcjogbnVsbCB8IEludGwuQ29sbGF0b3I7XG5cbiAgICAgICAgbm9UeXBlYWhlYWQ6IGJvb2xlYW47XG5cbiAgICAgICAgdHlwZWFoZWFkVGltZW91dDogbnVtYmVyO1xuICAgIH07XG5cbiAgICByb3ZpbmdUYWJJbmRleFJldHVybjogUGljazxVc2VSb3ZpbmdUYWJJbmRleFJldHVyblR5cGU8VGFiYmFibGVDaGlsZEVsZW1lbnQ+W1wicm92aW5nVGFiSW5kZXhSZXR1cm5cIl0sIFwiZ2V0VGFiYmFibGVJbmRleFwiIHwgXCJzZXRUYWJiYWJsZUluZGV4XCI+XG59XG5cbi8qKiBBcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBjaGlsZCAndXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkYCAqL1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiB7XG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogUGljazxVc2VSb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+W1wibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiXSwgXCJpbmRleFwiPjtcblxuICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogUGljazxVc2VUZXh0Q29udGVudFBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PltcInRleHRDb250ZW50UGFyYW1ldGVyc1wiXSwgXCJnZXRUZXh0XCIgfCBcImhpZGRlblwiPjtcblxuICAgIC8vdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczoge1xuXG4gICAgLy9nZXRUZXh0KGVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsKTogc3RyaW5nO1xuXG4gICAgLy9oaWRkZW46IGJvb2xlYW47XG4gICAgLy99XG5cbiAgICByZWZFbGVtZW50UmV0dXJuOiBQaWNrPFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD5bXCJyZWZFbGVtZW50UmV0dXJuXCJdLCBcImdldEVsZW1lbnRcIj47XG5cbiAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0OiBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ29udGV4dFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGUgZXh0ZW5kcyBVc2VUZXh0Q29udGVudFJldHVyblR5cGUge1xuICAgIHByZXNzUGFyYW1ldGVyczogUGljazxVc2VQcmVzc1BhcmFtZXRlcnM8YW55PltcInByZXNzUGFyYW1ldGVyc1wiXSwgXCJleGNsdWRlU3BhY2VcIj47XG59XG5cbmludGVyZmFjZSBUeXBlYWhlYWRJbmZvIHsgdGV4dDogc3RyaW5nIHwgbnVsbDsgdW5zb3J0ZWRJbmRleDogbnVtYmVyOyB9XG5cblxuLyoqXG4gKiBBbGxvd3MgZm9yIHRoZSBzZWxlY3Rpb24gb2YgYSBtYW5hZ2VkIGNoaWxkIGJ5IHR5cGluZyB0aGUgZ2l2ZW4gdGV4dCBhc3NvY2lhdGVkIHdpdGggaXQuXG4gKiBcbiAqIEBzZWUgdXNlTGlzdE5hdmlnYXRpb24sIHdoaWNoIHBhY2thZ2VzIGV2ZXJ5dGhpbmcgdXAgdG9nZXRoZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VUeXBlYWhlYWROYXZpZ2F0aW9uPFBhcmVudE9yQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7IGNvbGxhdG9yLCB0eXBlYWhlYWRUaW1lb3V0LCBub1R5cGVhaGVhZCwgaXNWYWxpZCwgLi4uX3ZvaWQzIH0sXG4gICAgcm92aW5nVGFiSW5kZXhSZXR1cm46IHsgZ2V0VGFiYmFibGVJbmRleDogZ2V0SW5kZXgsIHNldFRhYmJhYmxlSW5kZXg6IHNldEluZGV4LCAuLi5fdm9pZDEgfSxcbiAgICAuLi5fdm9pZDJcbn06IFVzZVR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzPENoaWxkRWxlbWVudD4pOiBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPckNoaWxkRWxlbWVudD4ge1xuXG4gICAgYXNzZXJ0RW1wdHlPYmplY3QoX3ZvaWQxKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdChfdm9pZDIpO1xuICAgIGFzc2VydEVtcHR5T2JqZWN0KF92b2lkMyk7XG5cbiAgICAvLyBGb3IgdHlwZWFoZWFkLCBrZWVwIHRyYWNrIG9mIHdoYXQgb3VyIGN1cnJlbnQgXCJzZWFyY2hcIiBzdHJpbmcgaXMgKGlmIHdlIGhhdmUgb25lKVxuICAgIC8vIGFuZCBhbHNvIGNsZWFyIGl0IGV2ZXJ5IDEwMDAgbXMgc2luY2UgdGhlIGxhc3QgdGltZSBpdCBjaGFuZ2VkLlxuICAgIC8vIE5leHQsIGtlZXAgYSBtYXBwaW5nIG9mIHR5cGVhaGVhZCB2YWx1ZXMgdG8gaW5kaWNlcyBmb3IgZmFzdGVyIHNlYXJjaGluZy5cbiAgICAvLyBBbmQsIGZvciB0aGUgdXNlcidzIHNha2UsIGxldCB0aGVtIGtub3cgd2hlbiB0aGVpciB0eXBlYWhlYWQgY2FuJ3QgbWF0Y2ggYW55dGhpbmcgYW55bW9yZVxuICAgIGNvbnN0IFtnZXRDdXJyZW50VHlwZWFoZWFkLCBzZXRDdXJyZW50VHlwZWFoZWFkXSA9IHVzZVBhc3NpdmVTdGF0ZTxzdHJpbmcgfCBudWxsLCBFdmVudD4odXNlU3RhYmxlQ2FsbGJhY2soKGN1cnJlbnRUeXBlYWhlYWQsIHByZXYsIHJlYXNvbikgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGUgPSBzZXRUaW1lb3V0KCgpID0+IHsgc2V0Q3VycmVudFR5cGVhaGVhZChudWxsLCB1bmRlZmluZWQhKTsgc2V0VHlwZWFoZWFkU3RhdHVzKFwibm9uZVwiKTsgfSwgdHlwZWFoZWFkVGltZW91dCA/PyAxMDAwKTtcbiAgICAgICAgdXBkYXRlQmFzZWRPblR5cGVhaGVhZENoYW5nZShjdXJyZW50VHlwZWFoZWFkLCByZWFzb24hKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChoYW5kbGUpO1xuICAgIH0pKTtcbiAgICAvL3VzZVRpbWVvdXQoeyB0aW1lb3V0OiB0eXBlYWhlYWRUaW1lb3V0ID8/IDEwMDAsIGNhbGxiYWNrOiAoKSA9PiB7IHNldEN1cnJlbnRUeXBlYWhlYWQobnVsbCk7IHNldEludmFsaWRUeXBlYWhlYWQobnVsbCk7IH0sIHRyaWdnZXJJbmRleDogY3VycmVudFR5cGVhaGVhZCB9KTtcbiAgICBjb25zdCBzb3J0ZWRUeXBlYWhlYWRJbmZvID0gdXNlUmVmPFR5cGVhaGVhZEluZm9bXT4oW10pO1xuICAgIGNvbnN0IFt0eXBlYWhlYWRTdGF0dXMsIHNldFR5cGVhaGVhZFN0YXR1c10gPSB1c2VTdGF0ZTxgJHtcImluXCIgfCBcIlwifXZhbGlkYCB8IFwibm9uZVwiPihcIm5vbmVcIik7XG5cbiAgICAvLyBIYW5kbGUgdHlwZWFoZWFkIGZvciBpbnB1dCBtZXRob2QgZWRpdG9ycyBhcyB3ZWxsXG4gICAgLy8gRXNzZW50aWFsbHksIHdoZW4gYWN0aXZlLCBpZ25vcmUgZnVydGhlciBrZXlzIFxuICAgIC8vIGJlY2F1c2Ugd2UncmUgd2FpdGluZyBmb3IgYSBDb21wb3NpdGlvbkVuZCBldmVudFxuICAgIGNvbnN0IFssIHNldEltZUFjdGl2ZSwgZ2V0SW1lQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAgIC8vIEJlY2F1c2UgY29tcG9zaXRpb24gZXZlbnRzIGZpcmUgKmFmdGVyKiBrZXlkb3duIGV2ZW50cyBcbiAgICAvLyAoYnV0IHdpdGhpbiB0aGUgc2FtZSB0YXNrLCB3aGljaCwgVE9ETywgY291bGQgYmUgYnJvd3Nlci1kZXBlbmRlbnQpLFxuICAgIC8vIHdlIGNhbiB1c2UgdGhpcyB0byBrZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50IHdlJ3JlIGxpc3RlbmluZyBmb3Igb24gdGhlIGZpcnN0IGtleWRvd24uXG4gICAgY29uc3QgW25leHRUeXBlYWhlYWRDaGFyLCBzZXROZXh0VHlwZWFoZWFkQ2hhcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobmV4dFR5cGVhaGVhZENoYXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRUeXBlYWhlYWQodHlwZWFoZWFkID0+ICgodHlwZWFoZWFkID8/IFwiXCIpICsgbmV4dFR5cGVhaGVhZENoYXIpLCB1bmRlZmluZWQhKTtcbiAgICAgICAgICAgIHNldE5leHRUeXBlYWhlYWRDaGFyKG51bGwpO1xuICAgICAgICB9XG4gICAgfSwgW25leHRUeXBlYWhlYWRDaGFyXSk7XG5cblxuICAgIGNvbnN0IGNvbXBhcmF0b3JTaGFyZWQgPSB1c2VTdGFibGVDYWxsYmFjaygoc2FmZUxoczogc3RyaW5nLCBzYWZlUmhzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgbGV0IGNvbXBhcmU6IG51bWJlcjtcbiAgICAgICAgLy8gRm9yIHRoZSBwdXJwb3NlcyBvZiB0eXBlYWhlYWQsIG9ubHkgY29tcGFyZSBhIHN0cmluZyBvZiB0aGUgc2FtZSBzaXplIGFzIG91ciBjdXJyZW50bHkgdHlwZWQgc3RyaW5nLlxuICAgICAgICAvLyBCeSBub3JtYWxpemluZyB0aGVtIGZpcnN0LCB3ZSBlbnN1cmUgdGhpcyBieXRlLWJ5LWJ5dGUgaGFuZGxpbmcgb2YgcmF3IGNoYXJhY3RlciBkYXRhIHdvcmtzIG91dCBva2F5LlxuICAgICAgICBzYWZlTGhzID0gc2FmZUxocy5ub3JtYWxpemUoXCJORkRcIik7XG4gICAgICAgIHNhZmVSaHMgPSBzYWZlUmhzLm5vcm1hbGl6ZShcIk5GRFwiKVxuXG4gICAgICAgIGlmIChjb2xsYXRvcilcbiAgICAgICAgICAgIGNvbXBhcmUgPSBjb2xsYXRvci5jb21wYXJlKHNhZmVMaHMsIHNhZmVSaHMpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbXBhcmUgPSBzYWZlTGhzLnRvTG93ZXJDYXNlKCkubG9jYWxlQ29tcGFyZShzYWZlUmhzLnRvTG93ZXJDYXNlKCkgPz8gXCJcIik7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBhcmU7XG4gICAgfSk7XG5cbiAgICBjb25zdCBpbnNlcnRpbmdDb21wYXJhdG9yID0gdXNlU3RhYmxlQ2FsbGJhY2soKGxoczogc3RyaW5nIHwgbnVsbCwgcmhzOiBUeXBlYWhlYWRJbmZvKSA9PiB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBsaHMgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHJocy50ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGFyYXRvclNoYXJlZChsaHMsIHJocy50ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAobGhzIGFzIHVua25vd24gYXMgbnVtYmVyKSAtIChyaHMgYXMgdW5rbm93biBhcyBudW1iZXIpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdHlwZWFoZWFkQ29tcGFyYXRvciA9IHVzZVN0YWJsZUNhbGxiYWNrKChsaHM6IHN0cmluZywgcmhzOiBUeXBlYWhlYWRJbmZvKSA9PiB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBsaHMgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHJocy50ZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyBEdXJpbmcgdHlwZWFoZWFkLCBhbGwgc3RyaW5ncyBsb25nZXIgdGhhbiBvdXJzIHNob3VsZCBiZSB0cnVuY2F0ZWRcbiAgICAgICAgICAgIC8vIHNvIHRoYXQgdGhleSdyZSBhbGwgY29uc2lkZXJlZCBlcXVhbGx5IGJ5IHRoYXQgcG9pbnQuXG4gICAgICAgICAgICByZXR1cm4gY29tcGFyYXRvclNoYXJlZChsaHMsIHJocy50ZXh0LnN1YnN0cmluZygwLCBsaHMubGVuZ3RoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKGxocyBhcyB1bmtub3duIGFzIG51bWJlcikgLSAocmhzIGFzIHVua25vd24gYXMgbnVtYmVyKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGlzRGlzYWJsZWQgPSB1c2VTdGFibGVHZXR0ZXIobm9UeXBlYWhlYWQpO1xuXG5cbiAgICBjb25zdCBwcm9wc1N0YWJsZSA9IHVzZVJlZjxoLkpTWC5IVE1MQXR0cmlidXRlczxQYXJlbnRPckNoaWxkRWxlbWVudD4+KHtcbiAgICAgICAgb25LZXlEb3duOiB1c2VTdGFibGVDYWxsYmFjaygoZTogaC5KU1guVGFyZ2V0ZWRLZXlib2FyZEV2ZW50PFBhcmVudE9yQ2hpbGRFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgaWYgKGlzRGlzYWJsZWQoKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGNvbnN0IGltZUFjdGl2ZSA9IGdldEltZUFjdGl2ZSgpO1xuXG4gICAgICAgICAgICBjb25zdCBrZXkgPSBlLmtleTtcblxuICAgICAgICAgICAgLy8gTm90IGhhbmRsZWQgYnkgdHlwZWFoZWFkIChpLmUuIGFzc3VtZSB0aGlzIGlzIGEga2V5Ym9hcmQgc2hvcnRjdXQpXG4gICAgICAgICAgICBpZiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIGlmICghaW1lQWN0aXZlICYmIGUua2V5ID09PSBcIkJhY2tzcGFjZVwiKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBsYXN0IGNoYXJhY3RlciBpbiBhIHdheSB0aGF0IGRvZXNuJ3Qgc3BsaXQgVVRGLTE2IHN1cnJvZ2F0ZXMuXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFR5cGVhaGVhZCh0ID0+IHQgPT0gbnVsbCA/IG51bGwgOiBbLi4udF0ucmV2ZXJzZSgpLnNsaWNlKDEpLnJldmVyc2UoKS5qb2luKFwiXCIpLCBlIGFzIGguSlNYLlRhcmdldGVkS2V5Ym9hcmRFdmVudDxhbnk+KTtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoZSBrZXkgcHJvcGVydHkgcmVwcmVzZW50cyB0aGUgdHlwZWQgY2hhcmFjdGVyIE9SIHRoZSBcIm5hbWVkIGtleSBhdHRyaWJ1dGVcIiBvZiB0aGUga2V5IHByZXNzZWQuXG4gICAgICAgICAgICAvLyBUaGVyZSdzIG5vIGRlZmluaXRlIHdheSB0byB0ZWxsIHRoZSBkaWZmZXJlbmNlLCBidXQgZm9yIGFsbCBpbnRlbnRzIGFuZCBwdXJwb3Nlc1xuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIG5vIG9uZS1jaGFyYWN0ZXIgbmFtZXMsIGFuZCB0aGVyZSBhcmUgbm8gbm9uLUFTQ0lJLWFscGhhIG5hbWVzLlxuICAgICAgICAgICAgLy8gVGh1cywgYW55IG9uZS1jaGFyYWN0ZXIgb3Igbm9uLUFTQ0lJIHZhbHVlIGZvciBga2V5YCBpcyAqYWxtb3N0IGNlcnRhaW5seSogYSB0eXBlZCBjaGFyYWN0ZXIuXG4gICAgICAgICAgICBjb25zdCBpc0NoYXJhY3RlcktleSA9IChrZXkubGVuZ3RoID09PSAxIHx8ICEvXltBLVphLXpdLy50ZXN0KGtleSkpO1xuICAgICAgICAgICAgaWYgKGlzQ2hhcmFjdGVyS2V5KSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09IFwiIFwiICYmIChnZXRDdXJyZW50VHlwZWFoZWFkKCkgPz8gXCJcIikudHJpbSgpLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGRvIGFueXRoaW5nIGJlY2F1c2UgYSBzcGFjZWJhciBjYW4ndCBldmVyIFxuICAgICAgICAgICAgICAgICAgICAvLyBpbml0aWF0ZSBhIHR5cGVhaGVhZCwgb25seSBjb250aW51ZSBvbmUuXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gKFNwZWNpZmljYWxseSwgbGV0IHRoZSBldmVudCBjb250aW51ZSBwcm9wYWdhdGlvbiBpbiB0aGlzIGNhc2UpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBOb3RlOiBXb24ndCBiZSB0cnVlIGZvciB0aGUgZmlyc3Qga2V5ZG93blxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgd2lsbCBiZSBvdmVyd3JpdHRlbiBiZWZvcmUgdXNlTGF5b3V0RWZmZWN0IGlzIGNhbGxlZFxuICAgICAgICAgICAgICAgICAgICAvLyB0byBhY3R1YWxseSBhcHBseSB0aGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW1lQWN0aXZlKVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0TmV4dFR5cGVhaGVhZENoYXIoa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSksXG4gICAgICAgIG9uQ29tcG9zaXRpb25TdGFydDogdXNlU3RhYmxlQ2FsbGJhY2soKGU6IENvbXBvc2l0aW9uRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHNldE5leHRUeXBlYWhlYWRDaGFyKGUuZGF0YSk7XG4gICAgICAgICAgICBzZXRJbWVBY3RpdmUoZmFsc2UpO1xuICAgICAgICB9KSxcbiAgICAgICAgb25Db21wb3NpdGlvbkVuZDogdXNlU3RhYmxlQ2FsbGJhY2soKF9lOiBDb21wb3NpdGlvbkV2ZW50KSA9PiB7IHNldEltZUFjdGl2ZSh0cnVlKSB9KSxcbiAgICB9KTtcblxuICAgIC8vIEhhbmRsZSBjaGFuZ2VzIGluIHR5cGVhaGVhZCB0aGF0IGNhdXNlIGNoYW5nZXMgdG8gdGhlIHRhYmJhYmxlIGluZGV4XG4gICAgLyogdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgIFxuICAgICB9LCBbY3VycmVudFR5cGVhaGVhZF0pOyovXG5cbiAgICBjb25zdCBleGNsdWRlU3BhY2UgPSB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7IHJldHVybiB0eXBlYWhlYWRTdGF0dXMgIT0gXCJub25lXCIgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0OiB1c2VTdGFibGVPYmplY3Qoe1xuICAgICAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBpbnNlcnRpbmdDb21wYXJhdG9yLFxuICAgICAgICAgICAgICAgIHNvcnRlZFR5cGVhaGVhZEluZm86IHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudCxcbiAgICAgICAgICAgICAgICBleGNsdWRlU3BhY2VcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgIH0pLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuOiB7XG4gICAgICAgICAgICBnZXRDdXJyZW50VHlwZWFoZWFkLFxuICAgICAgICAgICAgdHlwZWFoZWFkU3RhdHVzLFxuICAgICAgICAgICAgcHJvcHNTdGFibGU6IHByb3BzU3RhYmxlLmN1cnJlbnRcbiAgICAgICAgfVxuICAgIH1cblxuXG5cblxuXG5cbiAgICBmdW5jdGlvbiB1cGRhdGVCYXNlZE9uVHlwZWFoZWFkQ2hhbmdlKGN1cnJlbnRUeXBlYWhlYWQ6IHN0cmluZyB8IG51bGwsIHJlYXNvbjogRXZlbnQpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRUeXBlYWhlYWQgJiYgc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50Lmxlbmd0aCkge1xuXG5cblxuICAgICAgICAgICAgY29uc3Qgc29ydGVkVHlwZWFoZWFkSW5kZXggPSBiaW5hcnlTZWFyY2goc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50LCBjdXJyZW50VHlwZWFoZWFkLCB0eXBlYWhlYWRDb21wYXJhdG9yKTtcblxuICAgICAgICAgICAgaWYgKHNvcnRlZFR5cGVhaGVhZEluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGhhcyB0eXBlZCBhbiBlbnRyeSB0aGF0IGRvZXNuJ3QgZXhpc3QgaW4gdGhlIGxpc3RcbiAgICAgICAgICAgICAgICAvLyAob3IgbW9yZSBzcGVjaWZpY2FsbHkgXCJmb3Igd2hpY2ggdGhlcmUgaXMgbm8gZW50cnkgdGhhdCBzdGFydHMgd2l0aCB0aGF0IGlucHV0XCIpXG4gICAgICAgICAgICAgICAgc2V0VHlwZWFoZWFkU3RhdHVzKFwiaW52YWxpZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFR5cGVhaGVhZFN0YXR1cyhcInZhbGlkXCIpO1xuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgIFdlIGtub3cgcm91Z2hseSB3aGVyZSwgaW4gdGhlIHNvcnRlZCBhcnJheSBvZiBzdHJpbmdzLCBvdXIgbmV4dCB0eXBlYWhlYWQgbG9jYXRpb24gaXMuXG4gICAgICAgICAgICAgICAgICBCdXQgcm91Z2hseSBpc24ndCBnb29kIGVub3VnaCBpZiB0aGVyZSBhcmUgbXVsdGlwbGUgbWF0Y2hlcy5cbiAgICAgICAgICAgICAgICAgIFRvIGNvbnZlcnQgb3VyIHNvcnRlZCBpbmRleCB0byB0aGUgdW5zb3J0ZWQgaW5kZXggd2UgbmVlZCwgd2UgaGF2ZSB0byBmaW5kIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgZWxlbWVudCB0aGF0IG1hdGNoZXMgdXMgKmFuZCogKGlmIGFueSBzdWNoIGV4aXN0KSBpcyAqYWZ0ZXIqIG91ciBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICBcbiAgICAgICAgICAgICAgICAgIEluIG90aGVyIHdvcmRzLCB0aGUgb25seSB3YXkgdHlwZWFoZWFkIG1vdmVzIGJhY2t3YXJkcyByZWxhdGl2ZSB0byBvdXIgY3VycmVudFxuICAgICAgICAgICAgICAgICAgcG9zaXRpb24gaXMgaWYgdGhlIG9ubHkgb3RoZXIgb3B0aW9uIGlzIGJlaGluZCB1cy5cbiAgICBcbiAgICAgICAgICAgICAgICAgIEl0J3Mgbm90IHNwZWNpZmllZCBpbiBXQUktQVJJQSB3aGF0IHRvIGRvIGluIHRoYXQgY2FzZS4gIEkgc3VwcG9zZSB3cmFwIGJhY2sgdG8gdGhlIHN0YXJ0P1xuICAgICAgICAgICAgICAgICAgVGhvdWdoIHRoZXJlJ3MgYWxzbyBhIGNhc2UgZm9yIGp1c3QgZ29pbmcgdXB3YXJkcyB0byB0aGUgbmVhcmVzdCB0byBwcmV2ZW50IGp1bXBpbmVzcy5cbiAgICAgICAgICAgICAgICAgIEJ1dCBpZiB5b3UncmUgYWxyZWFkeSBkb2luZyB0eXBlYWhlYWQgb24gYW4gdW5zb3J0ZWQgbGlzdCwgbGlrZSwganVtcGluZXNzIGNhbid0IGJlIGF2b2lkZWQuXG4gICAgICAgICAgICAgICAgICBJIGR1bm5vLiBHb2luZyBiYWNrIHRvIHRoZSBzdGFydCBpcyB0aGUgc2ltcGxpc3QgdGhvdWdoLlxuICAgIFxuICAgICAgICAgICAgICAgICAgQmFzaWNhbGx5IHdoYXQgdGhpcyBkb2VzOiBTdGFydGluZyBmcm9tIHdoZXJlIHdlIGZvdW5kIG91cnNlbHZlcyBhZnRlciBvdXIgYmluYXJ5IHNlYXJjaCxcbiAgICAgICAgICAgICAgICAgIHNjYW4gYmFja3dhcmRzIGFuZCBmb3J3YXJkcyB0aHJvdWdoIGFsbCBhZGphY2VudCBlbnRyaWVzIHRoYXQgYWxzbyBjb21wYXJlIGVxdWFsbHkgc28gdGhhdFxuICAgICAgICAgICAgICAgICAgd2UgY2FuIGZpbmQgdGhlIG9uZSB3aG9zZSBgdW5zb3J0ZWRJbmRleGAgaXMgdGhlIGxvd2VzdCBhbW9uZ3N0IGFsbCBvdGhlciBlcXVhbCBzdHJpbmdzXG4gICAgICAgICAgICAgICAgICAoYW5kIGFsc28gdGhlIGxvd2VzdCBgdW5zb3J0ZWRJbmRleGAgeWFkZGEgeWFkZGEgZXhjZXB0IHRoYXQgaXQgY29tZXMgYWZ0ZXIgdXMpLlxuICAgIFxuICAgICAgICAgICAgICAgICAgVE9ETzogVGhlIGJpbmFyeSBzZWFyY2ggc3RhcnRzIHRoaXMgb2ZmIHdpdGggYSBzb2xpZCBPKGxvZyBuKSwgYnV0IG9uZS1jaGFyYWN0ZXIgXG4gICAgICAgICAgICAgICAgICBzZWFyY2hlcyBhcmUsIHRoYW5rcyB0byBwaWdlb25ob2xlIHByaW5jaXBhbCwgZXZlbnR1YWxseSBndWFyYW50ZWVkIHRvIGJlY29tZSBcbiAgICAgICAgICAgICAgICAgIE8obipsb2cgbikuIFRoaXMgaXMgYW5ub3lpbmcgYnV0IHByb2JhYmx5IG5vdCBlYXNpbHkgc29sdmFibGU/IFRoZXJlIGNvdWxkIGJlIGFuIFxuICAgICAgICAgICAgICAgICAgZXhjZXB0aW9uIGZvciBvbmUtY2hhcmFjdGVyIHN0cmluZ3MsIGJ1dCB0aGF0J3MganVzdCBraWNraW5nIHRoZSBjYW4gZG93biBcbiAgICAgICAgICAgICAgICAgIHRoZSByb2FkLiBNYXliZSBvbmUgb3IgdHdvIGNoYXJhY3RlcnMgd291bGQgYmUgZ29vZCBlbm91Z2ggdGhvdWdoLlxuICAgICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgICAgIC8vIFRoZXNlIGFyZSB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGNhbmRpZGF0ZXMnIHBvc2l0aW9ucyBpbiBib3RoIG91ciBzb3J0ZWQgYXJyYXkgYW5kIHRoZSB1bnNvcnRlZCBET00uXG4gICAgICAgICAgICAgICAgbGV0IGxvd2VzdFVuc29ydGVkSW5kZXhBbGw6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgICAgICAgICAgICAgIGxldCBsb3dlc3RTb3J0ZWRJbmRleEFsbCA9IHNvcnRlZFR5cGVhaGVhZEluZGV4O1xuXG4gICAgICAgICAgICAgICAgLy8gVGhlc2UgdHdvIGFyZSBvbmx5IHNldCBmb3IgZWxlbWVudHMgdGhhdCBhcmUgYWhlYWQgb2YgdXMsIGJ1dCB0aGUgcHJpbmNpcGxlJ3MgdGhlIHNhbWUgb3RoZXJ3aXNlXG4gICAgICAgICAgICAgICAgbGV0IGxvd2VzdFVuc29ydGVkSW5kZXhOZXh0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgICAgICBsZXQgbG93ZXN0U29ydGVkSW5kZXhOZXh0ID0gc29ydGVkVHlwZWFoZWFkSW5kZXg7XG5cbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVCZXN0Rml0ID0gKHU6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQodSkpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvd2VzdFVuc29ydGVkSW5kZXhBbGwgPT0gbnVsbCB8fCB1IDwgbG93ZXN0VW5zb3J0ZWRJbmRleEFsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG93ZXN0VW5zb3J0ZWRJbmRleEFsbCA9IHU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb3dlc3RTb3J0ZWRJbmRleEFsbCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKChsb3dlc3RVbnNvcnRlZEluZGV4TmV4dCA9PSBudWxsIHx8IHUgPCBsb3dlc3RVbnNvcnRlZEluZGV4TmV4dCkgJiYgdSA+IChnZXRJbmRleCgpID8/IC1JbmZpbml0eSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFVuc29ydGVkSW5kZXhOZXh0ID0gdTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvd2VzdFNvcnRlZEluZGV4TmV4dCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgaSA9IHNvcnRlZFR5cGVhaGVhZEluZGV4O1xuICAgICAgICAgICAgICAgIHdoaWxlIChpID49IDAgJiYgdHlwZWFoZWFkQ29tcGFyYXRvcihjdXJyZW50VHlwZWFoZWFkLCBzb3J0ZWRUeXBlYWhlYWRJbmZvLmN1cnJlbnRbaV0pID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlQmVzdEZpdChzb3J0ZWRUeXBlYWhlYWRJbmZvLmN1cnJlbnRbaV0udW5zb3J0ZWRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpID0gc29ydGVkVHlwZWFoZWFkSW5kZXg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBzb3J0ZWRUeXBlYWhlYWRJbmZvLmN1cnJlbnQubGVuZ3RoICYmIHR5cGVhaGVhZENvbXBhcmF0b3IoY3VycmVudFR5cGVhaGVhZCwgc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50W2ldKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUJlc3RGaXQoc29ydGVkVHlwZWFoZWFkSW5mby5jdXJyZW50W2ldLnVuc29ydGVkSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGxvd2VzdFVuc29ydGVkSW5kZXhOZXh0ICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBzZXRJbmRleChzb3J0ZWRUeXBlYWhlYWRJbmZvLmN1cnJlbnRbbG93ZXN0U29ydGVkSW5kZXhOZXh0XS51bnNvcnRlZEluZGV4LCByZWFzb24sIHRydWUpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxvd2VzdFVuc29ydGVkSW5kZXhBbGwgIT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHNldEluZGV4KHNvcnRlZFR5cGVhaGVhZEluZm8uY3VycmVudFtsb3dlc3RTb3J0ZWRJbmRleEFsbF0udW5zb3J0ZWRJbmRleCwgcmVhc29uLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4LCAuLi52b2lkMSB9LFxuICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogeyBnZXRUZXh0LCBoaWRkZW4sIC4uLnZvaWQ1IH0sXG4gICAgdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dDogeyB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IHNvcnRlZFR5cGVhaGVhZEluZm8sIGluc2VydGluZ0NvbXBhcmF0b3IsIGV4Y2x1ZGVTcGFjZSwgLi4udm9pZDIgfSB9LFxuICAgIHJlZkVsZW1lbnRSZXR1cm46IHsgZ2V0RWxlbWVudCwgLi4udm9pZDMgfSxcbiAgICAvL3R5cGVhaGVhZE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM6IHsgLi4udm9pZDUgfSxcbiAgICAuLi52b2lkNFxufTogVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+KTogVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZSB7XG5cbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkMSk7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3Qodm9pZDIpO1xuICAgIGFzc2VydEVtcHR5T2JqZWN0KHZvaWQzKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkNCk7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3Qodm9pZDUpO1xuXG4gICAgY29uc3QgeyB0ZXh0Q29udGVudFJldHVybiB9ID0gdXNlVGV4dENvbnRlbnQoe1xuICAgICAgICByZWZFbGVtZW50UmV0dXJuOiB7IGdldEVsZW1lbnQgfSxcbiAgICAgICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBnZXRUZXh0LFxuICAgICAgICAgICAgaGlkZGVuLFxuICAgICAgICAgICAgb25UZXh0Q29udGVudENoYW5nZTogdXNlQ2FsbGJhY2s8T25QYXNzaXZlU3RhdGVDaGFuZ2U8c3RyaW5nIHwgbnVsbCwgbmV2ZXI+PigodGV4dDogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgd2hlcmUgdG8gaW5zZXJ0IHRoaXMgaXRlbS5cbiAgICAgICAgICAgICAgICAgICAgLy8gQmVjYXVzZSBhbGwgaW5kZXggdmFsdWVzIHNob3VsZCBiZSB1bmlxdWUsIHRoZSByZXR1cm5lZCBzb3J0ZWRJbmRleFxuICAgICAgICAgICAgICAgICAgICAvLyBzaG91bGQgYWx3YXlzIHJlZmVyIHRvIGEgbmV3IGxvY2F0aW9uIChpLmUuIGJlIG5lZ2F0aXZlKSAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkSW5kZXggPSBiaW5hcnlTZWFyY2goc29ydGVkVHlwZWFoZWFkSW5mbywgdGV4dCwgaW5zZXJ0aW5nQ29tcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KHNvcnRlZEluZGV4IDwgMCB8fCBpbnNlcnRpbmdDb21wYXJhdG9yKHNvcnRlZFR5cGVhaGVhZEluZm9bc29ydGVkSW5kZXhdLnRleHQsIHsgdW5zb3J0ZWRJbmRleDogaW5kZXgsIHRleHQgfSkgPT0gMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3J0ZWRJbmRleCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRlZFR5cGVhaGVhZEluZm8uc3BsaWNlKC1zb3J0ZWRJbmRleCAtIDEsIDAsIHsgdGV4dCwgdW5zb3J0ZWRJbmRleDogaW5kZXggfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZWRUeXBlYWhlYWRJbmZvLnNwbGljZShzb3J0ZWRJbmRleCwgMCwgeyB0ZXh0LCB1bnNvcnRlZEluZGV4OiBpbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHVubW91bnRpbmcsIGZpbmQgd2hlcmUgd2Ugd2VyZSBhbmQgcmVtb3ZlIG91cnNlbHZlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFnYWluLCB3ZSBzaG91bGQgYWx3YXlzIGZpbmQgb3Vyc2VsdmVzIGJlY2F1c2UgdGhlcmUgc2hvdWxkIGJlIG5vIGR1cGxpY2F0ZSB2YWx1ZXMgaWYgZWFjaCBpbmRleCBpcyB1bmlxdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0ZWRJbmRleCA9IGJpbmFyeVNlYXJjaChzb3J0ZWRUeXBlYWhlYWRJbmZvLCB0ZXh0LCBpbnNlcnRpbmdDb21wYXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KHNvcnRlZEluZGV4IDwgMCB8fCBpbnNlcnRpbmdDb21wYXJhdG9yKHNvcnRlZFR5cGVhaGVhZEluZm9bc29ydGVkSW5kZXhdLnRleHQsIHsgdW5zb3J0ZWRJbmRleDogaW5kZXgsIHRleHQgfSkgPT0gMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3J0ZWRJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ydGVkVHlwZWFoZWFkSW5mby5zcGxpY2Uoc29ydGVkSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LCBbXSlcbiAgICAgICAgfVxuICAgIH0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0ZXh0Q29udGVudFJldHVybixcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7IGV4Y2x1ZGVTcGFjZSB9XG4gICAgfTtcblxufVxuXG4vKipcbiAqIFlvdXIgdXN1YWwgYmluYXJ5IHNlYXJjaCBpbXBsZW1lbnRhdGlvbi5cbiAqIFxuICogSXQncyB1c2VkIGhlcmUgdG8gcXVpY2tseSBmaW5kIGEgZ29vZCBzcG90IHRvIHN0YXJ0IHNlYXJjaGluZyBmb3Igb3VyIG5leHQgdHlwZWFoZWFkIGNhbmRpZGF0ZS5cbiAqIEBwYXJhbSBhcnJheSBUaGUgYXJyYXkgdG8gc2VhcmNoIHRocm91Z2hcbiAqIEBwYXJhbSB3YW50ZWQgVGhlIHZhbHVlIHlvdSdkIGxpa2UgdG8gZmluZFxuICogQHBhcmFtIGNvbXBhcmF0b3IgQ29tcGFyZXMgYHdhbnRlZGAgd2l0aCB0aGUgY3VycmVudCB2YWx1ZSBpbiBgYXJyYXlgXG4gKiBAcmV0dXJucyBBIG5vbi1uZWdhdGl2ZSB2YWx1ZSBpZiBgd2FudGVkYCB3YXMgZm91bmQsIGFuZCBhIG5lZ2F0aXZlIG51bWJlciBpZiBub3QuIFxuICogVGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgbnVtYmVyLCBtaW51cyBvbmUsIGlzIHdoZXJlIGB3YW50ZWRgICp3b3VsZCogYmUgZm91bmQgaWYgaXQgKndhcyogaW4gYGFycmF5YFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5U2VhcmNoPFQsIFUsIEYgZXh0ZW5kcyAobGhzOiBVLCByaHM6IFQpID0+IG51bWJlcj4oYXJyYXk6IFRbXSwgd2FudGVkOiBVLCBjb21wYXJhdG9yOiBGKTogbnVtYmVyIHtcbiAgICBsZXQgZmlyc3RJbmRleCA9IDA7XG4gICAgbGV0IGxhc3RJbmRleCA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKGZpcnN0SW5kZXggPD0gbGFzdEluZGV4KSB7XG4gICAgICAgIGNvbnN0IHRlc3RJbmRleCA9IChsYXN0SW5kZXggKyBmaXJzdEluZGV4KSA+PiAxO1xuICAgICAgICBjb25zdCBjb21wYXJpc29uUmVzdWx0ID0gY29tcGFyYXRvcih3YW50ZWQsIGFycmF5W3Rlc3RJbmRleF0pO1xuXG4gICAgICAgIGlmIChjb21wYXJpc29uUmVzdWx0ID4gMCkge1xuICAgICAgICAgICAgZmlyc3RJbmRleCA9IHRlc3RJbmRleCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29tcGFyaXNvblJlc3VsdCA8IDApIHtcbiAgICAgICAgICAgIGxhc3RJbmRleCA9IHRlc3RJbmRleCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGVzdEluZGV4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIC1maXJzdEluZGV4IC0gMTtcbn1cbiIsImltcG9ydCB7IGFzc2VydEVtcHR5T2JqZWN0IH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1tYW5hZ2VkLWNoaWxkcmVuXCI7XG5pbXBvcnQgeyB1c2VMaW5lYXJOYXZpZ2F0aW9uLCBVc2VMaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycywgVXNlTGluZWFyTmF2aWdhdGlvblJldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtbGluZWFyLW5hdmlnYXRpb25cIjtcbmltcG9ydCB7IHVzZVJvdmluZ1RhYkluZGV4LCB1c2VSb3ZpbmdUYWJJbmRleENoaWxkLCBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbywgVXNlUm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm5UeXBlLCBVc2VSb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMsIFVzZVJvdmluZ1RhYkluZGV4UmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1yb3ZpbmctdGFiaW5kZXhcIjtcbmltcG9ydCB7IHVzZVR5cGVhaGVhZE5hdmlnYXRpb24sIHVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZCwgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycywgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZSwgVXNlVHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMsIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLXR5cGVhaGVhZC1uYXZpZ2F0aW9uXCI7XG5cbnR5cGUgT21pdFN0cm9uZzxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+XG5cbi8qKlxuICogXG4gKiBUT0RPOiBUaGlzIHRhYmxlIHdhcyBzY3JhcHBlZCB3aGVuIHRoaXMgd2FzIGNoYW5nZWQgdG8ganVzdCBhY2NlcHQgYSBjb2xsYXRvciBkaXJlY3RseSxcbiAqIGJ1dCBpdCdzIG5vdCBiYWQgZm9yIGEgY29sbGF0aW9uIGNyYXNoIGNvdXJzZSBhbmQgSSBtaWdodCB1c2UgaXQgYWdhaW4uXG4gKiBFdmVuIGp1c3QgYXMgYSBcInRoaXMgaXMgd2h5IGl0J3MgaW1wb3J0YW50IGFuZCBnb29kIHRvIHVzZSB0aGVzZSB0aGluZ3NcIiB0aGluZy5cbiAqIFxuICogfExhbmcufFRhcmdldHxVc2VyIGlucHV0fGBiYXNlYHxgYWNjZW50YHxgY2FzZWB8YHZhcmlhbnRgfFxuICogfC0tLS18LS0tLXwtLS0tfC0tLS18LS0tLXwtLS0tfC0tLS18XG4gKiB8RU58SGl8QnllfOKdjHzinYx84p2MfOKdjHxcbiAqIHxFTnxIaXxIaXzinIV84pyFfOKchXzinIV8XG4gKiB8RU58SGl877yo772JfOKchXzinIV84pyFfOKdjHxcbiAqIHxFTnxIaXxoaXzinIV84pyFfOKdjHzinYx8XG4gKiB8RU58SGl8SMOvfOKchXzinYx84p2MfOKdjHxcbiAqIHxFTnzDpXxhYXzinYx84p2MfOKdjHzinYx8XG4gKiB8REF8w6V8YWF84pyFfOKchXzinIV84p2MfFxuICogfERBfMOlfEFBfOKchXzinIV84p2MfOKdjHxcbiAqIHxEQXzDpXxBYXzinIV84pyFfOKdjHzinYx8XG4gKiB8REF8w6V8YUF84p2MfOKdjHzinYx84p2MfFxuICogfEVOfMOlfGF84pyFfOKchXzinYx84p2MfFxuICogfERBfMOlfGF84pyFfOKchXzinYx84p2MfFxuICogfEpQfO+qqnznnYB84pyFfOKchXzinIV84pyFfFxuICogfEpQfOOCq3zvvbZ84pyFfOKchXzinIV84pyFfFxuICogfEpQfOOCq3zjgYt84pyFfOKchXzinIV84p2MfFxuICogfEpQfOOCq3zjg7V84pyFfOKchXzinIV84p2MfFxuICogfEpQfOOCq3zji5V84pyFfOKchXzinYx84p2MfFxuICogfEpQfOOCq3zjgqx84pyFfOKdjHzinYx84p2MfFxuICogfEpQfOOCq3zlipt84p2MfOKdjHzinYx84p2MfFxuICogfFpIfOe0hXznuqJ84p2MfOKdjHzinYx84p2MfFxuICogXG4gKiBcbiAqIChOb3RlIHRvIHNlbGY6IEF0IHNvbWUgcG9pbnQsIHRoaXMgZmlsZSB3aWxsIHByb2JhYmx5IGJlIG5vcm1hbGl6ZWRcbiAqIGJ5IHNvbWVib2R5IGFuZCDvqqogd2lsbCB0dXJuIGJhY2sgaW50byDnnYAuKVxuICogXG4gKiBVbnJlbGF0ZWQsIGJ1dCBoZXksIHRoaXMgaXMgZnVuOiB0cnkgaGlnaGxpZ2h0aW5nIHRoZSBzcGFjZSBiZXR3ZWVuIHRoZSB0d28gY2hhcmFjdGVycyBpbiBWUyBDb2RlLFxuICogb3IganVzdCB0eXBpbmcgYSBjaGFyYWN0ZXIgaW4gYmV0d2VlbiB0aGVtLiBXaGF0J3MgdXAgd2l0aCB0aGlzP1xuICog76qqIOedgFxuICovXG5jb25zdCBfZHVtbXk6IGFueSA9IG51bGw7XG5cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88VGFiYmFibGVDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50PiB7XG4gICAgX2U/OiBUYWJiYWJsZUNoaWxkRWxlbWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0gZnJvbVVzZXJJbnRlcmFjdGlvbiBXaGV0aGVyIHRoZSB1c2VyIGludGVyYWN0ZWQgd2l0aCB0aGlzIGNoaWxkIGFzIGEgbWVhbnMgb2YgbmF2aWdhdGluZyB0byBpdC4gIEluIHRoYXQgd2FzIHRoZSBjYXNlLCB0aGUgY2hpbGQgaXMgYWxzbyBmb2N1c2VkLiBPdGhlcndpc2UsIGZvY3VzIG1vdmVzIGFzIHRoZSBicm93c2VyIGRldGVybWluZXMuXG4gKi9cbmV4cG9ydCB0eXBlIE5hdmlnYXRlVG9JbmRleCA9IChpOiBudW1iZXIgfCBudWxsLCBmcm9tVXNlckludGVyYWN0aW9uOiBib29sZWFuKSA9PiB2b2lkO1xuXG5cblxuXG5cbi8vICoqKiBQYXJhbWV0ZXJzIChsaXN0LCBsaXN0LXNpbmdsZSwgbGlzdC1jaGlsZCwgbGlzdC1zaW5nbGUtY2hpbGQpXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVyczxQYXJlbnRPckNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+PiBleHRlbmRzXG4gICAgVXNlUm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzPENoaWxkRWxlbWVudCwgTT4sXG4gICAgT21pdFN0cm9uZzxVc2VUeXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+LCBcInJvdmluZ1RhYkluZGV4UmV0dXJuXCI+LFxuICAgIE9taXRTdHJvbmc8VXNlTGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM8UGFyZW50T3JDaGlsZEVsZW1lbnQsIENoaWxkRWxlbWVudD4sIFwicm92aW5nVGFiSW5kZXhSZXR1cm5cIj4ge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlUm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PiwgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+IHtcbiAgICAvL21hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudD5bXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCJdICYgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+W1wibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiXTtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPckNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlUm92aW5nVGFiSW5kZXhSZXR1cm5UeXBlPENoaWxkRWxlbWVudD4sIFVzZUxpbmVhck5hdmlnYXRpb25SZXR1cm5UeXBlPFBhcmVudE9yQ2hpbGRFbGVtZW50PiwgVXNlVHlwZWFoZWFkTmF2aWdhdGlvblJldHVyblR5cGU8UGFyZW50T3JDaGlsZEVsZW1lbnQ+IHsgfVxuZXhwb3J0IGludGVyZmFjZSBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD4sIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGUgeyB9XG5leHBvcnQgdHlwZSBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gKGE6IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudD4pID0+IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD47XG5cblxuXG4vKipcbiAqIEltcGxlbWVudHMgcHJvcGVyIGtleWJvYXJkIG5hdmlnYXRpb24gZm9yIGNvbXBvbmVudHMgbGlrZSBsaXN0Ym94ZXMsIGJ1dHRvbiBncm91cHMsIG1lbnVzLCBldGMuXG4gKiBcbiAqIEluIHRoZSBkb2N1bWVudCBvcmRlciwgdGhlcmUgd2lsbCBiZSBvbmx5IG9uZSBcImZvY3VzZWRcIiBvciBcInRhYmJhYmxlXCIgZWxlbWVudCwgbWFraW5nIGl0IGFjdCBtb3JlIGxpa2Ugb25lIGNvbXBsZXRlIHVuaXQgaW4gY29tcGFyaXNvbiB0byBldmVyeXRoaW5nIGFyb3VuZCBpdC5cbiAqIE5hdmlnYXRpbmcgZm9yd2FyZHMvYmFja3dhcmRzIGNhbiBiZSBkb25lIHdpdGggdGhlIGFycm93IGtleXMsIEhvbWUvRW5kIGtleXMsIG9yIGFueSB0ZXh0IGZvciB0eXBlYWhlYWQgdG8gZm9jdXMgdGhlIG5leHQgaXRlbSB0aGF0IG1hdGNoZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VMaXN0TmF2aWdhdGlvbjxQYXJlbnRPckNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+Pih7XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgdHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAuLi5fdm9pZDFcbn06IFVzZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVyczxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPik6IFVzZUxpc3ROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50PiB7XG5cbiAgICBjb25zdCBydGlyID0gdXNlUm92aW5nVGFiSW5kZXg8Q2hpbGRFbGVtZW50LCBNPih7IG1hbmFnZWRDaGlsZHJlblJldHVybiwgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzIH0pO1xuICAgIGNvbnN0IHsgcm92aW5nVGFiSW5kZXhSZXR1cm4gfSA9IHJ0aXI7XG4gICAgY29uc3QgdG5yID0gdXNlVHlwZWFoZWFkTmF2aWdhdGlvbjxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50Pih7IHJvdmluZ1RhYkluZGV4UmV0dXJuLCB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycywgfSk7XG4gICAgY29uc3QgbG5yID0gdXNlTGluZWFyTmF2aWdhdGlvbjxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50Pih7IHJvdmluZ1RhYkluZGV4UmV0dXJuLCBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycywgfSk7XG5cbiAgICBhc3NlcnRFbXB0eU9iamVjdChfdm9pZDEpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ubG5yLFxuICAgICAgICAuLi50bnIsXG4gICAgICAgIC4uLnJ0aXJcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VMaXN0TmF2aWdhdGlvbkNoaWxkPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dCxcbiAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgIC8vdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIHJlZkVsZW1lbnRSZXR1cm4sXG4gICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzLFxuICAgIC4uLl92b2lkMlxufTogVXNlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50Pik6IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD4ge1xuXG4gICAgY29uc3QgcnRpY3IgPSB1c2VSb3ZpbmdUYWJJbmRleENoaWxkPENoaWxkRWxlbWVudD4oeyByb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dCwgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMgfSk7XG4gICAgY29uc3QgdG5jciA9IHVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZDxDaGlsZEVsZW1lbnQ+KHsgcmVmRWxlbWVudFJldHVybiwgdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dCwgbWFuYWdlZENoaWxkUGFyYW1ldGVycywgdGV4dENvbnRlbnRQYXJhbWV0ZXJzIH0pO1xuXG4gICAgYXNzZXJ0RW1wdHlPYmplY3QoX3ZvaWQyKTtcbi8vICAgIGFzc2VydEVtcHR5T2JqZWN0KF92b2lkNSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi50bmNyLFxuICAgICAgICAuLi5ydGljclxuICAgIH1cbn0iLCJpbXBvcnQgeyBhc3NlcnRFbXB0eU9iamVjdCwgVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgT25QYXNzaXZlU3RhdGVDaGFuZ2UsIFBhc3NpdmVTdGF0ZVVwZGF0ZXIsIHVzZVBhc3NpdmVTdGF0ZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtcGFzc2l2ZS1zdGF0ZVwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuaW1wb3J0IHsgdXNlU3RhYmxlT2JqZWN0IH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtZ2V0dGVyXCI7XG5pbXBvcnQgeyB1c2VMaXN0TmF2aWdhdGlvbiwgdXNlTGlzdE5hdmlnYXRpb25DaGlsZCwgVXNlTGlzdE5hdmlnYXRpb25DaGlsZEluZm8sIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzLCBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZSwgVXNlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzLCBVc2VMaXN0TmF2aWdhdGlvblJldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtbGlzdC1uYXZpZ2F0aW9uLXBhcnRpYWxcIjtcbmltcG9ydCB7IFNldFRhYmJhYmxlSW5kZXggfSBmcm9tIFwiLi91c2Utcm92aW5nLXRhYmluZGV4XCI7XG5cbnR5cGUgT21pdFN0cm9uZzxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+XG5cbi8qXG5leHBvcnQgZnVuY3Rpb24gdXNlR3JpZE5hdmlnYXRpb25Qcm9wczxQYXJlbnRPclJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ocjogVXNlR3JpZE5hdmlnYXRpb25SZXR1cm5UeXBlPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudD4sIC4uLm90aGVyUHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFBhcmVudE9yUm93RWxlbWVudD5bXSkge1xuICAgIHJldHVybiB1c2VMaXN0TmF2aWdhdGlvblByb3BzPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudD4ociwgLi4ub3RoZXJQcm9wcylcbn1cbmV4cG9ydCBmdW5jdGlvbiB1c2VHcmlkTmF2aWdhdGlvblJvd1Byb3BzPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHI6IFVzZUdyaWROYXZpZ2F0aW9uUm93UmV0dXJuVHlwZTxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIC4uLm90aGVyUHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFJvd0VsZW1lbnQ+W10pIHtcbiAgICByZXR1cm4gdXNlTGlzdE5hdmlnYXRpb25Qcm9wczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4oci5hc1BhcmVudFJvd09mQ2VsbHMsIC4uLnVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQcm9wczxSb3dFbGVtZW50PihyLmFzQ2hpbGRSb3dPZlRhYmxlLCAuLi5vdGhlclByb3BzKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdXNlR3JpZE5hdmlnYXRpb25DZWxsUHJvcHM8Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PihyOiBVc2VHcmlkTmF2aWdhdGlvbkNlbGxSZXR1cm5UeXBlPENlbGxFbGVtZW50PiwgLi4ub3RoZXJQcm9wczogaC5KU1guSFRNTEF0dHJpYnV0ZXM8Q2VsbEVsZW1lbnQ+W10pIHtcbiAgICByZXR1cm4gdXNlTGlzdE5hdmlnYXRpb25DaGlsZFByb3BzPENlbGxFbGVtZW50PihyLCAuLi5vdGhlclByb3BzKTtcbn0qL1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZENoaWxkUm93SW5mbzxSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgX0NlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxSb3dFbGVtZW50PiB7IHNldFRhYmJhYmxlQ29sdW1uSW5kZXg6IFNldFRhYmJhYmxlSW5kZXggfVxuZXhwb3J0IGludGVyZmFjZSBHcmlkQ2hpbGRDZWxsSW5mbzxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88Q2VsbEVsZW1lbnQ+IHtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VHcmlkTmF2aWdhdGlvblBhcmFtZXRlcnM8UGFyZW50T3JDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgR3JpZENoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnM8UGFyZW50T3JDaGlsZEVsZW1lbnQsIFJvd0VsZW1lbnQsIE0+LCBcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+IHtcbiAgICBncmlkTmF2aWdhdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgb25UYWJiYWJsZUNvbHVtbkNoYW5nZTogT25QYXNzaXZlU3RhdGVDaGFuZ2U8bnVtYmVyIHwgbnVsbCwgRXZlbnQ+IHwgbnVsbDtcbiAgICB9O1xuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVyczxQYXJlbnRPckNoaWxkRWxlbWVudCwgUm93RWxlbWVudCwgTT5bXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiXSwgXCJuYXZpZ2F0aW9uRGlyZWN0aW9uXCI+XG59XG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPclJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCAgUk0gZXh0ZW5kcyBHcmlkQ2hpbGRSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkQ2hpbGRDZWxsSW5mbzxDZWxsRWxlbWVudD4+IGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudD4ge1xuICAgIGdyaWROYXZpZ2F0aW9uUm93Q29udGV4dDogVXNlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+W1wicm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnNcIl1bXCJncmlkTmF2aWdhdGlvblJvd0NvbnRleHRcIl1cbn1cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIF9STSBleHRlbmRzIEdyaWRDaGlsZFJvd0luZm88Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIEdyaWRDaGlsZENlbGxJbmZvPENlbGxFbGVtZW50Pj4ge1xuICAgIHJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzOiBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczxSb3dFbGVtZW50PiAmIHtcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuOiBQaWNrPFVzZU1hbmFnZWRDaGlsZHJlblJldHVyblR5cGU8Q00+W1wibWFuYWdlZENoaWxkcmVuUmV0dXJuXCJdLCBcImdldENoaWxkcmVuXCI+O1xuICAgICAgICBncmlkTmF2aWdhdGlvblJvd0NvbnRleHQ6IHtcbiAgICAgICAgICAgIF9yPzogUm93RWxlbWVudDtcbiAgICAgICAgICAgIF9jPzogQ2VsbEVsZW1lbnQ7XG4gICAgICAgICBcbiAgICAgICAgICAgIGdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgIHNldFRhYmJhYmxlUm93OiBTZXRUYWJiYWJsZUluZGV4OyAvLyAodXBkYXRlcjogUGFyYW1ldGVyczxTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbD4+WzBdLCBmcm9tVXNlckludGVyYWN0aW9uOiBib29sZWFuKSA9PiB2b2lkO1xuICAgICAgICAgICAgICAgIGdldEN1cnJlbnRUYWJiYWJsZUNvbHVtbjogKCkgPT4gKG51bWJlciB8IG51bGwpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJlbnRUYWJiYWJsZUNvbHVtbjogUGFzc2l2ZVN0YXRlVXBkYXRlcjxudW1iZXIgfCBudWxsLCBFdmVudD47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBDTT4sIFwibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIiB8IFwicm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzXCI+ICYge1xuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBDTT5bXCJyb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnNcIl0sIFwidW50YWJiYWJsZVwiPlxuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnM8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIENNPltcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCJdLCBcIm5hdmlnYXRpb25EaXJlY3Rpb25cIj5cbiAgICB9XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VHcmlkTmF2aWdhdGlvblJvd1JldHVyblR5cGU8Um93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHJvd0FzQ2hpbGRPZkdyaWRSZXR1cm46IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPFJvd0VsZW1lbnQ+ICYge1xuICAgICAgICBncmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnM6IFBpY2s8R3JpZENoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIFwiZm9jdXNTZWxmXCIgfCBcInNldFRhYmJhYmxlQ29sdW1uSW5kZXhcIj47XG4gICAgfTtcbiAgICByb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm46IE9taXRTdHJvbmc8VXNlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgXCJyb3ZpbmdUYWJJbmRleFJldHVyblwiPiAmIHtcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm46IE9taXRTdHJvbmc8VXNlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PltcInJvdmluZ1RhYkluZGV4UmV0dXJuXCJdLCBcImZvY3VzU2VsZlwiPjtcbiAgICAgICAgZ3JpZE5hdmlnYXRpb25DZWxsQ29udGV4dDogVXNlR3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD5bXCJncmlkTmF2aWdhdGlvbkNlbGxDb250ZXh0XCJdO1xuICAgIH07XG59XG5cblxuXG5cblxuXG5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VHcmlkTmF2aWdhdGlvbkNlbGxQYXJhbWV0ZXJzPF9Sb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzPENlbGxFbGVtZW50PiB7XG4gICAgZ3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyczoge1xuICAgICAgICBjb2xTcGFuOiBudW1iZXI7XG4gICAgfVxuICAgIGdyaWROYXZpZ2F0aW9uQ2VsbENvbnRleHQ6IHtcbiAgICAgICAgX2M/OiBDZWxsRWxlbWVudDtcbiAgICAgICAgZ3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZ2V0Um93SW5kZXg6ICgpID0+IG51bWJlcjtcbiAgICAgICAgICAgIHNldFRhYmJhYmxlUm93OiAgU2V0VGFiYmFibGVJbmRleDsgLy8odTogUGFyYW1ldGVyczxTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbD4+WzBdLCBmcm9tVXNlckludGVyYWN0aW9uOiBib29sZWFuKSA9PiB2b2lkO1xuICAgICAgICAgICAgZ2V0Q3VycmVudFRhYmJhYmxlQ29sdW1uOiAoKSA9PiAobnVtYmVyIHwgbnVsbCk7XG4gICAgICAgICAgICBzZXRDdXJyZW50VGFiYmFibGVDb2x1bW46IFBhc3NpdmVTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbCwgRXZlbnQ+O1xuICAgICAgICAgICAgc2V0VGFiYmFibGVDZWxsOiBTZXRUYWJiYWJsZUluZGV4OyAvLyh1cGRhdGVyOiBQYXJhbWV0ZXJzPFN0YXRlVXBkYXRlcjxudW1iZXIgfCBudWxsPj5bMF0sIGZyb21Vc2VySW50ZXJhY3Rpb246IGJvb2xlYW4pID0+IHZvaWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uQ2VsbFJldHVyblR5cGU8Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPENlbGxFbGVtZW50PiB7IH1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdyaWROYXZpZ2F0aW9uPFBhcmVudE9yUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZENoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZENoaWxkQ2VsbEluZm88Q2VsbEVsZW1lbnQ+Pih7XG4gICAgZ3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7IG9uVGFiYmFibGVDb2x1bW5DaGFuZ2UsIC4uLnZvaWQzIH0sXG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiB7IG9uVGFiYmFibGVJbmRleENoYW5nZSwgLi4ucm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzIH0sXG4gICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIC4uLl92b2lkMlxufTogVXNlR3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNPik6IFVzZUdyaWROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+IHtcbiAgICBjb25zdCB7IGdldENoaWxkcmVuIH0gPSBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm47XG4gICAgY29uc3QgeyBpbml0aWFsbHlUYWJiZWRJbmRleCB9ID0gcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzXG5cbiAgICBjb25zdCBbZ2V0Q3VycmVudFRhYmJhYmxlQ29sdW1uLCBzZXRDdXJyZW50VGFiYmFibGVDb2x1bW5dID0gdXNlUGFzc2l2ZVN0YXRlPG51bWJlciB8IG51bGwsIEV2ZW50PihvblRhYmJhYmxlQ29sdW1uQ2hhbmdlLCB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7IHJldHVybiAoaW5pdGlhbGx5VGFiYmVkSW5kZXggPz8gMCkgfSkpO1xuXG4gICAgY29uc3Qgb25UYWJiYWJsZUluZGV4Q2hhbmdlT3ZlcnJpZGUgPSB1c2VTdGFibGVDYWxsYmFjaygobmV4dFJvdzogbnVtYmVyIHwgbnVsbCwgcHJldmlvdXNSb3c6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQsIHJlYXNvbjogRXZlbnQgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBnZXRDaGlsZHJlbigpO1xuICAgICAgICBvblRhYmJhYmxlSW5kZXhDaGFuZ2U/LihuZXh0Um93LCBwcmV2aW91c1JvdywgcmVhc29uKTtcbiAgICAgICAgY29uc3QgbmV4dENvbHVtbiA9IGdldEN1cnJlbnRUYWJiYWJsZUNvbHVtbigpO1xuICAgICAgICBpZiAocHJldmlvdXNSb3cgIT0gbnVsbClcbiAgICAgICAgICAgIGNoaWxkcmVuLmdldEF0KHByZXZpb3VzUm93KT8uc2V0VGFiYmFibGVDb2x1bW5JbmRleChuZXh0Q29sdW1uLCByZWFzb24sIGZhbHNlKTtcbiAgICAgICAgaWYgKG5leHRSb3cgIT0gbnVsbClcbiAgICAgICAgICAgIGNoaWxkcmVuLmdldEF0KG5leHRSb3cpPy5zZXRUYWJiYWJsZUNvbHVtbkluZGV4KG5leHRDb2x1bW4sIHJlYXNvbiwgZmFsc2UpO1xuXG4gICAgfSlcblxuICAgIGNvbnN0IHtcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgICAgICAuLi52b2lkMVxuICAgIH0gPSB1c2VMaXN0TmF2aWdhdGlvbjxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIFJNPih7XG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7IG5hdmlnYXRpb25EaXJlY3Rpb246IFwidmVydGljYWxcIiwgLi4ubGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMgfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiB7IG9uVGFiYmFibGVJbmRleENoYW5nZTogb25UYWJiYWJsZUluZGV4Q2hhbmdlT3ZlcnJpZGUsIC4uLnJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyB9LFxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzXG4gICAgfSk7XG5cbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkMSk7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3QoX3ZvaWQyKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkMyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dCxcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dCxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm4sXG4gICAgICAgIGdyaWROYXZpZ2F0aW9uUm93Q29udGV4dDogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgIGdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBzZXRUYWJiYWJsZVJvdzogcm92aW5nVGFiSW5kZXhSZXR1cm4uc2V0VGFiYmFibGVJbmRleCxcbiAgICAgICAgICAgICAgICBnZXRDdXJyZW50VGFiYmFibGVDb2x1bW4sXG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudFRhYmJhYmxlQ29sdW1uXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdyaWROYXZpZ2F0aW9uUm93PFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZENoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZENoaWxkQ2VsbEluZm88Q2VsbEVsZW1lbnQ+Pih7XG4gICAgcm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnM6IHsgZ3JpZE5hdmlnYXRpb25Sb3dDb250ZXh0OiB7IGdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczogeyBzZXRUYWJiYWJsZVJvdywgZ2V0Q3VycmVudFRhYmJhYmxlQ29sdW1uLCBzZXRDdXJyZW50VGFiYmFibGVDb2x1bW4gfSB9LCAuLi5hc0NoaWxkUm93T2ZUYWJsZSB9LFxuICAgIHJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnM6IHsgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVyczogeyAuLi5yb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMgfSwgLi4uYXNQYXJlbnRSb3dPZkNlbGxzUCB9LFxuICAgIC4uLl92b2lkMVxufTogVXNlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+KTogVXNlR3JpZE5hdmlnYXRpb25Sb3dSZXR1cm5UeXBlPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiB7XG4gICAgY29uc3QgeyBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IHsgZ2V0Q2hpbGRyZW4gfSB9ID0gYXNDaGlsZFJvd09mVGFibGU7XG4gICAgY29uc3QgZ2V0SW5kZXggPSB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7IHJldHVybiBhc0NoaWxkUm93T2ZUYWJsZS5tYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLmluZGV4IH0pXG4gICAgY29uc3QgZm9jdXNTZWxmID0gdXNlU3RhYmxlQ2FsbGJhY2soKGU6IFJvd0VsZW1lbnQpID0+IHtcbiAgICAgICAgbGV0IGluZGV4ID0gKGdldEN1cnJlbnRUYWJiYWJsZUNvbHVtbigpID8/IDApO1xuICAgICAgICBsZXQgY2hpbGQgPSBnZXRDaGlsZHJlbigpLmdldEF0KGluZGV4KTtcbiAgICAgICAgbGV0IGhpZ2hlc3RJbmRleCA9IGdldENoaWxkcmVuKCkuZ2V0SGlnaGVzdEluZGV4KCk7XG4gICAgICAgIHdoaWxlICgoIWNoaWxkIHx8IGNoaWxkLmhpZGRlbikgJiYgaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAtLWluZGV4O1xuICAgICAgICAgICAgY2hpbGQgPSBnZXRDaGlsZHJlbigpLmdldEF0KGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoKCFjaGlsZCB8fCBjaGlsZC5oaWRkZW4pICYmIGluZGV4IDw9IGhpZ2hlc3RJbmRleCkge1xuICAgICAgICAgICAgKytpbmRleDtcbiAgICAgICAgICAgIGNoaWxkID0gZ2V0Q2hpbGRyZW4oKS5nZXRBdChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gY2hpbGQuZ2V0RWxlbWVudCgpITtcbiAgICAgICAgICAgIGNoaWxkLmZvY3VzU2VsZihlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIChlIGFzIEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpPy5mb2N1cz8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBsbmNyID0gdXNlTGlzdE5hdmlnYXRpb25DaGlsZDxSb3dFbGVtZW50Pihhc0NoaWxkUm93T2ZUYWJsZSk7XG4gICAgY29uc3QgdW50YWJiYWJsZSA9ICFsbmNyLnJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4udGFiYmFibGU7XG4gICAgY29uc3QgbG5yID0gdXNlTGlzdE5hdmlnYXRpb248Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIENNPih7IC4uLmFzUGFyZW50Um93T2ZDZWxsc1AsIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVyczogeyB1bnRhYmJhYmxlLCAuLi5yb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMgfSwgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHsgbmF2aWdhdGlvbkRpcmVjdGlvbjogXCJob3Jpem9udGFsXCIsIC4uLmxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzIH0gfSk7XG5cblxuICAgIGFzc2VydEVtcHR5T2JqZWN0KF92b2lkMSk7XG5cbiAgICBjb25zdCB7IHJvdmluZ1RhYkluZGV4UmV0dXJuOiB7IHNldFRhYmJhYmxlSW5kZXggfSxyb3ZpbmdUYWJJbmRleFJldHVybiwgbGluZWFyTmF2aWdhdGlvblJldHVybiwgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVycywgcm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHQsIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQsIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm4gfSA9IGxucjtcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcm93QXNDaGlsZE9mR3JpZFJldHVybjogeyBncmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnM6IHsgZm9jdXNTZWxmLCBzZXRUYWJiYWJsZUNvbHVtbkluZGV4OiBzZXRUYWJiYWJsZUluZGV4IH0sIC4uLmxuY3IsIH0sXG4gICAgICAgIHJvd0FzUGFyZW50T2ZDZWxsc1JldHVybjoge1xuICAgICAgICAgICAgLi4ubG5yICxcbiAgICAgICAgICAgIGdyaWROYXZpZ2F0aW9uQ2VsbENvbnRleHQ6IHVzZVN0YWJsZU9iamVjdCAoe1xuICAgICAgICAgICAgICAgIGdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM6IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgICAgIHNldFRhYmJhYmxlUm93LFxuICAgICAgICAgICAgICAgICAgICBnZXRSb3dJbmRleDogZ2V0SW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGdldEN1cnJlbnRUYWJiYWJsZUNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFRhYmJhYmxlQ29sdW1uLFxuICAgICAgICAgICAgICAgICAgICBzZXRUYWJiYWJsZUNlbGw6IHNldFRhYmJhYmxlSW5kZXhcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICAgICAgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0LFxuICAgICAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgICAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybixcblxuICAgICAgICB9XG4gICAgfVxuXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdyaWROYXZpZ2F0aW9uQ2VsbDxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbi8vICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuLCBpbmRleCwgLi4udm9pZDMgfSxcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dCxcbiAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgIC8vdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIHJlZkVsZW1lbnRSZXR1cm4sXG4gICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzLFxuICAgIGdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM6IHtcbiAgICAgICAgY29sU3BhblxuICAgIH0sXG4gICAgZ3JpZE5hdmlnYXRpb25DZWxsQ29udGV4dDoge1xuICAgICAgICBncmlkTmF2aWdhdGlvbkNlbGxQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBnZXRSb3dJbmRleCxcbiAgICAgICAgICAgIHNldFRhYmJhYmxlUm93LFxuICAgICAgICAgICAgZ2V0Q3VycmVudFRhYmJhYmxlQ29sdW1uOiBfZ2V0Q3VycmVudENvbHVtbixcbiAgICAgICAgICAgIHNldEN1cnJlbnRUYWJiYWJsZUNvbHVtbixcbiAgICAgICAgICAgIHNldFRhYmJhYmxlQ2VsbFxuICAgICAgICB9XG4gICAgfSxcbiAgICAuLi5fdm9pZDFcbn06IFVzZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM8YW55LCBDZWxsRWxlbWVudD4pOiBVc2VHcmlkTmF2aWdhdGlvbkNlbGxSZXR1cm5UeXBlPENlbGxFbGVtZW50PiB7XG4gICAgY29uc3QgeyBpbmRleCB9ID0gbWFuYWdlZENoaWxkUGFyYW1ldGVycztcbiAgICBjb25zdCB7XG4gICAgICAgIGhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnM6IHsgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZDogb2NmaWMxIH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4sXG4gICAgICAgIHRleHRDb250ZW50UmV0dXJuLFxuICAgICAgICBwcmVzc1BhcmFtZXRlcnMsXG4gICAgICAgIC4uLnZvaWQyXG4gICAgfSA9IHVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGQ8Q2VsbEVsZW1lbnQ+KHtcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgICAgIC8vdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgcmVmRWxlbWVudFJldHVyblxuICAgIH0pO1xuXG4gICAgYXNzZXJ0RW1wdHlPYmplY3QoX3ZvaWQxKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkMik7XG4vLyAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkMyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUmV0dXJuLFxuICAgICAgICB0ZXh0Q29udGVudFJldHVybixcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzLFxuICAgICAgICBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvbkN1cnJlbnRGb2N1c2VkSW5uZXJDaGFuZ2VkOiB1c2VTdGFibGVDYWxsYmFjaygoZm9jdXNlZCwgcHJldiwgZSkgPT4ge1xuICAgICAgICAgICAgICAgIG9jZmljMT8uKGZvY3VzZWQsIHByZXYsIGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGFiYmFibGVSb3coZ2V0Um93SW5kZXgoKSwgZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50VGFiYmFibGVDb2x1bW4oaW5kZXgsIGUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRUYWJiYWJsZUNlbGwoKHByZXYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2ICE9IG51bGwgJiYgKHByZXYgPCBpbmRleCB8fCBwcmV2ID4gaW5kZXggKyBjb2xTcGFuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9LCBlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICB9XG59IiwiLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMi4zLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udGltZXMoMiwgXy5ub29wKTtcbiAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAqL1xuZnVuY3Rpb24gbm9vcCgpIHtcbiAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbn1cblxuZXhwb3J0IGRlZmF1bHQgbm9vcDtcbiIsIlxuaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBVc2VQcmVzc1BhcmFtZXRlcnMgfSBmcm9tIFwiLi4vY29tcG9uZW50LXVzZS91c2UtcHJlc3NcIjtcbmltcG9ydCB7IFVzZUNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRSZXR1cm5UeXBlLCBVc2VDaGlsZHJlbkhhdmVGb2N1c1BhcmFtZXRlcnMgfSBmcm9tIFwiLi4vb2JzZXJ2ZXJzL3VzZS1jaGlsZHJlbi1oYXZlLWZvY3VzXCI7XG5pbXBvcnQgeyB1c2VDaGlsZHJlbkZsYWcsIFVzZU1hbmFnZWRDaGlsZHJlblJldHVyblR5cGUgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLW1hbmFnZWQtY2hpbGRyZW5cIjtcbmltcG9ydCB7IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlLCBQYXNzaXZlU3RhdGVVcGRhdGVyLCB1c2VFbnN1cmVTdGFiaWxpdHkgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXBhc3NpdmUtc3RhdGVcIjtcbmltcG9ydCB7IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvLCBVc2VSb3ZpbmdUYWJJbmRleFJldHVyblR5cGUgfSBmcm9tIFwiLi91c2Utcm92aW5nLXRhYmluZGV4XCI7XG4vL2ltcG9ydCB7IHVzZVByZXNzLCBVc2VQcmVzc1JldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtcHJlc3NcIjtcbmltcG9ydCBub29wIGZyb20gXCJsb2Rhc2gtZXMvbm9vcFwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuaW1wb3J0IHsgdXNlU3RhYmxlR2V0dGVyLCB1c2VTdGFibGVPYmplY3QgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1nZXR0ZXJcIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGF0ZVwiO1xuXG50eXBlIE9taXRTdHJvbmc8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gT21pdDxULCBLPlxuXG4vKlxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUHJvcHM8RSBleHRlbmRzIEVsZW1lbnQ+KHI6IFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuVHlwZUluZm88RT4sIC4uLm90aGVyUHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+W10pOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPltdIHtcbiAgICByZXR1cm4gW3Iuc2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm4ucHJvcHNVbnN0YWJsZSwgLi4ub3RoZXJQcm9wc107XG59Ki9cblxuLypcbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2luZ2xlU2VsZWN0aW9uQ29udGV4dCB7XG4gICAgc2luZ2xlU2VsZWN0aW9uUmV0dXJuOiBVc2VTaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlSW5mb1tcInNpbmdsZVNlbGVjdGlvblJldHVyblwiXTtcbn0qL1xuXG4vKiogQW55dGhpbmcgdGhhdCdzIHNlbGVjdGFibGUgbXVzdCBiZSB0YWJiYWJsZSwgc28gd2UgRE8gdXNlIHJvdmluZ3RhYmluZGV4IGluc3RlYWQgb2YganVzdCBtYW5hZ2VkY2hpbGRyZW4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VsZWN0YWJsZUNoaWxkSW5mbzxFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbzxFPiB7XG4gICAgc2VsZWN0ZWQ6IGJvb2xlYW47XG4gICAgZ2V0U2VsZWN0ZWQoKTogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBUaGUgcGFyZW50IGNhbGxzIHRoaXMgdG8gY2hhbmdlIHRoZSBjaGlsZCdzIGxvY2FsIHN0YXRlLlxuICAgICAqIFxuICAgICAqIFdoZW4gdGhlIGBzZWxlY3RlZEluZGV4YCBjaGFuZ2VzLCB0aGUgcmVsZXZhbnQgY2hpbGRyZW4ncyBgc2V0TG9jYWxTZWxlY3RlZGAgYXJlIGNhbGxlZCAobWF4IG9mIDIpLlxuICAgICAqIFxuICAgICAqIEBwYXJhbSBzZWxlY3RlZCBUaGlzIGlzIHRoZSBzZWxlY3RlZCBjaGlsZCAob3V0IG9mIGFsbCBvZiB0aGVtKVxuICAgICAqIEBwYXJhbSBkaXJlY3Rpb24gSG93IGZhciB0byB0aGUgYHNlbGVjdGVkSW5kZXhgIHRoaXMgY2hpbGQgaXNcbiAgICAgKi9cbiAgICBzZXRMb2NhbFNlbGVjdGVkKHNlbGVjdGVkOiBib29sZWFuLCBkaXJlY3Rpb246IG51bWJlciB8IG51bGwpOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBzaW1pbGFyIHRvIGBoaWRkZW5gIGZvciBgdXNlUm92aW5nVGFiSW5kZXhgLCBidXQgZm9yIHNlbGVjdGlvbi5cbiAgICAgKiBcbiAgICAgKiBEaXNhYmxlcyBzZWxlY3RpbmcgdGhpcyBjaGlsZC4gQmVpbmcgYGhpZGRlbmAgbXVzdCBpbXBseSBiZWluZyBgZGlzYWJsZWRgLCBidXQgeW91IGNhbiBvZiBjb3Vyc2UgaGF2ZSBzb21ldGhpbmcgdGhhdCdzIGRpc2FibGVkICh1bnNlbGVjdGFibGUpIGJ1dCBub3QgaGlkZGVuICh1bnRhYmJhYmxlKS5cbiAgICAgKi9cbiAgICBkaXNhYmxlZDogYm9vbGVhbjtcbn1cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiB7XG4gICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuOiBQaWNrPFVzZU1hbmFnZWRDaGlsZHJlblJldHVyblR5cGU8U2VsZWN0YWJsZUNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+PltcIm1hbmFnZWRDaGlsZHJlblJldHVyblwiXSwgXCJnZXRDaGlsZHJlblwiPjtcbiAgICByb3ZpbmdUYWJJbmRleFJldHVybjogUGljazxVc2VSb3ZpbmdUYWJJbmRleFJldHVyblR5cGU8Q2hpbGRFbGVtZW50PltcInJvdmluZ1RhYkluZGV4UmV0dXJuXCJdLCBcInNldFRhYmJhYmxlSW5kZXhcIj5cbiAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIGltcGVyYXRpdmUsIGFzIG9wcG9zZWQgdG8gZGVjbGFyYXRpdmUsIFxuICAgICAgICAgKiB0byBzYXZlIG9uIHJlLXJlbmRlcmluZyB0aGUgcGFyZW50IHdoZW5ldmVyIHRoZSBzZWxlY3RlZCBpbmRleCBjaGFuZ2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5pdGlhbGx5U2VsZWN0ZWRJbmRleDogbnVtYmVyIHwgbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbGVkIHdoZW4gYSBjaGlsZCBpcyBzZWxlY3RlZCAodmlhIGEgcHJlc3Mgb3Igb3RoZXIgbWV0aG9kKS5cbiAgICAgICAgICogXG4gICAgICAgICAqIElmIHRoaXMgY29tcG9uZW50IGlzIGRlY2xhcmF0aXZlbHkgY29udHJvbGxlZCAod2l0aCBlLmcuIGB1c2VTaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZWApLFxuICAgICAgICAgKiB0aGVuIHlvdSBzaG91bGQgdXNlIHRoaXMgdG8gYHNldFN0YXRlYCBzb21ld2hlcmUgdGhhdCdsbCBjaGFuZ2UgeW91ciBgc2VsZWN0ZWRJbmRleGAuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBJZiB0aGlzIGNvbXBvbmVudCBpcyBpbXBlcmF0aXZlbHkgY29udHJvbGxlZCwgdGhlbiB5b3Ugc2hvdWxkIGhvb2sgdGhpcyB1cCB0byB0aGVcbiAgICAgICAgICogcmV0dXJuZWQgYGNoYW5nZVNlbGVjdGVkSW5kZXhgIGZ1bmN0aW9uIHRvIGhhdmUgdGhlIGRlc2lyZWQgY2hhbmdlIG9jY3VyLlxuICAgICAgICAgKiBcbiAgICAgICAgICogSW4gZ2VuZXJhbCwgdGhpcyBzaG91bGQgb25seSBiZSBgbnVsbGAgd2hlbiBzaW5nbGUgc2VsZWN0aW9uIGlzIGVudGlyZWx5IGRpc2FibGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBudWxsIHwgKChpbmRleDogbnVtYmVyIHwgbnVsbCwgcmVhc29uOiBFdmVudCB8IHVuZGVmaW5lZCkgPT4gdm9pZCk7XG5cbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzPEUgZXh0ZW5kcyBFbGVtZW50PiB7XG4gICAgLy9tYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiBQaWNrPFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8U2VsZWN0YWJsZUNoaWxkSW5mbzxFPiwgbmV2ZXI+W1wibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiXSwgXCJpbmRleFwiIHwgXCJkaXNhYmxlZFwiPjtcbiAgICBzaW5nbGVTZWxlY3Rpb25Db250ZXh0OiBVc2VTaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlPEU+W1wic2luZ2xlU2VsZWN0aW9uQ29udGV4dFwiXTtcbiAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM6IHtcbiAgICAgICAgLy9vbkRpc3RhbmNlQ2hhbmdlOiBudWxsIHwgKChkaXN0YW5jZTogbnVtYmVyKSA9PiB2b2lkKTtcbiAgICAgICAgc2VsZWN0aW9uTW9kZTogXCJmb2N1c1wiIHwgXCJhY3RpdmF0aW9uXCIgfCBcImRpc2FibGVkXCI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGF0IHByb3BlcnR5IHdpbGwgYmUgdXNlZCB0byBtYXJrIHRoaXMgaXRlbSBhcyBzZWxlY3RlZC5cbiAgICAgICAgICogXG4gICAgICAgICAqICoqSU1QT1JUQU5UKio6IFRoZSBgYXJpYS1jdXJyZW50YCBvcHRpb25zIHNob3VsZCBiZSB1c2VkIHdpdGggY2F1dGlvbiBhcyB0aGV5IGFyZSBzZW1hbnRpY2FsbHkgdmVyeSBkaWZmZXJlbnQgZnJvbSB0aGUgdXN1YWwgc2VsZWN0aW9uIGNhc2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgYXJpYVByb3BOYW1lOiBgYXJpYS0ke1wicHJlc3NlZFwiIHwgXCJzZWxlY3RlZFwiIHwgXCJjaGVja2VkXCIgfCBgY3VycmVudC0ke1wicGFnZVwiIHwgXCJzdGVwXCIgfCBcImRhdGVcIiB8IFwidGltZVwiIHwgXCJsb2NhdGlvblwiIHwgXCJ0cnVlXCJ9YH1gIHwgbnVsbDtcbiAgICB9ICYgUGljazxTZWxlY3RhYmxlQ2hpbGRJbmZvPEU+LCBcImRpc2FibGVkXCI+O1xuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IFBpY2s8U2VsZWN0YWJsZUNoaWxkSW5mbzxFPiwgXCJpbmRleFwiPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VTaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVyblR5cGU8RSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlQ2hpbGRyZW5IYXZlRm9jdXNDaGlsZFJldHVyblR5cGU8RT4ge1xuICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuOiB7XG4gICAgICAgIC8vIFRoZXNlIHR3byBhcmUgYWxyZWFkeSBhdmFpbGFibGUgYXMgbWFuYWdlZENoaWxkIGluZm8sXG4gICAgICAgIC8vIGJ1dCB3ZSdyZSBrZWVwaW5nIHRoZW0gYmVjYXVzZSBSVEkgZG9lcyB0aGUgc2FtZSB0aGluZywgYW5kIGl0J3MgY29udmVuaWVudC5cbiAgICAgICAgc2VsZWN0ZWQ6IGJvb2xlYW4sXG4gICAgICAgIGdldFNlbGVjdGVkKCk6IGJvb2xlYW47XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFueSB0aW1lIGBzZWxlY3RlZGAgY2hhbmdlcyB0byBvciBmcm9tIGJlaW5nIHZpc2libGUsIHRoaXMgd2lsbCByZXByZXNlbnQgdGhlIGRpcmVjdGlvbiBhbmQgbWFnbml0dWRlIG9mIHRoZSBjaGFuZ2UuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBJdCB3aWxsIG5ldmVyIGJlIHplcm87IHdoZW4gYHNlbGVjdGVkYCBpcyBgdHJ1ZWAsIHRoZW4gdGhpcyB3aWxsIGJlIHRoZSBtb3N0IHJlY2VudGx5LXVzZWQgb2Zmc2V0LlxuICAgICAgICAgKiBcbiAgICAgICAgICogVGhpcyB1c2VmdWwgZm9yIHRoaW5ncyBsaWtlIGFuaW1hdGlvbnMgb3IgdHJhbnNpdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RlZE9mZnNldDogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgZ2V0U2VsZWN0ZWRPZmZzZXQ6ICgpID0+IChudW1iZXIgfCBudWxsKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGRpc3RhbmNlIGZyb20gdGhpcyBjaGlsZCB0byB0aGUgc2VsZWN0ZWQgY2hpbGQuXG4gICAgICAgICAqIFxuICAgICAgICAgKiAqKlN0YWJsZSoqLCBhbmQgY2FuIGJlIGNhbGxlZCBkdXJpbmcgcmVuZGVyLlxuICAgICAgICAgKi9cbiAgICAgICAgLy9nZXREaXN0YW5jZSgpOiBudW1iZXI7XG4gICAgICAgIC8vIFVzZWQgdG8gcHJvZ3JhbW1hdGljYWxseSBzZXQgdGhpcyBhcyB0aGUgc2VsZWN0ZWQgZWxlbWVudDtcbiAgICAgICAgLy8gaXQgcmVxdWVzdHMgdGhlIHBhcmVudCB0byBhY3R1YWxseSBjaGFuZ2UgdGhlIG51bWVyaWMgaW5kZXggdG8gdGhpcyBvbmUncy5cbiAgICAgICAgc2V0VGhpc09uZVNlbGVjdGVkOiAoZXZlbnQ6IEV2ZW50KSA9PiB2b2lkO1xuICAgICAgICBwcm9wc1Vuc3RhYmxlOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPjtcbiAgICB9XG4gICAgLy9yZWZFbGVtZW50UGFyYW1ldGVyczogUmVxdWlyZWQ8UGljazxVc2VSZWZFbGVtZW50UGFyYW1ldGVyczxFPltcInJlZkVsZW1lbnRQYXJhbWV0ZXJzXCJdLCBcIm9uRWxlbWVudENoYW5nZVwiPj47XG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogUGljazxTZWxlY3RhYmxlQ2hpbGRJbmZvPEU+LCBcInNldExvY2FsU2VsZWN0ZWRcIj47XG4gICAgLy9tYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiBQaWNrPFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8U2VsZWN0YWJsZUNoaWxkSW5mbzxFPiwgbmV2ZXI+W1wibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiXSwgXCJzZWxlY3RlZFwiIHwgXCJzZXRTZWxlY3RlZFwiIHwgXCJnZXRTZWxlY3RlZFwiPjtcbiAgICBwcmVzc1BhcmFtZXRlcnM6IFBpY2s8VXNlUHJlc3NQYXJhbWV0ZXJzPEU+W1wicHJlc3NQYXJhbWV0ZXJzXCJdLCBcIm9uUHJlc3NTeW5jXCI+O1xufVxuXG4vL2V4cG9ydCBpbnRlcmZhY2UgVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm5UeXBlV2l0aEhvb2tzPEUgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuVHlwZUluZm88RT4ge31cblxuZXhwb3J0IGludGVyZmFjZSBVc2VTaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBzaW5nbGVTZWxlY3Rpb25SZXR1cm46IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIGludGVybmFsbHkgdXBkYXRlcyB0aGUgc2VsZWN0ZWQgaW5kZXggdG8gdGhlIG9uZSB5b3UgcHJvdmlkZSxcbiAgICAgICAgICogYW5kIHRlbGxzIHRoZSByZWxldmFudCBjaGlsZHJlbiB0aGF0IHRoZXkgYXJlL2FyZSBub3Qgc2VsZWN0ZWQuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBJZiB5b3UgYXJlIGNyZWF0aW5nIGFuIGltcGVyYXRpdmUgY29tcG9uZW50LCB0aGlzIGlzIHdoYXQgaG93IHlvdSBjYW4gZm9yY2UgdGhlIHZhbHVlIHRvIGNoYW5nZSBpbiByZXNwb25zZSB0byBzb21ldGhpbmcuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBJZiB5b3UgYXJlIGNyZWF0aW5nIGEgZGVjbGFyYXRpdmUgY29tcG9uZW50LCB0aGlzIGlzIHdoYXQgeW91IGNhbGwgaW4gYHVzZUVmZmVjdGAgd2hlbiB5b3VyIGBzZWxlY3RlZEluZGV4YCBjaGFuZ2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgY2hhbmdlU2VsZWN0ZWRJbmRleDogUGFzc2l2ZVN0YXRlVXBkYXRlcjxudW1iZXIgfCBudWxsLCBFdmVudD47XG4gICAgICAgIGdldFNlbGVjdGVkSW5kZXgoKTogbnVtYmVyIHwgbnVsbDtcbiAgICB9XG4gICAgc2luZ2xlU2VsZWN0aW9uQ29udGV4dDoge1xuICAgICAgICBvblNlbGVjdGVkSW5kZXhDaGFuZ2U6IFVzZVNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PltcInNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnNcIl1bXCJvblNlbGVjdGVkSW5kZXhDaGFuZ2VcIl0gLy9QYXNzaXZlU3RhdGVVcGRhdGVyPG51bWJlciB8IG51bGwsIEV2ZW50PiB8IG51bGw7IFxuICAgICAgICBnZXRTZWxlY3RlZEluZGV4KCk6IG51bWJlciB8IG51bGw7XG4gICAgfVxuICAgIGNoaWxkcmVuSGF2ZUZvY3VzUGFyYW1ldGVyczogUGljazxVc2VDaGlsZHJlbkhhdmVGb2N1c1BhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PltcImNoaWxkcmVuSGF2ZUZvY3VzUGFyYW1ldGVyc1wiXSwgXCJvbkNvbXBvc2l0ZUZvY3VzQ2hhbmdlXCI+XG59XG5cblxuXG4vL2V4cG9ydCB0eXBlIFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkPEUgZXh0ZW5kcyBFbGVtZW50PiA9IChhOiBVc2VTaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM8RT4pID0+IFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuVHlwZVdpdGhIb29rczxFPjtcblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVNpbmdsZVNlbGVjdGlvbjxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuOiB7IGdldENoaWxkcmVuIH0sXG4gICAgcm92aW5nVGFiSW5kZXhSZXR1cm46IHsgc2V0VGFiYmFibGVJbmRleCB9LFxuICAgIHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnM6IHsgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBvblNlbGVjdGVkSW5kZXhDaGFuZ2VfVSwgaW5pdGlhbGx5U2VsZWN0ZWRJbmRleCB9XG59OiBVc2VTaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzPENoaWxkRWxlbWVudD4pOiBVc2VTaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlPENoaWxkRWxlbWVudD4ge1xuICAgIHR5cGUgUiA9IEV2ZW50Oy8vaC5KU1guVGFyZ2V0ZWRFdmVudDxDaGlsZEVsZW1lbnQ+O1xuICAgIGNvbnN0IG9uU2VsZWN0ZWRJbmRleENoYW5nZSA9IHVzZVN0YWJsZUNhbGxiYWNrKG9uU2VsZWN0ZWRJbmRleENoYW5nZV9VID8/IG5vb3ApO1xuXG4gICAgY29uc3QgZ2V0U2VsZWN0ZWRBdCA9IHVzZUNhbGxiYWNrKChtOiBTZWxlY3RhYmxlQ2hpbGRJbmZvPENoaWxkRWxlbWVudD4pID0+IHsgcmV0dXJuIG0uZ2V0U2VsZWN0ZWQoKTsgfSwgW10pO1xuICAgIGNvbnN0IHNldFNlbGVjdGVkQXQgPSB1c2VDYWxsYmFjaygobTogU2VsZWN0YWJsZUNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+LCB0OiBib29sZWFuLCBuZXdTZWxlY3RlZEluZGV4OiBudW1iZXIgfCBudWxsLCBwcmV2U2VsZWN0ZWRJbmRleDogbnVtYmVyIHwgbnVsbCkgPT4ge1xuICAgICAgICBpZiAobS5oaWRkZW4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXJlY3Rpb25Db21wYXJpc29uID0gKG5ld1NlbGVjdGVkSW5kZXggPT0gbS5pbmRleD8gcHJldlNlbGVjdGVkSW5kZXggOiBuZXdTZWxlY3RlZEluZGV4KTtcbiAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gKGRpcmVjdGlvbkNvbXBhcmlzb24gPT0gbnVsbCA/IG51bGwgOiAobS5pbmRleCAtIGRpcmVjdGlvbkNvbXBhcmlzb24pKTtcbiAgICAgICAgaWYgKG5ld1NlbGVjdGVkSW5kZXggPT0gbnVsbClcbiAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KHQgPT0gZmFsc2UpO1xuICAgICAgICBpZiAodClcbiAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KG5ld1NlbGVjdGVkSW5kZXggPT09IG0uaW5kZXgpO1xuXG4gICAgICAgIG0uc2V0TG9jYWxTZWxlY3RlZCh0LCBkaXJlY3Rpb24pO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBpc1NlbGVjdGVkVmFsaWQgPSB1c2VDYWxsYmFjaygobTogU2VsZWN0YWJsZUNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+KSA9PiB7IHJldHVybiAhbS5oaWRkZW47IH0sIFtdKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgY2hhbmdlSW5kZXg6IGNoYW5nZVNlbGVjdGVkSW5kZXgsXG4gICAgICAgIGdldEN1cnJlbnRJbmRleDogZ2V0U2VsZWN0ZWRJbmRleFxuICAgIH0gPSB1c2VDaGlsZHJlbkZsYWc8U2VsZWN0YWJsZUNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+LCBSPih7XG4gICAgICAgIGdldENoaWxkcmVuLFxuICAgICAgICBvbkluZGV4Q2hhbmdlOiBudWxsLFxuICAgICAgICBpbml0aWFsSW5kZXg6IGluaXRpYWxseVNlbGVjdGVkSW5kZXgsXG4gICAgICAgIGdldEF0OiBnZXRTZWxlY3RlZEF0LFxuICAgICAgICBzZXRBdDogc2V0U2VsZWN0ZWRBdCxcbiAgICAgICAgaXNWYWxpZDogaXNTZWxlY3RlZFZhbGlkLFxuICAgICAgICBjbG9zZXN0Rml0OiBmYWxzZVxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybjogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgIGdldFNlbGVjdGVkSW5kZXgsXG4gICAgICAgICAgICBjaGFuZ2VTZWxlY3RlZEluZGV4XG4gICAgICAgIH0pLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25Db250ZXh0OiB1c2VTdGFibGVPYmplY3Qoe1xuICAgICAgICAgICAgZ2V0U2VsZWN0ZWRJbmRleCxcbiAgICAgICAgICAgIG9uU2VsZWN0ZWRJbmRleENoYW5nZTogb25TZWxlY3RlZEluZGV4Q2hhbmdlXG4gICAgICAgIH0pLFxuICAgICAgICBjaGlsZHJlbkhhdmVGb2N1c1BhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG9uQ29tcG9zaXRlRm9jdXNDaGFuZ2U6IHVzZVN0YWJsZUNhbGxiYWNrKChhbnlGb2N1c2VkLCBwcmV2LCByZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWFueUZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IGdldFNlbGVjdGVkSW5kZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkSW5kZXggIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRhYmJhYmxlSW5kZXgoc2VsZWN0ZWRJbmRleCwgcmVhc29uLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGQ8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oYXJnczogVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudD4pOiBVc2VTaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVyblR5cGU8Q2hpbGRFbGVtZW50PiB7XG4gICAgdHlwZSBSID0gRXZlbnQ7Ly9oLkpTWC5UYXJnZXRlZEV2ZW50PENoaWxkRWxlbWVudD47XG4gICAgY29uc3Qge1xuXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNvbnRleHQ6IHsgZ2V0U2VsZWN0ZWRJbmRleCwgb25TZWxlY3RlZEluZGV4Q2hhbmdlIH0sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyczogeyBhcmlhUHJvcE5hbWUsIHNlbGVjdGlvbk1vZGUsIGRpc2FibGVkIH0sXG4gICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfVxuICAgIH0gPSBhcmdzO1xuXG4gICAgLy9sZXQgbGFzdFJlY29yZGVkRGlzdGFuY2UgPSB1c2VSZWYoMCk7XG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRcIiwgZ2V0U2VsZWN0ZWRJbmRleCwgb25TZWxlY3RlZEluZGV4Q2hhbmdlKTtcbiAgICBjb25zdCBnZXREaXNhYmxlZCA9IHVzZVN0YWJsZUdldHRlcihkaXNhYmxlZCk7XG5cbiAgICBjb25zdCBbbG9jYWxTZWxlY3RlZCwgc2V0TG9jYWxTZWxlY3RlZCwgZ2V0TG9jYWxTZWxlY3RlZF0gPSB1c2VTdGF0ZShnZXRTZWxlY3RlZEluZGV4KCkgPT0gaW5kZXgpO1xuICAgIGNvbnN0IFtkaXJlY3Rpb24sIHNldERpcmVjdGlvbiwgZ2V0RGlyZWN0aW9uXSA9IHVzZVN0YXRlKGdldFNlbGVjdGVkSW5kZXgoKSA9PSBudWxsPyBudWxsIDogKGdldFNlbGVjdGVkSW5kZXgoKSEgLSBpbmRleCkpO1xuICAgIFxuICAgIGNvbnN0IG9uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWQgPSB1c2VTdGFibGVDYWxsYmFjazxPblBhc3NpdmVTdGF0ZUNoYW5nZTxib29sZWFuLCBSPj4oKGZvY3VzZWQsIF9wcmV2LCBlKSA9PiB7XG4gICAgICAgIGlmIChzZWxlY3Rpb25Nb2RlID09ICdmb2N1cycgJiYgZm9jdXNlZCkge1xuICAgICAgICAgICAgb25TZWxlY3RlZEluZGV4Q2hhbmdlPy4oaW5kZXgsIGUpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBvblByZXNzU3luYyA9IHVzZVN0YWJsZUNhbGxiYWNrKCgoZTogRXZlbnQpID0+IHtcbiAgICAgICAgaWYgKHNlbGVjdGlvbk1vZGUgPT0gXCJkaXNhYmxlZFwiKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIWRpc2FibGVkKVxuICAgICAgICAgICAgb25TZWxlY3RlZEluZGV4Q2hhbmdlPy4oaW5kZXgsIGUgYXMgUik7XG4gICAgfSkpO1xuXG4gICAgY29uc3QgcHJvcFBhcnRzID0gYXJpYVByb3BOYW1lPy5zcGxpdChcIi1cIikgPz8gW107XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIC8vbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBzZWxlY3RlZCwgc2V0U2VsZWN0ZWQsIGdldFNlbGVjdGVkLCB9LFxuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IHNldExvY2FsU2VsZWN0ZWQ6IHVzZVN0YWJsZUNhbGxiYWNrKChzZWxlY3RlZCwgZGlyZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICBzZXRMb2NhbFNlbGVjdGVkKHNlbGVjdGVkKTtcbiAgICAgICAgICAgIHNldERpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgICAgICB9KSB9LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybjoge1xuICAgICAgICAgICAgc2VsZWN0ZWQ6IGxvY2FsU2VsZWN0ZWQsXG4gICAgICAgICAgICBzZXRUaGlzT25lU2VsZWN0ZWQ6IHVzZVN0YWJsZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KCFnZXREaXNhYmxlZCgpKTtcbiAgICAgICAgICAgICAgICBvblNlbGVjdGVkSW5kZXhDaGFuZ2U/LihpbmRleCwgZXZlbnQgYXMgUik7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdldFNlbGVjdGVkT2Zmc2V0OiBnZXREaXJlY3Rpb24sXG4gICAgICAgICAgICBzZWxlY3RlZE9mZnNldDogZGlyZWN0aW9uLFxuICAgICAgICAgICAgZ2V0U2VsZWN0ZWQ6IGdldExvY2FsU2VsZWN0ZWQsXG4gICAgICAgICAgICAvL2dldERpc3RhbmNlOiB1c2VDYWxsYmFjaygoKSA9PiB7IHJldHVybiBsYXN0UmVjb3JkZWREaXN0YW5jZS5jdXJyZW50OyB9LCBbXSksXG4gICAgICAgICAgICBwcm9wc1Vuc3RhYmxlOiBhcmlhUHJvcE5hbWUgPT0gbnVsbCB8fCBzZWxlY3Rpb25Nb2RlID09IFwiZGlzYWJsZWRcIiA/IHt9IDogeyBcbiAgICAgICAgICAgICAgICBbYCR7cHJvcFBhcnRzWzBdfS0ke3Byb3BQYXJ0c1sxXX1gXTogKGxvY2FsU2VsZWN0ZWQ/IChwcm9wUGFydHNbMV0gPT0gXCJjdXJyZW50XCI/IGAke3Byb3BQYXJ0c1syXX1gIDogYHRydWVgKSA6IFwiZmFsc2VcIikgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHByZXNzUGFyYW1ldGVyczogeyBvblByZXNzU3luYyB9LFxuICAgICAgICBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7IG9uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWQgfVxuICAgIH1cbn1cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzIHtcbiAgICBzaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZVBhcmFtZXRlcnM6IHsgc2VsZWN0ZWRJbmRleDogbnVtYmVyIHwgbnVsbCB9XG4gICAgc2luZ2xlU2VsZWN0aW9uUmV0dXJuOiBQaWNrPFVzZVNpbmdsZVNlbGVjdGlvblJldHVyblR5cGU8YW55PltcInNpbmdsZVNlbGVjdGlvblJldHVyblwiXSwgXCJjaGFuZ2VTZWxlY3RlZEluZGV4XCI+O1xufVxuXG5leHBvcnQgdHlwZSBNYWtlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzPFA+ID0gT21pdDxQLCBcInNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnNcIj4gJiBVc2VTaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZVBhcmFtZXRlcnM7XG5leHBvcnQgdHlwZSBNYWtlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVSZXR1cm5UeXBlPFI+ID0gT21pdDxSLCBcInNpbmdsZVNlbGVjdGlvblJldHVyblwiPjtcblxuLyoqXG4gKiBMZXQncyBmYWNlIGl0LCBkZWNsYXJhdGl2ZSBpcyBuaWNlciB0byB1c2UgdGhhbiBpbXBlcmF0aXZlLCBzbyB0aGlzIGlzIGEgc2hvcnRjdXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZSh7IHNpbmdsZVNlbGVjdGlvblJldHVybjogeyBjaGFuZ2VTZWxlY3RlZEluZGV4IH0sIHNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUGFyYW1ldGVyczogeyBzZWxlY3RlZEluZGV4IH0gfTogVXNlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzKSB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY2hhbmdlU2VsZWN0ZWRJbmRleChzZWxlY3RlZEluZGV4KTtcbiAgICB9LCBbc2VsZWN0ZWRJbmRleF0pO1xufVxuXG5cbiIsImltcG9ydCB7IGFzc2VydEVtcHR5T2JqZWN0IH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1tYW5hZ2VkLWNoaWxkcmVuXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XG5pbXBvcnQgeyBHcmlkQ2hpbGRDZWxsSW5mbyBhcyBnY2NpLCBHcmlkQ2hpbGRSb3dJbmZvIGFzIGdjcmksIHVzZUdyaWROYXZpZ2F0aW9uLCB1c2VHcmlkTmF2aWdhdGlvbkNlbGwsIFVzZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnMsIFVzZUdyaWROYXZpZ2F0aW9uQ2VsbFJldHVyblR5cGUsIFVzZUdyaWROYXZpZ2F0aW9uUGFyYW1ldGVycywgVXNlR3JpZE5hdmlnYXRpb25SZXR1cm5UeXBlLCB1c2VHcmlkTmF2aWdhdGlvblJvdywgVXNlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzLCBVc2VHcmlkTmF2aWdhdGlvblJvd1JldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtZ3JpZC1uYXZpZ2F0aW9uLXBhcnRpYWxcIjtcbmltcG9ydCB7IFNlbGVjdGFibGVDaGlsZEluZm8sIHVzZVNpbmdsZVNlbGVjdGlvbiwgdXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGQsIFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycywgVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm5UeXBlLCBVc2VTaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzLCBVc2VTaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLXNpbmdsZS1zZWxlY3Rpb25cIjtcblxudHlwZSBPbWl0U3Ryb25nPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IE9taXQ8VCwgSz47XG5cblxuLyoqXG4gKiBMaXN0IG5hdmlnYXRpb24gZ2V0cyBzaW5nbGUgc2VsZWN0aW9uLCBzbyBncmlkIG5hdmlnYXRpb24gZG9lcyB0b28uXG4gKiBcbiAqIEFueSBnaXZlbiByb3cgb2YgdGhlIGdyaWQgY2FuIGJlIHNlbGVjdGVkLCBha2luIHRvIGl0IGJlaW5nIGEgc2luZ2xlIHNlbGVjdCBsaXN0IGJ1dCB3aXRoIG9wdGlvbnMgdGhhdCBjYW4gYmUgbGVmdC9yaWdodCBhcnJvd2VkIHRvLlxuICogXG4gKiBIaWdobHkgcmVjb21tZW5kZWQgdG8gbWFrZSB0aGUgYHNlbGVjdGlvbk1vZGVgICpub3QqIGJlIGBcImZvY3VzXCJgLCBidXQgaXQncyB1cCB0byB5b3UsIHVsdGltYXRlbHkuXG4gKi9cbmNvbnN0IF9kdW1teSA9IDA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZFNpbmdsZVNlbGVjdENoaWxkUm93SW5mbzxSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIGdjcmk8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+LCBTZWxlY3RhYmxlQ2hpbGRJbmZvPFJvd0VsZW1lbnQ+IHsgfVxuZXhwb3J0IGludGVyZmFjZSBHcmlkU2luZ2xlU2VsZWN0Q2hpbGRDZWxsSW5mbzxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgZ2NjaTxDZWxsRWxlbWVudD4ge1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxQYXJlbnRPclJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdENoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4+IGV4dGVuZHMgVXNlR3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIE0+LCBPbWl0U3Ryb25nPFVzZVNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnM8Um93RWxlbWVudD4sIFwicm92aW5nVGFiSW5kZXhSZXR1cm5cIj4ge1xuICAgIG1hbmFnZWRDaGlsZHJlblJldHVybjogVXNlR3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIE0+W1wibWFuYWdlZENoaWxkcmVuUmV0dXJuXCJdICYgVXNlU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxSb3dFbGVtZW50PltcIm1hbmFnZWRDaGlsZHJlblJldHVyblwiXTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlPFBhcmVudE9yUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdENoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdENoaWxkQ2VsbEluZm88Q2VsbEVsZW1lbnQ+PiBleHRlbmRzIFVzZUdyaWROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+LCBVc2VTaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlPFJvd0VsZW1lbnQ+IHtcbiAgICAvLyBncmlkTmF2aWdhdGlvblJvd0NvbnRleHQ6IFVzZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBhbnksIGFueSwgYW55PltcInJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzXCJdW1wiZ3JpZE5hdmlnYXRpb25Sb3dDb250ZXh0XCJdXG59XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUm93UGFyYW1ldGVyczxSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBfUk0gZXh0ZW5kcyBHcmlkU2luZ2xlU2VsZWN0Q2hpbGRSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkU2luZ2xlU2VsZWN0Q2hpbGRDZWxsSW5mbzxDZWxsRWxlbWVudD4+IHtcbiAgICByb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyczogVXNlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBfUk0sIENNPltcInJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzXCJdICYgVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzPFJvd0VsZW1lbnQ+O1xuICAgIHJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnM6IFVzZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgX1JNLCBDTT5bXCJyb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzXCJdO1xuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Sb3dSZXR1cm5UeXBlPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICByb3dBc0NoaWxkT2ZHcmlkUmV0dXJuOiBVc2VHcmlkTmF2aWdhdGlvblJvd1JldHVyblR5cGU8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+W1wicm93QXNDaGlsZE9mR3JpZFJldHVyblwiXSAmIE9taXRTdHJvbmc8VXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm5UeXBlPFJvd0VsZW1lbnQ+LCBcInByZXNzUGFyYW1ldGVyc1wiPjtcbiAgICByb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm46IFVzZUdyaWROYXZpZ2F0aW9uUm93UmV0dXJuVHlwZTxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD5bXCJyb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm5cIl1cbn1cblxuXG5cblxuXG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2VsbFBhcmFtZXRlcnM8Um93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VHcmlkTmF2aWdhdGlvbkNlbGxQYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiB7IH1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25DZWxsUmV0dXJuVHlwZTxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlR3JpZE5hdmlnYXRpb25DZWxsUmV0dXJuVHlwZTxDZWxsRWxlbWVudD4geyB9XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbjxQYXJlbnRPclJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RDaGlsZFJvd0luZm88Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RDaGlsZENlbGxJbmZvPENlbGxFbGVtZW50Pj4oe1xuICAgIGdyaWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMsXG4gICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnMsXG4gICAgLi4uX3ZvaWQyXG59OiBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnM8UGFyZW50T3JSb3dFbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0+KTogVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4ge1xuICAgIGNvbnN0IGduciA9IHVzZUdyaWROYXZpZ2F0aW9uPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4oe1xuICAgICAgICBncmlkTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyxcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnNcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgcm92aW5nVGFiSW5kZXhSZXR1cm4gfSA9IGducjtcblxuICAgIGNvbnN0IHNzciA9IHVzZVNpbmdsZVNlbGVjdGlvbjxSb3dFbGVtZW50Pih7XG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnNcbiAgICB9KTtcblxuICAgIGFzc2VydEVtcHR5T2JqZWN0KF92b2lkMik7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5nbnIsXG4gICAgICAgIC4uLnNzcixcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJvdzxSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RDaGlsZFJvd0luZm88Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RDaGlsZENlbGxJbmZvPENlbGxFbGVtZW50Pj4oe1xuICAgIHJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzLFxuICAgIHJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnMsXG4gICAgLi4uX3ZvaWQxXG59OiBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJvd1BhcmFtZXRlcnM8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4pOiBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJvd1JldHVyblR5cGU8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+IHtcbiAgICBjb25zdCB7IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsIGhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnM6IHsgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZDogb2NmaWMyLCAuLi5fdm9pZDMgfSwgc2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm4gfSA9IHVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkPFJvd0VsZW1lbnQ+KHJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzKTtcbiAgICBjb25zdCB7IHJvd0FzQ2hpbGRPZkdyaWRSZXR1cm46IHsgaGFzQ3VycmVudEZvY3VzUGFyYW1ldGVyczogeyBvbkN1cnJlbnRGb2N1c2VkSW5uZXJDaGFuZ2VkOiBvY2ZpYzEsIC4uLl92b2lkMiB9LCBncmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnMsIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4sIHRleHRDb250ZW50UmV0dXJuLCBwcmVzc1BhcmFtZXRlcnMsIC4uLnZvaWQ0IH0sIHJvd0FzUGFyZW50T2ZDZWxsc1JldHVybiB9ID0gdXNlR3JpZE5hdmlnYXRpb25Sb3c8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4oeyByb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVycywgcm93QXNQYXJlbnRPZkNlbGxzUGFyYW1ldGVycyB9KTtcbiAgICBjb25zdCBvbkN1cnJlbnRGb2N1c2VkSW5uZXJDaGFuZ2VkID0gdXNlU3RhYmxlQ2FsbGJhY2s8Tm9uTnVsbGFibGU8dHlwZW9mIG9jZmljMj4+KChmb2N1c2VkLCBwcmV2Rm9jdXNlZCwgZSkgPT4geyBvY2ZpYzE/Lihmb2N1c2VkLCBwcmV2Rm9jdXNlZCwgZSk7IG9jZmljMj8uKGZvY3VzZWQsIHByZXZGb2N1c2VkLCBlKTsgfSlcblxuICAgIGFzc2VydEVtcHR5T2JqZWN0KF92b2lkMSk7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3QoX3ZvaWQyKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdChfdm9pZDMpO1xuICAgIGFzc2VydEVtcHR5T2JqZWN0KHZvaWQ0KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHJvd0FzQ2hpbGRPZkdyaWRSZXR1cm46IHsgXG4gICAgICAgICAgICBwcmVzc1BhcmFtZXRlcnMsXG4gICAgICAgICAgICB0ZXh0Q29udGVudFJldHVybixcbiAgICAgICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsIFxuICAgICAgICAgICAgaGFzQ3VycmVudEZvY3VzUGFyYW1ldGVyczogeyBvbkN1cnJlbnRGb2N1c2VkSW5uZXJDaGFuZ2VkIH0sIFxuICAgICAgICAgICAgZ3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybiwgXG4gICAgICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVyblxuICAgICAgICAgfSxcbiAgICAgICAgcm93QXNQYXJlbnRPZkNlbGxzUmV0dXJuXG4gICAgfVxuXG59XG5cbi8vIEVaXG5leHBvcnQgZnVuY3Rpb24gdXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25DZWxsPENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ocDogVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25DZWxsUGFyYW1ldGVyczxhbnksIENlbGxFbGVtZW50Pik6IFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2VsbFJldHVyblR5cGU8Q2VsbEVsZW1lbnQ+IHtcbiAgICByZXR1cm4gdXNlR3JpZE5hdmlnYXRpb25DZWxsPENlbGxFbGVtZW50PihwKTtcbn0iLCIvKipcbiAqIENvcGllcyB0aGUgdmFsdWVzIG9mIGBzb3VyY2VgIHRvIGBhcnJheWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSBUaGUgYXJyYXkgdG8gY29weSB2YWx1ZXMgZnJvbS5cbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcblxuICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICBhcnJheVtpbmRleF0gPSBzb3VyY2VbaW5kZXhdO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY29weUFycmF5O1xuIiwiLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUZsb29yID0gTWF0aC5mbG9vcixcbiAgICBuYXRpdmVSYW5kb20gPSBNYXRoLnJhbmRvbTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5kb21gIHdpdGhvdXQgc3VwcG9ydCBmb3IgcmV0dXJuaW5nXG4gKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICogQHBhcmFtIHtudW1iZXJ9IHVwcGVyIFRoZSB1cHBlciBib3VuZC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHJhbmRvbSBudW1iZXIuXG4gKi9cbmZ1bmN0aW9uIGJhc2VSYW5kb20obG93ZXIsIHVwcGVyKSB7XG4gIHJldHVybiBsb3dlciArIG5hdGl2ZUZsb29yKG5hdGl2ZVJhbmRvbSgpICogKHVwcGVyIC0gbG93ZXIgKyAxKSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VSYW5kb207XG4iLCJpbXBvcnQgYmFzZVJhbmRvbSBmcm9tICcuL19iYXNlUmFuZG9tLmpzJztcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgd2hpY2ggbXV0YXRlcyBhbmQgc2V0cyB0aGUgc2l6ZSBvZiBgYXJyYXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAqL1xuZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gIHNpemUgPSBzaXplID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiBzaXplO1xuICB3aGlsZSAoKytpbmRleCA8IHNpemUpIHtcbiAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgIHZhbHVlID0gYXJyYXlbcmFuZF07XG5cbiAgICBhcnJheVtyYW5kXSA9IGFycmF5W2luZGV4XTtcbiAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgfVxuICBhcnJheS5sZW5ndGggPSBzaXplO1xuICByZXR1cm4gYXJyYXk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNodWZmbGVTZWxmO1xuIiwiaW1wb3J0IGNvcHlBcnJheSBmcm9tICcuL19jb3B5QXJyYXkuanMnO1xuaW1wb3J0IHNodWZmbGVTZWxmIGZyb20gJy4vX3NodWZmbGVTZWxmLmpzJztcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc2h1ZmZsZWAgZm9yIGFycmF5cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNodWZmbGUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlTaHVmZmxlKGFycmF5KSB7XG4gIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXJyYXlTaHVmZmxlO1xuIiwiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWFwYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWVcbiAqIHNob3J0aGFuZHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBtYXBwZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TWFwKGFycmF5LCBpdGVyYXRlZSkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXJyYXlNYXA7XG4iLCJpbXBvcnQgYXJyYXlNYXAgZnJvbSAnLi9fYXJyYXlNYXAuanMnO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gKiBhcnJheSBvZiBgb2JqZWN0YCBwcm9wZXJ0eSB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvcGVydHkgbmFtZXNcbiAqIG9mIGBwcm9wc2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAqL1xuZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gIHJldHVybiBhcnJheU1hcChwcm9wcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZVZhbHVlcztcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udGltZXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kc1xuICogb3IgbWF4IGFycmF5IGxlbmd0aCBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICByZXN1bHQgPSBBcnJheShuKTtcblxuICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICByZXN1bHRbaW5kZXhdID0gaXRlcmF0ZWUoaW5kZXgpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VUaW1lcztcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbmV4cG9ydCBkZWZhdWx0IGZyZWVHbG9iYWw7XG4iLCJpbXBvcnQgZnJlZUdsb2JhbCBmcm9tICcuL19mcmVlR2xvYmFsLmpzJztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5leHBvcnQgZGVmYXVsdCByb290O1xuIiwiaW1wb3J0IHJvb3QgZnJvbSAnLi9fcm9vdC5qcyc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5leHBvcnQgZGVmYXVsdCBTeW1ib2w7XG4iLCJpbXBvcnQgU3ltYm9sIGZyb20gJy4vX1N5bWJvbC5qcyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VHZXRUYWdgIHdoaWNoIGlnbm9yZXMgYFN5bWJvbC50b1N0cmluZ1RhZ2AgdmFsdWVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJhdyBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBnZXRSYXdUYWcodmFsdWUpIHtcbiAgdmFyIGlzT3duID0gaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwgc3ltVG9TdHJpbmdUYWcpLFxuICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gIHRyeSB7XG4gICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdW5kZWZpbmVkO1xuICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdmFyIHJlc3VsdCA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICBpZiAodW5tYXNrZWQpIHtcbiAgICBpZiAoaXNPd24pIHtcbiAgICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHRhZztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0UmF3VGFnO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG9iamVjdFRvU3RyaW5nO1xuIiwiaW1wb3J0IFN5bWJvbCBmcm9tICcuL19TeW1ib2wuanMnO1xuaW1wb3J0IGdldFJhd1RhZyBmcm9tICcuL19nZXRSYXdUYWcuanMnO1xuaW1wb3J0IG9iamVjdFRvU3RyaW5nIGZyb20gJy4vX29iamVjdFRvU3RyaW5nLmpzJztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJhc2VHZXRUYWc7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNPYmplY3RMaWtlO1xuIiwiaW1wb3J0IGJhc2VHZXRUYWcgZnJvbSAnLi9fYmFzZUdldFRhZy5qcyc7XG5pbXBvcnQgaXNPYmplY3RMaWtlIGZyb20gJy4vaXNPYmplY3RMaWtlLmpzJztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUlzQXJndW1lbnRzO1xuIiwiaW1wb3J0IGJhc2VJc0FyZ3VtZW50cyBmcm9tICcuL19iYXNlSXNBcmd1bWVudHMuanMnO1xuaW1wb3J0IGlzT2JqZWN0TGlrZSBmcm9tICcuL2lzT2JqZWN0TGlrZS5qcyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBpc0FyZ3VtZW50cztcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJyYXkoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXkoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheSgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNBcnJheShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqL1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG5leHBvcnQgZGVmYXVsdCBpc0FycmF5O1xuIiwiLyoqXG4gKiBUaGlzIG1ldGhvZCByZXR1cm5zIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjEzLjBcbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRpbWVzKDIsIF8uc3R1YkZhbHNlKTtcbiAqIC8vID0+IFtmYWxzZSwgZmFsc2VdXG4gKi9cbmZ1bmN0aW9uIHN0dWJGYWxzZSgpIHtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHViRmFsc2U7XG4iLCJpbXBvcnQgcm9vdCBmcm9tICcuL19yb290LmpzJztcbmltcG9ydCBzdHViRmFsc2UgZnJvbSAnLi9zdHViRmFsc2UuanMnO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xudmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJiAhZXhwb3J0cy5ub2RlVHlwZSAmJiBleHBvcnRzO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYG1vZHVsZWAuICovXG52YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4vKiogRGV0ZWN0IHRoZSBwb3B1bGFyIENvbW1vbkpTIGV4dGVuc2lvbiBgbW9kdWxlLmV4cG9ydHNgLiAqL1xudmFyIG1vZHVsZUV4cG9ydHMgPSBmcmVlTW9kdWxlICYmIGZyZWVNb2R1bGUuZXhwb3J0cyA9PT0gZnJlZUV4cG9ydHM7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIEJ1ZmZlciA9IG1vZHVsZUV4cG9ydHMgPyByb290LkJ1ZmZlciA6IHVuZGVmaW5lZDtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZUlzQnVmZmVyID0gQnVmZmVyID8gQnVmZmVyLmlzQnVmZmVyIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4zLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbmV4cG9ydCBkZWZhdWx0IGlzQnVmZmVyO1xuIiwiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0luZGV4O1xuIiwiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGxlbmd0aC5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGxlbmd0aCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzTGVuZ3RoKDMpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNMZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoSW5maW5pdHkpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzTGVuZ3RoKCczJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0xlbmd0aCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgdmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8PSBNQVhfU0FGRV9JTlRFR0VSO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0xlbmd0aDtcbiIsImltcG9ydCBiYXNlR2V0VGFnIGZyb20gJy4vX2Jhc2VHZXRUYWcuanMnO1xuaW1wb3J0IGlzTGVuZ3RoIGZyb20gJy4vaXNMZW5ndGguanMnO1xuaW1wb3J0IGlzT2JqZWN0TGlrZSBmcm9tICcuL2lzT2JqZWN0TGlrZS5qcyc7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgYXJyYXlUYWcgPSAnW29iamVjdCBBcnJheV0nLFxuICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgZGF0ZVRhZyA9ICdbb2JqZWN0IERhdGVdJyxcbiAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgZnVuY1RhZyA9ICdbb2JqZWN0IEZ1bmN0aW9uXScsXG4gICAgbWFwVGFnID0gJ1tvYmplY3QgTWFwXScsXG4gICAgbnVtYmVyVGFnID0gJ1tvYmplY3QgTnVtYmVyXScsXG4gICAgb2JqZWN0VGFnID0gJ1tvYmplY3QgT2JqZWN0XScsXG4gICAgcmVnZXhwVGFnID0gJ1tvYmplY3QgUmVnRXhwXScsXG4gICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgc3RyaW5nVGFnID0gJ1tvYmplY3QgU3RyaW5nXScsXG4gICAgd2Vha01hcFRhZyA9ICdbb2JqZWN0IFdlYWtNYXBdJztcblxudmFyIGFycmF5QnVmZmVyVGFnID0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyxcbiAgICBkYXRhVmlld1RhZyA9ICdbb2JqZWN0IERhdGFWaWV3XScsXG4gICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgIGZsb2F0NjRUYWcgPSAnW29iamVjdCBGbG9hdDY0QXJyYXldJyxcbiAgICBpbnQ4VGFnID0gJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgaW50MzJUYWcgPSAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgdWludDhUYWcgPSAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICB1aW50MTZUYWcgPSAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgIHVpbnQzMlRhZyA9ICdbb2JqZWN0IFVpbnQzMkFycmF5XSc7XG5cbi8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbnZhciB0eXBlZEFycmF5VGFncyA9IHt9O1xudHlwZWRBcnJheVRhZ3NbZmxvYXQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1tmbG9hdDY0VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG50eXBlZEFycmF5VGFnc1tpbnQzMlRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50OFRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDhDbGFtcGVkVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQxNlRhZ10gPVxudHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG50eXBlZEFycmF5VGFnc1thcmdzVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2FycmF5VGFnXSA9XG50eXBlZEFycmF5VGFnc1thcnJheUJ1ZmZlclRhZ10gPSB0eXBlZEFycmF5VGFnc1tib29sVGFnXSA9XG50eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG50eXBlZEFycmF5VGFnc1tlcnJvclRhZ10gPSB0eXBlZEFycmF5VGFnc1tmdW5jVGFnXSA9XG50eXBlZEFycmF5VGFnc1ttYXBUYWddID0gdHlwZWRBcnJheVRhZ3NbbnVtYmVyVGFnXSA9XG50eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG50eXBlZEFycmF5VGFnc1tzZXRUYWddID0gdHlwZWRBcnJheVRhZ3Nbc3RyaW5nVGFnXSA9XG50eXBlZEFycmF5VGFnc1t3ZWFrTWFwVGFnXSA9IGZhbHNlO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzVHlwZWRBcnJheWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNUeXBlZEFycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmXG4gICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUlzVHlwZWRBcnJheTtcbiIsIi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5hcnlgIHdpdGhvdXQgc3VwcG9ydCBmb3Igc3RvcmluZyBtZXRhZGF0YS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FwIGFyZ3VtZW50cyBmb3IuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGJhc2VVbmFyeShmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZVVuYXJ5O1xuIiwiaW1wb3J0IGZyZWVHbG9iYWwgZnJvbSAnLi9fZnJlZUdsb2JhbC5qcyc7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZXhwb3J0c2AuICovXG52YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgbW9kdWxlYC4gKi9cbnZhciBmcmVlTW9kdWxlID0gZnJlZUV4cG9ydHMgJiYgdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiYgIW1vZHVsZS5ub2RlVHlwZSAmJiBtb2R1bGU7XG5cbi8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG52YXIgbW9kdWxlRXhwb3J0cyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5leHBvcnRzID09PSBmcmVlRXhwb3J0cztcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBwcm9jZXNzYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuLyoqIFVzZWQgdG8gYWNjZXNzIGZhc3RlciBOb2RlLmpzIGhlbHBlcnMuICovXG52YXIgbm9kZVV0aWwgPSAoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgLy8gVXNlIGB1dGlsLnR5cGVzYCBmb3IgTm9kZS5qcyAxMCsuXG4gICAgdmFyIHR5cGVzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLnJlcXVpcmUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlKCd1dGlsJykudHlwZXM7XG5cbiAgICBpZiAodHlwZXMpIHtcbiAgICAgIHJldHVybiB0eXBlcztcbiAgICB9XG5cbiAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgIHJldHVybiBmcmVlUHJvY2VzcyAmJiBmcmVlUHJvY2Vzcy5iaW5kaW5nICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcoJ3V0aWwnKTtcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbmV4cG9ydCBkZWZhdWx0IG5vZGVVdGlsO1xuIiwiaW1wb3J0IGJhc2VJc1R5cGVkQXJyYXkgZnJvbSAnLi9fYmFzZUlzVHlwZWRBcnJheS5qcyc7XG5pbXBvcnQgYmFzZVVuYXJ5IGZyb20gJy4vX2Jhc2VVbmFyeS5qcyc7XG5pbXBvcnQgbm9kZVV0aWwgZnJvbSAnLi9fbm9kZVV0aWwuanMnO1xuXG4vKiBOb2RlLmpzIGhlbHBlciByZWZlcmVuY2VzLiAqL1xudmFyIG5vZGVJc1R5cGVkQXJyYXkgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc1R5cGVkQXJyYXk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIHR5cGVkIGFycmF5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdHlwZWQgYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc1R5cGVkQXJyYXkobmV3IFVpbnQ4QXJyYXkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNUeXBlZEFycmF5KFtdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc1R5cGVkQXJyYXkgPSBub2RlSXNUeXBlZEFycmF5ID8gYmFzZVVuYXJ5KG5vZGVJc1R5cGVkQXJyYXkpIDogYmFzZUlzVHlwZWRBcnJheTtcblxuZXhwb3J0IGRlZmF1bHQgaXNUeXBlZEFycmF5O1xuIiwiaW1wb3J0IGJhc2VUaW1lcyBmcm9tICcuL19iYXNlVGltZXMuanMnO1xuaW1wb3J0IGlzQXJndW1lbnRzIGZyb20gJy4vaXNBcmd1bWVudHMuanMnO1xuaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pc0FycmF5LmpzJztcbmltcG9ydCBpc0J1ZmZlciBmcm9tICcuL2lzQnVmZmVyLmpzJztcbmltcG9ydCBpc0luZGV4IGZyb20gJy4vX2lzSW5kZXguanMnO1xuaW1wb3J0IGlzVHlwZWRBcnJheSBmcm9tICcuL2lzVHlwZWRBcnJheS5qcyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiB0aGUgYXJyYXktbGlrZSBgdmFsdWVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBxdWVyeS5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5oZXJpdGVkIFNwZWNpZnkgcmV0dXJuaW5nIGluaGVyaXRlZCBwcm9wZXJ0eSBuYW1lcy5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5TGlrZUtleXModmFsdWUsIGluaGVyaXRlZCkge1xuICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgIGlzQXJnID0gIWlzQXJyICYmIGlzQXJndW1lbnRzKHZhbHVlKSxcbiAgICAgIGlzQnVmZiA9ICFpc0FyciAmJiAhaXNBcmcgJiYgaXNCdWZmZXIodmFsdWUpLFxuICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICBza2lwSW5kZXhlcyA9IGlzQXJyIHx8IGlzQXJnIHx8IGlzQnVmZiB8fCBpc1R5cGUsXG4gICAgICByZXN1bHQgPSBza2lwSW5kZXhlcyA/IGJhc2VUaW1lcyh2YWx1ZS5sZW5ndGgsIFN0cmluZykgOiBbXSxcbiAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgaWYgKChpbmhlcml0ZWQgfHwgaGFzT3duUHJvcGVydHkuY2FsbCh2YWx1ZSwga2V5KSkgJiZcbiAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICAgICAga2V5ID09ICdsZW5ndGgnIHx8XG4gICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAoaXNCdWZmICYmIChrZXkgPT0gJ29mZnNldCcgfHwga2V5ID09ICdwYXJlbnQnKSkgfHxcbiAgICAgICAgICAgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgLy8gU2tpcCBpbmRleCBwcm9wZXJ0aWVzLlxuICAgICAgICAgICBpc0luZGV4KGtleSwgbGVuZ3RoKVxuICAgICAgICApKSkge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXJyYXlMaWtlS2V5cztcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGEgcHJvdG90eXBlIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc1Byb3RvdHlwZSh2YWx1ZSkge1xuICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgcHJvdG8gPSAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBDdG9yLnByb3RvdHlwZSkgfHwgb2JqZWN0UHJvdG87XG5cbiAgcmV0dXJuIHZhbHVlID09PSBwcm90bztcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNQcm90b3R5cGU7XG4iLCIvKipcbiAqIENyZWF0ZXMgYSB1bmFyeSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggaXRzIGFyZ3VtZW50IHRyYW5zZm9ybWVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSBhcmd1bWVudCB0cmFuc2Zvcm0uXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb3ZlckFyZyhmdW5jLCB0cmFuc2Zvcm0pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBmdW5jKHRyYW5zZm9ybShhcmcpKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb3ZlckFyZztcbiIsImltcG9ydCBvdmVyQXJnIGZyb20gJy4vX292ZXJBcmcuanMnO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCk7XG5cbmV4cG9ydCBkZWZhdWx0IG5hdGl2ZUtleXM7XG4iLCJpbXBvcnQgaXNQcm90b3R5cGUgZnJvbSAnLi9faXNQcm90b3R5cGUuanMnO1xuaW1wb3J0IG5hdGl2ZUtleXMgZnJvbSAnLi9fbmF0aXZlS2V5cy5qcyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ua2V5c2Agd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICovXG5mdW5jdGlvbiBiYXNlS2V5cyhvYmplY3QpIHtcbiAgaWYgKCFpc1Byb3RvdHlwZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gW107XG4gIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBrZXkgIT0gJ2NvbnN0cnVjdG9yJykge1xuICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZUtleXM7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNPYmplY3Q7XG4iLCJpbXBvcnQgYmFzZUdldFRhZyBmcm9tICcuL19iYXNlR2V0VGFnLmpzJztcbmltcG9ydCBpc09iamVjdCBmcm9tICcuL2lzT2JqZWN0LmpzJztcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFzeW5jVGFnID0gJ1tvYmplY3QgQXN5bmNGdW5jdGlvbl0nLFxuICAgIGZ1bmNUYWcgPSAnW29iamVjdCBGdW5jdGlvbl0nLFxuICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgcHJveHlUYWcgPSAnW29iamVjdCBQcm94eV0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgRnVuY3Rpb25gIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIGZ1bmN0aW9uLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNGdW5jdGlvbihfKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oL2FiYy8pO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGdW5jdGlvbih2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgLy8gaW4gU2FmYXJpIDkgd2hpY2ggcmV0dXJucyAnb2JqZWN0JyBmb3IgdHlwZWQgYXJyYXlzIGFuZCBvdGhlciBjb25zdHJ1Y3RvcnMuXG4gIHZhciB0YWcgPSBiYXNlR2V0VGFnKHZhbHVlKTtcbiAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNGdW5jdGlvbjtcbiIsImltcG9ydCBpc0Z1bmN0aW9uIGZyb20gJy4vaXNGdW5jdGlvbi5qcyc7XG5pbXBvcnQgaXNMZW5ndGggZnJvbSAnLi9pc0xlbmd0aC5qcyc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYXJyYXktbGlrZS4gQSB2YWx1ZSBpcyBjb25zaWRlcmVkIGFycmF5LWxpa2UgaWYgaXQnc1xuICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICogZXF1YWwgdG8gYDBgIGFuZCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzQXJyYXlMaWtlKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoJ2FiYycpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheUxpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0FycmF5TGlrZTtcbiIsImltcG9ydCBhcnJheUxpa2VLZXlzIGZyb20gJy4vX2FycmF5TGlrZUtleXMuanMnO1xuaW1wb3J0IGJhc2VLZXlzIGZyb20gJy4vX2Jhc2VLZXlzLmpzJztcbmltcG9ydCBpc0FycmF5TGlrZSBmcm9tICcuL2lzQXJyYXlMaWtlLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICogW0VTIHNwZWNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5rZXlzKVxuICogZm9yIG1vcmUgZGV0YWlscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICogQGV4YW1wbGVcbiAqXG4gKiBmdW5jdGlvbiBGb28oKSB7XG4gKiAgIHRoaXMuYSA9IDE7XG4gKiAgIHRoaXMuYiA9IDI7XG4gKiB9XG4gKlxuICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAqXG4gKiBfLmtleXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbJ2EnLCAnYiddIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gKlxuICogXy5rZXlzKCdoaScpO1xuICogLy8gPT4gWycwJywgJzEnXVxuICovXG5mdW5jdGlvbiBrZXlzKG9iamVjdCkge1xuICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0KSA6IGJhc2VLZXlzKG9iamVjdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGtleXM7XG4iLCJpbXBvcnQgYmFzZVZhbHVlcyBmcm9tICcuL19iYXNlVmFsdWVzLmpzJztcbmltcG9ydCBrZXlzIGZyb20gJy4va2V5cy5qcyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAqXG4gKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBtZW1iZXJPZiBfXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAqIEBleGFtcGxlXG4gKlxuICogZnVuY3Rpb24gRm9vKCkge1xuICogICB0aGlzLmEgPSAxO1xuICogICB0aGlzLmIgPSAyO1xuICogfVxuICpcbiAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gKlxuICogXy52YWx1ZXMobmV3IEZvbyk7XG4gKiAvLyA9PiBbMSwgMl0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAqXG4gKiBfLnZhbHVlcygnaGknKTtcbiAqIC8vID0+IFsnaCcsICdpJ11cbiAqL1xuZnVuY3Rpb24gdmFsdWVzKG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VWYWx1ZXMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWx1ZXM7XG4iLCJpbXBvcnQgc2h1ZmZsZVNlbGYgZnJvbSAnLi9fc2h1ZmZsZVNlbGYuanMnO1xuaW1wb3J0IHZhbHVlcyBmcm9tICcuL3ZhbHVlcy5qcyc7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2h1ZmZsZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYmFzZVNodWZmbGUoY29sbGVjdGlvbikge1xuICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYmFzZVNodWZmbGU7XG4iLCJpbXBvcnQgYXJyYXlTaHVmZmxlIGZyb20gJy4vX2FycmF5U2h1ZmZsZS5qcyc7XG5pbXBvcnQgYmFzZVNodWZmbGUgZnJvbSAnLi9fYmFzZVNodWZmbGUuanMnO1xuaW1wb3J0IGlzQXJyYXkgZnJvbSAnLi9pc0FycmF5LmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIHNodWZmbGVkIHZhbHVlcywgdXNpbmcgYSB2ZXJzaW9uIG9mIHRoZVxuICogW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXItWWF0ZXNfc2h1ZmZsZSkuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNodWZmbGUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gKiAvLyA9PiBbNCwgMSwgMywgMl1cbiAqL1xuZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2h1ZmZsZSA6IGJhc2VTaHVmZmxlO1xuICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2h1ZmZsZTtcbiIsImltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCwgd2hlbiBjYWxsZWQsIGZvcmNlIHRoZSBjb21wb25lbnRcbiAqIHRoYXQgdXNlcyB0aGlzIGhvb2sgdG8gcmUtcmVuZGVyIGl0c2VsZi5cbiAqIFxuICogSXQncyBhIGJpdCBzbWVsbHksIHNvIGJlc3QgdG8gdXNlIHNwYXJpbmdseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUZvcmNlVXBkYXRlKCkge1xuICAgIGNvbnN0IFssIHNldF0gPSB1c2VTdGF0ZSgwKTtcbiAgICByZXR1cm4gdXNlUmVmKCgpID0+IHNldChpID0+ICsraSkpLmN1cnJlbnQ7XG59IiwiaW1wb3J0IGxvZGFzaFNodWZmbGUgZnJvbSBcImxvZGFzaC1lcy9zaHVmZmxlXCI7XG5pbXBvcnQgeyBoLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IE11dGFibGVSZWYsIHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IHVzZUZvcmNlVXBkYXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1mb3JjZS11cGRhdGVcIjtcbmltcG9ydCB7IE1hbmFnZWRDaGlsZEluZm8sIE1hbmFnZWRDaGlsZHJlbiB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgcmV0dXJuTnVsbCwgdXNlUGFzc2l2ZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1wYXNzaXZlLXN0YXRlXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVHZXR0ZXIgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1nZXR0ZXJcIjtcblxuZXhwb3J0IHR5cGUgR2V0SW5kZXg8UD4gPSAocm93OiBWTm9kZTxQPikgPT4gKG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQpO1xuZXhwb3J0IHR5cGUgR2V0VmFsaWQgPSAoaW5kZXg6IG51bWJlcikgPT4gYm9vbGVhbjtcbmV4cG9ydCB0eXBlIEdldEhpZ2hlc3RDaGlsZEluZGV4ID0gKCkgPT4gbnVtYmVyO1xuZXhwb3J0IHR5cGUgQ29tcGFyZTxNIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxudW1iZXI+PiA9IChsaHM6IE0sIHJoczogTSkgPT4gbnVtYmVyO1xuXG4vKipcbiAqIEFsbCBvZiB0aGVzZSBmdW5jdGlvbnMgKipNVVNUKiogYmUgc3RhYmxlIGFjcm9zcyByZW5kZXJzLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnMge1xuXG4gICAgLyoqXG4gICAgICogTXVzdCByZXR1cm4sIGUuZy4sIHRoZSByb3cgaW5kZXggb2YgdGhpcyBjaGlsZFxuICAgICAqIChVc3VhbGx5IGp1c3QgYW4gYGluZGV4YCBwcm9wKVxuICAgICAqL1xuICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgbXVzdCByZXR1cm4gdGhlIGluZGV4IG9mIHRoaXMgY2hpbGQgcmVsYXRpdmUgdG8gYWxsIGl0cyBzb3J0YWJsZSBzaWJsaW5ncy5cbiAgICAgICAgICogXG4gICAgICAgICAqIEluIGdlbmVyYWwsIHRoaXMgY29ycmVzcG9uZHMgdG8gdGhlIGBpbmRleGAgcHJvcCwgc28gc29tZXRoaW5nIGxpa2UgYHZub2RlID0+IHZub2RlLnByb3BzLmluZGV4YCBpcyB3aGF0IHlvdSdyZSB1c3VhbGx5IGxvb2tpbmcgZm9yLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SW5kZXg6IEdldEluZGV4PGFueT47XG5cblxuICAgICAgICBvblJlYXJyYW5nZWQ6IG51bGwgfCAoKCkgPT4gdm9pZCk7XG5cbiAgICAgICAgLyoqIFxuICAgICAgICAgKiBVc2luZyByZWFycmFuZ2VhYmxlIGNoaWxkcmVuIG1lYW5zIHdlIG5lZWQgdG8gYmUgYWJsZSB0byBvdmVycmlkZSBhcnJvdyBrZXkgbmF2aWdhdGlvbixcbiAgICAgICAgICogd2hpY2ggYWxzbyBtZWFucyB0aGF0LCBzb21ld2hlcmUgZG93biB0aGUgcm9hZCwgd2UgbmVlZCB0byBrbm93IHdoaWNoIGNoaWxkcmVuIGFyZSBhcnJvdy1rZXktYWJsZSxcbiAgICAgICAgICoganVzdCBsaWtlIGluIG5vcm1hbCBsaW5lYXIgbmF2aWdhdGlvbi5cbiAgICAgICAgICogXG4gICAgICAgICAqIFxuICAgICAgICAgKiBQU1lDSEUhISBMaW5lYXJOYXZpZ2F0aW9uIHNob3VsZCBiZSB0aGUgb25lIHRvIGRlYWwgd2l0aCBpbmRleCBtYW5nbGVycyBhbmQgZGVtYW5nbGVycywgYW5kIG5vdyBpdCBkb2VzLlxuICAgICAgICAgKi9cbiAgICAgICAgLy9nZXRWYWxpZDogR2V0VmFsaWQ7XG4gICAgICAgIC8vIGdldEhpZ2hlc3RDaGlsZEluZGV4OiBHZXRIaWdoZXN0Q2hpbGRJbmRleDtcbiAgICB9XG59XG5cbi8qKlxuICogQWxsIG9mIHRoZXNlIGZ1bmN0aW9ucyAqKk1VU1QqKiBiZSBzdGFibGUgYWNyb3NzIHJlbmRlcnMuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnM8TSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPj4gZXh0ZW5kcyBVc2VSZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzIHtcbiAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udHJvbHMgaG93IHZhbHVlcyBjb21wYXJlIGFnYWluc3QgZWFjaCBvdGhlciB3aGVuIGBzb3J0YCBpcyBjYWxsZWQuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBJZiBudWxsLCBhIGRlZmF1bHQgc29ydCBpcyB1c2VkIHRoYXQgYXNzdW1lcyBgZ2V0U29ydFZhbHVlYCByZXR1cm5zIGEgdmFsdWUgdGhhdCB3b3JrcyB3ZWxsIHdpdGggdGhlIGAtYCBvcGVyYXRvciAoc28sIGxpa2UsIGEgbnVtYmVyLCBzdHJpbmcsIGBEYXRlYCwgYG51bGxgLCBldGMuKVxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIGxocyBcbiAgICAgICAgICogQHBhcmFtIHJocyBcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBhcmU6IG51bGwgfCBDb21wYXJlPE0+O1xuICAgIH1cbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVyblR5cGU8TSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPj4ge1xuICAgIC8vbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IFBpY2s8VXNlTGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNbXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiXSwgXCJuYXZpZ2F0ZVJlbGF0aXZlXCIgfCBcIm5hdmlnYXRlQWJzb2x1dGVcIj47XG5cbiAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm46IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGFzcyBhbiBhcnJheSBvZiBub3Qtc29ydGVkIGNoaWxkIGluZm9ybWF0aW9uIHRvIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgICogYW5kIHRoZSBjaGlsZHJlbiB3aWxsIHJlLWFycmFuZ2UgdGhlbXNlbHZlcyB0byBtYXRjaC5cbiAgICAgICAgICogIFxuICAgICAgICAgKiAqKlNUQUJMRSoqXG4gICAgICAgICAqICBcbiAgICAgICAgICogXG4gICAgICAgICAqL1xuICAgICAgICByZWFycmFuZ2U6IChyb3dzSW5PcmRlcjogTVtdKSA9PiB2b2lkO1xuXG4gICAgICAgIC8qKiAqKlNUQUJMRSoqICovXG4gICAgICAgIHNodWZmbGU6IChtYW5hZ2VkUm93czogTWFuYWdlZENoaWxkcmVuPE0+KSA9PiBQcm9taXNlPHZvaWQ+IHwgdm9pZDtcblxuICAgICAgICAvKiogXG4gICAgICAgICAqICoqU1RBQkxFKipcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBmdW5jdGlvbiB0YWtlcyBhIGNvbXBvbmVudCdzIG9yaWdpbmFsIGBpbmRleGAgcHJvcCBhbmQgb3V0cHV0cyBhIG5ldyBpbmRleCB0aGF0IHJlcHJlc2VudHMgaXRzIHJlLWFycmFuZ2VkIHBvc2l0aW9uLlxuICAgICAgICAgKiBJbiBjb25qdW5jdGlvbiB3aXRoIGBpbmRleERlbWFuZ2xlcmAsIHRoaXMgY2FuIGJlIHVzZWQgdG8gcGVyZm9ybSBtYXRoIG9uIGluZGljZXMgKGluY3JlbWVudGluZywgZGVjcmVtZW50aW5nLCBldGMuKVxuICAgICAgICAgKiAgXG4gICAgICAgICAqIEUuRy4gdG8gZGVjcmVtZW50IGEgY29tcG9uZW50J3MgaW5kZXggXCJjXCI6IGluZGV4RGVtYW5nbGVyKGluZGV4TWFuZ2xlcihjKSAtIDEpXG4gICAgICAgICAqL1xuICAgICAgICBpbmRleE1hbmdsZXI6IChuOiBudW1iZXIpID0+IG51bWJlcjtcbiAgICAgICAgLyoqICoqU1RBQkxFKiogKi9cbiAgICAgICAgaW5kZXhEZW1hbmdsZXI6IChuOiBudW1iZXIpID0+IG51bWJlcjtcbiAgICAgICAgLyoqICoqU1RBQkxFKiogKi9cbiAgICAgICAgbWFuZ2xlTWFwOiBNdXRhYmxlUmVmPE1hcDxudW1iZXIsIG51bWJlcj4+O1xuICAgICAgICAvKiogKipTVEFCTEUqKiAqL1xuICAgICAgICBkZW1hbmdsZU1hcDogTXV0YWJsZVJlZjxNYXA8bnVtYmVyLCBudW1iZXI+PjtcblxuICAgICAgICAvKiogXG4gICAgICAgICAqICoqU1RBQkxFKipcbiAgICAgICAgICogXG4gICAgICAgICAqIENhbGwgdGhpcyBvbiB5b3VyIHByb3BzICh0aGF0IGNvbnRhaW4gdGhlIGNoaWxkcmVuIHRvIHNvcnQhISkgdG8gYWxsb3cgdGhlbSB0byBiZSBzb3J0YWJsZS5cbiAgICAgICAgICogXG4gICAgICAgICAqL1xuICAgICAgICB1c2VSZWFycmFuZ2VkQ2hpbGRyZW46IChjaGlsZHJlbjogVk5vZGVbXSkgPT4gVk5vZGVbXTsgXG4gICAgICAgIFxuICAgICAgICAgICAgdG9Kc29uQXJyYXkobWFuYWdlZFJvd3M6IE1hbmFnZWRDaGlsZHJlbjxNPiwgdHJhbnNmb3JtPzogKGluZm86IE0pID0+IG9iamVjdCk6IG9iamVjdDtcbiAgICAgICAgXG4gICAgfVxufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU29ydGFibGVDaGlsZHJlblJldHVyblR5cGU8TSBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPj4gZXh0ZW5kcyBVc2VSZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm5UeXBlPE0+IHtcbiAgICBzb3J0YWJsZUNoaWxkcmVuUmV0dXJuOiB7XG4gICAgICAgIC8qKiAqKlNUQUJMRSoqICovXG4gICAgICAgIHNvcnQ6IChtYW5hZ2VkUm93czogTWFuYWdlZENoaWxkcmVuPE0+LCBkaXJlY3Rpb246IFwiYXNjZW5kaW5nXCIgfCBcImRlc2NlbmRpbmdcIikgPT4gUHJvbWlzZTx2b2lkPiB8IHZvaWQ7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVNvcnRhYmxlQ2hpbGRJbmZvIGV4dGVuZHMgTWFuYWdlZENoaWxkSW5mbzxudW1iZXI+IHtcbiAgICBnZXRTb3J0VmFsdWUoKTogdW5rbm93bjtcbn1cblxuXG4vKipcbiAqIEhvb2sgdGhhdCBhbGxvd3MgZm9yIHRoZSAqKmRpcmVjdCBkZXNjZW5kYW50KiogY2hpbGRyZW4gb2YgdGhpcyBjb21wb25lbnQgdG8gYmUgcmUtb3JkZXJlZCBhbmQgc29ydGVkLlxuICogXG4gKiAqVGhpcyBpcyAqKnNlcGFyYXRlKiogZnJvbSBcIm1hbmFnZWRcIiBjaGlsZHJlbiwgd2hpY2ggY2FuIGJlIGFueSBsZXZlbCBvZiBjaGlsZCBuZWVkZWQhIFNvcnRhYmxlL3JlYXJyYW5nZWFibGUgY2hpbGRyZW4gbXVzdCBiZSAqKmRpcmVjdCBkZXNjZW5kYW50cyoqIG9mIHRoZSBwYXJlbnQgdGhhdCB1c2VzIHRoaXMgaG9vayEqXG4gKiBcbiAqIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgaW4gY29uanVuY3Rpb24gd2l0aCBgdXNlTGlzdE5hdmlnYXRpb25gOyBpdCB0YWtlcyB0aGUgc2FtZSBgaW5kZXhNYW5nbGVyYCBhbmQgYGluZGV4RGVtYW5nbGVyYCBcbiAqIGZ1bmN0aW9ucyB0aGF0IHRoaXMgaG9vayByZXR1cm5zLiBgdXNlTGlzdE5hdmlnYXRpb25gIGRvZXMgbm90IGRpcmVjdGx5IHVzZSB0aGlzIGhvb2sgYmVjYXVzZSwgYXMgbWVudGlvbmVkLCBcbiAqIHRoaXMgaG9vayBpbXBvc2VzIHNlcmlvdXMgcmVzdHJpY3Rpb25zIG9uIGNoaWxkIHN0cnVjdHVyZSwgd2hpbGUgYHVzZUxpc3ROYXZpZ2F0aW9uYCBhbGxvd3MgYW55dGhpbmcuXG4gKiBcbiAqIEJlc2lkZXMgdGhlIHByb3AtbW9kaWZ5aW5nIGhvb2sgdGhhdCdzIHJldHVybmVkLCB0aGUgYHNvcnRgIGZ1bmN0aW9uIHRoYXQncyByZXR1cm5lZCB3aWxsXG4gKiBzb3J0IGFsbCBjaGlsZHJlbiBhY2NvcmRpbmcgdG8gdGhlaXIgdmFsdWUgZnJvbSB0aGUgYGdldFZhbHVlYCBhcmd1bWVudCB5b3UgcGFzcyBpbi5cbiAqIFxuICogSWYgeW91IHdhbnQgdG8gcGVyZm9ybSBzb21lIHJlLW9yZGVyaW5nIG9wZXJhdGlvbiB0aGF0J3MgKm5vdCogYSBzb3J0LCB5b3UgY2FuIG1hbnVhbGx5XG4gKiByZS1tYXAgZWFjaCBjaGlsZCdzIHBvc2l0aW9uIHVzaW5nIGBtYW5nbGVNYXBgIGFuZCBgZGVtYW5nbGVNYXBgLCB3aGljaCBjb252ZXJ0IGJldHdlZW5cbiAqIHNvcnRlZCBhbmQgdW5zb3J0ZWQgaW5kZXggcG9zaXRpb25zLlxuICogXG4gKiBBZ2FpbiwgdW5saWtlIHNvbWUgb3RoZXIgaG9va3MsICoqdGhlc2UgY2hpbGRyZW4gbXVzdCBiZSBkaXJlY3QgZGVzY2VuZGFudHMqKi4gVGhpcyBpcyBiZWNhdXNlXG4gKiB0aGUgcHJvcC1tb2RpZnlpbmcgaG9vayBpbnNwZWN0cyB0aGUgZ2l2ZW4gY2hpbGRyZW4sIHRoZW4gcmUtY3JlYXRlcyB0aGVtIHdpdGggbmV3IGBrZXlgcy5cbiAqIEJlY2F1c2Uga2V5cyBhcmUgZ2l2ZW4gc3BlY2lhbCB0cmVhdG1lbnQgYW5kIGEgY2hpbGQgaGFzIG5vIHdheSBvZiBtb2RpZnlpbmcgaXRzIG93biBrZXlcbiAqIHRoZXJlJ3Mgbm8gb3RoZXIgdGltZSBvciBwbGFjZSB0aGlzIGNhbiBoYXBwZW4gb3RoZXIgdGhhbiBleGFjdGx5IHdpdGhpbiB0aGUgcGFyZW50IGNvbXBvbmVudCdzIHJlbmRlciBmdW5jdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVJlYXJyYW5nZWFibGVDaGlsZHJlbjxNIGV4dGVuZHMgVXNlU29ydGFibGVDaGlsZEluZm8+KHtcbiAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IGdldEluZGV4LCBvblJlYXJyYW5nZWQgfVxufTogVXNlUmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyk6IFVzZVJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVyblR5cGU8TT4ge1xuXG4gICAgLy8gVGhlc2UgYXJlIHVzZWQgdG8ga2VlcCB0cmFjayBvZiBhIG1hcHBpbmcgYmV0d2VlbiB1bnNvcnRlZCBpbmRleCA8LS0tPiBzb3J0ZWQgaW5kZXguXG4gICAgLy8gVGhlc2UgYXJlIG5lZWRlZCBmb3IgbmF2aWdhdGlvbiB3aXRoIHRoZSBhcnJvdyBrZXlzLlxuICAgIGNvbnN0IG1hbmdsZU1hcCA9IHVzZVJlZihuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpKTtcbiAgICBjb25zdCBkZW1hbmdsZU1hcCA9IHVzZVJlZihuZXcgTWFwPG51bWJlciwgbnVtYmVyPigpKTtcbiAgICBjb25zdCBpbmRleE1hbmdsZXIgPSB1c2VDYWxsYmFjaygobjogbnVtYmVyKSA9PiAobWFuZ2xlTWFwLmN1cnJlbnQuZ2V0KG4pID8/IG4pLCBbXSk7XG4gICAgY29uc3QgaW5kZXhEZW1hbmdsZXIgPSB1c2VDYWxsYmFjaygobjogbnVtYmVyKSA9PiAoZGVtYW5nbGVNYXAuY3VycmVudC5nZXQobikgPz8gbiksIFtdKTtcbiAgICBjb25zdCBvblJlYXJyYW5nZWRHZXR0ZXIgPSB1c2VTdGFibGVHZXR0ZXIob25SZWFycmFuZ2VkKTtcbiAgICAvL2NvbnN0IHsgc2V0VGFiYmFibGVJbmRleCB9ID0gcm92aW5nVGFiSW5kZXhSZXR1cm47XG5cblxuXG4gICAgY29uc3Qgc2h1ZmZsZSA9IHVzZUNhbGxiYWNrKChtYW5hZ2VkUm93czogTWFuYWdlZENoaWxkcmVuPE0+KTogUHJvbWlzZTx2b2lkPiB8IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBzaHVmZmxlZFJvd3MgPSBsb2Rhc2hTaHVmZmxlKG1hbmFnZWRSb3dzLmFycmF5U2xpY2UoKSlcbiAgICAgICAgcmV0dXJuIHJlYXJyYW5nZShzaHVmZmxlZFJvd3MpO1xuICAgIH0sIFsvKiBNdXN0IHJlbWFpbiBzdGFibGUgKi9dKTtcblxuXG4gICAgLy8gVGhlIHNvcnQgZnVuY3Rpb24gbmVlZHMgdG8gYmUgYWJsZSB0byB1cGRhdGUgd2hvZXZlciBoYXMgYWxsIHRoZSBzb3J0YWJsZSBjaGlsZHJlbi5cbiAgICAvLyBCZWNhdXNlIHRoYXQgbWlnaHQgbm90IGJlIHRoZSBjb25zdW1lciBvZiAqdGhpcyogaG9vayBkaXJlY3RseSAoZS5nLiBhIHRhYmxlIHVzZXNcbiAgICAvLyB0aGlzIGhvb2ssIGJ1dCBpdCdzIHRib2R5IHRoYXQgYWN0dWFsbHkgbmVlZHMgdXBkYXRpbmcpLCB3ZSBuZWVkIHRvIHJlbW90ZWx5XG4gICAgLy8gZ2V0IGFuZCBzZXQgYSBmb3JjZVVwZGF0ZSBmdW5jdGlvbi5cbiAgICAvL2NvbnN0IFtnZXRGb3JjZVVwZGF0ZSwgc2V0Rm9yY2VVcGRhdGVdID0gdXNlUGFzc2l2ZVN0YXRlPG51bGwgfCAoKCkgPT4gdm9pZCk+KG51bGwsIHJldHVybk51bGwpO1xuICAgIGNvbnN0IFtnZXRGb3JjZVVwZGF0ZSwgc2V0Rm9yY2VVcGRhdGVdID0gdXNlUGFzc2l2ZVN0YXRlPG51bGwgfCAoKCkgPT4gdm9pZCksIG5ldmVyPihudWxsLCByZXR1cm5OdWxsKTtcblxuICAgIGNvbnN0IHJlYXJyYW5nZSA9IHVzZUNhbGxiYWNrKChzb3J0ZWRSb3dzOiBNW10pID0+IHtcblxuICAgICAgICBtYW5nbGVNYXAuY3VycmVudC5jbGVhcigpO1xuICAgICAgICBkZW1hbmdsZU1hcC5jdXJyZW50LmNsZWFyKCk7XG5cbiAgICAgICAgLy8gVXBkYXRlIG91ciBzb3J0ZWQgPC0tPiB1bnNvcnRlZCBpbmRpY2VzIG1hcCBcbiAgICAgICAgLy8gYW5kIHJlcmVuZGVyIHRoZSB3aG9sZSB0YWJsZSwgYmFzaWNhbGx5XG4gICAgICAgIGZvciAobGV0IGluZGV4QXNTb3J0ZWQgPSAwOyBpbmRleEFzU29ydGVkIDwgc29ydGVkUm93cy5sZW5ndGg7ICsraW5kZXhBc1NvcnRlZCkge1xuICAgICAgICAgICAgY29uc3QgaW5kZXhBc1Vuc29ydGVkID0gc29ydGVkUm93c1tpbmRleEFzU29ydGVkXS5pbmRleDtcblxuICAgICAgICAgICAgbWFuZ2xlTWFwLmN1cnJlbnQuc2V0KGluZGV4QXNVbnNvcnRlZCwgaW5kZXhBc1NvcnRlZCk7XG4gICAgICAgICAgICBkZW1hbmdsZU1hcC5jdXJyZW50LnNldChpbmRleEFzU29ydGVkLCBpbmRleEFzVW5zb3J0ZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgb25SZWFycmFuZ2VkR2V0dGVyKCk/LigpO1xuICAgICAgICBnZXRGb3JjZVVwZGF0ZSgpPy4oKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCB1c2VSZWFycmFuZ2VkQ2hpbGRyZW4gPSB1c2VDYWxsYmFjaygoY2hpbGRyZW46IFZOb2RlW10pID0+IHtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpO1xuXG4gICAgICAgIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgICAgICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHsgc2V0Rm9yY2VVcGRhdGUoX3ByZXYgPT4gZm9yY2VVcGRhdGUpOyB9LCBbZm9yY2VVcGRhdGVdKVxuXG4gICAgICAgIHJldHVybiAoY2hpbGRyZW4gYXMgVk5vZGU8YW55PltdKVxuICAgICAgICAgICAgLnNsaWNlKClcbiAgICAgICAgICAgIC5tYXAoY2hpbGQgPT4gKHsgY2hpbGQsIG1hbmdsZWRJbmRleDogaW5kZXhNYW5nbGVyKGdldEluZGV4KGNoaWxkKSEpLCBkZW1hbmdsZWRJbmRleDogZ2V0SW5kZXgoY2hpbGQpIH0pKVxuICAgICAgICAgICAgLnNvcnQoKGxocywgcmhzKSA9PiB7IHJldHVybiBsaHMubWFuZ2xlZEluZGV4IC0gcmhzLm1hbmdsZWRJbmRleCB9KVxuICAgICAgICAgICAgLm1hcCgoeyBjaGlsZCwgbWFuZ2xlZEluZGV4LCBkZW1hbmdsZWRJbmRleCB9KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGgoY2hpbGQudHlwZSBhcyBhbnksIHsgLi4uY2hpbGQucHJvcHMsIGtleTogZGVtYW5nbGVkSW5kZXgsIFwiZGF0YS1tYW5nbGVkLWluZGV4XCI6IG1hbmdsZWRJbmRleCwgXCJkYXRhLXVubWFuZ2xlZC1pbmRleFwiOiBkZW1hbmdsZWRJbmRleCB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IHRvSnNvbkFycmF5ID0gdXNlQ2FsbGJhY2soKG1hbmFnZWRSb3dzOiBNYW5hZ2VkQ2hpbGRyZW48TT4sIHRyYW5zZm9ybT86IChpbmZvOiBNKSA9PiBvYmplY3QpID0+IHtcbiAgICAgICAgcmV0dXJuIG1hbmFnZWRSb3dzLmFycmF5U2xpY2UoKS5tYXAoY2hpbGQgPT4ge1xuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybSlcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRyYW5zZm9ybShjaGlsZCkpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC5nZXRTb3J0VmFsdWUoKTtcbiAgICAgICAgfSlcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAvL2xpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7IG5hdmlnYXRlQWJzb2x1dGUsIG5hdmlnYXRlUmVsYXRpdmUgfSxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuOiB7IFxuICAgICAgICAgICAgaW5kZXhNYW5nbGVyLCBcbiAgICAgICAgICAgIGluZGV4RGVtYW5nbGVyLCBcbiAgICAgICAgICAgIG1hbmdsZU1hcCwgXG4gICAgICAgICAgICBkZW1hbmdsZU1hcCwgXG4gICAgICAgICAgICByZWFycmFuZ2UsIFxuICAgICAgICAgICAgc2h1ZmZsZSwgXG4gICAgICAgICAgICB1c2VSZWFycmFuZ2VkQ2hpbGRyZW4sXG4gICAgICAgICAgICB0b0pzb25BcnJheVxuICAgICAgICAgfVxuICAgIH07XG59XG5cblxuLyoqXG4gKiBIb29rIHRoYXQgYWxsb3dzIGZvciB0aGUgKipkaXJlY3QgZGVzY2VuZGFudCoqIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9uZW50IHRvIGJlIHJlLW9yZGVyZWQgYW5kIHNvcnRlZC5cbiAqIFxuICogKlRoaXMgaXMgKipzZXBhcmF0ZSoqIGZyb20gXCJtYW5hZ2VkXCIgY2hpbGRyZW4sIHdoaWNoIGNhbiBiZSBhbnkgbGV2ZWwgb2YgY2hpbGQgbmVlZGVkISBTb3J0YWJsZS9yZWFycmFuZ2VhYmxlIGNoaWxkcmVuIG11c3QgYmUgKipkaXJlY3QgZGVzY2VuZGFudHMqKiBvZiB0aGUgcGFyZW50IHRoYXQgdXNlcyB0aGlzIGhvb2shKiBcbiAqIFxuICogSXQncyByZWNvbW1lbmRlZCB0byB1c2UgdGhpcyBpbiBjb25qdW5jdGlvbiB3aXRoIGB1c2VMaXN0TmF2aWdhdGlvbmA7IGl0IHRha2VzIHRoZSBzYW1lIGBpbmRleE1hbmdsZXJgIGFuZCBgaW5kZXhEZW1hbmdsZXJgIFxuICogZnVuY3Rpb25zIHRoYXQgdGhpcyBob29rIHJldHVybnMuIGB1c2VMaXN0TmF2aWdhdGlvbmAgZG9lcyBub3QgZGlyZWN0bHkgdXNlIHRoaXMgaG9vayBiZWNhdXNlLCBhcyBtZW50aW9uZWQsIFxuICogdGhpcyBob29rIGltcG9zZXMgc2VyaW91cyByZXN0cmljdGlvbnMgb24gY2hpbGQgc3RydWN0dXJlLCB3aGlsZSBgdXNlTGlzdE5hdmlnYXRpb25gIGFsbG93cyBhbnl0aGluZy5cbiAqIFxuICogQmVzaWRlcyB0aGUgcHJvcC1tb2RpZnlpbmcgaG9vayB0aGF0J3MgcmV0dXJuZWQsIHRoZSBgc29ydGAgZnVuY3Rpb24gdGhhdCdzIHJldHVybmVkIHdpbGxcbiAqIHNvcnQgYWxsIGNoaWxkcmVuIGFjY29yZGluZyB0byB0aGVpciB2YWx1ZSBmcm9tIHRoZSBgZ2V0VmFsdWVgIGFyZ3VtZW50IHlvdSBwYXNzIGluLlxuICogXG4gKiBJZiB5b3Ugd2FudCB0byBwZXJmb3JtIHNvbWUgcmUtb3JkZXJpbmcgb3BlcmF0aW9uIHRoYXQncyAqbm90KiBhIHNvcnQsIHlvdSBjYW4gbWFudWFsbHlcbiAqIHJlLW1hcCBlYWNoIGNoaWxkJ3MgcG9zaXRpb24gdXNpbmcgYG1hbmdsZU1hcGAgYW5kIGBkZW1hbmdsZU1hcGAsIHdoaWNoIGNvbnZlcnQgYmV0d2VlblxuICogc29ydGVkIGFuZCB1bnNvcnRlZCBpbmRleCBwb3NpdGlvbnMuXG4gKiBcbiAqIEFnYWluLCB1bmxpa2Ugc29tZSBvdGhlciBob29rcywgKip0aGVzZSBjaGlsZHJlbiBtdXN0IGJlIGRpcmVjdCBkZXNjZW5kYW50cyoqLiBUaGlzIGlzIGJlY2F1c2VcbiAqIHRoZSBwcm9wLW1vZGlmeWluZyBob29rIGluc3BlY3RzIHRoZSBnaXZlbiBjaGlsZHJlbiwgdGhlbiByZS1jcmVhdGVzIHRoZW0gd2l0aCBuZXcgYGtleWBzLlxuICogQmVjYXVzZSBrZXlzIGFyZSBnaXZlbiBzcGVjaWFsIHRyZWF0bWVudCBhbmQgYSBjaGlsZCBoYXMgbm8gd2F5IG9mIG1vZGlmeWluZyBpdHMgb3duIGtleVxuICogdGhlcmUncyBubyBvdGhlciB0aW1lIG9yIHBsYWNlIHRoaXMgY2FuIGhhcHBlbiBvdGhlciB0aGFuIGV4YWN0bHkgd2l0aGluIHRoZSBwYXJlbnQgY29tcG9uZW50J3MgcmVuZGVyIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlU29ydGFibGVDaGlsZHJlbjxNIGV4dGVuZHMgVXNlU29ydGFibGVDaGlsZEluZm8+KHtcbiAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IGNvbXBhcmU6IHVzZXJDb21wYXJlIH1cbn06IFVzZVNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzPE0+KTogVXNlU29ydGFibGVDaGlsZHJlblJldHVyblR5cGU8TT4ge1xuXG4gICAgY29uc3QgZ2V0Q29tcGFyZSA9IHVzZVN0YWJsZUdldHRlcjxDb21wYXJlPE0+Pih1c2VyQ29tcGFyZSA/PyBkZWZhdWx0Q29tcGFyZSk7XG5cbiAgICBjb25zdCB7IHJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVybiB9ID0gdXNlUmVhcnJhbmdlYWJsZUNoaWxkcmVuPE0+KHsgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyB9KTtcbiAgICBjb25zdCB7IHJlYXJyYW5nZSB9ID0gcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuO1xuICAgIC8vIFRoZSBhY3R1YWwgc29ydCBmdW5jdGlvbi5cbiAgICBjb25zdCBzb3J0ID0gdXNlQ2FsbGJhY2soKG1hbmFnZWRSb3dzOiBNYW5hZ2VkQ2hpbGRyZW48TT4sIGRpcmVjdGlvbjogXCJhc2NlbmRpbmdcIiB8IFwiZGVzY2VuZGluZ1wiKTogUHJvbWlzZTx2b2lkPiB8IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBjb21wYXJlID0gZ2V0Q29tcGFyZSgpO1xuXG4gICAgICAgIGNvbnN0IHNvcnRlZFJvd3MgPSBjb21wYXJlID8gbWFuYWdlZFJvd3MuYXJyYXlTbGljZSgpLnNvcnQoKGxoc1JvdywgcmhzUm93KSA9PiB7XG5cbiAgICAgICAgICAgIGNvbnN0IGxoc1ZhbHVlID0gbGhzUm93O1xuICAgICAgICAgICAgY29uc3QgcmhzVmFsdWUgPSByaHNSb3c7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjb21wYXJlKGxoc1ZhbHVlLCByaHNWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uWzBdID09IFwiZFwiKVxuICAgICAgICAgICAgICAgIHJldHVybiAtcmVzdWx0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgICAgICB9KSA6IG1hbmFnZWRSb3dzLmFycmF5U2xpY2UoKTtcblxuICAgICAgICByZXR1cm4gcmVhcnJhbmdlKHNvcnRlZFJvd3MpO1xuXG4gICAgfSwgWyAvKiBNdXN0IHJlbWFpbiBzdGFibGUgKi9dKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5SZXR1cm46IHsgc29ydCB9LFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm5cbiAgICB9O1xufVxuXG4vKmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JvdXBlZFNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzPE0gZXh0ZW5kcyBHcm91cGVkU29ydGVkQ2hpbGRJbmZvPiB7XG4gICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuOiBVc2VNYW5hZ2VkQ2hpbGRyZW5SZXR1cm5UeXBlPE0+W1wibWFuYWdlZENoaWxkcmVuUmV0dXJuXCJdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JvdXBlZFNvcnRhYmxlQ2hpbGRyZW4ge1xuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiBQaWNrPFVzZUxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzW1wibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIl0sIFwiaW5kZXhEZW1hbmdsZXJcIiB8IFwiaW5kZXhNYW5nbGVyXCI+XG59Ki9cblxuLyoqXG4gKiBJdCdzIGNvbW1vbiBlbm91Z2ggdG8gaGF2ZSwgZS5nLiwgYSBsaXN0IHdpdGggbXVsdGlwbGUgc29ydGFibGUgZ3JvdXBzLCBhIHRhYmxlIHdoZXJlIHRoZSBib2R5IGlzIHNvcnRlZCBpbmRlcGVuZGVudGx5IG9mIHRoZSBoZWFkLCBldGMuLi5cbiAqIFxuICogQSBzb3J0YWJsZSBncm91cCBhc3N1bWVzIHRoYXQgdGhlIHBhcmVudCAod2hpY2ggYWxzbyBjYWxscyB0aGlzIGhvb2spIGhhbmRsZXMgbGlzdCBuYXZpZ2F0aW9uIChvciBzaW1pbGFyKSxcbiAqIGFuZCB0aGF0IGVhY2ggZ3JvdXAgZWxlbWVudCAod2hpY2ggY2FuIGFsc28gYmUgdGhlIGxpc3QgcGFyZW50LCBpZiB0aGVyZSBhcmUgTk8gZ3JvdXBzKSBoYW5kbGVzIHNvcnRpbmcgKG9yIHNpbWlsYXIpLlxuICovXG4vKmV4cG9ydCBmdW5jdGlvbiB1c2VHcm91cGVkU29ydGFibGVDaGlsZHJlbjxNIGV4dGVuZHMgR3JvdXBlZFNvcnRlZENoaWxkSW5mbz4oeyBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IHsgZ2V0Q2hpbGRyZW4gfSB9OiBVc2VHcm91cGVkU29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnM8TT4pOiBVc2VHcm91cGVkU29ydGFibGVDaGlsZHJlbiB7XG4gICAgY29uc3QgYWxsSW5kZXhNYW5nbGVycyA9IHVzZVJlZjxNYXA8bnVtYmVyLCAoaTogbnVtYmVyKSA9PiBudW1iZXI+PihuZXcgTWFwKCkpO1xuICAgIGNvbnN0IGFsbEluZGV4RGVtYW5nbGVycyA9IHVzZVJlZjxNYXA8bnVtYmVyLCAoaTogbnVtYmVyKSA9PiBudW1iZXI+PihuZXcgTWFwKCkpO1xuICAgIGNvbnN0IGluZGV4TWFuZ2xlciA9IHVzZUNhbGxiYWNrKChpOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGdldENoaWxkcmVuKCkuZ2V0QXQoaSk7XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgbGV0IGluZGV4TWFuZ2xlckZvclRoaXNMb2NhdGlvbiA9IGFsbEluZGV4TWFuZ2xlcnMuY3VycmVudC5nZXQoY2hpbGQubG9jYXRpb25JbmRleCk7XG4gICAgICAgICAgICByZXR1cm4gKGluZGV4TWFuZ2xlckZvclRoaXNMb2NhdGlvbiA/PyBpZGVudGl0eSkoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkZW50aXR5KGkpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBpbmRleERlbWFuZ2xlciA9IHVzZUNhbGxiYWNrKChpOiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGdldENoaWxkcmVuKCkuZ2V0QXQoaSk7XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgbGV0IGluZGV4RGVtYW5nbGVyRm9yVGhpc0xvY2F0aW9uID0gYWxsSW5kZXhEZW1hbmdsZXJzLmN1cnJlbnQuZ2V0KGNoaWxkLmxvY2F0aW9uSW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIChpbmRleERlbWFuZ2xlckZvclRoaXNMb2NhdGlvbiA/PyBpZGVudGl0eSkoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkZW50aXR5KGkpO1xuICAgIH0sIFtdKTtcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGluZGV4TWFuZ2xlcixcbiAgICAgICAgICAgIGluZGV4RGVtYW5nbGVyXG4gICAgICAgIH1cbiAgICB9XG59Ki9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRDb21wYXJlKGxoczogVXNlU29ydGFibGVDaGlsZEluZm8gfCB1bmRlZmluZWQsIHJoczogVXNlU29ydGFibGVDaGlsZEluZm8gfCB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gY29tcGFyZTEobGhzPy5nZXRTb3J0VmFsdWUoKSwgcmhzPy5nZXRTb3J0VmFsdWUoKSk7XG5cbiAgICBmdW5jdGlvbiBjb21wYXJlMShsaHM6IHVua25vd24gfCB1bmRlZmluZWQsIHJoczogdW5rbm93biB8IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAobGhzID09IG51bGwgfHwgcmhzID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChsaHMgPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAocmhzID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKGxocyBhcyBhbnkpIC0gKHJocyBhcyBhbnkpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHVzZUdyaWROYXZpZ2F0aW9uQ2VsbCwgVXNlR3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVycywgVXNlR3JpZE5hdmlnYXRpb25DZWxsUmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1ncmlkLW5hdmlnYXRpb24tcGFydGlhbFwiO1xuaW1wb3J0IHsgR3JpZFNpbmdsZVNlbGVjdENoaWxkQ2VsbEluZm8sIEdyaWRTaW5nbGVTZWxlY3RDaGlsZFJvd0luZm8sIHVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uLCBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnMsIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUmV0dXJuVHlwZSwgdXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Sb3csIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUm93UGFyYW1ldGVycywgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Sb3dSZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLWdyaWQtbmF2aWdhdGlvbi1zaW5nbGUtc2VsZWN0aW9uXCI7XG4vL2ltcG9ydCB7IFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycywgVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm5UeXBlSW5mbywgVXNlU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVycywgVXNlU2luZ2xlU2VsZWN0aW9uUmV0dXJuVHlwZUluZm8gfSBmcm9tIFwiLi91c2Utc2luZ2xlLXNlbGVjdGlvblwiO1xuaW1wb3J0IHsgVXNlU29ydGFibGVDaGlsZEluZm8sIHVzZVNvcnRhYmxlQ2hpbGRyZW4sIFVzZVNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLCBVc2VTb3J0YWJsZUNoaWxkcmVuUmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1zb3J0YWJsZS1jaGlsZHJlblwiO1xuXG50eXBlIE9taXRTdHJvbmc8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gT21pdDxULCBLPlxuXG4vKipcbiAqIExpa2UgbGlzdCBuYXZpZ2F0aW9uIHNpbmdsZSBzZWxlY3Rpb24gc29ydGFibGUgZXRjLiBldGMuIGV0Yy5cbiAqIFxuICogVGhlIGNvbWJpbmF0aW9ucyBhcmUgZ2V0dGluZyBhIGJpdCBzaWxseSBidXQgSSBzd2VhciB0aGlzIGlzIHRoZSBsYXN0IG9uZS5cbiAqL1xuY29uc3QgX2R1bW15ID0gMDtcblxuZXhwb3J0IGludGVyZmFjZSBHcmlkU2luZ2xlU2VsZWN0U29ydGFibGVDaGlsZFJvd0luZm88Um93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBHcmlkU2luZ2xlU2VsZWN0Q2hpbGRSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgVXNlU29ydGFibGVDaGlsZEluZm8geyB9XG5leHBvcnQgaW50ZXJmYWNlIEdyaWRTaW5nbGVTZWxlY3RTb3J0YWJsZUNoaWxkQ2VsbEluZm88Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RDaGlsZENlbGxJbmZvPENlbGxFbGVtZW50PiB7XG4gICAgLy9nZXRTb3J0VmFsdWU6IFVzZVNvcnRhYmxlQ2hpbGRJbmZvW1wiZ2V0U29ydFZhbHVlXCJdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVQYXJhbWV0ZXJzPFBhcmVudE9yUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBHcmlkU2luZ2xlU2VsZWN0Q2hpbGRSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50Pj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBNPiwgXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPiwgVXNlU29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnM8TT4ge1xuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBNPltcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCJdLCBcImluZGV4TWFuZ2xlclwiIHwgXCJpbmRleERlbWFuZ2xlclwiPlxufVxuZXhwb3J0IGludGVyZmFjZSBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUmV0dXJuVHlwZTxQYXJlbnRPclJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RTb3J0YWJsZUNoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdFNvcnRhYmxlQ2hpbGRDZWxsSW5mbzxDZWxsRWxlbWVudD4+IGV4dGVuZHMgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4sIFVzZVNvcnRhYmxlQ2hpbGRyZW5SZXR1cm5UeXBlPFJNPiB7IH1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvd1BhcmFtZXRlcnM8Um93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgX1JNIGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdENoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdENoaWxkQ2VsbEluZm88Q2VsbEVsZW1lbnQ+PiBleHRlbmRzIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgX1JNLCBDTT4geyB9XG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVSb3dSZXR1cm5UeXBlPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Sb3dSZXR1cm5UeXBlPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiB7IH1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZUNlbGxQYXJhbWV0ZXJzPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlR3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4geyB9XG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDZWxsUmV0dXJuVHlwZTxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlR3JpZE5hdmlnYXRpb25DZWxsUmV0dXJuVHlwZTxDZWxsRWxlbWVudD4geyB9XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlPFBhcmVudE9yUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdFNvcnRhYmxlQ2hpbGRSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkU2luZ2xlU2VsZWN0U29ydGFibGVDaGlsZENlbGxJbmZvPENlbGxFbGVtZW50Pj4oe1xuICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgLi4uZ3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzXG59OiBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUGFyYW1ldGVyczxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTT4pOiBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUmV0dXJuVHlwZTxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+IHtcbiAgICBjb25zdCB7IC4uLnNjciB9ID0gdXNlU29ydGFibGVDaGlsZHJlbjxSTT4oeyByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLCBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVycyB9KTtcbiAgICBjb25zdCB7IHJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVybjogeyBpbmRleERlbWFuZ2xlciwgaW5kZXhNYW5nbGVyIH0gfSA9IHNjcjtcbiAgICBjb25zdCBnbnIgPSB1c2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbjxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+KHtcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHsgaW5kZXhEZW1hbmdsZXIsIGluZGV4TWFuZ2xlciwgLi4ubGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMgfSxcbiAgICAgICAgLi4uZ3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzXG4gICAgfSk7XG5cbiAgICByZXR1cm4geyAuLi5nbnIsIC4uLnNjciwgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvdzxSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RTb3J0YWJsZUNoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdFNvcnRhYmxlQ2hpbGRDZWxsSW5mbzxDZWxsRWxlbWVudD4+KHA6IFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVSb3dQYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+KTogVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvd1JldHVyblR5cGU8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+IHtcbiAgICByZXR1cm4gdXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Sb3c8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4ocCk7XG59XG5cbi8vIEVaXG5leHBvcnQgZnVuY3Rpb24gdXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZUNlbGw8Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PihwOiBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlQ2VsbFBhcmFtZXRlcnM8YW55LCBDZWxsRWxlbWVudD4pOiBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlQ2VsbFJldHVyblR5cGU8Q2VsbEVsZW1lbnQ+IHtcbiAgICByZXR1cm4gdXNlR3JpZE5hdmlnYXRpb25DZWxsPENlbGxFbGVtZW50PihwKTtcbn0iLCJpbXBvcnQgeyBhc3NlcnRFbXB0eU9iamVjdCB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuaW1wb3J0IHsgdXNlTGlzdE5hdmlnYXRpb24sIHVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGQsIFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRJbmZvLCBVc2VMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycywgVXNlTGlzdE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGUsIFVzZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVycywgVXNlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLWxpc3QtbmF2aWdhdGlvbi1wYXJ0aWFsXCI7XG5pbXBvcnQgeyBTZWxlY3RhYmxlQ2hpbGRJbmZvLCB1c2VTaW5nbGVTZWxlY3Rpb24sIHVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkLCBVc2VTaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnMsIFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuVHlwZSwgVXNlU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVycywgVXNlU2luZ2xlU2VsZWN0aW9uUmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1zaW5nbGUtc2VsZWN0aW9uXCI7XG5cbnR5cGUgT21pdFN0cm9uZzxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+XG5cbi8qKlxuICogV2UncmUganVzdCBnbHVpbmcgdG9nZXRoZXIgdGhlIGxpc3QgbmF2aWdhdGlvbiBhbmQgc2luZ2xlIHNlbGVjdGlvbiBob29rcyxcbiAqIHNpbmNlIHRoZXkncmUgc28gY29tbW9ubHkgcGFpcmVkIHRvZ2V0aGVyLiBBbHNvIHNlZSB0aGUgb25lIHRoYXQgaW5jbHVkZXMgc29ydGluZy5cbiAqL1xuY29uc3QgX2R1bW15ID0gMDtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNoaWxkSW5mbzxUYWJiYWJsZUNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88VGFiYmFibGVDaGlsZEVsZW1lbnQ+LCBTZWxlY3RhYmxlQ2hpbGRJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50PiB7IH1cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxQYXJlbnRPckNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+PiBleHRlbmRzXG4gICAgVXNlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzPFBhcmVudE9yQ2hpbGRFbGVtZW50LCBDaGlsZEVsZW1lbnQsIE0+LFxuICAgIE9taXRTdHJvbmc8VXNlU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+LCBcInJvdmluZ1RhYkluZGV4UmV0dXJuXCI+IHtcbiAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IFVzZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVyczxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPltcIm1hbmFnZWRDaGlsZHJlblJldHVyblwiXSAmIFVzZVNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PltcIm1hbmFnZWRDaGlsZHJlblJldHVyblwiXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJldHVyblR5cGU8UGFyZW50T3JDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZUxpc3ROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50PiwgVXNlU2luZ2xlU2VsZWN0aW9uUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQ+IHsgfVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb248UGFyZW50T3JDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25DaGlsZEluZm88Q2hpbGRFbGVtZW50Pj4oe1xuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyxcbiAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzLFxuICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAuLi5fdm9pZDNcbn06IFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPik6IFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUmV0dXJuVHlwZTxQYXJlbnRPckNoaWxkRWxlbWVudCwgQ2hpbGRFbGVtZW50PiB7XG4gICAgY29uc3QgbG5yID0gdXNlTGlzdE5hdmlnYXRpb248UGFyZW50T3JDaGlsZEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4oeyBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycywgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLCB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycywgbWFuYWdlZENoaWxkcmVuUmV0dXJuIH0pO1xuICAgIGNvbnN0IHsgcm92aW5nVGFiSW5kZXhSZXR1cm4gfSA9IGxucjtcbiAgICBjb25zdCBzc3IgPSB1c2VTaW5nbGVTZWxlY3Rpb248Q2hpbGRFbGVtZW50Pih7IHJvdmluZ1RhYkluZGV4UmV0dXJuLCBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sIHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnMgfSk7XG5cbiAgICBhc3NlcnRFbXB0eU9iamVjdChfdm9pZDMpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3NyLFxuICAgICAgICAuLi5sbnIsXG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PiwgVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudD4ge1xuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IFVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudD5bXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCJdICYgVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzPENoaWxkRWxlbWVudD5bXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCJdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlTGlzdE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGU8Q2hpbGRFbGVtZW50PiwgVXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD4ge1xuICAgIHByZXNzUGFyYW1ldGVyczogVXNlTGlzdE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGU8Q2hpbGRFbGVtZW50PltcInByZXNzUGFyYW1ldGVyc1wiXSAmIFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQ+W1wicHJlc3NQYXJhbWV0ZXJzXCJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25DaGlsZDxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCwgLi4uX3ZvaWQ1IH0sXG4gICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuLCAuLi52b2lkNyB9LFxuICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICBzaW5nbGVTZWxlY3Rpb25Db250ZXh0LFxuICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0LFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQsXG4gICAgcmVmRWxlbWVudFJldHVybixcbiAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgLi4uX3ZvaWQxXG59OiBVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+KTogVXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVyblR5cGU8Q2hpbGRFbGVtZW50PiB7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnM6IHsgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZDogb2NmaWMyLCAuLi5fdm9pZDMgfSxcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7IG9uUHJlc3NTeW5jIH0sXG4gICAgICAgIC4uLnNzY3JcbiAgICB9ID0gdXNlU2luZ2xlU2VsZWN0aW9uQ2hpbGQ8Q2hpbGRFbGVtZW50Pih7XG4gICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25Db250ZXh0XG4gICAgfSk7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnM6IHsgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZDogb2NmaWMxLCAuLi5fdm9pZDYgfSxcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7IGV4Y2x1ZGVTcGFjZSB9LFxuICAgICAgICAuLi5sbmNyXG4gICAgfSA9IHVzZUxpc3ROYXZpZ2F0aW9uQ2hpbGQ8Q2hpbGRFbGVtZW50Pih7XG4gICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuIH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnNcbiAgICB9KTtcblxuICAgIGFzc2VydEVtcHR5T2JqZWN0KF92b2lkMSk7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3QoX3ZvaWQzKTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdChfdm9pZDUpO1xuICAgIGFzc2VydEVtcHR5T2JqZWN0KF92b2lkNik7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3Qodm9pZDcpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZDogdXNlU3RhYmxlQ2FsbGJhY2soKGZvY3VzZWQsIHByZXZpb3VzbHlGb2N1c2VkLCBlKSA9PiB7XG4gICAgICAgICAgICAgICAgb2NmaWMxPy4oZm9jdXNlZCwgcHJldmlvdXNseUZvY3VzZWQsIGUpO1xuICAgICAgICAgICAgICAgIG9jZmljMj8uKGZvY3VzZWQsIHByZXZpb3VzbHlGb2N1c2VkLCBlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHByZXNzUGFyYW1ldGVyczogeyBvblByZXNzU3luYywgZXhjbHVkZVNwYWNlIH0sXG4gICAgICAgIC4uLnNzY3IsXG4gICAgICAgIC4uLmxuY3JcbiAgICB9XG59XG4iLCIvKipcbiAqIFRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGZpcnN0IGFyZ3VtZW50IGl0IHJlY2VpdmVzLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBVdGlsXG4gKiBAcGFyYW0geyp9IHZhbHVlIEFueSB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICpcbiAqIGNvbnNvbGUubG9nKF8uaWRlbnRpdHkob2JqZWN0KSA9PT0gb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gaWRlbnRpdHkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpZGVudGl0eTtcbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlTGF5b3V0RWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBVc2VNYW5hZ2VkQ2hpbGRyZW5SZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1tYW5hZ2VkLWNoaWxkcmVuXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVPYmplY3QgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1nZXR0ZXJcIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGF0ZVwiO1xuaW1wb3J0IHsgVXNlTGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMgfSBmcm9tIFwiLi91c2UtbGluZWFyLW5hdmlnYXRpb25cIjtcbmltcG9ydCB7IFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvIH0gZnJvbSBcIi4vdXNlLXJvdmluZy10YWJpbmRleFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVBhZ2luYXRlZENoaWxkcmVuSW5mbzxFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VSb3ZpbmdUYWJJbmRleENoaWxkSW5mbzxFPiB7XG4gICAgc2V0UGFyZW50SXNQYWdpbmF0ZWQocGFyZW50SXNQYWdpbmF0ZWQ6IGJvb2xlYW4pOiB2b2lkO1xuICAgIHNldFBhZ2luYXRpb25WaXNpYmxlKHZpc2libGU6IGJvb2xlYW4pOiB2b2lkO1xuICAgIHNldENoaWxkQ291bnRJZlBhZ2luYXRlZChjb3VudDogbnVtYmVyKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VQYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnM8RSBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VQYWdpbmF0ZWRDaGlsZHJlbkluZm88RT4+IHtcbiAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IFVzZU1hbmFnZWRDaGlsZHJlblJldHVyblR5cGU8TT5bXCJtYW5hZ2VkQ2hpbGRyZW5SZXR1cm5cIl07XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IFBpY2s8VXNlTGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM8YW55LCBFPltcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCJdLCBcImluZGV4RGVtYW5nbGVyXCI+O1xuICAgIHBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyczogeyBwYWdpbmF0aW9uTWluOiBudW1iZXIgfCBudWxsOyBwYWdpbmF0aW9uTWF4OiBudW1iZXIgfCBudWxsOyB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUGFnaW5hdGVkQ2hpbGRDb250ZXh0IHtcbiAgICBwYWdpbmF0ZWRDaGlsZENvbnRleHQ6IHtcbiAgICAgICAgZ2V0RGVmYXVsdElzUGFnaW5hdGVkKCk6IGJvb2xlYW47XG4gICAgICAgIGdldERlZmF1bHRQYWdpbmF0aW9uVmlzaWJsZShpOiBudW1iZXIpOiBib29sZWFuO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VQYWdpbmF0ZWRDaGlsZHJlblJldHVyblR5cGUge1xuICAgIG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgb25DaGlsZENvdW50Q2hhbmdlOiAoY291bnQ6IG51bWJlcikgPT4gdm9pZDtcbiAgICB9O1xuICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuOiB7XG4gICAgICAgIHJlZnJlc2hQYWdpbmF0aW9uOiAobWluOiBudW1iZXIgfCBudWxsLCBtYXg6IG51bWJlciB8IG51bGwpID0+IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAqKklNUE9SVEFOVCoqOiBUaGlzIGlzIG9ubHkgdHJhY2tlZCB3aGVuIHBhZ2luYXRpb24gaXMgZW5hYmxlZC5cbiAgICAgICAgICogXG4gICAgICAgICAqIElmIHBhZ2luYXRpb24gaXMgbm90IGVuYWJsZWQsIHRoaXMgaXMgZWl0aGVyIGBudWxsYCBvciBzb21lIHVuZGVmaW5lZCBwcmV2aW91cyBudW1iZXIuXG4gICAgICAgICAqL1xuICAgICAgICBjaGlsZENvdW50OiBudW1iZXIgfCBudWxsO1xuICAgIH07XG4gICAgY29udGV4dDogVXNlUGFnaW5hdGVkQ2hpbGRDb250ZXh0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlUGFnaW5hdGVkQ2hpbGRyZW48RSBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VQYWdpbmF0ZWRDaGlsZHJlbkluZm88RT4+KHtcbiAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IHsgZ2V0Q2hpbGRyZW4gfSxcbiAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogeyBpbmRleERlbWFuZ2xlciB9LFxuICAgIHBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyczogeyBwYWdpbmF0aW9uTWF4LCBwYWdpbmF0aW9uTWluIH0gfTogVXNlUGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzPEUsIE0+KTogVXNlUGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm5UeXBlIHtcblxuICAgIGNvbnN0IFtjaGlsZENvdW50LCBzZXRDaGlsZENvdW50XSA9IHVzZVN0YXRlKG51bGwgYXMgbnVtYmVyIHwgbnVsbCk7XG4gICAgY29uc3QgcGFyZW50SXNQYWdpbmF0ZWQgPSAocGFnaW5hdGlvbk1pbiAhPSBudWxsIHx8IHBhZ2luYXRpb25NYXggIT0gbnVsbCk7XG5cbiAgICBjb25zdCBsYXN0UGFnaW5hdGlvbiA9IHVzZVJlZih7IHBhZ2luYXRpb25NYXg6IG51bGwgYXMgbnVsbCB8IG51bWJlciwgcGFnaW5hdGlvbk1pbjogbnVsbCBhcyBudWxsIHwgbnVtYmVyIH0pO1xuICAgIGNvbnN0IHJlZnJlc2hQYWdpbmF0aW9uID0gdXNlQ2FsbGJhY2soKHBhZ2luYXRpb25NaW46IG51bWJlciB8IG51bGwsIHBhZ2luYXRpb25NYXg6IG51bWJlciB8IG51bGwpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGRNYXggPSAoZ2V0Q2hpbGRyZW4oKS5nZXRIaWdoZXN0SW5kZXgoKSArIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBjaGlsZE1heDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCB2aXNpYmxlID0gKGkgPj0gKHBhZ2luYXRpb25NaW4gPz8gLUluZmluaXR5KSAmJiBpIDwgKHBhZ2luYXRpb25NYXggPz8gSW5maW5pdHkpKTtcbiAgICAgICAgICAgIGdldENoaWxkcmVuKCkuZ2V0QXQoaW5kZXhEZW1hbmdsZXIoaSkpPy5zZXRQYXJlbnRJc1BhZ2luYXRlZChwYXJlbnRJc1BhZ2luYXRlZCk7XG4gICAgICAgICAgICBnZXRDaGlsZHJlbigpLmdldEF0KGluZGV4RGVtYW5nbGVyKGkpKT8uc2V0UGFnaW5hdGlvblZpc2libGUodmlzaWJsZSk7XG4gICAgICAgICAgICBpZiAodmlzaWJsZSlcbiAgICAgICAgICAgICAgICBnZXRDaGlsZHJlbigpLmdldEF0KGluZGV4RGVtYW5nbGVyKGkpKT8uc2V0Q2hpbGRDb3VudElmUGFnaW5hdGVkKGdldENoaWxkcmVuKCkuZ2V0SGlnaGVzdEluZGV4KCkgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgfSwgWy8qIE11c3QgYmUgZW1wdHkgKi9dKVxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlZnJlc2hQYWdpbmF0aW9uKHBhZ2luYXRpb25NaW4sIHBhZ2luYXRpb25NYXgpO1xuICAgICAgICBsYXN0UGFnaW5hdGlvbi5jdXJyZW50LnBhZ2luYXRpb25NYXggPSBwYWdpbmF0aW9uTWF4O1xuICAgICAgICBsYXN0UGFnaW5hdGlvbi5jdXJyZW50LnBhZ2luYXRpb25NaW4gPSBwYWdpbmF0aW9uTWluO1xuICAgIH0sIFtwYWdpbmF0aW9uTWF4LCBwYWdpbmF0aW9uTWluXSk7XG5cbiAgICAvLyBUT0RPOiBNb2RpZmljYXRpb24gZHVyaW5nIHJlbmRlclxuICAgIGNvbnN0IHAgPSB1c2VSZWYocGFyZW50SXNQYWdpbmF0ZWQpO1xuICAgIHAuY3VycmVudCA9IHBhcmVudElzUGFnaW5hdGVkO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dDogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgIHBhZ2luYXRlZENoaWxkQ29udGV4dDogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0SXNQYWdpbmF0ZWQ6IHVzZUNhbGxiYWNrKCgpID0+IHsgcmV0dXJuIHAuY3VycmVudDsgfSwgW10pLFxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgb25seSB1c2VkIGR1cmluZyBzZXRTdGF0ZSBvbiBtb3VudCwgc28gdGhpcyBpcyBmaW5lLlxuICAgICAgICAgICAgICAgIC8vIChJZiB3ZSBjaGFuZ2UgZnJvbSBwYWdpbmF0ZWQgdG8gbm90IHBhZ2luYXRlZCwgdGhpcyBpcyBjYXVnaHQgZHVyaW5nIHVzZUxheW91dEVmZmVjdClcbiAgICAgICAgICAgICAgICBnZXREZWZhdWx0UGFnaW5hdGlvblZpc2libGU6IHVzZUNhbGxiYWNrKChpKSA9PiB7IHJldHVybiBwYXJlbnRJc1BhZ2luYXRlZCA/IChpID49IChwYWdpbmF0aW9uTWluID8/IC1JbmZpbml0eSkgJiYgaSA8IChwYWdpbmF0aW9uTWF4ID8/IEluZmluaXR5KSkgOiB0cnVlOyB9LCBbXSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvbkNoaWxkQ291bnRDaGFuZ2U6IHVzZVN0YWJsZUNhbGxiYWNrKChjb3VudDogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhZ2luYXRpb25NYXggIT0gbnVsbCB8fCBwYWdpbmF0aW9uTWluICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0Q2hpbGRDb3VudChjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbiA9IChwYWdpbmF0aW9uTWluID8/IDApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXggPSAocGFnaW5hdGlvbk1heCA/PyBjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBtaW47IGkgPCBtYXg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Q2hpbGRyZW4oKS5nZXRBdChpKT8uc2V0UGFyZW50SXNQYWdpbmF0ZWQocGFyZW50SXNQYWdpbmF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Q2hpbGRyZW4oKS5nZXRBdChpKT8uc2V0Q2hpbGRDb3VudElmUGFnaW5hdGVkKGNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGRlYnVnIG9ubHkuXG4gICAgICAgICAgICAgICAgICAgIHNldENoaWxkQ291bnQobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuOiB7IHJlZnJlc2hQYWdpbmF0aW9uLCBjaGlsZENvdW50IH1cbiAgICB9XG59XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVBhZ2luYXRlZENoaWxkUGFyYW1ldGVycyB7XG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleDogbnVtYmVyOyB9XG4gICAgY29udGV4dDogVXNlUGFnaW5hdGVkQ2hpbGRDb250ZXh0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVBhZ2luYXRlZENoaWxkUmV0dXJuPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBwcm9wczogaC5KU1guSFRNTEF0dHJpYnV0ZXM8Q2hpbGRFbGVtZW50PjtcbiAgICBwYWdpbmF0ZWRDaGlsZFJldHVybjoge1xuICAgICAgICBwYWdpbmF0ZWRWaXNpYmxlOiBib29sZWFuO1xuICAgICAgICBpc1BhZ2luYXRlZDogYm9vbGVhbjtcbiAgICAgICAgaGlkZUJlY2F1c2VQYWdpbmF0ZWQ6IGJvb2xlYW47XG4gICAgfTtcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiBQaWNrPFVzZVBhZ2luYXRlZENoaWxkcmVuSW5mbzxDaGlsZEVsZW1lbnQ+LCBcInNldFBhZ2luYXRpb25WaXNpYmxlXCIgfCBcInNldENoaWxkQ291bnRJZlBhZ2luYXRlZFwiIHwgXCJzZXRQYXJlbnRJc1BhZ2luYXRlZFwiPlxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VQYWdpbmF0ZWRDaGlsZDxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSwgY29udGV4dDogeyBwYWdpbmF0ZWRDaGlsZENvbnRleHQ6IHsgZ2V0RGVmYXVsdFBhZ2luYXRpb25WaXNpYmxlLCBnZXREZWZhdWx0SXNQYWdpbmF0ZWQgfSB9IH06IFVzZVBhZ2luYXRlZENoaWxkUGFyYW1ldGVycyk6IFVzZVBhZ2luYXRlZENoaWxkUmV0dXJuPENoaWxkRWxlbWVudD4ge1xuICAgIGNvbnN0IFtwYXJlbnRJc1BhZ2luYXRlZCwgc2V0UGFyZW50SXNQYWdpbmF0ZWRdID0gdXNlU3RhdGUoZ2V0RGVmYXVsdElzUGFnaW5hdGVkKCkpO1xuICAgIGNvbnN0IFtjaGlsZENvdW50SWZQYWdpbmF0ZWQsIHNldENoaWxkQ291bnRJZlBhZ2luYXRlZF0gPSB1c2VTdGF0ZShudWxsIGFzIG51bWJlciB8IG51bGwpO1xuICAgIGNvbnN0IFtwYWdpbmF0ZWRWaXNpYmxlLCBzZXRQYWdpbmF0ZWRWaXNpYmxlXSA9IHVzZVN0YXRlKGdldERlZmF1bHRQYWdpbmF0aW9uVmlzaWJsZShpbmRleCkpO1xuXG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzOiAhcGFyZW50SXNQYWdpbmF0ZWQgPyB7fSA6ICgoeyBcImFyaWEtc2V0c2l6ZVwiOiBjaGlsZENvdW50SWZQYWdpbmF0ZWQgPz8gdW5kZWZpbmVkLCBcImFyaWEtcG9zaW5zZXRcIjogKGluZGV4ICsgMSkgfSBhcyBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+KSksXG4gICAgICAgIHBhZ2luYXRlZENoaWxkUmV0dXJuOiB7IHBhZ2luYXRlZFZpc2libGUsIGlzUGFnaW5hdGVkOiBwYXJlbnRJc1BhZ2luYXRlZCwgaGlkZUJlY2F1c2VQYWdpbmF0ZWQ6IHBhcmVudElzUGFnaW5hdGVkID8gIXBhZ2luYXRlZFZpc2libGUgOiBmYWxzZSB9LFxuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBzZXRQYWdpbmF0aW9uVmlzaWJsZTogc2V0UGFnaW5hdGVkVmlzaWJsZSxcbiAgICAgICAgICAgIHNldENoaWxkQ291bnRJZlBhZ2luYXRlZCxcbiAgICAgICAgICAgIHNldFBhcmVudElzUGFnaW5hdGVkXG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZUxheW91dEVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgcmV0dXJuTnVsbCwgdXNlUGFzc2l2ZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1wYXNzaXZlLXN0YXRlXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVPYmplY3QgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1nZXR0ZXJcIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGF0ZVwiO1xuaW1wb3J0IHsgVXNlUm92aW5nVGFiSW5kZXhDaGlsZEluZm8gfSBmcm9tIFwiLi91c2Utcm92aW5nLXRhYmluZGV4XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RhZ2dlcmVkQ2hpbGRyZW5JbmZvPEUgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZVJvdmluZ1RhYkluZGV4Q2hpbGRJbmZvPEU+IHtcbiAgICBzZXRQYXJlbnRJc1N0YWdnZXJlZChwYXJlbnRJc1N0YWdnZXJlZDogYm9vbGVhbik6IHZvaWQ7XG4gICAgc2V0U3RhZ2dlcmVkVmlzaWJsZSh2aXNpYmxlOiBib29sZWFuKTogdm9pZDtcbiAgICAvL3NldENoaWxkQ291bnRJZlN0YWdnZXJlZChjb3VudDogbnVtYmVyKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VTdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnM8RSBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VTdGFnZ2VyZWRDaGlsZHJlbkluZm88RT4+IHtcbiAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IFVzZU1hbmFnZWRDaGlsZHJlblJldHVyblR5cGU8TT5bXCJtYW5hZ2VkQ2hpbGRyZW5SZXR1cm5cIl07XG4gICAgLy9saW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogUGljazxVc2VMaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczxhbnksIEU+W1wibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIl0sIFwiaW5kZXhEZW1hbmdsZXJcIiB8IFwiaW5kZXhNYW5nbGVyXCI+O1xuICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyczoge1xuICAgICAgICBzdGFnZ2VyZWQ6IGJvb2xlYW47XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVN0YWdnZXJlZENoaWxkQ29udGV4dCB7XG4gICAgc3RhZ2dlcmVkQ2hpbGRDb250ZXh0OiB7XG4gICAgICAgIGNoaWxkQ2FsbHNUaGlzVG9UZWxsVGhlUGFyZW50VG9Nb3VudFRoZU5leHRPbmUoaW5kZXg6IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIGNoaWxkQ2FsbHNUaGlzVG9UZWxsVGhlUGFyZW50VGhlSGlnaGVzdEluZGV4KGluZGV4OiBudW1iZXIpOiB2b2lkO1xuICAgICAgICBnZXREZWZhdWx0U3RhZ2dlcmVkVmlzaWJsZShpOiBudW1iZXIpOiBib29sZWFuO1xuICAgICAgICBnZXREZWZhdWx0SXNTdGFnZ2VyZWQoKTogYm9vbGVhbjtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm5UeXBlIHtcbiAgICAvKm1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgb25DaGlsZENvdW50Q2hhbmdlOiAoY291bnQ6IG51bWJlcikgPT4gdm9pZDtcbiAgICB9OyovXG4gICAgc3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm46IHsgc3RpbGxTdGFnZ2VyaW5nOiBib29sZWFuIH1cbiAgICBjb250ZXh0OiBVc2VTdGFnZ2VyZWRDaGlsZENvbnRleHQ7XG59XG5cbi8qKlxuICogQWxsb3dzIGNoaWxkcmVuIHRvIGVhY2ggd2FpdCB1bnRpbCB0aGUgcHJldmlvdXMgaGFzIGZpbmlzaGVkIHJlbmRlcmluZyBiZWZvcmUgaXRzZWxmIHJlbmRlcmluZy5cbiAqIFxuICogRS5HLiBDaGlsZCAjMyB3YWl0cyB1bnRpbCAjMiByZW5kZXJzLiAjMiB3YWl0cyB1bnRpbCAjMSByZW5kZXJzLCBldGMuXG4gKiBcbiAqIE5vdGUgdGhhdCB0aGUgY2hpbGQgaXRzZWxmIHdpbGwgc3RpbGwgcmVuZGVyLCBidXQgeW91IGNhbiBkZWxheSByZW5kZXJpbmcgKml0cyogY2hpbGRyZW4sIG9yXG4gKiBkZWxheSBvdGhlciBjb21wbGljYXRlZCBvciBoZWF2eSBsb2dpYywgdW50aWwgdGhlIGNoaWxkIGlzIG5vIGxvbmdlciBzdGFnZ2VyZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdGFnZ2VyZWRDaGlsZHJlbjxFIGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZVN0YWdnZXJlZENoaWxkcmVuSW5mbzxFPj4oe1xuICAgIG1hbmFnZWRDaGlsZHJlblJldHVybjogeyBnZXRDaGlsZHJlbiB9LFxuICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyczogeyBzdGFnZ2VyZWQgfVxufTogVXNlU3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzPEUsIE0+KTogVXNlU3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm5UeXBlIHtcblxuICAgIC8vIEJ5IGRlZmF1bHQsIHdoZW4gYSBjaGlsZCBtb3VudHMsIHdlIHRlbGwgdGhlIG5leHQgY2hpbGQgdG8gbW91bnQgYW5kIHNpbXBseSByZXBlYXQuXG4gICAgLy8gSWYgYSBjaGlsZCBpcyBtaXNzaW5nLCBob3dldmVyLCBpdCB3aWxsIGJyZWFrIHRoYXQgY2hhaW4uXG4gICAgLy8gVG8gZ3VhcmQgYWdhaW5zdCB0aGF0LCB3ZSBhbHNvIHdhaXQgZm9yIDUwbXMsIGFuZCBpZiBpdCBoYXNuJ3QgbG9hZGVkIGJ5IHRoZW4sIHdlIGp1c3QgY29udGludWUgYXMgaWYgaXQgZGlkLlxuXG4gICAgY29uc3QgW2N1cnJlbnRseVN0YWdnZXJpbmcsIHNldEN1cnJlbnRseVN0YWdnZXJpbmddID0gdXNlU3RhdGUoc3RhZ2dlcmVkKTtcblxuICAgIGNvbnN0IHRpbWVvdXRIYW5kbGUgPSB1c2VSZWYoLTEpO1xuICAgIGNvbnN0IHJlc2V0RW1lcmdlbmN5VGltZW91dCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaWYgKHRpbWVvdXRIYW5kbGUuY3VycmVudCAhPSAtMSlcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SGFuZGxlLmN1cnJlbnQpO1xuXG4gICAgICAgIHRpbWVvdXRIYW5kbGUuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gV2UndmUgZ29uZSB0aGlzIGxvbmcgd2l0aG91dCBoZWFyaW5nIHRoZSBuZXh0IGNoaWxkIG1vdW50IGl0c2VsZi4uLlxuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjb250aW51ZS5cbiAgICAgICAgICAgIHRpbWVvdXRIYW5kbGUuY3VycmVudCA9IC0xO1xuICAgICAgICAgICAgc2V0RGlzcGxheWVkU3RhZ2dlckluZGV4KGMgPT4gTWF0aC5taW4oZ2V0VGFyZ2V0U3RhZ2dlckluZGV4KCkgPz8gMCwgKGMgPz8gMCkgKyAxKSk7XG4gICAgICAgIH0sIDUwKVxuICAgIH0sIFsvKiBNdXN0IGJlIGVtcHR5ICovXSlcblxuICAgIC8vIFRoZSB0YXJnZXQgaW5kZXggaXMgdGhlIGluZGV4IHRoYXQgd2UncmUgXCJhbmltYXRpbmdcIiB0by5cbiAgICAvLyBFYWNoIGNoaWxkIHNpbXBseSBzZXRzIHRoaXMgdG8gdGhlIGhpZ2hlc3QgdmFsdWUgZXZlciBzZWVuLlxuICAgIC8vIFRPRE86IFdoZW4gdW5tb3VudGluZyBjaGlsZHJlbiwgd2Ugc2hvdWxkIHJlc2V0IHRoaXMsIGJ1dCB0aGF0IHJlcXVpcmVzIHVzIHRvIHRyYWNrIHRvdGFsICMgb2YgY2hpbGRyZW5cbiAgICBjb25zdCBbZ2V0VGFyZ2V0U3RhZ2dlckluZGV4LCBzZXRUYXJnZXRTdGFnZ2VySW5kZXhdID0gdXNlUGFzc2l2ZVN0YXRlPG51bWJlciB8IG51bGwsIG5ldmVyPih1c2VDYWxsYmFjaygobmV3SW5kZXg6IG51bWJlciB8IG51bGwsIHByZXZJbmRleDogbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICAvLyBBbnkgdGltZSBvdXIgdGFyZ2V0IGNoYW5nZXMsXG4gICAgICAgIC8vIGVuc3VyZSBvdXIgdGltZW91dCBpcyBydW5uaW5nLCBhbmQgc3RhcnQgYSBuZXcgb25lIGlmIG5vdFxuXG5cbiAgICAgICAgLy8gRm9yIGFueSBuZXdseSBtb3VudGVkIGNoaWxkcmVuLCBtYWtlIHN1cmUgdGhleSdyZSBhd2FyZSBvZiBpZiB0aGV5IHNob3VsZCBjb25zaWRlciB0aGVtc2VsdmVzIHN0YWdnZXJlZCBvciBub3RcbiAgICAgICAgZm9yIChsZXQgaSA9IChwcmV2SW5kZXggPz8gMCk7IGkgPCAobmV3SW5kZXggPz8gMCk7ICsraSkge1xuICAgICAgICAgICAgZ2V0Q2hpbGRyZW4oKS5nZXRBdChpKT8uc2V0UGFyZW50SXNTdGFnZ2VyZWQocGFyZW50SXNTdGFnZ2VyZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRpbWVvdXRIYW5kbGUuY3VycmVudCA9PSAtMSkge1xuICAgICAgICAgICAgcmVzZXRFbWVyZ2VuY3lUaW1lb3V0KCk7XG5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gdGltZW91dCBydW5uaW5nLCB0aGVuIHRoYXQgYWxzbyBtZWFucyB3ZSdyZSBub3Qgd2FpdGluZyBmb3IgYSBjaGlsZCB0byBtb3VudC5cbiAgICAgICAgICAgIC8vIFNvIGFzayBhIGNoaWxkIHRvIG1vdW50IGFuZCB0aGVuIHdhaXQgZm9yIHRoYXQgY2hpbGQgdG8gbW91bnQuXG4gICAgICAgICAgICBzZXREaXNwbGF5ZWRTdGFnZ2VySW5kZXgoYyA9PiBNYXRoLm1pbihuZXdJbmRleCA/PyAwLCAoYyA/PyAwKSArIDEpKTtcbiAgICAgICAgfVxuICAgIH0sIFsvKiBNdXN0IGJlIGVtcHR5ICovXSksIHJldHVybk51bGwpO1xuXG4gICAgLy9jb25zdCBbZ2V0VGltZW91dEhhbmRsZSwgc2V0VGltZW91dEhhbmRsZV0gPSB1c2VQYXNzaXZlU3RhdGU8bnVtYmVyIHwgbnVsbCwgRXZlbnQ+KG51bGwsIHJldHVybk51bGwpO1xuXG4gICAgY29uc3QgW2dldERpc3BsYXllZFN0YWdnZXJJbmRleCwgc2V0RGlzcGxheWVkU3RhZ2dlckluZGV4XSA9IHVzZVBhc3NpdmVTdGF0ZTxudW1iZXIgfCBudWxsLCBuZXZlcj4odXNlQ2FsbGJhY2soKG5ld0luZGV4OiBudW1iZXIgfCBudWxsLCBwcmV2SW5kZXg6IG51bWJlciB8IG51bGwgfCB1bmRlZmluZWQpID0+IHtcbiAgICAgICAgaWYgKG5ld0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldEN1cnJlbnRseVN0YWdnZXJpbmcobmV3SW5kZXggPj0gKGdldFRhcmdldFN0YWdnZXJJbmRleCgpID8/IDApKTtcblxuICAgICAgICAvLyBJdCdzIHRpbWUgdG8gc2hvdyB0aGUgbmV4dCBjaGlsZCxcbiAgICAgICAgLy8gZWl0aGVyIGJlY2F1c2UgdGhlIGN1cnJlbnQgb25lIGZpbmlzaGVkIG1vdW50aW5nLFxuICAgICAgICAvLyBvciBiZWNhdXNlIG91ciBlbWVyZ2VuY3kgYmFja3VwIHRpbWVvdXQgZmlyZWQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEVpdGhlciB3YXksIHRlbGwgdGhlIG5leHQgY2hpbGQgdG8gc2hvdyBpdHNlbGYuXG4gICAgICAgIC8vIEFsc28gbWFrZSBzdXJlIHRoYXQgYW55b25lIHdlIHNraXBwZWQgc29tZWhvdyBzaG93IHRoZW1zZWx2ZXMgYXMgd2VsbC5cblxuICAgICAgICBmb3IgKGxldCBpID0gKHByZXZJbmRleCA/PyAwKTsgaSA8IG5ld0luZGV4OyArK2kpIHtcbiAgICAgICAgICAgIGdldENoaWxkcmVuKCkuZ2V0QXQoaSk/LnNldFN0YWdnZXJlZFZpc2libGUodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgYSBuZXcgZW1lcmdlbmN5IHRpbWVvdXRcbiAgICAgICAgcmVzZXRFbWVyZ2VuY3lUaW1lb3V0KCk7XG5cbiAgICAgICAgLyppZiAobmV3SW5kZXggPCB0YXJnZXRJbmRleCkge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gc2V0VGltZW91dCgoKSA9PiB7IHNldERpc3BsYXllZFN0YWdnZXJJbmRleChjID0+IChjID8/IDApICsgMSk7IH0sIHN0YWdnZXJEZWxheSA/PyA1MCk7XG4gICAgICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgIH0qL1xuXG4gICAgfSwgWy8qIE11c3QgYmUgZW1wdHkgKi9dKSwgcmV0dXJuTnVsbClcblxuICAgIGNvbnN0IHBhcmVudElzU3RhZ2dlcmVkID0gKCEhc3RhZ2dlcmVkKTtcblxuICAgIGNvbnN0IGNoaWxkQ2FsbHNUaGlzVG9UZWxsVGhlUGFyZW50VG9Nb3VudFRoZU5leHRPbmUgPSB1c2VDYWxsYmFjaygoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICBzZXREaXNwbGF5ZWRTdGFnZ2VySW5kZXgocyA9PiBNYXRoLm1pbigoZ2V0VGFyZ2V0U3RhZ2dlckluZGV4KCkgPz8gMCksIDEgKyAoTWF0aC5tYXgocyA/PyAwLCBpbmRleCArIDEpKSkpO1xuICAgIH0sIFtdKTtcblxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGdldENoaWxkcmVuKCkuZm9yRWFjaChjaGlsZCA9PiBjaGlsZC5zZXRQYXJlbnRJc1N0YWdnZXJlZChwYXJlbnRJc1N0YWdnZXJlZCkpO1xuICAgICAgICAvL2lmIChwYXJlbnRJc1N0YWdnZXJlZClcbiAgICAgICAgLy8gICAgY2hpbGRDYWxsc1RoaXNUb1RlbGxUaGVQYXJlbnRUb01vdW50VGhlTmV4dE9uZSgtMSk7XG5cbiAgICB9LCBbcGFyZW50SXNTdGFnZ2VyZWRdKTtcblxuICAgIGNvbnN0IGNoaWxkQ2FsbHNUaGlzVG9UZWxsVGhlUGFyZW50VGhlSGlnaGVzdEluZGV4ID0gdXNlQ2FsbGJhY2soKG1vdW50ZWRJbmRleDogbnVtYmVyKSA9PiB7XG4gICAgICAgIHNldFRhcmdldFN0YWdnZXJJbmRleChpID0+IE1hdGgubWF4KChpID8/IDApLCAxICsgbW91bnRlZEluZGV4KSlcbiAgICB9LCBbXSk7XG5cbiAgICAvLyBUT0RPOiBNb2RpZmljYXRpb24gZHVyaW5nIHJlbmRlclxuICAgIGNvbnN0IHMgPSB1c2VSZWYocGFyZW50SXNTdGFnZ2VyZWQpO1xuICAgIHMuY3VycmVudCA9IHBhcmVudElzU3RhZ2dlcmVkO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm46IHsgc3RpbGxTdGFnZ2VyaW5nOiBjdXJyZW50bHlTdGFnZ2VyaW5nIH0sXG4gICAgICAgIGNvbnRleHQ6IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgICAgICBzdGFnZ2VyZWRDaGlsZENvbnRleHQ6IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgY2hpbGRDYWxsc1RoaXNUb1RlbGxUaGVQYXJlbnRUb01vdW50VGhlTmV4dE9uZSxcbiAgICAgICAgICAgICAgICBjaGlsZENhbGxzVGhpc1RvVGVsbFRoZVBhcmVudFRoZUhpZ2hlc3RJbmRleCxcbiAgICAgICAgICAgICAgICAvLyBUaGVzZSBhcmUgdXNlZCBkdXJpbmcgc2V0U3RhdGUsIHNvIGp1c3Qgb25jZSBkdXJpbmcgbW91bnQuXG4gICAgICAgICAgICAgICAgLy8gSXQncyBva2F5IHRoYXQgdGhlIGRlcGVuZGVuY2llcyBhcmVuJ3QgaW5jbHVkZWQuXG4gICAgICAgICAgICAgICAgLy8gSXQncyBtb3JlIGltcG9ydGFudCB0aGF0IHRoZXNlIGNhbiBiZSBjYWxsZWQgZHVyaW5nIHJlbmRlci5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIChJZiB3ZSBzd2l0Y2gsIHRoaXMgaXMgY2F1Z2h0IGR1cmluZyB1c2VMYXlvdXRFZmZlY3QgYW55d2F5KVxuICAgICAgICAgICAgICAgIGdldERlZmF1bHRJc1N0YWdnZXJlZDogdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyZW50SXNTdGFnZ2VyZWQ7XG4gICAgICAgICAgICAgICAgfSwgW10pLFxuICAgICAgICAgICAgICAgIGdldERlZmF1bHRTdGFnZ2VyZWRWaXNpYmxlOiB1c2VDYWxsYmFjaygoaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50SXNTdGFnZ2VyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YWdnZXJJbmRleCA9IGdldERpc3BsYXllZFN0YWdnZXJJbmRleCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWdnZXJJbmRleCA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpIDwgc3RhZ2dlckluZGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBbXSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLFxuICAgIH1cbn1cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RhZ2dlcmVkQ2hpbGRQYXJhbWV0ZXJzIHtcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4OiBudW1iZXI7IH1cbiAgICBjb250ZXh0OiBVc2VTdGFnZ2VyZWRDaGlsZENvbnRleHQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU3RhZ2dlcmVkQ2hpbGRSZXR1cm48Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+O1xuICAgIHN0YWdnZXJlZENoaWxkUmV0dXJuOiB7XG4gICAgICAgIC8qKiBXaGV0aGVyIHRoZSBwYXJlbnQgaGFzIGluZGljYXRlZCB0aGF0IGFsbCBvZiBpdHMgY2hpbGRyZW4sIGluY2x1ZGluZyB0aGlzIG9uZSwgYXJlIHN0YWdnZXJlZC4gKi9cbiAgICAgICAgaXNTdGFnZ2VyZWQ6IGJvb2xlYW47XG4gICAgICAgIHN0YWdnZXJlZFZpc2libGU6IGJvb2xlYW47XG4gICAgICAgIC8qKiBcbiAgICAgICAgICogSWYgdGhpcyBpcyB0cnVlLCB5b3Ugc2hvdWxkIGRlbGF5IHNob3dpbmcgKnlvdXIqIGNoaWxkcmVuIG9yIHJ1bm5pbmcgb3RoZXIgaGVhdnkgbG9naWMgdW50aWwgdGhpcyBiZWNvbWVzIGZhbHNlLlxuICAgICAgICAgKiBcbiAgICAgICAgICogQ2FuIGJlIGFzIHNpbXBsZSBhcyBgPGRpdj57aGlkZUJlY2F1c2VTdGFnZ2VyZWQ/IG51bGwgOiBjaGlsZHJlbn08L2Rpdj5gXG4gICAgICAgICAqICAqL1xuICAgICAgICBoaWRlQmVjYXVzZVN0YWdnZXJlZDogYm9vbGVhbjtcbiAgICB9O1xuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IFBpY2s8VXNlU3RhZ2dlcmVkQ2hpbGRyZW5JbmZvPENoaWxkRWxlbWVudD4sIFwic2V0UGFyZW50SXNTdGFnZ2VyZWRcIiB8IFwic2V0U3RhZ2dlcmVkVmlzaWJsZVwiPlxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VTdGFnZ2VyZWRDaGlsZDxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSwgY29udGV4dDogeyBzdGFnZ2VyZWRDaGlsZENvbnRleHQ6IHsgY2hpbGRDYWxsc1RoaXNUb1RlbGxUaGVQYXJlbnRUaGVIaWdoZXN0SW5kZXgsIGdldERlZmF1bHRJc1N0YWdnZXJlZCwgZ2V0RGVmYXVsdFN0YWdnZXJlZFZpc2libGUsIGNoaWxkQ2FsbHNUaGlzVG9UZWxsVGhlUGFyZW50VG9Nb3VudFRoZU5leHRPbmUgfSB9IH06IFVzZVN0YWdnZXJlZENoaWxkUGFyYW1ldGVycyk6IFVzZVN0YWdnZXJlZENoaWxkUmV0dXJuPENoaWxkRWxlbWVudD4ge1xuICAgIGNvbnN0IFtwYXJlbnRJc1N0YWdnZXJlZCwgc2V0UGFyZW50SXNTdGFnZ2VyZWRdID0gdXNlU3RhdGUoZ2V0RGVmYXVsdElzU3RhZ2dlcmVkKCkpO1xuICAgIGNvbnN0IFtzdGFnZ2VyZWRWaXNpYmxlLCBzZXRTdGFnZ2VyZWRWaXNpYmxlXSA9IHVzZVN0YXRlKGdldERlZmF1bHRTdGFnZ2VyZWRWaXNpYmxlKGluZGV4KSk7XG5cbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjaGlsZENhbGxzVGhpc1RvVGVsbFRoZVBhcmVudFRoZUhpZ2hlc3RJbmRleChpbmRleCk7XG4gICAgfSwgW2luZGV4XSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoKHBhcmVudElzU3RhZ2dlcmVkICYmIHN0YWdnZXJlZFZpc2libGUpKVxuICAgICAgICAgICAgY2hpbGRDYWxsc1RoaXNUb1RlbGxUaGVQYXJlbnRUb01vdW50VGhlTmV4dE9uZShpbmRleCk7XG4gICAgfSwgW2luZGV4LCAocGFyZW50SXNTdGFnZ2VyZWQgJiYgc3RhZ2dlcmVkVmlzaWJsZSldKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcHM6ICFwYXJlbnRJc1N0YWdnZXJlZCA/IHt9IDogeyBcImFyaWEtYnVzeVwiOiAoIXN0YWdnZXJlZFZpc2libGUpLnRvU3RyaW5nKCkgfSBhcyB7fSxcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRSZXR1cm46IHsgc3RhZ2dlcmVkVmlzaWJsZSwgaXNTdGFnZ2VyZWQ6IHBhcmVudElzU3RhZ2dlcmVkLCBoaWRlQmVjYXVzZVN0YWdnZXJlZDogcGFyZW50SXNTdGFnZ2VyZWQ/ICFzdGFnZ2VyZWRWaXNpYmxlIDogZmFsc2UgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgc2V0U3RhZ2dlcmVkVmlzaWJsZTogc2V0U3RhZ2dlcmVkVmlzaWJsZSxcbiAgICAgICAgICAgIHNldFBhcmVudElzU3RhZ2dlcmVkLFxuICAgICAgICB9XG4gICAgfVxufSIsIlxuaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlLCBQYXNzaXZlU3RhdGVVcGRhdGVyLCByZXR1cm5GYWxzZSwgcnVuSW1tZWRpYXRlbHksIHVzZVBhc3NpdmVTdGF0ZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtcGFzc2l2ZS1zdGF0ZVwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuaW1wb3J0IHsgdXNlU3RhYmxlT2JqZWN0IH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtZ2V0dGVyXCI7XG5pbXBvcnQgeyBVc2VIYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzIH0gZnJvbSBcIi4vdXNlLWhhcy1jdXJyZW50LWZvY3VzXCI7XG5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VDaGlsZHJlbkhhdmVGb2N1c1BhcmFtZXRlcnM8VCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBjaGlsZHJlbkhhdmVGb2N1c1BhcmFtZXRlcnM6IHtcbiAgICAgICAgLyoqICovXG4gICAgICAgIG9uQ29tcG9zaXRlRm9jdXNDaGFuZ2U6IG51bGwgfCBPblBhc3NpdmVTdGF0ZUNoYW5nZTxib29sZWFuLCBoLkpTWC5UYXJnZXRlZEV2ZW50PFQ+PjtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ2hpbGRyZW5IYXZlRm9jdXNDaGlsZFJldHVyblR5cGU8RSBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiBSZXF1aXJlZDxQaWNrPFVzZUhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnM8RT5bXCJoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzXCJdLCBcIm9uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWRcIj4+O1xuICAgIC8vcmVmRWxlbWVudFBhcmFtZXRlcnM6IFJlcXVpcmVkPFBpY2s8VXNlUmVmRWxlbWVudFBhcmFtZXRlcnM8RT5bXCJyZWZFbGVtZW50UGFyYW1ldGVyc1wiXSwgXCJvbkVsZW1lbnRDaGFuZ2VcIj4+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuVHlwZTxUIGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuOiB7IGdldEFueUZvY3VzZWQoKTogYm9vbGVhbjsgfVxuICAgIGNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRDb250ZXh0OiBVc2VDaGlsZHJlbkhhdmVGb2N1c0NoaWxkUGFyYW1ldGVyczxUPltcImNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRDb250ZXh0XCJdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRQYXJhbWV0ZXJzPFQgZXh0ZW5kcyBFbGVtZW50PiB7XG4gICAgY2hpbGRyZW5IYXZlRm9jdXNDaGlsZENvbnRleHQ6IHtcbiAgICAgICAgY2hpbGRyZW5IYXZlRm9jdXNDaGlsZFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIC8qKiAqKlNUQUJMRSoqICovXG4gICAgICAgICAgICBzZXRGb2N1c0NvdW50OiBQYXNzaXZlU3RhdGVVcGRhdGVyPG51bWJlciwgaC5KU1guVGFyZ2V0ZWRFdmVudDxUPj47XG5cbiAgICAgICAgICAgIC8qKiAqKlNUQUJMRSoqICovXG4gICAgICAgICAgICAvL2FsbEVsZW1lbnRzOiBTZXQ8Tm9kZT5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cblxuLyoqXG4gKiBBbGxvd3MgYSBjb21wb3NpdGUgY29tcG9uZW50IChzdWNoIGFzIGEgcmFkaW8gZ3JvdXAgb3IgbGlzdGJveCkgdG8gbGlzdGVuXG4gKiBmb3IgYW4gXCJvdmVyYWxsIGZvY3VzaW4vb3V0XCIgZXZlbnQ7IHRoaXMgaG9vayBsZXRzIHlvdSBrbm93IHdoZW4gZm9jdXMgaGFzIFxuICogbW92ZWQgaW4vb3V0IG9mIHRoaXMgZ3JvdXBpbmcgb2YgY2hpbGRyZW4gRVZFTiBJRiB0aGVyZSBpcyBubyBhY3R1YWwgcGFyZW50IERPTSBlbGVtZW50LlxuICogXG4gKiBJLkUuIHlvdSBjYW4gdXNlIHRoaXMgd2l0aG91dCBuZWVkaW5nIGEgcGFyZW50IGA8ZGl2PmAgdG8gbGlzdGVuIGZvciBhIGBmb2N1c291dGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDaGlsZHJlbkhhdmVGb2N1czxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PihhcmdzOiBVc2VDaGlsZHJlbkhhdmVGb2N1c1BhcmFtZXRlcnM8Q2hpbGRFbGVtZW50Pik6IFVzZUNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQ+IHtcbiAgICB0eXBlIFIgPSBoLkpTWC5UYXJnZXRlZEV2ZW50PENoaWxkRWxlbWVudD47XG4gICAgY29uc3QgeyBjaGlsZHJlbkhhdmVGb2N1c1BhcmFtZXRlcnM6IHsgb25Db21wb3NpdGVGb2N1c0NoYW5nZSB9IH0gPSBhcmdzO1xuXG4gICAgY29uc3QgW2dldEFueUZvY3VzZWQsIHNldEFueUZvY3VzZWRdID0gdXNlUGFzc2l2ZVN0YXRlPGJvb2xlYW4sIFI+KG9uQ29tcG9zaXRlRm9jdXNDaGFuZ2UsIHJldHVybkZhbHNlLCBydW5JbW1lZGlhdGVseSk7XG4gICAgY29uc3QgW19nZXRGb2N1c0NvdW50LCBzZXRGb2N1c0NvdW50XSA9IHVzZVBhc3NpdmVTdGF0ZTxudW1iZXIsIFI+KHVzZVN0YWJsZUNhbGxiYWNrPE9uUGFzc2l2ZVN0YXRlQ2hhbmdlPG51bWJlciwgUj4+KChhbnlGb2N1c2VkLCBhbnlQcmV2aW91c2x5Rm9jdXNlZCwgZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmFzc2VydChhbnlGb2N1c2VkID49IDAgJiYgYW55Rm9jdXNlZCA8PSAxKTtcbiAgICAgICAgc2V0QW55Rm9jdXNlZCghIShhbnlGb2N1c2VkICYmICFhbnlQcmV2aW91c2x5Rm9jdXNlZCksIGUpO1xuICAgIH0pKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuOiB7IGdldEFueUZvY3VzZWQgfSxcbiAgICAgICAgY2hpbGRyZW5IYXZlRm9jdXNDaGlsZENvbnRleHQ6IHVzZVN0YWJsZU9iamVjdCh7IGNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRQYXJhbWV0ZXJzOiB1c2VTdGFibGVPYmplY3QoeyBzZXRGb2N1c0NvdW50IH0pIH0pLFxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGQ8RSBleHRlbmRzIEVsZW1lbnQ+KHsgY2hpbGRyZW5IYXZlRm9jdXNDaGlsZENvbnRleHQ6IHsgY2hpbGRyZW5IYXZlRm9jdXNDaGlsZFBhcmFtZXRlcnM6IHsgc2V0Rm9jdXNDb3VudCB9IH0gfTogVXNlQ2hpbGRyZW5IYXZlRm9jdXNDaGlsZFBhcmFtZXRlcnM8RT4pOiBVc2VDaGlsZHJlbkhhdmVGb2N1c0NoaWxkUmV0dXJuVHlwZTxFPiB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZDogdXNlU3RhYmxlQ2FsbGJhY2soKGZvY3VzZWQsIHByZXYsIGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZm9jdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRGb2N1c0NvdW50KHAgPT4gKHAgPz8gMCkgKyAxLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWZvY3VzZWQgJiYgcHJldikge1xuICAgICAgICAgICAgICAgICAgICBzZXRGb2N1c0NvdW50KHAgPT4gKHAgPz8gMCkgLSAxLCBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfVxuICAgIH07XG59IiwiXG5pbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuLy9pbXBvcnQgeyBVc2VNYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLCB1c2VNYW5hZ2VkQ2hpbGRyZW4sIFVzZU1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnMsIFVzZU1hbmFnZWRDaGlsZHJlblJldHVyblR5cGVJbmZvIH0gZnJvbSBcIi4vdXNlLWNoaWxkLW1hbmFnZXJcIjtcbmltcG9ydCB7IFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL2RvbS1oZWxwZXJzL3VzZS1yZWYtZWxlbWVudFwiO1xuaW1wb3J0IHsgT25QYXNzaXZlU3RhdGVDaGFuZ2UsIHJldHVybkZhbHNlLCBydW5JbW1lZGlhdGVseSwgdXNlRW5zdXJlU3RhYmlsaXR5LCB1c2VQYXNzaXZlU3RhdGUgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXBhc3NpdmUtc3RhdGVcIjtcblxuLypcbmV4cG9ydCBmdW5jdGlvbiB1c2VIYXNDdXJyZW50Rm9jdXNQcm9wczxFIGV4dGVuZHMgRWxlbWVudD4ocjogVXNlSGFzQ3VycmVudEZvY3VzUmV0dXJuVHlwZTxFPiwgLi4ub3RoZXJQcm9wczogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT5bXSkge1xuICAgIHJldHVybiB1c2VNZXJnZWRQcm9wczxFPihyLmhhc0N1cnJlbnRGb2N1c1JldHVybi5wcm9wc1N0YWJsZSwgLi4ub3RoZXJQcm9wcyk7XG59Ki9cblxuZXhwb3J0IGludGVyZmFjZSBVc2VIYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzPFQgZXh0ZW5kcyBOb2RlPiB7XG4gICAgcmVmRWxlbWVudFJldHVybjogUmVxdWlyZWQ8UGljazxVc2VSZWZFbGVtZW50UmV0dXJuVHlwZTxUPltcInJlZkVsZW1lbnRSZXR1cm5cIl0sIFwiZ2V0RWxlbWVudFwiPj47XG5cbiAgICBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIGVsZW1lbnQgaXRzZWxmIGN1cnJlbnRseSBoYXMgZm9jdXMuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBgcHJldkZvY3VzZWRgIGlzIGdlbmVyYWxseSB0aGUgb3Bwb3NpdGUgb2YgYGZvY3VzZWRgLCBidXQgb24gbW91bnQgaXQncyBgdW5kZWZpbmVkYCB3aGlsZSBgZm9jdXNlZGAgaXMgcHJvYmFibHkgZmFsc2UgKGJvdGggZmFsc3kpXG4gICAgICAgICAqL1xuICAgICAgICBvbkN1cnJlbnRGb2N1c2VkQ2hhbmdlZDogbnVsbCB8IE9uUGFzc2l2ZVN0YXRlQ2hhbmdlPGJvb2xlYW4sIGguSlNYLlRhcmdldGVkRXZlbnQ8VD4+OyAvLygoZm9jdXNlZDogYm9vbGVhbiwgcHJldkZvY3VzZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQpID0+IHZvaWQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaWtlIGBvbkZvY3VzZWRDaGFuZ2VkYCwgYnV0IGFsc28gKmFkZGl0aW9uYWxseSogaWYgYW55IGNoaWxkIGVsZW1lbnRzIGFyZSBmb2N1c2VkLlxuICAgICAgICAgKiBcbiAgICAgICAgICogQHNlZSB0aGlzLm9uRm9jdXNlZENoYW5nZWRcbiAgICAgICAgICovXG4gICAgICAgIG9uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWQ6IG51bGwgfCBPblBhc3NpdmVTdGF0ZUNoYW5nZTxib29sZWFuLCBoLkpTWC5UYXJnZXRlZEV2ZW50PFQ+PjsgLy8oKGZvY3VzZWQ6IGJvb2xlYW4sIHByZXZGb2N1c2VkOiBib29sZWFuIHwgdW5kZWZpbmVkKSA9PiB2b2lkKTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlSGFzQ3VycmVudEZvY3VzUmV0dXJuVHlwZTxFIGV4dGVuZHMgTm9kZT4ge1xuICAgIGhhc0N1cnJlbnRGb2N1c1JldHVybjoge1xuICAgICAgICBwcm9wc1N0YWJsZTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vZGlmaWVzIHRoZSBlbGVtZW50IHRvIGJlIGFibGUgdG8gdHJhY2sgaXRzIG93biBmb2N1cyBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgLy9wcm9wc1N0YWJsZTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8VD47XG5cbiAgICAgICAgLyoqIFNUQUJMRSAqL1xuICAgICAgICBnZXRDdXJyZW50Rm9jdXNlZCgpOiBib29sZWFuO1xuICAgICAgICAvKiogU1RBQkxFICovXG4gICAgICAgIGdldEN1cnJlbnRGb2N1c2VkSW5uZXIoKTogYm9vbGVhbjtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VIYXNDdXJyZW50Rm9jdXM8VCBleHRlbmRzIE5vZGU+KGFyZ3M6IFVzZUhhc0N1cnJlbnRGb2N1c1BhcmFtZXRlcnM8VD4pOiBVc2VIYXNDdXJyZW50Rm9jdXNSZXR1cm5UeXBlPFQ+IHtcbiAgICB0eXBlIFIgPSBoLkpTWC5UYXJnZXRlZEZvY3VzRXZlbnQ8VD47XG4gICAgY29uc3Qge1xuICAgICAgICBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7IG9uQ3VycmVudEZvY3VzZWRDaGFuZ2VkOiBvbkZvY3VzZWRDaGFuZ2VkLCBvbkN1cnJlbnRGb2N1c2VkSW5uZXJDaGFuZ2VkOiBvbkZvY3VzZWRJbm5lckNoYW5nZWQgfSxcbiAgICAgICAgcmVmRWxlbWVudFJldHVybjogeyBnZXRFbGVtZW50IH1cbiAgICB9ID0gYXJncztcblxuXG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlSGFzQ3VycmVudEZvY3VzXCIsIG9uRm9jdXNlZENoYW5nZWQsIG9uRm9jdXNlZElubmVyQ2hhbmdlZCwgZ2V0RWxlbWVudCk7XG5cbiAgICBjb25zdCBbZ2V0Rm9jdXNlZCwgc2V0Rm9jdXNlZF0gPSB1c2VQYXNzaXZlU3RhdGU8Ym9vbGVhbiwgUj4ob25Gb2N1c2VkQ2hhbmdlZCwgcmV0dXJuRmFsc2UsIHJ1bkltbWVkaWF0ZWx5KTtcbiAgICBjb25zdCBbZ2V0Rm9jdXNlZElubmVyLCBzZXRGb2N1c2VkSW5uZXJdID0gdXNlUGFzc2l2ZVN0YXRlPGJvb2xlYW4sIFI+KG9uRm9jdXNlZElubmVyQ2hhbmdlZCwgcmV0dXJuRmFsc2UsIHJ1bkltbWVkaWF0ZWx5KTtcblxuICAgIGNvbnN0IG9uRm9jdXNJbiA9IHVzZUNhbGxiYWNrPGguSlNYLkV2ZW50SGFuZGxlcjxoLkpTWC5UYXJnZXRlZEZvY3VzRXZlbnQ8VD4+PigoZSkgPT4ge1xuXG4gICAgICAgIHNldEZvY3VzZWRJbm5lcih0cnVlLCBlIGFzIFIpO1xuICAgICAgICBzZXRGb2N1c2VkKGUudGFyZ2V0ID09IGdldEVsZW1lbnQoKSwgZSBhcyBSKVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IG9uRm9jdXNPdXQgPSB1c2VDYWxsYmFjazxoLkpTWC5FdmVudEhhbmRsZXI8aC5KU1guVGFyZ2V0ZWRGb2N1c0V2ZW50PFQ+Pj4oKGUpID0+IHtcbiAgICAgICAgLy8gRXZlbiBpZiB3ZSdyZSBmb2N1c091dC1pbmcgdG8gYW5vdGhlciBpbm5lciBlbGVtZW50LFxuICAgICAgICAvLyB0aGF0J2xsIGJlIGNhdWdodCBkdXJpbmcgb25Gb2N1c0luLFxuICAgICAgICAvLyBzbyBqdXN0IHNldCBldmVyeXRoaW5nIHRvIGZhbHNlIGFuZCBsZXQgdGhhdCByZXZlcnQgdGhpbmdzIGJhY2sgdG8gdHJ1ZSBpZiBuZWNlc3NhcnkuXG4gICAgICAgIHNldEZvY3VzZWRJbm5lcihmYWxzZSwgZSBhcyBSKTtcbiAgICAgICAgc2V0Rm9jdXNlZChmYWxzZSwgZSBhcyBSKTtcbiAgICB9LCBbXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc2V0Rm9jdXNlZChmYWxzZSk7XG4gICAgICAgICAgICBzZXRGb2N1c2VkSW5uZXIoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgcHJvcHNTdGFibGUgPSB1c2VSZWY8aC5KU1guSFRNTEF0dHJpYnV0ZXM8VD4+KHtcbiAgICAgICAgb25mb2N1c2luOiBvbkZvY3VzSW4sXG4gICAgICAgIG9uZm9jdXNvdXQ6IG9uRm9jdXNPdXRcbiAgICB9KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzZXRGb2N1c2VkKGZhbHNlKTtcbiAgICAgICAgICAgIHNldEZvY3VzZWRJbm5lcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoYXNDdXJyZW50Rm9jdXNSZXR1cm46IHtcbiAgICAgICAgICAgIHByb3BzU3RhYmxlOiBwcm9wc1N0YWJsZS5jdXJyZW50LFxuICAgICAgICAgICAgZ2V0Q3VycmVudEZvY3VzZWQ6IGdldEZvY3VzZWQsXG4gICAgICAgICAgICBnZXRDdXJyZW50Rm9jdXNlZElubmVyOiBnZXRGb2N1c2VkSW5uZXIsXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4iLCJpbXBvcnQgeyBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzIH0gZnJvbSBcImNvbXBvbmVudC1kZXRhaWwvdXNlLXR5cGVhaGVhZC1uYXZpZ2F0aW9uXCI7XG5pbXBvcnQgaWRlbnRpdHkgZnJvbSBcImxvZGFzaC1lcy9pZGVudGl0eVwiO1xuaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgVXNlR3JpZE5hdmlnYXRpb25Sb3dSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL2NvbXBvbmVudC1kZXRhaWwvdXNlLWdyaWQtbmF2aWdhdGlvbi1wYXJ0aWFsXCI7XG5pbXBvcnQgeyB1c2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNlbGwsIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2VsbFBhcmFtZXRlcnMsIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVycywgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25SZXR1cm5UeXBlLCB1c2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJvdywgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Sb3dSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL2NvbXBvbmVudC1kZXRhaWwvdXNlLWdyaWQtbmF2aWdhdGlvbi1zaW5nbGUtc2VsZWN0aW9uXCI7XG5pbXBvcnQgeyBHcmlkU2luZ2xlU2VsZWN0U29ydGFibGVDaGlsZENlbGxJbmZvLCBHcmlkU2luZ2xlU2VsZWN0U29ydGFibGVDaGlsZFJvd0luZm8sIHVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGUsIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDZWxsUmV0dXJuVHlwZSwgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVBhcmFtZXRlcnMsIFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVSZXR1cm5UeXBlLCBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUm93UGFyYW1ldGVycywgVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvd1JldHVyblR5cGUgfSBmcm9tIFwiLi4vY29tcG9uZW50LWRldGFpbC91c2UtZ3JpZC1uYXZpZ2F0aW9uLXNpbmdsZS1zZWxlY3Rpb24tc29ydGFibGVcIjtcbmltcG9ydCB7IHVzZVBhZ2luYXRlZENoaWxkLCBVc2VQYWdpbmF0ZWRDaGlsZENvbnRleHQsIHVzZVBhZ2luYXRlZENoaWxkcmVuLCBVc2VQYWdpbmF0ZWRDaGlsZHJlbkluZm8sIFVzZVBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVycywgVXNlUGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm5UeXBlLCBVc2VQYWdpbmF0ZWRDaGlsZFJldHVybiB9IGZyb20gXCIuLi9jb21wb25lbnQtZGV0YWlsL3VzZS1wYWdpbmF0ZWQtY2hpbGRyZW5cIjtcbmltcG9ydCB7IFVzZVNvcnRhYmxlQ2hpbGRJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudC1kZXRhaWwvdXNlLXNvcnRhYmxlLWNoaWxkcmVuXCI7XG5pbXBvcnQgeyB1c2VTdGFnZ2VyZWRDaGlsZCwgVXNlU3RhZ2dlcmVkQ2hpbGRDb250ZXh0LCB1c2VTdGFnZ2VyZWRDaGlsZHJlbiwgVXNlU3RhZ2dlcmVkQ2hpbGRyZW5JbmZvLCBVc2VTdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnMsIFVzZVN0YWdnZXJlZENoaWxkcmVuUmV0dXJuVHlwZSwgVXNlU3RhZ2dlcmVkQ2hpbGRSZXR1cm4gfSBmcm9tIFwiLi4vY29tcG9uZW50LWRldGFpbC91c2Utc3RhZ2dlcmVkLWNoaWxkcmVuXCI7XG5pbXBvcnQgeyB1c2VNZXJnZWRQcm9wcyB9IGZyb20gXCIuLi9kb20taGVscGVycy91c2UtbWVyZ2VkLXByb3BzXCI7XG5pbXBvcnQgeyB1c2VSZWZFbGVtZW50LCBVc2VSZWZFbGVtZW50UmV0dXJuVHlwZSB9IGZyb20gXCIuLi9kb20taGVscGVycy91c2UtcmVmLWVsZW1lbnRcIjtcbmltcG9ydCB7IHVzZUNoaWxkcmVuSGF2ZUZvY3VzLCB1c2VDaGlsZHJlbkhhdmVGb2N1c0NoaWxkLCBVc2VDaGlsZHJlbkhhdmVGb2N1c1JldHVyblR5cGUgfSBmcm9tIFwiLi4vb2JzZXJ2ZXJzL3VzZS1jaGlsZHJlbi1oYXZlLWZvY3VzXCI7XG5pbXBvcnQgeyB1c2VIYXNDdXJyZW50Rm9jdXMsIFVzZUhhc0N1cnJlbnRGb2N1c1JldHVyblR5cGUgfSBmcm9tIFwiLi4vb2JzZXJ2ZXJzL3VzZS1oYXMtY3VycmVudC1mb2N1c1wiO1xuaW1wb3J0IHsgTWFuYWdlZENoaWxkcmVuLCB1c2VNYW5hZ2VkQ2hpbGQsIHVzZU1hbmFnZWRDaGlsZHJlbiwgVXNlTWFuYWdlZENoaWxkcmVuQ29udGV4dCwgVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZSwgVXNlTWFuYWdlZENoaWxkUmV0dXJuVHlwZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuaW1wb3J0IHsgdXNlU3RhYmxlT2JqZWN0IH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtZ2V0dGVyXCI7XG5cbnR5cGUgT21pdFN0cm9uZzxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+XG5cbi8qZXhwb3J0IGludGVyZmFjZSBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2hpbGRJbmZvPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgR3JpZFNpbmdsZVNlbGVjdFNvcnRhYmxlQ2hpbGRSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiB7XG4gICAgXG59Ki9cblxuZXhwb3J0IGludGVyZmFjZSBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93SW5mbzxSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RTb3J0YWJsZUNoaWxkUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIFVzZVBhZ2luYXRlZENoaWxkcmVuSW5mbzxSb3dFbGVtZW50PiwgVXNlU3RhZ2dlcmVkQ2hpbGRyZW5JbmZvPFJvd0VsZW1lbnQ+IHsgfVxuZXhwb3J0IGludGVyZmFjZSBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm88Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIEdyaWRTaW5nbGVTZWxlY3RTb3J0YWJsZUNoaWxkQ2VsbEluZm88Q2VsbEVsZW1lbnQ+IHsgfVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzPFBhcmVudE9yUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4+IGV4dGVuZHNcbiAgICBPbWl0U3Ryb25nPFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVQYXJhbWV0ZXJzPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIE0+LCBcIm1hbmFnZWRDaGlsZHJlblJldHVyblwiIHwgXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiIHwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiIHwgXCJyZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCIgfCBcInJvdmluZ1RhYkluZGV4UGFyYW1ldGVyc1wiPiB7XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIE0+W1wibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIl0sIFwiZ2V0SGlnaGVzdEluZGV4XCIgfCBcImluZGV4TWFuZ2xlclwiIHwgXCJpbmRleERlbWFuZ2xlclwiIHwgXCJpc1ZhbGlkXCI+O1xuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyczxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBNPltcInR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzXCJdLCBcImlzVmFsaWRcIj47XG4gICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUGFyYW1ldGVyczxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBNPltcInJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnNcIl0sIFwib25SZWFycmFuZ2VkXCI+O1xuICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUGFyYW1ldGVyczxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBNPltcInJvdmluZ1RhYkluZGV4UGFyYW1ldGVyc1wiXSwgXCJpbml0aWFsbHlUYWJiZWRJbmRleFwiPjtcbiAgICBwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnM6IFBpY2s8VXNlUGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIE0+LCBcInBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyc1wiPltcInBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyc1wiXTtcbiAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnM6IFBpY2s8VXNlU3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIE0+LCBcInN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyc1wiPltcInN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyc1wiXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczxSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm88Q2VsbEVsZW1lbnQ+PiB7XG4gICAgcm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvd1BhcmFtZXRlcnM8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT5bXCJyb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyc1wiXSwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0XCIgfCBcInRleHRDb250ZW50UGFyYW1ldGVyc1wiIHwgXCJtYW5hZ2VkQ2hpbGRyZW5SZXR1cm5cIiB8IFwic2luZ2xlU2VsZWN0aW9uQ29udGV4dFwiIHwgXCJncmlkTmF2aWdhdGlvblJvd0NvbnRleHRcIiB8IFwicm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHRcIiB8IFwidHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dFwiIHwgXCJyZWZFbGVtZW50UmV0dXJuXCI+ICYge1xuICAgICAgICBjb250ZXh0OiBDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ29udGV4dDxhbnksIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+OyAvL1VzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8Uk0+W1wiY29udGV4dFwiXTtcbiAgICAgICAgLy9tYW5hZ2VkQ2hpbGRSZXR1cm46IFVzZU1hbmFnZWRDaGlsZFJldHVyblR5cGU8Uk0+W1wibWFuYWdlZENoaWxkUmV0dXJuXCJdO1xuICAgICAgICBjb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczogT21pdFN0cm9uZzxSTSwga2V5b2YgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd0luZm88Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+PjtcbiAgICAgICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnM6IFBpY2s8VXNlU29ydGFibGVDaGlsZEluZm8sIFwiZ2V0U29ydFZhbHVlXCI+O1xuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvd1BhcmFtZXRlcnM8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT5bXCJyb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyc1wiXVtcInRleHRDb250ZW50UGFyYW1ldGVyc1wiXSwgXCJoaWRkZW5cIj47XG4gICAgfTtcbiAgICByb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVSb3dQYXJhbWV0ZXJzPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+W1wicm93QXNQYXJlbnRPZkNlbGxzUGFyYW1ldGVyc1wiXSwgXCJtYW5hZ2VkQ2hpbGRyZW5SZXR1cm5cIiB8IFwicm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzXCIgfCBcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCIgfCBcInR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+ICYge1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPltcInJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnNcIl1bXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiXSwgXCJnZXRIaWdoZXN0SW5kZXhcIiB8IFwicGFnZU5hdmlnYXRpb25TaXplXCIgfCBcImlzVmFsaWRcIiB8IFwiaW5kZXhNYW5nbGVyXCIgfCBcImluZGV4RGVtYW5nbGVyXCI+O1xuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPltcInJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnNcIl1bXCJ0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiXSwgXCJpc1ZhbGlkXCI+O1xuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvd1BhcmFtZXRlcnM8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT5bXCJyb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzXCJdW1wicm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzXCJdLCBcImluaXRpYWxseVRhYmJlZEluZGV4XCI+O1xuICAgIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxQYXJhbWV0ZXJzPENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsSW5mbzxDZWxsRWxlbWVudD4+IGV4dGVuZHNcbiAgICBPbWl0U3Ryb25nPFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2VsbFBhcmFtZXRlcnM8YW55LCBDZWxsRWxlbWVudD4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCIgfCBcInR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHRcIiB8IFwicm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHRcIiB8IFwiZ3JpZE5hdmlnYXRpb25DZWxsQ29udGV4dFwiIHwgXCJyZWZFbGVtZW50UmV0dXJuXCI+IHtcbiAgICAvL3ByZXNzUGFyYW1ldGVyczogVXNlUHJlc3NQYXJhbWV0ZXJzPENlbGxFbGVtZW50PltcInByZXNzUGFyYW1ldGVyc1wiXTtcbiAgICAvL3NvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzOiB7IGdldFNvcnRWYWx1ZTogVXNlU29ydGFibGVDaGlsZEluZm9bXCJnZXRTb3J0VmFsdWVcIl0gfTtcbiAgICAvL21hbmFnZWRDaGlsZENvbnRleHQ6IFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8TT5bXCJtYW5hZ2VkQ2hpbGRDb250ZXh0XCJdO1xuICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNlbGxQYXJhbWV0ZXJzPGFueSwgQ2VsbEVsZW1lbnQ+W1widGV4dENvbnRlbnRQYXJhbWV0ZXJzXCJdLCBcImhpZGRlblwiPjtcbiAgICBjb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM6IFBpY2s8TSwgXCJmb2N1c1NlbGZcIj4gJiBPbWl0U3Ryb25nPE0sIGtleW9mIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsSW5mbzxDZWxsRWxlbWVudD4+O1xuICAgIGNvbnRleHQ6IENvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dDb250ZXh0PGFueSwgQ2VsbEVsZW1lbnQsIE0+O1xuICAgIC8vbWFuYWdlZENoaWxkUmV0dXJuOiBVc2VNYW5hZ2VkQ2hpbGRSZXR1cm5UeXBlPE0+W1wibWFuYWdlZENoaWxkUmV0dXJuXCJdO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNvbnRleHQ8UGFyZW50T3JSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUk0gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxJbmZvPENlbGxFbGVtZW50Pj4gZXh0ZW5kc1xuICAgIFVzZU1hbmFnZWRDaGlsZHJlbkNvbnRleHQ8Uk0+LFxuICAgIFVzZVBhZ2luYXRlZENoaWxkQ29udGV4dCxcbiAgICBVc2VTdGFnZ2VyZWRDaGlsZENvbnRleHQsXG4gICAgUGljazxVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzPFJvd0VsZW1lbnQ+LCBcInR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHRcIj4sXG4gICAgUGljazxVc2VDaGlsZHJlbkhhdmVGb2N1c1JldHVyblR5cGU8Um93RWxlbWVudD4sIFwiY2hpbGRyZW5IYXZlRm9jdXNDaGlsZENvbnRleHRcIj4sXG4gICAgUGljazxVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJldHVyblR5cGU8UGFyZW50T3JSb3dFbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJzaW5nbGVTZWxlY3Rpb25Db250ZXh0XCIgfCBcInJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0XCIgfCBcInR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHRcIiB8IFwiZ3JpZE5hdmlnYXRpb25Sb3dDb250ZXh0XCI+IHtcblxufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd0NvbnRleHQ8UGFyZW50RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm88Q2hpbGRFbGVtZW50Pj4gZXh0ZW5kcyBVc2VNYW5hZ2VkQ2hpbGRyZW5Db250ZXh0PE0+LFxuICAgIFBpY2s8VXNlR3JpZE5hdmlnYXRpb25Sb3dSZXR1cm5UeXBlPFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudD5bXCJyb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm5cIl0sIFwidHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dFwiIHwgXCJyb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dFwiIHwgXCJncmlkTmF2aWdhdGlvbkNlbGxDb250ZXh0XCI+IHtcbiAgICAvL2NvbXBsZXRlR3JpZE5hdmlnYXRpb25Db250ZXh0OiB7XG4gICAgLy9vbkNsaWNrOiAoKSA9PiB2b2lkO1xuICAgIC8vIG9uUHJlc3NTeW5jOiBVc2VQcmVzc1BhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PltcInByZXNzUGFyYW1ldGVyc1wiXVtcIm9uUHJlc3NTeW5jXCJdXG4gICAgLy99XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRPclJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm88Q2VsbEVsZW1lbnQ+PlxuICAgIGV4dGVuZHNcbiAgICBQaWNrPFVzZVBhZ2luYXRlZENoaWxkcmVuUmV0dXJuVHlwZSwgXCJwYWdpbmF0ZWRDaGlsZHJlblJldHVyblwiPixcbiAgICBQaWNrPFVzZVN0YWdnZXJlZENoaWxkcmVuUmV0dXJuVHlwZSwgXCJzdGFnZ2VyZWRDaGlsZHJlblJldHVyblwiPixcbiAgICBPbWl0U3Ryb25nPFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVSZXR1cm5UeXBlPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4sIFwidHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dFwiIHwgXCJzaW5nbGVTZWxlY3Rpb25Db250ZXh0XCIgfCBcInJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0XCIgfCBcImdyaWROYXZpZ2F0aW9uUm93Q29udGV4dFwiIHwgXCJjaGlsZHJlbkhhdmVGb2N1c1BhcmFtZXRlcnNcIiB8IFwibWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyc1wiPiB7XG4gICAgcHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFBhcmVudE9yUm93RWxlbWVudD47XG4gICAgY29udGV4dDogQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNvbnRleHQ8UGFyZW50T3JSb3dFbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPjtcblxuICAgIG1hbmFnZWRDaGlsZHJlblJldHVybjogVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZTxSTT5bXCJtYW5hZ2VkQ2hpbGRyZW5SZXR1cm5cIl07XG4gICAgY2hpbGRyZW5IYXZlRm9jdXNSZXR1cm46IFVzZUNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuVHlwZTxSb3dFbGVtZW50PltcImNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuXCJdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dSZXR1cm5UeXBlPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd0luZm88Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsSW5mbzxDZWxsRWxlbWVudD4+IHtcbiAgICBjb250ZXh0OiBDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93Q29udGV4dDxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgQ00+O1xuICAgIHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxSb3dFbGVtZW50PjtcbiAgICByb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm46IFVzZUdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVSb3dSZXR1cm5UeXBlPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PltcInJvd0FzUGFyZW50T2ZDZWxsc1JldHVyblwiXSAmIHtcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuOiBVc2VNYW5hZ2VkQ2hpbGRyZW5SZXR1cm5UeXBlPENNPltcIm1hbmFnZWRDaGlsZHJlblJldHVyblwiXTtcbiAgICB9O1xuICAgIHJvd0FzQ2hpbGRPZkdyaWRSZXR1cm46IE9taXRTdHJvbmc8VXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvd1JldHVyblR5cGU8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+W1wicm93QXNDaGlsZE9mR3JpZFJldHVyblwiXSwgXCJ0ZXh0Q29udGVudFJldHVyblwiPiAmIHtcbiAgICAgICAgbWFuYWdlZENoaWxkUmV0dXJuOiBVc2VNYW5hZ2VkQ2hpbGRSZXR1cm5UeXBlPFJNPltcIm1hbmFnZWRDaGlsZFJldHVyblwiXTtcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRSZXR1cm46IFVzZVBhZ2luYXRlZENoaWxkUmV0dXJuPFJvd0VsZW1lbnQ+W1wicGFnaW5hdGVkQ2hpbGRSZXR1cm5cIl07XG4gICAgICAgIHN0YWdnZXJlZENoaWxkUmV0dXJuOiBVc2VTdGFnZ2VyZWRDaGlsZFJldHVybjxSb3dFbGVtZW50PltcInN0YWdnZXJlZENoaWxkUmV0dXJuXCJdO1xuICAgICAgICB0ZXh0Q29udGVudFJldHVybjogVXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJvd1JldHVyblR5cGU8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+W1wicm93QXNDaGlsZE9mR3JpZFJldHVyblwiXVtcInRleHRDb250ZW50UmV0dXJuXCJdO1xuICAgIH07XG4gICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuOiBVc2VIYXNDdXJyZW50Rm9jdXNSZXR1cm5UeXBlPFJvd0VsZW1lbnQ+W1wiaGFzQ3VycmVudEZvY3VzUmV0dXJuXCJdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsUmV0dXJuVHlwZTxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENNIGV4dGVuZHMgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxJbmZvPENlbGxFbGVtZW50Pj4gZXh0ZW5kc1xuICAgIE9taXRTdHJvbmc8VXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZUNlbGxSZXR1cm5UeXBlPENlbGxFbGVtZW50PiwgXCJoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzXCI+LFxuICAgIC8vVXNlUHJlc3NSZXR1cm5UeXBlPENlbGxFbGVtZW50PiwgXG4gICAgVXNlUmVmRWxlbWVudFJldHVyblR5cGU8Q2VsbEVsZW1lbnQ+LCBVc2VIYXNDdXJyZW50Rm9jdXNSZXR1cm5UeXBlPENlbGxFbGVtZW50PiwgVXNlTWFuYWdlZENoaWxkUmV0dXJuVHlwZTxDTT4ge1xuICAgIHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxDZWxsRWxlbWVudD47XG5cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbjxQYXJlbnRPclJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm88Q2VsbEVsZW1lbnQ+Pih7XG4gICAgZ3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyxcbiAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzLFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyc1xufTogVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblBhcmFtZXRlcnM8UGFyZW50T3JSb3dFbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0+KTogVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJldHVyblR5cGU8UGFyZW50T3JSb3dFbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPiB7XG5cbiAgICBjb25zdCBnZXRDaGlsZHJlbjogKCkgPT4gTWFuYWdlZENoaWxkcmVuPFJNPiA9IHVzZUNhbGxiYWNrPCgpID0+IE1hbmFnZWRDaGlsZHJlbjxSTT4+KCgpID0+IG1hbmFnZWRDaGlsZHJlblJldHVybi5nZXRDaGlsZHJlbigpLCBbXSk7XG4gICAgY29uc3QgZ2V0SGlnaGVzdENoaWxkSW5kZXg6ICgoKSA9PiBudW1iZXIpID0gdXNlQ2FsbGJhY2s8KCkgPT4gbnVtYmVyPigoKSA9PiBnZXRDaGlsZHJlbigpLmdldEhpZ2hlc3RJbmRleCgpLCBbXSk7XG5cbiAgICBcbiAgICBjb25zdCBpc1ZhbGlkID0gdXNlQ2FsbGJhY2soKGk6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGdldENoaWxkcmVuKCkuZ2V0QXQoaSk7XG4gICAgICAgIGlmIChjaGlsZCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoY2hpbGQuaGlkZGVuKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUGFyYW1ldGVycyxcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHQsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNvbnRleHQsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQsXG4gICAgICAgIGdyaWROYXZpZ2F0aW9uUm93Q29udGV4dCxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICAuLi5ncmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJldHVyblxuICAgIH0gPSB1c2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlPFBhcmVudE9yUm93RWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4oe1xuICAgICAgICBncmlkTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7IGdldEhpZ2hlc3RJbmRleDogZ2V0SGlnaGVzdENoaWxkSW5kZXgsIGlzVmFsaWQsIC4uLmxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzIH0sXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybjogeyBnZXRDaGlsZHJlbiB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IHsgaW5pdGlhbGx5VGFiYmVkSW5kZXg6IHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnMuaW5pdGlhbGx5U2VsZWN0ZWRJbmRleCwgLi4ucm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzIH0sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnMsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7IGlzVmFsaWQsIC4uLnR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzIH0sXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG9uUmVhcnJhbmdlZDogdXNlU3RhYmxlQ2FsbGJhY2soKCkgPT4geyByZWZyZXNoUGFnaW5hdGlvbihwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnMucGFnaW5hdGlvbk1pbiwgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzLnBhZ2luYXRpb25NYXgpOyB9KSxcbiAgICAgICAgICAgIC4uLnJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnNcbiAgICAgICAgfSxcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnNcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgbGluZWFyTmF2aWdhdGlvblJldHVybiwgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybiB9ID0gZ3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25SZXR1cm47XG4gICAgY29uc3QgeyBpbmRleERlbWFuZ2xlciB9ID0gcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuO1xuXG4gICAgY29uc3QgeyBjaGlsZHJlbkhhdmVGb2N1c0NoaWxkQ29udGV4dCwgY2hpbGRyZW5IYXZlRm9jdXNSZXR1cm4gfSA9IHVzZUNoaWxkcmVuSGF2ZUZvY3VzPFJvd0VsZW1lbnQ+KHsgY2hpbGRyZW5IYXZlRm9jdXNQYXJhbWV0ZXJzIH0pO1xuICAgIGNvbnN0IHsgY29udGV4dDogeyBtYW5hZ2VkQ2hpbGRDb250ZXh0IH0sIG1hbmFnZWRDaGlsZHJlblJldHVybiB9ID0gdXNlTWFuYWdlZENoaWxkcmVuPFJNPih7IG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgb25DaGlsZENvdW50Q2hhbmdlOiB1c2VTdGFibGVDYWxsYmFjayhjID0+IG9uQ2hpbGRDb3VudENoYW5nZShjKSksIC4uLm1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnMgfSB9KTtcbiAgICBjb25zdCB7IHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuLCBwYWdpbmF0ZWRDaGlsZHJlblJldHVybjogeyByZWZyZXNoUGFnaW5hdGlvbiB9LCBtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IG9uQ2hpbGRDb3VudENoYW5nZSB9LCBjb250ZXh0OiB7IHBhZ2luYXRlZENoaWxkQ29udGV4dCB9IH0gPSB1c2VQYWdpbmF0ZWRDaGlsZHJlbjxSb3dFbGVtZW50LCBSTT4oeyBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sIHBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVycywgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHsgaW5kZXhEZW1hbmdsZXIgfSB9KTtcbiAgICBjb25zdCB7IGNvbnRleHQ6IHsgc3RhZ2dlcmVkQ2hpbGRDb250ZXh0IH0sIHN0YWdnZXJlZENoaWxkcmVuUmV0dXJuIH0gPSB1c2VTdGFnZ2VyZWRDaGlsZHJlbih7IG1hbmFnZWRDaGlsZHJlblJldHVybiwgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzIH0pXG4gICAgY29uc3QgcHJvcHMgPSB1c2VNZXJnZWRQcm9wcyhsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuLnByb3BzU3RhYmxlLCB0eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuLnByb3BzU3RhYmxlKTtcbiAgICAvKmNvbnN0IGdldERlZmF1bHRQYWdpbmF0aW9uVmlzaWJsZSA9IHVzZVN0YWJsZUNhbGxiYWNrKChpOiBudW1iZXIpID0+IHtcbiAgICAgICAgcmV0dXJuIChpID49IChwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnMucGFnaW5hdGlvbk1pbiA/PyAtSW5maW5pdHkpKSAmJiAoaSA8IChwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnMucGFnaW5hdGlvbk1heCA/PyBJbmZpbml0eSkpO1xuICAgIH0pOyovXG4gICAgY29uc3QgY29udGV4dCA9IHVzZVN0YWJsZU9iamVjdDxDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ29udGV4dDxQYXJlbnRPclJvd0VsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+Pih7XG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNvbnRleHQsXG4gICAgICAgIG1hbmFnZWRDaGlsZENvbnRleHQsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgICAgICBjaGlsZHJlbkhhdmVGb2N1c0NoaWxkQ29udGV4dCxcbiAgICAgICAgZ3JpZE5hdmlnYXRpb25Sb3dDb250ZXh0LFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZENvbnRleHQsXG4gICAgICAgIHN0YWdnZXJlZENoaWxkQ29udGV4dFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcHJvcHMsXG5cbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICAuLi5ncmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJldHVybixcbiAgICAgICAgY2hpbGRyZW5IYXZlRm9jdXNSZXR1cm4sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuLFxuICAgIH1cblxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvdzxSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm88Q2VsbEVsZW1lbnQ+Pih7XG4gICAgcm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnM6IHtcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgY29udGV4dDogeyBjaGlsZHJlbkhhdmVGb2N1c0NoaWxkQ29udGV4dCwgZ3JpZE5hdmlnYXRpb25Sb3dDb250ZXh0LCBtYW5hZ2VkQ2hpbGRDb250ZXh0OiBtY2MxLCByb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dCwgc2luZ2xlU2VsZWN0aW9uQ29udGV4dCwgdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dCwgc3RhZ2dlcmVkQ2hpbGRDb250ZXh0LCBwYWdpbmF0ZWRDaGlsZENvbnRleHQgfSxcbiAgICAgICAgY29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnMsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzOiB7IGhpZGRlbiB9LFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgICAgIC4uLnJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzXG4gICAgfSxcbiAgICByb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzOiB7XG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgICAgICAuLi5yb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzXG4gICAgfVxufTogVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnM8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4pOiBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UmV0dXJuVHlwZTxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPiB7XG5cbiAgICBjb25zdCB7IGluZGV4IH0gPSBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzO1xuICAgIGNvbnN0IHtcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBzZXRDaGlsZENvdW50SWZQYWdpbmF0ZWQsIHNldFBhZ2luYXRpb25WaXNpYmxlLCBzZXRQYXJlbnRJc1BhZ2luYXRlZCB9LFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZFJldHVybjogeyBwYWdpbmF0ZWRWaXNpYmxlLCBpc1BhZ2luYXRlZCwgaGlkZUJlY2F1c2VQYWdpbmF0ZWQgfSxcbiAgICAgICAgcHJvcHM6IHBhZ2luYXRpb25Qcm9wc1xuICAgIH0gPSB1c2VQYWdpbmF0ZWRDaGlsZDxSb3dFbGVtZW50Pih7IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSwgY29udGV4dDogeyBwYWdpbmF0ZWRDaGlsZENvbnRleHQgfSB9KTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBzZXRQYXJlbnRJc1N0YWdnZXJlZCwgc2V0U3RhZ2dlcmVkVmlzaWJsZSB9LFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZFJldHVybjogeyBzdGFnZ2VyZWRWaXNpYmxlLCBpc1N0YWdnZXJlZCwgaGlkZUJlY2F1c2VTdGFnZ2VyZWQgfSxcbiAgICAgICAgcHJvcHM6IHN0YWdnZXJlZFByb3BzXG4gICAgfSA9IHVzZVN0YWdnZXJlZENoaWxkPFJvd0VsZW1lbnQ+KHsgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LCBjb250ZXh0OiB7IHN0YWdnZXJlZENoaWxkQ29udGV4dCB9IH0pXG5cbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycy5oaWRkZW4gfHw9IChoaWRlQmVjYXVzZVBhZ2luYXRlZCB8fCBoaWRlQmVjYXVzZVN0YWdnZXJlZCk7XG4gICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzLmRpc2FibGVkIHx8PSByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycy5oaWRkZW47XG5cbiAgICBjb25zdCBnZXRDaGlsZHJlbiA9IHVzZUNhbGxiYWNrKCgpID0+IG1hbmFnZWRDaGlsZHJlblJldHVybi5nZXRDaGlsZHJlbigpLCBbXSk7XG4gICAgY29uc3QgZ2V0SGlnaGVzdENoaWxkSW5kZXg6ICgoKSA9PiBudW1iZXIpID0gdXNlQ2FsbGJhY2s8KCkgPT4gbnVtYmVyPigoKSA9PiBnZXRDaGlsZHJlbigpLmdldEhpZ2hlc3RJbmRleCgpLCBbXSk7XG4gICAgY29uc3QgaXNWYWxpZCA9IHVzZUNhbGxiYWNrKChpOiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSBnZXRDaGlsZHJlbigpLmdldEF0KGkpO1xuICAgICAgICBpZiAoY2hpbGQgPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGNoaWxkLmhpZGRlbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgeyByZWZFbGVtZW50UmV0dXJuIH0gPSB1c2VSZWZFbGVtZW50PFJvd0VsZW1lbnQ+KHsgcmVmRWxlbWVudFBhcmFtZXRlcnM6IHt9IH0pO1xuXG5cbiAgICBjb25zdCByOiBVc2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblJvd1JldHVyblR5cGU8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+ID0gdXNlR3JpZE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Sb3c8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4oe1xuICAgICAgICByb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAuLi5yb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiB7IGluaXRpYWxseVRhYmJlZEluZGV4OiAwLCAuLi5yb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMgfSxcbiAgICAgICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7IGlzVmFsaWQsIC4uLnR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzIH0sXG4gICAgICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogeyBpc1ZhbGlkLCBnZXRIaWdoZXN0SW5kZXg6IGdldEhpZ2hlc3RDaGlsZEluZGV4LCBwYWdlTmF2aWdhdGlvblNpemU6IDAsIGluZGV4RGVtYW5nbGVyOiBpZGVudGl0eSwgaW5kZXhNYW5nbGVyOiBpZGVudGl0eSwgLi4ubGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMgfSxcbiAgICAgICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybjogeyBnZXRDaGlsZHJlbiB9LFxuICAgICAgICB9LFxuICAgICAgICByb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgLi4ucm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnMsXG4gICAgICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgICAgICBncmlkTmF2aWdhdGlvblJvd0NvbnRleHQsXG4gICAgICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dCxcbiAgICAgICAgICAgIHNpbmdsZVNlbGVjdGlvbkNvbnRleHQsXG4gICAgICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgICAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogeyBoaWRkZW4sIC4uLnRleHRDb250ZW50UGFyYW1ldGVycyB9LFxuICAgICAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuOiB7IGdldENoaWxkcmVuIH0sXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHsgcm93QXNDaGlsZE9mR3JpZFJldHVybiwgcm93QXNQYXJlbnRPZkNlbGxzUmV0dXJuIH0gPSByO1xuXG5cbiAgICBjb25zdCB7IGNvbnRleHQ6IHsgbWFuYWdlZENoaWxkQ29udGV4dCB9LCBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4gfSA9IHVzZU1hbmFnZWRDaGlsZHJlbjxDTT4oeyBtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzOiByLnJvd0FzUGFyZW50T2ZDZWxsc1JldHVybi5tYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzIH0pO1xuICAgIGNvbnN0IHsgZ2V0RWxlbWVudCB9ID0gcmVmRWxlbWVudFJldHVybjtcblxuICAgIGNvbnN0IGJhc2VJbmZvOiBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4gPSB7XG4gICAgICAgIGdldEVsZW1lbnQsXG4gICAgICAgIHNldFRhYmJhYmxlOiByLnJvd0FzQ2hpbGRPZkdyaWRSZXR1cm4ucm92aW5nVGFiSW5kZXhDaGlsZFJldHVybi5zZXRUYWJiYWJsZSxcbiAgICAgICAgZ2V0VGFiYmFibGU6IHIucm93QXNDaGlsZE9mR3JpZFJldHVybi5yb3ZpbmdUYWJJbmRleENoaWxkUmV0dXJuLmdldFRhYmJhYmxlLFxuICAgICAgICB0YWJiYWJsZTogci5yb3dBc0NoaWxkT2ZHcmlkUmV0dXJuLnJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4udGFiYmFibGUsXG4gICAgICAgIGluZGV4OiBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLmluZGV4LFxuICAgICAgICBoaWRkZW46IHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzLmhpZGRlbixcbiAgICAgICAgc2VsZWN0ZWQ6IHIucm93QXNDaGlsZE9mR3JpZFJldHVybi5zaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybi5zZWxlY3RlZCxcbiAgICAgICAgZm9jdXNTZWxmOiByLnJvd0FzQ2hpbGRPZkdyaWRSZXR1cm4uZ3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzLmZvY3VzU2VsZixcbiAgICAgICAgZ2V0U2VsZWN0ZWQ6IHIucm93QXNDaGlsZE9mR3JpZFJldHVybi5zaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybi5nZXRTZWxlY3RlZCxcbiAgICAgICAgc2V0TG9jYWxTZWxlY3RlZDogci5yb3dBc0NoaWxkT2ZHcmlkUmV0dXJuLm1hbmFnZWRDaGlsZFBhcmFtZXRlcnMuc2V0TG9jYWxTZWxlY3RlZCxcbiAgICAgICAgZGlzYWJsZWQ6IHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycy5kaXNhYmxlZCxcbiAgICAgICAgc2V0VGFiYmFibGVDb2x1bW5JbmRleDogci5yb3dBc0NoaWxkT2ZHcmlkUmV0dXJuLmdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVycy5zZXRUYWJiYWJsZUNvbHVtbkluZGV4LFxuICAgICAgICBnZXRTb3J0VmFsdWU6IHJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzLnNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzLmdldFNvcnRWYWx1ZSxcbiAgICAgICAgc2V0UGFnaW5hdGlvblZpc2libGUsXG4gICAgICAgIHNldENoaWxkQ291bnRJZlBhZ2luYXRlZDogc2V0Q2hpbGRDb3VudElmUGFnaW5hdGVkLFxuICAgICAgICBzZXRQYXJlbnRJc1BhZ2luYXRlZCxcbiAgICAgICAgc2V0UGFyZW50SXNTdGFnZ2VyZWQsXG4gICAgICAgIHNldFN0YWdnZXJlZFZpc2libGVcbiAgICB9XG5cbiAgICBjb25zdCB7IG1hbmFnZWRDaGlsZFJldHVybiB9ID0gdXNlTWFuYWdlZENoaWxkPFJNPih7IGNvbnRleHQ6IHsgbWFuYWdlZENoaWxkQ29udGV4dDogbWNjMSB9LCBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4IH0gfSwgeyAuLi5iYXNlSW5mbywgLi4uY29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnMgfSBhcyBSTSlcblxuXG4gICAgY29uc3QgY29udGV4dCA9IHVzZVN0YWJsZU9iamVjdDxDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93Q29udGV4dDxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgQ00+Pih7XG4gICAgICAgIG1hbmFnZWRDaGlsZENvbnRleHQsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0OiByLnJvd0FzUGFyZW50T2ZDZWxsc1JldHVybi5yb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dCxcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dDogci5yb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm4udHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dCxcbiAgICAgICAgLy8gY29tcGxldGVHcmlkTmF2aWdhdGlvbkNvbnRleHQ6IHVzZVN0YWJsZU9iamVjdCh7fSksXG4gICAgICAgIGdyaWROYXZpZ2F0aW9uQ2VsbENvbnRleHQ6IHIucm93QXNQYXJlbnRPZkNlbGxzUmV0dXJuLmdyaWROYXZpZ2F0aW9uQ2VsbENvbnRleHQsXG4gICAgfSk7XG4gICAgY29uc3QgeyBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzIH0gPSB1c2VDaGlsZHJlbkhhdmVGb2N1c0NoaWxkKHsgY2hpbGRyZW5IYXZlRm9jdXNDaGlsZENvbnRleHQgfSk7XG4gICAgLy9jb25zdCB7IHJlZkVsZW1lbnRSZXR1cm4gfSA9IHVzZVJlZkVsZW1lbnQ8Um93RWxlbWVudD4oeyByZWZFbGVtZW50UGFyYW1ldGVyczoge30gfSlcbiAgICBjb25zdCB7IGhhc0N1cnJlbnRGb2N1c1JldHVybiB9ID0gdXNlSGFzQ3VycmVudEZvY3VzKHsgcmVmRWxlbWVudFJldHVybiwgaGFzQ3VycmVudEZvY3VzUGFyYW1ldGVyczogeyAuLi5oYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzLCBvbkN1cnJlbnRGb2N1c2VkQ2hhbmdlZDogbnVsbCB9IH0pO1xuICAgIGNvbnN0IHByb3BzID0gdXNlTWVyZ2VkUHJvcHMoXG4gICAgICAgIHJlZkVsZW1lbnRSZXR1cm4ucHJvcHNTdGFibGUsXG4gICAgICAgIC8vIFRPRE86IFJvd3MgZG9uJ3QgdXNlIHRhYkluZGV4LCBidXQganVzdCBleGNsdWRpbmcgcHJvcHMgaGVyZSBpcy4uLndlaXJkLlxuICAgICAgICAvL3Iucm93QXNDaGlsZE9mR3JpZFJldHVybi5yb3ZpbmdUYWJJbmRleENoaWxkUmV0dXJuLnByb3BzVW5zdGFibGUsXG4gICAgICAgIHIucm93QXNDaGlsZE9mR3JpZFJldHVybi5zaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybi5wcm9wc1Vuc3RhYmxlLFxuICAgICAgICByLnJvd0FzUGFyZW50T2ZDZWxsc1JldHVybi5saW5lYXJOYXZpZ2F0aW9uUmV0dXJuLnByb3BzU3RhYmxlLFxuICAgICAgICByLnJvd0FzUGFyZW50T2ZDZWxsc1JldHVybi50eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuLnByb3BzU3RhYmxlLFxuICAgICAgICBoYXNDdXJyZW50Rm9jdXNSZXR1cm4ucHJvcHNTdGFibGUsXG4gICAgICAgIHBhZ2luYXRpb25Qcm9wcyxcbiAgICAgICAgc3RhZ2dlcmVkUHJvcHNcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHJvd0FzUGFyZW50T2ZDZWxsc1JldHVybjoge1xuICAgICAgICAgICAgLi4ucm93QXNQYXJlbnRPZkNlbGxzUmV0dXJuLFxuICAgICAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuXG4gICAgICAgIH0sXG4gICAgICAgIHJvd0FzQ2hpbGRPZkdyaWRSZXR1cm46IHtcbiAgICAgICAgICAgIC4uLnJvd0FzQ2hpbGRPZkdyaWRSZXR1cm4sXG4gICAgICAgICAgICBtYW5hZ2VkQ2hpbGRSZXR1cm4sXG4gICAgICAgICAgICBzdGFnZ2VyZWRDaGlsZFJldHVybjogeyBpc1N0YWdnZXJlZCwgc3RhZ2dlcmVkVmlzaWJsZSwgaGlkZUJlY2F1c2VTdGFnZ2VyZWQgfSxcbiAgICAgICAgICAgIHBhZ2luYXRlZENoaWxkUmV0dXJuOiB7IGlzUGFnaW5hdGVkLCBwYWdpbmF0ZWRWaXNpYmxlLCBoaWRlQmVjYXVzZVBhZ2luYXRlZCB9XG4gICAgICAgIH0sXG4gICAgICAgIGhhc0N1cnJlbnRGb2N1c1JldHVyblxuXG4gICAgICAgIC8vbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICAvLy4uLmdyaWROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uUmV0dXJuXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGw8Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxJbmZvPENlbGxFbGVtZW50Pj4oe1xuICAgIGdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnMsXG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcbiAgICBjb250ZXh0OiB7IGdyaWROYXZpZ2F0aW9uQ2VsbENvbnRleHQsIG1hbmFnZWRDaGlsZENvbnRleHQsIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0LCB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0IH0sXG4gICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuIH0sXG4gICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzLFxuICAgIC8vbWFuYWdlZENoaWxkQ29udGV4dCxcbiAgICBjb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM6IHsgZm9jdXNTZWxmLCAuLi5jb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnMgfSxcbiAgICAvL3NvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzOiB7IGdldFNvcnRWYWx1ZSB9LFxuICAgIC8vICAgIHByZXNzUGFyYW1ldGVyczogeyBvblByZXNzU3luYywgLi4ucHJlc3NQYXJhbWV0ZXJzIH0sXG59OiBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM8Q2VsbEVsZW1lbnQsIE0+KTogVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxSZXR1cm5UeXBlPENlbGxFbGVtZW50LCBNPiB7XG5cbiAgICBjb25zdCB7IGluZGV4IH0gPSBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzO1xuXG4gICAgY29uc3QgeyByZWZFbGVtZW50UmV0dXJuIH0gPSB1c2VSZWZFbGVtZW50PENlbGxFbGVtZW50Pih7IHJlZkVsZW1lbnRQYXJhbWV0ZXJzOiB7fSB9KTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybixcbiAgICAgICAgdGV4dENvbnRlbnRSZXR1cm4sXG4gICAgICAgIHByZXNzUGFyYW1ldGVyc1xuICAgIH0gPSB1c2VHcmlkTmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNlbGw8Q2VsbEVsZW1lbnQ+KHtcbiAgICAgICAgZ3JpZE5hdmlnYXRpb25DZWxsQ29udGV4dCxcbiAgICAgICAgZ3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVycyxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHQsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnM6IHsgaGlkZGVuLCAuLi50ZXh0Q29udGVudFBhcmFtZXRlcnMgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgeyBoYXNDdXJyZW50Rm9jdXNSZXR1cm4gfSA9IHVzZUhhc0N1cnJlbnRGb2N1czxDZWxsRWxlbWVudD4oeyBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7IG9uQ3VycmVudEZvY3VzZWRDaGFuZ2VkOiBudWxsLCAuLi5oYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzIH0sIHJlZkVsZW1lbnRSZXR1cm4gfSk7XG5cblxuXG4gICAgLyogY29uc3QgeyBwcmVzc1JldHVybiB9ID0gdXNlUHJlc3M8Q2VsbEVsZW1lbnQ+KHtcbiAgICAgICAgIHByZXNzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgIG9uUHJlc3NTeW5jOiB1c2VTdGFibGVDYWxsYmFjazxOb25OdWxsYWJsZTx0eXBlb2Ygb25QcmVzc1N5bmM+PihlID0+IHtcbiAgICAgICAgICAgICAgICAgb25QcmVzc1N5bmM/LihlKTtcbiAgICAgICAgICAgICAgICAgY29tcGxldGVHcmlkTmF2aWdhdGlvbkNvbnRleHQub25QcmVzc1N5bmM/LihlKTtcbiAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICBmb2N1c1NlbGY6IG51bGwsXG4gICAgICAgICAgICAgLi4ucHJlc3NQYXJhbWV0ZXJzXG4gICAgICAgICB9LFxuICAgICAgICAgcmVmRWxlbWVudFJldHVyblxuICAgICB9KTsqL1xuXG5cblxuICAgIGNvbnN0IGJhc2VJbmZvOiBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm88Q2VsbEVsZW1lbnQ+ID0ge1xuICAgICAgICBmb2N1c1NlbGYsXG4gICAgICAgIGdldEVsZW1lbnQ6IHJlZkVsZW1lbnRSZXR1cm4uZ2V0RWxlbWVudCxcbiAgICAgICAgaGlkZGVuOiByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycy5oaWRkZW4sXG4gICAgICAgIGluZGV4OiBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLmluZGV4LFxuICAgICAgICBnZXRUYWJiYWJsZTogcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybi5nZXRUYWJiYWJsZSxcbiAgICAgICAgc2V0VGFiYmFibGU6IHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4uc2V0VGFiYmFibGUsXG4gICAgICAgIHRhYmJhYmxlOiByb3ZpbmdUYWJJbmRleENoaWxkUmV0dXJuLnRhYmJhYmxlLFxuICAgICAgICAvL2dldFNvcnRWYWx1ZVxuICAgIH1cblxuICAgIGNvbnN0IHsgbWFuYWdlZENoaWxkUmV0dXJuIH0gPSB1c2VNYW5hZ2VkQ2hpbGQ8TT4oe1xuICAgICAgICBjb250ZXh0OiB7IG1hbmFnZWRDaGlsZENvbnRleHQgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9XG4gICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgLi4uYmFzZUluZm8sXG4gICAgICAgICAgICAuLi5jb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnNcbiAgICAgICAgfSBhcyBNKVxuXG4gICAgY29uc3QgcHJvcHMgPSB1c2VNZXJnZWRQcm9wcyhcbiAgICAgICAgcmVmRWxlbWVudFJldHVybi5wcm9wc1N0YWJsZSxcbiAgICAgICAgLy9wcmVzc1JldHVybi5wcm9wc1N0YWJsZSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybi5wcm9wc1Vuc3RhYmxlLFxuICAgICAgICBoYXNDdXJyZW50Rm9jdXNSZXR1cm4ucHJvcHNTdGFibGVcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHJlZkVsZW1lbnRSZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4sXG4gICAgICAgIHByZXNzUGFyYW1ldGVycyxcbiAgICAgICAgLy9wcmVzc1JldHVybixcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRSZXR1cm4sXG4gICAgICAgIHRleHRDb250ZW50UmV0dXJuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyB9IGZyb20gXCJjb21wb25lbnQtZGV0YWlsL3VzZS10eXBlYWhlYWQtbmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgdXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb24sIHVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2hpbGQgfSBmcm9tIFwiLi4vY29tcG9uZW50LWRldGFpbC91c2UtbGlzdC1uYXZpZ2F0aW9uLXNpbmdsZS1zZWxlY3Rpb25cIjtcbmltcG9ydCB7IFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDaGlsZEluZm8sIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDaGlsZFBhcmFtZXRlcnMsIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDaGlsZFJldHVyblR5cGUsIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVQYXJhbWV0ZXJzLCBVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUmV0dXJuVHlwZSB9IGZyb20gXCIuLi9jb21wb25lbnQtZGV0YWlsL3VzZS1saXN0LW5hdmlnYXRpb24tc2luZ2xlLXNlbGVjdGlvbi1zb3J0YWJsZVwiO1xuaW1wb3J0IHsgdXNlUGFnaW5hdGVkQ2hpbGQsIFVzZVBhZ2luYXRlZENoaWxkQ29udGV4dCwgdXNlUGFnaW5hdGVkQ2hpbGRyZW4sIFVzZVBhZ2luYXRlZENoaWxkcmVuSW5mbywgVXNlUGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzLCBVc2VQYWdpbmF0ZWRDaGlsZHJlblJldHVyblR5cGUsIFVzZVBhZ2luYXRlZENoaWxkUmV0dXJuIH0gZnJvbSBcIi4uL2NvbXBvbmVudC1kZXRhaWwvdXNlLXBhZ2luYXRlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgVXNlU29ydGFibGVDaGlsZEluZm8sIHVzZVNvcnRhYmxlQ2hpbGRyZW4gfSBmcm9tIFwiLi4vY29tcG9uZW50LWRldGFpbC91c2Utc29ydGFibGUtY2hpbGRyZW5cIjtcbmltcG9ydCB7IHVzZVN0YWdnZXJlZENoaWxkLCBVc2VTdGFnZ2VyZWRDaGlsZENvbnRleHQsIHVzZVN0YWdnZXJlZENoaWxkcmVuLCBVc2VTdGFnZ2VyZWRDaGlsZHJlbkluZm8sIFVzZVN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVycywgVXNlU3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm5UeXBlLCBVc2VTdGFnZ2VyZWRDaGlsZFJldHVybiB9IGZyb20gXCIuLi9jb21wb25lbnQtZGV0YWlsL3VzZS1zdGFnZ2VyZWQtY2hpbGRyZW5cIjtcbmltcG9ydCB7IHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4uL2RvbS1oZWxwZXJzL3VzZS1tZXJnZWQtcHJvcHNcIjtcbmltcG9ydCB7IHVzZVJlZkVsZW1lbnQsIFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL2RvbS1oZWxwZXJzL3VzZS1yZWYtZWxlbWVudFwiO1xuaW1wb3J0IHsgdXNlQ2hpbGRyZW5IYXZlRm9jdXMsIHVzZUNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGQsIFVzZUNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRQYXJhbWV0ZXJzLCBVc2VDaGlsZHJlbkhhdmVGb2N1c1JldHVyblR5cGUgfSBmcm9tIFwiLi4vb2JzZXJ2ZXJzL3VzZS1jaGlsZHJlbi1oYXZlLWZvY3VzXCI7XG5pbXBvcnQgeyB1c2VIYXNDdXJyZW50Rm9jdXMsIFVzZUhhc0N1cnJlbnRGb2N1c1JldHVyblR5cGUgfSBmcm9tIFwiLi4vb2JzZXJ2ZXJzL3VzZS1oYXMtY3VycmVudC1mb2N1c1wiO1xuaW1wb3J0IHsgTWFuYWdlZENoaWxkcmVuLCB1c2VNYW5hZ2VkQ2hpbGQsIHVzZU1hbmFnZWRDaGlsZHJlbiwgVXNlTWFuYWdlZENoaWxkcmVuQ29udGV4dCwgVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZSwgVXNlTWFuYWdlZENoaWxkUmV0dXJuVHlwZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtbWFuYWdlZC1jaGlsZHJlblwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuaW1wb3J0IHsgdXNlU3RhYmxlT2JqZWN0IH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtZ2V0dGVyXCI7XG5cbnR5cGUgT21pdFN0cm9uZzxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBPbWl0PFQsIEs+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlQ2hpbGRJbmZvPENoaWxkRWxlbWVudD4sIFVzZVBhZ2luYXRlZENoaWxkcmVuSW5mbzxDaGlsZEVsZW1lbnQ+LCBVc2VTdGFnZ2VyZWRDaGlsZHJlbkluZm88Q2hpbGRFbGVtZW50PiB7XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVyczxQYXJlbnRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88Q2hpbGRFbGVtZW50Pj4gZXh0ZW5kcyBQaWNrPFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVQYXJhbWV0ZXJzPFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4sIFwic2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyc1wiPiB7XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVBhcmFtZXRlcnM8UGFyZW50RWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPltcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCJdLCBcImdldEhpZ2hlc3RJbmRleFwiIHwgXCJpc1ZhbGlkXCI+O1xuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVQYXJhbWV0ZXJzPFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT5bXCJ0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiXSwgXCJpc1ZhbGlkXCI+O1xuICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVBhcmFtZXRlcnM8UGFyZW50RWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPltcInJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnNcIl0sIFwib25SZWFycmFuZ2VkXCI+O1xuICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiBVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUGFyYW1ldGVyczxQYXJlbnRFbGVtZW50LCBDaGlsZEVsZW1lbnQsIE0+W1wic29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnNcIl07XG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVQYXJhbWV0ZXJzPFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT5bXCJyb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnNcIl0sIFwiaW5pdGlhbGx5VGFiYmVkSW5kZXhcIj47XG4gICAgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzOiBQaWNrPFVzZVBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQsIE0+LCBcInBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyc1wiPltcInBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyc1wiXTtcbiAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnM6IFBpY2s8VXNlU3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzPENoaWxkRWxlbWVudCwgTT4sIFwic3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+W1wic3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzXCJdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPFBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+PiBleHRlbmRzXG4gICAgUGljazxVc2VQYWdpbmF0ZWRDaGlsZHJlblJldHVyblR5cGUsIFwicGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm5cIj4sXG4gICAgUGljazxVc2VTdGFnZ2VyZWRDaGlsZHJlblJldHVyblR5cGUsIFwic3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm5cIj4sXG4gICAgUGljazxVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlUmV0dXJuVHlwZTxQYXJlbnRFbGVtZW50LCBDaGlsZEVsZW1lbnQsIE0+LCBcInJvdmluZ1RhYkluZGV4UmV0dXJuXCIgfCBcInNpbmdsZVNlbGVjdGlvblJldHVyblwiIHwgXCJsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuXCIgfCBcInR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm5cIiB8IFwicmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuXCIgfCBcInNvcnRhYmxlQ2hpbGRyZW5SZXR1cm5cIj4ge1xuICAgIHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxQYXJlbnRFbGVtZW50PjtcbiAgICBjb250ZXh0OiBDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ29udGV4dDxQYXJlbnRFbGVtZW50LCBDaGlsZEVsZW1lbnQsIE0+O1xuXG4gICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuOiBVc2VNYW5hZ2VkQ2hpbGRyZW5SZXR1cm5UeXBlPE0+W1wibWFuYWdlZENoaWxkcmVuUmV0dXJuXCJdO1xuICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuOiBVc2VDaGlsZHJlbkhhdmVGb2N1c1JldHVyblR5cGU8Q2hpbGRFbGVtZW50PltcImNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuXCJdO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNvbnRleHQ8UGFyZW50RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRJbmZvPENoaWxkRWxlbWVudD4+IGV4dGVuZHNcbiAgICBVc2VNYW5hZ2VkQ2hpbGRyZW5Db250ZXh0PE0+LFxuICAgIFVzZVBhZ2luYXRlZENoaWxkQ29udGV4dCxcbiAgICBVc2VTdGFnZ2VyZWRDaGlsZENvbnRleHQsXG4gICAgUGljazxVc2VDaGlsZHJlbkhhdmVGb2N1c1JldHVyblR5cGU8Q2hpbGRFbGVtZW50PiwgXCJjaGlsZHJlbkhhdmVGb2N1c0NoaWxkQ29udGV4dFwiPixcbiAgICBQaWNrPFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PiwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0XCI+LFxuICAgIFBpY2s8VXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZVJldHVyblR5cGU8UGFyZW50RWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPiwgXCJzaW5nbGVTZWxlY3Rpb25Db250ZXh0XCIgfCBcInJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0XCIgfCBcInR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHRcIj4ge1xuICAgIGNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRDb250ZXh0OiBVc2VDaGlsZHJlbkhhdmVGb2N1c0NoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+W1wiY2hpbGRyZW5IYXZlRm9jdXNDaGlsZENvbnRleHRcIl07XG59XG5cbi8qKlxuICogQWxsIHRoZSBsaXN0LXJlbGF0ZWQgaG9va3MgY29tYmluZWQgaW50byBvbmUgZ2lhbnQgaG9vayB0aGF0IGVuY2Fwc3VsYXRlcyBldmVyeXRoaW5nLlxuICogXG4gKiBVbmxpa2UgbW9zdCBvdGhlcnMsIHRoaXMgaG9vayBhc3N1bWUncyBpdCdzIHRoZSBmaW5hbCBvbmUtLXRoZSBcIm91dGVybW9zdFwiIGhvb2sgaW4gdGhlIGNvbXBvbmVudC0tc28gaXQgdXNlcyBgdXNlTWFuYWdlZENoaWxkcmVuYCBhbmQgd3JhcHMgZXZlcnl0aGluZyB1cCBuaWNlbHksXG4gKiBjb21iaW5pbmcgZXZlbnQgaGFuZGxlcnMgdGhhdCBhcmUgdXNlZCBpbiBtdWx0aXBsZSBzdWItaG9va3MsIGNvbGxlY3RpbmcgYWxsIHRoZSBuZWNlc3NhcnkgY29udGV4dC1yZWxhdGVkIGRhdGEsIGFuZCBtZXJnaW5nIGFsbCBrbm93biBET00gcHJvcHMgdG9nZXRoZXIuXG4gKiBcbiAqIFxuICogXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb248UGFyZW50RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRJbmZvPENoaWxkRWxlbWVudD4+KHtcbiAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyxcbiAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzLFxuICAgIHBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgLi4uY29tcGxldGVMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnNcbn06IFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzPFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4pOiBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uUmV0dXJuVHlwZTxQYXJlbnRFbGVtZW50LCBDaGlsZEVsZW1lbnQsIE0+IHtcbiAgICAvL3R5cGUgTSA9IFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2hpbGRJbmZvPENoaWxkRWxlbWVudD47XG4gICAgY29uc3QgeyBpbml0aWFsbHlTZWxlY3RlZEluZGV4IH0gPSBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzO1xuICAgIGNvbnN0IGdldENoaWxkcmVuOiAoKSA9PiBNYW5hZ2VkQ2hpbGRyZW48TT4gPSB1c2VDYWxsYmFjaygoKSA9PiBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4uZ2V0Q2hpbGRyZW4oKSwgW10pO1xuICAgIGNvbnN0IGdldEhpZ2hlc3RDaGlsZEluZGV4OiAoKCkgPT4gbnVtYmVyKSA9IHVzZUNhbGxiYWNrPCgpID0+IG51bWJlcj4oKCkgPT4gZ2V0Q2hpbGRyZW4oKS5nZXRIaWdoZXN0SW5kZXgoKSwgW10pO1xuICAgIGNvbnN0IGlzVmFsaWQgPSB1c2VDYWxsYmFjaygoaTogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoaWxkID0gZ2V0Q2hpbGRyZW4oKS5nZXRBdChpKTtcbiAgICAgICAgaWYgKCFjaGlsZClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGNoaWxkLmhpZGRlbilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgeyByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm46IHsgaW5kZXhEZW1hbmdsZXIsIGluZGV4TWFuZ2xlciwgLi4ucmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuIH0sIHNvcnRhYmxlQ2hpbGRyZW5SZXR1cm4gfSA9IHVzZVNvcnRhYmxlQ2hpbGRyZW48TT4oe1xuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvblJlYXJyYW5nZWQ6IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHsgcmVmcmVzaFBhZ2luYXRpb24ocGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzLnBhZ2luYXRpb25NaW4sIHBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVycy5wYWdpbmF0aW9uTWF4KSB9KSxcbiAgICAgICAgICAgIC4uLnJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnNcbiAgICAgICAgfSxcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnNcbiAgICB9KTtcbiAgICBjb25zdCB7XG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUGFyYW1ldGVycyxcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHQsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNvbnRleHQsXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25SZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25SZXR1cm4sXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm5cbiAgICB9ID0gdXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb248UGFyZW50RWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPih7XG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybjogeyBnZXRDaGlsZHJlbiB9LFxuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogeyBnZXRIaWdoZXN0SW5kZXg6IGdldEhpZ2hlc3RDaGlsZEluZGV4LCBpc1ZhbGlkLCBpbmRleERlbWFuZ2xlciwgaW5kZXhNYW5nbGVyLCAuLi5saW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczogeyBpc1ZhbGlkLCAuLi50eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycyB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IHsgaW5pdGlhbGx5VGFiYmVkSW5kZXg6IGluaXRpYWxseVNlbGVjdGVkSW5kZXgsIC4uLnJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyB9LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzLFxuICAgICAgICAuLi5jb21wbGV0ZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICB9KTtcblxuXG4gICAgLy9jb25zdCB7IGxpbmVhck5hdmlnYXRpb25SZXR1cm4sIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm4gfSA9IGxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVSZXR1cm47XG5cbiAgICAvL2NvbnN0IFtjaGlsZENvdW50LCBzZXRDaGlsZENvdW50XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IHsgY2hpbGRyZW5IYXZlRm9jdXNDaGlsZENvbnRleHQsIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuIH0gPSB1c2VDaGlsZHJlbkhhdmVGb2N1cyh7IGNoaWxkcmVuSGF2ZUZvY3VzUGFyYW1ldGVycyB9KTtcbiAgICBjb25zdCB7IGNvbnRleHQ6IHsgbWFuYWdlZENoaWxkQ29udGV4dCB9LCBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4gfSA9IHVzZU1hbmFnZWRDaGlsZHJlbjxNPih7XG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG9uQ2hpbGRDb3VudENoYW5nZTogdXNlU3RhYmxlQ2FsbGJhY2soKGMpID0+IHsgb25DaGlsZENvdW50Q2hhbmdlKGMpIH0pLFxuICAgICAgICAgICAgLi4ubWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyc1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgeyBwYWdpbmF0ZWRDaGlsZHJlblJldHVybiwgcGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm46IHsgcmVmcmVzaFBhZ2luYXRpb24gfSwgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyczogeyBvbkNoaWxkQ291bnRDaGFuZ2UgfSwgY29udGV4dDogeyBwYWdpbmF0ZWRDaGlsZENvbnRleHQgfSB9ID0gdXNlUGFnaW5hdGVkQ2hpbGRyZW48Q2hpbGRFbGVtZW50LCBNPih7IG1hbmFnZWRDaGlsZHJlblJldHVybiwgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzLCBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogeyBpbmRleERlbWFuZ2xlciB9IH0pO1xuICAgIGNvbnN0IHsgY29udGV4dDogeyBzdGFnZ2VyZWRDaGlsZENvbnRleHQgfSwgc3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm4gfSA9IHVzZVN0YWdnZXJlZENoaWxkcmVuKHsgbWFuYWdlZENoaWxkcmVuUmV0dXJuLCBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnMgfSk7XG4gICAgY29uc3QgcHJvcHMgPSB1c2VNZXJnZWRQcm9wczxQYXJlbnRFbGVtZW50PihsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuLnByb3BzU3RhYmxlLCB0eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuLnByb3BzU3RhYmxlKTtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlU3RhYmxlT2JqZWN0PENvbXBsZXRlTGlzdE5hdmlnYXRpb25Db250ZXh0PFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4+KHtcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ29udGV4dCxcbiAgICAgICAgbWFuYWdlZENoaWxkQ29udGV4dCxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZENvbnRleHQsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQsXG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRDb250ZXh0LFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZENvbnRleHQsXG4gICAgICAgIHN0YWdnZXJlZENoaWxkQ29udGV4dFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcHJvcHMsXG5cbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm46IHtcbiAgICAgICAgICAgIGluZGV4RGVtYW5nbGVyLFxuICAgICAgICAgICAgaW5kZXhNYW5nbGVyLFxuICAgICAgICAgICAgLi4ucmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuXG4gICAgICAgIH0sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybixcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgY2hpbGRyZW5IYXZlRm9jdXNSZXR1cm5cbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+LCBFeHRyYU9taXRzIGV4dGVuZHMga2V5b2YgTT4ge1xuICAgIGNvbnRleHQ6IENvbXBsZXRlTGlzdE5hdmlnYXRpb25Db250ZXh0PGFueSwgQ2hpbGRFbGVtZW50LCBNPjtcbiAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM6IFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDaGlsZFBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50PltcInNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyc1wiXTtcbiAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZUNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+W1widGV4dENvbnRlbnRQYXJhbWV0ZXJzXCJdLCBcImhpZGRlblwiPjtcbiAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPE0sIGtleW9mIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88Q2hpbGRFbGVtZW50PiB8IEV4dHJhT21pdHM+ICYgUGljazxNLCBcImZvY3VzU2VsZlwiPjtcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogVXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZUNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+W1wicm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnNcIl07XG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogVXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZUNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+W1wibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiXTtcbiAgICBzb3J0YWJsZUNoaWxkUGFyYW1ldGVyczogUGljazxVc2VTb3J0YWJsZUNoaWxkSW5mbywgXCJnZXRTb3J0VmFsdWVcIj47XG4gICAgLy9zaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM6IFBpY2s8VXNlTGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Tb3J0YWJsZUNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQ+W1wic2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzXCJdLCBcImRpc2FibGVkXCI+O1xuICAgIC8vbWFuYWdlZENoaWxkUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlQ2hpbGRJbmZvPENoaWxkRWxlbWVudD4sIFwiZ2V0RWxlbWVudFwiIHwgXCJnZXRTZWxlY3RlZFwiIHwgXCJzZXRTZWxlY3RlZFwiIHwgXCJnZXRUYWJiYWJsZVwiIHwgXCJzZXRUYWJiYWJsZVwiIHwgXCJ0YWJiYWJsZVwiIHwgXCJzZWxlY3RlZFwiIHwgXCJmb2N1c1NlbGZcIj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+PlxuICAgIGV4dGVuZHMgUGljazxVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD4sIFwic2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm5cIiB8IFwicm92aW5nVGFiSW5kZXhDaGlsZFJldHVyblwiIHwgXCJwcmVzc1BhcmFtZXRlcnNcIj4sIFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPENoaWxkRWxlbWVudD4ge1xuICAgIC8vcHJlc3NSZXR1cm46IFVzZVByZXNzUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQ+W1wicHJlc3NSZXR1cm5cIl07XG4gICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuOiBVc2VIYXNDdXJyZW50Rm9jdXNSZXR1cm5UeXBlPENoaWxkRWxlbWVudD5bXCJoYXNDdXJyZW50Rm9jdXNSZXR1cm5cIl07XG4gICAgbWFuYWdlZENoaWxkUmV0dXJuOiBVc2VNYW5hZ2VkQ2hpbGRSZXR1cm5UeXBlPE0+W1wibWFuYWdlZENoaWxkUmV0dXJuXCJdO1xuICAgIHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxDaGlsZEVsZW1lbnQ+O1xuICAgIHBhZ2luYXRlZENoaWxkUmV0dXJuOiBVc2VQYWdpbmF0ZWRDaGlsZFJldHVybjxDaGlsZEVsZW1lbnQ+W1wicGFnaW5hdGVkQ2hpbGRSZXR1cm5cIl07XG4gICAgc3RhZ2dlcmVkQ2hpbGRSZXR1cm46IFVzZVN0YWdnZXJlZENoaWxkUmV0dXJuPENoaWxkRWxlbWVudD5bXCJzdGFnZ2VyZWRDaGlsZFJldHVyblwiXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZDxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxDaGlsZEVsZW1lbnQ+LCBFeHRyYU9taXRzIGV4dGVuZHMgRXhjbHVkZTxrZXlvZiBNLCBrZXlvZiBVc2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblNvcnRhYmxlQ2hpbGRJbmZvPENoaWxkRWxlbWVudD4+Pih7XG4gICAgLy9tYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGhpZGRlbiwgZGlzYWJsZWQsIGluZGV4LCBnZXRTb3J0VmFsdWUgfSxcbiAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGZvY3VzU2VsZiwgLi4uY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyB9LFxuICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogeyBoaWRkZW4gfSxcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIHRleHRDb250ZW50UGFyYW1ldGVycyxcbiAgICBjb250ZXh0OiB7IGNoaWxkcmVuSGF2ZUZvY3VzQ2hpbGRDb250ZXh0LCBtYW5hZ2VkQ2hpbGRDb250ZXh0LCByb3ZpbmdUYWJJbmRleENoaWxkQ29udGV4dCwgc2luZ2xlU2VsZWN0aW9uQ29udGV4dCwgdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkQ29udGV4dCwgcGFnaW5hdGVkQ2hpbGRDb250ZXh0LCBzdGFnZ2VyZWRDaGlsZENvbnRleHQgfSxcbiAgICAvL3ByZXNzUGFyYW1ldGVyczogeyBvblByZXNzU3luYzogb3BzMSwgLi4ucHJlc3NQYXJhbWV0ZXJzIH0sXG4gICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnM6IHsgZ2V0U29ydFZhbHVlIH0sXG4gICAgLi4uX3ZvaWRcbn06IFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50LCBNLCBFeHRyYU9taXRzPik6IFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGU8Q2hpbGRFbGVtZW50LCBNPiB7XG4gICAgY29uc3QgeyBpbmRleCB9ID0gbWFuYWdlZENoaWxkUGFyYW1ldGVycztcbiAgICBjb25zdCB7IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgc2V0Q2hpbGRDb3VudElmUGFnaW5hdGVkLCBzZXRQYWdpbmF0aW9uVmlzaWJsZSwgc2V0UGFyZW50SXNQYWdpbmF0ZWQgfSwgcGFnaW5hdGVkQ2hpbGRSZXR1cm4sIHBhZ2luYXRlZENoaWxkUmV0dXJuOiB7IGhpZGVCZWNhdXNlUGFnaW5hdGVkIH0sIHByb3BzOiBwYWdpbmF0aW9uUHJvcHMgfSA9IHVzZVBhZ2luYXRlZENoaWxkPENoaWxkRWxlbWVudD4oeyBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4IH0sIGNvbnRleHQ6IHsgcGFnaW5hdGVkQ2hpbGRDb250ZXh0IH0gfSlcbiAgICBjb25zdCB7IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgc2V0UGFyZW50SXNTdGFnZ2VyZWQsIHNldFN0YWdnZXJlZFZpc2libGUgfSwgc3RhZ2dlcmVkQ2hpbGRSZXR1cm4sIHN0YWdnZXJlZENoaWxkUmV0dXJuOiB7IGhpZGVCZWNhdXNlU3RhZ2dlcmVkIH0sIHByb3BzOiBzdGFnZ2VyZWRQcm9wcyB9ID0gdXNlU3RhZ2dlcmVkQ2hpbGQ8Q2hpbGRFbGVtZW50Pih7IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsIGNvbnRleHQ6IHsgc3RhZ2dlcmVkQ2hpbGRDb250ZXh0IH0gfSk7XG4gICAgLy9sZXQgeyBoaWRkZW4gfSA9IHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzO1xuXG4gICAgaGlkZGVuIHx8PSAoaGlkZUJlY2F1c2VQYWdpbmF0ZWQgfHwgaGlkZUJlY2F1c2VTdGFnZ2VyZWQpO1xuXG4gICAgbGV0IHsgZGlzYWJsZWQgfSA9IHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycztcbiAgICBpZiAoaGlkZGVuKVxuICAgICAgICBkaXNhYmxlZCA9IHRydWU7XG5cbiAgICBjb25zdCB7IHJlZkVsZW1lbnRSZXR1cm4gfSA9IHVzZVJlZkVsZW1lbnQ8Q2hpbGRFbGVtZW50Pih7IHJlZkVsZW1lbnRQYXJhbWV0ZXJzOiB7fSB9KTtcbiAgICBjb25zdCB7IGdldEVsZW1lbnQgfSA9IHJlZkVsZW1lbnRSZXR1cm47XG4gICAgY29uc3Qge1xuICAgICAgICBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7IG9uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWQ6IG9jZmljMSB9LFxuICAgICAgICBwcmVzc1BhcmFtZXRlcnMsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IHNldExvY2FsU2VsZWN0ZWQgfVxuICAgIH0gPSB1c2VMaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNoaWxkPENoaWxkRWxlbWVudD4oe1xuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4IH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzOiB7IGhpZGRlbiB9LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM6IHsgLi4uc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzIH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRDb250ZXh0LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25Db250ZXh0LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0LFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnM6IHsgaGlkZGVuLCAuLi50ZXh0Q29udGVudFBhcmFtZXRlcnMgfVxuICAgIH0pO1xuICAgIGNvbnN0IHsgZ2V0VGFiYmFibGUsIHNldFRhYmJhYmxlLCB0YWJiYWJsZSB9ID0gcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybjtcblxuICAgIC8qIGNvbnN0IHsgcHJlc3NSZXR1cm4gfSA9IHVzZVByZXNzPENoaWxkRWxlbWVudD4oe1xuICAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAgLi4ucDEsXG4gICAgICAgICAgICAgLi4ucHJlc3NQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgIG9uUHJlc3NTeW5jOiBkaXNhYmxlZCA/IG51bGwgOiAoKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgb3BzMj8uKGUpO1xuICAgICAgICAgICAgICAgICBvcHMxPy4oZSk7XG4gICAgICAgICAgICAgfSlcbiAgICAgICAgIH0sIHJlZkVsZW1lbnRSZXR1cm5cbiAgICAgfSk7Ki9cblxuICAgIGNvbnN0IHsgZ2V0U2VsZWN0ZWQsIHNlbGVjdGVkIH0gPSBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybjtcblxuICAgIGNvbnN0IG1jcDE6IFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88Q2hpbGRFbGVtZW50PiA9IHtcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIGZvY3VzU2VsZixcbiAgICAgICAgZ2V0RWxlbWVudCxcbiAgICAgICAgZ2V0U2VsZWN0ZWQsXG4gICAgICAgIGdldFRhYmJhYmxlLFxuICAgICAgICBoaWRkZW4sXG4gICAgICAgIGluZGV4LFxuICAgICAgICBzZWxlY3RlZCxcbiAgICAgICAgc2V0TG9jYWxTZWxlY3RlZCxcbiAgICAgICAgc2V0VGFiYmFibGUsXG4gICAgICAgIHRhYmJhYmxlLFxuICAgICAgICBnZXRTb3J0VmFsdWUsXG4gICAgICAgIHNldENoaWxkQ291bnRJZlBhZ2luYXRlZCxcbiAgICAgICAgc2V0UGFnaW5hdGlvblZpc2libGUsXG4gICAgICAgIHNldFBhcmVudElzUGFnaW5hdGVkLFxuICAgICAgICBzZXRQYXJlbnRJc1N0YWdnZXJlZCxcbiAgICAgICAgc2V0U3RhZ2dlcmVkVmlzaWJsZVxuICAgIH1cblxuICAgIGNvbnN0IHsgbWFuYWdlZENoaWxkUmV0dXJuIH0gPSB1c2VNYW5hZ2VkQ2hpbGQ8TT4oeyBjb250ZXh0OiB7IG1hbmFnZWRDaGlsZENvbnRleHQgfSwgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9IH0sIHsgLi4ubWNwMSwgLi4uY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyB9IGFzIE0pO1xuXG4gICAgY29uc3QgeyBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7IG9uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWQ6IG9jZmljMiB9IH0gPSB1c2VDaGlsZHJlbkhhdmVGb2N1c0NoaWxkKHsgY2hpbGRyZW5IYXZlRm9jdXNDaGlsZENvbnRleHQgfSk7XG4gICAgY29uc3Qgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZCA9IHVzZVN0YWJsZUNhbGxiYWNrPE5vbk51bGxhYmxlPHR5cGVvZiBvY2ZpYzE+PigoZm9jdXNlZCwgcHJldiwgZSkgPT4ge1xuICAgICAgICBvY2ZpYzE/Lihmb2N1c2VkLCBwcmV2LCBlKTtcbiAgICAgICAgb2NmaWMyPy4oZm9jdXNlZCwgcHJldiwgZSk7XG4gICAgfSlcbiAgICBjb25zdCB7IGhhc0N1cnJlbnRGb2N1c1JldHVybiB9ID0gdXNlSGFzQ3VycmVudEZvY3VzPENoaWxkRWxlbWVudD4oeyBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7IG9uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWQsIG9uQ3VycmVudEZvY3VzZWRDaGFuZ2VkOiBudWxsIH0sIHJlZkVsZW1lbnRSZXR1cm4gfSk7XG5cblxuICAgIGNvbnN0IHByb3BzID0gdXNlTWVyZ2VkUHJvcHM8Q2hpbGRFbGVtZW50PihcbiAgICAgICAgcmVmRWxlbWVudFJldHVybi5wcm9wc1N0YWJsZSxcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuLnByb3BzU3RhYmxlLFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUmV0dXJuLnByb3BzVW5zdGFibGUsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuLnByb3BzVW5zdGFibGUsXG4gICAgICAgIHBhZ2luYXRpb25Qcm9wcyxcbiAgICAgICAgc3RhZ2dlcmVkUHJvcHNcbiAgICApO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHByZXNzUGFyYW1ldGVycyxcbiAgICAgICAgcmVmRWxlbWVudFJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybixcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm4sXG4gICAgICAgIGhhc0N1cnJlbnRGb2N1c1JldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkUmV0dXJuLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZFJldHVybixcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRSZXR1cm5cbiAgICB9XG5cbn1cblxuLypcbmZ1bmN0aW9uIGZvbzxQYXJlbnRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDaGlsZEluZm88Q2hpbGRFbGVtZW50Pj4ocDogVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnM8UGFyZW50RWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPikge1xuICAgIGNvbnN0IHsgc2luZ2xlU2VsZWN0aW9uUmV0dXJuIH0gPSB1c2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uPFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4ocCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IDA7XG4gICAgdXNlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmUoeyBzaW5nbGVTZWxlY3Rpb25SZXR1cm4sIHNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUGFyYW1ldGVyczogeyBzZWxlY3RlZEluZGV4IH0gfSlcbn0qL1xuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IERpc21pc3NMaXN0ZW5lclR5cGVzLCB1c2VEaXNtaXNzLCBVc2VEaXNtaXNzUGFyYW1ldGVycywgVXNlRGlzbWlzc1JldHVyblR5cGUgfSBmcm9tIFwiLi4vY29tcG9uZW50LWRldGFpbC91c2UtZGlzbWlzc1wiO1xuaW1wb3J0IHsgdXNlRm9jdXNUcmFwLCBVc2VGb2N1c1RyYXBQYXJhbWV0ZXJzLCBVc2VGb2N1c1RyYXBSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL2NvbXBvbmVudC1kZXRhaWwvdXNlLWZvY3VzLXRyYXBcIjtcbmltcG9ydCB7IHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4uL2RvbS1oZWxwZXJzL3VzZS1tZXJnZWQtcHJvcHNcIjtcblxudHlwZSBPbWl0U3Ryb25nPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IE9taXQ8VCwgSz5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VNb2RhbFBhcmFtZXRlcnM8TGlzdGVuZXJzIGV4dGVuZHMgRGlzbWlzc0xpc3RlbmVyVHlwZXM+IGV4dGVuZHMgVXNlRGlzbWlzc1BhcmFtZXRlcnM8TGlzdGVuZXJzPiB7XG4gICAgZm9jdXNUcmFwUGFyYW1ldGVyczogVXNlRm9jdXNUcmFwUGFyYW1ldGVyczxhbnksIGFueT5bXCJmb2N1c1RyYXBQYXJhbWV0ZXJzXCJdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1vZGFsUmV0dXJuVHlwZTxGb2N1c0NvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50IHwgbnVsbCwgU291cmNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQgfCBudWxsLCBQb3B1cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZURpc21pc3NSZXR1cm5UeXBlPFNvdXJjZUVsZW1lbnQsIFBvcHVwRWxlbWVudD4ge1xuICAgIHByb3BzRm9jdXNDb250YWluZXI6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPE5vbk51bGxhYmxlPEZvY3VzQ29udGFpbmVyRWxlbWVudD4+O1xuICAgIHByb3BzUG9wdXA6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFBvcHVwRWxlbWVudD47XG4gICAgcHJvcHNTb3VyY2U6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPE5vbk51bGxhYmxlPFNvdXJjZUVsZW1lbnQ+PjtcbiAgICBmb2N1c1RyYXBSZXR1cm46IE9taXRTdHJvbmc8VXNlRm9jdXNUcmFwUmV0dXJuVHlwZTxOb25OdWxsYWJsZTxGb2N1c0NvbnRhaW5lckVsZW1lbnQ+PltcImZvY3VzVHJhcFJldHVyblwiXSwgXCJwcm9wc1Vuc3RhYmxlXCI+O1xufVxuXG4vKipcbiAqIENvbWJpbmVzIGRpc21pc3NhbCBob29rcyBhbmQgZm9jdXMgdHJhcCBob29rcyBpbnRvIG9uZS5cbiAqIFxuICogQW5vdGhlciBpbiB0aGUgXCJjb21wbGV0ZVwiIHNlcmllcywgYWxvbmdzaWRlIGxpc3QvZ3JpZCBuYXZpZ2F0aW9uIGFuZCBkaXNtaXNzYWwgaXRzZWxmLlxuICogXG4gKiBVc2UgZm9yIGRpYWxvZ3MsIG1lbnVzLCBldGMuICBBbnl0aGluZyB0aGF0IGNhbiBiZSBkaXNtaXNzZWQgYW5kIG1pZ2h0IHRyYXAgZm9jdXMsIGJhc2ljYWxseS5cbiAqIFxuICogQHBhcmFtIHBhcmFtMCBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlTW9kYWw8TGlzdGVuZXJzIGV4dGVuZHMgRGlzbWlzc0xpc3RlbmVyVHlwZXMsIEZvY3VzQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQgfCBudWxsLCBTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCB8IG51bGwsIFBvcHVwRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBkaXNtaXNzUGFyYW1ldGVycyxcbiAgICBlc2NhcGVEaXNtaXNzUGFyYW1ldGVycyxcbiAgICBmb2N1c1RyYXBQYXJhbWV0ZXJzOiB7IHRyYXBBY3RpdmUsIC4uLmZvY3VzVHJhcFBhcmFtZXRlcnMgfVxufTogVXNlTW9kYWxQYXJhbWV0ZXJzPExpc3RlbmVycz4pOiBVc2VNb2RhbFJldHVyblR5cGU8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBQb3B1cEVsZW1lbnQ+IHtcbiAgICBjb25zdCB7IG9wZW4gfSA9IGRpc21pc3NQYXJhbWV0ZXJzO1xuICAgIC8vY29uc3QgeyBnZXRXaW5kb3cgfSA9IGVzY2FwZURpc21pc3NQYXJhbWV0ZXJzO1xuICAgIC8vY29uc3QgZ2V0RG9jdW1lbnQgPSB1c2VDYWxsYmFjaygoKSA9PiB7IHJldHVybiBnZXRXaW5kb3coKS5kb2N1bWVudDsgfSwgW2dldFdpbmRvd10pO1xuICAgIGNvbnN0IHsgcmVmRWxlbWVudFBvcHVwUmV0dXJuLCByZWZFbGVtZW50U291cmNlUmV0dXJuIH0gPSB1c2VEaXNtaXNzPExpc3RlbmVycywgU291cmNlRWxlbWVudCwgUG9wdXBFbGVtZW50Pih7IGRpc21pc3NQYXJhbWV0ZXJzLCBlc2NhcGVEaXNtaXNzUGFyYW1ldGVycyB9KTtcbiAgICBjb25zdCB7IGZvY3VzVHJhcFJldHVybiwgcmVmRWxlbWVudFJldHVybiB9ID0gdXNlRm9jdXNUcmFwPFNvdXJjZUVsZW1lbnQsIE5vbk51bGxhYmxlPEZvY3VzQ29udGFpbmVyRWxlbWVudD4+KHtcbiAgICAgICAgZm9jdXNUcmFwUGFyYW1ldGVyczogeyB0cmFwQWN0aXZlOiBvcGVuICYmIHRyYXBBY3RpdmUsIC4uLmZvY3VzVHJhcFBhcmFtZXRlcnMgfSxcbiAgICAgICAgcmVmRWxlbWVudFBhcmFtZXRlcnM6IHt9XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IHByb3BzU3RhYmxlOiBwcDEgfSA9IHJlZkVsZW1lbnRQb3B1cFJldHVybjtcbiAgICBjb25zdCB7IHByb3BzU3RhYmxlOiBwczIgfSA9IHJlZkVsZW1lbnRTb3VyY2VSZXR1cm47XG4gICAgY29uc3QgeyBwcm9wc1Vuc3RhYmxlOiBwcDMgfSA9IGZvY3VzVHJhcFJldHVybjtcbiAgICBjb25zdCB7IHByb3BzU3RhYmxlOiBwcDQgfSA9IHJlZkVsZW1lbnRSZXR1cm5cblxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzUG9wdXA6IHBwMSxcbiAgICAgICAgcHJvcHNGb2N1c0NvbnRhaW5lcjogdXNlTWVyZ2VkUHJvcHMocHAzLCBwcDQpLFxuICAgICAgICBwcm9wc1NvdXJjZTogcHMyLFxuICAgICAgICByZWZFbGVtZW50UG9wdXBSZXR1cm4sXG4gICAgICAgIHJlZkVsZW1lbnRTb3VyY2VSZXR1cm4sXG4gICAgICAgIGZvY3VzVHJhcFJldHVybixcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVHZXR0ZXIgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1nZXR0ZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VUaW1lb3V0UGFyYW1ldGVycyB7XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBtcyB0byB3YWl0IGJlZm9yZSBpbnZva2luZyBgY2FsbGJhY2tgLiAgXG4gICAgICogSWYgYG51bGxgLCBjYW5jZWxzIHRoZSB0aW1lb3V0IGltbWVkaWF0ZWx5LlxuICAgICAqL1xuICAgIHRpbWVvdXQ6IG51bWJlciB8IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRvIHRoaXMgcHJvcCBiZXR3ZWVuIHJlbmRlcnMgY2FuIGJlIHVzZWQgdG8gY2xlYXIgdGhlIGN1cnJlbnQgdGltZW91dCBhbmQgY3JlYXRlIGEgbmV3IG9uZS5cbiAgICAgKi9cbiAgICB0cmlnZ2VySW5kZXg/OiB1bmtub3duO1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGB0aW1lb3V0YCBtcyBhZnRlciBtb3VudCwgb3IgdGhlIGxhc3QgY2hhbmdlIHRvIGB0cmlnZ2VySW5kZXhgLlxuICAgICAqIFxuICAgICAqIERvZXMgKm5vdCogbmVlZCB0byBiZSBzdGFibGUuIEdvIGFoZWFkIGFuZCBwYXNzIGFuIGFub255bW91cyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBjYWxsYmFjazogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVRpbWVvdXQoeyB0aW1lb3V0LCBjYWxsYmFjaywgdHJpZ2dlckluZGV4IH06IFVzZVRpbWVvdXRQYXJhbWV0ZXJzKSB7XG4gICAgY29uc3Qgc3RhYmxlQ2FsbGJhY2sgPSB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7IHN0YXJ0VGltZVJlZi5jdXJyZW50ID0gbnVsbDsgY2FsbGJhY2soKTsgfSk7XG4gICAgY29uc3QgZ2V0VGltZW91dCA9IHVzZVN0YWJsZUdldHRlcih0aW1lb3V0KTtcblxuICAgIC8vIFNldCBhbnkgdGltZSB3ZSBzdGFydCB0aW1lb3V0LlxuICAgIC8vIFVuc2V0IGFueSB0aW1lIHRoZSB0aW1lb3V0IGNvbXBsZXRlc1xuICAgIGNvbnN0IHN0YXJ0VGltZVJlZiA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcblxuICAgIGNvbnN0IHRpbWVvdXRJc051bGwgPSAodGltZW91dCA9PSBudWxsKTtcblxuICAgIC8vIEFueSB0aW1lIHRoZSB0cmlnZ2VySW5kZXggY2hhbmdlcyAoaW5jbHVkaW5nIG9uIG1vdW50KVxuICAgIC8vIHJlc3RhcnQgdGhlIHRpbWVvdXQuICBUaGUgdGltZW91dCBkb2VzIE5PVCByZXNldFxuICAgIC8vIHdoZW4gdGhlIGR1cmF0aW9uIG9yIGNhbGxiYWNrIGNoYW5nZXMsIG9ubHkgdHJpZ2dlckluZGV4LlxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdGltZW91dElzTnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IGdldFRpbWVvdXQoKTtcbiAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KHRpbWVvdXRJc051bGwgPT0gKHRpbWVvdXQgPT0gbnVsbCkpO1xuICAgIFxuICAgICAgICAgICAgaWYgKHRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZVJlZi5jdXJyZW50ID0gKyhuZXcgRGF0ZSgpKTtcbiAgICBcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGUgPSBzZXRUaW1lb3V0KHN0YWJsZUNhbGxiYWNrLCB0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KGhhbmRsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfSwgW3RyaWdnZXJJbmRleCwgdGltZW91dElzTnVsbF0pXG5cbiAgICBjb25zdCBnZXRFbGFwc2VkVGltZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgcmV0dXJuICgrKG5ldyBEYXRlKCkpKSAtICgrKHN0YXJ0VGltZVJlZi5jdXJyZW50ID8/IG5ldyBEYXRlKCkpKTtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCBnZXRSZW1haW5pbmdUaW1lID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gZ2V0VGltZW91dCgpO1xuICAgICAgICByZXR1cm4gdGltZW91dCA9PSBudWxsID8gbnVsbCA6IE1hdGgubWF4KDAsIHRpbWVvdXQgLSBnZXRFbGFwc2VkVGltZSgpKVxuICAgIH0sIFtdKTtcblxuICAgIHJldHVybiB7IGdldEVsYXBzZWRUaW1lLCBnZXRSZW1haW5pbmdUaW1lIH07XG59XG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBVc2VSZWZFbGVtZW50UmV0dXJuVHlwZSB9IGZyb20gXCIuLi9kb20taGVscGVycy91c2UtcmVmLWVsZW1lbnRcIjtcbmltcG9ydCB7IHJldHVybkZhbHNlLCB1c2VQYXNzaXZlU3RhdGUgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXBhc3NpdmUtc3RhdGVcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGFibGUtY2FsbGJhY2tcIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1zdGF0ZVwiO1xuaW1wb3J0IHsgdXNlVGltZW91dCB9IGZyb20gXCIuLi90aW1pbmcvdXNlLXRpbWVvdXRcIjtcbi8qXG5leHBvcnQgZnVuY3Rpb24gdXNlUHJlc3NQcm9wczxFIGV4dGVuZHMgRWxlbWVudD4ocjogVXNlUHJlc3NSZXR1cm5UeXBlPEU+LCAuLi5vdGhlclByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPltdKTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT5bXSB7XG4gICAgcmV0dXJuIFtyLnByZXNzUmV0dXJuLnByb3BzU3RhYmxlLCAuLi5vdGhlclByb3BzXTtcbn0qL1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVByZXNzUGFyYW1ldGVyczxFIGV4dGVuZHMgTm9kZT4ge1xuICAgIHJlZkVsZW1lbnRSZXR1cm46IFJlcXVpcmVkPFBpY2s8VXNlUmVmRWxlbWVudFJldHVyblR5cGU8RT5bXCJyZWZFbGVtZW50UmV0dXJuXCJdLCBcImdldEVsZW1lbnRcIj4+O1xuICAgIHByZXNzUGFyYW1ldGVyczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hhdCBzaG91bGQgaGFwcGVuIHdoZW4gdGhpcyB3aWRnZXQgaGFzIGJlZW4gXCJwcmVzc2VkXCIuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBUaGlzIG11c3QgYmUgYSBzeW5jIGV2ZW50IGhhbmRsZXI7IGFzeW5jIGhhbmRsZXJzIG11c3QgYmUgdGFrZW4gY2FyZSBvZiBleHRlcm5hbGx5LlxuICAgICAgICAgKiBcbiAgICAgICAgICogU2V0dGluZyB0byBgbnVsbGAgb3IgYHVuZGVmaW5lZGAgZWZmZWN0aXZlbHkgZGlzYWJsZXMgdGhlIHByZXNzIGV2ZW50IGhhbmRsZXIuXG4gICAgICAgICAqL1xuICAgICAgICBvblByZXNzU3luYzogKChlOiBoLkpTWC5UYXJnZXRlZEV2ZW50PEU+KSA9PiB2b2lkKSB8IG51bGwgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgLyoqIFBhc3MgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHRydWVgIHRvIHByZXZlbnQgdGhlIHNwYWNlYmFyIGZyb20gY29udHJpYnV0aW5nIHRvIHByZXNzIGV2ZW50cyAqL1xuICAgICAgICBleGNsdWRlU3BhY2U/KCk6IGJvb2xlYW47XG4gICAgICAgIC8qKiBQYXNzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGB0cnVlYCB0byBwcmV2ZW50IHRoZSBlbnRlciBrZXkgZnJvbSBjb250cmlidXRpbmcgdG8gcHJlc3MgZXZlbnRzICovXG4gICAgICAgIGV4Y2x1ZGVFbnRlcj8oKTogYm9vbGVhbjtcbiAgICAgICAgLyoqIFBhc3MgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHRydWVgIHRvIHByZXZlbnQgdGhlIHBvaW50ZXIgKG1vdXNlLCB0b3VjaCwgZXRjLikgZnJvbSBjb250cmlidXRpbmcgdG8gcHJlc3MgZXZlbnRzICovXG4gICAgICAgIGV4Y2x1ZGVQb2ludGVyPygpOiBib29sZWFuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIGNlcnRhaW4gbWV0aG9kcyBvZiBwcmVzc2luZyB0aGlzIGNvbXBvbmVudCBzaG91bGQgYmUgZGVhY3RpdmF0ZWQuXG4gICAgICAgICAqIFxuICAgICAgICAgKiBGb3IgZXhhbXBsZSwgZHVyaW5nIHR5cGVhaGVhZCwgdGhlIHNwYWNlIGtleSBzaG91bGRuJ3QgY291bnQgYXMgYSBwcmVzcywgaXQgc2hvdWxkIGp1c3QgY291bnQgZm9yIHRoZSBzZWFyY2guXG4gICAgICAgICAqIFxuICAgICAgICAgKiBJZiB0cnVlLCB0aGVuIGFsbCBwcmVzc2VzIGFyZSBkaXNhYmxlZC4gIElmIGZhbHNlL3VuZGVmaW5lZC9udWxsLCBubyBwcmVzc2VzIGFyZSBkaXNhYmxlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLy9leGNsdWRlOiB1bmRlZmluZWQgfCBib29sZWFuIHwgeyBjbGljaz86IFwiZXhjbHVkZVwiIHwgdW5kZWZpbmVkLCBzcGFjZT86IFwiZXhjbHVkZVwiIHwgdW5kZWZpbmVkLCBlbnRlcj86IFwiZXhjbHVkZVwiIHwgdW5kZWZpbmVkIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbnN1cmVzIHRoYXQgd2hlbiBhIGJ1dHRvbiBpcyBwcmVzc2VkIGl0IHByb3Blcmx5IHJlY2VpdmVzIGZvY3VzIChldmVuIG9uIGlPUyBTYWZhcmkpLlxuICAgICAgICAgKiBcbiAgICAgICAgICogR2VuZXJhbGx5LCB0aGlzIHNob3VsZCBqdXN0IGJlIGBlID0+IGUuZm9jdXMoKWBcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgXG4gICAgICAgICAqL1xuICAgICAgICBmb2N1c1NlbGYoZWxlbWVudDogRSk6IHZvaWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGB0cnVlYCwgaG9sZGluZyBkb3duIHRoZSBgRW50ZXJgIGtleSB3aWxsIHJlcGVhdGVkbHkgZmlyZSBwcmVzcyBldmVudHMgYXMgZWFjaCBzZXF1ZW50aWFsIHJlcGVhdGVkIGtleWJvYXJkIGV2ZW50IGhhcHBlbnMuXG4gICAgICAgICAqL1xuICAgICAgICBhbGxvd1JlcGVhdFByZXNzZXM/OiBib29sZWFuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZnRlciB0aGlzIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaGF2ZSBwYXNzZWQgcHJlc3NpbmcgZG93biBidXQgbm90IHVwLCB0aGUgcmV0dXJuZWQgYGxvbmdQcmVzc2AgdmFsdWUgd2lsbCBiZSBzZXQgdG8gYHRydWVgXG4gICAgICAgICAqIGFuZCB0aGUgdXNlcidzIGFjdGlvbnMgd2lsbCBub3QgZmlyZSBhbiBhY3R1YWwgcHJlc3MgZXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBsb25nUHJlc3NUaHJlc2hvbGQ/OiBudW1iZXIgfCBudWxsO1xuXG4gICAgICAgIC8vb25Qc2V1ZG9BY3RpdmVTdGFydDogbnVsbCB8IHVuZGVmaW5lZCB8ICgoKSA9PiB2b2lkKTtcbiAgICAgICAgLy9vblBzZXVkb0FjdGl2ZVN0b3A6IG51bGwgfCB1bmRlZmluZWQgfCAoKCkgPT4gdm9pZCk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVByZXNzUmV0dXJuVHlwZTxFIGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHByZXNzUmV0dXJuOiB7XG4gICAgICAgIC8qKiBcbiAgICAgICAgICogU29ydCBvZiBsaWtlIHdoZW4gdGhlIENTUyBgOmFjdGl2ZWAgcHNldWRvLWVsZW1lbnQgd291bGQgYXBwbHksXG4gICAgICAgICAqIGJ1dCBzcGVjaWZpY2FsbHkgZm9yIHByZXNzZXMgb25seS4gVXNlZnVsIGZvciBzdHlsaW5nIG1vc3RseS5cbiAgICAgICAgICovXG4gICAgICAgIHBzZXVkb0FjdGl2ZTogYm9vbGVhbjtcbiAgICAgICAgLy9ob3ZlcmluZzogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpbWlsYXIgdG8gcHNldWRvQWN0aXZlLCBidXQgZm9yIGlmIHRoZSBidXR0b24gYXMgYmVlbiBwcmVzc2VkIGRvd24gZm9yIGEgZGV0ZXJtaW5lZCBsZW5ndGggb2YgdGltZS5cbiAgICAgICAgICovXG4gICAgICAgIGxvbmdQcmVzczogYm9vbGVhbiB8IG51bGw7XG4gICAgICAgIHByb3BzVW5zdGFibGU6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3VwcG9ydHNQb2ludGVyRXZlbnRzKCkge1xuICAgIHJldHVybiAoXCJvbnBvaW50ZXJ1cFwiIGluIHdpbmRvdyk7XG59XG5cbi8qKlxuICogQWRkcyB0aGUgbmVjZXNzYXJ5IGV2ZW50IGhhbmRsZXJzIHRvIGNyZWF0ZSBhIFwicHJlc3NcIi1saWtlIGV2ZW50IGZvclxuICogYW55IGVsZW1lbnQsIHdoZXRoZXIgaXQncyBhIG5hdGl2ZSAmbHQ7YnV0dG9uPiBvciByZWd1bGFyICZsdDtkaXY+LFxuICogYW5kIGFsbG93cyBmb3IgYSBcImxvbmcgcHJlc3NcIiB0aGF0IGNhbiBiZSB1c2VkIHRvLCBcbiAqIGUuZy4sIHNob3cgYSB0b29sdGlwICppbnN0ZWFkKiBvZiBhY3RpdmF0aW5nIGEgcHJlc3MuXG4gKiBcbiAqIE5vdGFibHksIHRoZSBmb2xsb3dpbmcgY2FzZXMgYXJlIGNvdmVyZWQ6XG4gKiAqIFRoZSB0YXJnZXQgZWxlbWVudCBpcyBwcm9wZXJseSBmb2N1c2VkLCBldmVuIG9uIGlPUyBTYWZhcmkgKCplc3BlY2lhbGx5KiBvbiBpT1MgU2FmYXJpKVxuICogKiBEb3VibGUtY2xpY2tzIHdvbid0IHNlbGVjdCB0ZXh0LCBpdCBqdXN0IHByZXNzZXMgdGhlIGJ1dHRvbiB0d2ljZS5cbiAqICogVGV4dCBzZWxlY3Rpb24gdGhhdCBoYXBwZW5zIHRvIGVuZC9zdGFydCB3aXRoIHRoaXMgZWxlbWVudCB3b24ndCBpbnZva2UgYSBwcmVzcy5cbiAqICogVGhlIGBlbnRlcmAga2V5IGltbWVkaWF0ZWx5IGludm9rZXMgYSBwcmVzcyAoYnkgZGVmYXVsdCBqdXN0IG9uY2UgdW50aWwgcHJlc3NlZCBhZ2FpbiksIHdoaWxlIHRoZSBgc3BhY2VgIGtleSBpbnZva2VzIGl0IHdoZW4gcmVsZWFzZWQsIGlmIGZvY3VzIGhhc24ndCBtb3ZlZCBhd2F5IGZyb20gdGhlIGJ1dHRvbi5cbiAqICogSGFwdGljIGZlZWRiYWNrIChvbiwgbGlrZSwgdGhlIG9uZSBicm93c2VyIGNvbWJpbmF0aW9uIHRoYXQgc3VwcG9ydHMgaXQgJm1kYXNoOyB0aGlzIGNhbiBiZSBkaXNhYmxlZCBhcHAtd2lkZSB3aXRoIGBzZXRCdXR0b25WaWJyYXRlYClcbiAqIFxuICogSW4gYWRkaXRpb24sIHJldHVybnMgYSBcIm1vcmUgYWNjdXJhdGVcIiBDU1MgYGFjdGl2ZWAgYW5kIGBob3ZlcmA7IG1vcmUgYWNjdXJhdGVcbiAqIGluIHRoYXQgYGhvdmVyYCB3b24ndCBtZXNzIHVwIG1vYmlsZSBkZXZpY2VzIHRoYXQgc2VlIGBob3ZlcmAgYW5kIG1lc3MgdXAgeW91ciBjbGljayBldmVudHMsXG4gKiBhbmQgaW4gdGhhdCBgYWN0aXZlYCBhY2N1cmF0ZWx5IGRpc3BsYXlzIHdoZW4gYSBwcmVzcyB3b3VsZCBvY2N1ciBvciBub3QuXG4gKiBcbiAqIEBwYXJhbSBvbkNsaWNrU3luYyBcbiAqIEBwYXJhbSBleGNsdWRlIFdoZXRoZXIgdGhlIHBvbHlmaWxsIHNob3VsZG4ndCBhcHBseSAoY2FuIHNwZWNpZnkgZm9yIHNwZWNpZmljIGludGVyYWN0aW9ucylcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVByZXNzPEUgZXh0ZW5kcyBFbGVtZW50PihhcmdzOiBVc2VQcmVzc1BhcmFtZXRlcnM8RT4pOiBVc2VQcmVzc1JldHVyblR5cGU8RT4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgcmVmRWxlbWVudFJldHVybjogeyBnZXRFbGVtZW50IH0sXG4gICAgICAgIHByZXNzUGFyYW1ldGVyczogeyBmb2N1c1NlbGYsIG9uUHJlc3NTeW5jLCBhbGxvd1JlcGVhdFByZXNzZXMsIGxvbmdQcmVzc1RocmVzaG9sZCwgZXhjbHVkZUVudGVyOiBlZSwgZXhjbHVkZVBvaW50ZXI6IGVwLCBleGNsdWRlU3BhY2U6IGVzIH1cbiAgICB9ID0gYXJncztcblxuICAgIGNvbnN0IGV4Y2x1ZGVFbnRlciA9IHVzZVN0YWJsZUNhbGxiYWNrKGVlID8/IHJldHVybkZhbHNlKTtcbiAgICBjb25zdCBleGNsdWRlU3BhY2UgPSB1c2VTdGFibGVDYWxsYmFjayhlcyA/PyByZXR1cm5GYWxzZSk7XG4gICAgY29uc3QgZXhjbHVkZVBvaW50ZXIgPSB1c2VTdGFibGVDYWxsYmFjayhlcCA/PyByZXR1cm5GYWxzZSk7XG5cbiAgICBjb25zdCBoYXNQcmVzc0V2ZW50ID0gKG9uUHJlc3NTeW5jICE9IG51bGwpO1xuXG4gICAgLyoqXG4gICAgICogRXhwbGFuYXRpb25zOlxuICAgICAqIFxuICAgICAqIEl0IHdvdWxkIGJlIG5pY2UgdG8ganVzdCB1c2UgcG9pbnRlciBldmVudHMgZm9yIGV2ZXJ5dGhpbmcsXG4gICAgICogYnV0IDIwMTkgaU9TIGRldmljZXMgY2FuJ3QgcnVuIHRob3NlLCBhbWF6aW5nbHkgZW5vdWdoLCBhbmRcbiAgICAgKiB0aGF0J3Mgc3RpbGwgcHJldHR5IHJlY2VudC4gU28gd2UgbmVlZCB0byBoYXZlIGJhY2t1cCB0b3VjaFxuICAgICAqIGV2ZW50cy5cbiAgICAgKiBcbiAgICAgKiBXaHkgbm90IGp1c3QgdXNlIGNsaWNrPyBCZWNhdXNlIGF0IHRoZSB2ZXJ5LCB2ZXJ5IGxlYXN0LFxuICAgICAqIHdlIGFsc28gbmVlZCB0byBiZSBhYmxlIHRvIGhhbmRsZSBzcGFjZSBhbmQgZW50ZXIga2V5IHByZXNzZXMsXG4gICAgICogYW5kIHRoYXQgbmVlZHMgdG8gd29yayByZWdhcmRsZXNzIG9mIGlmIGl0J3MgYSA8YnV0dG9uPiBvciBub3QuXG4gICAgICogXG4gICAgICogQWxzbywgd2UgZG8gc3RpbGwgdXNlIGNsaWNrLCBiZWNhdXNlIHByb2dyYW1tYXRpYyBjbGlja3MgY2FuIGNvbWVcbiAgICAgKiBmcm9tIGFueXRoaW5nIGZyb20gQVRzIHRvIGF1dG9tYXRpb24gc2NyaXB0cywgYW5kIHdlIGRvbid0IHdhbnRcbiAgICAgKiB0byBicmVhayB0aG9zZS4gQnV0IHNpbmNlIHdlIGFyZSBsaXN0ZW5pbmcgZm9yIHBvaW50ZXIvdG91Y2ggZXZlbnRzLFxuICAgICAqIGFuZCB3ZSBjYW4ndCBwcmV2ZW50IHRoZSBzdWJzZXF1ZW50IGNsaWNrIGV2ZW50IGZyb20gaGFwcGVuaW5nLFxuICAgICAqIGFuZCB3ZSAqKmRvbid0IHdhbnQgdG8gZHVwbGljYXRlIHByZXNzIGV2ZW50cyoqLCB3ZSBuZWVkIHRvXG4gICAgICogaWdub3JlIGNsaWNrIGV2ZW50cyB0aGF0IGhhcHBlbiBpbiB0aGUgc2FtZSB0aWNrIGFzIGEgaGFuZGxlZCBwcmVzcyBldmVudC5cbiAgICAgKiBcbiAgICAgKiBXaGVuIHdlIGRvIGEgcG9pbnRlcm1vdmUvdG91Y2htb3ZlLCB3ZSBjaGVjayB0byBzZWUgaWYgd2UncmUgc3RpbGwgaG92ZXJpbmcgb3ZlciB0aGUgZWxlbWVudFxuICAgICAqIGZvciBtb3JlIGFjY3VyYXRlIFwiYWN0aXZlXCIvaG92ZXIgZGV0ZWN0aW9uLlxuICAgICAqIFxuICAgICAqIFwiQnV0IHlvdSBoYXZlIGEgcG9pbnRlcmxlYXZlIGV2ZW50LCB3aHkgY2hlY2sgZm9yIGhvdmVyaW5nIGR1cmluZyBwb2ludGVybW92ZT9cIlxuICAgICAqIFxuICAgICAqIEJlY2F1c2UgZm9yIHNvbWUgcmVhc29uLCBwb2ludGVybGVhdmUgKGV0Yy4pIGFyZW4ndCBmaXJlZCB1bnRpbCAqYWZ0ZXIqIHBvaW50ZXJ1cCwgbm8gbWF0dGVyIHdoYXQuXG4gICAgICogXG4gICAgICovXG5cbiAgICAvLyBBbGwgb3VyIGNoZWNraW5nIGZvciBwb2ludGVyZG93biBhbmQgdXAgZG9lc24ndCBtZWFuIGFueXRoaW5nIGlmIGl0J3NcbiAgICAvLyBhIHByb2dyYW1tYXRpYyBvbkNsaWNrIGV2ZW50LCB3aGljaCBjb3VsZCBjb21lIGZyb20gYW55IG5vbi11c2VyIHNvdXJjZS5cbiAgICAvLyBXZSB3YW50IHRvIGhhbmRsZSB0aG9zZSBqdXN0IGxpa2UgR1VJIGNsaWNrcywgYnV0IHdlIGRvbid0IHdhbnQgdG8gZG91YmxlLXVwIG9uIHByZXNzIGV2ZW50cy5cbiAgICAvLyBTbyBpZiB3ZSBoYW5kbGUgYSBwcmVzcyBmcm9tIHBvaW50ZXJ1cCwgd2UgaWdub3JlIGFueSBzdWJzZXF1ZW50IGNsaWNrIGV2ZW50cywgYXQgbGVhc3QgZm9yIGEgdGljay5cbiAgICBjb25zdCBbZ2V0SnVzdEhhbmRsZWQsIHNldEp1c3RIYW5kbGVkXSA9IHVzZVBhc3NpdmVTdGF0ZTxib29sZWFuLCBoLkpTWC5UYXJnZXRlZEV2ZW50PEU+Pih1c2VTdGFibGVDYWxsYmFjaygoanVzdEhhbmRsZWQsIF9wLCByZWFzb24pID0+IHtcbiAgICAgICAgaWYgKGp1c3RIYW5kbGVkKSB7XG4gICAgICAgICAgICBjb25zdCBoID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SnVzdEhhbmRsZWQoZmFsc2UsIHJlYXNvbik7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQoaCk7XG4gICAgICAgIH1cbiAgICB9KSwgcmV0dXJuRmFsc2UpO1xuXG4gICAgY29uc3QgW2xvbmdQcmVzcywgc2V0TG9uZ1ByZXNzXSA9IHVzZVN0YXRlKG51bGwgYXMgYm9vbGVhbiB8IG51bGwpO1xuICAgIGNvbnN0IFt3YWl0aW5nRm9yU3BhY2VVcCwgc2V0V2FpdGluZ0ZvclNwYWNlVXAsIGdldFdhaXRpbmdGb3JTcGFjZVVwXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbcG9pbnRlckRvd25TdGFydGVkSGVyZSwgc2V0UG9pbnRlckRvd25TdGFydGVkSGVyZSwgZ2V0UG9pbnRlckRvd25TdGFydGVkSGVyZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2hvdmVyaW5nLCBzZXRIb3ZlcmluZywgZ2V0SG92ZXJpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG9uVG91Y2hTdGFydCA9IHVzZUNhbGxiYWNrKChlOiBoLkpTWC5UYXJnZXRlZFRvdWNoRXZlbnQ8RT4pID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBzZXRQb2ludGVyRG93blN0YXJ0ZWRIZXJlKHRydWUpO1xuICAgICAgICBzZXRIb3ZlcmluZyh0cnVlKTtcbiAgICAgICAgc2V0TG9uZ1ByZXNzKGZhbHNlKTtcblxuICAgICAgICBjb25zdCBlbGVtZW50ID0gZ2V0RWxlbWVudCgpO1xuICAgICAgICBpZiAoZWxlbWVudClcbiAgICAgICAgICAgIGZvY3VzU2VsZihlbGVtZW50KTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3Qgb25Ub3VjaE1vdmUgPSB1c2VDYWxsYmFjaygoZTogaC5KU1guVGFyZ2V0ZWRUb3VjaEV2ZW50PEU+KSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnQoKTtcbiAgICAgICAgY29uc3QgdG91Y2ggPSBlLnRvdWNoZXNbMF07XG4gICAgICAgIC8vIEJlIGFzIGdlbmVyb3VzIGFzIHBvc3NpYmxlIHdpdGggdG91Y2ggZXZlbnRzIGJ5IGNoZWNraW5nIGFsbCBmb3VyIGNvcm5lcnMgb2YgdGhlIHJhZGl1cyB0b29cbiAgICAgICAgY29uc3Qgb2Zmc2V0cyA9IFtcbiAgICAgICAgICAgIFswLCAwXSBhcyBjb25zdCxcbiAgICAgICAgICAgIFstdG91Y2gucmFkaXVzWCwgLXRvdWNoLnJhZGl1c1ldIGFzIGNvbnN0LFxuICAgICAgICAgICAgWyt0b3VjaC5yYWRpdXNYLCAtdG91Y2gucmFkaXVzWV0gYXMgY29uc3QsXG4gICAgICAgICAgICBbLXRvdWNoLnJhZGl1c1gsICt0b3VjaC5yYWRpdXNZXSBhcyBjb25zdCxcbiAgICAgICAgICAgIFsrdG91Y2gucmFkaXVzWCwgK3RvdWNoLnJhZGl1c1ldIGFzIGNvbnN0XG4gICAgICAgIF0gYXMgY29uc3Q7XG4gICAgICAgIGxldCBob3ZlcmluZ0F0QW55UG9pbnQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBbeCwgeV0gb2Ygb2Zmc2V0cykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudEF0VG91Y2ggPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KCh0b3VjaD8uY2xpZW50WCA/PyAwKSArIHgsICh0b3VjaD8uY2xpZW50WSA/PyAwKSArIHkpO1xuICAgICAgICAgICAgaG92ZXJpbmdBdEFueVBvaW50IHx8PSAoZWxlbWVudD8uY29udGFpbnMoZWxlbWVudEF0VG91Y2gpID8/IGZhbHNlKVxuICAgICAgICB9XG4gICAgICAgIHNldEhvdmVyaW5nKGhvdmVyaW5nQXRBbnlQb2ludCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IG9uVG91Y2hFbmQgPSB1c2VDYWxsYmFjaygoZTogaC5KU1guVGFyZ2V0ZWRUb3VjaEV2ZW50PEU+KSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY29uc3QgaG92ZXJpbmcgPSBnZXRIb3ZlcmluZygpO1xuICAgICAgICBjb25zdCBwb2ludGVyRG93blN0YXJ0ZWRIZXJlID0gZ2V0UG9pbnRlckRvd25TdGFydGVkSGVyZSgpO1xuXG4gICAgICAgIHNldEp1c3RIYW5kbGVkKHRydWUpO1xuICAgICAgICBpZiAocG9pbnRlckRvd25TdGFydGVkSGVyZSAmJiBob3ZlcmluZykge1xuICAgICAgICAgICAgaGFuZGxlUHJlc3MoZSk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0V2FpdGluZ0ZvclNwYWNlVXAoZmFsc2UpO1xuICAgICAgICBzZXRIb3ZlcmluZyhmYWxzZSk7XG4gICAgICAgIHNldFBvaW50ZXJEb3duU3RhcnRlZEhlcmUoZmFsc2UpO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IG9uUG9pbnRlckRvd24gPSB1c2VDYWxsYmFjaygoZTogaC5KU1guVGFyZ2V0ZWRQb2ludGVyRXZlbnQ8RT4pID0+IHtcbiAgICAgICAgaWYgKCFleGNsdWRlUG9pbnRlcigpKSB7XG4gICAgICAgICAgICBpZiAoKGUuYnV0dG9ucyAmIDEpKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgc2V0UG9pbnRlckRvd25TdGFydGVkSGVyZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXRIb3ZlcmluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBzZXRMb25nUHJlc3MoZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudClcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNTZWxmKGVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IG9uUG9pbnRlck1vdmUgPSB1c2VTdGFibGVDYWxsYmFjaygoZTogaC5KU1guVGFyZ2V0ZWRQb2ludGVyRXZlbnQ8RT4pID0+IHtcbiAgICAgICAgbGV0IGxpc3RlbmluZ0ZvclByZXNzID0gZ2V0UG9pbnRlckRvd25TdGFydGVkSGVyZSgpO1xuICAgICAgICAvLyBJZiB3ZSdyZSBob3ZlcmluZyBvdmVyIHRoaXMgZWxlbWVudCBhbmQgbm90IGhvbGRpbmcgZG93biB0aGUgbW91c2UgYnV0dG9uIChvciB3aGF0ZXZlciBvdGhlciBwcmltYXJ5IGJ1dHRvbilcbiAgICAgICAgLy8gdGhlbiB3ZSdyZSBkZWZpbml0ZWx5IG5vdCBpbiBhIHByZXNzIGFueW1vcmUgKGlmIHdlIGNvdWxkIHdlJ2QganVzdCB3YWl0IGZvciBvblBvaW50ZXJVcCwgYnV0IGl0IGNvdWxkIGhhcHBlbiBvdXRzaWRlIHRoaXMgZWxlbWVudClcbiAgICAgICAgaWYgKCEoZS5idXR0b25zICYgMSkpXG4gICAgICAgICAgICBzZXRQb2ludGVyRG93blN0YXJ0ZWRIZXJlKGxpc3RlbmluZ0ZvclByZXNzID0gZmFsc2UpO1xuXG5cbiAgICAgICAgaWYgKGxpc3RlbmluZ0ZvclByZXNzKSB7XG4gICAgICAgICAgICAvL2UucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIC8vZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50KCk7XG4gICAgICAgICAgICAvLyBOb3RlOiBlbGVtZW50RnJvbVBvaW50IHN0YXJ0cyByZWFzb25hYmx5IGV4cGVuc2l2ZSBvbiBhIGRlY2VudCBjb21wdXRlciB3aGVuIG9uIHRoZSBvcmRlciBvZiA1MDAgb3Igc28gZWxlbWVudHMsXG4gICAgICAgICAgICAvLyBzbyB3ZSBvbmx5IHRlc3QgZm9yIGhvdmVyaW5nIHdoaWxlIGFjdGl2ZWx5IGF0dGVtcHRpbmcgdG8gZGV0ZWN0IGEgcHJlc3NcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRBdFBvaW50ZXIgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgIHNldEhvdmVyaW5nKGVsZW1lbnQgPT0gZWxlbWVudEF0UG9pbnRlciB8fCBlbGVtZW50Py5jb250YWlucyhlbGVtZW50QXRQb2ludGVyKSB8fCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgIH0pXG4gICAgY29uc3Qgb25Qb2ludGVyVXAgPSB1c2VDYWxsYmFjaygoZTogaC5KU1guVGFyZ2V0ZWRQb2ludGVyRXZlbnQ8RT4pID0+IHtcbiAgICAgICAgY29uc3QgaG92ZXJpbmcgPSBnZXRIb3ZlcmluZygpO1xuICAgICAgICBjb25zdCBwb2ludGVyRG93blN0YXJ0ZWRIZXJlID0gZ2V0UG9pbnRlckRvd25TdGFydGVkSGVyZSgpO1xuXG4gICAgICAgIGlmICghZXhjbHVkZVBvaW50ZXIoKSkge1xuICAgICAgICAgICAgc2V0SnVzdEhhbmRsZWQodHJ1ZSk7XG4gICAgICAgICAgICBpZiAocG9pbnRlckRvd25TdGFydGVkSGVyZSAmJiBob3ZlcmluZykge1xuICAgICAgICAgICAgICAgIGhhbmRsZVByZXNzKGUpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldFdhaXRpbmdGb3JTcGFjZVVwKGZhbHNlKTtcbiAgICAgICAgc2V0SG92ZXJpbmcoZmFsc2UpO1xuICAgICAgICBzZXRQb2ludGVyRG93blN0YXJ0ZWRIZXJlKGZhbHNlKTtcbiAgICAgICAgc2V0TG9uZ1ByZXNzKGZhbHNlKTtcblxuICAgIH0sIFtdKTtcbiAgICBjb25zdCBvblBvaW50ZXJFbnRlciA9IHVzZUNhbGxiYWNrKChfZTogaC5KU1guVGFyZ2V0ZWRQb2ludGVyRXZlbnQ8RT4pID0+IHtcbiAgICAgICAgc2V0SG92ZXJpbmcodHJ1ZSk7XG4gICAgfSwgW10pXG4gICAgY29uc3Qgb25Qb2ludGVyTGVhdmUgPSB1c2VDYWxsYmFjaygoX2U6IGguSlNYLlRhcmdldGVkUG9pbnRlckV2ZW50PEU+KSA9PiB7XG4gICAgICAgIHNldEhvdmVyaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0TG9uZ1ByZXNzKGZhbHNlKTtcbiAgICB9LCBbXSk7XG5cbiAgICB1c2VUaW1lb3V0KHtcbiAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50KCk7XG4gICAgICAgICAgICBzZXRMb25nUHJlc3MocG9pbnRlckRvd25TdGFydGVkSGVyZSAmJiBob3ZlcmluZyk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAmJiBwb2ludGVyRG93blN0YXJ0ZWRIZXJlICYmIGhvdmVyaW5nKSB7XG4gICAgICAgICAgICAgICAgZm9jdXNTZWxmKGVsZW1lbnQpO1xuXG5cbiAgICAgICAgICAgICAgICBpZiAobG9uZ1ByZXNzVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFdhaXRpbmdGb3JTcGFjZVVwKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SG92ZXJpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzZXRQb2ludGVyRG93blN0YXJ0ZWRIZXJlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgdGltZW91dDogbG9uZ1ByZXNzVGhyZXNob2xkID8/IG51bGwsXG4gICAgICAgIHRyaWdnZXJJbmRleDogbG9uZ1ByZXNzPyB0cnVlIDogKHBvaW50ZXJEb3duU3RhcnRlZEhlcmUgJiYgaG92ZXJpbmcpXG4gICAgfSlcblxuXG4gICAgY29uc3QgaGFuZGxlUHJlc3MgPSB1c2VTdGFibGVDYWxsYmFjazxOb25OdWxsYWJsZTx0eXBlb2Ygb25QcmVzc1N5bmM+PigoZSkgPT4ge1xuICAgICAgICBzZXRXYWl0aW5nRm9yU3BhY2VVcChmYWxzZSk7XG4gICAgICAgIHNldEhvdmVyaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0UG9pbnRlckRvd25TdGFydGVkSGVyZShmYWxzZSk7XG4gICAgICAgIHNldExvbmdQcmVzcyhudWxsKTtcblxuICAgICAgICBpZiAob25QcmVzc1N5bmMpIHtcblxuICAgICAgICAgICAgLy8gTm90ZTogVGhlIGVsZW1lbnQgaXMgZm9jdXNlZCBoZXJlIGJlY2F1c2Ugb2YgaU9TIFNhZmFyaS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBJdCdzIGFsd2F5cyBpT1MgU2FmYXJpLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIGlPUyBTYWZhcmkgKHRlc3RlZCBvbiAxMikgZG93bnJpZ2h0IHJlZnVzZXMgdG8gYWxsb3cgXG4gICAgICAgICAgICAvLyBlbGVtZW50cyB0byBiZSBtYW51YWxseSBmb2N1c2VkIFVOTEVTUyBpdCBoYXBwZW5zIHdpdGhpblxuICAgICAgICAgICAgLy8gYW4gZXZlbnQgaGFuZGxlciBsaWtlIHRoaXMuICBJdCBhbHNvIGRvZXNuJ3QgZm9jdXNcbiAgICAgICAgICAgIC8vIGJ1dHRvbnMgYnkgZGVmYXVsdCB3aGVuIGNsaWNrZWQsIHRhcHBlZCwgZXRjLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIElmIGl0IGJlY29tZXMgcHJvYmxlbWF0aWMgdGhhdCBidXR0b24tbGlrZXMgZXhwbGljaXRseSBiZWNvbWVcbiAgICAgICAgICAgIC8vIGZvY3VzZWQgd2hlbiB0aGV5IGFyZSBwcmVzc2VkLCB0aGVuIGFuIGFsdGVybmF0aXZlIHNvbHV0aW9uIGZvclxuICAgICAgICAgICAgLy8gdGhlIHF1ZXN0aW9uIG9mIFwiaG93IGRvIG1lbnUgYnV0dG9ucyBrZWVwIHRoZWlyIG1lbnVzIG9wZW5cIlxuICAgICAgICAgICAgLy8gYW5kIG90aGVyIGZvY3VzLXJlbGF0ZWQgbm9uc2Vuc2UgbmVlZHMgdG8gYmUgZmlndXJlZCBvdXQuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gRm9yIGlPUyBTYWZhcmkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50KVxuICAgICAgICAgICAgICAgIGZvY3VzU2VsZihlbGVtZW50IGFzIEV2ZW50VGFyZ2V0IGFzIEUpO1xuXG4gICAgICAgICAgICAvLyBXaGF0ZXZlciB0aGUgYnJvd3NlciB3YXMgZ29pbmcgdG8gZG8gd2l0aCB0aGlzIGV2ZW50LFxuICAgICAgICAgICAgLy8gZm9yZ2V0IGl0LiBXZSdyZSB0dXJuaW5nIGl0IGludG8gYSBcInByZXNzXCIgZXZlbnQuXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIC8vIEFsc28gc3RvcCBhbnlvbmUgZWxzZSBmcm9tIGxpc3RlbmluZyB0byB0aGlzIGV2ZW50LFxuICAgICAgICAgICAgLy8gc2luY2Ugd2UncmUgZXhwbGljaXRseSBoYW5kbGluZyBpdC5cbiAgICAgICAgICAgIC8vIChOb3RhYmx5LCB0aGlzIGFsbG93cyBsYWJlbHMgdG8gd3JhcCBpbnB1dHMsIHdpdGggdGhlbVxuICAgICAgICAgICAgLy8gYm90aCBoYXZpbmcgcHJlc3MgZXZlbnQgaGFuZGxlcnMsIHdpdGhvdXQgZG91YmxlLWZpcmluZylcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgIC8vIEhhcHRpYyBmZWVkYmFjayBmb3IgdGhpcyBwcmVzcyBldmVudFxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBkb2Vzbid0IHRocm93LFxuICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBzaG91bGQgZ3VhcmQgYWdhaW5zdCB1c2VyIGltcGxlbWVudGF0aW9ucyB0aGF0IGNvdWxkLlxuICAgICAgICAgICAgICAgIHB1bHNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAvLyBBY3R1YWxseSBjYWxsIG91ciBoYW5kbGVyLlxuICAgICAgICAgICAgICAgIG9uUHJlc3NTeW5jKGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgY29uc3Qgb25LZXlEb3duID0gdXNlU3RhYmxlQ2FsbGJhY2soKGU6IGguSlNYLlRhcmdldGVkS2V5Ym9hcmRFdmVudDxFPikgPT4ge1xuICAgICAgICBpZiAob25QcmVzc1N5bmMpIHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PSBcIiBcIiAmJiAhZXhjbHVkZVNwYWNlKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBhY3R1YWxseSBhY3RpdmF0ZSBpdCBvbiBhIHNwYWNlIGtleWRvd25cbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgZG8gcHJldmVudERlZmF1bHQgdG8gc3RvcCB0aGUgcGFnZSBmcm9tIHNjcm9sbGluZy5cbiAgICAgICAgICAgICAgICBzZXRXYWl0aW5nRm9yU3BhY2VVcCh0cnVlKTtcbiAgICAgICAgICAgICAgICAvL29uQWN0aXZlU3RhcnQoZSk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZS5rZXkgPT0gXCJFbnRlclwiICYmICFleGNsdWRlRW50ZXIoKSAmJiAoIWUucmVwZWF0IHx8IChhbGxvd1JlcGVhdFByZXNzZXMgPz8gZmFsc2UpKSkge1xuXG4gICAgICAgICAgICAgICAgaGFuZGxlUHJlc3MoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgY29uc3Qgb25LZXlVcCA9IHVzZVN0YWJsZUNhbGxiYWNrKChlOiBoLkpTWC5UYXJnZXRlZEtleWJvYXJkRXZlbnQ8RT4pID0+IHtcbiAgICAgICAgY29uc3Qgd2FpdGluZ0ZvclNwYWNlVXAgPSBnZXRXYWl0aW5nRm9yU3BhY2VVcCgpO1xuICAgICAgICBpZiAod2FpdGluZ0ZvclNwYWNlVXAgJiYgZS5rZXkgPT0gXCIgXCIgJiYgIWV4Y2x1ZGVTcGFjZSgpKVxuICAgICAgICAgICAgaGFuZGxlUHJlc3MoZSk7XG4gICAgfSlcblxuICAgIGNvbnN0IG9uQ2xpY2sgPSB1c2VTdGFibGVDYWxsYmFjaygoZTogaC5KU1guVGFyZ2V0ZWRNb3VzZUV2ZW50PEU+KSA9PiB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50KCk7XG4gICAgICAgIGlmIChvblByZXNzU3luYykge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAvL2NvbnN0IGVsZW1lbnQgPSBnZXRFbGVtZW50KCk7XG4gICAgICAgICAgICAvL2lmIChlbGVtZW50KVxuICAgICAgICAgICAgLy8gICAgZm9jdXNTZWxmKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwgPiAxKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBcInByb2dyYW1tYXRpY1wiIGNsaWNrIGV2ZW50cy5cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSB0aGUgY2xpY2sgZXZlbnRzIHRoYXQgd2VyZSAqanVzdCogaGFuZGxlZCB3aXRoIHBvaW50ZXJ1cFxuICAgICAgICAgICAgICAgICAgICBnZXRKdXN0SGFuZGxlZCgpID09IGZhbHNlICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBzdHJheSBjbGljayBldmVudHMgdGhhdCB3ZXJlJ3QgZmlyZWQgU1BFQ0lGSUNBTExZIG9uIHRoaXMgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBlLnRhcmdldCA9PSBlbGVtZW50ICYmXG4gICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBjbGljayBldmVudHMgdGhhdCB3ZXJlIGZpcmVkIG9uIGEgcmFkaW8gdGhhdCBqdXN0IGJlY2FtZSBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIChXaGVuZXZlciB0aGUgYGNoZWNrZWRgIHByb3BlcnR5IGlzIGNoYW5nZWQsIGFsbCBicm93c2VycyBmaXJlIGEgYGNsaWNrYCBldmVudCwgbm8gbWF0dGVyIHRoZSByZWFzb24gZm9yIHRoZSBjaGFuZ2UsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBzaW5jZSBldmVyeXRoaW5nJ3MgZGVjbGFyYXRpdmUgYW5kICp3ZSogd2VyZSB0aGUgcmVhc29uIGZvciB0aGUgY2hhbmdlLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsd2F5cyBiZSBhIGR1cGxpY2F0ZSBldmVudCByZWxhdGVkIHRvIHdoYXRldmVyIHdlIGp1c3QgZGlkLilcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudD8udGFnTmFtZSA9PSAnaW5wdXQnICYmIChlbGVtZW50IGFzIEVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudCkudHlwZSA9PSAncmFkaW8nICYmIChlbGVtZW50IGFzIEVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbnRlbnRpb25hbCwgZm9yIG5vdy4gUHJvZ3JhbW1hdGljIGNsaWNrcyBzaG91bGRuJ3QgaGFwcGVuIGluIG1vc3QgY2FzZXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIHdoZW4gSSdtIGNvbmZpZGVudCBzdHJheSBjbGlja3Mgd29uJ3QgYmUgaGFuZGxlZC5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z2dlcjtcblxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVQcmVzcyhlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgY29uc3Qgb25Gb2N1c091dCA9IHVzZVN0YWJsZUNhbGxiYWNrKChfZTogaC5KU1guVGFyZ2V0ZWRGb2N1c0V2ZW50PEU+KSA9PiB7XG4gICAgICAgIHNldFdhaXRpbmdGb3JTcGFjZVVwKGZhbHNlKTtcbiAgICB9KVxuXG5cbiAgICBjb25zdCBwID0gc3VwcG9ydHNQb2ludGVyRXZlbnRzKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwcmVzc1JldHVybjoge1xuICAgICAgICAgICAgcHNldWRvQWN0aXZlOiAoKHBvaW50ZXJEb3duU3RhcnRlZEhlcmUgJiYgaG92ZXJpbmcpIHx8IHdhaXRpbmdGb3JTcGFjZVVwIHx8IGZhbHNlKSxcbiAgICAgICAgICAgIC8vaG92ZXJpbmcsXG4gICAgICAgICAgICBsb25nUHJlc3MsXG4gICAgICAgICAgICBwcm9wc1Vuc3RhYmxlOiB7XG4gICAgICAgICAgICAgICAgb25LZXlEb3duLFxuICAgICAgICAgICAgICAgIG9uS2V5VXAsXG5cbiAgICAgICAgICAgICAgICBvblRvdWNoU3RhcnQ6ICFoYXNQcmVzc0V2ZW50ID8gdW5kZWZpbmVkIDogKCFwID8gb25Ub3VjaFN0YXJ0IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBvblRvdWNoQ2FuY2VsOiAhaGFzUHJlc3NFdmVudCA/IHVuZGVmaW5lZCA6ICghcCA/IG9uVG91Y2hFbmQgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIG9uVG91Y2hNb3ZlOiAhaGFzUHJlc3NFdmVudCA/IHVuZGVmaW5lZCA6ICghcCA/IG9uVG91Y2hNb3ZlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBvblRvdWNoRW5kOiAhaGFzUHJlc3NFdmVudCA/IHVuZGVmaW5lZCA6ICghcCA/IG9uVG91Y2hFbmQgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIG9uUG9pbnRlckRvd246ICFoYXNQcmVzc0V2ZW50ID8gdW5kZWZpbmVkIDogKHAgPyBvblBvaW50ZXJEb3duIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBvblBvaW50ZXJDYW5jZWw6ICFoYXNQcmVzc0V2ZW50ID8gdW5kZWZpbmVkIDogKHAgPyBvblBvaW50ZXJEb3duIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBvblBvaW50ZXJNb3ZlOiAhcG9pbnRlckRvd25TdGFydGVkSGVyZSB8fCAhaGFzUHJlc3NFdmVudCA/IHVuZGVmaW5lZCA6IChwID8gb25Qb2ludGVyTW92ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgb25Qb2ludGVyVXA6ICFoYXNQcmVzc0V2ZW50ID8gdW5kZWZpbmVkIDogKHAgPyBvblBvaW50ZXJVcCA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgb25Qb2ludGVyRW50ZXI6ICFoYXNQcmVzc0V2ZW50ID8gdW5kZWZpbmVkIDogKHAgPyBvblBvaW50ZXJFbnRlciA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgb25Qb2ludGVyTGVhdmU6ICFoYXNQcmVzc0V2ZW50ID8gdW5kZWZpbmVkIDogKHAgPyBvblBvaW50ZXJMZWF2ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgb25mb2N1c291dDogb25Gb2N1c091dCxcbiAgICAgICAgICAgICAgICBvbkNsaWNrXG4gICAgICAgICAgICB9LFxuICAgICAgICB9XG4gICAgfTtcbn1cblxuXG5cblxuLyoqXG4gKiBzZWxlY3Rpb24uY29udGFpbnNOb2RlIGRvZXNuJ3QgYWNjb3VudCBmb3Igc2VsZWN0aW9uLmlzQ29sbGFwc2VkLFxuICogc28gaGVyZSdzIGEgd29ya2Fyb3VuZCBmb3IgdGhhdC5cbiAqIFxuICogV2UgYWxzbyBvbmx5IGxvb2sgZm9yIHRoZSBzZWxlY3Rpb24gZW5kIHRvIG9ubHkgY2F0Y2ggdGhlIFxuICogZXNzZW5zZSBvZiBhIG5vbi1leGlzdGFudCBcInNlbGVjdGlvbnN0b3BcIiBldmVudC5cbiAqIFxuICogQHBhcmFtIGVsZW1lbnQgXG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gbm9kZVNlbGVjdGVkVGV4dExlbmd0aChlbGVtZW50OiBFdmVudFRhcmdldCB8IG51bGwgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50IGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAoc2VsZWN0aW9uPy5yYW5nZUNvdW50ID8/IDApOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gc2VsZWN0aW9uIS5nZXRSYW5nZUF0KGkpITtcbiAgICAgICAgICAgIGlmIChlbGVtZW50LmNvbnRhaW5zKHJhbmdlLmVuZENvbnRhaW5lcikgJiYgIXNlbGVjdGlvbj8uaXNDb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9uIS50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG5cbmxldCBwdWxzZSA9ICgoXCJ2aWJyYXRlXCIgaW4gbmF2aWdhdG9yKSAmJiAobmF2aWdhdG9yLnZpYnJhdGUgaW5zdGFuY2VvZiBGdW5jdGlvbikpID8gKCgpID0+IG5hdmlnYXRvci52aWJyYXRlKDEwKSkgOiAoKCkgPT4geyB9KTtcblxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGVuYWJsZS9kaXNhYmxlIGJ1dHRvbiB2aWJyYXRpb24gcHVsc2VzIG9uIGFuIGFwcC13aWRlIHNjYWxlLlxuICogXG4gKiBcbiAqIEBwYXJhbSBmdW5jIFRoZSBmdW5jdGlvbiB0byBydW4gd2hlbiBhIGJ1dHRvbiBpcyB0YXBwZWQuXG4gKiAoRGVmYXVsdCBpcyBgKCkgPT4gbmF2aWdhdG9yLnZpYnJhdGUoMTApYCBpbiBicm93c2VycyB0aGF0IHN1cHBvcnQgaXQsIGEgbm9vcCBvdGhlcndpc2UpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRQcmVzc1ZpYnJhdGUoZnVuYzogKCkgPT4gdm9pZCkge1xuICAgIHB1bHNlID0gZnVuYztcbn1cblxuXG5cbmZ1bmN0aW9uIGV4Y2x1ZGVzKHRhcmdldDogXCJjbGlja1wiIHwgXCJzcGFjZVwiIHwgXCJlbnRlclwiLCBleGNsdWRlOiB1bmRlZmluZWQgfCBib29sZWFuIHwgeyBjbGljaz86IFwiZXhjbHVkZVwiIHwgdW5kZWZpbmVkLCBzcGFjZT86IFwiZXhjbHVkZVwiIHwgdW5kZWZpbmVkLCBlbnRlcj86IFwiZXhjbHVkZVwiIHwgdW5kZWZpbmVkIH0pIHtcbiAgICBpZiAoZXhjbHVkZSA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChleGNsdWRlID09PSB0cnVlIHx8IGV4Y2x1ZGU/Llt0YXJnZXRdKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VJZCwgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgZ2VuZXJhdGVSYW5kb21JZCB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtYmVmb3JlLWxheW91dC1lZmZlY3RcIjtcbmltcG9ydCB7IHVzZUVuc3VyZVN0YWJpbGl0eSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2UtcGFzc2l2ZS1zdGF0ZVwiO1xuZXhwb3J0IHsgZ2VuZXJhdGVSYW5kb21JZCB9O1xuXG5cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUmFuZG9tSWRSZXR1cm5UeXBlPFMgZXh0ZW5kcyBFbGVtZW50LCBUIGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHByb3BzU291cmNlOiBoLkpTWC5IVE1MQXR0cmlidXRlczxTPjtcbiAgICBwcm9wc1JlZmVyZW5jZXI6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFQ+O1xuXG4gICAgLyoqXG4gICAgICogKipTVEFCTEUqKlxuICAgICAqIFxuICAgICAqIFRoZSBlbGVtZW50IHRoYXQgbmVlZHMgYSBjdXN0b20gYGlkYCBwcm9wIG11c3QgdXNlIHRoaXMgaG9vay5cbiAgICAgKi9cbiAgICAvL3VzZVJhbmRvbUlkU291cmNlRWxlbWVudDogVXNlUmFuZG9tSWRTb3VyY2VFbGVtZW50PFM+O1xuXG4gICAgLyoqXG4gICAgICogKipTVEFCTEUqKlxuICAgICAqIFxuICAgICAqIEFueSBlbGVtZW50IHRoYXQgcmVmZXJlbmNlcyB0aGUgaWQgdmlhIGBmb3JgIG9yIGBhcmlhLWxhYmVsbGVkYnlgLCBldGMuIG11c3QgdXNlIHRoaXMgaG9vay5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGhvb2sgY2FuIGJlIHVzZWQgbXVsdGlwbGUgdGltZXMgb24gZGlmZmVyZW50IGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgLy91c2VSYW5kb21JZFJlZmVyZW5jZXJFbGVtZW50OiBVc2VSYW5kb21JZFJlZmVyZW5jZXJFbGVtZW50O1xuICAgIHJhbmRvbUlkUmV0dXJuOiB7IGlkOiBzdHJpbmc7IH07XG59XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJhbmRvbUlkUGFyYW1ldGVycyB7XG4gICAgcmFuZG9tSWRQYXJhbWV0ZXJzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGlsZSBhbGwgSURzIGFyZSB1bmlxdWUsIHRoaXMgY2FuIGJlIHVzZWQgdG8gbW9yZSBlYXNpbHkgZGlmZmVyZW50aWF0ZSB0aGVtLlxuICAgICAgICAgKiBcbiAgICAgICAgICogSWYgdGhpcyBpcyBzdGFibGUsIHRoZW4geW91ciBwcm9wcyBhcmUgc3RhYmxlLiBTaW1wbGUgYXMgdGhhdC5cbiAgICAgICAgICovXG4gICAgICAgIHByZWZpeDogc3RyaW5nO1xuICAgIFxuICAgICAgICAvKiogVGhpcyBpcyB0aGUgcHJvcCBvbiB0aGUgKipPVEhFUioqIGVsZW1lbnQgdGhhdCB3aWxsIHVzZSBvdXIgSUQuICBFLkcuIFRoZSBgaW5wdXRgIGNhbGxzIGB1c2VSYW5kb21JZGAgYW5kIHBhc3NlcyBgZm9yYCBhcyBgcmVmZXJlbmNlclByb3BgLiAqL1xuICAgICAgICBvdGhlclJlZmVyZW5jZXJQcm9wOiBrZXlvZiBoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+IHwgbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSYW5kb21JZDxTIGV4dGVuZHMgRWxlbWVudCwgVCBleHRlbmRzIEVsZW1lbnQ+KHsgcmFuZG9tSWRQYXJhbWV0ZXJzOiB7IHByZWZpeCwgb3RoZXJSZWZlcmVuY2VyUHJvcCB9IH06IFVzZVJhbmRvbUlkUGFyYW1ldGVycyk6IFVzZVJhbmRvbUlkUmV0dXJuVHlwZTxTLCBUPiB7XG4gICAgY29uc3QgaWQgPSAocHJlZml4ICsgdXNlSWQoKSk7XG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlUmFuZG9tSWRcIiwgcHJlZml4LCBpZCk7XG5cbiAgICBjb25zdCByZWZlcmVuY2VyRWxlbWVudFByb3BzID0gdXNlUmVmPGguSlNYLkhUTUxBdHRyaWJ1dGVzPGFueT4+KG90aGVyUmVmZXJlbmNlclByb3AgPT0gbnVsbCA/IHt9IDogeyBbb3RoZXJSZWZlcmVuY2VyUHJvcF06IGlkIH0pO1xuICAgIGNvbnN0IHNvdXJjZUVsZW1lbnRQcm9wcyA9IHVzZVJlZjxoLkpTWC5IVE1MQXR0cmlidXRlczxTPj4oeyBpZCB9KTtcbiAgICB1c2VFbnN1cmVTdGFiaWxpdHkoXCJ1c2VSYW5kb21JZFJlZmVyZW5jZXJFbGVtZW50XCIsIG90aGVyUmVmZXJlbmNlclByb3ApO1xuICAgIFxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcHNSZWZlcmVuY2VyOiByZWZlcmVuY2VyRWxlbWVudFByb3BzLmN1cnJlbnQsXG4gICAgICAgIHByb3BzU291cmNlOiBzb3VyY2VFbGVtZW50UHJvcHMuY3VycmVudCxcbiAgICAgICAgcmFuZG9tSWRSZXR1cm46IHtcbiAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZU1lcmdlZFByb3BzIH0gZnJvbSBcIi4uL2RvbS1oZWxwZXJzL3VzZS1tZXJnZWQtcHJvcHNcIjtcbmltcG9ydCB7IHVzZVJhbmRvbUlkLCBVc2VSYW5kb21JZFBhcmFtZXRlcnMsIFVzZVJhbmRvbUlkUmV0dXJuVHlwZSB9IGZyb20gXCIuL3VzZS1yYW5kb20taWRcIjtcblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJhbmRvbUR1YWxJZHNQYXJhbWV0ZXJzIHtcbiAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogVXNlUmFuZG9tSWRQYXJhbWV0ZXJzW1wicmFuZG9tSWRQYXJhbWV0ZXJzXCJdO1xuICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzOiBVc2VSYW5kb21JZFBhcmFtZXRlcnNbXCJyYW5kb21JZFBhcmFtZXRlcnNcIl07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUmFuZG9tRHVhbElkc1JldHVyblR5cGU8SW5wdXRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHByb3BzSW5wdXQ6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPElucHV0RWxlbWVudD47XG4gICAgcHJvcHNMYWJlbDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8TGFiZWxFbGVtZW50PjtcbiAgICByYW5kb21JZElucHV0UmV0dXJuOiBVc2VSYW5kb21JZFJldHVyblR5cGU8SW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+W1wicmFuZG9tSWRSZXR1cm5cIl07XG4gICAgcmFuZG9tSWRMYWJlbFJldHVybjogVXNlUmFuZG9tSWRSZXR1cm5UeXBlPExhYmVsRWxlbWVudCwgSW5wdXRFbGVtZW50PltcInJhbmRvbUlkUmV0dXJuXCJdO1xufVxuXG4vKipcbiAqIFdoaWxlIGB1c2VSYW5kb21JZGAgYWxsb3dzIHRoZSByZWZlcmVuY2VyIHRvIHVzZSB0aGUgc291cmNlJ3MgSUQsIHNvbWV0aW1lcyB5b3UgYWxzbyB3YW50IHRoZSByZXZlcnNlIHRvbyAoZS5nLiBJIGBhcmlhLWxhYmVsYCB5b3UsIHlvdSBgYXJpYS1jb250cm9sc2AgbWUuIFRoYXQgc29ydCBvZiB0aGluZykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VSYW5kb21EdWFsSWRzPElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICByYW5kb21JZElucHV0UGFyYW1ldGVycyxcbiAgICByYW5kb21JZExhYmVsUGFyYW1ldGVycyxcbn06IFVzZVJhbmRvbUR1YWxJZHNQYXJhbWV0ZXJzKTogVXNlUmFuZG9tRHVhbElkc1JldHVyblR5cGU8SW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+IHtcblxuICAgIGNvbnN0IHsgcmFuZG9tSWRSZXR1cm46IHJhbmRvbUlkSW5wdXRSZXR1cm4sIHByb3BzUmVmZXJlbmNlcjogcHJvcHNMYWJlbEFzUmVmZXJlbmNlciwgcHJvcHNTb3VyY2U6IHByb3BzSW5wdXRBc1NvdXJjZSB9ID0gdXNlUmFuZG9tSWQ8SW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+KHsgcmFuZG9tSWRQYXJhbWV0ZXJzOiByYW5kb21JZElucHV0UGFyYW1ldGVycyB9KTtcbiAgICBjb25zdCB7IHJhbmRvbUlkUmV0dXJuOiByYW5kb21JZExhYmVsUmV0dXJuLCBwcm9wc1JlZmVyZW5jZXI6IHByb3BzSW5wdXRBc1JlZmVyZW5jZXIsIHByb3BzU291cmNlOiBwcm9wc0xhYmVsQXNTb3VyY2UgfSA9IHVzZVJhbmRvbUlkPExhYmVsRWxlbWVudCwgSW5wdXRFbGVtZW50Pih7IHJhbmRvbUlkUGFyYW1ldGVyczogcmFuZG9tSWRMYWJlbFBhcmFtZXRlcnMgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wc0xhYmVsOiB1c2VNZXJnZWRQcm9wczxMYWJlbEVsZW1lbnQ+KHByb3BzTGFiZWxBc1JlZmVyZW5jZXIsIHByb3BzTGFiZWxBc1NvdXJjZSksXG4gICAgICAgIHByb3BzSW5wdXQ6IHVzZU1lcmdlZFByb3BzPElucHV0RWxlbWVudD4ocHJvcHNJbnB1dEFzUmVmZXJlbmNlciwgcHJvcHNJbnB1dEFzU291cmNlKSxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFJldHVybixcbiAgICAgICAgcmFuZG9tSWRMYWJlbFJldHVyblxuICAgIH1cbn1cbiIsImltcG9ydCByb290IGZyb20gJy4vX3Jvb3QuanMnO1xuXG4vKipcbiAqIEdldHMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0aGF0IGhhdmUgZWxhcHNlZCBzaW5jZVxuICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAyLjQuMFxuICogQGNhdGVnb3J5IERhdGVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICogICBjb25zb2xlLmxvZyhfLm5vdygpIC0gc3RhbXApO1xuICogfSwgXy5ub3coKSk7XG4gKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICovXG52YXIgbm93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiByb290LkRhdGUubm93KCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBub3c7XG4iLCIvKiogVXNlZCB0byBtYXRjaCBhIHNpbmdsZSB3aGl0ZXNwYWNlIGNoYXJhY3Rlci4gKi9cbnZhciByZVdoaXRlc3BhY2UgPSAvXFxzLztcblxuLyoqXG4gKiBVc2VkIGJ5IGBfLnRyaW1gIGFuZCBgXy50cmltRW5kYCB0byBnZXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlXG4gKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVyLlxuICovXG5mdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gIHZhciBpbmRleCA9IHN0cmluZy5sZW5ndGg7XG5cbiAgd2hpbGUgKGluZGV4LS0gJiYgcmVXaGl0ZXNwYWNlLnRlc3Qoc3RyaW5nLmNoYXJBdChpbmRleCkpKSB7fVxuICByZXR1cm4gaW5kZXg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRyaW1tZWRFbmRJbmRleDtcbiIsImltcG9ydCB0cmltbWVkRW5kSW5kZXggZnJvbSAnLi9fdHJpbW1lZEVuZEluZGV4LmpzJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xudmFyIHJlVHJpbVN0YXJ0ID0gL15cXHMrLztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50cmltYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gYmFzZVRyaW0oc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdcbiAgICA/IHN0cmluZy5zbGljZSgwLCB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSArIDEpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKVxuICAgIDogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBiYXNlVHJpbTtcbiIsImltcG9ydCBiYXNlR2V0VGFnIGZyb20gJy4vX2Jhc2VHZXRUYWcuanMnO1xuaW1wb3J0IGlzT2JqZWN0TGlrZSBmcm9tICcuL2lzT2JqZWN0TGlrZS5qcyc7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBzeW1ib2xUYWcgPSAnW29iamVjdCBTeW1ib2xdJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN5bWJvbGAgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzeW1ib2wnIHx8XG4gICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gc3ltYm9sVGFnKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaXNTeW1ib2w7XG4iLCJpbXBvcnQgYmFzZVRyaW0gZnJvbSAnLi9fYmFzZVRyaW0uanMnO1xuaW1wb3J0IGlzT2JqZWN0IGZyb20gJy4vaXNPYmplY3QuanMnO1xuaW1wb3J0IGlzU3ltYm9sIGZyb20gJy4vaXNTeW1ib2wuanMnO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICB2YXIgaXNCaW5hcnkgPSByZUlzQmluYXJ5LnRlc3QodmFsdWUpO1xuICByZXR1cm4gKGlzQmluYXJ5IHx8IHJlSXNPY3RhbC50ZXN0KHZhbHVlKSlcbiAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICA6IChyZUlzQmFkSGV4LnRlc3QodmFsdWUpID8gTkFOIDogK3ZhbHVlKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9OdW1iZXI7XG4iLCJpbXBvcnQgaXNPYmplY3QgZnJvbSAnLi9pc09iamVjdC5qcyc7XG5pbXBvcnQgbm93IGZyb20gJy4vbm93LmpzJztcbmltcG9ydCB0b051bWJlciBmcm9tICcuL3RvTnVtYmVyLmpzJztcblxuLyoqIEVycm9yIG1lc3NhZ2UgY29uc3RhbnRzLiAqL1xudmFyIEZVTkNfRVJST1JfVEVYVCA9ICdFeHBlY3RlZCBhIGZ1bmN0aW9uJztcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgZm9yIHRob3NlIHdpdGggdGhlIHNhbWUgbmFtZSBhcyBvdGhlciBgbG9kYXNoYCBtZXRob2RzLiAqL1xudmFyIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICogbWlsbGlzZWNvbmRzIGhhdmUgZWxhcHNlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gd2FzXG4gKiBpbnZva2VkLiBUaGUgZGVib3VuY2VkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYCBtZXRob2QgdG8gY2FuY2VsXG4gKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAqIFByb3ZpZGUgYG9wdGlvbnNgIHRvIGluZGljYXRlIHdoZXRoZXIgYGZ1bmNgIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZVxuICogbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZFxuICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICogY2FsbHMgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbiByZXR1cm4gdGhlIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2BcbiAqIGludm9jYXRpb24uXG4gKlxuICogKipOb3RlOioqIElmIGBsZWFkaW5nYCBhbmQgYHRyYWlsaW5nYCBvcHRpb25zIGFyZSBgdHJ1ZWAsIGBmdW5jYCBpc1xuICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb25cbiAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAqXG4gKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAqXG4gKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbd2FpdD0wXSBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIGxlYWRpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5tYXhXYWl0XVxuICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICogIFNwZWNpZnkgaW52b2tpbmcgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gKiBAZXhhbXBsZVxuICpcbiAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gKiBqUXVlcnkod2luZG93KS5vbigncmVzaXplJywgXy5kZWJvdW5jZShjYWxjdWxhdGVMYXlvdXQsIDE1MCkpO1xuICpcbiAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIF8uZGVib3VuY2Uoc2VuZE1haWwsIDMwMCwge1xuICogICAnbGVhZGluZyc6IHRydWUsXG4gKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gKiB9KSk7XG4gKlxuICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAqIHZhciBkZWJvdW5jZWQgPSBfLmRlYm91bmNlKGJhdGNoTG9nLCAyNTAsIHsgJ21heFdhaXQnOiAxMDAwIH0pO1xuICogdmFyIHNvdXJjZSA9IG5ldyBFdmVudFNvdXJjZSgnL3N0cmVhbScpO1xuICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgZGVib3VuY2VkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGFzdEFyZ3MsXG4gICAgICBsYXN0VGhpcyxcbiAgICAgIG1heFdhaXQsXG4gICAgICByZXN1bHQsXG4gICAgICB0aW1lcklkLFxuICAgICAgbGFzdENhbGxUaW1lLFxuICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgbGVhZGluZyA9IGZhbHNlLFxuICAgICAgbWF4aW5nID0gZmFsc2UsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgd2FpdCA9IHRvTnVtYmVyKHdhaXQpIHx8IDA7XG4gIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICBtYXhpbmcgPSAnbWF4V2FpdCcgaW4gb3B0aW9ucztcbiAgICBtYXhXYWl0ID0gbWF4aW5nID8gbmF0aXZlTWF4KHRvTnVtYmVyKG9wdGlvbnMubWF4V2FpdCkgfHwgMCwgd2FpdCkgOiBtYXhXYWl0O1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VGdW5jKHRpbWUpIHtcbiAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICB0aGlzQXJnID0gbGFzdFRoaXM7XG5cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBsZWFkaW5nRWRnZSh0aW1lKSB7XG4gICAgLy8gUmVzZXQgYW55IGBtYXhXYWl0YCB0aW1lci5cbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgLy8gU3RhcnQgdGhlIHRpbWVyIGZvciB0aGUgdHJhaWxpbmcgZWRnZS5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWUsXG4gICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgcmV0dXJuIG1heGluZ1xuICAgICAgPyBuYXRpdmVNaW4odGltZVdhaXRpbmcsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKVxuICAgICAgOiB0aW1lV2FpdGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEludm9rZSh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZTtcblxuICAgIC8vIEVpdGhlciB0aGlzIGlzIHRoZSBmaXJzdCBjYWxsLCBhY3Rpdml0eSBoYXMgc3RvcHBlZCBhbmQgd2UncmUgYXQgdGhlXG4gICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAvLyBpdCBhcyB0aGUgdHJhaWxpbmcgZWRnZSwgb3Igd2UndmUgaGl0IHRoZSBgbWF4V2FpdGAgbGltaXQuXG4gICAgcmV0dXJuIChsYXN0Q2FsbFRpbWUgPT09IHVuZGVmaW5lZCB8fCAodGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCkgfHxcbiAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gIH1cblxuICBmdW5jdGlvbiB0aW1lckV4cGlyZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICBpZiAoc2hvdWxkSW52b2tlKHRpbWUpKSB7XG4gICAgICByZXR1cm4gdHJhaWxpbmdFZGdlKHRpbWUpO1xuICAgIH1cbiAgICAvLyBSZXN0YXJ0IHRoZSB0aW1lci5cbiAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHJlbWFpbmluZ1dhaXQodGltZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhaWxpbmdFZGdlKHRpbWUpIHtcbiAgICB0aW1lcklkID0gdW5kZWZpbmVkO1xuXG4gICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgIC8vIGRlYm91bmNlZCBhdCBsZWFzdCBvbmNlLlxuICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgfVxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgfVxuICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIHJldHVybiB0aW1lcklkID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiB0cmFpbGluZ0VkZ2Uobm93KCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCksXG4gICAgICAgIGlzSW52b2tpbmcgPSBzaG91bGRJbnZva2UodGltZSk7XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICBsYXN0VGhpcyA9IHRoaXM7XG4gICAgbGFzdENhbGxUaW1lID0gdGltZTtcblxuICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICBpZiAodGltZXJJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsZWFkaW5nRWRnZShsYXN0Q2FsbFRpbWUpO1xuICAgICAgfVxuICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAvLyBIYW5kbGUgaW52b2NhdGlvbnMgaW4gYSB0aWdodCBsb29wLlxuICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgZGVib3VuY2VkLmNhbmNlbCA9IGNhbmNlbDtcbiAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gIHJldHVybiBkZWJvdW5jZWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRlYm91bmNlO1xuIiwiXG5pbXBvcnQgTG9kYXNoRGVib3VuY2UsIHsgRGVib3VuY2VTZXR0aW5ncyB9IGZyb20gXCJsb2Rhc2gtZXMvZGVib3VuY2VcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZU1lbW8gfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuL3VzZS1zdGFibGUtY2FsbGJhY2tcIjtcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcIi4vdXNlLXN0YXRlXCI7XG5cbi8vdHlwZSBGdW5jID0gKC4uLmFyZ3M6IGFueSkgPT4gUHJvbWlzZTx1bmtub3duPiB8IHVua25vd247XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQXN5bmNQYXJhbWV0ZXJzPEFQIGV4dGVuZHMgdW5rbm93bltdLCBTUCBleHRlbmRzIHVua25vd25bXSA9IEFQPiB7XG4gICAgLyoqXG4gICAgICogSWYgcHJvdmlkZWQsIGFkZHMgYSBkZWJvdW5jZSBiZWhhdmlvciAqaW4gYWRkaXRpb24qIHRvXG4gICAgICogdGhlIGRlZmF1bHQgXCJ3YWl0IHVudGlsIHJlc29sdmVkXCIgdGhyb3R0bGluZyBiZWhhdmlvci5cbiAgICAgKi9cbiAgICBkZWJvdW5jZT86IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQsIGB1c2VBc3luY2Agd2l0aCBhdXRvLXRocm90dGxlIGJhc2VkIG9uIGhvdyBsb25nIGl0IHRha2VzXG4gICAgICogZm9yIHRoZSBvcGVyYXRpb24gdG8gY29tcGxldGUuICBJZiB5b3Ugd291bGQgbGlrZSB0aGVyZSB0byBiZSBhXG4gICAgICogbWluaW11bSBhbW91bnQgb2YgdGltZSB0byB3YWl0IGJlZm9yZSBhbGxvd2luZyBhIHNlY29uZCBvcGVyYXRpb24sXG4gICAgICogdGhlIGB0aHJvdHRsZWAgcGFyYW1ldGVyIGNhbiBiZSB1c2VkIGluIGFkZGl0aW9uIHRvIHRoYXQgYmVoYXZpb3IuXG4gICAgICogXG4gICAgICogYHRocm90dGxlYCAqaW5jbHVkZXMqIHRoZSB0aW1lIGl0IHRha2VzIGZvciB0aGUgYXN5bmMgb3BlcmF0aW9uIHRvIGZpbmlzaC5cbiAgICAgKiBJZiBgdGhyb3R0bGVgIGlzIDUwMG1zLCBhbmQgdGhlIGFzeW5jIGZ1bmN0aW9uIGZpbmlzaGVzIGluIDcwMG1zLCB0aGVuXG4gICAgICogYW5vdGhlciBvbmUgd2lsbCBiZSBydW4gaW1tZWRpYXRlbHkuIElmIGl0IHRvb2sgMTAwbXMsIHRoZW4gd2UnZCB3YWl0XG4gICAgICogZm9yIHRoZSByZW1haW5pbmcgNDAwbXMgdW50aWwgYWxsb3dpbmcgYSBzZWNvbmQgcnVuLlxuICAgICAqL1xuICAgIHRocm90dGxlPzogbnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBhbiBhc3luYyBmdW5jdGlvbiBpcyBkZWJvdW5jZWQgZHVlIHRvIG9uZSBhbHJlYWR5IHJ1bm5pbmcsXG4gICAgICogaXQgd2lsbCBydW4gb24gYSBkZWxheSBhbmQsIGFzIGEgcmVzdWx0LCB0aGUgb3JpZ2luYWwgYXJndW1lbnRzXG4gICAgICogdGhhdCB3ZXJlIHBhc3NlZCB0byBpdCBtYXkgbmVlZCB0byBiZSBhZGp1c3RlZCB0byBhY2NvdW50IGZvciB0aGF0LlxuICAgICAqIFxuICAgICAqIEZvciBleGFtcGxlLCBkdXJpbmcgYG9uSW5wdXRgLCB0aGUgYHZhbHVlYCBvZiB0aGF0IGV2ZW50IGlzbid0IHN0b3JlZFxuICAgICAqIGluIHRoZSBldmVudCBpdHNlbGYsIGl0J3Mgc3RvcmVkIGluIHRoZSBgSFRNTElucHV0RWxlbWVudGAgdGhhdCByYWlzZWQgaXQuXG4gICAgICogU28gd2hlbiBvdXIgaGFuZGxlciBhY3R1YWxseSBydW5zIGEgZmV3IHNlY29uZHMgbGF0ZXIsIGl0J2xsIHJlYWQgdGhlICoqbmV4dCoqXG4gICAgICogYGV2ZW50LmN1cnJlbnRUYXJnZXQudmFsdWVgLCBpbnN0ZWFkIG9mIHRoZSBvbmUgZnJvbSBhIGZldyBzZWNvbmRzIGFnbyBcbiAgICAgKiB0aGF0IGFjdHVhbGx5IHJhaXNlZCB0aGUgZXZlbnQhXG4gICAgICogXG4gICAgICogSWYgdGhlIGFyZ3VtZW50cyB0byB5b3VyIGhhbmRsZXIgcmVxdWlyZSByZWZlcmVuY2luZyBkYXRhIGluIHRoZSBhcmd1bWVudHNcbiAgICAgKiB0aGF0IG1heSBiZWNvbWUgXCJzdGFsZVwiIGJ5IHRoZSB0aW1lIHRoZSBmdW5jdGlvbiBhY3R1YWxseSBydW5zIChnZW5lcmFsbHkgZXZlbnRcbiAgICAgKiBoYW5kbGVycyBhbmQgb3RoZXIgdGhpbmdzIHRoYXQgcmVmZXJlbmNlIHRoZSBwcm9wZXJ0aWVzIG9mIGV4aXN0aW5nIG9iamVjdHMpLFxuICAgICAqIHRoZSBgY2FwdHVyZWAgcGFyYW1ldGVyIGFsbG93cyB5b3UgdG8gdHJhbnNmb3JtIHRoZSBwYXJhbWV0ZXJzIHlvdSB3ZXJlIGdpdmVuXG4gICAgICogd2hlbiB0aGUgcmVxdWVzdCB0byBydW4gd2FzIGluaXRpYWxseSBtYWRlIGludG8gcGFyYW1ldGVycyB0aGF0IHlvdSBoYXZlXG4gICAgICogZ3VhcmFudGVlZCB3aWxsIHN0aWxsIGJlIGdvb2QgYnkgdGhlIHRpbWUgdGhlIGhhbmRsZXIgYWN0dWFsbHkgcnVucy5cbiAgICAgKi9cbiAgICBjYXB0dXJlPzogQ2FwdHVyZUZ1bmN0aW9uVHlwZTxBUCwgU1A+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUFzeW5jUmV0dXJuVHlwZTxTUCBleHRlbmRzIHVua25vd25bXSwgUj4ge1xuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgYXN5bmMgaGFuZGxlciBpcyBjdXJyZW50bHkgZXhlY3V0aW5nLCB0aGlzIGlzIHRydWUuXG4gICAgICogV2hlbiBpdCBmaW5pc2hlcywgdGhpcyBiZWNvbWVzIGZhbHNlLlxuICAgICAqL1xuICAgIHBlbmRpbmc6IGJvb2xlYW47XG5cbiAgICAvKiogXG4gICAgICogVHJ1ZSB3aGVuIHdlJ3JlIHdhaXRpbmcgZm9yIGEgZGVib3VuY2Ugb3IgdGhyb3R0bGUgdG8gZW5kICh0aGF0J3Mgbm90IGR1ZSB3YWl0aW5nIGZvciB0aGUgYXN5bmMgZnVuY3Rpb24gdG8gY29tcGxldGUpXG4gICAgICovXG4gICAgZGVib3VuY2luZ1N5bmM6IGJvb2xlYW47XG5cbiAgICAvKipcbiAgICAgKiBUcnVlIHdoZW4gYSBzZWNvbmQgaW52b2NhdGlvbiBvZiB0aGUgaGFuZGxlciBoYXMgYmVlbiBjYWxsZWQsIGFuZCBpdCdzIHdhaXRpbmcgdW50aWwgdGhlIGZpcnN0IGJlZm9yZSBpdCBydW5zLlxuICAgICAqL1xuICAgIGRlYm91bmNpbmdBc3luYzogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGhhbmRsZXIgaGFzIHJ1bi5cbiAgICAgKiBEb2VzIG5vdCBpbmNsdWRlIHRpbWVzIHdoZXJlIGl0IHdhcyB0aHJvdHRsZWQgb3IgZGVib3VuY2VkIGF3YXkuXG4gICAgICogXG4gICAgICogVXNlZnVsIGZvciBrbm93aW5nIGlmIHRoZSBoYW5kbGVyIGhhcyBiZWVuIGNhbGxlZCB5ZXQsIG9yIGZvclxuICAgICAqIHNldHRpbmcgYSBuZXcgdGltZW91dCB0byBzaG93IGEgc3Bpbm5lci5cbiAgICAgKi9cbiAgICBjYWxsQ291bnQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgdGltZXMgdGhlIGhhbmRsZXIgaGFzIHNldHRsZWRcbiAgICAgKiAocmVzb2x2ZWQgb3IgcmVqZWN0ZWQpLCBzaW1pbGFybHkgdG8gYGNhbGxDb3VudGAuXG4gICAgICogXG4gICAgICogVXNlZnVsIGZvciBrbm93aW5nIGlmIHRoZSBoYW5kbGVyIGhhcyBjb21wbGV0ZWQgZXZlbiBvbmNlIHlldCxcbiAgICAgKiBvciBqdXN0IGZvciB3aGVuIHRoZSBoYW5kbGVyIGhhcyBmaW5pc2hlZFxuICAgICAqL1xuICAgIHNldHRsZUNvdW50OiBudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBoYW5kbGVyIGhhcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LCBcbiAgICAgKiBzaW1pbGFybHkgdG8gYHNldHRsZUNvdW50YC5cbiAgICAgKi9cbiAgICByZXNvbHZlQ291bnQ6IG51bWJlcjtcblxuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiB0aW1lcyB0aGUgaGFuZGxlciBoYXMgZmFpbGVkIHRvIGNvbXBsZXRlLCBcbiAgICAgKiBzaW1pbGFybHkgdG8gYHJlc29sdmVDb3VudGAuXG4gICAgICovXG4gICAgcmVqZWN0Q291bnQ6IG51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgdGhlIHZhbHVlIG1vc3QgcmVjZW50bHkgcmV0dXJuZWQgZnJvbSBhIHN1Y2Nlc3NmdWwgaGFuZGxlciBpbnZvY2F0aW9uLFxuICAgICAqIG9yIHVuZGVmaW5lZCBpZiBubyBoYW5kbGVyIGhhcyBzdWNjZXNzZnVsbHkgcmV0dXJuZWQgeWV0LlxuICAgICAqIFxuICAgICAqIElmIHRoZSBoYW5kbGVyIHJlamVjdHMgYWZ0ZXIgaGF2aW5nIHN1Y2NlZWRlZCBwcmV2aW91c2x5LCB0aGVuXG4gICAgICogYHJlc3VsdGAgd2lsbCBzdGlsbCBrZWVwIGl0cyB2YWx1ZTsgaXQgd29uJ3QgYmUgXCJlcmFzZWRcIiBkdWUgdG8gdGhlIGVycm9yLlxuICAgICAqIFRoaXMgbWVhbnMgdGhhdCBgcmVzdWx0YCBhbmQgYGVycm9yYCBjYW4gYm90aCBiZSBwb3B1bGF0ZWQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgKiBcbiAgICAgKiBAc2VlIGhhc1Jlc3VsdCBmb3IgaWYgYHJlc3VsdGAgYmVpbmcgYHVuZGVmaW5lZGAgbWVhbnMgaXQncyB1bmZpbmlzaGVkIG9yIHRoZSBmdW5jdGlvbiBpdHNlbGYgcmV0dXJuZWQgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgcmVzdWx0OiBSIHwgdW5kZWZpbmVkO1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSB3aGVuIHRoZSBtb3N0IHJlY2VudGx5LXJ1biBoYW5kbGVyIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHksXG4gICAgICogYWxzbyBtZWFuaW5nIHRoYXQgdGhhdCBpdCdzIHJldHVybmVkIGEgdmFsdWUgdGhhdCB3ZSBjdXJyZW50bHkgaGF2ZS5cbiAgICAgKiBcbiAgICAgKiBXaGlsZSBgcGVuZGluZ2AgaXMgdHJ1ZSwgKipgaGFzUmVzdWx0YCBhbmQgYGhhc0Vycm9yYCBtYXkgYmUgc2ltdWx0YW5lb3VzbHkgdHJ1ZSoqLFxuICAgICAqIGJ1dCBpbiBhbGwgb3RoZXIgY2FzZXMgdGhleSdyZSBtdXR1YWxseSBleGNsdXNpdmUuXG4gICAgICovXG4gICAgaGFzUmVzdWx0OiBib29sZWFuO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGVycm9yIHRoZSBoYW5kbGVyIHRocmV3LiBgdW5kZWZpbmVkYCBvdGhlcndpc2UsIHRob3VnaCBub3RlXG4gICAgICogdGhhdCBgdW5kZWZpbmVkYCBpcyBhIHZhbGlkIHRoaW5nIHRvIHRocm93LCBzbyBjaGVjayBgaGFzRXJyb3JgIHRvby5cbiAgICAgKiBcbiAgICAgKiBAc2VlIGhhc0Vycm9yXG4gICAgICovXG4gICAgZXJyb3I6IHVua25vd247XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGUgbW9zdCByZWNlbnQgaGFuZGxlciBmaW5pc2hlZCB3aXRoIGFuIGVycm9yLlxuICAgICAqIFxuICAgICAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UsIHRlY2huaWNhbGx5LCBgZXJyb3JgIGNhbiBiZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBoYXNFcnJvcjogYm9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIElmIHlvdSB3b3VsZCBsaWtlIGFueSBjdXJyZW50bHkgZGVib3VuY2VkLWJ1dC1ldmVudHVhbGx5LXBlbmRpbmcgcHJvbWlzZXMgdG8gaW1tZWRpYXRlbHkgYmUgY29uc2lkZXJlZCBieSBjYW5jZWxsaW5nIHRoZWlyIGRlYm91bmNlIHRpbWVvdXQsXG4gICAgICogeW91IGNhbiBjYWxsIHRoaXMgZnVuY3Rpb24uICBOb3JtYWwgcHJvY2VkdXJlIGFwcGxpZXMgYXMgaWYgdGhlIGRlYm91bmNlZCBlbmRlZCBub3JtYWxseSAtLSBpZiB0aGVyZSdzIG5vIHByb21pc2Ugd2FpdGluZyBpbiB0aGUgcXVldWUsXG4gICAgICogdGhlIGRlYm91bmNlZCBwcm9taXNlIHJ1bnMgbm9ybWFsbHksIG90aGVyd2lzZSwgaXQgd2FpdHMgaXRzIHR1cm4gdW50aWwgdGhlIGN1cnJlbnQgb25lIGVuZHMsIHBvdGVudGlhbGx5IGJlaW5nIG92ZXJ3cml0dGVuIGxhdGVyIG9uXG4gICAgICogaWYgYSBuZXcgcHJvbWlzZSBydW5zIG91dCAqaXRzKiBkZWJvdW5jZSB0aW1lciBiZWZvcmUgdGhpcyBvbmUgZ290IGEgY2hhbmNlIHRvIHJ1bi5cbiAgICAgKiBcbiAgICAgKiAqKlF1YXNpLXN0YWJsZSoqIChkb24ndCB1c2UgZHVyaW5nIHJlbmRlcilcbiAgICAgKi9cbiAgICBmbHVzaERlYm91bmNlZFByb21pc2U6ICgpID0+IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBCYXNlZCBvbiB0aGUgdHlwZSBvZiBoYW5kbGVyIHBhc3NlZCBpbiwgdGhpcyByZXR1cm5lZCB2YWx1ZSB3aWxsXG4gICAgICogcmVwcmVzZW50IHdoYXQgdHlwZSBvZiBoYW5kbGVyIGl0IHdhcywganVzdCBpbiBjYXNlIHlvdVxuICAgICAqIHlvdXJzZWxmIG5lZWQgdG8ga25vdyB0aGF0IGFuZCBkb24ndCBoYXZlIGFjY2VzcyB0byB0aGUgb3JpZ2luYWxcbiAgICAgKiB0byBmaW5kIG91dCB3aXRob3V0IGl0IGFjdHVhbGx5IGJlaW5nIHJ1bi5cbiAgICAgKiBcbiAgICAgKiBVbnRpbCBhIGhhbmRsZXIgaXMgY2FsbGVkLCB0aGlzIHdpbGwgYmUgbnVsbC4gIE5hdHVyYWxseSwgaWYgXG4gICAgICogZGlmZmVyZW50IGhhbmRsZXJzIGFyZSBwYXNzZWQgaW4sIGl0IGNhbiBmbGlwIGJhY2sgYW5kXG4gICAgICogZm9ydGggYmV0d2VlbiBcImFzeW5jXCIgYW5kIFwic3luY1wiIGFzIHdlbGwuXG4gICAgICovXG4gICAgLy9jdXJyZW50VHlwZTogbnVsbCB8IFwic3luY1wiIHwgXCJhc3luY1wiO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRyYW5zZm9ybWVkIHZlcnNpb24gb2YgdGhlIGFzeW5jIGhhbmRsZXIgcHJvdmlkZWQsXG4gICAgICogbm93IHN5bmNocm9ub3VzIGFuZC9vciB0aHJvdHRsZWQgYW5kL29yIGRlYm91bmNlZFxuICAgICAqIFxuICAgICAqICoqUXVhc2ktc3RhYmxlKiogKGRvbid0IHVzZSBkdXJpbmcgcmVuZGVyKVxuICAgICAqL1xuICAgIHN5bmNIYW5kbGVyOiBTeW5jRnVuY3Rpb25UeXBlPFNQLCB2b2lkPjtcbn1cblxuZnVuY3Rpb24gaWRlbnRpdHk8QVAgZXh0ZW5kcyB1bmtub3duW10sIFNQIGV4dGVuZHMgdW5rbm93bltdPiguLi50OiBTUCkgeyByZXR1cm4gdCBhcyB1bmtub3duW10gYXMgQVA7IH1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdGhyb3R0bGVkIHZlcnNpb24gb2YgdGhlIGdpdmVuIChzdGFibGUpIGNhbGxiYWNrIHVzaW5nIExvZGFzaCdzIGB0aHJvdHRsZWAgZnVuY3Rpb24uXG4gKiBcbiAqIElmIHRoZSBjYWxsYmFjayBpcyBgbnVsbGAsIHRoZW4gYG51bGxgIHdpbGwgYmUgcmV0dXJuZWQsIG90aGVyd2lzZSBgY2FsbGJhY2tgIG11c3QgYmUgc3RhYmxlIGZvciB0aGlzIHRvIHdvcmsgYXMgaW50ZW50ZWQuXG4gKi9cbi8qZXhwb3J0IGZ1bmN0aW9uIHVzZVRocm90dGxlZDxGIGV4dGVuZHMgRnVuYz4oY2FsbGJhY2s6IEYgfCBudWxsLCB3YWl0OiBudW1iZXIsIG9wdGlvbnM/OiBUaHJvdHRsZVNldHRpbmdzKTogRGVib3VuY2VkRnVuYzxGPjtcbmV4cG9ydCBmdW5jdGlvbiB1c2VUaHJvdHRsZWQ8RiBleHRlbmRzIEZ1bmM+KGNhbGxiYWNrOiBGIHwgbnVsbCwgd2FpdDogbnVtYmVyLCBvcHRpb25zPzogVGhyb3R0bGVTZXR0aW5ncyk6IERlYm91bmNlZEZ1bmM8Rj4gfCBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVRocm90dGxlZDxGIGV4dGVuZHMgRnVuYz4oY2FsbGJhY2tVbnN0YWJsZTogRiB8IG51bGwsIHdhaXQ6IG51bWJlciwgb3B0aW9ucz86IFRocm90dGxlU2V0dGluZ3MpOiBEZWJvdW5jZWRGdW5jPEY+IHwgbnVsbCB7XG4gICAgbGV0IHsgbGVhZGluZywgdHJhaWxpbmcgfSA9IChvcHRpb25zIHx8IHt9KTtcbiAgICAvLyBUaGVzZSBhcmUgdGhlIGxvZGFzaCBkZWZhdWx0cywgYnV0IGxvZGFzaCB0cmVhdHMgbm9uZXhpc3RlbmNlIGFuZCBiZWluZyB1bmRlZmluZWQgYXMgc2VwYXJhdGUgdGhpbmdzLi4uXG4gICAgbGVhZGluZyA/Pz0gdHJ1ZTtcbiAgICB0cmFpbGluZyA/Pz0gdHJ1ZTtcbiAgICBjb25zdCBlbmFibGVkID0gKGNhbGxiYWNrVW5zdGFibGUgIT0gbnVsbCk7XG4gICAgY29uc3QgY2FsbGJhY2tTdGFibGUgPSB1c2VTdGFibGVDYWxsYmFjayhjYWxsYmFja1Vuc3RhYmxlID8/IG5vb3ApO1xuICAgIGNvbnN0IHRocm90dGxlZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICByZXR1cm4gZW5hYmxlZCA/IHRocm90dGxlKGNhbGxiYWNrU3RhYmxlLCB3YWl0LCB7IGxlYWRpbmcsIHRyYWlsaW5nIH0pIDogbnVsbDtcbiAgICB9LCBbZW5hYmxlZCwgd2FpdCwgb3B0aW9ucz8ubGVhZGluZywgb3B0aW9ucz8udHJhaWxpbmddKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGNvbnNvbGUubG9nKFwiY2FuY2VsIHRocm90dGxlXCIpOyB0aHJvdHRsZWQ/LmNhbmNlbCgpOyB9XG4gICAgfSwgW3Rocm90dGxlZF0pXG5cbiAgICByZXR1cm4gdGhyb3R0bGVkO1xufSovXG5cbi8qKlxuICogUmV0dXJucyBhIGRlYm91bmNlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiAoc3RhYmxlKSBjYWxsYmFjayB1c2luZyBMb2Rhc2gncyBgZGVib3VuY2VkYCBmdW5jdGlvbi5cbiAqIFxuICogSWYgdGhlIGNhbGxiYWNrIGlzIGBudWxsYCwgdGhlbiBgbnVsbGAgd2lsbCBiZSByZXR1cm5lZCwgb3RoZXJ3aXNlIGBjYWxsYmFja2AgbXVzdCBiZSBzdGFibGUgZm9yIHRoaXMgdG8gd29yayBhcyBpbnRlbnRlZC5cbiAqL1xuLypleHBvcnQgZnVuY3Rpb24gdXNlRGVib3VuY2VkPEYgZXh0ZW5kcyBGdW5jPihjYWxsYmFjazogRiwgd2FpdDogbnVtYmVyLCBvcHRpb25zPzogRGVib3VuY2VTZXR0aW5ncyk6IERlYm91bmNlZEZ1bmM8Rj47XG5leHBvcnQgZnVuY3Rpb24gdXNlRGVib3VuY2VkPEYgZXh0ZW5kcyBGdW5jPihjYWxsYmFjazogRiB8IG51bGwsIHdhaXQ6IG51bWJlciwgb3B0aW9ucz86IERlYm91bmNlU2V0dGluZ3MpOiBEZWJvdW5jZWRGdW5jPEY+IHwgbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiB1c2VEZWJvdW5jZWQ8RiBleHRlbmRzIEZ1bmM+KGNhbGxiYWNrVW5zdGFibGU6IEYgfCBudWxsLCB3YWl0OiBudW1iZXIsIG9wdGlvbnM/OiBEZWJvdW5jZVNldHRpbmdzKTogRGVib3VuY2VkRnVuYzxGPiB8IG51bGwge1xuICAgIGxldCB7IGxlYWRpbmcsIG1heFdhaXQsIHRyYWlsaW5nIH0gPSAob3B0aW9ucyB8fCB7fSk7XG4gICAgLy8gVGhlc2UgYXJlIHRoZSBsb2Rhc2ggZGVmYXVsdHMsIGJ1dCBsb2Rhc2ggdHJlYXRzIG5vbmV4aXN0ZW5jZSBhbmQgYmVpbmcgdW5kZWZpbmVkIGFzIHNlcGFyYXRlIHRoaW5ncy4uLlxuICAgIGxlYWRpbmcgPz89IGZhbHNlO1xuICAgIHRyYWlsaW5nID8/PSB0cnVlO1xuICAgIG1heFdhaXQgPz89IDFlOTk7XG4gICAgY29uc3QgZW5hYmxlZCA9IChjYWxsYmFja1Vuc3RhYmxlICE9IG51bGwpO1xuICAgIGNvbnN0IGNhbGxiYWNrU3RhYmxlID0gdXNlU3RhYmxlQ2FsbGJhY2soY2FsbGJhY2tVbnN0YWJsZSA/PyBub29wKTtcbiAgICBjb25zdCBkZWJvdW5jZWQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIGVuYWJsZWQgPyBkZWJvdW5jZShjYWxsYmFja1N0YWJsZSwgd2FpdCwgeyBsZWFkaW5nLCB0cmFpbGluZywgbWF4V2FpdCB9KSA6IG51bGw7XG4gICAgfSwgW2VuYWJsZWQsIHdhaXQsIGxlYWRpbmcsIG1heFdhaXQsIHRyYWlsaW5nXSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICByZXR1cm4gKCkgPT4geyBjb25zb2xlLmxvZyhcImNhbmNlbCBkZWJvdW5jZVwiKTsgZGVib3VuY2VkPy5jYW5jZWwoKTsgfVxuICAgIH0sIFtkZWJvdW5jZWRdKVxuXG4gICAgcmV0dXJuIGRlYm91bmNlZDtcbn0qL1xuXG50eXBlIFN5bmNGdW5jdGlvblR5cGU8U1AgZXh0ZW5kcyB1bmtub3duW10sIFI+ID0gKC4uLmFyZ3M6IFNQKSA9PiAoUiB8IHVuZGVmaW5lZCk7XG50eXBlIEFzeW5jRnVuY3Rpb25UeXBlPEFQIGV4dGVuZHMgdW5rbm93bltdLCBSPiA9ICgoLi4uYXJnczogQVApID0+IChSIHwgUHJvbWlzZTxSPikpO1xuLy90eXBlIEdsdWVGdW5jdGlvblR5cGU8QVAgZXh0ZW5kcyB1bmtub3duW10sIFI+ID0gKGVucXVldWU6IGJvb2xlYW4sIC4uLmFyZ3M6IEFQKSA9PiBSIHwgdW5kZWZpbmVkO1xudHlwZSBDYXB0dXJlRnVuY3Rpb25UeXBlPEFQIGV4dGVuZHMgdW5rbm93bltdLCBTUCBleHRlbmRzIHVua25vd25bXSA9IEFQPiA9ICguLi5hcmdzOiBTUCkgPT4gQVA7XG5cbi8qKlxuICogR2l2ZW4gYW4gYXN5bmMgZnVuY3Rpb24sIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0J3Mgc3VpdGFibGUgZm9yIG5vbi1hc3luYyBBUElzLCBcbiAqIGFsb25nIHdpdGggb3RoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgcnVuJ3Mgc3RhdHVzLlxuICogXG4gKiBTZWUgYWxzbyBgdXNlQXN5bmNIYW5kbGVyYCBmb3IgYSB2ZXJzaW9uIHRoYXQncyBzcGVjaWFsaXplZCBmb3IgRE9NIGV2ZW50IGhhbmRsZXJzLlxuICogXG4gKiBXaGVuIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBpbiBxdWljayBzdWNjZXNzaW9uLCAoaS5lLiBiZWZvcmUgdGhlIGhhbmRsZXIgaGFzIGZpbmlzaGVkKSwgXG4gKiB0aGlzIHdvcmtzIGxpa2UgTG9kYXNoJ3MgYHRocm90dGxlYCBmdW5jdGlvbiB3aXRoIHRoZSBgd2FpdGAgb3B0aW9uIGFsd2F5c1xuICogc2V0IHRvIGhvd2V2ZXIgbG9uZyB0aGUgaGFuZGxlciB0YWtlcyB0byBjb21wbGV0ZS4gQSBzZWNvbmQgY2FsbCB0byB0aGUgc3luYyBmdW5jdGlvbiB3aWxsIGJlIFxuICogdGhyb3R0bGVkIHVudGlsIHRoZSBmaXJzdCBjYWxsIGhhcyBmaW5pc2hlZC4gVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gaXMgdGhlIHJlc3VsdCBcbiAqIG9mIHRoZSBwcmV2aW91cyBpbnZvY2F0aW9uLCBvciBgdW5kZWZpbmVkYCBvbiB0aGUgZmlyc3QgY2FsbC5cbiAqIFxuICogVGhlIGhhbmRsZXIgaXMgb25seSBldmVyIGRlbGF5ZWQgaWYgb25lIGlzIGN1cnJlbnRseSBydW5uaW5nLCBzbywgZS5nLiBmb3IgaU9TIHRvdWNoIGV2ZW50cyB0aGVcbiAqIGZpcnN0IGNhbGwgaGFwcGVucyBpbiB0aGUgc2FtZSBldmVudCBoYW5kbGVyICh3aGljaCBtZWFucyB0aGluZ3MgbGlrZSBjYWxscyB0byBgZWxlbWVudC5mb2N1cygpYFxuICogd2lsbCB3b3JrIGFzIGludGVuZGVkLCBzaW5jZSB0aGF0IGZhaWxzIHdoZW4gdGhlIGV2ZW50IGlzIFwic3BsaXQgdXBcIilcbiAqIFxuICogRmluYWxseSwgYmVjYXVzZSB0aGUgc3luYyBoYW5kbGVyIG1heSBiZSBpbnZva2VkIG9uIGEgZGVsYXksIGFueSBwcm9wZXJ0eSByZWZlcmVuY2VzIG9uIHRoZSBhcmd1bWVudHNcbiAqIHByb3ZpZGVkIG1pZ2h0IGJlIHN0YWxlIGJ5IHRoZSB0aW1lIGl0J3MgYWN0dWFsbHkgaW52b2tlZCAoZS5nLiBhY2Nlc3NpbmcgYGV2ZW50LmN1cnJlbnRUYXJnZXQuY2hlY2tlZGBcbiAqIGlzIG5vdCBzdGFibGUgYWNyb3NzIHRpbWUgYmVjYXVzZSBpdCdzIGEgXCJsaXZlXCIgdmFsdWUgLS0geW91IGFsbW9zdCBhbHdheXMgd2FudCB0aGUgdmFsdWUgdGhhdCBpdFxuICogaGFkIGF0IHRoZSBvcmlnaW5hbCB0aW1lIHRoZSBoYW5kbGVyIHdhcyBjYWxsZWQpLiBUaGUgYGNhcHR1cmVgIG9wdGlvbiBhbGxvd3MgeW91IHRvIHNhdmUgdGhhdCBraW5kIG9mXG4gKiBkeW5hbWljIGRhdGEgYXQgdGhlIHRpbWUgaXQgcnVuczsgdGhlIGBBUGAgYW5kIGBTUGAgdHlwZSBwYXJhbWV0ZXJzIGxpa2V3aXNlIGNvbnRyb2xcbiAqIHRoZSBwYXJhbWV0ZXJzIHRoZSBhc3luYyBoYW5kbGVyIGFuZCBzeW5jIGhhbmRsZXIgZXhwZWN0IHJlc3BlY3RpdmVseS5cbiAqIFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQXN5bmM8QVAgZXh0ZW5kcyB1bmtub3duW10sIFIsIFNQIGV4dGVuZHMgdW5rbm93bltdID0gQVA+KGFzeW5jSGFuZGxlcjI6IEFzeW5jRnVuY3Rpb25UeXBlPEFQLCBSPiB8IG51bGwsIG9wdGlvbnM/OiBVc2VBc3luY1BhcmFtZXRlcnM8QVAsIFNQPik6IFVzZUFzeW5jUmV0dXJuVHlwZTxTUCwgUj4ge1xuXG5cbiAgICAvLyBUaGluZ3MgcmVsYXRlZCB0byBjdXJyZW50IGV4ZWN1dGlvblxuICAgIC8vIEJlY2F1c2Ugd2UgY2FuIGJvdGggcmV0dXJuIGFuZCB0aHJvdyB1bmRlZmluZWQsIFxuICAgIC8vIHdlIG5lZWQgc2VwYXJhdGUgc3RhdGUgdG8gdHJhY2sgdGhlaXIgZXhpc3RhbmNlIHRvby5cbiAgICBjb25zdCBbcGVuZGluZywgc2V0UGVuZGluZywgX2dldFBlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtyZXN1bHQsIHNldFJlc3VsdCwgX2dldFJlc3VsdF0gPSB1c2VTdGF0ZTxSPih1bmRlZmluZWQhKTtcbiAgICBjb25zdCBbZXJyb3IsIHNldEVycm9yLCBfZ2V0RXJyb3JdID0gdXNlU3RhdGU8dW5rbm93bj4odW5kZWZpbmVkISk7XG4gICAgY29uc3QgW2hhc0Vycm9yLCBzZXRIYXNFcnJvciwgX2dldEhhc0Vycm9yXSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihmYWxzZSk7XG4gICAgY29uc3QgW2hhc1Jlc3VsdCwgc2V0SGFzUmVzdWx0LCBfZ2V0SGFzUmVzdWx0XSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihmYWxzZSk7XG4gICAgY29uc3QgW2FzeW5jRGVib3VuY2luZywgc2V0QXN5bmNEZWJvdW5jaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbc3luY0RlYm91bmNpbmcsIHNldFN5bmNEZWJvdW5jaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAvL2NvbnN0IFtjdXJyZW50Q2FwdHVyZSwgc2V0Q3VycmVudENhcHR1cmVdID0gdXNlU3RhdGU8QVAgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gICAgY29uc3QgaW5jcmVtZW50Q2FsbENvdW50ID0gdXNlQ2FsbGJhY2soKCkgPT4geyBzZXRSdW5Db3VudChjID0+IGMgKyAxKSB9LCBbXSk7XG4gICAgY29uc3QgaW5jcmVtZW50UmVzb2x2ZUNvdW50ID0gdXNlQ2FsbGJhY2soKCkgPT4geyBzZXRSZXNvbHZlQ291bnQoYyA9PiBjICsgMSkgfSwgW10pO1xuICAgIGNvbnN0IGluY3JlbWVudFJlamVjdENvdW50ID0gdXNlQ2FsbGJhY2soKCkgPT4geyBzZXRSZWplY3RDb3VudChjID0+IGMgKyAxKSB9LCBbXSk7XG4gICAgY29uc3QgaW5jcmVtZW50RmluYWxseUNvdW50ID0gdXNlQ2FsbGJhY2soKCkgPT4geyBzZXRTZXR0bGVDb3VudChjID0+IGMgKyAxKSB9LCBbXSk7XG5cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItY29uc3QgKi9cbiAgICBsZXQgeyB0aHJvdHRsZSwgZGVib3VuY2UsIGNhcHR1cmU6IGNhcHR1cmVVbnN0YWJsZSB9ID0gKG9wdGlvbnMgPz8ge30pO1xuICAgIGNvbnN0IGNhcHR1cmVTdGFibGUgPSB1c2VTdGFibGVDYWxsYmFjayhjYXB0dXJlVW5zdGFibGUgPz8gaWRlbnRpdHkpO1xuICAgIGNvbnN0IGFzeW5jSGFuZGxlclN0YWJsZSA9IHVzZVN0YWJsZUNhbGxiYWNrPCguLi5hcmdzOiBBUCkgPT4gUiB8IFByb21pc2U8Uj4+KGFzeW5jSGFuZGxlcjIgPz8gKGlkZW50aXR5IGFzIGFueSkpO1xuICAgIGNvbnN0IHsgZmx1c2gsIHN5bmNPdXRwdXQsIGNhbmNlbCB9ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICAgIHJldHVybiBhc3luY1RvU3luYzxBUCwgU1AsIFI+KHtcbiAgICAgICAgICAgIGFzeW5jSW5wdXQ6IGFzeW5jSGFuZGxlclN0YWJsZSxcbiAgICAgICAgICAgIGNhcHR1cmU6IGNhcHR1cmVTdGFibGUsXG4gICAgICAgICAgICBvbkFzeW5jRGVib3VuY2U6IHNldEFzeW5jRGVib3VuY2luZyxcbiAgICAgICAgICAgIG9uRXJyb3I6IHNldEVycm9yLFxuICAgICAgICAgICAgb25QZW5kaW5nOiBzZXRQZW5kaW5nLFxuICAgICAgICAgICAgb25SZXR1cm5WYWx1ZTogc2V0UmVzdWx0LFxuICAgICAgICAgICAgb25TeW5jRGVib3VuY2U6IHNldFN5bmNEZWJvdW5jaW5nLFxuICAgICAgICAgICAgb25IYXNFcnJvcjogc2V0SGFzRXJyb3IsXG4gICAgICAgICAgICBvbkhhc1Jlc3VsdDogc2V0SGFzUmVzdWx0LFxuICAgICAgICAgICAgb25JbnZva2U6IGluY3JlbWVudENhbGxDb3VudCxcbiAgICAgICAgICAgIG9uRmluYWxseTogaW5jcmVtZW50RmluYWxseUNvdW50LFxuICAgICAgICAgICAgb25SZWplY3Q6IGluY3JlbWVudFJlamVjdENvdW50LFxuICAgICAgICAgICAgb25SZXNvbHZlOiBpbmNyZW1lbnRSZXNvbHZlQ291bnQsXG4gICAgICAgICAgICB0aHJvdHRsZTogb3B0aW9ucz8udGhyb3R0bGUsXG4gICAgICAgICAgICB3YWl0OiBvcHRpb25zPy5kZWJvdW5jZVxuICAgICAgICB9KVxuICAgIH0sIFt0aHJvdHRsZSwgZGVib3VuY2VdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiBjYW5jZWwoKTtcbiAgICB9LCBbY2FuY2VsXSlcblxuICAgIC8vIFdlIGtlZXAsIGxpa2UsIGEgbG90IG9mIHJlbmRlci1zdGF0ZSwgYnV0IGl0IG9ubHkgZXZlciB0cmlnZ2VycyBhIHJlLXJlbmRlclxuICAgIC8vIHdoZW4gd2Ugc3RhcnQvc3RvcCBhbiBhc3luYyBhY3Rpb24uXG5cbiAgICAvLyBLZWVwIHRyYWNrIG9mIHRoaXMgZm9yIHRoZSBjYWxsZXIncyBzYWtlIC0tIHdlIGRvbid0IHJlYWxseSBjYXJlLlxuICAgIC8qY29uc3QgW2N1cnJlbnRUeXBlLCBzZXRDdXJyZW50VHlwZV0gPSB1c2VTdGF0ZTxudWxsIHwgXCJzeW5jXCIgfCBcImFzeW5jXCI+KG51bGwpOyovXG4gICAgY29uc3QgW3J1bkNvdW50LCBzZXRSdW5Db3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbc2V0dGxlQ291bnQsIHNldFNldHRsZUNvdW50XSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IFtyZXNvbHZlQ291bnQsIHNldFJlc29sdmVDb3VudF0gPSB1c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbcmVqZWN0Q291bnQsIHNldFJlamVjdENvdW50XSA9IHVzZVN0YXRlKDApO1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzeW5jSGFuZGxlcjogc3luY091dHB1dCxcbiAgICAgICAgLy9jdXJyZW50VHlwZSxcbiAgICAgICAgcGVuZGluZyxcbiAgICAgICAgcmVzdWx0LFxuICAgICAgICBlcnJvcixcbiAgICAgICAgaGFzRXJyb3I6IGhhc0Vycm9yIHx8IGZhbHNlLFxuICAgICAgICBoYXNSZXN1bHQ6IGhhc1Jlc3VsdCB8fCBmYWxzZSxcbiAgICAgICAgcmVzb2x2ZUNvdW50LFxuICAgICAgICByZWplY3RDb3VudCxcbiAgICAgICAgc2V0dGxlQ291bnQsXG4gICAgICAgIGRlYm91bmNpbmdBc3luYzogYXN5bmNEZWJvdW5jaW5nLFxuICAgICAgICBkZWJvdW5jaW5nU3luYzogc3luY0RlYm91bmNpbmcsXG4gICAgICAgIGNhbGxDb3VudDogcnVuQ291bnQsXG4gICAgICAgIGZsdXNoRGVib3VuY2VkUHJvbWlzZTogZmx1c2hcbiAgICB9XG5cblxufVxuXG5cblxuXG5cblxuXG5pbnRlcmZhY2UgQXN5bmNUb1N5bmNQYXJhbWV0ZXJzPEFzeW5jQXJncyBleHRlbmRzIGFueVtdLCBTeW5jQXJncyBleHRlbmRzIGFueVtdLCBSZXR1cm4+IHtcblxuICAgIC8qKlxuICAgICAqIFRoZSBmdW5jdGlvbiB0byBjcmVhdGUgYSBzeW5jIHZlcnNpb24gb2ZcbiAgICAgKi9cbiAgICBhc3luY0lucHV0OiAoLi4uYXJnczogQXN5bmNBcmdzKSA9PiAoUmV0dXJuIHwgUHJvbWlzZTxSZXR1cm4+KTtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGZ1bmN0aW9uIHN0YXJ0cyBydW5uaW5nLCB0aGlzIGlzIHNldCB0byB0cnVlLlxuICAgICAqIFdoZW4gaXQgc3RvcHMgcnVubmluZywgdGhpcyBpcyBzZXQgdG8gZmFsc2UuXG4gICAgICogXG4gICAgICogVGhpcyBpcyB0aGUgc2FtZSBmb3Igc3luYyBhbmQgYXN5bmMgZnVuY3Rpb25zLiBXaGVuXG4gICAgICogYSBzeW5jIGZ1bmN0aW9uIGlzIHVzZWQsIG9uUGVuZGluZyB3aWxsIGJlIGNhbGxlZCB0d2ljZSBvbiB0aGUgc2FtZSBmcmFtZS5cbiAgICAgKi9cbiAgICBvblBlbmRpbmcocGVuZGluZzogYm9vbGVhbik6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSAqc3luYyBoYW5kbGVyIGlzIGludm9rZWQqIChldmVuIGlmIHRoZSBhc3luYyBoYW5kbGVyIGRvZXNuJ3QgcnVuIHlldCksIHRoaXMgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKiBcbiAgICAgKiBXaGVuIHRoZSBkZWJvdW5jZSBwZXJpb2QsIGFzIHNwZWNpZmllZCBieSBlaXRoZXIgYHdhaXRgIG9yIGB0aHJvdHRsZWAsIGFzIGVuZGVkLCB0aGlzIGlzIHNldCB0byBgZmFsc2UuXG4gICAgICogXG4gICAgICogVGhpcyBpcyB0aGUgc2FtZSBldmVuIHdoZW4gbm90IHVzaW5nIGB3YWl0YCBvciBgdGhyb3R0bGVgLiBJbiB0aGlzIGNhc2UsIGBvblN5bmNEZWJvdW5jZWAgd2lsbCBiZSBjYWxsZWQgdHdpY2Ugb24gdGhlIHNhbWUgZnJhbWUuXG4gICAgICogQHBhcmFtIGRlYm91bmNpbmcgXG4gICAgICovXG4gICAgb25TeW5jRGVib3VuY2UoZGVib3VuY2luZzogYm9vbGVhbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgYXN5bmMgaGFuZGxlciBpcyBhYm91dCB0byBzdGFydCBydW5uaW5nIChhZnRlciBkZWJvdW5jaW5nIGFuZCB0aHJvdHRsaW5nIGhhdmUgZmluaXNoZWQpLCBcbiAgICAgKiBidXQgbXVzdCB3YWl0IGZvciBhbm90aGVyIGluLXByb2Nlc3MgaGFuZGxlciB0byBmaW5pc2gsIHRoaXMgaXMgc2V0IHRvIGB0cnVlYC5cbiAgICAgKiBcbiAgICAgKiBXaGVuIHRoZSBoYW5kbGVyIGZpbmlzaGVzIChyZWdhcmRsZXNzIG9mIGlmIGl0IHdhcyBzeW5jIG9yIGFzeW5jKSwgdGhpcyBpcyBzZXQgdG8gYGZhbHNlYC5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZGVib3VuY2luZyBcbiAgICAgKi9cbiAgICBvbkFzeW5jRGVib3VuY2UoZGVib3VuY2luZzogYm9vbGVhbik6IHZvaWQ7XG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgaGFuZGxlciByZXR1cm5zLCBpdHMgcmV0dXJuIHZhbHVlIHdpbGwgYmUgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gKGFmdGVyIGF3YWl0aW5nIGl0IGlmIG5lY2Vzc2FyeSkuXG4gICAgICogXG4gICAgICogRXZlbiBpZiB0aGUgaGFuZGxlciBkb2VzIG5vdCByZXR1cm4gYW55dGhpbmcsIHRoaXMgd2lsbCBzdGlsbCBiZSBjYWxsZWQgKHdpdGggYHVuZGVmaW5lZGApXG4gICAgICogXG4gICAgICogVGhpcyB2YWx1ZSBpcyBub3QgcmVzZXQgYXQgYW55IHRpbWUhIFNlZSBgc2V0SGFzUmV0dXJuYCB0byBkZXRlcm1pbmUgaWYgdGhlcmUgaXMgYSB2YWx1ZSBhdCBhbnkgZ2l2ZW4gdGltZS5cbiAgICAgKiBAcGFyYW0gcmV0IFxuICAgICAqL1xuICAgIG9uUmV0dXJuVmFsdWUocmV0OiBSZXR1cm4pOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogV2hlbiB0aGUgaGFuZGxlciBgdGhyb3dgcywgdGhlIHZhbHVlIHRocm93biB3aWxsIGJlIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAqIFxuICAgICAqIFRoaXMgdmFsdWUgaXMgbm90IHJlc2V0IGF0IGFueSB0aW1lISBTZWUgYHNldEhhc0Vycm9yYCB0byBkZXRlcm1pbmUgaWYgdGhlcmUgaXMgYSB2YWx1ZSBhdCBhbnkgZ2l2ZW4gdGltZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZXggXG4gICAgICovXG4gICAgb25FcnJvcihleDogdW5rbm93bik6IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBoYW5kbGVyIGlzIGFib3V0IHRvIGJlIGNhbGxlZCAoYWZ0ZXIgYWxsIG1ldGhvZHMgb2YgZGVib3VuY2luZyBhbmQgdGhyb3R0bGluZyBhbmQgc3VjaClcbiAgICAgKiB0aGlzIGlzIGFsd2F5cyBjYWxsZWQgb25jZS5cbiAgICAgKi9cbiAgICBvbkludm9rZSgpOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGhhbmRsZXIgcmV0dXJucyBzdWNjZXNzZnVsbHksIHRoaXMgd2lsbCBiZSBjYWxsZWQgb25jZS5cbiAgICAgKi9cbiAgICBvblJlc29sdmUoKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBoYW5kbGVyIHJlamVjdHMsIGZvciBhbnkgcmVhc29uLCB0aGlzIHdpbGwgYmUgY2FsbGVkIG9uY2UuXG4gICAgICovXG4gICAgb25SZWplY3QoKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBoYW5kbGVyIHJlc29sdmVzLCBmb3IgYW55IHJlYXNvbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCBvbmNlLlxuICAgICAqL1xuICAgIG9uRmluYWxseSgpOiB2b2lkO1xuXG4gICAgLy9vblJlc29sdmUyKHR5cGU6IFwicmVzb2x2ZVwiLCB2YWx1ZTogUmV0dXJuKTogdm9pZDtcbiAgICAvL29uUmVzb2x2ZTIodHlwZTogXCJyZWplY3RcIiwgdmFsdWU6IEVycm9yKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEl0J3MgZnJlcXVlbnRseSBuZWNlc3NhcnkgKGVzcGVjaWFsbHkgd2l0aCBET00gZXZlbnRzKSB0byBzYXZlXG4gICAgICogdmFsdWVzIHNvIHRoYXQgdGhleSBkb24ndCBiZWNvbWUgc3RhbGUuICBGb3IgZXhhbXBsZSwgcmVmZXJlbmNpbmdcbiAgICAgKiBgZXZlbnQuY3VycmVudFRhcmdldC52YWx1ZWAgaXMgYSAqbGl2ZSogdmFsdWUsIHNvIHlvdXIgaGFuZGxlclxuICAgICAqIGNvdWxkIGJlIGNhbGxlZCB3aXRoLCBzZWVtaW5nbHksIGRpZmZlcmVudCBhcmd1bWVudHMgdGhhbiB3ZXJlIGluaXRpYWxseSBwYXNzZWQuXG4gICAgICogXG4gICAgICogVG8gcHJldmVudCB0aGlzIFwic3RhbGUgYXJndW1lbnRcIiBwcm9ibGVtLCB5b3UgY2FuIGNhcHR1cmUgdGhlIHVzZWZ1bCBwYXJ0c1xuICAgICAqIG9mIHdoYXRldmVyIHRoZSBhc3luYyBmdW5jdGlvbidzIGFyZ3VtZW50cyBhcmUgaW50byBhbiBvYmplY3QgdGhhdCdzIG5vdCBsaXZlLlxuICAgICAqIFxuICAgICAqIGBjYXB0dXJlYCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBhcmd1bWVudHMgeW91ciBzeW5jIGhhbmRsZXIgdGFrZXMsIFxuICAgICAqIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBhcmd1bWVudHMgeW91ciBhc3luYyBoYW5kbGVyIHRha2VzIGFzIGFuIGFycmF5LlxuICAgICAqIFxuICAgICAqIEZvciBleGFtcGxlLCBgZSA9PiBbZSwgZS5jdXJyZW50VGFyZ2V0LnZhbHVlXWBcbiAgICAgKi9cbiAgICBjYXB0dXJlOiBDYXB0dXJlRnVuY3Rpb25UeXBlPEFzeW5jQXJncywgU3luY0FyZ3M+O1xuXG4gICAgLyoqXG4gICAgICogSWRlbnRpY2FsIHRvIExvZGFzaCdzIGB0aHJvdHRsZWAgZnVuY3Rpb24sIGFwcGx5aW5nICpiZWZvcmUqIHdhaXRpbmcgZm9yIGFueSBwcmlvciBhc3luYyBoYW5kbGVycyB0byBmaW5pc2guXG4gICAgICovXG4gICAgdGhyb3R0bGU6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIElkZW50aWNhbCB0byBMb2Rhc2gncyBgZGVib3VuY2VgIGZ1bmN0aW9uLCBhcHBseWluZyAqYmVmb3JlKiB3YWl0aW5nIGZvciBhbnkgcHJpb3IgYXN5bmMgaGFuZGxlcnMgdG8gZmluaXNoLlxuICAgICAqL1xuICAgIHdhaXQ6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGhhbmRsZXIgaXMgYWJvdXQgdG8gcnVuLCB0aGlzIGlzIHNldCB0byBgbnVsbGAuXG4gICAgICogXG4gICAgICogSWYgdGhlIGhhbmRsZXIgdGhyb3dzLCB0aGVuIHRoaXMgd2lsbCBiZSBzZXQgdG8gYHRydWVgLiBJZiBpdCByZXNvbHZlcywgdGhpcyB3aWxsIGJlIHNldCB0byBgZmFsc2VgLlxuICAgICAqIFxuICAgICAqIFRoaXMgaXMgdGhlIHNhbWUgZm9yIHN5bmMgYW5kIGFzeW5jIGZ1bmN0aW9uczsgXG4gICAgICogc3luYyBmdW5jdGlvbnMgd2lsbCByZXN1bHQgaW4gdGhpcyBmdW5jdGlvbiBiZWluZyBjYWxsZWQgdHdpY2UgaW4gb25lIGZyYW1lLlxuICAgICAqL1xuICAgIG9uSGFzRXJyb3IoaGFzRXJyb3I6IGJvb2xlYW4gfCBudWxsKTogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIGhhbmRsZXIgaXMgYWJvdXQgdG8gcnVuLCB0aGlzIGlzIHNldCB0byBgbnVsbGAuXG4gICAgICogXG4gICAgICogSWYgdGhlIGhhbmRsZXIgcmVzb2x2ZXMgc3VjY2Vzc2Z1bGx5LCB0aGVuIHRoaXMgd2lsbCBiZSBzZXQgdG8gYHRydWVgLiBJZiBpdCB0aHJvd3MsIHRoaXMgd2lsbCBiZSBzZXQgdG8gYGZhbHNlYC5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGlzIHRoZSBzYW1lIGZvciBzeW5jIGFuZCBhc3luYyBmdW5jdGlvbnM7IFxuICAgICAqIHN5bmMgZnVuY3Rpb25zIHdpbGwgcmVzdWx0IGluIHRoaXMgZnVuY3Rpb24gYmVpbmcgY2FsbGVkIHR3aWNlIGluIG9uZSBmcmFtZS5cbiAgICAgKi9cbiAgICBvbkhhc1Jlc3VsdChoYXNSZXN1bHQ6IGJvb2xlYW4gfCBudWxsKTogdm9pZDtcbn1cblxuaW50ZXJmYWNlIEFzeW5jVG9TeW5jUmV0dXJuPFN5bmNBcmdzIGV4dGVuZHMgYW55W10+IHtcbiAgICAvKipcbiAgICAgKiBUaGUgc3luYyB2ZXJzaW9uIG9mIHRoZSBoYW5kbGVyIHlvdSBzcGVjaWZpZWQuXG4gICAgICogXG4gICAgICogSXQgZG9lc24ndCByZXR1cm4gYSB2YWx1ZSAoYmVjYXVzZSBpdCBjYW4ndCBpbiBjYXNlIHRoZSBoYW5kbGVyIHdhcyBhc3luYykuXG4gICAgICovXG4gICAgc3luY091dHB1dDogKC4uLmFyZ3M6IFN5bmNBcmdzKSA9PiB2b2lkO1xuICAgIGZsdXNoKCk6IHZvaWQ7XG4gICAgY2FuY2VsKCk6IHZvaWQ7XG59XG5cbmZ1bmN0aW9uIGlzUHJvbWlzZTxUPihwOiBUIHwgUHJvbWlzZTxUPik6IHAgaXMgUHJvbWlzZTxUPiB7XG4gICAgcmV0dXJuIHAgaW5zdGFuY2VvZiBQcm9taXNlO1xufVxuXG5jb25zdCBVbnNldCA9IFN5bWJvbChcIlVuc2V0XCIpO1xuXG4vKipcbiAqIGxvZGFzaC1pc2ggZnVuY3Rpb24gdGhhdCdzIGxpa2UgZGVib3VuY2UgKyAodGhyb3R0bGUgdy8gYXN5bmMgaGFuZGxpbmcpIGNvbWJpbmVkLlxuICogXG4gKiBSZXF1aXJlcyBhIGxvdCBvZiBjYWxsYmFja3MgdG8gbWVhbmluZ2Z1bGx5IHR1cm4gYSByZWQgZnVuY3Rpb24gaW50byBhIGJsdWUgb25lLCBidXQgeW91ICpjYW4qIGRvIGl0IVxuICogTm90ZSB0aGF0IHBhcnQgb2YgdGhpcyBpcyBlbXVsYXRpbmcgdGhlIGZhY3QgdGhhdCB0aGUgc3luYyBoYW5kbGVyIGNhbm5vdCBoYXZlIGEgcmV0dXJuIHZhbHVlLFxuICogc28geW91J2xsIG5lZWQgdG8gdXNlIGBzZXRSZXNvbHZlYCBhbmQgdGhlIG90aGVyIHJlbGF0ZWQgZnVuY3Rpb25zIHRvIGRvIHRoYXQgaW4gd2hhdGV2ZXIgd2F5IHdvcmtzIGZvciB5b3VyIHNwZWNpZmljIHNjZW5hcmlvLlxuICogXG4gKiBUaGUgY29tbWVudHMgYXJlIG51bWJlcmVkIGluIGFwcHJveGltYXRlIGV4ZWN1dGlvbiBvcmRlciBmb3IgeW91ciByZWFkaW5nIHBsZWFzdXJlICgxIGlzIG5lYXIgdGhlIGJvdHRvbSkuXG4gKi9cbmZ1bmN0aW9uIGFzeW5jVG9TeW5jPEFzeW5jQXJncyBleHRlbmRzIGFueVtdLCBTeW5jQXJncyBleHRlbmRzIGFueVtdLCBSZXR1cm4+KHsgYXN5bmNJbnB1dCwgb25JbnZva2UsIG9uRmluYWxseTogb25GaW5hbGx5QW55LCBvblJlamVjdCwgb25SZXNvbHZlLCBvbkhhc0Vycm9yLCBvbkhhc1Jlc3VsdCwgb25FcnJvciwgb25SZXR1cm5WYWx1ZSwgY2FwdHVyZSwgb25Bc3luY0RlYm91bmNlLCBvblN5bmNEZWJvdW5jZSwgb25QZW5kaW5nLCB0aHJvdHRsZSwgd2FpdCB9OiBBc3luY1RvU3luY1BhcmFtZXRlcnM8QXN5bmNBcmdzLCBTeW5jQXJncywgUmV0dXJuPik6IEFzeW5jVG9TeW5jUmV0dXJuPFN5bmNBcmdzPiB7XG4gICAgbGV0IHBlbmRpbmcgPSBmYWxzZTtcbiAgICBsZXQgc3luY0RlYm91bmNpbmcgPSBmYWxzZTtcbiAgICBsZXQgYXN5bmNEZWJvdW5jaW5nID0gZmFsc2U7XG4gICAgbGV0IGN1cnJlbnRDYXB0dXJlOiBBc3luY0FyZ3MgfCB0eXBlb2YgVW5zZXQgPSBVbnNldDtcblxuICAgIGNvbnN0IG9uRmluYWxseSA9ICgpID0+IHtcblxuICAgICAgICAvLyA4LiBUaGlzIGlzIHJ1biBhdCB0aGUgZW5kIG9mIGV2ZXJ5IGludm9jYXRpb24gb2YgdGhlIGFzeW5jIGhhbmRsZXIsXG4gICAgICAgIC8vIHdoZXRoZXIgaXQgY29tcGxldGVkIG9yIG5vdCwgYW5kIHdoZXRoZXIgaXQgd2FzIGFzeW5jIG9yIG5vdC5cbiAgICAgICAgb25GaW5hbGx5QW55KCk7XG4gICAgICAgIG9uUGVuZGluZyhwZW5kaW5nID0gZmFsc2UpO1xuXG4gICAgICAgIG9uQXN5bmNEZWJvdW5jZShhc3luY0RlYm91bmNpbmcgPSBmYWxzZSk7XG4gICAgICAgIGlmICghYXN5bmNEZWJvdW5jaW5nKSB7XG4gICAgICAgICAgICAvLyA5YS4gQWZ0ZXIgY29tcGxldGluZyB0aGUgYXN5bmMgaGFuZGxlciwgd2UgZm91bmQgdGhhdCBpdCB3YXNuJ3QgY2FsbGVkIGFnYWluIHNpbmNlIHRoZSBsYXN0IHRpbWUuXG4gICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIGNhbiBqdXN0IGVuZC4gV2UncmUgZG9uZS4gTWlzc2lvbiBhY2NvbXBsaXNoZWQuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyA5Yi4gQW5vdGhlciByZXF1ZXN0IHRvIHJ1biB0aGUgYXN5bmMgaGFuZGxlciBjYW1lIGluIHdoaWxlIHdlIHdlcmUgcnVubmluZyB0aGlzIG9uZS5cbiAgICAgICAgICAgIC8vIEluc3RlYWQgb2Ygc3RvcHBpbmcsIHdlJ3JlIGp1c3QgZ29pbmcgdG8gaW1tZWRpYXRlbHkgcnVuIGFnYWluIHVzaW5nIHRoZSBhcmd1bWVudHMgdGhhdCB3ZXJlIGdpdmVuIHRvIHVzIG1vc3QgcmVjZW50bHkuXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGNsZWFyIHRoYXQgZmxhZywgYmVjYXVzZSB3ZSdyZSBoYW5kbGluZyBpdCBub3cuIEl0J2xsIGJlIHNldCBhZ2FpbiBpZiB0aGUgaGFuZGxlciBpcyBjYWxsZWQgYWdhaW4gd2hpbGUgKnRoaXMqIG9uZSBpcyBydW5uaW5nXG4gICAgICAgICAgICAvL29uQXN5bmNEZWJvdW5jZShhc3luY0RlYm91bmNpbmcgPSBmYWxzZSk7XG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydChjdXJyZW50Q2FwdHVyZSAhPT0gVW5zZXQpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRDYXB0dXJlICE9IFVuc2V0KSB7XG4gICAgICAgICAgICAgICAgb25TeW5jRGVib3VuY2Uoc3luY0RlYm91bmNpbmcgPSB0cnVlKTtcbiAgICAgICAgICAgICAgICBzeW5jRGVib3VuY2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzeW5jID0gKC4uLmFyZ3M6IEFzeW5jQXJncykgPT4ge1xuICAgICAgICAvLyA1LiBXZSdyZSBmaW5hbGx5IHJ1bm5pbmcgdGhlIGFzeW5jIHZlcnNpb24gb2YgdGhlIGZ1bmN0aW9uLCBzbyBub3RpZnkgdGhlIGNhbGxlciB0aGF0IHRoZSByZXR1cm4gdmFsdWUgaXMgcGVuZGluZy5cbiAgICAgICAgLy8gQW5kIGJlY2F1c2UgdGhlIGZhY3QgdGhhdCB3ZSdyZSBoZXJlIG1lYW5zIHRoZSBkZWJvdW5jZS90aHJvdHRsZSBwZXJpb2QgaXMgb3Zlciwgd2UgY2FuIGNsZWFyIHRoYXQgZmxhZyB0b28uXG4gICAgICAgIG9uUGVuZGluZyhwZW5kaW5nID0gdHJ1ZSk7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHN5bmNEZWJvdW5jaW5nID09IGZhbHNlKTtcbiAgICAgICAgb25IYXNFcnJvcihudWxsKTtcbiAgICAgICAgb25IYXNSZXN1bHQobnVsbCk7XG4gICAgICAgIGxldCBwcm9taXNlT3JSZXR1cm46IFByb21pc2U8UmV0dXJuPiB8IFJldHVybiB8IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQgaGFkU3luY0Vycm9yID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyA2LiBSdW4gdGhlIGZ1bmN0aW9uIHdlIHdlcmUgZ2l2ZW4uXG4gICAgICAgICAgICAvLyBCZWNhdXNlIGl0IG1heSBiZSBzeW5jLCBvciBpdCBtYXkgdGhyb3cgYmVmb3JlIHJldHVybmluZywgd2UgbXVzdCBzdGlsbCB3cmFwIGl0IGluIGEgdHJ5L2NhdGNoLi4uXG4gICAgICAgICAgICAvLyBBbHNvIGltcG9ydGFudCBpcyB0aGF0IHdlIHByZXNlcnZlIHRoZSBhc3luYy1uZXNzIChvciBsYWNrIHRoZXJlb2YpIG9uIHRoZSBvcmlnaW5hbCBpbnB1dCBmdW5jdGlvbi5cbiAgICAgICAgICAgIG9uSW52b2tlKCk7XG4gICAgICAgICAgICBwcm9taXNlT3JSZXR1cm4gPSBhc3luY0lucHV0KC4uLmFyZ3MpO1xuICAgICAgICAgICAgb25IYXNFcnJvcihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICBoYWRTeW5jRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgb25FcnJvcihleCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyA3LiBFaXRoZXIgZW5kIGltbWVkaWF0ZWx5LCBvciBzY2hlZHVsZSB0byBlbmQgd2hlbiBjb21wbGV0ZWQuXG4gICAgICAgIGlmIChpc1Byb21pc2UocHJvbWlzZU9yUmV0dXJuKSkge1xuICAgICAgICAgICAgcHJvbWlzZU9yUmV0dXJuXG4gICAgICAgICAgICAgICAgLnRoZW4ociA9PiB7IG9uUmVzb2x2ZSgpOyBvbkhhc1Jlc3VsdCh0cnVlKTsgb25SZXR1cm5WYWx1ZShyKTsgcmV0dXJuIHI7IH0pXG4gICAgICAgICAgICAgICAgLmNhdGNoKGUgPT4geyBvblJlamVjdCgpOyBvbkhhc0Vycm9yKHRydWUpOyBvbkVycm9yKGUpOyByZXR1cm4gZTsgfSlcbiAgICAgICAgICAgICAgICAuZmluYWxseShvbkZpbmFsbHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFoYWRTeW5jRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvblJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBvbkhhc1Jlc3VsdCh0cnVlKTtcbiAgICAgICAgICAgICAgICBvbkhhc0Vycm9yKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uUmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgb25IYXNSZXN1bHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIG9uSGFzRXJyb3IodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblJldHVyblZhbHVlKHByb21pc2VPclJldHVybiBhcyBSZXR1cm4pO1xuICAgICAgICAgICAgb25QZW5kaW5nKHBlbmRpbmcgPSBmYWxzZSk7XG4gICAgICAgICAgICBvbkZpbmFsbHkoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGxvZGFzaCB1c2VzIFwiaW5cIiBpbnN0ZWFkIG9mIGNoZWNraW5nIGZvciBgdW5kZWZpbmVkYC4uLlxuICAgIGNvbnN0IGxvZGFzaE9wdGlvbnM6IERlYm91bmNlU2V0dGluZ3MgPSB7XG4gICAgICAgIGxlYWRpbmc6ICF3YWl0LFxuICAgICAgICB0cmFpbGluZzogdHJ1ZVxuICAgIH1cbiAgICBpZiAodGhyb3R0bGUpIHtcbiAgICAgICAgaWYgKHdhaXQgPT0gbnVsbCB8fCAod2FpdCA8IHRocm90dGxlKSlcbiAgICAgICAgICAgIHdhaXQgPSB0aHJvdHRsZTtcbiAgICAgICAgbG9kYXNoT3B0aW9ucy5tYXhXYWl0ID0gdGhyb3R0bGU7XG4gICAgfVxuXG4gICAgY29uc3Qgc3luY0RlYm91bmNlZCA9IExvZGFzaERlYm91bmNlKCgpID0+IHtcbiAgICAgICAgLy8gMy4gSW5zdGVhZCBvZiBjYWxsaW5nIHRoZSBzeW5jIHZlcnNpb24gb2Ygb3VyIGZ1bmN0aW9uIGRpcmVjdGx5LCB3ZSBhbGxvdyBpdCB0byBiZSB0aHJvdHRsZWQvZGVib3VuY2VkLlxuICAgICAgICBvblN5bmNEZWJvdW5jZShzeW5jRGVib3VuY2luZyA9IGZhbHNlKTtcbiAgICAgICAgaWYgKCFwZW5kaW5nKSB7XG4gICAgICAgICAgICAvLyA0YS4gSWYgdGhpcyBpcyB0aGUgZmlyc3QgaW52b2NhdGlvbiwgb3IgaWYgd2UncmUgbm90IHN0aWxsIHdhaXRpbmcgZm9yIGEgcHJldmlvdXMgaW52b2NhdGlvbiB0byBmaW5pc2ggaXRzIGFzeW5jIGNhbGwsXG4gICAgICAgICAgICAvLyB0aGVuIHdlIGNhbiBqdXN0IGdvIGFoZWFkIGFuZCBydW4gdGhlIGRlYm91bmNlZCB2ZXJzaW9uIG9mIG91ciBmdW5jdGlvbi5cbiAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KGN1cnJlbnRDYXB0dXJlICE9IFVuc2V0KTtcbiAgICAgICAgICAgIHN5bmMoLi4uKGN1cnJlbnRDYXB0dXJlIGFzIEFzeW5jQXJncykpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gNGIuIElmIHdlIHdlcmUgY2FsbGVkIHdoaWxlIHN0aWxsIHdhaXRpbmcgZm9yIHRoZSAob3IgYSkgcHJldmlvdXMgaW52b2NhdGlvbiB0byBmaW5pc2gsXG4gICAgICAgICAgICAvLyB0aGVuIHdlJ2xsIG5lZWQgdG8gZGVsYXkgdGhpcyBvbmUuIFdoZW4gdGhhdCBwcmV2aW91cyBpbnZvY2F0aW9uIGZpbmlzaGVzLCBpdCdsbCBjaGVja1xuICAgICAgICAgICAgLy8gdG8gc2VlIGlmIGl0IG5lZWRzIHRvIHJ1biBhZ2FpbiwgYW5kIGl0IHdpbGwgdXNlIHRoZXNlIG5ldyBjYXB0dXJlZCBhcmd1bWVudHMgZnJvbSBzdGVwIDIuXG4gICAgICAgICAgICBvbkFzeW5jRGVib3VuY2UoYXN5bmNEZWJvdW5jaW5nID0gdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LCB3YWl0IHx8IHVuZGVmaW5lZCwgbG9kYXNoT3B0aW9ucyk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzeW5jT3V0cHV0OiAoLi4uYXJnczogU3luY0FyZ3MpID0+IHtcbiAgICAgICAgICAgIC8vIDEuIFdlIGNhbGwgdGhlIHN5bmMgdmVyc2lvbiBvZiBvdXIgYXN5bmMgZnVuY3Rpb24uXG4gICAgICAgICAgICAvLyAyLiBXZSBjYXB0dXJlIHRoZSBhcmd1bWVudHMgaW50byBhIGZvcm0gdGhhdCB3b24ndCBiZWNvbWUgc3RhbGUgaWYvd2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYSAocG9zc2libHkgc2Vjb25kcy1sb25nKSBkZWxheSAoZS5nLiBldmVudC5jdXJyZW50VGFyZ2V0LnZhbHVlIG9uIGFuIDxpbnB1dD4gZWxlbWVudCkuXG4gICAgICAgICAgICBjdXJyZW50Q2FwdHVyZSA9IGNhcHR1cmUoLi4uYXJncyk7XG4gICAgICAgICAgICBvblN5bmNEZWJvdW5jZShzeW5jRGVib3VuY2luZyA9IHRydWUpO1xuICAgICAgICAgICAgc3luY0RlYm91bmNlZCgpO1xuICAgICAgICB9LFxuICAgICAgICBmbHVzaDogKCkgPT4ge1xuICAgICAgICAgICAgc3luY0RlYm91bmNlZC5mbHVzaCgpO1xuICAgICAgICB9LFxuICAgICAgICBjYW5jZWw6ICgpID0+IHtcbiAgICAgICAgICAgIHN5bmNEZWJvdW5jZWQuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5cbmNvbnN0IHsgc3luY091dHB1dCB9ID0gYXN5bmNUb1N5bmM8W2FzeW5jOiBcImFzeW5jXCJdLCBbc3luYzogXCJzeW5jXCJdLCBudW1iZXI+KHtcbiAgICBhc3luY0lucHV0OiBhc3luYyAoYXN5bmMpID0+IHsgcmV0dXJuIDAgfSxcbiAgICBjYXB0dXJlOiAoc3luYykgPT4gW1wiYXN5bmNcIl0sXG4gICAgb25JbnZva2U6ICgpID0+IHsgfSxcbiAgICBvbkZpbmFsbHk6ICgpID0+IHsgfSxcbiAgICBvblJlamVjdDogKCkgPT4geyB9LFxuICAgIG9uUmVzb2x2ZTogKCkgPT4geyB9LFxuICAgIG9uQXN5bmNEZWJvdW5jZTogKCkgPT4geyB9LFxuICAgIG9uRXJyb3I6ICgpID0+IHsgfSxcbiAgICBvbkhhc0Vycm9yOiAoKSA9PiB7IH0sXG4gICAgb25IYXNSZXN1bHQ6ICgpID0+IHsgfSxcbiAgICBvblBlbmRpbmc6ICgpID0+IHsgfSxcbiAgICBvblJldHVyblZhbHVlOiAoKSA9PiB7IH0sXG4gICAgb25TeW5jRGVib3VuY2U6ICgpID0+IHsgfSxcbiAgICB0aHJvdHRsZTogMCxcbiAgICB3YWl0OiAwXG59KVxuXG5jb25zdCB2YWx1ZSA9IHN5bmNPdXRwdXQoXCJzeW5jXCIpXG4iLCJpbXBvcnQgeyB1c2VBc3luYywgVXNlQXN5bmNQYXJhbWV0ZXJzLCBVc2VBc3luY1JldHVyblR5cGUgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLWFzeW5jXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhdGVcIjtcblxudHlwZSBPbWl0U3Ryb25nPFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IE9taXQ8VCwgSz5cblxuZXhwb3J0IHR5cGUgQXN5bmNIYW5kbGVyPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGU+ID0gKChjOiBDYXB0dXJlVHlwZSwgZTogRXZlbnRUeXBlKSA9PiAoUHJvbWlzZTx2b2lkPiB8IHZvaWQpKTtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VBc3luY0hhbmRsZXJQYXJhbWV0ZXJzPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGU+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VBc3luY1BhcmFtZXRlcnM8W0NhcHR1cmVUeXBlLCBFdmVudFR5cGVdLCBbRXZlbnRUeXBlXT4sIFwiY2FwdHVyZVwiPiB7XG4gICAgLyoqXG4gICAgICogV2hhdCB0cmFuc2llbnQgaW5mb3JtYXRpb24gaXMgY2FwdHVyZWQgYnkgdGhpcyBldmVudCBcbiAgICAgKiBhbmQgcHJlc2VudGVkIGFzIHRoZSBmaXJzdCBhcmd1bWVudCBvZiB0aGUgZXZlbnQgaGFuZGxlcj9cbiAgICAgKiBcbiAgICAgKiBUaGUgXCJjYXB0dXJlXCIgcGFyYW1ldGVyIGFuc3dlcnMgdGhpcyBxdWVzdGlvbi4gVG8gaW1wbGVtZW50IGEgY2hlY2tib3gsIGZvciBleGFtcGxlLCByZXR1cm4gYHRhcmdldC5jaGVja2VkYC5cbiAgICAgKi9cbiAgICBjYXB0dXJlOiAoZXZlbnQ6IEV2ZW50VHlwZSkgPT4gQ2FwdHVyZVR5cGU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gKGVpdGhlciBhc3luYyBvciBzeW5jKSB0aGF0IHlvdSB3YW50IHRvIGNvbnZlcnQgdG8gYSByZWd1bGFyLCBzeW5jIGV2ZW50IGhhbmRsZXIuIFxuICAgICAqL1xuICAgIGFzeW5jSGFuZGxlcjogQXN5bmNIYW5kbGVyPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGU+IHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VBc3luY0hhbmRsZXJSZXR1cm5UeXBlPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGU+IGV4dGVuZHMgVXNlQXN5bmNSZXR1cm5UeXBlPFtFdmVudFR5cGVdLCB2b2lkPiB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbW9zdCByZWNlbnRseSBjYXB0dXJlZCB2YWx1ZS4gSW4gb3RoZXIgd29yZHMsIHJlcHJlc2VudHMgd2hhdFxuICAgICAqIHRoZSBjdXJyZW50IHZhbHVlIHdvdWxkIGJlIGlmIHRoaXMgb3BlcmF0aW9uIHdlcmUgc3luY2hyb25vdXMgYW5kIFxuICAgICAqIGFuZCBjb3VsZG4ndCBmYWlsLiBJdCdzIHVzZWZ1bCB0byBwcmV0ZW5kIHRoaXMgaXMgdGhlIGFjdHVhbCB2YWx1ZVxuICAgICAqIGZvciBhbiBpbnB1dCBmaWVsZCwgZm9yIGV4YW1wbGUsIHNvIHRoYXQgdGhlIHZhbHVlIGRvZXNuJ3QgXCJzbmFwXG4gICAgICogYmFja1wiIHdoaWxlIHlvdSdyZSB3YWl0aW5nIGZvciB0aGUgaGFuZGxlciB0byBmaW5pc2guXG4gICAgICogXG4gICAgICogU29tZXRoaW5nIGxpa2UgYHZhbHVlPXtwZW5kaW5nPyBjdXJyZW50Q2FwdHVyZSA6IHZhbHVlfWAgaXMgZ29vZCBmb3IgY2hlY2tib3hlcyxcbiAgICAgKiBzb21ldGhpbmcgbGlrZSBgdmFsdWU9eyhwZW5kaW5nIHx8IGhhc0ZvY3VzKT8gY3VycmVudENhcHR1cmUgOiB2YWx1ZX0gZm9yIHRleHQgZmllbGRzLlxuICAgICAqIFxuICAgICAqIEBzZWUgaGFzQ2FwdHVyZVxuICAgICAqL1xuICAgIGN1cnJlbnRDYXB0dXJlOiBDYXB0dXJlVHlwZSB8IHVuZGVmaW5lZDtcblxuICAgIC8qKiBcbiAgICAgKiBUaGUgYWJvdmUsIGJ1dCBzdGFibGUsIGlmIHlvdSBuZWVkIHRoZSBjdXJyZW50IGNhcHR1cmUgd2l0aG91dCBpdCBiZWluZyBhbiBleHBsaWNpdCBkZXBlbmRlbmN5LlxuICAgICAqICoqU1RBQkxFKipcbiAgICAgKiAgKi9cbiAgICBnZXRDdXJyZW50Q2FwdHVyZSgpOiAoQ2FwdHVyZVR5cGUgfCB1bmRlZmluZWQpO1xuXG4gICAgLyoqXG4gICAgICogQmVjYXVzZSB5b3UncmUgYWxsb3dlZCB0byBoYXZlIGBDYXB0dXJlVHlwZWAgZXh0ZW5kIGB1bmRlZmluZWRgLFxuICAgICAqIHlvdSBtaWdodCBuZWVkIHRoaXMuXG4gICAgICovXG4gICAgaGFzQ2FwdHVyZTogYm9vbGVhbjtcblxuICAgIC8vIFNhbWUgYXMgaW4gdXNlQXN5bmMsIGJ1dCB3aXRoIGEgZGlmZmVyZW50IHR5cGVcbiAgICAvL3Byb21pc2U6IFByb21pc2U8dm9pZD4gfCBudWxsO1xuXG59XG5cbi8qKlxuICogR2l2ZW4gYW4gYXN5bmNyb25vdXMgZXZlbnQgaGFuZGxlciwgcmV0dXJucyBhIHN5bmNyb25vdXMgb25lIHRoYXQgd29ya3Mgb24gdGhlIERPTSxcbiAqIGFsb25nIHdpdGggc29tZSBvdGhlciBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIHRoZSBjdXJyZW50IHN0YXRlLlxuICogRG9lcyBub3QgbW9kaWZ5IGFueSBwcm9wcy5cbiAqIFxuICogTm90ZSB0aGF0IGJlY2F1c2UgdGhlIGhhbmRsZXIgeW91IHByb3ZpZGUgbWF5IGJlIGNhbGxlZCB3aXRoIGEgZGVsYXksIGFuZCBcbiAqIGJlY2F1c2UgdGhlIHZhbHVlIG9mLCBlLmcuLCBhbiBgPGlucHV0PmAgZWxlbWVudCB3aWxsIGxpa2VseSBiZSBzdGFsZSBieSB0aGUgXG4gKiB0aW1lIHRoZSBkZWxheSBpcyBvdmVyLCBhIGBjYXB0dXJlYCBmdW5jdGlvbiBpcyBuZWNlc3NhcnkgaW4gb3JkZXIgdG8gXG4gKiBjYXB0dXJlIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiBmcm9tIHRoZSBET00uIEFueSBvdGhlciBzaW1wbGUgZXZlbnQgZGF0YSwgXG4gKiBsaWtlIGBtb3VzZVhgIG9yIGBzaGlmdEtleWAgY2FuIHN0YXkgb24gdGhlIGV2ZW50IGl0c2VsZiBhbmQgZG9uJ3QgXG4gKiBuZWVkIHRvIGJlIGNhcHR1cmVkICZuZGFzaDsgaXQncyBuZXZlciBzdGFsZS5cbiAqIFxuICogYGBgdHN4XG4gKiBjb25zdCBhc3luY09uSW5wdXQgPSBhc3luYyAodmFsdWU6IG51bWJlciwgZTogRXZlbnQpID0+IHsgXG4gKiAgICAgWy4uLl0gLy8gRXguIHNlbmQgdG8gYSBzZXJ2ZXIgYW5kIHNldFN0YXRlIHdoZW4gZG9uZVxuICogfTtcbiAqIGNvbnN0IHtcbiAqICAgICAvLyBBIHN5bmMgdmVyc2lvbiBvZiBhc3luY09uSW5wdXRcbiAqICAgICBzeW5jSGFuZGxlcixcbiAqICAgICAvLyBUcnVlIHdoaWxlIHRoZSBoYW5kbGVyIGlzIHJ1bm5pbmdcbiAqICAgICBwZW5kaW5nLFxuICogICAgIC8vIFRoZSBlcnJvciB0aHJvd24sIGlmIGFueVxuICogICAgIGVycm9yLFxuICogICAgIC8vIFNob3cgdGhpcyB2YWx1ZSB3aGlsZSB0aGUgb3BlcmF0aW9uJ3MgcGVuZGluZ1xuICogICAgIGN1cnJlbnRDYXB0dXJlLFxuICogICAgIC8vIEFuZCBvdGhlcnMsIHNlZSBgVXNlQXN5bmNIYW5kbGVyUmV0dXJuVHlwZWBcbiAqICAgICAuLi5yZXN0XG4gKiB9ID0gdXNlQXN5bmNIYW5kbGVyPEhUTUxJbnB1dEVsZW1lbnQ+KCkoYXN5bmNPbklucHV0LCB7IFxuICogICAgIC8vIFBhc3MgaW4gdGhlIGNhcHR1cmUgZnVuY3Rpb24gdGhhdCBzYXZlcyBldmVudCBkYXRhXG4gKiAgICAgLy8gZnJvbSBiZWluZyBzdGFsZS5cbiAqICAgICBjYXB0dXJlOiBlID0+IHsgXG4gKiAgICAgICAgIC8vIGBjYXB0dXJlYCBjYW4gaGF2ZSBzaWRlLWVmZmVjdHMgYmVjYXVzZVxuICogICAgICAgICAvLyBpdCdzIGNhbGxlZCBleGFjdGx5IG9uY2UgcGVyIGludm9jYXRpb25cbiAqICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyBcbiAqIFxuICogICAgICAgICAvLyBTYXZlIHRoaXMgdmFsdWUgc28gdGhhdCBpdCdzIG5ldmVyIHN0YWxlXG4gKiAgICAgICAgIHJldHVybiBlLmN1cnJlbnRUYXJnZXQudmFsdWVBc051bWJlcjtcbiAqICAgICB9XG4gKiB9KTtcbiAqIFxuICogY29uc3Qgb25JbnB1dCA9IHBlbmRpbmc/IG51bGwgOiBzeW5jSGFuZGxlcjtcbiAqIGBgYFxuICogXG4gKiBUaGUgaGFuZGxlciBpcyBhdXRvbWF0aWNhbGx5IHRocm90dGxlZCB0byBvbmx5IHJ1biBvbmUgYXQgYSB0aW1lLiBcbiAqIElmIHRoZSBoYW5kbGVyIGlzIGNhbGxlZCwgYW5kIHRoZW4gYmVmb3JlIGl0IGZpbmlzaGVzLCBpcyBjYWxsZWQgYWdhaW4sXG4gKiBpdCB3aWxsIGJlIHB1dCBvbiBob2xkIHVudGlsIHRoZSBjdXJyZW50IG9uZSBmaW5pc2hlcywgYXQgd2hpY2ggcG9pbnRcbiAqIHRoZSBzZWNvbmQgb25lIHdpbGwgcnVuLiAgSWYgdGhlIGhhbmRsZXIgaXMgY2FsbGVkIGEgdGhpcmQgdGltZSBiZWZvcmVcbiAqIHRoZSBmaXJzdCBoYXMgZmluaXNoZWQsIGl0IHdpbGwgKnJlcGxhY2UqIHRoZSBzZWNvbmQsIHNvIG9ubHkgdGhlIG1vc3RcbiAqIHJlY2VudGx5IGNhbGxlZCBpdGVyYXRpb24gb2YgdGhlIGhhbmRsZXIgd2lsbCBydW4uXG4gKiBcbiAqIFxuICogWW91IG1heSBvcHRpb25hbGx5ICphbHNvKiBzcGVjaWZ5IGRlYm91bmNlIGFuZCB0aHJvdHRsZSBwYXJhbWV0ZXJzIHRoYXQgd2FpdCB1bnRpbCB0aGVcbiAqIHN5bmNyb25vdXMgaGFuZGxlciBoYXMgbm90IGJlZW4gY2FsbGVkIGZvciB0aGUgc3BlY2lmaWVkIG51bWJlciBvZlxuICogbWlsbGlzZWNvbmRzLCBhdCB3aGljaCBwb2ludCB3ZSAqYWN0dWFsbHkqIHJ1biB0aGUgYXN5bmNyb25vdXMgaGFuZGxlclxuICogYWNjb3JkaW5nIHRvIHRoZSBsb2dpYyBpbiB0aGUgcHJldmlvdXMgcGFyYWdyYXBoLiBUaGlzIGlzIGluXG4gKiAqYWRkaXRpb24qIHRvIHRocm90dGxpbmcgdGhlIGhhbmRsZXIsIGFuZCBkb2VzIG5vdCByZXBsYWNlIHRoYXQgYmVoYXZpb3IuXG4gKiBcbiAqIEBzZWUgdXNlQXN5bmMgQSBtb3JlIGdlbmVyYWwgdmVyc2lvbiBvZiB0aGlzIGhvb2sgdGhhdCBjYW4gd29yayB3aXRoIGFueSB0eXBlIG9mIGhhbmRsZXIsIG5vdCBqdXN0IERPTSBldmVudCBoYW5kbGVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUFzeW5jSGFuZGxlcjxFdmVudFR5cGUsIENhcHR1cmVUeXBlPih7IGFzeW5jSGFuZGxlciwgY2FwdHVyZTogb3JpZ2luYWxDYXB0dXJlLCAuLi5yZXN0QXN5bmNPcHRpb25zIH06IFVzZUFzeW5jSGFuZGxlclBhcmFtZXRlcnM8RXZlbnRUeXBlLCBDYXB0dXJlVHlwZT4pOiBVc2VBc3luY0hhbmRsZXJSZXR1cm5UeXBlPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGU+IHtcbiAgICBcbiAgICAvLyBXZSBuZWVkIHRvIGRpZmZlcmVudGlhdGUgYmV0d2VlbiBcIm5vdGhpbmcgY2FwdHVyZWQgeWV0XCIgYW5kIFwiYHVuZGVmaW5lZGAgd2FzIGNhcHR1cmVkXCJcbiAgICBjb25zdCBbY3VycmVudENhcHR1cmUsIHNldEN1cnJlbnRDYXB0dXJlLCBnZXRDdXJyZW50Q2FwdHVyZV0gPSB1c2VTdGF0ZTxDYXB0dXJlVHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbiAgICBjb25zdCBbaGFzQ2FwdHVyZSwgc2V0SGFzQ2FwdHVyZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgXG4gICAgLy8gV3JhcCBhcm91bmQgdGhlIG5vcm1hbCBgdXNlQXN5bmNgIGBjYXB0dXJlYCBmdW5jdGlvbiB0byBhbHNvXG4gICAgLy8ga2VlcCB0cmFjayBvZiB0aGUgbGFzdCB2YWx1ZSB0aGUgdXNlciBhY3R1YWxseSBpbnB1dC5cbiAgICAvLyBcbiAgICAvLyBXaXRob3V0IHRoaXMgdGhlcmUncyBubyB3YXkgdG8gcmUtcmVuZGVyIHRoZSBjb250cm9sIHdpdGhcbiAgICAvLyBpdCBiZWluZyBib3RoIGNvbnRyb2xsZWQgYW5kIGFsc28gaGF2aW5nIHRoZSBcImNvcnJlY3RcIiB2YWx1ZSxcbiAgICAvLyBhbmQgYXQgYW55IHJhdGUgYWxzbyBwcm90ZWN0cyBhZ2FpbnN0IHN1ZGRlbiBleGNlcHRpb25zIHJldmVydGluZ1xuICAgIC8vIHlvdXIgY2hhbmdlIG91dCBmcm9tIHVuZGVyIHlvdS5cbiAgICBjb25zdCBjYXB0dXJlID0gdXNlU3RhYmxlQ2FsbGJhY2soKGU6IEV2ZW50VHlwZSk6IFtDYXB0dXJlVHlwZSwgRXZlbnRUeXBlXSA9PiB7IFxuICAgICAgICBjb25zdCBjYXB0dXJlZCA9IG9yaWdpbmFsQ2FwdHVyZShlKTsgXG4gICAgICAgIHNldEN1cnJlbnRDYXB0dXJlKGNhcHR1cmVkKTtcbiAgICAgICAgc2V0SGFzQ2FwdHVyZSh0cnVlKTtcbiAgICAgICAgcmV0dXJuIFtjYXB0dXJlZCwgZV07XG4gICAgfSk7XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldEN1cnJlbnRDYXB0dXJlLFxuICAgICAgICBjdXJyZW50Q2FwdHVyZSxcbiAgICAgICAgaGFzQ2FwdHVyZSxcbiAgICAgICAgLi4udXNlQXN5bmMoYXN5bmNIYW5kbGVyLCB7IGNhcHR1cmUsIC4uLnJlc3RBc3luY09wdGlvbnMgfSlcbiAgICB9O1xufVxuIiwiXG5pbXBvcnQgeyBjbG9uZUVsZW1lbnQsIGgsIFZOb2RlIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSBcInByZWFjdC9jb21wYXRcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QsIHVzZU1lbW8gfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVJhbmRvbUlkIH0gZnJvbSBcIi4uL3ByZWFjdC1leHRlbnNpb25zL3VzZS1iZWZvcmUtbGF5b3V0LWVmZmVjdFwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YWJsZS1jYWxsYmFja1wiO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwiLi4vcHJlYWN0LWV4dGVuc2lvbnMvdXNlLXN0YXRlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUG9ydGFsQ2hpbGRyZW5QYXJhbWV0ZXJzIHtcbiAgICB0YXJnZXQ6IHN0cmluZyB8IEVsZW1lbnQgfCBudWxsO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVBvcnRhbENoaWxkcmVuUmV0dXJuVHlwZSB7XG4gICAgY2hpbGRyZW46IFZOb2RlO1xuICAgIHBvcnRhbEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsO1xuICAgIHB1c2hDaGlsZDogUHVzaFBvcnRhbENoaWxkO1xuICAgIHVwZGF0ZUNoaWxkOiBVcGRhdGVQb3J0YWxDaGlsZDtcbiAgICByZW1vdmVDaGlsZDogUmVtb3ZlUG9ydGFsQ2hpbGQ7XG59XG5cbi8qKlxuICogVmVyeSBiYXNpYyBob29rIGZvciBhIHJvb3QtbGV2ZWwgY29tcG9uZW50IHRvIHVzZSB0byBhbGxvdyBhbnkgY2hpbGRyZW4gd2l0aGluIHRoZSB3aG9sZSBhcHAgdG8gcHVzaCBjaGlsZHJlbiB0byBhIHBvcnRhbCBzb21ld2hlcmUuXG4gKiBcbiAqIFJldHVybnMgdGhlIHBvcnRhbCAoYXMgYGNoaWxkcmVuYCwgYW5kIGZ1bmN0aW9ucyB0byBhZGQsIHJlbW92ZSwgb3IgdXBkYXRlIGEgY2hpbGQgdG8gdGhlIHBvcnRhbGVkIGFyZWEpXG4gKiBcbiAqIFRPRE86IENhbid0IHB1c2ggYSBjaGlsZCB1bnRpbCBhZnRlciB0aGUgdmVyeSBmaXJzdCBgdXNlTGF5b3V0RWZmZWN0YFxuICogXG4gKiBAcGFyYW0gcGFyYW0wIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQb3J0YWxDaGlsZHJlbih7IHRhcmdldCB9OiBVc2VQb3J0YWxDaGlsZHJlblBhcmFtZXRlcnMpIHtcblxuICAgIGNvbnN0IFtwdXNoQ2hpbGQsIHNldFB1c2hDaGlsZF0gPSB1c2VTdGF0ZTxQdXNoUG9ydGFsQ2hpbGQgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbdXBkYXRlQ2hpbGQsIHNldFVwZGF0ZUNoaWxkXSA9IHVzZVN0YXRlPFVwZGF0ZVBvcnRhbENoaWxkIHwgbnVsbD4obnVsbCk7XG4gICAgY29uc3QgW3JlbW92ZUNoaWxkLCBzZXRSZW1vdmVDaGlsZF0gPSB1c2VTdGF0ZTxSZW1vdmVQb3J0YWxDaGlsZCB8IG51bGw+KG51bGwpO1xuXG4gICAgY29uc3QgcHVzaENoaWxkU3RhYmxlID0gdXNlU3RhYmxlQ2FsbGJhY2s8Tm9uTnVsbGFibGU8dHlwZW9mIHB1c2hDaGlsZD4+KChjaGlsZCkgPT4ge1xuICAgICAgICByZXR1cm4gcHVzaENoaWxkPy4oY2hpbGQpID8/IC0xO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdXBkYXRlQ2hpbGRTdGFibGUgPSB1c2VTdGFibGVDYWxsYmFjazxOb25OdWxsYWJsZTx0eXBlb2YgdXBkYXRlQ2hpbGQ+PigoaW5kZXgsIGNoaWxkKSA9PiB7XG4gICAgICAgIHJldHVybiB1cGRhdGVDaGlsZD8uKGluZGV4LCBjaGlsZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByZW1vdmVDaGlsZFN0YWJsZSA9IHVzZVN0YWJsZUNhbGxiYWNrPE5vbk51bGxhYmxlPHR5cGVvZiByZW1vdmVDaGlsZD4+KChpbmRleCkgPT4ge1xuICAgICAgICByZXR1cm4gcmVtb3ZlQ2hpbGQ/LihpbmRleCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBlbGVtZW50ID0gdXNlTWVtbygoKSA9PiB7IHJldHVybiB0YXJnZXQgPT0gbnVsbD8gbnVsbCA6IHR5cGVvZiB0YXJnZXQgPT0gXCJzdHJpbmdcIj8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0KSA6IHRhcmdldDsgfSwgW3RhcmdldF0pO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gIWVsZW1lbnQ/IG51bGwgOiBjcmVhdGVQb3J0YWwoPFBvcnRhbENoaWxkcmVuIHNldFB1c2hDaGlsZD17c2V0UHVzaENoaWxkfSBzZXRVcGRhdGVDaGlsZD17c2V0VXBkYXRlQ2hpbGR9IHNldFJlbW92ZUNoaWxkPXtzZXRSZW1vdmVDaGlsZH0gLz4sIGVsZW1lbnQhKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICAgICAgcHVzaENoaWxkOiBwdXNoQ2hpbGRTdGFibGUsXG4gICAgICAgIHVwZGF0ZUNoaWxkOiB1cGRhdGVDaGlsZFN0YWJsZSxcbiAgICAgICAgcmVtb3ZlQ2hpbGQ6IHJlbW92ZUNoaWxkU3RhYmxlLFxuICAgICAgICBwb3J0YWxFbGVtZW50OiBlbGVtZW50XG4gICAgfVxufVxuXG5cbmV4cG9ydCB0eXBlIFN0YXRlVXBkYXRlcjxTPiA9ICh2YWx1ZTogKChwcmV2U3RhdGU6IFMpID0+IFMpKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgUHVzaFBvcnRhbENoaWxkID0gKGNoaWxkOiBoLkpTWC5FbGVtZW50KSA9PiBudW1iZXI7XG5leHBvcnQgdHlwZSBVcGRhdGVQb3J0YWxDaGlsZCA9IChpbmRleDogbnVtYmVyLCBjaGlsZDogaC5KU1guRWxlbWVudCkgPT4gdm9pZDtcbmV4cG9ydCB0eXBlIFJlbW92ZVBvcnRhbENoaWxkID0gKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG5cblxuLyoqXG4gKiBJbXBsZW1lbnRhdGlvblxuICovXG5mdW5jdGlvbiBQb3J0YWxDaGlsZHJlbih7IHNldFB1c2hDaGlsZCwgc2V0VXBkYXRlQ2hpbGQsIHNldFJlbW92ZUNoaWxkIH06IHsgc2V0UHVzaENoaWxkOiBTdGF0ZVVwZGF0ZXI8UHVzaFBvcnRhbENoaWxkIHwgbnVsbD4sIHNldFVwZGF0ZUNoaWxkOiBTdGF0ZVVwZGF0ZXI8VXBkYXRlUG9ydGFsQ2hpbGQgfCBudWxsPiwgc2V0UmVtb3ZlQ2hpbGQ6IFN0YXRlVXBkYXRlcjxSZW1vdmVQb3J0YWxDaGlsZCB8IG51bGw+IH0pIHtcbiAgICBjb25zdCBbY2hpbGRyZW4sIHNldENoaWxkcmVuLCBnZXRDaGlsZHJlbl0gPSB1c2VTdGF0ZTxoLkpTWC5FbGVtZW50W10+KFtdKTtcbiAgICBjb25zdCBwdXNoQ2hpbGQ6IFB1c2hQb3J0YWxDaGlsZCB8IG51bGwgPSB1c2VDYWxsYmFjaygoY2hpbGQ6IGguSlNYLkVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgcmFuZG9tS2V5ID0gZ2VuZXJhdGVSYW5kb21JZCgpO1xuICAgICAgICBsZXQgaW5kZXggPSBnZXRDaGlsZHJlbigpLmxlbmd0aDtcbiAgICAgICAgc2V0Q2hpbGRyZW4ocHJldiA9PiAoWy4uLnByZXYsIGNsb25lRWxlbWVudChjaGlsZCwgeyBrZXk6IHJhbmRvbUtleSwgaW5kZXggfSldKSk7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LCBbXSk7XG5cbiAgICBjb25zdCB1cGRhdGVDaGlsZDogVXBkYXRlUG9ydGFsQ2hpbGQgfCBudWxsID0gdXNlQ2FsbGJhY2soKGluZGV4OiBudW1iZXIsIGNoaWxkOiBoLkpTWC5FbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldENoaWxkcmVuKClbaW5kZXhdPy5rZXk7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGtleSk7XG4gICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgIHNldENoaWxkcmVuKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBuZXdDaGlsZHJlbiA9IHByZXYuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICBuZXdDaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEsIGNsb25lRWxlbWVudChjaGlsZCwgeyBrZXk6IGtleSBhcyBzdHJpbmcsIGluZGV4IH0pKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3Q2hpbGRyZW47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IHJlbW92ZUNoaWxkOiBSZW1vdmVQb3J0YWxDaGlsZCB8IG51bGwgPSB1c2VDYWxsYmFjaygoaW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSBnZXRDaGlsZHJlbigpW2luZGV4XT8ua2V5O1xuICAgICAgICBjb25zb2xlLmFzc2VydChrZXkpO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBzZXRDaGlsZHJlbihwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbmV3Q2hpbGRyZW4gPSBwcmV2LnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgbmV3Q2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3Q2hpbGRyZW47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7IHNldFB1c2hDaGlsZChfID0+IHB1c2hDaGlsZCk7IH0sIFtwdXNoQ2hpbGRdKTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4geyBzZXRVcGRhdGVDaGlsZChfID0+IHVwZGF0ZUNoaWxkKTsgfSwgW3VwZGF0ZUNoaWxkXSk7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHsgc2V0UmVtb3ZlQ2hpbGQoXyA9PiByZW1vdmVDaGlsZCk7IH0sIFtyZW1vdmVDaGlsZF0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD57Y2hpbGRyZW59PC8+XG4gICAgKTtcbn1cbiIsImltcG9ydCB7IFN0YXRlVXBkYXRlciwgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgdXNlR2xvYmFsSGFuZGxlciB9IGZyb20gXCIuLi9kb20taGVscGVycy91c2UtZXZlbnQtaGFuZGxlclwiO1xuaW1wb3J0IHsgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwiLi91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVHZXR0ZXIgfSBmcm9tIFwiLi91c2Utc3RhYmxlLWdldHRlclwiO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwiLi91c2Utc3RhdGVcIjtcblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWludGVyZmFjZSAqL1xuLyoqXG4gKiBBbGwgdHlwZXMgYWxsb3dlZCBieSBgdXNlUGVyc2lzdGVudFN0YXRlYC5cbiAqIFxuICogVXNlIG1vZHVsZSBhdWdtZW50YXRpb24gdG8gYWRkIG5ldyBwcm9wZXJ0aWVzIHRvIHRoaXMgb2JqZWN0IHRoYXQgYHVzZVBlcnNpc3RlbnRTdGF0ZWAgd2lsbCBjb3JyZWN0bHkgdW5kZXJzdGFuZDpcbiAqIFxuICogYGBgYFxuICogZGVjbGFyZSBtb2R1bGUgJ3ByZWFjdC1wcm9wLWhlbHBlcnMnIHtcbiAqICAgICBpbnRlcmZhY2UgUGVyc2lzdGVudFN0YXRlcyB7XG4gKiAgICAgICAgIG51bWJlclN0YXRlOiBudW1iZXI7XG4gKiAgICAgICAgIHN0cmluZ1N0YXRlOiBzdHJpbmc7XG4gKiAgICAgfVxuICogfVxuICogYGBgYFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBlcnNpc3RlbnRTdGF0ZXMgeyB9XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGcm9tTG9jYWxTdG9yYWdlPEtleSBleHRlbmRzIChrZXlvZiBQZXJzaXN0ZW50U3RhdGVzKSAmIHN0cmluZz4oa2V5OiBLZXksIGNvbnZlcnRlcjogKChpbnB1dDogc3RyaW5nKSA9PiBQZXJzaXN0ZW50U3RhdGVzW0tleV0pID0gSlNPTi5wYXJzZSwgc3RvcmFnZTogU3RvcmFnZSA9IGxvY2FsU3RvcmFnZSk6IFBlcnNpc3RlbnRTdGF0ZXNbS2V5XSB8IG51bGwge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBzdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgICAgaWYgKGl0ZW0gPT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gY29udmVydGVyKGl0ZW0pO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1kZWJ1Z2dlciAqL1xuICAgICAgICBkZWJ1Z2dlcjtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3RvcmVUb0xvY2FsU3RvcmFnZTxLZXkgZXh0ZW5kcyAoa2V5b2YgUGVyc2lzdGVudFN0YXRlcykgJiBzdHJpbmc+KGtleTogS2V5LCB2YWx1ZTogUGVyc2lzdGVudFN0YXRlc1tLZXldLCBjb252ZXJ0ZXI6ICgoaW5wdXQ6IFBlcnNpc3RlbnRTdGF0ZXNbS2V5XSkgPT4gc3RyaW5nKSA9IEpTT04uc3RyaW5naWZ5LCBzdG9yYWdlOiBTdG9yYWdlID0gbG9jYWxTdG9yYWdlKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgICAgICBzdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3RvcmFnZS5zZXRJdGVtKGtleSwgY29udmVydGVyKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWRlYnVnZ2VyICovXG4gICAgICAgIGRlYnVnZ2VyO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVc2UgbW9kdWxlIGF1Z21lbnRhdGlvbiB0byBnZXQgdGhlIGNvcnJlY3QgdHlwZXMgZm9yIHRoaXMgZnVuY3Rpb24uXG4gKiBcbiAqIGBgYGBcbiAqIGRlY2xhcmUgbW9kdWxlICdwcmVhY3QtcHJvcC1oZWxwZXJzJyB7XG4gKiAgICAgaW50ZXJmYWNlIFBlcnNpc3RlbnRTdGF0ZXMge1xuICogICAgICAgICBudW1iZXJTdGF0ZTogbnVtYmVyO1xuICogICAgICAgICBzdHJpbmdTdGF0ZTogc3RyaW5nO1xuICogICAgIH1cbiAqIH1cbiAqIGBgYGBcbiAqIEBwYXJhbSBrZXkgXG4gKiBAcGFyYW0gaW5pdGlhbFZhbHVlIFxuICogQHBhcmFtIGZyb21TdHJpbmcgXG4gKiBAcGFyYW0gdG9TdHJpbmcgXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBlcnNpc3RlbnRTdGF0ZTxLZXkgZXh0ZW5kcyBrZXlvZiBQZXJzaXN0ZW50U3RhdGVzLCBUID0gUGVyc2lzdGVudFN0YXRlc1tLZXldPihrZXk6IEtleSB8IG51bGwsIGluaXRpYWxWYWx1ZTogVCwgZnJvbVN0cmluZzogKCh2YWx1ZTogc3RyaW5nKSA9PiBUKSA9IEpTT04ucGFyc2UsIHRvU3RyaW5nOiAoKHZhbHVlOiBUKSA9PiBzdHJpbmcpID0gSlNPTi5zdHJpbmdpZnksIHN0b3JhZ2U6IFN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UpOiBbVCwgU3RhdGVVcGRhdGVyPFQ+LCAoKSA9PiBUXSB7XG4gICAgY29uc3QgW2xvY2FsQ29weSwgc2V0TG9jYWxDb3B5LCBnZXRMb2NhbENvcHldID0gdXNlU3RhdGU8VD4oKCkgPT4gKChrZXkgPyAoZ2V0RnJvbUxvY2FsU3RvcmFnZShrZXksIGZyb21TdHJpbmcgYXMgYW55LCBzdG9yYWdlKSkgOiBudWxsKSA/PyBpbml0aWFsVmFsdWUpKTtcbiAgICBjb25zdCBnZXRJbml0aWFsVmFsdWUgPSB1c2VTdGFibGVHZXR0ZXIoaW5pdGlhbFZhbHVlKTtcblxuICAgIC8vIEVuc3VyZSB0aGF0IGlmIG91ciBrZXkgY2hhbmdlcywgd2UgYWxzbyB1cGRhdGUgYGxvY2FsQ29weWAgdG8gbWF0Y2guXG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgY29uc3QgbmV3Q29weSA9IGdldEZyb21Mb2NhbFN0b3JhZ2Uoa2V5LCBmcm9tU3RyaW5nIGFzIGFueSwgc3RvcmFnZSk7XG4gICAgICAgICAgICBzZXRMb2NhbENvcHkobmV3Q29weSA/PyBnZXRJbml0aWFsVmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICB9LCBba2V5LCBzdG9yYWdlXSlcblxuICAgIC8vIExpc3RlbiBmb3IgY2hhbmdlcyB0byB0aGlzIHN0b3JhZ2UgaW4gb3RoZXIgYnJvd3NlciB0YWJzXG4gICAgdXNlR2xvYmFsSGFuZGxlcih3aW5kb3csIFwic3RvcmFnZVwiLCB1c2VTdGFibGVDYWxsYmFjaygoZTogU3RvcmFnZUV2ZW50KSA9PiB7XG5cbiAgICAgICAgaWYgKGtleSAmJiBlLmtleSA9PT0ga2V5ICYmIGUuc3RvcmFnZUFyZWEgPT0gc3RvcmFnZSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBlLm5ld1ZhbHVlO1xuXG4gICAgICAgICAgICBpZiAobmV3VmFsdWUgIT0gbnVsbClcbiAgICAgICAgICAgICAgICBzZXRMb2NhbENvcHkoZnJvbVN0cmluZyhuZXdWYWx1ZSkpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNldExvY2FsQ29weShpbml0aWFsVmFsdWUpO1xuICAgICAgICB9XG4gICAgfSkpO1xuXG4gICAgY29uc3Qgc2V0VmFsdWVXcmFwcGVyID0gdXNlU3RhYmxlQ2FsbGJhY2s8dHlwZW9mIHNldExvY2FsQ29weT4oKHZhbHVlT3JTZXR0ZXIpID0+IHtcblxuICAgICAgICBjb25zdCB2YWx1ZTogUGVyc2lzdGVudFN0YXRlc1tLZXldID0gdHlwZW9mIHZhbHVlT3JTZXR0ZXIgPT09IFwiZnVuY3Rpb25cIiA/ICh2YWx1ZU9yU2V0dGVyIGFzIEZ1bmN0aW9uKShnZXRMb2NhbENvcHkoKSkgOiB2YWx1ZU9yU2V0dGVyO1xuXG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIHVwZGF0ZSBpcyBhdmFpbGFibGUgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBuZXh0IHJlbmRlclxuICAgICAgICBzZXRMb2NhbENvcHkodmFsdWVPclNldHRlcik7XG5cbiAgICAgICAgLy8gQWN0dWFsbHkgc2F2ZSB0aGUgdmFsdWUgdG8gbG9jYWwgc3RvcmFnZS5cbiAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgc3RvcmVUb0xvY2FsU3RvcmFnZShrZXksIHZhbHVlIGFzIFBlcnNpc3RlbnRTdGF0ZXNbS2V5XSwgdG9TdHJpbmcsIHN0b3JhZ2UpO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCIgJiYgKHZhbHVlIGFzIG9iamVjdCkgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoZnJvbVN0cmluZyAhPSBKU09OLnBhcnNlLCBcIkRhdGVzIChhbmQgb3RoZXIgbm9uLUpTT04gdHlwZXMpIG11c3QgYmUgZ2l2ZW4gY3VzdG9tIGZyb21TdHJpbmcgYW5kIHRvU3RyaW5nIGZ1bmN0aW9ucy5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IGdldFZhbHVlID0gdXNlU3RhYmxlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCB0cnVlVmFsdWUgPSAha2V5ID8gdW5kZWZpbmVkIDogZ2V0RnJvbUxvY2FsU3RvcmFnZShrZXksIGZyb21TdHJpbmcgYXMgYW55LCBzdG9yYWdlKTtcbiAgICAgICAgcmV0dXJuIHRydWVWYWx1ZSA/PyBsb2NhbENvcHk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gW2xvY2FsQ29weSwgc2V0VmFsdWVXcmFwcGVyLCBnZXRWYWx1ZV07XG5cbn1cbiIsImltcG9ydCBub29wIGZyb20gXCJsb2Rhc2gtZXMvbm9vcFwiO1xuaW1wb3J0IHsgQ29tcG9uZW50Q2hpbGRyZW4sIGNyZWF0ZUNvbnRleHQgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCIuLi9wcmVhY3QtZXh0ZW5zaW9ucy91c2Utc3RhYmxlLWNhbGxiYWNrXCI7XG5cbnR5cGUgUmFmQ2FsbGJhY2tUeXBlID0gKG1zU2luY2VMYXN0OiBudW1iZXIsIHRhZz86IGFueSkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIENvbnRleHRUeXBlIHtcbiAgICBhZGRDYWxsYmFjazogKGNhbGxiYWNrOiBSYWZDYWxsYmFja1R5cGUsIHRhZz86IGFueSkgPT4gdm9pZDtcbiAgICByZW1vdmVDYWxsYmFjazogKGNhbGxiYWNrOiBSYWZDYWxsYmFja1R5cGUpID0+IHZvaWQ7XG59XG5cbmNvbnN0IFNoYXJlZEFuaW1hdGlvbkZyYW1lQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8bnVsbCB8IENvbnRleHRUeXBlPihudWxsKTtcblxuZXhwb3J0IGZ1bmN0aW9uIFByb3ZpZGVCYXRjaGVkQW5pbWF0aW9uRnJhbWVzKHsgY2hpbGRyZW4gfTogeyBjaGlsZHJlbjogQ29tcG9uZW50Q2hpbGRyZW4gfSkge1xuXG4gICAgY29uc3QgYWRkQ2FsbGJhY2sgPSB1c2VDYWxsYmFjazxDb250ZXh0VHlwZVtcImFkZENhbGxiYWNrXCJdPigoY2FsbGJhY2tUb0JlQmF0Y2hlZCwgdGFnKSA9PiB7IGFsbENhbGxiYWNrcy5jdXJyZW50LnNldChjYWxsYmFja1RvQmVCYXRjaGVkLCB0YWcpOyB9LCBbXSk7XG4gICAgY29uc3QgcmVtb3ZlQ2FsbGJhY2sgPSB1c2VDYWxsYmFjazxDb250ZXh0VHlwZVtcInJlbW92ZUNhbGxiYWNrXCJdPigoY2FsbGJhY2spID0+IHsgYWxsQ2FsbGJhY2tzLmN1cnJlbnQuZGVsZXRlKGNhbGxiYWNrKTsgfSwgW10pO1xuXG4gICAgY29uc3QgY29udGV4dEluZm8gPSB1c2VSZWY8Q29udGV4dFR5cGU+KG51bGwhKTtcbiAgICBpZiAoY29udGV4dEluZm8uY3VycmVudCA9PSBudWxsKVxuICAgICAgICBjb250ZXh0SW5mby5jdXJyZW50ID0geyBhZGRDYWxsYmFjaywgcmVtb3ZlQ2FsbGJhY2sgfTtcbiAgICBjb25zdCBhbGxDYWxsYmFja3MgPSB1c2VSZWY8TWFwPFJhZkNhbGxiYWNrVHlwZSwgYW55Pj4obnVsbCEpO1xuICAgIGlmIChhbGxDYWxsYmFja3MuY3VycmVudCA9PSBudWxsKVxuICAgICAgICBhbGxDYWxsYmFja3MuY3VycmVudCA9IG5ldyBNYXAoKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxldCBoYW5kbGUgPSAtMTtcblxuICAgICAgICBmdW5jdGlvbiByYWZXaXRoQmF0Y2hlZENhbGxiYWNrcyhtc1NpbmNlTGFzdDogbnVtYmVyKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtiYXRjaGVkUmFmQ2FsbGJhY2ssIHRhZ10gb2YgYWxsQ2FsbGJhY2tzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBiYXRjaGVkUmFmQ2FsbGJhY2sobXNTaW5jZUxhc3QsIHRhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmFmV2l0aEJhdGNoZWRDYWxsYmFja3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJhZldpdGhCYXRjaGVkQ2FsbGJhY2tzKTtcblxuICAgICAgICByZXR1cm4gKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUoaGFuZGxlKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8U2hhcmVkQW5pbWF0aW9uRnJhbWVDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0SW5mby5jdXJyZW50fT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9TaGFyZWRBbmltYXRpb25GcmFtZUNvbnRleHQuUHJvdmlkZXI+KVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUFuaW1hdGlvbkZyYW1lUGFyYW1ldGVycyB7XG4gICAgLyoqXG4gICAgICogQ2FsbGJhY2sgd2l0aCBlZmZlY3RpdmVseSB0aGUgc2FtZSBydWxlcyBhcyBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYFxuICAgICAqIFxuICAgICAqIERvZXNuJ3QgbmVlZCB0byBiZSBzdGFibGUuXG4gICAgICovXG4gICAgY2FsbGJhY2s6IG51bGwgfCAoKG1zU2luY2VMYXN0OiBudW1iZXIpID0+IHZvaWQpO1xufVxuXG4vKipcbiAqIFRoZSAob3B0aW9uYWxseSBub24tc3RhYmxlKSBgY2FsbGJhY2tgIHlvdSBwcm92aWRlIHdpbGwgc3RhcnQgcnVubmluZyBldmVyeSBmcmFtZSBhZnRlciB0aGUgY29tcG9uZW50IG1vdW50cy5cbiAqIFxuICogUGFzc2luZyBgbnVsbGAgaXMgZmluZSBhbmQgc2ltcGx5IHN0b3BzIHRoZSBlZmZlY3QgdW50aWwgeW91IHJlc3RhcnQgaXQgYnkgcHJvdmlkaW5nIGEgbm9uLW51bGwgY2FsbGJhY2suXG4gKiBcbiAqICoqVGhpcyBob29rIGRvZXMgbm90IHJldHVybiBhbnl0aGluZyBhdCBhbGwsIGluY2x1ZGluZyBubyBwcm9wLW1vZGlmeWluZyBob29rcyoqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VBbmltYXRpb25GcmFtZSh7IGNhbGxiYWNrIH06IFVzZUFuaW1hdGlvbkZyYW1lUGFyYW1ldGVycyk6IHZvaWQge1xuICAgIC8vIEdldCBhIHdyYXBwZXIgYXJvdW5kIHRoZSBnaXZlbiBjYWxsYmFjayB0aGF0J3Mgc3RhYmxlXG4gICAgY29uc3Qgc3RhYmxlQ2FsbGJhY2sgPSB1c2VTdGFibGVDYWxsYmFjayhjYWxsYmFjayA/PyBub29wKTtcbiAgICBjb25zdCBoYXNDYWxsYmFjayA9IChjYWxsYmFjayAhPSBudWxsKTtcblxuICAgIGNvbnN0IHNoYXJlZEFuaW1hdGlvbkZyYW1lQ29udGV4dCA9IHVzZUNvbnRleHQoU2hhcmVkQW5pbWF0aW9uRnJhbWVDb250ZXh0KTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChzaGFyZWRBbmltYXRpb25GcmFtZUNvbnRleHQpIHtcbiAgICAgICAgICAgIGlmIChoYXNDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHNoYXJlZEFuaW1hdGlvbkZyYW1lQ29udGV4dC5hZGRDYWxsYmFjayhzdGFibGVDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaGFyZWRBbmltYXRpb25GcmFtZUNvbnRleHQucmVtb3ZlQ2FsbGJhY2soc3RhYmxlQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgLy8gR2V0IGEgd3JhcHBlciBhcm91bmQgdGhlIHdyYXBwZXIgYXJvdW5kIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIC8vIHRoYXQgYWxzbyBjYWxscyBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBhZ2Fpbi5cbiAgICAgICAgICAgICAgICBjb25zdCByYWZDYWxsYmFjayA9IChtczogbnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWZDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHN0YWJsZUNhbGxiYWNrKG1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IGhhbmRsZSA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShyYWZDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IGNhbmNlbEFuaW1hdGlvbkZyYW1lKGhhbmRsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBbc2hhcmVkQW5pbWF0aW9uRnJhbWVDb250ZXh0LCBoYXNDYWxsYmFja10pXG59XG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVyZ2VkUHJvcHMsIHVzZVByZXNzLCBVc2VQcmVzc1BhcmFtZXRlcnMsIFVzZVByZXNzUmV0dXJuVHlwZSwgdXNlUmVmRWxlbWVudCwgVXNlUmVmRWxlbWVudFBhcmFtZXRlcnMsIFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgZGVidWdMb2csIERpc2FibGVkVHlwZSwgRWxlbWVudFRvVGFnLCBFbmhhbmNlZEV2ZW50LCBlbmhhbmNlRXZlbnQsIE9taXRTdHJvbmcgfSBmcm9tIFwiLi9wcm9wc1wiO1xuXG5cbmV4cG9ydCB0eXBlIEJ1dHRvblByZXNzRXZlbnQ8RSBleHRlbmRzIEV2ZW50VGFyZ2V0PiA9IEVuaGFuY2VkRXZlbnQ8RSwgRXZlbnQgfCBFdmVudCwgeyBwcmVzc2VkOiBib29sZWFuIHwgbnVsbCB9PjtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VCdXR0b25QYXJhbWV0ZXJzPEUgZXh0ZW5kcyBOb2RlPiBleHRlbmRzIFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPEU+IHtcbiAgICBidXR0b25QYXJhbWV0ZXJzOiB7XG4gICAgICAgIHRhZ0J1dHRvbjogRWxlbWVudFRvVGFnPEU+O1xuICAgICAgICBkaXNhYmxlZDogRGlzYWJsZWRUeXBlO1xuICAgICAgICBwcmVzc2VkOiBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZDtcbiAgICAgICAgb25QcmVzczogbnVsbCB8ICgoZXZlbnQ6IEJ1dHRvblByZXNzRXZlbnQ8RT4pID0+IHZvaWQpO1xuICAgICAgICByb2xlOiBzdHJpbmc7XG4gICAgfVxuICAgIHByZXNzUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VQcmVzc1BhcmFtZXRlcnM8RT5bXCJwcmVzc1BhcmFtZXRlcnNcIl0sIFwib25QcmVzc1N5bmNcIiB8IFwiZm9jdXNTZWxmXCI+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQnV0dG9uUmV0dXJuVHlwZTxFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VQcmVzc1JldHVyblR5cGU8RT4sIFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPEU+IHtcbiAgICBwcm9wczogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT47XG59XG5cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQnV0dG9uPEUgZXh0ZW5kcyBFbGVtZW50Pih7IGJ1dHRvblBhcmFtZXRlcnM6IHsgdGFnQnV0dG9uLCBkaXNhYmxlZCwgb25QcmVzcywgcHJlc3NlZCwgcm9sZSB9LCBwcmVzc1BhcmFtZXRlcnMsIHJlZkVsZW1lbnRQYXJhbWV0ZXJzIH06IFVzZUJ1dHRvblBhcmFtZXRlcnM8RT4pOiBVc2VCdXR0b25SZXR1cm5UeXBlPEU+IHtcbiAgICBkZWJ1Z0xvZyhcInVzZUJ1dHRvblwiKTtcblxuICAgIGNvbnN0IHJlZkVsZW1lbnRSZXR1cm4gPSB1c2VSZWZFbGVtZW50PEU+KHsgcmVmRWxlbWVudFBhcmFtZXRlcnMgfSk7XG4gICAgY29uc3QgZm9jdXNTZWxmID0gdXNlQ2FsbGJhY2soKGU6IGFueSkgPT4gKGUgYXMgRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZm9jdXM/LigpLCBbXSlcbiAgICBjb25zdCBwcmVzc1JldHVybiA9IHVzZVByZXNzPEU+KHtcbiAgICAgICAgLi4ucmVmRWxlbWVudFJldHVybixcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvblByZXNzU3luYzogKGUpID0+IChkaXNhYmxlZCA/IG51bGwgOiBvblByZXNzKT8uKGVuaGFuY2VFdmVudChlLCB7IHByZXNzZWQ6IHByZXNzZWQgPT0gbnVsbCA/IG51bGwgOiAhcHJlc3NlZCB9KSksXG4gICAgICAgICAgICBmb2N1c1NlbGYsXG4gICAgICAgICAgICAuLi5wcmVzc1BhcmFtZXRlcnNcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgcHJlc3NSZXR1cm46IHsgcHJvcHNVbnN0YWJsZTogcHJlc3NQcm9wcyB9IH0gPSBwcmVzc1JldHVybjtcbiAgICBjb25zdCB7IHJlZkVsZW1lbnRSZXR1cm46IHsgcHJvcHNTdGFibGU6IHJlZlByb3BzIH0gfSA9IHJlZkVsZW1lbnRSZXR1cm47XG5cbiAgICBjb25zdCBiYXNlUHJvcHMgPSB7IFwiYXJpYS1wcmVzc2VkXCI6IChwcmVzc2VkID09PSB0cnVlID8gXCJ0cnVlXCIgOiBwcmVzc2VkID09PSBmYWxzZSA/IFwiZmFsc2VcIiA6IHVuZGVmaW5lZCkgfTtcbiAgICBjb25zdCBidXR0b25Qcm9wcyA9IHsgLi4uYmFzZVByb3BzLCBkaXNhYmxlZDogKGRpc2FibGVkICYmIGRpc2FibGVkICE9IFwic29mdFwiKSA/IHRydWUgOiBmYWxzZSwgXCJhcmlhLWRpc2FibGVkXCI6IChkaXNhYmxlZCA9PT0gJ3NvZnQnID8gJ3RydWUnIDogdW5kZWZpbmVkKSwgcm9sZTogcm9sZSA9PSBcImJ1dHRvblwiID8gdW5kZWZpbmVkIDogcm9sZSB9O1xuICAgIGNvbnN0IGRpdlByb3BzID0geyAuLi5iYXNlUHJvcHMsIHRhYkluZGV4OiAoZGlzYWJsZWQgPT09IFwiaGFyZFwiID8gLTEgOiAwKSwgcm9sZSwgXCJhcmlhLWRpc2FibGVkXCI6IGRpc2FibGVkID8gXCJ0cnVlXCIgOiB1bmRlZmluZWQgfTtcblxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4ucmVmRWxlbWVudFJldHVybixcbiAgICAgICAgLi4ucHJlc3NSZXR1cm4sXG4gICAgICAgIHByb3BzOiB1c2VNZXJnZWRQcm9wczxFPihwcmVzc1Byb3BzLCByZWZQcm9wcywgKHRhZ0J1dHRvbiA9PSAnYnV0dG9uJyA/IGJ1dHRvblByb3BzIDogZGl2UHJvcHMpKSxcbiAgICB9XG59XG5cblxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IE1hbmFnZWRDaGlsZEluZm8sIE9uQ2hpbGRyZW5Nb3VudENoYW5nZSwgUGFzc2l2ZVN0YXRlVXBkYXRlciwgUGVyc2lzdGVudFN0YXRlcywgdXNlQ2hpbGRyZW5GbGFnLCB1c2VMaW5lYXJOYXZpZ2F0aW9uLCBVc2VMaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycywgdXNlTWFuYWdlZENoaWxkLCBVc2VNYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLCB1c2VNYW5hZ2VkQ2hpbGRyZW4sIFVzZU1hbmFnZWRDaGlsZHJlbkNvbnRleHQsIFVzZU1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnMsIFVzZU1hbmFnZWRDaGlsZHJlblJldHVyblR5cGUsIHVzZU1lcmdlZFByb3BzLCB1c2VQZXJzaXN0ZW50U3RhdGUsIFVzZVByZXNzUmV0dXJuVHlwZSwgdXNlUmFuZG9tSWQsIHVzZVJlZkVsZW1lbnQsIFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzLCBVc2VSZWZFbGVtZW50UmV0dXJuVHlwZSwgVXNlUm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsIHVzZVN0YWJsZUNhbGxiYWNrLCB1c2VTdGFibGVHZXR0ZXIsIHVzZVN0YWJsZU9iamVjdCwgdXNlU3RhdGUsIFVzZVRleHRDb250ZW50UmV0dXJuVHlwZSwgdXNlVHlwZWFoZWFkTmF2aWdhdGlvbiwgdXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkLCBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzLCBVc2VUeXBlYWhlYWROYXZpZ2F0aW9uQ29udGV4dCwgVXNlVHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMgfSBmcm9tIFwicHJlYWN0LXByb3AtaGVscGVyc1wiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBkZWJ1Z0xvZywgRGlzYWJsZWRUeXBlLCBPbWl0U3Ryb25nLCBQcmVmaWNlcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyBCdXR0b25QcmVzc0V2ZW50LCB1c2VCdXR0b24sIFVzZUJ1dHRvblBhcmFtZXRlcnMsIFVzZUJ1dHRvblJldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtYnV0dG9uXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQWNjb3JkaW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZUFjY29yZGlvblNlY3Rpb25JbmZvPiBleHRlbmRzXG4gICAgVXNlTWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyczxNPixcbiAgICBQaWNrPFVzZVR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzPEhlYWRlckJ1dHRvbkVsZW1lbnQ+LCBcInR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+IHtcbiAgICBhY2NvcmRpb25QYXJhbWV0ZXJzOiB7IGluaXRpYWxJbmRleD86IG51bWJlciB8IG51bGw7IGxvY2FsU3RvcmFnZUtleToga2V5b2YgUGVyc2lzdGVudFN0YXRlcyB8IG51bGw7IH1cbiAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VMaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBIZWFkZXJCdXR0b25FbGVtZW50PltcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCJdLCBcImdldEhpZ2hlc3RJbmRleFwiIHwgXCJpc1ZhbGlkXCIgfCBcImluZGV4RGVtYW5nbGVyXCIgfCBcImluZGV4TWFuZ2xlclwiPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VBY2NvcmRpb25SZXR1cm5UeXBlPEhlYWRlckJ1dHRvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlQWNjb3JkaW9uU2VjdGlvbkluZm8+IGV4dGVuZHMgVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZTxNPiB7XG4gICAgLyoqICoqU1RBQkxFKiogKi9cbiAgICBhY2NvcmRpb25SZXR1cm46IHsgY2hhbmdlRXhwYW5kZWRJbmRleDogUGFzc2l2ZVN0YXRlVXBkYXRlcjxudW1iZXIgfCBudWxsLCBFdmVudD4gfVxuICAgIGNvbnRleHQ6IFVzZUFjY29yZGlvbkNvbnRleHQ8SGVhZGVyQnV0dG9uRWxlbWVudCwgTT47XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbyBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPiB7XG4gICAgc2V0T3BlbkZyb21QYXJlbnQob3BlbjogYm9vbGVhbik6IHZvaWQ7XG4gICAgZ2V0T3BlbkZyb21QYXJlbnQoKTogYm9vbGVhbiB8IG51bGw7XG4gICAgc2V0TW9zdFJlY2VudGx5VGFiYmVkKHRhYmJlZDogYm9vbGVhbik6IHZvaWQ7XG4gICAgZ2V0TW9zdFJlY2VudGx5VGFiYmVkKCk6IGJvb2xlYW4gfCBudWxsO1xuICAgIGZvY3VzU2VsZigpOiB2b2lkO1xuICAgIGRpc2FibGVkOiBEaXNhYmxlZFR5cGU7XG4gICAgaGlkZGVuOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUFjY29yZGlvblNlY3Rpb25QYXJhbWV0ZXJzPEhlYWRlckJ1dHRvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlQWNjb3JkaW9uU2VjdGlvbkluZm8+IGV4dGVuZHNcbiAgICBPbWl0U3Ryb25nPFVzZVR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8SGVhZGVyQnV0dG9uRWxlbWVudD4sIFwicmVmRWxlbWVudFJldHVyblwiIHwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRDb250ZXh0XCI+LFxuICAgIFVzZVJlZkVsZW1lbnRQYXJhbWV0ZXJzPEhlYWRlckJ1dHRvbkVsZW1lbnQ+IHtcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8TT5bXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCJdLCBuZXZlcj47XG4gICAgY29udGV4dDogVXNlQWNjb3JkaW9uQ29udGV4dDxIZWFkZXJCdXR0b25FbGVtZW50LCBNPjtcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogUGljazxVc2VSb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczxhbnk+W1wicm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnNcIl0sIFwiaGlkZGVuXCI+O1xuICAgIGFjY29yZGlvblNlY3Rpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgIC8qKiBcbiAgICAgICAgICogSWYgdGhpcyBwcm9wIGlzIGB0cnVlYCBvciBgZmFsc2VgIGlzbid0IG51bGwsIHRoZW4gdGhpcyBzZWN0aW9uXG4gICAgICAgICAqIHdpbGwgYmUgb3Blbi9jbG9zZWQgcmVnYXJkbGVzcyBvZiB3aGF0IHRoZSBwYXJlbnQncyBzaW5ndWxhciBvcGVuIGluZGV4IGlzLlxuICAgICAgICAgKiBcbiAgICAgICAgICogSW4gb3RoZXIgd29yZHMsIGxlYXZlIG51bGwgdG8gb25seSBhbGxvdyBvbmUgc2VjdGlvbiB0byBiZSBvcGVuIGF0IGEgdGltZS5cbiAgICAgICAgICogVG8gYWxsb3cgbXVsdGlwbGUgc2VjdGlvbnMgdG8gYmUgb3BlbiBhdCBvbmNlLCBcbiAgICAgICAgICogc2V0IHRoZSBwYXJlbnQncyBpbmRleCB0byBudWxsIGFuZCB0b2dnbGUgdGhpcyBgdHJ1ZWAvYGZhbHNlYCB3aGVuIHRoZSBidXR0b24ncyBwcmVzc2VkXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAgICAgICAvKiogR2VuZXJhbGx5IGBcInJlZ2lvblwiYCAqL1xuICAgICAgICBib2R5Um9sZTogc3RyaW5nO1xuICAgIH1cbiAgICBidXR0b25QYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUJ1dHRvblBhcmFtZXRlcnM8SGVhZGVyQnV0dG9uRWxlbWVudD5bXCJidXR0b25QYXJhbWV0ZXJzXCJdLCBcInByZXNzZWRcIiB8IFwicm9sZVwiPjtcbiAgICBwcmVzc1BhcmFtZXRlcnM6IFVzZUJ1dHRvblBhcmFtZXRlcnM8SGVhZGVyQnV0dG9uRWxlbWVudD5bXCJwcmVzc1BhcmFtZXRlcnNcIl07XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VBY2NvcmRpb25TZWN0aW9uUmV0dXJuVHlwZTxIZWFkZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgSGVhZGVyQnV0dG9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIEJvZHlFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kc1xuICAgIFVzZVByZXNzUmV0dXJuVHlwZTxIZWFkZXJCdXR0b25FbGVtZW50PixcbiAgICBVc2VSZWZFbGVtZW50UmV0dXJuVHlwZTxIZWFkZXJCdXR0b25FbGVtZW50PixcbiAgICBVc2VUZXh0Q29udGVudFJldHVyblR5cGUge1xuICAgIGFjY29yZGlvblNlY3Rpb25SZXR1cm46IHtcbiAgICAgICAgZXhwYW5kZWQ6IGJvb2xlYW47XG4gICAgICAgIGZvY3VzZWQ6IGJvb2xlYW47XG4gICAgICAgIG1vc3RSZWNlbnRseVRhYmJlZDogYm9vbGVhbjtcbiAgICB9XG5cbiAgICBwcm9wc0hlYWRlckJ1dHRvbjogaC5KU1guSFRNTEF0dHJpYnV0ZXM8SGVhZGVyQnV0dG9uRWxlbWVudD47XG4gICAgcHJvcHNIZWFkZXI6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEhlYWRlckVsZW1lbnQ+O1xuICAgIHByb3BzQm9keTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8Qm9keUVsZW1lbnQ+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQWNjb3JkaW9uQ29udGV4dDxIZWFkZXJCdXR0b25FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZUFjY29yZGlvblNlY3Rpb25JbmZvPiBleHRlbmRzIFVzZU1hbmFnZWRDaGlsZHJlbkNvbnRleHQ8TT4sIFVzZVR5cGVhaGVhZE5hdmlnYXRpb25Db250ZXh0IHtcbiAgICBhY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICBjaGFuZ2VUYWJiZWRJbmRleDogUGFzc2l2ZVN0YXRlVXBkYXRlcjxudW1iZXIgfCBudWxsLCBFdmVudD47XG4gICAgICAgIGNoYW5nZUV4cGFuZGVkSW5kZXg6IFBhc3NpdmVTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbCwgRXZlbnQ+O1xuICAgICAgICBnZXRFeHBhbmRlZEluZGV4OiAoKSA9PiAobnVtYmVyIHwgbnVsbCk7XG4gICAgICAgIGdldFRhYmJlZEluZGV4OiAoKSA9PiAobnVtYmVyIHwgbnVsbCk7XG4gICAgICAgIHN0YWJsZVR5cGVhaGVhZFByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxIZWFkZXJCdXR0b25FbGVtZW50PjtcbiAgICB9XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IFVzZUxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzPEhlYWRlckJ1dHRvbkVsZW1lbnQsIEhlYWRlckJ1dHRvbkVsZW1lbnQ+W1wibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIl07XG4gICAgcm92aW5nVGFiSW5kZXhSZXR1cm46IFVzZUxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzPEhlYWRlckJ1dHRvbkVsZW1lbnQsIEhlYWRlckJ1dHRvbkVsZW1lbnQ+W1wicm92aW5nVGFiSW5kZXhSZXR1cm5cIl07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VBY2NvcmRpb248SGVhZGVyQnV0dG9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4oe1xuICAgIGFjY29yZGlvblBhcmFtZXRlcnM6IHsgaW5pdGlhbEluZGV4LCBsb2NhbFN0b3JhZ2VLZXkgfSxcbiAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogeyBkaXNhYmxlQXJyb3dLZXlzLCBkaXNhYmxlSG9tZUVuZEtleXMsIG5hdmlnYXRpb25EaXJlY3Rpb24sIG5hdmlnYXRlUGFzdEVuZCwgbmF2aWdhdGVQYXN0U3RhcnQsIHBhZ2VOYXZpZ2F0aW9uU2l6ZSB9LFxuICAgIG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgb25BZnRlckNoaWxkTGF5b3V0RWZmZWN0LCBvbkNoaWxkcmVuTW91bnRDaGFuZ2UgfVxufTogVXNlQWNjb3JkaW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBNPik6IFVzZUFjY29yZGlvblJldHVyblR5cGU8SGVhZGVyQnV0dG9uRWxlbWVudCwgTT4ge1xuICAgIGRlYnVnTG9nKFwidXNlQWNjb3JkaWFuXCIpO1xuXG4gICAgY29uc3QgW2xvY2FsU3RvcmFnZUluZGV4LCBzZXRMb2NhbFN0b3JhZ2VJbmRleF0gPSB1c2VQZXJzaXN0ZW50U3RhdGU8bmV2ZXIsIG51bWJlciB8IG51bGw+KGxvY2FsU3RvcmFnZUtleSA/PyBudWxsLCBpbml0aWFsSW5kZXggPz8gbnVsbCk7XG4gICAgaWYgKGxvY2FsU3RvcmFnZUluZGV4ICE9IG51bGwpXG4gICAgICAgIGluaXRpYWxJbmRleCA9IGxvY2FsU3RvcmFnZUluZGV4O1xuXG4gICAgY29uc3QgeyBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sIGNvbnRleHQgfSA9IHVzZU1hbmFnZWRDaGlsZHJlbjxNPih7XG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG9uQ2hpbGRyZW5Nb3VudENoYW5nZTogdXNlU3RhYmxlQ2FsbGJhY2s8T25DaGlsZHJlbk1vdW50Q2hhbmdlPG51bWJlcj4+KChtLCB1KSA9PiB7IG9jbWMyKCk7IG9uQ2hpbGRyZW5Nb3VudENoYW5nZT8uKG0sIHUpOyB9KSxcbiAgICAgICAgICAgIG9uQWZ0ZXJDaGlsZExheW91dEVmZmVjdFxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgeyBnZXRDaGlsZHJlbiB9ID0gbWFuYWdlZENoaWxkcmVuUmV0dXJuO1xuXG4gICAgY29uc3QgaXNWYWxpZEJ5Q2hpbGQgPSB1c2VDYWxsYmFjaygoYzogTSkgPT4gKGMgJiYgIWMuZGlzYWJsZWQgJiYgIWMuaGlkZGVuKSwgW10pO1xuICAgIGNvbnN0IGlzVmFsaWRCeUluZGV4ID0gdXNlQ2FsbGJhY2soKGM6IG51bWJlcik6IGJvb2xlYW4gPT4ge1xuICAgICAgICBjb25zdCBjaGlsZCA9IGdldENoaWxkcmVuKCkuZ2V0QXQoYyk7XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRCeUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSwgW10pO1xuXG5cbiAgICAvLyBLZWVwIHRyYWNrIG9mIHRoZSBvbmUgZXhwYW5kZWQgaW5kZXggKGlmIHRoZXJlIGlzIG9ubHkgb25lIGV4cGFuZGVkIGluZGV4KVxuICAgIGNvbnN0IHsgY2hhbmdlSW5kZXg6IGNoYW5nZUV4cGFuZGVkSW5kZXhMb2NhbE9ubHksIGdldEN1cnJlbnRJbmRleDogZ2V0Q3VycmVudEV4cGFuZGVkSW5kZXggfSA9IHVzZUNoaWxkcmVuRmxhZzxNLCBFdmVudD4oe1xuICAgICAgICBpbml0aWFsSW5kZXgsXG4gICAgICAgIGdldENoaWxkcmVuLFxuICAgICAgICBnZXRBdDogdXNlQ2FsbGJhY2soKGNoaWxkKSA9PiB7IHJldHVybiBjaGlsZC5nZXRPcGVuRnJvbVBhcmVudCgpID8/IGZhbHNlOyB9LCBbXSksXG4gICAgICAgIHNldEF0OiB1c2VDYWxsYmFjaygoY2hpbGQsIG9wZW4pID0+IHsgcmV0dXJuIGNoaWxkLnNldE9wZW5Gcm9tUGFyZW50KG9wZW4pOyB9LCBbXSksXG4gICAgICAgIGlzVmFsaWQ6IGlzVmFsaWRCeUNoaWxkLFxuICAgICAgICBvbkluZGV4Q2hhbmdlOiBudWxsLFxuICAgICAgICBjbG9zZXN0Rml0OiBmYWxzZVxuICAgIH0pO1xuXG4gICAgLy8gQWxzbyBrZWVwIHRyYWNrIG9mIHdoaWNoIGJ1dHRvbiBpcyBjdXJyZW50bHkgdGFiYmFibGUuXG4gICAgLy8gRm9yIHNvbWUgcmVhc29uLCBBY2NvcmRpb24gYnV0dG9ucyBhcmUgYm90aCBpbmRpdmlkdWFsbHkgdGFiYmFibGUgKmFuZCogYXJyb3cta2V5IG5hdmlnYXRhYmxlLlxuICAgIGNvbnN0IHsgY2hhbmdlSW5kZXg6IGNoYW5nZVRhYmJlZEluZGV4LCBnZXRDdXJyZW50SW5kZXg6IGdldFRhYmJlZEluZGV4LCByZWV2YWx1YXRlQ2xvc2VzdEZpdDogb2NtYzIgfSA9IHVzZUNoaWxkcmVuRmxhZzxNLCBFdmVudD4oe1xuICAgICAgICBpbml0aWFsSW5kZXgsXG4gICAgICAgIGdldENoaWxkcmVuLFxuICAgICAgICBnZXRBdDogdXNlQ2FsbGJhY2soKGNoaWxkKSA9PiB7IHJldHVybiBjaGlsZC5nZXRNb3N0UmVjZW50bHlUYWJiZWQoKSA/PyBmYWxzZTsgfSwgW10pLFxuICAgICAgICBzZXRBdDogdXNlQ2FsbGJhY2soKGNoaWxkLCB0YWJiZWQpID0+IHsgcmV0dXJuIGNoaWxkLnNldE1vc3RSZWNlbnRseVRhYmJlZCh0YWJiZWQpOyB9LCBbXSksXG4gICAgICAgIGlzVmFsaWQ6IGlzVmFsaWRCeUNoaWxkLFxuICAgICAgICBjbG9zZXN0Rml0OiB0cnVlLFxuICAgICAgICBvbkluZGV4Q2hhbmdlOiB1c2VDYWxsYmFjaygoaTogbnVtYmVyIHwgbnVsbCkgPT4ge1xuICAgICAgICAgICAgaWYgKGkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGdldENoaWxkcmVuKCkuZ2V0QXQoaSk/LmZvY3VzU2VsZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBbXSlcbiAgICB9KTtcblxuICAgIGNvbnN0IGNoYW5nZUV4cGFuZGVkSW5kZXggPSB1c2VTdGFibGVDYWxsYmFjazx0eXBlb2YgY2hhbmdlRXhwYW5kZWRJbmRleExvY2FsT25seT4oKHZhbHVlKSA9PiB7XG4gICAgICAgIGNoYW5nZUV4cGFuZGVkSW5kZXhMb2NhbE9ubHkodmFsdWUpO1xuICAgICAgICBzZXRMb2NhbFN0b3JhZ2VJbmRleCh2YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCByb3ZpbmdUYWJJbmRleFJldHVybiA9IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgIGdldFRhYmJhYmxlSW5kZXg6IGdldFRhYmJlZEluZGV4LFxuICAgICAgICBzZXRUYWJiYWJsZUluZGV4OiBjaGFuZ2VUYWJiZWRJbmRleFxuICAgIH0pXG5cbiAgICBjb25zdCB7XG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm5cbiAgICB9ID0gdXNlVHlwZWFoZWFkTmF2aWdhdGlvbjxIZWFkZXJCdXR0b25FbGVtZW50LCBIZWFkZXJCdXR0b25FbGVtZW50Pih7XG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1xuICAgIH0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjb250ZXh0OiB1c2VTdGFibGVPYmplY3Q8VXNlQWNjb3JkaW9uQ29udGV4dDxIZWFkZXJCdXR0b25FbGVtZW50LCBNPj4oe1xuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgIC4uLnR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQsXG4gICAgICAgICAgICBhY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVyczogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VFeHBhbmRlZEluZGV4LFxuICAgICAgICAgICAgICAgIGNoYW5nZVRhYmJlZEluZGV4LFxuICAgICAgICAgICAgICAgIGdldEV4cGFuZGVkSW5kZXg6IGdldEN1cnJlbnRFeHBhbmRlZEluZGV4LFxuICAgICAgICAgICAgICAgIGdldFRhYmJlZEluZGV4OiBnZXRUYWJiZWRJbmRleCxcbiAgICAgICAgICAgICAgICBzdGFibGVUeXBlYWhlYWRQcm9wczogdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybi5wcm9wc1N0YWJsZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgZGlzYWJsZUFycm93S2V5cyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlSG9tZUVuZEtleXMsXG4gICAgICAgICAgICAgICAgZ2V0SGlnaGVzdEluZGV4OiB1c2VDYWxsYmFjaygoKSA9PiBnZXRDaGlsZHJlbigpLmdldEhpZ2hlc3RJbmRleCgpLCBbXSksXG4gICAgICAgICAgICAgICAgaW5kZXhNYW5nbGVyOiBpZGVudGl0eSxcbiAgICAgICAgICAgICAgICBpbmRleERlbWFuZ2xlcjogaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkRpcmVjdGlvbixcbiAgICAgICAgICAgICAgICBpc1ZhbGlkOiBpc1ZhbGlkQnlJbmRleCxcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZVBhc3RFbmQsXG4gICAgICAgICAgICAgICAgbmF2aWdhdGVQYXN0U3RhcnQsXG4gICAgICAgICAgICAgICAgcGFnZU5hdmlnYXRpb25TaXplXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuXG4gICAgICAgIH0pLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIGFjY29yZGlvblJldHVybjogdXNlU3RhYmxlT2JqZWN0KHsgY2hhbmdlRXhwYW5kZWRJbmRleCB9KVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGlkZW50aXR5PFQ+KHQ6IFQpIHsgcmV0dXJuIHQ7IH1cblxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUFjY29yZGlvblNlY3Rpb248X0hlYWRlckNvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBIZWFkZXJCdXR0b25FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQm9keUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgYnV0dG9uUGFyYW1ldGVycyxcbiAgICBwcmVzc1BhcmFtZXRlcnM6IHsgfSxcbiAgICBhY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVyczogeyBvcGVuOiBvcGVuRnJvbVVzZXIsIGJvZHlSb2xlIH0sXG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LFxuICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzOiB7IGhpZGRlbiB9LFxuICAgIHRleHRDb250ZW50UGFyYW1ldGVycyxcbiAgICBjb250ZXh0LFxuICAgIGNvbnRleHQ6IHtcbiAgICAgICAgYWNjb3JkaW9uU2VjdGlvblBhcmFtZXRlcnM6IHsgY2hhbmdlRXhwYW5kZWRJbmRleCwgY2hhbmdlVGFiYmVkSW5kZXg6IF9zZXRDdXJyZW50Rm9jdXNlZEluZGV4LCBnZXRUYWJiZWRJbmRleDogZ2V0Q3VycmVudEZvY3VzZWRJbmRleCwgc3RhYmxlVHlwZWFoZWFkUHJvcHMgfSxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIH0sXG4gICAgcmVmRWxlbWVudFBhcmFtZXRlcnMsXG59OiBVc2VBY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4pOiBVc2VBY2NvcmRpb25TZWN0aW9uUmV0dXJuVHlwZTxfSGVhZGVyQ29udGFpbmVyRWxlbWVudCwgSGVhZGVyQnV0dG9uRWxlbWVudCwgQm9keUVsZW1lbnQ+IHtcblxuICAgIGNvbnN0IHsgZGlzYWJsZWQsIG9uUHJlc3M6IHVzZXJPblByZXNzIH0gPSBidXR0b25QYXJhbWV0ZXJzO1xuXG4gICAgZGVidWdMb2coXCJ1c2VBY2NvcmRpYW5TZWN0aW9uXCIpO1xuICAgIGNvbnN0IFtvcGVuRnJvbVBhcmVudCwgc2V0T3BlbkZyb21QYXJlbnQsIGdldE9wZW5Gcm9tUGFyZW50XSA9IHVzZVN0YXRlPGJvb2xlYW4gfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBbbW9zdFJlY2VudGx5VGFiYmVkLCBzZXRNb3N0UmVjZW50bHlUYWJiZWQsIGdldE1vc3RSZWNlbnRseVRhYmJlZF0gPSB1c2VTdGF0ZTxib29sZWFuIHwgbnVsbD4obnVsbCk7XG5cbiAgICB0eXBlIE0gPSBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbztcblxuXG4gICAgY29uc3QgeyByYW5kb21JZFJldHVybjogX2JvZHlJZFJldHVybiwgcHJvcHNTb3VyY2U6IHByb3BzQm9keVNvdXJjZSwgcHJvcHNSZWZlcmVuY2VyOiBwcm9wc0hlYWRSZWZlcmVuY2VyIH0gPSB1c2VSYW5kb21JZDxCb2R5RWxlbWVudCwgSGVhZGVyQnV0dG9uRWxlbWVudD4oeyByYW5kb21JZFBhcmFtZXRlcnM6IHsgcHJlZml4OiBQcmVmaWNlcy5hY2NvcmRpb25TZWN0aW9uSGVhZGVyQnV0dG9uLCBvdGhlclJlZmVyZW5jZXJQcm9wOiBcImFyaWEtY29udHJvbHNcIiB9IH0pO1xuICAgIGNvbnN0IHsgcmFuZG9tSWRSZXR1cm46IF9oZWFkSWRSZXR1cm4sIHByb3BzU291cmNlOiBwcm9wc0hlYWRTb3VyY2UsIHByb3BzUmVmZXJlbmNlcjogcHJvcHNCb2R5UmVmZXJlbmNlciB9ID0gdXNlUmFuZG9tSWQ8SGVhZGVyQnV0dG9uRWxlbWVudCwgQm9keUVsZW1lbnQ+KHsgcmFuZG9tSWRQYXJhbWV0ZXJzOiB7IHByZWZpeDogUHJlZmljZXMuYWNjb3JkaW9uU2VjdGlvbkJvZHksIG90aGVyUmVmZXJlbmNlclByb3A6IFwiYXJpYS1sYWJlbGxlZGJ5XCIgfSB9KTtcbiAgICBjb25zdCBvcGVuID0gKChvcGVuRnJvbVVzZXIgPz8gb3BlbkZyb21QYXJlbnQpID8/IGZhbHNlKTtcblxuICAgIGNvbnN0IHsgcmVmRWxlbWVudFJldHVybjogeyBnZXRFbGVtZW50OiBnZXRIZWFkZXJFbGVtZW50LCBwcm9wc1N0YWJsZTogaGVhZGVyUmVmRWxlbWVudFByb3BzIH0gfSA9IHVzZVJlZkVsZW1lbnQ8SGVhZGVyQnV0dG9uRWxlbWVudD4oeyByZWZFbGVtZW50UGFyYW1ldGVyczoge30gfSk7XG4gICAgY29uc3QgeyByZWZFbGVtZW50UmV0dXJuOiB7IGdldEVsZW1lbnQ6IF9nZXRCb2R5RWxlbWVudCwgcHJvcHNTdGFibGU6IGJvZHlSZWZFbGVtZW50UHJvcHMgfSB9ID0gdXNlUmVmRWxlbWVudDxCb2R5RWxlbWVudD4oeyByZWZFbGVtZW50UGFyYW1ldGVyczoge30gfSk7XG4gICAgY29uc3QgZm9jdXNTZWxmID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAoZ2V0SGVhZGVyRWxlbWVudCgpIGFzIEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQpPy5mb2N1cygpO1xuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IHsgbWFuYWdlZENoaWxkUmV0dXJuOiB7IGdldENoaWxkcmVuOiBfZ2V0U2VjdGlvbnMgfSB9ID0gdXNlTWFuYWdlZENoaWxkPE0+KHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBpbmRleCxcbiAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgIGZvY3VzU2VsZixcbiAgICAgICAgZ2V0TW9zdFJlY2VudGx5VGFiYmVkLFxuICAgICAgICBnZXRPcGVuRnJvbVBhcmVudCxcbiAgICAgICAgaGlkZGVuLFxuICAgICAgICBzZXRNb3N0UmVjZW50bHlUYWJiZWQsXG4gICAgICAgIHNldE9wZW5Gcm9tUGFyZW50LFxuICAgIH0pO1xuXG4gICAgY29uc3Qgb25QcmVzcyA9IChlOiBCdXR0b25QcmVzc0V2ZW50PEhlYWRlckJ1dHRvbkVsZW1lbnQ+KSA9PiB7XG4gICAgICAgIGlmIChnZXRPcGVuRnJvbVBhcmVudCgpKVxuICAgICAgICAgICAgY2hhbmdlRXhwYW5kZWRJbmRleChudWxsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY2hhbmdlRXhwYW5kZWRJbmRleChpbmRleCk7XG5cbiAgICAgICAgdXNlck9uUHJlc3M/LihlKTtcbiAgICB9O1xuXG5cbiAgICBjb25zdCBsaW5lYXJSZXR1cm5UeXBlID0gdXNlTGluZWFyTmF2aWdhdGlvbjxIZWFkZXJCdXR0b25FbGVtZW50LCBIZWFkZXJCdXR0b25FbGVtZW50Pih7IGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLCByb3ZpbmdUYWJJbmRleFJldHVybiB9KTtcbiAgICBjb25zdCB7XG4gICAgICAgIHByZXNzUGFyYW1ldGVyczogeyBleGNsdWRlU3BhY2UgfSxcbiAgICAgICAgdGV4dENvbnRlbnRSZXR1cm5cbiAgICB9ID0gdXNlVHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkPEhlYWRlckJ1dHRvbkVsZW1lbnQ+KHtcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuOiB7IGdldEVsZW1lbnQ6IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHJlZkVsZW1lbnRSZXR1cm4uZ2V0RWxlbWVudCgpKSB9LFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25DaGlsZENvbnRleHQ6IHsgdHlwZWFoZWFkTmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyB9XG4gICAgfSlcblxuICAgIGNvbnN0IGJ1dHRvblJldHVybjogVXNlQnV0dG9uUmV0dXJuVHlwZTxIZWFkZXJCdXR0b25FbGVtZW50PiA9IHVzZUJ1dHRvbjxIZWFkZXJCdXR0b25FbGVtZW50Pih7XG4gICAgICAgIGJ1dHRvblBhcmFtZXRlcnM6IHsgLi4uYnV0dG9uUGFyYW1ldGVycywgcHJlc3NlZDogbnVsbCwgb25QcmVzcywgcm9sZTogXCJidXR0b25cIiB9LFxuICAgICAgICBwcmVzc1BhcmFtZXRlcnM6IHsgZXhjbHVkZVNwYWNlIH0sXG4gICAgICAgIHJlZkVsZW1lbnRQYXJhbWV0ZXJzXG4gICAgfSk7XG5cbiAgICBjb25zdCB7IHByZXNzUmV0dXJuLCBwcm9wczogYnV0dG9uUHJvcHMsIHJlZkVsZW1lbnRSZXR1cm4gfSA9IGJ1dHRvblJldHVybjtcblxuICAgIGNvbnN0IHsgbGluZWFyTmF2aWdhdGlvblJldHVybjogeyBwcm9wc1N0YWJsZSB9IH0gPSBsaW5lYXJSZXR1cm5UeXBlO1xuXG4gICAgY29uc3QgaGVhZGVyQnV0dG9uUHJvcHMgPSB1c2VNZXJnZWRQcm9wczxIZWFkZXJCdXR0b25FbGVtZW50PihcbiAgICAgICAgYnV0dG9uUHJvcHMsXG4gICAgICAgIGhlYWRlclJlZkVsZW1lbnRQcm9wcyxcbiAgICAgICAgcHJvcHNIZWFkUmVmZXJlbmNlcixcbiAgICAgICAgcHJvcHNIZWFkU291cmNlLFxuICAgICAgICBwcm9wc1N0YWJsZSxcbiAgICAgICAgc3RhYmxlVHlwZWFoZWFkUHJvcHMsXG4gICAgICAgIHsgXCJhcmlhLWV4cGFuZGVkXCI6IChvcGVuID8/IGZhbHNlKS50b1N0cmluZygpLCB9XG4gICAgKTtcblxuICAgIGNvbnN0IGJvZHlQcm9wcyA9IHVzZU1lcmdlZFByb3BzPEJvZHlFbGVtZW50PihcbiAgICAgICAgYm9keVJlZkVsZW1lbnRQcm9wcyxcbiAgICAgICAgcHJvcHNCb2R5UmVmZXJlbmNlcixcbiAgICAgICAgcHJvcHNCb2R5U291cmNlLFxuICAgICAgICB7XG4gICAgICAgICAgICByb2xlOiBib2R5Um9sZSxcbiAgICAgICAgICAgIHRhYkluZGV4OiAtMVxuICAgICAgICB9XG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHByZXNzUmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICB0ZXh0Q29udGVudFJldHVybixcbiAgICAgICAgYWNjb3JkaW9uU2VjdGlvblJldHVybjoge1xuICAgICAgICAgICAgbW9zdFJlY2VudGx5VGFiYmVkOiAhIW1vc3RSZWNlbnRseVRhYmJlZCxcbiAgICAgICAgICAgIGV4cGFuZGVkOiBvcGVuLFxuICAgICAgICAgICAgZm9jdXNlZDogKGdldEN1cnJlbnRGb2N1c2VkSW5kZXgoKSA9PSBpbmRleClcbiAgICAgICAgfSxcbiAgICAgICAgcHJvcHNIZWFkZXJCdXR0b246IGhlYWRlckJ1dHRvblByb3BzLFxuICAgICAgICBwcm9wc0hlYWRlcjoge30sICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBlbXB0eSwgaXQncyBqdXN0IGEgcmVtaW5kZXIgdGhhdCB0aGVyZSAqZG9lcyogbmVlZCB0byBiZSBhIGhlYWRlciB0aGF0IGNvbnRhaW5zIHRoZSBidXR0b24uXG4gICAgICAgIHByb3BzQm9keTogYm9keVByb3BzXG4gICAgfTtcbn0iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgcmV0dXJuVHJ1ZSwgdXNlTWVyZ2VkUHJvcHMsIHVzZVByZXNzLCBVc2VQcmVzc1BhcmFtZXRlcnMsIFVzZVByZXNzUmV0dXJuVHlwZSwgdXNlUmFuZG9tRHVhbElkcywgVXNlUmFuZG9tRHVhbElkc1BhcmFtZXRlcnMsIFVzZVJhbmRvbUR1YWxJZHNSZXR1cm5UeXBlLCB1c2VSZWZFbGVtZW50LCBVc2VSZWZFbGVtZW50UmV0dXJuVHlwZSwgdXNlU3RhYmxlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0LXByb3AtaGVscGVyc1wiO1xuaW1wb3J0IHsgdXNlRWZmZWN0IH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgRGlzYWJsZWRUeXBlLCBFbGVtZW50VG9UYWcsIG5vb3AsIE9taXRTdHJvbmcgfSBmcm9tIFwiLi9wcm9wc1wiO1xuXG5leHBvcnQgdHlwZSBMYWJlbFBvc2l0aW9uID0gXCJzZXBhcmF0ZVwiIHwgXCJ3cmFwcGluZ1wiIHwgXCJub25lXCI7XG5leHBvcnQgdHlwZSBGb2N1c2FibGVMYWJlbEVsZW1lbnQ8TFAgZXh0ZW5kcyBMYWJlbFBvc2l0aW9uLCBJbnB1dEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiA9IExQIGV4dGVuZHMgXCJ3cmFwcGluZ1wiID8gTGFiZWxFbGVtZW50IDogSW5wdXRFbGVtZW50O1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxhYmVsUGFyYW1ldGVyczxMUCBleHRlbmRzIExhYmVsUG9zaXRpb24sIElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VSYW5kb21EdWFsSWRzUGFyYW1ldGVyc1tcInJhbmRvbUlkSW5wdXRQYXJhbWV0ZXJzXCJdLCBcIm90aGVyUmVmZXJlbmNlclByb3BcIj47XG4gICAgcmFuZG9tSWRMYWJlbFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlUmFuZG9tRHVhbElkc1BhcmFtZXRlcnNbXCJyYW5kb21JZExhYmVsUGFyYW1ldGVyc1wiXSwgXCJvdGhlclJlZmVyZW5jZXJQcm9wXCI+O1xuXG4gICAgbGFiZWxQYXJhbWV0ZXJzOiB7XG4gICAgICAgIG9uTGFiZWxDbGljazogbnVsbCB8ICgoZTogRXZlbnQpID0+IHZvaWQpO1xuICAgICAgICB0YWdJbnB1dDogRWxlbWVudFRvVGFnPElucHV0RWxlbWVudD47XG4gICAgICAgIHRhZ0xhYmVsOiBFbGVtZW50VG9UYWc8TGFiZWxFbGVtZW50PjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXJlIGlzIHRoaXMgY29tcG9uZW50J3MgbGFiZWwgcmVsYXRpdmUgdG8gdGhlIGNvbXBvbmVudCBpdHNlbGY/XG4gICAgICAgICAqIFxuICAgICAgICAgKiAqIGBcInNlcGFyYXRlXCJgOiBgPGxhYmVsIC8+PGlucHV0IC8+YFxuICAgICAgICAgKiAqIGBcIndyYXBwaW5nXCJgOiBgPGxhYmVsPjxpbnB1dCAvPjwvbGFiZWw+YFxuICAgICAgICAgKiAqIGBcIm5vbmVcImA6IGA8aW5wdXQgYXJpYS1sYWJlbD1cIi4uLlwiIC8+YFxuICAgICAgICAgKiBcbiAgICAgICAgICogSW4gY2FzZXMgd2hlcmUgeW91J3JlIHVzaW5nIG5vbi1gaW5wdXRgIGFuZCBgbGFiZWxgIGVsZW1lbnRzLCBgXCJzZXBhcmF0ZVwiYCBhbmQgYFwid3JhcHBpbmdcImAgYXJlIGlkZW50aWNhbDsgXG4gICAgICAgICAqIHRoaXMgaXMgbW9zdCBpbXBvcnRhbnQgZm9yIG5hdGl2ZSBgbGFiZWxgIGFuZCBgaW5wdXRgIGVsZW1lbnRzLCBhcyB0aGV5IG9ubHkgbmVlZCBhIGBmb3JgIHByb3Agd2hlbiB0aGUgbGFiZWwgZG9lc24ndCB3cmFwIHRoZSBpbnB1dC5cbiAgICAgICAgICovXG4gICAgICAgIGxhYmVsUG9zaXRpb246IExQO1xuXG4gICAgICAgIC8qKiBcbiAgICAgICAgICogV2hlbiBgbnVsbGAsIHRoaXMgY29ycmVzcG9uZHMgdG8gaGF2aW5nIGEgdmlzaWJsZSBsYWJlbCAod2l0aCBgbGFiZWxQb3NpdGlvbmAgPT0gYFwic2VwYXJhdGVcImAgb3IgYFwid3JhcHBpbmdcImApLlxuICAgICAgICAgKiBcbiAgICAgICAgICogV2hlbiBhIHN0cmluZywgdGhpcyBjb3JyZXNwb25kcyB0byBgbGFiZWxQb3NpdGlvbmAgPT0gYFwibm9uZVwiYDsgdGhpcyBsYWJlbCBpcyBvbmx5IHZpc2libGUgdG8gYXNzaXN0aXZlIHRlY2hub2xvZ2llcyBhbmQgKm5vdCogdmlzaWJsZSBvdGhlcndpc2UuXG4gICAgICAgICAqL1xuICAgICAgICBhcmlhTGFiZWw6IExQIGV4dGVuZHMgXCJub25lXCIgPyBzdHJpbmcgOiBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VMYWJlbFJldHVyblR5cGU8SW5wdXRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VSYW5kb21EdWFsSWRzUmV0dXJuVHlwZTxJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudD4geyB9XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VMYWJlbDxMUCBleHRlbmRzIExhYmVsUG9zaXRpb24sIElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICByYW5kb21JZElucHV0UGFyYW1ldGVycyxcbiAgICByYW5kb21JZExhYmVsUGFyYW1ldGVycyxcbiAgICBsYWJlbFBhcmFtZXRlcnM6IHsgdGFnSW5wdXQsIHRhZ0xhYmVsLCBhcmlhTGFiZWwsIGxhYmVsUG9zaXRpb24sIG9uTGFiZWxDbGljayB9XG59OiBVc2VMYWJlbFBhcmFtZXRlcnM8TFAsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50Pik6IFVzZUxhYmVsUmV0dXJuVHlwZTxJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudD4ge1xuICAgIGNvbnN0IG5hdGl2ZUhUTUxCZWhhdmlvciA9ICh0YWdJbnB1dCA9PSBcImlucHV0XCIgJiYgdGFnTGFiZWwgPT0gXCJsYWJlbFwiICYmIGxhYmVsUG9zaXRpb24gIT0gXCJ3cmFwcGluZ1wiKTtcbiAgICBjb25zdCBzeW50aGV0aWMgPSAhbmF0aXZlSFRNTEJlaGF2aW9yO1xuXG4gICAgLyoqXG4gICAgICogfFN5bnRoZXRpYz98UG9zaXRpb24gICAgfElucHV0IFByb3AgICB8TGFiZWwgUHJvcHxcbiAgICAgKiB8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tfFxuICAgICAqIHxOICAgICAgICAgfGBcInNlcGFyYXRlXCJgfC0gICAgICAgICAgICB8YGZvcmAgICAgIHxcbiAgICAgKiB8TiAgICAgICAgIHxgXCJ3cmFwcGluZ1wiYHwtICAgICAgICAgICAgfC0gICAgICAgICB8XG4gICAgICogfFkgICAgICAgICB8YFwic2VwYXJhdGVcImB8YGxhYmVsbGVkLWJ5YHwtICAgICAgICAgfFxuICAgICAqIHxZICAgICAgICAgfGBcIndyYXBwaW5nXCJgfGBsYWJlbGxlZC1ieWB8LSAgICAgICAgIHxcbiAgICAgKiBcbiAgICAgKi9cbiAgICBsZXQgX2NvbW1lbnQ6IGFueTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcHNJbnB1dCxcbiAgICAgICAgcHJvcHNMYWJlbCxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFJldHVybixcbiAgICAgICAgcmFuZG9tSWRMYWJlbFJldHVyblxuICAgIH0gPSB1c2VSYW5kb21EdWFsSWRzPElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIHJhbmRvbUlkSW5wdXRQYXJhbWV0ZXJzOiB7IC4uLnJhbmRvbUlkSW5wdXRQYXJhbWV0ZXJzLCBvdGhlclJlZmVyZW5jZXJQcm9wOiAhc3ludGhldGljICYmIGxhYmVsUG9zaXRpb24gPT09IFwic2VwYXJhdGVcIiA/IFwiZm9yXCIgOiBudWxsIH0sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzOiB7IC4uLnJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzLCBvdGhlclJlZmVyZW5jZXJQcm9wOiBzeW50aGV0aWMgPyBcImFyaWEtbGFiZWxsZWRieVwiIDogbnVsbCB9LFxuICAgIH0pO1xuICAgIGNvbnN0IHsgcmVmRWxlbWVudFJldHVybiB9ID0gdXNlUmVmRWxlbWVudDxMYWJlbEVsZW1lbnQ+KHsgcmVmRWxlbWVudFBhcmFtZXRlcnM6IHt9IH0pO1xuXG4gICAgaWYgKGxhYmVsUG9zaXRpb24gPT0gJ25vbmUnKSB7XG4gICAgICAgIC8vIFdoZW4gd2Ugc2V0IHRoZSBhcmlhLWxhYmVsLCBpbnRlbnRpb25hbGx5IGNsb2JiZXIgZWxlbWVudC1iYXNlZCBsYWJlbHMgKGZvciBleGFtcGxlLCBpbiBjYXNlIHRoZXkgZG9uJ3QgZXhpc3QpLlxuICAgICAgICBwcm9wc0lucHV0W1wiYXJpYS1sYWJlbFwiXSA9IChhcmlhTGFiZWwhKTtcbiAgICAgICAgcHJvcHNJbnB1dFtcImFyaWEtbGFiZWxsZWRieVwiXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcHJvcHNMYWJlbFtcImZvclwiXSA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCB7IHByZXNzUmV0dXJuIH0gPSB1c2VQcmVzcyh7IHByZXNzUGFyYW1ldGVyczogeyBleGNsdWRlRW50ZXI6IHJldHVyblRydWUsIGV4Y2x1ZGVTcGFjZTogcmV0dXJuVHJ1ZSwgb25QcmVzc1N5bmM6IG9uTGFiZWxDbGljaywgZm9jdXNTZWxmOiBub29wIH0sIHJlZkVsZW1lbnRSZXR1cm4gfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wc0lucHV0LFxuICAgICAgICBwcm9wc0xhYmVsOiB1c2VNZXJnZWRQcm9wcyhwcm9wc0xhYmVsLCByZWZFbGVtZW50UmV0dXJuLnByb3BzU3RhYmxlLCBwcmVzc1JldHVybi5wcm9wc1Vuc3RhYmxlKSxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFJldHVybixcbiAgICAgICAgcmFuZG9tSWRMYWJlbFJldHVybixcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTGFiZWxTeW50aGV0aWNQYXJhbWV0ZXJzIHtcbiAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VSYW5kb21EdWFsSWRzUGFyYW1ldGVyc1tcInJhbmRvbUlkSW5wdXRQYXJhbWV0ZXJzXCJdLCBcIm90aGVyUmVmZXJlbmNlclByb3BcIj47XG4gICAgcmFuZG9tSWRMYWJlbFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlUmFuZG9tRHVhbElkc1BhcmFtZXRlcnNbXCJyYW5kb21JZExhYmVsUGFyYW1ldGVyc1wiXSwgXCJvdGhlclJlZmVyZW5jZXJQcm9wXCI+O1xuICAgIGxhYmVsUGFyYW1ldGVyczogUGljazxVc2VMYWJlbFBhcmFtZXRlcnM8TGFiZWxQb3NpdGlvbiwgYW55LCBhbnk+W1wibGFiZWxQYXJhbWV0ZXJzXCJdLCBcImFyaWFMYWJlbFwiIHwgXCJvbkxhYmVsQ2xpY2tcIj5cbn1cblxuLyoqXG4gKiBTaG9ydGN1dCBmb3IgYHVzZUxhYmVsYCB0aGF0IGFzc3VtZXMgd2UncmUganVzdCBuZXZlciB3b3JraW5nIHdpdGggbmF0aXZlIEhUTUwgYGlucHV0YCBhbmQgYGxhYmVsYCBlbGVtZW50cy4gU28gZm9yIGxhYmVsbGluZyBndWFyYW50ZWFibHkgbm9uLW5hdGl2ZSBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUxhYmVsU3ludGhldGljPElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBsYWJlbFBhcmFtZXRlcnM6IHsgYXJpYUxhYmVsLCBvbkxhYmVsQ2xpY2sgfSxcbiAgICByYW5kb21JZElucHV0UGFyYW1ldGVycyxcbiAgICByYW5kb21JZExhYmVsUGFyYW1ldGVyc1xufTogVXNlTGFiZWxTeW50aGV0aWNQYXJhbWV0ZXJzKSB7XG4gICAgcmV0dXJuIHVzZUxhYmVsPExhYmVsUG9zaXRpb24sIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzLFxuICAgICAgICByYW5kb21JZElucHV0UGFyYW1ldGVycyxcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBhcmlhTGFiZWwsXG4gICAgICAgICAgICBsYWJlbFBvc2l0aW9uOiBhcmlhTGFiZWwgPT0gbnVsbCA/IFwic2VwYXJhdGVcIiA6IFwibm9uZVwiLFxuICAgICAgICAgICAgdGFnSW5wdXQ6IFwiZGl2XCIgYXMgbmV2ZXIsXG4gICAgICAgICAgICB0YWdMYWJlbDogXCJkaXZcIiBhcyBuZXZlcixcbiAgICAgICAgICAgIG9uTGFiZWxDbGlja1xuICAgICAgICB9XG4gICAgfSlcblxufVxuXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVyZ2VkUHJvcHMsIHVzZVByZXNzLCBVc2VQcmVzc1BhcmFtZXRlcnMsIFVzZVByZXNzUmV0dXJuVHlwZSwgVXNlUmVmRWxlbWVudFJldHVyblR5cGUsIHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IERpc2FibGVkVHlwZSwgT21pdFN0cm9uZyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyBMYWJlbFBvc2l0aW9uLCB1c2VMYWJlbCwgVXNlTGFiZWxQYXJhbWV0ZXJzLCBVc2VMYWJlbFJldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtbGFiZWxcIjtcblxuXG5mdW5jdGlvbiBwcmV2ZW50RGVmYXVsdChlOiBFdmVudCkge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbn1cblxuXG5leHBvcnQgdHlwZSBDaGVja2JveENoZWNrZWRUeXBlID0gYm9vbGVhbiB8IFwibWl4ZWRcIjtcblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ2hlY2tib3hMaWtlUGFyYW1ldGVyczxMUCBleHRlbmRzIExhYmVsUG9zaXRpb24sIElucHV0VHlwZSBleHRlbmRzIEVsZW1lbnQsIExhYmVsVHlwZSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VMYWJlbFBhcmFtZXRlcnM8TFAsIElucHV0VHlwZSwgTGFiZWxUeXBlPiwgXCJsYWJlbFBhcmFtZXRlcnNcIj4ge1xuICAgIGNoZWNrYm94TGlrZVBhcmFtZXRlcnM6IHtcblxuICAgICAgICAvKiogVGhlIHJvbGUgYXR0cmlidXRlIHRvIHVzZSwgd2hlbiBhcHBsaWNhYmxlICovXG4gICAgICAgIHJvbGU6IHN0cmluZztcbiAgICAgICAgZGlzYWJsZWQ6IERpc2FibGVkVHlwZTtcbiAgICAgICAgY2hlY2tlZDogQ2hlY2tib3hDaGVja2VkVHlwZTtcbiAgICAgICAgb25JbnB1dChldmVudDogRXZlbnQpOiB2b2lkO1xuICAgIH07XG4gICAgcHJlc3NQYXJhbWV0ZXJzOiBQaWNrPFVzZVByZXNzUGFyYW1ldGVyczxhbnk+W1wicHJlc3NQYXJhbWV0ZXJzXCJdLCBcImV4Y2x1ZGVTcGFjZVwiPjtcblxuICAgIGxhYmVsUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VMYWJlbFBhcmFtZXRlcnM8TFAsIElucHV0VHlwZSwgTGFiZWxUeXBlPltcImxhYmVsUGFyYW1ldGVyc1wiXSwgXCJvbkxhYmVsQ2xpY2tcIj47XG5cbiAgICByZWZFbGVtZW50TGFiZWxSZXR1cm46IFVzZVJlZkVsZW1lbnRSZXR1cm5UeXBlPExhYmVsVHlwZT5bXCJyZWZFbGVtZW50UmV0dXJuXCJdO1xuICAgIHJlZkVsZW1lbnRJbnB1dFJldHVybjogVXNlUmVmRWxlbWVudFJldHVyblR5cGU8SW5wdXRUeXBlPltcInJlZkVsZW1lbnRSZXR1cm5cIl07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ2hlY2tib3hMaWtlUmV0dXJuVHlwZTxJbnB1dFR5cGUgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbFR5cGUgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZUxhYmVsUmV0dXJuVHlwZTxJbnB1dFR5cGUsIExhYmVsVHlwZT4ge1xuICAgIHByZXNzTGFiZWxSZXR1cm46IFVzZVByZXNzUmV0dXJuVHlwZTxMYWJlbFR5cGU+W1wicHJlc3NSZXR1cm5cIl07XG4gICAgcHJlc3NJbnB1dFJldHVybjogVXNlUHJlc3NSZXR1cm5UeXBlPElucHV0VHlwZT5bXCJwcmVzc1JldHVyblwiXTtcbiAgICBjaGVja2JveExpa2VJbnB1dFJldHVybjogeyBwcm9wc1Vuc3RhYmxlOiBoLkpTWC5IVE1MQXR0cmlidXRlczxJbnB1dFR5cGU+IH1cbiAgICBjaGVja2JveExpa2VMYWJlbFJldHVybjogeyBwcm9wc1Vuc3RhYmxlOiBoLkpTWC5IVE1MQXR0cmlidXRlczxMYWJlbFR5cGU+IH1cbiAgICBjaGVja2JveExpa2VSZXR1cm46IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgdGhpcyB0byBmb2N1cyB3aGljaGV2ZXIgZWxlbWVudCBoYW5kbGVzIHRoZSBmb2N1cyBiYXNlZCBvbiBgbGFiZWxQb3NpdGlvbmAuXG4gICAgICAgICAqL1xuICAgICAgICBmb2N1c1NlbGYoKTogdm9pZDtcbiAgICB9XG59XG5cbi8qKlxuICogSGFuZGxlcyBhbnkgY29tcG9uZW50IHdoZXJlIHRoZXJlJ3M6XG4gKiAxLiBTb21lIGtpbmQgb2YgYW4gb24vb2ZmIGJpbmFyeS90cmluYXJ5IGlucHV0IGVsZW1lbnQgdGhhdCBuZWVkcyBldmVudCBoYW5kbGVyc1xuICogMi4gU29tZSBraW5kIG9mIGxhYmVsIGZvciB0aGF0IGlucHV0IGVsZW1lbnRcbiAqIFxuICogU2VlIGFsc28gYHVzZUxhYmVsYCBmb3Igd2hlbiB0aGVyZSdzIGEgbGFiZWwgZm9yIGEgbm9uLWNoZWNrYm94LWxpa2UgY29tcG9uZW50LlxuICogXG4gKiBAcGFyYW0gcGFyYW0wIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDaGVja2JveExpa2U8TFAgZXh0ZW5kcyBMYWJlbFBvc2l0aW9uLCBJbnB1dFR5cGUgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbFR5cGUgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgbGFiZWxQYXJhbWV0ZXJzLFxuICAgIHJhbmRvbUlkSW5wdXRQYXJhbWV0ZXJzLFxuICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzLFxuICAgIGNoZWNrYm94TGlrZVBhcmFtZXRlcnM6IHsgY2hlY2tlZCwgZGlzYWJsZWQsIG9uSW5wdXQ6IG9uSW5wdXRTeW5jLCByb2xlIH0sXG4gICAgcmVmRWxlbWVudElucHV0UmV0dXJuLFxuICAgIHJlZkVsZW1lbnRMYWJlbFJldHVybixcbiAgICBwcmVzc1BhcmFtZXRlcnM6IHsgZXhjbHVkZVNwYWNlIH1cbn06IFVzZUNoZWNrYm94TGlrZVBhcmFtZXRlcnM8TFAsIElucHV0VHlwZSwgTGFiZWxUeXBlPik6IFVzZUNoZWNrYm94TGlrZVJldHVyblR5cGU8SW5wdXRUeXBlLCBMYWJlbFR5cGU+IHtcblxuICAgIGNvbnN0IHsgZ2V0RWxlbWVudDogZ2V0SW5wdXRFbGVtZW50IH0gPSByZWZFbGVtZW50SW5wdXRSZXR1cm47XG4gICAgY29uc3QgeyBnZXRFbGVtZW50OiBnZXRMYWJlbEVsZW1lbnQgfSA9IHJlZkVsZW1lbnRMYWJlbFJldHVybjtcbiAgICBjb25zdCB7IHRhZ0lucHV0LCB0YWdMYWJlbCwgbGFiZWxQb3NpdGlvbiB9ID0gbGFiZWxQYXJhbWV0ZXJzO1xuXG4gICAgLy8gb25DbGljayBhbmQgb25DaGFuZ2UgYXJlIGEgYml0IG1lc3N5LCBzbyB3ZSBuZWVkIHRvXG4gICAgLy8gKmFsd2F5cyogbWFrZSBzdXJlIHRoYXQgdGhlIHZpc2libGUgc3RhdGUgaXMgY29ycmVjdFxuICAgIC8vIGFmdGVyIGFsbCB0aGUgZXZlbnQgZHVzdCBzZXR0bGVzLlxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L2lzc3Vlcy8yNzQ1LFxuICAgIC8vIGFuZCBodHRwczovL2dpdGh1Yi5jb20vcHJlYWN0anMvcHJlYWN0L2lzc3Vlcy8xODk5I2lzc3VlY29tbWVudC01MjU2OTAxOTRcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZ2V0SW5wdXRFbGVtZW50ISgpO1xuICAgICAgICBpZiAoZWxlbWVudCAmJiB0YWdJbnB1dCA9PSBcImlucHV0XCIpIHtcbiAgICAgICAgICAgIChlbGVtZW50IGFzIEVsZW1lbnQgYXMgSFRNTElucHV0RWxlbWVudCkuaW5kZXRlcm1pbmF0ZSA9IChjaGVja2VkID09PSBcIm1peGVkXCIpO1xuICAgICAgICAgICAgKGVsZW1lbnQgYXMgRWxlbWVudCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkID0gKGNoZWNrZWQgPT09IHRydWUpXG4gICAgICAgIH1cbiAgICB9LCBbdGFnSW5wdXQsIChjaGVja2VkID8/IGZhbHNlKV0pXG5cbiAgICBjb25zdCB7XG4gICAgICAgIHJhbmRvbUlkSW5wdXRSZXR1cm4sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxSZXR1cm4sXG4gICAgICAgIHByb3BzSW5wdXQsXG4gICAgICAgIHByb3BzTGFiZWxcbiAgICB9ID0gdXNlTGFiZWw8TFAsIElucHV0VHlwZSwgTGFiZWxUeXBlPih7XG4gICAgICAgIGxhYmVsUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgLi4ubGFiZWxQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgb25MYWJlbENsaWNrOiB1c2VTdGFibGVDYWxsYmFjaygoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZGlzYWJsZWQgJiYgdGFnSW5wdXQgIT0gXCJpbnB1dFwiICYmIHRhZ0xhYmVsICE9IFwibGFiZWxcIiAmJiBsYWJlbFBvc2l0aW9uICE9IFwic2VwYXJhdGVcIikge1xuICAgICAgICAgICAgICAgICAgICBmb2N1c1NlbGYoKTtcbiAgICAgICAgICAgICAgICAgICAgb25JbnB1dFN5bmMoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFBhcmFtZXRlcnMsXG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZm9jdXNTZWxmID0gdXNlU3RhYmxlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBsZXQgZWxlbWVudFRvRm9jdXM6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgICAgIGlmIChsYWJlbFBvc2l0aW9uID09IFwid3JhcHBpbmdcIilcbiAgICAgICAgICAgIGVsZW1lbnRUb0ZvY3VzID0gZ2V0TGFiZWxFbGVtZW50KCkgYXMgRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZWxlbWVudFRvRm9jdXMgPSBnZXRJbnB1dEVsZW1lbnQoKSBhcyBFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICAgIGVsZW1lbnRUb0ZvY3VzPy5mb2N1cygpO1xuICAgIH0pXG5cbiAgICBjb25zdCBvbkNsaWNrSW5wdXRTeW5jID0gKGxhYmVsUG9zaXRpb24gPT0gXCJ3cmFwcGluZ1wiID8gdW5kZWZpbmVkIDogb25JbnB1dFN5bmMpO1xuICAgIGNvbnN0IG9uQ2xpY2tMYWJlbFN5bmMgPSBvbklucHV0U3luYzsvLyhsYWJlbFBvc2l0aW9uICE9IFwid3JhcHBpbmdcIiA/IHVuZGVmaW5lZCA6IG9uSW5wdXRTeW5jKTtcbiAgICBjb25zdCB7IHByZXNzUmV0dXJuOiBwcmVzc0lucHV0UmV0dXJuIH0gPSB1c2VQcmVzczxJbnB1dFR5cGU+KHsgcHJlc3NQYXJhbWV0ZXJzOiB7IGV4Y2x1ZGVTcGFjZSwgZm9jdXNTZWxmLCBvblByZXNzU3luYzogKGRpc2FibGVkKSA/IHVuZGVmaW5lZCA6IG9uQ2xpY2tJbnB1dFN5bmMgfSwgcmVmRWxlbWVudFJldHVybjogcmVmRWxlbWVudElucHV0UmV0dXJuIH0pO1xuICAgIGNvbnN0IHsgcHJlc3NSZXR1cm46IHByZXNzTGFiZWxSZXR1cm4gfSA9IHVzZVByZXNzPExhYmVsVHlwZT4oeyBwcmVzc1BhcmFtZXRlcnM6IHsgZXhjbHVkZVNwYWNlLCBmb2N1c1NlbGYsIG9uUHJlc3NTeW5jOiAoZGlzYWJsZWQpID8gdW5kZWZpbmVkIDogb25DbGlja0xhYmVsU3luYyB9LCByZWZFbGVtZW50UmV0dXJuOiByZWZFbGVtZW50TGFiZWxSZXR1cm4gfSk7XG4gICAgY29uc3QgcHJvcHNVbnN0YWJsZUlucHV0OiBoLkpTWC5IVE1MQXR0cmlidXRlczxJbnB1dFR5cGU+ID0ge307XG4gICAgY29uc3QgcHJvcHNVbnN0YWJsZUxhYmVsOiBoLkpTWC5IVE1MQXR0cmlidXRlczxMYWJlbFR5cGU+ID0ge307XG5cbiAgICAvLyBNYWtlIHN1cmUgdGhhdCBsYWJlbCBjbGlja3MgY2FuJ3QgYWZmZWN0IHRoZSB2aXN1YWwgc3RhdGUgb2YgdGhlIGNoZWNrYm94XG4gICAgcHJvcHNVbnN0YWJsZUlucHV0Lm9uQ2xpY2sgPSBwcmV2ZW50RGVmYXVsdDtcbiAgICBwcm9wc1Vuc3RhYmxlTGFiZWwub25DbGljayA9IHByZXZlbnREZWZhdWx0O1xuXG4gICAgcHJvcHNVbnN0YWJsZUlucHV0Lm9uSW5wdXQgPSBwcmV2ZW50RGVmYXVsdDtcbiAgICBwcm9wc1Vuc3RhYmxlSW5wdXQub25DaGFuZ2UgPSBwcmV2ZW50RGVmYXVsdDtcblxuICAgIHByb3BzVW5zdGFibGVJbnB1dC50eXBlID0gcm9sZSA9PSBcInJhZGlvXCIgPyBcInJhZGlvXCIgOiBcImNoZWNrYm94XCI7XG5cbiAgICBzd2l0Y2ggKGxhYmVsUG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgY2FzZSBcInNlcGFyYXRlXCI6IHtcbiAgICAgICAgICAgIGlmICh0YWdJbnB1dCA9PSBcImlucHV0XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBFdmVuIGluIHRoZSBtb3N0IGRlZmF1bHQgaW5wdXQgYmVoYXZpb3IsIHdlIHN0aWxsIG5lZWQgdG8gaGFuZGxlXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbCBhYnN0cmFjdGlvbiBvdmVyIGNoZWNrZWQ9XCJtaXhlZFwiIGFuZCBkaXNhYmxlZD1cInNvZnRcIlxuICAgICAgICAgICAgICAgIHByb3BzVW5zdGFibGVJbnB1dC5jaGVja2VkID0gKGNoZWNrZWQgPT09IHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChkaXNhYmxlZCA9PT0gdHJ1ZSB8fCBkaXNhYmxlZCA9PT0gJ2hhcmQnKVxuICAgICAgICAgICAgICAgICAgICBwcm9wc1Vuc3RhYmxlSW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpc2FibGVkID09IFwic29mdFwiKVxuICAgICAgICAgICAgICAgICAgICBwcm9wc1Vuc3RhYmxlSW5wdXRbXCJhcmlhLWRpc2FibGVkXCJdID0gXCJ0cnVlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkaXYgaW5wdXRzIG5lZWQgdGhlaXIgdmFyaW91cyBBUklBIHJvbGVzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgcHJvcHNVbnN0YWJsZUlucHV0LnJvbGUgPSByb2xlO1xuICAgICAgICAgICAgICAgIHByb3BzVW5zdGFibGVJbnB1dC50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcHJvcHNVbnN0YWJsZUlucHV0W1wiYXJpYS1jaGVja2VkXCJdID0gKGNoZWNrZWQgPz8gZmFsc2UpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgcHJvcHNVbnN0YWJsZUlucHV0W1wiYXJpYS1kaXNhYmxlZFwiXSA9ICghIWRpc2FibGVkKS50b1N0cmluZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGFnTGFiZWwgIT0gXCJsYWJlbFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBzcGVjaWFsIGZvciByZWd1bGFyIGxhYmVsc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHNwZWNpYWwgaGFuZGxpbmcgZm9yIGRpdiBsYWJlbHMgaXMgYWxyZWFkeSBjb3ZlcmVkIGJ5IHVzZUxhYmVsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwid3JhcHBpbmdcIjoge1xuICAgICAgICAgICAgaWYgKHRhZ0lucHV0ID09IFwiaW5wdXRcIikge1xuICAgICAgICAgICAgICAgIC8vIEZvciBmb3JtIHN1Ym1pc3Npb24gYW5kIHN0eWxpbmdcbiAgICAgICAgICAgICAgICBwcm9wc1Vuc3RhYmxlSW5wdXQuY2hlY2tlZCA9IChjaGVja2VkID09PSB0cnVlKTtcbiAgICAgICAgICAgICAgICBwcm9wc1Vuc3RhYmxlSW5wdXQuZGlzYWJsZWQgPSAoZGlzYWJsZWQgPT09IHRydWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gQmVjYXVzZSB0aGUgd3JhcHBlZCBsYWJlbCBoYW5kbGVzIGFsbCBpbnRlcmFjdGlvbnMsXG4gICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhpcyBlbGVtZW50IGNhbid0IGJlIGludGVyYWN0ZWQgd2l0aFxuICAgICAgICAgICAgICAgIC8vIGV2ZW4gaWYgaXQncyBhbiBpbnB1dCBlbGVtZW50LlxuICAgICAgICAgICAgICAgIHByb3BzVW5zdGFibGVJbnB1dC5pbmVydCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcHJvcHNVbnN0YWJsZUlucHV0LnRhYkluZGV4ID0gLTE7XG4gICAgICAgICAgICAgICAgcHJvcHNVbnN0YWJsZUlucHV0LnJvbGUgPSBcInByZXNlbnRhdGlvblwiO1xuICAgICAgICAgICAgICAgIHByb3BzVW5zdGFibGVJbnB1dFtcImFyaWEtaGlkZGVuXCJdID0gXCJ0cnVlXCI7XG4gICAgICAgICAgICAgICAgcHJvcHNVbnN0YWJsZUlucHV0Lm9uRm9jdXMgPSBfID0+IChnZXRMYWJlbEVsZW1lbnQ/LigpIGFzIEhUTUxFbGVtZW50IHwgbnVsbCk/LmZvY3VzPy4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdpdGggYSB3cmFwcGluZyBsYWJlbCwgd2UncmUganVzdCB1c2luZyB0aGUgaW5wdXQgZm9yIHZpc3VhbCBzdHlsaW5nIGFuZCBpZ25vcmluZyBhbGwgaW50ZXJhY3Rpb24uXG4gICAgICAgICAgICAgICAgLy8gV2l0aCBhIGRpdiwgd2UgZ2V0IHRoYXQgZm9yIGZyZWUgYW5kIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgaGVyZS5cbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAvLyBXcmFwcGluZyBsYWJlbHMgYXJlIHRoZSBhY3R1YWwgaW5wdXRzIHRoYXQgYXJlIGludGVyYWN0ZWQgd2l0aFxuICAgICAgICAgICAgLy8gQW5kIGFyZSB2ZXJ5IHNpbWlsYXIgY29uY2VwdHVhbGx5IHRvIGRpdiBpbnB1dHMgd2hlbiBzZXBhcmF0ZWRcbiAgICAgICAgICAgIHByb3BzVW5zdGFibGVMYWJlbC5yb2xlID0gcm9sZTtcbiAgICAgICAgICAgIHByb3BzVW5zdGFibGVMYWJlbC50YWJJbmRleCA9IDA7XG4gICAgICAgICAgICBwcm9wc1Vuc3RhYmxlTGFiZWxbXCJhcmlhLWNoZWNrZWRcIl0gPSAoY2hlY2tlZCA/PyBmYWxzZSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIHByb3BzVW5zdGFibGVMYWJlbFtcImFyaWEtZGlzYWJsZWRcIl0gPSAoISFkaXNhYmxlZCkudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByYW5kb21JZElucHV0UmV0dXJuLFxuICAgICAgICByYW5kb21JZExhYmVsUmV0dXJuLFxuICAgICAgICBwcmVzc0lucHV0UmV0dXJuLFxuICAgICAgICBwcmVzc0xhYmVsUmV0dXJuLFxuICAgICAgICBjaGVja2JveExpa2VJbnB1dFJldHVybjogeyBwcm9wc1Vuc3RhYmxlOiBwcm9wc1Vuc3RhYmxlSW5wdXQgfSxcbiAgICAgICAgY2hlY2tib3hMaWtlTGFiZWxSZXR1cm46IHsgcHJvcHNVbnN0YWJsZTogcHJvcHNVbnN0YWJsZUxhYmVsIH0sXG4gICAgICAgIHByb3BzSW5wdXQ6IHVzZU1lcmdlZFByb3BzKHByb3BzSW5wdXQsIHByb3BzVW5zdGFibGVJbnB1dCwgcHJlc3NJbnB1dFJldHVybi5wcm9wc1Vuc3RhYmxlLCByZWZFbGVtZW50SW5wdXRSZXR1cm4ucHJvcHNTdGFibGUpLFxuICAgICAgICBwcm9wc0xhYmVsOiB1c2VNZXJnZWRQcm9wcyhwcm9wc0xhYmVsLCBwcm9wc1Vuc3RhYmxlTGFiZWwsIHByZXNzTGFiZWxSZXR1cm4ucHJvcHNVbnN0YWJsZSwgcmVmRWxlbWVudExhYmVsUmV0dXJuLnByb3BzU3RhYmxlKSxcbiAgICAgICAgY2hlY2tib3hMaWtlUmV0dXJuOiB7IGZvY3VzU2VsZiB9XG4gICAgfVxufVxuXG5cblxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHJldHVybkZhbHNlLCB1c2VTdGFibGVDYWxsYmFjayB9IGZyb20gXCJwcmVhY3QtcHJvcC1oZWxwZXJzXCI7XG5pbXBvcnQgeyBkZWJ1Z0xvZywgRW5oYW5jZWRFdmVudCwgZW5oYW5jZUV2ZW50LCBPbWl0U3Ryb25nLCBQcmVmaWNlcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyB1c2VDaGVja2JveExpa2UsIFVzZUNoZWNrYm94TGlrZVBhcmFtZXRlcnMsIFVzZUNoZWNrYm94TGlrZVJldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtY2hlY2tib3gtbGlrZVwiO1xuaW1wb3J0IHsgTGFiZWxQb3NpdGlvbiB9IGZyb20gXCIuL3VzZS1sYWJlbFwiO1xuXG5cblxuZXhwb3J0IHR5cGUgQ2hlY2tib3hDaGFuZ2VFdmVudDxFIGV4dGVuZHMgRXZlbnRUYXJnZXQ+ID0gRW5oYW5jZWRFdmVudDxFLCBFdmVudCwgeyBjaGVja2VkOiBib29sZWFuIH0+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNoZWNrYm94UGFyYW1ldGVyczxMUCBleHRlbmRzIExhYmVsUG9zaXRpb24sIEkgZXh0ZW5kcyBFbGVtZW50LCBMIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNoZWNrYm94TGlrZVBhcmFtZXRlcnM8TFAsIEksIEw+LCBcImNoZWNrYm94TGlrZVBhcmFtZXRlcnNcIiB8IFwicmFuZG9tSWRJbnB1dFBhcmFtZXRlcnNcIiB8IFwicmFuZG9tSWRMYWJlbFBhcmFtZXRlcnNcIj4ge1xuICAgIGNoZWNrYm94TGlrZVBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlQ2hlY2tib3hMaWtlUGFyYW1ldGVyczxMUCwgSSwgTD5bXCJjaGVja2JveExpa2VQYXJhbWV0ZXJzXCJdLCBcIm9uSW5wdXRcIiB8IFwicm9sZVwiPjtcbiAgICBjaGVja2JveFBhcmFtZXRlcnM6IHtcbiAgICAgICAgb25DaGVja2VkQ2hhbmdlKGV2ZW50OiBDaGVja2JveENoYW5nZUV2ZW50PEk+KTogdm9pZDtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ2hlY2tib3hSZXR1cm5UeXBlPElucHV0VHlwZSBleHRlbmRzIEVsZW1lbnQsIExhYmVsVHlwZSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlQ2hlY2tib3hMaWtlUmV0dXJuVHlwZTxJbnB1dFR5cGUsIExhYmVsVHlwZT4ge1xuICAgIGNoZWNrYm94UmV0dXJuOiB7IHByb3BzVW5zdGFibGU6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPElucHV0VHlwZT4gfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2hlY2tib3g8TFAgZXh0ZW5kcyBMYWJlbFBvc2l0aW9uLCBJbnB1dFR5cGUgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbFR5cGUgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgY2hlY2tib3hQYXJhbWV0ZXJzOiB7IG9uQ2hlY2tlZENoYW5nZSB9LFxuICAgIGNoZWNrYm94TGlrZVBhcmFtZXRlcnMsXG4gICAgbGFiZWxQYXJhbWV0ZXJzLFxuICAgIHJlZkVsZW1lbnRJbnB1dFJldHVybixcbiAgICByZWZFbGVtZW50TGFiZWxSZXR1cm5cbn06IFVzZUNoZWNrYm94UGFyYW1ldGVyczxMUCwgSW5wdXRUeXBlLCBMYWJlbFR5cGU+KTogVXNlQ2hlY2tib3hSZXR1cm5UeXBlPElucHV0VHlwZSwgTGFiZWxUeXBlPiB7XG4gICAgZGVidWdMb2coXCJ1c2VDaGVja2JveFwiKTtcblxuICAgIGNvbnN0IHsgdGFnSW5wdXQsIGxhYmVsUG9zaXRpb24gfSA9IGxhYmVsUGFyYW1ldGVycztcbiAgICBjb25zdCB7IGNoZWNrZWQgfSA9IGNoZWNrYm94TGlrZVBhcmFtZXRlcnM7XG5cbiAgICBjb25zdCBvbklucHV0RW5oYW5jZWQgPSB1c2VTdGFibGVDYWxsYmFjaygoZTogRXZlbnQpID0+IG9uQ2hlY2tlZENoYW5nZT8uKGVuaGFuY2VFdmVudDxJbnB1dFR5cGUsIEV2ZW50LCB7IGNoZWNrZWQ6IGJvb2xlYW4gfT4oZSwgeyBjaGVja2VkOiAhY2hlY2tlZCB9KSkpO1xuICAgIGNvbnN0IHtcbiAgICAgICAgcHJlc3NJbnB1dFJldHVybixcbiAgICAgICAgcHJlc3NMYWJlbFJldHVybixcbiAgICAgICAgcmFuZG9tSWRJbnB1dFJldHVybixcbiAgICAgICAgcmFuZG9tSWRMYWJlbFJldHVybixcbiAgICAgICAgcHJvcHNJbnB1dCxcbiAgICAgICAgcHJvcHNMYWJlbCxcbiAgICAgICAgY2hlY2tib3hMaWtlUmV0dXJuLFxuICAgICAgICBjaGVja2JveExpa2VJbnB1dFJldHVybixcbiAgICAgICAgY2hlY2tib3hMaWtlTGFiZWxSZXR1cm5cbiAgICB9ID0gdXNlQ2hlY2tib3hMaWtlPExQLCBJbnB1dFR5cGUsIExhYmVsVHlwZT4oe1xuICAgICAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLmNoZWNrYm94TGlrZUlucHV0IH0sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzOiB7IHByZWZpeDogUHJlZmljZXMuY2hlY2tib3hMaWtlTGFiZWwgfSxcbiAgICAgICAgcmVmRWxlbWVudElucHV0UmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50TGFiZWxSZXR1cm4sXG4gICAgICAgIGNoZWNrYm94TGlrZVBhcmFtZXRlcnM6IHsgcm9sZTogXCJjaGVja2JveFwiLCBvbklucHV0OiBvbklucHV0RW5oYW5jZWQsIC4uLmNoZWNrYm94TGlrZVBhcmFtZXRlcnMgfSxcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7IGV4Y2x1ZGVTcGFjZTogcmV0dXJuRmFsc2UgfSxcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzXG4gICAgfSk7XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoZWNrYm94UmV0dXJuOiB7IHByb3BzVW5zdGFibGU6IHsgdHlwZTogKHRhZ0lucHV0ID09IFwiaW5wdXRcIiAmJiBsYWJlbFBvc2l0aW9uICE9IFwid3JhcHBpbmdcIiA/IFwiY2hlY2tib3hcIiA6IHVuZGVmaW5lZCkgfSB9LFxuICAgICAgICBjaGVja2JveExpa2VSZXR1cm4sXG4gICAgICAgIHByZXNzSW5wdXRSZXR1cm4sXG4gICAgICAgIHByZXNzTGFiZWxSZXR1cm4sXG4gICAgICAgIHJhbmRvbUlkSW5wdXRSZXR1cm4sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxSZXR1cm4sXG4gICAgICAgIHByb3BzSW5wdXQsXG4gICAgICAgIHByb3BzTGFiZWwsXG4gICAgICAgIGNoZWNrYm94TGlrZUlucHV0UmV0dXJuLFxuICAgICAgICBjaGVja2JveExpa2VMYWJlbFJldHVyblxuICAgIH07XG5cbn1cbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ29udGV4dCwgUGFzc2l2ZVN0YXRlVXBkYXRlciwgcmV0dXJuRmFsc2UsIHJldHVybk51bGwsIHJldHVyblplcm8sIHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb24sIHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZCwgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbywgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycywgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZSwgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnMsIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlLCB1c2VNZXJnZWRQcm9wcywgdXNlUGFzc2l2ZVN0YXRlLCB1c2VTdGFibGVDYWxsYmFjaywgdXNlU3RhYmxlR2V0dGVyLCB1c2VTdGFibGVPYmplY3QsIHVzZVN0YXRlIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IFN0YXRlVXBkYXRlciwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBDaGVja2JveENoZWNrZWRUeXBlIH0gZnJvbSBcIi4vdXNlLWNoZWNrYm94LWxpa2VcIjtcbmltcG9ydCB7IGRlYnVnTG9nLCBFbmhhbmNlZEV2ZW50LCBPbWl0U3Ryb25nIH0gZnJvbSBcIi4vcHJvcHNcIjtcblxuZXhwb3J0IHR5cGUgQ2hlY2tib3hHcm91cENoYW5nZUV2ZW50PEUgZXh0ZW5kcyBFdmVudFRhcmdldD4gPSBFbmhhbmNlZEV2ZW50PEUsIEV2ZW50LCB7IGNoaWxkcmVuQ2hlY2tlZDogYm9vbGVhbiB8IE1hcDxudW1iZXIsIGJvb2xlYW4gfCBcIm1peGVkXCI+IH0+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNoZWNrYm94R3JvdXBQYXJhbWV0ZXJzPFBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBDaGVja2JveEdyb3VwSW5mbzxUYWJiYWJsZUNoaWxkRWxlbWVudD4+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVyczxQYXJlbnRFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudCwgTT4sIFwicGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzXCIgfCBcInNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnNcIj4ge1xuXG59XG5cbmludGVyZmFjZSBDaGVja2JveEdyb3VwSW5mb0Jhc2VCYXNlPFRDRSBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBfZT86IFRDRTtcbn1cblxuaW50ZXJmYWNlIENoZWNrYm94R3JvdXBJbmZvQmFzZTE8VENFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBDaGVja2JveEdyb3VwSW5mb0Jhc2VCYXNlPFRDRT4ge1xuICAgIGNoZWNrYm94Q2hpbGRUeXBlOiBcInBhcmVudFwiO1xufVxuXG5pbnRlcmZhY2UgQ2hlY2tib3hHcm91cEluZm9CYXNlMjxUQ0UgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIENoZWNrYm94R3JvdXBJbmZvQmFzZUJhc2U8VENFPiB7XG4gICAgY2hlY2tib3hDaGlsZFR5cGU6IFwiY2hpbGRcIjtcbiAgICBnZXRDaGVja2VkKCk6IGJvb2xlYW4gfCBcIm1peGVkXCI7XG4gICAgZ2V0TGFzdFVzZXJDaGVja2VkKCk6IGJvb2xlYW4gfCBcIm1peGVkXCI7XG4gICAgc2V0Q2hlY2tlZEZyb21QYXJlbnRJbnB1dChuZXdDaGVja2VkOiBDaGVja2JveENoZWNrZWRUeXBlLCBlOiBFdmVudCk6IHZvaWQgfCBQcm9taXNlPHZvaWQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoZWNrYm94R3JvdXBJbmZvPFRDRSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxUQ0U+IHtcbiAgICBjaGVja2JveEluZm86IChDaGVja2JveEdyb3VwSW5mb0Jhc2UxPFRDRT4gfCBDaGVja2JveEdyb3VwSW5mb0Jhc2UyPFRDRT4pO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlQ2hlY2tib3hHcm91cENoaWxkUGFyYW1ldGVyczxUQ0UgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgQ2hlY2tib3hHcm91cEluZm88VENFPj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8VENFLCBNLCBcImNoZWNrYm94SW5mb1wiPiwgXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCIgfCBcInNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyc1wiPiB7XG4gICAgY29udGV4dDogQ2hlY2tib3hHcm91cENvbnRleHQ8YW55LCBUQ0UsIE0+O1xuICAgIGNoZWNrYm94R3JvdXBDaGlsZDoge1xuICAgICAgICBjaGVja2VkOiBDaGVja2JveENoZWNrZWRUeXBlO1xuICAgICAgICBvbkNoYW5nZUZyb21QYXJlbnQoY2hlY2tlZDogQ2hlY2tib3hDaGVja2VkVHlwZSwgZTogRXZlbnQpOiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcbiAgICB9XG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzPFRDRSwgTSwgbmV2ZXI+W1wibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiXSwgbmV2ZXI+O1xufVxuZXhwb3J0IGludGVyZmFjZSBVc2VDaGVja2JveEdyb3VwQ2hpbGRSZXR1cm5UeXBlPFRDRSBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBDaGVja2JveEdyb3VwSW5mbzxUQ0U+PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZTxUQ0UsIE0+LCBcInNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuXCI+IHtcbiAgICBjaGVja2JveEdyb3VwQ2hpbGQ6IHtcbiAgICAgICAgb25Db250cm9sSWRDaGFuZ2VkOiAobmV4dDogc3RyaW5nIHwgdW5kZWZpbmVkLCBwcmV2OiBzdHJpbmcgfCB1bmRlZmluZWQpID0+IHZvaWQ7XG4gICAgICAgIG9uQ2hpbGRDaGVja2VkQ2hhbmdlOiAoY2hlY2tlZDogQ2hlY2tib3hDaGVja2VkVHlwZSkgPT4gdm9pZDtcbiAgICB9XG59XG5cblxuZXhwb3J0IHR5cGUgVXNlQ2hlY2tib3hHcm91cENoaWxkPElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRDRSBleHRlbmRzIElucHV0RWxlbWVudCB8IExhYmVsRWxlbWVudCwgTSBleHRlbmRzIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+ID0gKGFyZ3M6IFVzZUNoZWNrYm94R3JvdXBDaGlsZFBhcmFtZXRlcnM8VENFLCBNPikgPT4gVXNlQ2hlY2tib3hHcm91cENoaWxkUmV0dXJuVHlwZTxUQ0UsIE0+XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNoZWNrYm94R3JvdXBSZXR1cm5UeXBlPEdyb3VwRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRDRSBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBDaGVja2JveEdyb3VwSW5mbzxUQ0U+PiBleHRlbmRzIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPEdyb3VwRWxlbWVudCwgVENFLCBNPiB7XG4gICAgY29udGV4dDogQ2hlY2tib3hHcm91cENvbnRleHQ8R3JvdXBFbGVtZW50LCBUQ0UsIE0+O1xufVxuXG5cblxuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWludGVyZmFjZSAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VDaGVja2JveEdyb3VwUGFyZW50UGFyYW1ldGVyczxUQ0UgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgQ2hlY2tib3hHcm91cEluZm88VENFPj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8VENFLCBNLCBuZXZlcj4sIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiIHwgXCJzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnNcIj4ge1xuICAgIGNvbnRleHQ6IENoZWNrYm94R3JvdXBDb250ZXh0PGFueSwgVENFLCBNPjtcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8VENFLCBDaGVja2JveEdyb3VwSW5mbzxUQ0U+LCBuZXZlcj5bXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCJdLCBuZXZlcj5cbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUNoZWNrYm94R3JvdXBQYXJlbnRSZXR1cm5UeXBlPFRDRSBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBDaGVja2JveEdyb3VwSW5mbzxUQ0U+PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZTxUQ0UsIE0+LCBcInByZXNzUGFyYW1ldGVyc1wiPiB7XG4gICAgY2hlY2tib3hHcm91cFBhcmVudFJldHVybjoge1xuICAgICAgICBjaGVja2VkOiBDaGVja2JveENoZWNrZWRUeXBlO1xuICAgICAgICBnZXRQZXJjZW50KCk6IG51bWJlcjtcbiAgICAgICAgb25QYXJlbnRDaGVja2VkQ2hhbmdlOiAoZTogRXZlbnQpID0+IFByb21pc2U8dm9pZD47XG4gICAgfVxufVxuXG5cblxuZXhwb3J0IGludGVyZmFjZSBDaGVja2JveEdyb3VwQ29udGV4dDxHcm91cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUQ0UgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgQ2hlY2tib3hHcm91cEluZm88VENFPj4gZXh0ZW5kcyBDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ29udGV4dDxHcm91cEVsZW1lbnQsIFRDRSwgTT4ge1xuICAgIC8vIHBhcmVudFxuICAgIGNoZWNrYm94R3JvdXBQYXJlbnRDb250ZXh0OiB7XG5cbiAgICAgICAgLy8gV2hhdCBhIGhvcnJpZnlpbmcgdHlwZS4gIE5hbWUgdGhpcyBiZXR0ZXIgcGxlYXNlLlxuICAgICAgICBzZXRTZXR0ZXI6IFBhc3NpdmVTdGF0ZVVwZGF0ZXI8U3RhdGVVcGRhdGVyPHN0cmluZz4gfCBudWxsLCBFdmVudD47XG5cbiAgICAgICAgLy8gd2h5eXl5eVxuICAgICAgICBzZXRTZXRQYXJlbnRDaGVja2JveENoZWNrZWQ6IFBhc3NpdmVTdGF0ZVVwZGF0ZXI8U3RhdGVVcGRhdGVyPENoZWNrYm94Q2hlY2tlZFR5cGU+IHwgbnVsbCwgRXZlbnQ+O1xuXG4gICAgICAgIGdldFBlcmNlbnRDaGVja2VkOiAodG90YWxDaGVja2VkOiBudW1iZXIsIHRvdGFsQ2hpbGRyZW46IG51bWJlcikgPT4gbnVtYmVyO1xuXG4gICAgICAgIGdldFRvdGFsQ2hlY2tlZDogKCkgPT4gbnVtYmVyO1xuICAgICAgICBnZXRUb3RhbENoaWxkcmVuOiAoKSA9PiBudW1iZXI7XG5cbiAgICAgICAgb25DaGVja2JveEdyb3VwUGFyZW50SW5wdXQ6IChlOiBFdmVudCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgICB9XG4gICAgY2hlY2tib3hHcm91cENoaWxkcmVuQ29udGV4dDoge1xuXG4gICAgICAgIC8vIGNoaWxkcmVuXG4gICAgICAgIHNldFVwZGF0ZUluZGV4OiBQYXNzaXZlU3RhdGVVcGRhdGVyPG51bWJlciwgRXZlbnQ+O1xuICAgICAgICBhbGxJZHM6IFNldDxzdHJpbmc+O1xuICAgICAgICBzZXRUb3RhbENoaWxkcmVuOiBQYXNzaXZlU3RhdGVVcGRhdGVyPG51bWJlciwgRXZlbnQ+O1xuICAgICAgICBzZXRUb3RhbENoZWNrZWQ6IFBhc3NpdmVTdGF0ZVVwZGF0ZXI8bnVtYmVyLCBFdmVudD47XG4gICAgfVxuXG59XG5cbi8qKlxuICogXG4gKiBcbiAqIEBwYXJhbSBwYXJhbTAgXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNoZWNrYm94R3JvdXA8R3JvdXBFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVENFIGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyc1xufTogVXNlQ2hlY2tib3hHcm91cFBhcmFtZXRlcnM8R3JvdXBFbGVtZW50LCBUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+KTogVXNlQ2hlY2tib3hHcm91cFJldHVyblR5cGU8R3JvdXBFbGVtZW50LCBUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+IHtcbiAgICBkZWJ1Z0xvZyhcInVzZUNoZWNrYm94R3JvdXBcIik7XG4gICAgY29uc3Qge1xuICAgICAgICBjaGlsZHJlbkhhdmVGb2N1c1JldHVybixcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICByb3ZpbmdUYWJJbmRleFJldHVybixcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uUmV0dXJuLFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm5cbiAgICB9ID0gdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbjxHcm91cEVsZW1lbnQsIFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnM6IHsgaW5pdGlhbGx5U2VsZWN0ZWRJbmRleDogbnVsbCwgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBudWxsIH0sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgcGFnaW5hdGlvbk1heDogbnVsbCwgcGFnaW5hdGlvbk1pbjogbnVsbCB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1xuICAgIH0pO1xuXG4gICAgY29uc3QgeyBnZXRDaGlsZHJlbiB9ID0gbWFuYWdlZENoaWxkcmVuUmV0dXJuO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gZ2V0Q2hpbGRyZW4oKTtcblxuXG4gICAgLy8gS2VlcCB0cmFjayBvZiBhbGwgY2hpbGQgSURzLCBhbmQgYW55IHRpbWUgYW55IG9mIHRoZW0gY2hhbmdlLCBcbiAgICAvLyBnZW5lcmF0ZSBhIG5ldyBzdHJpbmcgd2l0aCBhbGwgb2YgdGhlbSBjb25jYXRlbmF0ZWQgdG9nZXRoZXJcbiAgICAvLyAoYnV0IG9ubHkgb25jZSBwZXIgcmVuZGVyKTtcbiAgICBjb25zdCBhbGxJZHMgPSB1c2VSZWYobmV3IFNldDxzdHJpbmc+KCkpO1xuICAgIGNvbnN0IHVwZGF0ZVBhcmVudENvbnRyb2xJZHMgPSB1c2VTdGFibGVDYWxsYmFjaygoc2V0dGVyOiBTdGF0ZVVwZGF0ZXI8c3RyaW5nPiB8IG51bGwpID0+IHsgc2V0dGVyPy4oQXJyYXkuZnJvbShhbGxJZHMuY3VycmVudCkuam9pbihcIiBcIikpIH0pO1xuICAgIGNvbnN0IFtnZXRTZXR0ZXIsIHNldFNldHRlcl0gPSB1c2VQYXNzaXZlU3RhdGU8U3RhdGVVcGRhdGVyPHN0cmluZz4gfCBudWxsLCBFdmVudD4odXBkYXRlUGFyZW50Q29udHJvbElkcywgcmV0dXJuTnVsbCk7XG4gICAgY29uc3QgW19nZXRVcGRhdGVJbmRleCwgc2V0VXBkYXRlSW5kZXhdID0gdXNlUGFzc2l2ZVN0YXRlPG51bWJlciwgRXZlbnQ+KHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHsgdXBkYXRlUGFyZW50Q29udHJvbElkcyhnZXRTZXR0ZXIoKSkgfSksIHJldHVyblplcm8pO1xuXG4gICAgLy8gTG90cyBvZiBtYWNoZW5lcnkgdG8gdHJhY2sgd2hhdCB0b3RhbCBwZXJjZW50YWdlIG9mIGFsbCBjaGVja2JveGVzIGFyZSBjaGVja2VkLFxuICAgIC8vIGFuZCBub3RpZnlpbmcgdGhlIHBhcmVudCBjaGVja2JveCBvZiB0aGlzIGluZm9ybWF0aW9uICh3aGlsZSByZS1yZW5kZXJpbmcgYXMgbGl0dGxlIGFzIHBvc3NpYmxlKVxuICAgIGNvbnN0IGdldFNlbGZJc0NoZWNrZWQgPSB1c2VDYWxsYmFjaygocGVyY2VudENoZWNrZWQ6IG51bWJlcik6IENoZWNrYm94Q2hlY2tlZFR5cGUgPT4geyByZXR1cm4gcGVyY2VudENoZWNrZWQgPD0gMCA/IGZhbHNlIDogcGVyY2VudENoZWNrZWQgPj0gMSA/IHRydWUgOiBcIm1peGVkXCI7IH0sIFtdKTtcbiAgICBjb25zdCBvbkFueUNoaWxkQ2hlY2tlZFVwZGF0ZSA9IHVzZVN0YWJsZUNhbGxiYWNrKChzZXR0ZXI6IFN0YXRlVXBkYXRlcjxDaGVja2JveENoZWNrZWRUeXBlPiB8IG51bGwsIHBlcmNlbnRDaGVja2VkOiBudW1iZXIpID0+IHsgc2V0dGVyPy4oZ2V0U2VsZklzQ2hlY2tlZChwZXJjZW50Q2hlY2tlZCkpOyB9KVxuICAgIGNvbnN0IFtnZXRUb3RhbENoaWxkcmVuLCBzZXRUb3RhbENoaWxkcmVuXSA9IHVzZVBhc3NpdmVTdGF0ZSh1c2VDYWxsYmFjaygodG90YWxDaGlsZHJlbjogbnVtYmVyKSA9PiB7IG9uQW55Q2hpbGRDaGVja2VkVXBkYXRlKGdldFNldFBhcmVudENoZWNrYm94Q2hlY2tlZCgpLCBnZXRQZXJjZW50Q2hlY2tlZChnZXRUb3RhbENoZWNrZWQoKSwgdG90YWxDaGlsZHJlbikpIH0sIFtdKSwgcmV0dXJuWmVybyk7XG4gICAgY29uc3QgW2dldFRvdGFsQ2hlY2tlZCwgc2V0VG90YWxDaGVja2VkXSA9IHVzZVBhc3NpdmVTdGF0ZSh1c2VDYWxsYmFjaygodG90YWxDaGVja2VkOiBudW1iZXIpID0+IHsgb25BbnlDaGlsZENoZWNrZWRVcGRhdGUoZ2V0U2V0UGFyZW50Q2hlY2tib3hDaGVja2VkKCksIGdldFBlcmNlbnRDaGVja2VkKHRvdGFsQ2hlY2tlZCwgZ2V0VG90YWxDaGlsZHJlbigpKSkgfSwgW10pLCByZXR1cm5aZXJvKTtcbiAgICBjb25zdCBnZXRQZXJjZW50Q2hlY2tlZCA9IHVzZUNhbGxiYWNrKCh0b3RhbENoZWNrZWQ6IG51bWJlciwgdG90YWxDaGlsZHJlbjogbnVtYmVyKTogbnVtYmVyID0+IHtcbiAgICAgICAgaWYgKHRvdGFsQ2hpbGRyZW4gPiAwKVxuICAgICAgICAgICAgcmV0dXJuIHRvdGFsQ2hlY2tlZCAvIHRvdGFsQ2hpbGRyZW47XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiAodG90YWxDaGVja2VkID09IDAgPyAwIDogMSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgW2dldFNldFBhcmVudENoZWNrYm94Q2hlY2tlZCwgc2V0U2V0UGFyZW50Q2hlY2tib3hDaGVja2VkXSA9IHVzZVBhc3NpdmVTdGF0ZTxTdGF0ZVVwZGF0ZXI8Q2hlY2tib3hDaGVja2VkVHlwZT4gfCBudWxsLCBFdmVudD4odXNlU3RhYmxlQ2FsbGJhY2soKHNldHRlcjogU3RhdGVVcGRhdGVyPENoZWNrYm94Q2hlY2tlZFR5cGU+IHwgbnVsbCkgPT4ge1xuICAgICAgICBvbkFueUNoaWxkQ2hlY2tlZFVwZGF0ZShzZXR0ZXIsIGdldFBlcmNlbnRDaGVja2VkKGdldFRvdGFsQ2hlY2tlZCgpLCBnZXRUb3RhbENoaWxkcmVuKCkpKVxuICAgIH0pKTtcblxuXG4gICAgY29uc3Qgb25DaGVja2JveEdyb3VwUGFyZW50SW5wdXQgPSB1c2VDYWxsYmFjayhhc3luYyAoZTogRXZlbnQpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IHNlbGZJc0NoZWNrZWQgPSBnZXRTZWxmSXNDaGVja2VkKGdldFBlcmNlbnRDaGVja2VkKGdldFRvdGFsQ2hlY2tlZCgpLCBnZXRUb3RhbENoaWxkcmVuKCkpKTtcbiAgICAgICAgY29uc3QgbmV4dENoZWNrZWQgPSAoc2VsZklzQ2hlY2tlZCA9PT0gZmFsc2UgPyBcIm1peGVkXCIgOiBzZWxmSXNDaGVja2VkID09PSBcIm1peGVkXCIgPyB0cnVlIDogZmFsc2UpO1xuICAgICAgICBsZXQgd2lsbENoYW5nZUFueSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBwcm9taXNlczogUHJvbWlzZTxhbnk+W10gPSBbXTtcbiAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICBpZiAoY2hpbGQuY2hlY2tib3hJbmZvLmNoZWNrYm94Q2hpbGRUeXBlID09IFwiY2hpbGRcIilcbiAgICAgICAgICAgICAgICB3aWxsQ2hhbmdlQW55IHx8PSAoY2hpbGQuY2hlY2tib3hJbmZvLmdldENoZWNrZWQoKSAhPSBjaGlsZC5jaGVja2JveEluZm8uZ2V0TGFzdFVzZXJDaGVja2VkKCkpXG4gICAgICAgIH0pO1xuICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5jaGVja2JveEluZm8uY2hlY2tib3hDaGlsZFR5cGUgPT0gXCJjaGlsZFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNoZWNrZWQgPSBjaGlsZC5jaGVja2JveEluZm8uZ2V0Q2hlY2tlZCgpO1xuICAgICAgICAgICAgICAgIGxldCBjaGVja2VkOiBDaGVja2JveENoZWNrZWRUeXBlO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Q2hlY2tlZCA9PSBcIm1peGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbGxDaGFuZ2VBbnkpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkID0gKGNoaWxkLmNoZWNrYm94SW5mby5nZXRMYXN0VXNlckNoZWNrZWQoKSk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IG5leHRDaGVja2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZCAhPSBwcmV2Q2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9taXNlID0gY2hpbGQuY2hlY2tib3hJbmZvLnNldENoZWNrZWRGcm9tUGFyZW50SW5wdXQoY2hlY2tlZCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgfSwgW10pO1xuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICBjb250ZXh0OiB1c2VTdGFibGVPYmplY3Qoe1xuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgIGNoZWNrYm94R3JvdXBDaGlsZHJlbkNvbnRleHQ6IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgc2V0VXBkYXRlSW5kZXgsXG4gICAgICAgICAgICAgICAgYWxsSWRzOiBhbGxJZHMuY3VycmVudCxcbiAgICAgICAgICAgICAgICBzZXRUb3RhbENoZWNrZWQsXG4gICAgICAgICAgICAgICAgc2V0VG90YWxDaGlsZHJlblxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjaGVja2JveEdyb3VwUGFyZW50Q29udGV4dDogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgICAgICBzZXRTZXR0ZXIsXG4gICAgICAgICAgICAgICAgc2V0U2V0UGFyZW50Q2hlY2tib3hDaGVja2VkLFxuICAgICAgICAgICAgICAgIGdldFBlcmNlbnRDaGVja2VkLFxuICAgICAgICAgICAgICAgIGdldFRvdGFsQ2hlY2tlZCxcbiAgICAgICAgICAgICAgICBnZXRUb3RhbENoaWxkcmVuLFxuICAgICAgICAgICAgICAgIG9uQ2hlY2tib3hHcm91cFBhcmVudElucHV0LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSksXG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybixcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICByb3ZpbmdUYWJJbmRleFJldHVybixcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVyblxuICAgIH07XG59XG5cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2hlY2tib3hHcm91cFBhcmVudDxUQ0UgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICBjb250ZXh0LFxuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzLFxuICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzLFxufTogVXNlQ2hlY2tib3hHcm91cFBhcmVudFBhcmFtZXRlcnM8VENFLCBDaGVja2JveEdyb3VwSW5mbzxUQ0U+Pik6IFVzZUNoZWNrYm94R3JvdXBQYXJlbnRSZXR1cm5UeXBlPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4ge1xuICAgIGNvbnN0IHsgY2hlY2tib3hHcm91cFBhcmVudENvbnRleHQ6IHsgc2V0U2V0dGVyLCBzZXRTZXRQYXJlbnRDaGVja2JveENoZWNrZWQsIGdldFBlcmNlbnRDaGVja2VkLCBnZXRUb3RhbENoZWNrZWQsIGdldFRvdGFsQ2hpbGRyZW4sIG9uQ2hlY2tib3hHcm91cFBhcmVudElucHV0IH0gfSA9IGNvbnRleHQ7XG4gICAgY29uc3Qge1xuICAgICAgICBoYXNDdXJyZW50Rm9jdXNSZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZFJldHVybixcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzLFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRSZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkUmV0dXJuLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybixcbiAgICB9ID0gdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPiwgbmV2ZXI+KHtcbiAgICAgICAgY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgICAgIC8vIHNpbmdsZSBzZWxlY3Rpb24gaXNuJ3QgdXNlZCBiZWNhdXNlIGNoZWNrYm94ZXMgYXJlIG11bHRpc2VsZWN0OyBcImRpc2FibGVkXCIgcmVmZXJzIG9ubHkgdG8gdGhhdC5cbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGFyaWFQcm9wTmFtZTogbnVsbCwgc2VsZWN0aW9uTW9kZTogXCJkaXNhYmxlZFwiLCBkaXNhYmxlZDogdHJ1ZSB9LFxuICAgIH0pO1xuXG4gICAgY29uc3QgW2FyaWFDb250cm9scywgc2V0Q29udHJvbHNdID0gdXNlU3RhdGUoXCJcIik7XG4gICAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0U2V0dGVyKCgpID0+IHNldENvbnRyb2xzKTtcbiAgICB9LCBbc2V0Q29udHJvbHNdKTtcbiAgICBkZWJ1Z0xvZyhcInVzZUNoZWNrYm94R3JvdXBQYXJlbnRcIik7XG5cbiAgICBjb25zdCBbY2hlY2tlZCwgc2V0Q2hlY2tlZF0gPSB1c2VTdGF0ZTxDaGVja2JveENoZWNrZWRUeXBlPihmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0U2V0UGFyZW50Q2hlY2tib3hDaGVja2VkKCgpID0+IHNldENoZWNrZWQpO1xuICAgIH0sIFtdKVxuXG4gICAgY29uc3QgY2hlY2tib3hHcm91cFBhcmVudFJldHVybiA9IHsgY2hlY2tlZCwgb25QYXJlbnRDaGVja2VkQ2hhbmdlOiBvbkNoZWNrYm94R3JvdXBQYXJlbnRJbnB1dCwgZ2V0UGVyY2VudDogdXNlU3RhYmxlQ2FsbGJhY2soKCkgPT4geyByZXR1cm4gZ2V0UGVyY2VudENoZWNrZWQoZ2V0VG90YWxDaGVja2VkKCksIGdldFRvdGFsQ2hpbGRyZW4oKSkgfSkgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBjaGVja2JveEdyb3VwUGFyZW50UmV0dXJuLFxuICAgICAgICBoYXNDdXJyZW50Rm9jdXNSZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZFJldHVybixcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRSZXR1cm4sXG4gICAgICAgIHJlZkVsZW1lbnRSZXR1cm4sXG4gICAgICAgIHByb3BzOiB1c2VNZXJnZWRQcm9wcyh7IFwiYXJpYS1jb250cm9sc1wiOiBhcmlhQ29udHJvbHMgfSBhcyBoLkpTWC5IVE1MQXR0cmlidXRlczxUQ0U+LCBwcm9wcyksXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkUmV0dXJuLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybixcbiAgICB9XG59XG5cblxuLyoqXG4gKiBJbXBsZW1lbnRzIHRoZSBcImNoaWxkXCIgcGFydCBvZiBhIGNoZWNrYm94IGdyb3VwLlxuICogXG4gKiBEb2VzIG5vdCBpbXBsZW1lbnQgYW55IGFjdHVhbCBcImNoZWNrYm94XCIgZnVuY3Rpb25hbGl0eSxcbiAqIGJ1dCBpdCBkb2VzIHRlbGwgeW91IHdoYXQgdG8gZG8gKndpdGgqIGEgY2hlY2tib3guXG4gKiBcbiAqIChUaGF0IGlzIHRvIHNheSwgdXNlIGBvbkNoaWxkQ2hlY2tlZENoYW5nZWAgd2hlbmV2ZXJcbiAqIHlvdXIgY2hlY2tib3ggb3IgY2hlY2tib3gtbGlrZSB0aGluZyBjaGFuZ2VzLCBhbmRcbiAqIHByb3Blcmx5IGltcGxlbWVudCBgb25DaGFuZ2VGcm9tUGFyZW50YCB0byB3b3JrXG4gKiBwcm9wZXJseSB3aGVuIHRoZSBwYXJlbnQgY2hhbmdlcylcbiAqIFxuICogQHBhcmFtIHBhcmFtMCBcbiAqIEByZXR1cm5zIFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQ2hlY2tib3hHcm91cENoaWxkPFRDRSBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBjaGVja2JveEdyb3VwQ2hpbGQsXG4gICAgY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICBjb250ZXh0LFxuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXG4gICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzLFxuICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzLFxuICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzLFxufTogVXNlQ2hlY2tib3hHcm91cENoaWxkUGFyYW1ldGVyczxUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+KTogVXNlQ2hlY2tib3hHcm91cENoaWxkUmV0dXJuVHlwZTxUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+IHtcbiAgICBjb25zdCB7IGNoZWNrYm94R3JvdXBDaGlsZHJlbkNvbnRleHQ6IHsgYWxsSWRzLCBzZXRVcGRhdGVJbmRleCwgc2V0VG90YWxDaGlsZHJlbiwgc2V0VG90YWxDaGVja2VkLCB9IH0gPSBjb250ZXh0O1xuXG4gICAgZGVidWdMb2coXCJ1c2VDaGVja2JveEdyb3VwQ2hpbGRcIiwgbWFuYWdlZENoaWxkUGFyYW1ldGVycy5pbmRleCk7XG5cbiAgICBjb25zdCB7IGNoZWNrZWQsIG9uQ2hhbmdlRnJvbVBhcmVudCB9ID0gY2hlY2tib3hHcm91cENoaWxkO1xuICAgIGNvbnN0IGdldENoZWNrZWQgPSB1c2VTdGFibGVHZXR0ZXIoY2hlY2tlZCk7XG4gICAgY29uc3QgW2dldExhc3RVc2VyQ2hlY2tlZCwgc2V0TGFzdFVzZXJDaGVja2VkXSA9IHVzZVBhc3NpdmVTdGF0ZTxib29sZWFuIHwgXCJtaXhlZFwiLCBFdmVudD4obnVsbCwgcmV0dXJuRmFsc2UpO1xuICAgIGNvbnN0IG9uQ2hpbGRDaGVja2VkQ2hhbmdlID0gdXNlU3RhYmxlQ2FsbGJhY2soKGNoZWNrZWQ6IENoZWNrYm94Q2hlY2tlZFR5cGUpID0+IHtcbiAgICAgICAgc2V0TGFzdFVzZXJDaGVja2VkKGNoZWNrZWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3Qgb25Db250cm9sSWRDaGFuZ2VkID0gdXNlQ2FsbGJhY2soKG5leHQ6IHN0cmluZyB8IHVuZGVmaW5lZCwgcHJldjogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgICAgIGlmIChwcmV2KVxuICAgICAgICAgICAgYWxsSWRzLmRlbGV0ZShwcmV2KTtcblxuICAgICAgICBpZiAobmV4dClcbiAgICAgICAgICAgIGFsbElkcy5hZGQobmV4dCk7XG5cbiAgICAgICAgaWYgKCEhbmV4dCB8fCAhIXByZXYpIHtcbiAgICAgICAgICAgIHNldFVwZGF0ZUluZGV4KGkgPT4gKChpID8/IDApICsgMSkpO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgc2V0VG90YWxDaGlsZHJlbihjID0+ICgoYyA/PyAwKSArIDEpKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHNldFRvdGFsQ2hpbGRyZW4oYyA9PiAoKGMgPz8gMCkgLSAxKSk7XG4gICAgfSwgW10pXG5cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChjaGVja2VkKSB7XG4gICAgICAgICAgICBzZXRUb3RhbENoZWNrZWQoYyA9PiAoKGMgPz8gMCkgKyAxKSk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gc2V0VG90YWxDaGVja2VkKGMgPT4gKChjID8/IDApIC0gMSkpO1xuICAgICAgICB9XG4gICAgfSwgW2NoZWNrZWRdKTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRSZXR1cm4sXG4gICAgICAgIHByZXNzUGFyYW1ldGVycywgICBcbiAgICAgICAgcmVmRWxlbWVudFJldHVybixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuOiBfc2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm4sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkUmV0dXJuLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZFJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybixcbiAgICB9ID0gdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPiwgbmV2ZXI+KHtcbiAgICAgICAgY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczogeyBjaGVja2JveEluZm86IHsgY2hlY2tib3hDaGlsZFR5cGU6IFwiY2hpbGRcIiwgZ2V0TGFzdFVzZXJDaGVja2VkLCBnZXRDaGVja2VkLCBzZXRDaGVja2VkRnJvbVBhcmVudElucHV0OiBvbkNoYW5nZUZyb21QYXJlbnQgfSwgLi4uY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyB9LFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IC4uLm1hbmFnZWRDaGlsZFBhcmFtZXRlcnMgfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVycyxcbiAgICAgICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyczogeyBhcmlhUHJvcE5hbWU6IG51bGwsIHNlbGVjdGlvbk1vZGU6IFwiZGlzYWJsZWRcIiwgZGlzYWJsZWQ6IHRydWUgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoZWNrYm94R3JvdXBDaGlsZDoge1xuICAgICAgICAgICAgb25DaGlsZENoZWNrZWRDaGFuZ2UsXG4gICAgICAgICAgICBvbkNvbnRyb2xJZENoYW5nZWRcbiAgICAgICAgfSxcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRSZXR1cm4sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkUmV0dXJuLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZFJldHVybixcbiAgICAgICAgcmVmRWxlbWVudFJldHVybixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHByZXNzUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybixcbiAgICB9XG59XG5cbiIsIlxyXG5pbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xyXG5pbXBvcnQgeyBmaW5kRmlyc3RGb2N1c2FibGUsIHVzZU1lcmdlZFByb3BzLCB1c2VNb2RhbCwgVXNlTW9kYWxQYXJhbWV0ZXJzLCBVc2VNb2RhbFJldHVyblR5cGUsIHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcclxuaW1wb3J0IHsgT21pdFN0cm9uZywgUHJlZmljZXMgfSBmcm9tIFwiLi9wcm9wc1wiO1xyXG5pbXBvcnQgeyB1c2VMYWJlbFN5bnRoZXRpYywgVXNlTGFiZWxTeW50aGV0aWNQYXJhbWV0ZXJzIH0gZnJvbSBcIi4vdXNlLWxhYmVsXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZURpYWxvZ1BhcmFtZXRlcnM8X0RpYWxvZ0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBfVGl0bGVFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZU1vZGFsUGFyYW1ldGVyczxcImVzY2FwZVwiIHwgXCJiYWNrZHJvcFwiPiwgXCJmb2N1c1RyYXBQYXJhbWV0ZXJzXCIgfCBcImRpc21pc3NQYXJhbWV0ZXJzXCI+IHtcclxuICAgIGZvY3VzVHJhcFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTW9kYWxQYXJhbWV0ZXJzPFwiZXNjYXBlXCIgfCBcImJhY2tkcm9wXCI+W1wiZm9jdXNUcmFwUGFyYW1ldGVyc1wiXSwgXCJ0cmFwQWN0aXZlXCIgfCBcIm9ubHlNb3ZlRm9jdXNcIj47XHJcbiAgICBkaXNtaXNzUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VNb2RhbFBhcmFtZXRlcnM8XCJlc2NhcGVcIiB8IFwiYmFja2Ryb3BcIj5bXCJkaXNtaXNzUGFyYW1ldGVyc1wiXSwgXCJjbG9zZU9uTG9zdEZvY3VzXCI+O1xyXG4gICAgbGFiZWxQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUxhYmVsU3ludGhldGljUGFyYW1ldGVyc1tcImxhYmVsUGFyYW1ldGVyc1wiXSwgXCJvbkxhYmVsQ2xpY2tcIj47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlRGlhbG9nUmV0dXJuVHlwZTxGb2N1c0NvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUG9wdXBFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGl0bGVFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZU1vZGFsUmV0dXJuVHlwZTxGb2N1c0NvbnRhaW5lckVsZW1lbnQsIFNvdXJjZUVsZW1lbnQsIFBvcHVwRWxlbWVudD4sIFwicHJvcHNQb3B1cFwiPiB7XHJcbiAgICBwcm9wc0RpYWxvZzogaC5KU1guSFRNTEF0dHJpYnV0ZXM8UG9wdXBFbGVtZW50PjtcclxuICAgIHByb3BzVGl0bGU6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFRpdGxlRWxlbWVudD47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VEaWFsb2c8Rm9jdXNDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgU291cmNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIERpYWxvZ0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUaXRsZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IGRpc21pc3NQYXJhbWV0ZXJzLCBlc2NhcGVEaXNtaXNzUGFyYW1ldGVycywgZm9jdXNUcmFwUGFyYW1ldGVycywgbGFiZWxQYXJhbWV0ZXJzIH06IFVzZURpYWxvZ1BhcmFtZXRlcnM8RGlhbG9nRWxlbWVudCwgVGl0bGVFbGVtZW50Pik6IFVzZURpYWxvZ1JldHVyblR5cGU8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBEaWFsb2dFbGVtZW50LCBUaXRsZUVsZW1lbnQ+IHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgICBmb2N1c1RyYXBSZXR1cm4sXHJcbiAgICAgICAgcHJvcHNGb2N1c0NvbnRhaW5lcixcclxuICAgICAgICBwcm9wc1BvcHVwLFxyXG4gICAgICAgIHByb3BzU291cmNlLFxyXG4gICAgICAgIHJlZkVsZW1lbnRQb3B1cFJldHVybixcclxuICAgICAgICByZWZFbGVtZW50U291cmNlUmV0dXJuXHJcbiAgICB9ID0gdXNlTW9kYWw8XCJlc2NhcGVcIiB8IFwiYmFja2Ryb3BcIiwgRm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBEaWFsb2dFbGVtZW50Pih7XHJcbiAgICAgICAgZGlzbWlzc1BhcmFtZXRlcnM6IHsgY2xvc2VPbkxvc3RGb2N1czogZmFsc2UsIC4uLmRpc21pc3NQYXJhbWV0ZXJzIH0sXHJcbiAgICAgICAgZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnMsXHJcbiAgICAgICAgZm9jdXNUcmFwUGFyYW1ldGVyczogeyB0cmFwQWN0aXZlOiB0cnVlLCBvbmx5TW92ZUZvY3VzOiBmYWxzZSwgLi4uZm9jdXNUcmFwUGFyYW1ldGVycyB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgcHJvcHNJbnB1dCxcclxuICAgICAgICBwcm9wc0xhYmVsXHJcbiAgICB9ID0gdXNlTGFiZWxTeW50aGV0aWM8RGlhbG9nRWxlbWVudCwgVGl0bGVFbGVtZW50Pih7XHJcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7XHJcbiAgICAgICAgICAgIC4uLmxhYmVsUGFyYW1ldGVycywgb25MYWJlbENsaWNrOiB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gcmVmRWxlbWVudFBvcHVwUmV0dXJuLmdldEVsZW1lbnQoKTtcclxuICAgICAgICAgICAgICAgIGZvY3VzVHJhcFBhcmFtZXRlcnMuZm9jdXNQb3B1cChlLCAoKSA9PiAoZmluZEZpcnN0Rm9jdXNhYmxlKGUhKSBhcyBIVE1MRWxlbWVudCB8IG51bGwpKTtcclxuXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSxcclxuICAgICAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLmRpYWxvZyB9LFxyXG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzOiB7IHByZWZpeDogUHJlZmljZXMuZGlhbG9nVGl0bGUgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBmb2N1c1RyYXBSZXR1cm4sXHJcbiAgICAgICAgcHJvcHNGb2N1c0NvbnRhaW5lcixcclxuICAgICAgICBwcm9wc0RpYWxvZzogdXNlTWVyZ2VkUHJvcHM8RGlhbG9nRWxlbWVudD4ocHJvcHNQb3B1cCwgcHJvcHNJbnB1dCksXHJcbiAgICAgICAgcHJvcHNTb3VyY2UsXHJcbiAgICAgICAgcHJvcHNUaXRsZTogcHJvcHNMYWJlbCxcclxuICAgICAgICByZWZFbGVtZW50UG9wdXBSZXR1cm4sXHJcbiAgICAgICAgcmVmRWxlbWVudFNvdXJjZVJldHVyblxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBmaW5kRmlyc3RGb2N1c2FibGUsIHVzZU1lcmdlZFByb3BzLCB1c2VNb2RhbCwgVXNlTW9kYWxQYXJhbWV0ZXJzLCBVc2VNb2RhbFJldHVyblR5cGUsIHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IE9taXRTdHJvbmcsIFByZWZpY2VzIH0gZnJvbSBcIi4vcHJvcHNcIjtcbmltcG9ydCB7IHVzZUxhYmVsU3ludGhldGljLCBVc2VMYWJlbFN5bnRoZXRpY1BhcmFtZXRlcnMgfSBmcm9tIFwiLi91c2UtbGFiZWxcIjtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VEcmF3ZXJQYXJhbWV0ZXJzPF9EaWFsb2dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgX1RpdGxlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VNb2RhbFBhcmFtZXRlcnM8XCJlc2NhcGVcIiB8IFwiYmFja2Ryb3BcIiB8IFwibG9zdC1mb2N1c1wiPiwgXCJmb2N1c1RyYXBQYXJhbWV0ZXJzXCI+IHtcbiAgICBsYWJlbFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTGFiZWxTeW50aGV0aWNQYXJhbWV0ZXJzW1wibGFiZWxQYXJhbWV0ZXJzXCJdLCBcIm9uTGFiZWxDbGlja1wiPjtcbiAgICBmb2N1c1RyYXBQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZU1vZGFsUGFyYW1ldGVyczxcImVzY2FwZVwiIHwgXCJiYWNrZHJvcFwiIHwgXCJsb3N0LWZvY3VzXCI+W1wiZm9jdXNUcmFwUGFyYW1ldGVyc1wiXSwgXCJvbmx5TW92ZUZvY3VzXCI+XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRHJhd2VyUmV0dXJuVHlwZTxGb2N1c0NvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgRHJhd2VyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRpdGxlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VNb2RhbFJldHVyblR5cGU8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBEcmF3ZXJFbGVtZW50PiwgXCJwcm9wc1BvcHVwXCI+IHtcbiAgICBwcm9wc0RyYXdlcjogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RHJhd2VyRWxlbWVudD47XG4gICAgcHJvcHNUaXRsZTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8VGl0bGVFbGVtZW50Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZURyYXdlcjxGb2N1c0NvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUG9wdXBFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGl0bGVFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oeyBkaXNtaXNzUGFyYW1ldGVycywgZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnMsIGZvY3VzVHJhcFBhcmFtZXRlcnMsIGxhYmVsUGFyYW1ldGVycyB9OiBVc2VEcmF3ZXJQYXJhbWV0ZXJzPFBvcHVwRWxlbWVudCwgVGl0bGVFbGVtZW50Pik6IFVzZURyYXdlclJldHVyblR5cGU8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBQb3B1cEVsZW1lbnQsIFRpdGxlRWxlbWVudD4ge1xuICAgIGNvbnN0IHtcbiAgICAgICAgZm9jdXNUcmFwUmV0dXJuLFxuICAgICAgICBwcm9wc0ZvY3VzQ29udGFpbmVyLFxuICAgICAgICBwcm9wc1BvcHVwLFxuICAgICAgICBwcm9wc1NvdXJjZSxcbiAgICAgICAgcmVmRWxlbWVudFBvcHVwUmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50U291cmNlUmV0dXJuXG4gICAgfSA9IHVzZU1vZGFsPFwiZXNjYXBlXCIgfCBcImJhY2tkcm9wXCIgfCBcImxvc3QtZm9jdXNcIiwgRm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBQb3B1cEVsZW1lbnQ+KHtcbiAgICAgICAgZGlzbWlzc1BhcmFtZXRlcnMsXG4gICAgICAgIGVzY2FwZURpc21pc3NQYXJhbWV0ZXJzLFxuICAgICAgICBmb2N1c1RyYXBQYXJhbWV0ZXJzOiB7IG9ubHlNb3ZlRm9jdXM6IGZhbHNlLCAuLi5mb2N1c1RyYXBQYXJhbWV0ZXJzIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcHNJbnB1dCxcbiAgICAgICAgcHJvcHNMYWJlbCxcbiAgICB9ID0gdXNlTGFiZWxTeW50aGV0aWM8UG9wdXBFbGVtZW50LCBUaXRsZUVsZW1lbnQ+KHtcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAuLi5sYWJlbFBhcmFtZXRlcnMsIG9uTGFiZWxDbGljazogdXNlU3RhYmxlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSByZWZFbGVtZW50UG9wdXBSZXR1cm4uZ2V0RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIGZvY3VzVHJhcFBhcmFtZXRlcnMuZm9jdXNQb3B1cChlLCAoKSA9PiAoZmluZEZpcnN0Rm9jdXNhYmxlKGUhKSBhcyBIVE1MRWxlbWVudCB8IG51bGwpKTtcblxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFBhcmFtZXRlcnM6IHsgcHJlZml4OiBQcmVmaWNlcy5kcmF3ZXIgfSxcbiAgICAgICAgcmFuZG9tSWRMYWJlbFBhcmFtZXRlcnM6IHsgcHJlZml4OiBQcmVmaWNlcy5kcmF3ZXJUaXRsZSB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBmb2N1c1RyYXBSZXR1cm4sXG4gICAgICAgIHByb3BzRm9jdXNDb250YWluZXIsXG4gICAgICAgIHByb3BzRHJhd2VyOiB1c2VNZXJnZWRQcm9wczxQb3B1cEVsZW1lbnQ+KHByb3BzUG9wdXAsIHByb3BzSW5wdXQpLFxuICAgICAgICBwcm9wc1RpdGxlOiBwcm9wc0xhYmVsLFxuICAgICAgICBwcm9wc1NvdXJjZSxcbiAgICAgICAgcmVmRWxlbWVudFBvcHVwUmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50U291cmNlUmV0dXJuXG4gICAgfVxufVxuXG5cbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQge1xuICAgIENvbXBsZXRlR3JpZE5hdmlnYXRpb25Db250ZXh0LFxuICAgIENvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dDb250ZXh0LFxuICAgIHVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb24sXG4gICAgdXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGwsXG4gICAgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxJbmZvLFxuICAgIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVycyxcbiAgICBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFJldHVyblR5cGUsXG4gICAgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJldHVyblR5cGUsXG4gICAgdXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvdyxcbiAgICBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93SW5mbyxcbiAgICBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVycyxcbiAgICBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UmV0dXJuVHlwZSxcbiAgICB1c2VNZXJnZWRQcm9wcyxcbiAgICB1c2VQcmVzcyxcbiAgICBVc2VQcmVzc1BhcmFtZXRlcnMsXG4gICAgVXNlUHJlc3NSZXR1cm5UeXBlLFxuICAgIHVzZVNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlLFxuICAgIHVzZVN0YWJsZUNhbGxiYWNrLFxuICAgIHVzZVN0YWJsZU9iamVjdFxufSBmcm9tIFwicHJlYWN0LXByb3AtaGVscGVyc1wiO1xuaW1wb3J0IHsgT21pdFN0cm9uZywgUHJlZmljZXMgfSBmcm9tIFwiLi9wcm9wc1wiO1xuaW1wb3J0IHsgdXNlTGFiZWxTeW50aGV0aWMsIFVzZUxhYmVsU3ludGhldGljUGFyYW1ldGVycyB9IGZyb20gXCIuL3VzZS1sYWJlbFwiO1xuaW1wb3J0IHsgVXNlTGlzdGJveFBhcmFtZXRlcnMgfSBmcm9tIFwiLi91c2UtbGlzdGJveFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWRsaXN0Q29udGV4dDxHcmlkbGlzdEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUk0gZXh0ZW5kcyBHcmlkbGlzdFJvd0luZm88R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPEdyaWRsaXN0Q2VsbEVsZW1lbnQ+PiBleHRlbmRzIENvbXBsZXRlR3JpZE5hdmlnYXRpb25Db250ZXh0PEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+IHtcbiAgICBncmlkbGlzdFJvd0NvbnRleHQ6IHsgc2VsZWN0aW9uTGltaXQ6IFwic2luZ2xlXCIgfCBcIm11bHRpXCIgfCBcIm5vbmVcIiB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZGxpc3RSb3dDb250ZXh0PFBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgR3JpZGxpc3RDZWxsSW5mbzxDaGlsZEVsZW1lbnQ+PiBleHRlbmRzIENvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dDb250ZXh0PFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4ge1xuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZGxpc3RQYXJhbWV0ZXJzPEdyaWRsaXN0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIEdyaWRsaXN0Um93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIEdyaWRsaXN0Um93SW5mbzxHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQ+PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblBhcmFtZXRlcnM8R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIFJNPiwgXCJzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzXCI+IHtcbiAgICBsYWJlbFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTGFiZWxTeW50aGV0aWNQYXJhbWV0ZXJzW1wibGFiZWxQYXJhbWV0ZXJzXCJdLCBcIm9uTGFiZWxDbGlja1wiPjtcbiAgICBncmlkbGlzdFBhcmFtZXRlcnM6IFVzZUxpc3Rib3hQYXJhbWV0ZXJzPEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJNPltcImxpc3Rib3hQYXJhbWV0ZXJzXCJdO1xufVxuZXhwb3J0IGludGVyZmFjZSBVc2VHcmlkbGlzdFJldHVyblR5cGU8R3JpZGxpc3RFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZGxpc3RSb3dJbmZvPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZGxpc3RDZWxsSW5mbzxHcmlkbGlzdENlbGxFbGVtZW50Pj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25SZXR1cm5UeXBlPEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+LCBcInByb3BzXCI+IHtcbiAgICBwcm9wc0dyaWRsaXN0OiBoLkpTWC5IVE1MQXR0cmlidXRlczxHcmlkbGlzdEVsZW1lbnQ+O1xuICAgIHByb3BzR3JpZGxpc3RMYWJlbDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8TGFiZWxFbGVtZW50PjtcbiAgICBjb250ZXh0OiBVc2VHcmlkbGlzdENvbnRleHQ8R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIFJNLCBDTT47XG59XG5leHBvcnQgaW50ZXJmYWNlIFVzZUdyaWRsaXN0Um93UmV0dXJuVHlwZTxHcmlkbGlzdFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUk0gZXh0ZW5kcyBHcmlkbGlzdFJvd0luZm88R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPEdyaWRsaXN0Q2VsbEVsZW1lbnQ+PiBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dSZXR1cm5UeXBlPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPiB7IH1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZGxpc3RSb3dQYXJhbWV0ZXJzPEdyaWRsaXN0Um93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIEdyaWRsaXN0Um93SW5mbzxHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIEdyaWRsaXN0Q2VsbEluZm88R3JpZGxpc3RDZWxsRWxlbWVudD4+IHsvLyBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPiB7XG5cbiAgICByb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyczogVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnM8R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+W1wicm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnNcIl0gJiB7XG4gICAgICAgIGNvbnRleHQ6IFVzZUdyaWRsaXN0Q29udGV4dDxhbnksIEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPjtcbiAgICAgICAgZ3JpZGxpc3RSb3dQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZW4gdGhlIGBzZWxlY3Rpb25MaW1pdGAgaXMgYFwic2luZ2xlXCJgLCB0aGlzIG11c3QgYmUgYG51bGxgLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBzZWxlY3RlZDogYm9vbGVhbiB8IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcm93QXNQYXJlbnRPZkNlbGxzUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczxHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIFJNLCBDTT5bXCJyb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzXCJdLCBcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+ICYge1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVyczxHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIFJNLCBDTT5bXCJyb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzXCJdW1wibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIl0sIFwiZGlzYWJsZUhvbWVFbmRLZXlzXCI+XG4gICAgfVxufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZGxpc3RDZWxsUmV0dXJuVHlwZTxHcmlkbGlzdENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ00gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPEdyaWRsaXN0Q2VsbEVsZW1lbnQ+PiBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsUmV0dXJuVHlwZTxHcmlkbGlzdENlbGxFbGVtZW50LCBDTT4sIFBpY2s8VXNlUHJlc3NSZXR1cm5UeXBlPEdyaWRsaXN0Q2VsbEVsZW1lbnQ+LCBcInByZXNzUmV0dXJuXCI+IHsgfVxuZXhwb3J0IGludGVyZmFjZSBVc2VHcmlkbGlzdENlbGxQYXJhbWV0ZXJzPEdyaWRsaXN0Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDTSBleHRlbmRzIEdyaWRsaXN0Q2VsbEluZm88R3JpZGxpc3RDZWxsRWxlbWVudD4+IGV4dGVuZHMgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxQYXJhbWV0ZXJzPEdyaWRsaXN0Q2VsbEVsZW1lbnQsIENNPiB7XG4gICAgcHJlc3NQYXJhbWV0ZXJzOiBQaWNrPFVzZVByZXNzUGFyYW1ldGVyczxHcmlkbGlzdENlbGxFbGVtZW50PltcInByZXNzUGFyYW1ldGVyc1wiXSwgXCJvblByZXNzU3luY1wiPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHcmlkbGlzdFJvd0luZm88R3JpZGxpc3RSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd0luZm88R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50PiB7IH1cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZGxpc3RDZWxsSW5mbzxHcmlkbGlzdENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbEluZm88R3JpZGxpc3RDZWxsRWxlbWVudD4geyB9XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VHcmlkbGlzdDxHcmlkbGlzdEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUk0gZXh0ZW5kcyBHcmlkbGlzdFJvd0luZm88R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPEdyaWRsaXN0Q2VsbEVsZW1lbnQ+Pih7XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIGxhYmVsUGFyYW1ldGVycyxcbiAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgZ3JpZGxpc3RQYXJhbWV0ZXJzOiB7IHNlbGVjdGlvbkxpbWl0LCBncm91cGluZ1R5cGUsIHNlbGVjdGVkSW5kZXgsIG9uU2VsZWN0ZWRJbmRleENoYW5nZSB9LFxuICAgIGdyaWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICBwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyc1xufTogVXNlR3JpZGxpc3RQYXJhbWV0ZXJzPEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJNPik6IFVzZUdyaWRsaXN0UmV0dXJuVHlwZTxHcmlkbGlzdEVsZW1lbnQsIEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgTGFiZWxFbGVtZW50LCBSTSwgQ00+IHtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgcHJvcHNJbnB1dDogcHJvcHNMYWJlbExpc3QsXG4gICAgICAgIHByb3BzTGFiZWw6IHByb3BzTGFiZWxMYWJlbCxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFJldHVybjogeyBpZDogX2dyaWRsaXN0SWQgfSxcbiAgICAgICAgcmFuZG9tSWRMYWJlbFJldHVybjogeyBpZDogX2xhYmVsSWQgfVxuICAgIH0gPSB1c2VMYWJlbFN5bnRoZXRpYzxHcmlkbGlzdEVsZW1lbnQsIExhYmVsRWxlbWVudD4oe1xuICAgICAgICBsYWJlbFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIC4uLmxhYmVsUGFyYW1ldGVycyxcbiAgICAgICAgICAgIG9uTGFiZWxDbGljazogdXNlU3RhYmxlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLmZvY3VzU2VsZigpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFBhcmFtZXRlcnM6IHsgcHJlZml4OiBQcmVmaWNlcy5ncmlkbGlzdCB9LFxuICAgICAgICByYW5kb21JZExhYmVsUGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLmdyaWRsaXN0TGFiZWwgfVxuICAgIH0pO1xuICAgIGNvbnN0IHtcbiAgICAgICAgY2hpbGRyZW5IYXZlRm9jdXNSZXR1cm4sXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25SZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uUmV0dXJuLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUmV0dXJuXG4gICAgfSA9IHVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb248R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIFJNLCBDTT4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnM6IHsgaW5pdGlhbGx5U2VsZWN0ZWRJbmRleDogc2VsZWN0ZWRJbmRleCwgb25TZWxlY3RlZEluZGV4Q2hhbmdlIH0sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgZ3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnNcbiAgICB9KTtcblxuICAgIGNvbnN0IF92OiB2b2lkID0gdXNlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmUoeyBzaW5nbGVTZWxlY3Rpb25SZXR1cm4sIHNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUGFyYW1ldGVyczogeyBzZWxlY3RlZEluZGV4IH0gfSk7XG5cbiAgICBsZXQgcHJvcHNHcmlkbGlzdCA9IHVzZU1lcmdlZFByb3BzKHByb3BzLCBwcm9wc0xhYmVsTGlzdCwgeyBcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCI6IChzZWxlY3Rpb25MaW1pdCA9PSBcIm11bHRpXCIgPyBcInRydWVcIiA6IHVuZGVmaW5lZCkgfSk7XG5cblxuICAgIGxldCBmdWxsQ29udGV4dCA9IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgIGdyaWRsaXN0Um93Q29udGV4dDogdXNlU3RhYmxlT2JqZWN0KHtcbiAgICAgICAgICAgIHNlbGVjdGlvbkxpbWl0XG4gICAgICAgIH0pXG4gICAgfSk7XG4gICAgaWYgKGdyb3VwaW5nVHlwZSA9PSBcImdyb3VwXCIpXG4gICAgICAgIHByb3BzR3JpZGxpc3Qucm9sZSA9IFwiZ3JvdXBcIjtcbiAgICBlbHNlIGlmIChncm91cGluZ1R5cGUgPT0gXCJ3aXRoLWdyb3Vwc1wiKSB7XG4gICAgICAgIC8vIEludGVudGlvbmFsbHkgY2xvYmJlcmluZyBhbGwgdGhlIGxpc3QgbmF2aWdhdGlvbiBzdHVmZi5cbiAgICAgICAgcHJvcHNHcmlkbGlzdCA9IHsgcm9sZTogXCJncmlkXCIgfTtcbiAgICAgICAgLy8gLi4uYWN0dWFsbHksIGNvbnRleHQgdG9vIHdoaWxlIHdlJ3JlIGF0IGl0LlxuICAgICAgICBmdWxsQ29udGV4dCA9IG51bGwhXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwcm9wc0dyaWRsaXN0LnJvbGUgPSBcImdyaWRcIjtcbiAgICB9XG5cbiAgICBpZiAoc2VsZWN0aW9uTGltaXQgPT0gXCJtdWx0aVwiKVxuICAgICAgICBjb25zb2xlLmFzc2VydChzaW5nbGVTZWxlY3Rpb25SZXR1cm4uZ2V0U2VsZWN0ZWRJbmRleCgpID09IG51bGwpXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjaGlsZHJlbkhhdmVGb2N1c1JldHVybixcbiAgICAgICAgY29udGV4dDogZnVsbENvbnRleHQsXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25SZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25SZXR1cm4sXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHByb3BzR3JpZGxpc3QsXG4gICAgICAgIHByb3BzR3JpZGxpc3RMYWJlbDogcHJvcHNMYWJlbExhYmVsXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlR3JpZGxpc3RSb3c8R3JpZGxpc3RSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZGxpc3RSb3dJbmZvPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZGxpc3RDZWxsSW5mbzxHcmlkbGlzdENlbGxFbGVtZW50Pj4oe1xuICAgIHJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzOiB7XG4gICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgY29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnMsXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICBjb250ZXh0OiBjeDEsXG4gICAgICAgIGdyaWRsaXN0Um93UGFyYW1ldGVyczogeyBzZWxlY3RlZCB9XG4gICAgfSxcbiAgICByb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzOiB7XG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzXG4gICAgfVxufTogVXNlR3JpZGxpc3RSb3dQYXJhbWV0ZXJzPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPik6IFVzZUdyaWRsaXN0Um93UmV0dXJuVHlwZTxHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIFJNLCBDTT4ge1xuICAgIGNvbnN0IHsgZ3JpZGxpc3RSb3dDb250ZXh0OiB7IHNlbGVjdGlvbkxpbWl0IH0gfSA9IGN4MTtcbiAgICBjb25zdCB7XG4gICAgICAgIHJvd0FzQ2hpbGRPZkdyaWRSZXR1cm4sXG4gICAgICAgIHJvd0FzUGFyZW50T2ZDZWxsc1JldHVybixcbiAgICAgICAgY29udGV4dDogY3gyLFxuICAgICAgICBoYXNDdXJyZW50Rm9jdXNSZXR1cm4sXG4gICAgICAgIHByb3BzXG4gICAgfSA9IHVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3c8R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+KHtcbiAgICAgICAgcm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgICAgICBjb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVycyxcbiAgICAgICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgICAgICBjb250ZXh0OiBjeDFcbiAgICAgICAgfSxcbiAgICAgICAgcm93QXNQYXJlbnRPZkNlbGxzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHsgZGlzYWJsZUhvbWVFbmRLZXlzOiB0cnVlLCAuLi5saW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyB9LFxuICAgICAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnM6IHsgLi4udHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBgc2VsZWN0ZWRgIHNob3VsZCBvbmx5IGJlIHRydWUvZmFsc2UgZm9yIG11bHRpLXNlbGVjdGlvblxuICAgIGlmIChzZWxlY3Rpb25MaW1pdCAhPSBcIm11bHRpXCIpXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHNlbGVjdGVkID09IG51bGwpO1xuXG4gICAgcHJvcHMucm9sZSA9IFwib3B0aW9uXCI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByb3dBc0NoaWxkT2ZHcmlkUmV0dXJuLFxuICAgICAgICByb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm4sXG4gICAgICAgIGNvbnRleHQ6IGN4MixcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuLFxuICAgICAgICBwcm9wc1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUdyaWRsaXN0Q2VsbDxHcmlkbGlzdENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ00gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPEdyaWRsaXN0Q2VsbEVsZW1lbnQ+Pih7IHByZXNzUGFyYW1ldGVycywgLi4ucCB9OiBVc2VHcmlkbGlzdENlbGxQYXJhbWV0ZXJzPEdyaWRsaXN0Q2VsbEVsZW1lbnQsIENNPik6IFVzZUdyaWRsaXN0Q2VsbFJldHVyblR5cGU8R3JpZGxpc3RDZWxsRWxlbWVudCwgQ00+IHtcblxuICAgIGNvbnN0IHsgcHJvcHMsIC4uLmluZm8gfSA9ICB1c2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbDxHcmlkbGlzdENlbGxFbGVtZW50LCBDTT4ocCk7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIHByZXNzUmV0dXJuXG4gICAgfSA9IHVzZVByZXNzKHtcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7IC4uLnByZXNzUGFyYW1ldGVycywgZm9jdXNTZWxmOiBwLmNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVycy5mb2N1c1NlbGYgfSxcbiAgICAgICAgcmVmRWxlbWVudFJldHVybjogaW5mby5yZWZFbGVtZW50UmV0dXJuXG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmluZm8sXG4gICAgICAgIHByb3BzOiB1c2VNZXJnZWRQcm9wcyhwcm9wcywgcHJlc3NSZXR1cm4ucHJvcHNVbnN0YWJsZSksXG4gICAgICAgIHByZXNzUmV0dXJuXG4gICAgfVxuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlR3JpZGxpc3RTZWN0aW9uUGFyYW1ldGVycyB7XG4gICAgZ3JpZGxpc3RTZWN0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICBjb21wYXJlUm93czogKGxoc0luZGV4OiBudW1iZXIsIHJoc0luZGV4OiBudW1iZXIpID0+IG51bWJlcjtcbiAgICB9XG4gICAgZ3JpZGxpc3RTZWN0aW9uQ29udGV4dDoge1xuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IGFzc2VydEVtcHR5T2JqZWN0LCBmaW5kRmlyc3RGb2N1c2FibGUsIHVzZU1lcmdlZFByb3BzLCB1c2VNb2RhbCwgVXNlTW9kYWxQYXJhbWV0ZXJzLCBVc2VNb2RhbFJldHVyblR5cGUsIHVzZVJlZkVsZW1lbnQsIHVzZVN0YWJsZUNhbGxiYWNrLCB1c2VTdGFibGVHZXR0ZXIsIHVzZVN0YXRlLCB1c2VUaW1lb3V0IH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgZGVidWdMb2csIE9taXRTdHJvbmcgfSBmcm9tIFwiLi9wcm9wc1wiO1xuXG5pbnRlcmZhY2UgTVNQIHtcbiAgICAvKipcbiAgICAgKiBXaGF0IHJvbGUgdGhlIHN1cmZhY2UgZnVsZmlsbHMuXG4gICAgICogXG4gICAgICogR2VuZXJhbCBtZW51cyBzaG91bGQgdXNlIFwibWVudVwiLiBcImRpYWxvZ1wiIGNhbiBiZSB1c2VkIGZvciBnZW5lcmljIHBvcC11cCB0aGluZ3MuXG4gICAgICovXG4gICAgcm9sZTogXCJkaWFsb2dcIiB8IFwibWVudVwiIHwgXCJ0cmVlXCIgfCBcImdyaWRcIiB8IFwibGlzdGJveFwiO1xuXG4gICAgc3VyZmFjZUlkOiBzdHJpbmc7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoaXMgbWVudSBzdXJmYWNlIGlzIG9wZW5lZCwgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gaXQgbXVzdCBiZSBmb2N1c2VkLlxuICAgICAqIFxuICAgICAqIFRoaXMgY29udHJvbHMgd2hhdCBpcyBmb2N1c2VkIChlLmcuIHRoZSBmaXJzdCBtZW51IGl0ZW0sIHRoZSB3aG9sZSBzdXJmYWNlIGl0c2VsZiwgZXRjLilcbiAgICAgKi9cbiAgICAvL3NlbmRGb2N1c1RvTWVudSgpOiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBNZW51U3VyZmFjZU9taXRzID0ga2V5b2YgTVNQO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1lbnVTdXJmYWNlUGFyYW1ldGVyczxfUyBleHRlbmRzIEVsZW1lbnQsIF9CIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZU1vZGFsUGFyYW1ldGVyczxcImVzY2FwZVwiIHwgXCJsb3N0LWZvY3VzXCIgfCBcImJhY2tkcm9wXCI+LCBcImZvY3VzVHJhcFBhcmFtZXRlcnNcIj4ge1xuICAgIGZvY3VzVHJhcFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTW9kYWxQYXJhbWV0ZXJzPFwiZXNjYXBlXCIgfCBcImxvc3QtZm9jdXNcIiB8IFwiYmFja2Ryb3BcIj5bXCJmb2N1c1RyYXBQYXJhbWV0ZXJzXCJdLCBcInRyYXBBY3RpdmVcIiB8IFwiZm9jdXNPcGVuZXJcIiB8IFwib25seU1vdmVGb2N1c1wiPlxuICAgIG1lbnVTdXJmYWNlUGFyYW1ldGVyczogTVNQO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTWVudVN1cmZhY2VSZXR1cm5UeXBlPE1lbnVTdXJmYWNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE1lbnVUYXJnZXRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudVRyaWdnZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHByb3BzU3VyZmFjZTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8TWVudVN1cmZhY2VFbGVtZW50PjtcbiAgICBwcm9wc1RhcmdldDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8TWVudVRhcmdldEVsZW1lbnQ+O1xuICAgIHByb3BzVHJpZ2dlcjogaC5KU1guSFRNTEF0dHJpYnV0ZXM8TWVudVRyaWdnZXJFbGVtZW50PjtcbiAgICBwcm9wc1NlbnRpbmVsOiBoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+O1xuICAgIGZvY3VzVHJhcFJldHVybjogVXNlTW9kYWxSZXR1cm5UeXBlPG51bGwsIE1lbnVUcmlnZ2VyRWxlbWVudCwgTWVudVN1cmZhY2VFbGVtZW50PltcImZvY3VzVHJhcFJldHVyblwiXTtcbiAgICByZWZFbGVtZW50UG9wdXBSZXR1cm46IFVzZU1vZGFsUmV0dXJuVHlwZTxudWxsLCBNZW51VHJpZ2dlckVsZW1lbnQsIE1lbnVTdXJmYWNlRWxlbWVudD5bXCJyZWZFbGVtZW50UG9wdXBSZXR1cm5cIl07XG4gICAgcmVmRWxlbWVudFNvdXJjZVJldHVybjogVXNlTW9kYWxSZXR1cm5UeXBlPG51bGwsIE1lbnVUcmlnZ2VyRWxlbWVudCwgTWVudVN1cmZhY2VFbGVtZW50PltcInJlZkVsZW1lbnRTb3VyY2VSZXR1cm5cIl07XG59XG5cblxuLyoqXG4gKiBBIG1lbnUgc3VyZmFjZSBpcyB3aGF0IGhhbmRsZXMgdXNlciBpbnRlcmFjdGlvbiB3aXRoIGFuIGludGVyYWN0aXZlIGJ1dCB0cmFuc2llbnQgc3VyZmFjZSAobGlrZSBhIG1lbnUgb3IgYSBwb3B1cCkuXG4gKiBcbiAqIFRoZSBrZXlib2FyZCAoZXRjLikgaW50ZXJhY3Rpb25zIGFyZSBzaGFyZWQgYW1vbmcgYSBsb3Qgb2Ygd2lkZ2V0cywgYW5kIHRoZSBvcGVuaW5nIGJ1dHRvbiBoYXMgc29tZSBBUklBIHByb3BlcnRpZXMgdGhhdCBuZWVkIHNldHRpbmcuXG4gKiBcbiAqIFJlbGF0ZWQgdG8gbWVudXMsIHdoaWNoIGFyZSBhIG1lbnUgY29udGFpbmVkIHdpdGhpbiBhIG1lbnUgc3VyZmFjZS4gTm90IHJlbGF0ZWQgdG8gbWVudWJhcnMgLS0gbWVudXMgY29udGFpbiBtZW51YmFycywgYnV0IG5vdCBhbGwgbWVudWJhcnMgYXJlIGNvbnRhaW5lZCB3aXRoaW4gYSBtZW51IG9yIGl0cyBzdXJmYWNlLlxuICogXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZW51U3VyZmFjZTxNZW51U3VyZmFjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNZW51VGFyZ2V0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE1lbnVUcmlnZ2VyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICAvL21lbnVTdXJmYWNlOiB7IHNlbmRGb2N1c1RvTWVudSwgcm9sZSB9LCBcbiAgICBkaXNtaXNzUGFyYW1ldGVycyxcbiAgICBlc2NhcGVEaXNtaXNzUGFyYW1ldGVycyxcbiAgICBmb2N1c1RyYXBQYXJhbWV0ZXJzLFxuICAgIG1lbnVTdXJmYWNlUGFyYW1ldGVyczogeyByb2xlLCBzdXJmYWNlSWQgfVxufTogVXNlTWVudVN1cmZhY2VQYXJhbWV0ZXJzPE1lbnVTdXJmYWNlRWxlbWVudCwgTWVudVRyaWdnZXJFbGVtZW50Pik6IFVzZU1lbnVTdXJmYWNlUmV0dXJuVHlwZTxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVUYXJnZXRFbGVtZW50LCBNZW51VHJpZ2dlckVsZW1lbnQ+IHtcbiAgICBkZWJ1Z0xvZyhcInVzZU1lbnVTdXJmYWNlXCIpO1xuICAgIFxuICAgIGNvbnN0IHsgcmVmRWxlbWVudFJldHVybjogeyBnZXRFbGVtZW50OiBnZXRCdXR0b25FbGVtZW50LCBwcm9wc1N0YWJsZTogcHJvcHNSZWZUcmlnZ2VyIH0sIC4uLnZvaWQ0IH0gPSB1c2VSZWZFbGVtZW50PE1lbnVUcmlnZ2VyRWxlbWVudD4oeyByZWZFbGVtZW50UGFyYW1ldGVyczogeyBvbkVsZW1lbnRDaGFuZ2U6IHVuZGVmaW5lZCB9IH0pO1xuXG4gICAgY29uc3QgeyByZWZFbGVtZW50UmV0dXJuOiB7IGdldEVsZW1lbnQ6IGdldE1lbnVFbGVtZW50LCBwcm9wc1N0YWJsZTogcHJvcHNSZWZTdXJmYWNlLCAuLi52b2lkNSB9LCAuLi52b2lkNiB9ID0gdXNlUmVmRWxlbWVudDxNZW51U3VyZmFjZUVsZW1lbnQ+KHsgcmVmRWxlbWVudFBhcmFtZXRlcnM6IHsgb25FbGVtZW50Q2hhbmdlOiB1bmRlZmluZWQgfSB9KTtcbiAgICBjb25zdCB7XG4gICAgICAgIGZvY3VzVHJhcFJldHVybixcbiAgICAgICAgcHJvcHNGb2N1c0NvbnRhaW5lcixcbiAgICAgICAgcHJvcHNQb3B1cCxcbiAgICAgICAgcHJvcHNTb3VyY2U6IHBzMixcbiAgICAgICAgcmVmRWxlbWVudFBvcHVwUmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50U291cmNlUmV0dXJuXG4gICAgfSA9IHVzZU1vZGFsPFwiZXNjYXBlXCIgfCBcImxvc3QtZm9jdXNcIiB8IFwiYmFja2Ryb3BcIiwgTWVudVN1cmZhY2VFbGVtZW50LCBNZW51VHJpZ2dlckVsZW1lbnQsIE1lbnVTdXJmYWNlRWxlbWVudD4oe1xuICAgICAgICBkaXNtaXNzUGFyYW1ldGVycyxcbiAgICAgICAgZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnMsXG4gICAgICAgIGZvY3VzVHJhcFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIC4uLmZvY3VzVHJhcFBhcmFtZXRlcnMsXG4gICAgICAgICAgICBvbmx5TW92ZUZvY3VzOiB0cnVlLFxuICAgICAgICAgICAgdHJhcEFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGZvY3VzT3BlbmVyOiB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGdldEJ1dHRvbkVsZW1lbnQoKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgICAgICAgICAgICAgYnV0dG9uRWxlbWVudD8uZm9jdXMoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGFzc2VydEVtcHR5T2JqZWN0KHZvaWQ0KTtcbiAgICBhc3NlcnRFbXB0eU9iamVjdCh2b2lkNSk7XG4gICAgYXNzZXJ0RW1wdHlPYmplY3Qodm9pZDYpO1xuXG4gICAgY29uc3QgcHJvcHNTdXJmYWNlOiBoLkpTWC5IVE1MQXR0cmlidXRlczxNZW51U3VyZmFjZUVsZW1lbnQ+ID0gdXNlTWVyZ2VkUHJvcHMocHJvcHNSZWZTdXJmYWNlLCBwcm9wc1BvcHVwLCBwcm9wc0ZvY3VzQ29udGFpbmVyKTtcblxuICAgIGNvbnN0IHByb3BzVGFyZ2V0OiBoLkpTWC5IVE1MQXR0cmlidXRlczxNZW51VGFyZ2V0RWxlbWVudD4gPSB1c2VNZXJnZWRQcm9wcyh7XG4gICAgICAgIHJvbGUsXG4gICAgICAgIGlkOiBzdXJmYWNlSWRcbiAgICB9KTtcblxuICAgIGNvbnN0IHByb3BzVHJpZ2dlcjogaC5KU1guSFRNTEF0dHJpYnV0ZXM8TWVudVRyaWdnZXJFbGVtZW50PiA9IHVzZU1lcmdlZFByb3BzKHtcbiAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IChkaXNtaXNzUGFyYW1ldGVycy5vcGVuKS50b1N0cmluZygpLFxuICAgICAgICBcImFyaWEtaGFzcG9wdXBcIjogcm9sZSxcbiAgICB9LCBwcm9wc1JlZlRyaWdnZXIsIHBzMiwgeyBcImFyaWEtY29udHJvbHNcIjogc3VyZmFjZUlkIH0pO1xuXG4gICAgY29uc3QgcHJvcHNTZW50aW5lbDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8YW55PiA9IHVzZUZvY3VzU2VudGluZWwoe1xuICAgICAgICBmb2N1c1NlbnRpbmVsOiB7XG4gICAgICAgICAgICBzZW5kRm9jdXNUb01lbnU6IHVzZUNhbGxiYWNrKCgpID0+IHsgcmV0dXJuIGZvY3VzVHJhcFBhcmFtZXRlcnMuZm9jdXNQb3B1cChnZXRNZW51RWxlbWVudCgpLCAoKSA9PiAoZmluZEZpcnN0Rm9jdXNhYmxlKGdldE1lbnVFbGVtZW50KCkhKSBhcyBIVE1MRWxlbWVudCB8IG51bGwpKSB9LCBbXSksXG4gICAgICAgICAgICBvbkNsb3NlOiB1c2VDYWxsYmFjaygoKSA9PiB7IGRpc21pc3NQYXJhbWV0ZXJzLm9uQ2xvc2UoXCJsb3N0LWZvY3VzXCIpIH0sIFtkaXNtaXNzUGFyYW1ldGVycy5vbkNsb3NlXSksXG4gICAgICAgICAgICBvcGVuOiBkaXNtaXNzUGFyYW1ldGVycy5vcGVuXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGZvY3VzVHJhcFJldHVybixcbiAgICAgICAgcHJvcHNTZW50aW5lbCxcbiAgICAgICAgcHJvcHNTdXJmYWNlLFxuICAgICAgICBwcm9wc1RhcmdldCxcbiAgICAgICAgcHJvcHNUcmlnZ2VyLFxuICAgICAgICByZWZFbGVtZW50UG9wdXBSZXR1cm4sXG4gICAgICAgIHJlZkVsZW1lbnRTb3VyY2VSZXR1cm5cbiAgICB9XG59XG5cbmludGVyZmFjZSBGU1AgZXh0ZW5kcyBNU1Age1xuICAgIG9wZW46IGJvb2xlYW47XG4gICAgb25DbG9zZSgpOiB2b2lkO1xufVxuXG5leHBvcnQgdHlwZSBGb2N1c1NlbnRpbmVsT21pdHMgPSBrZXlvZiBGU1A7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlRm9jdXNTZW50aW5lbFBhcmFtZXRlcnMge1xuICAgIGZvY3VzU2VudGluZWw6IHsgc2VuZEZvY3VzVG9NZW51OiAoKSA9PiB2b2lkOyBvcGVuOiBib29sZWFuOyBvbkNsb3NlKCk6IHZvaWQ7IH07XG59XG5cblxuLy8gQSBmb2N1cyBzZW50aW5hbCBpcyBhIGhpZGRlbiBidXQgZm9jdXNhYmxlIGVsZW1lbnQgdGhhdCBjb21lcyBhdCB0aGUgc3RhcnQgb3IgZW5kIFxuLy8gb2YgdGhlIG91dC1vZi1wbGFjZS1mb2N1c2FibGUgY29tcG9uZW50IHRoYXQsIHdoZW4gYWN0aXZhdGVkIG9yIGZvY3VzZWQgb3ZlciwgY2xvc2VzIHRoZSBjb21wb25lbnRcbi8vIChpZiBmb2N1c2VkIHdpdGhpbiAxMDBtcyBvZiB0aGUgb3BlbiBwcm9wIGNoYW5naW5nLCBpbnN0ZWFkIG9mXG4vLyBjbG9zaW5nLCBmb2N1c2luZyB0aGUgc2VudGluZWwgaW1tZWRpYXRlbHkgYXNrcyBpdCB0byBmb2N1cyBpdHNlbGYpLlxuLy8gVGhpcyBleGlzdHMgZm9yIHRoaW5ncyBsaWtlIG1lbnVzIHdoaWNoIGNhbiBoYXZlIGZvY3VzIGJ1dCBhbHNvIG5lZWQgYSB3YXkgdG8gcmV0dXJuXG4vLyB0byB3aGF0ZXZlciBvdXQtb2YtcGxhY2UgcGFyZW50IHRoZXkgY2FtZSBmcm9tIHdoZW4gbmF0dXJhbGx5IHRhYmJlZCBvdXQgb2YgKGFzIG9wcG9zZWRcbi8vIHRvIGRpYWxvZ3Mgd2hpY2ggbG9vcCBiYWNrIGFyb3VuZCB3aGVuIHRhYmJlZCBvdXQgb2YpLiBXaGlsZSBtb3VzZSB1c2VycyBjYW4gY2xpY2sgb3V0IG9mIGEgbWVudVxuLy8gYW5kIGtleWJvYXJkIHVzZXJzIGNhbiBlc2NhcGUgdG8gY2xvc2UgYSBtZW51LCBzY3JlZW4gcmVhZGVycyBhbmQgb3RoZXIgaW5wdXQgbWV0aG9kcyBcbi8vIHRoYXQgZG9uJ3QgdXNlIHRob3NlIHR3byB3b3VsZCBiZWNvbWUgc3R1Y2suXG5leHBvcnQgZnVuY3Rpb24gdXNlRm9jdXNTZW50aW5lbDxFIGV4dGVuZHMgRWxlbWVudD4oeyBmb2N1c1NlbnRpbmVsOiB7IG9wZW4sIG9uQ2xvc2UsIHNlbmRGb2N1c1RvTWVudSB9IH06IFVzZUZvY3VzU2VudGluZWxQYXJhbWV0ZXJzKTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT4ge1xuICAgIGRlYnVnTG9nKFwidXNlRm9jdXNTZW50aW5lbFwiKTtcbiAgICBjb25zdCBnZXRTZW5kRm9jdXNXaXRoaW5NZW51ID0gdXNlU3RhYmxlR2V0dGVyKHNlbmRGb2N1c1RvTWVudSk7XG4gICAgY29uc3Qgc3RhYmxlT25DbG9zZSA9IHVzZVN0YWJsZUNhbGxiYWNrKG9uQ2xvc2UpO1xuXG4gICAgY29uc3QgW2ZpcnN0U2VudGluZWxJc0FjdGl2ZSwgc2V0Rmlyc3RTZW50aW5lbElzQWN0aXZlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VUaW1lb3V0KHsgY2FsbGJhY2s6ICgpID0+IHsgc2V0Rmlyc3RTZW50aW5lbElzQWN0aXZlKG9wZW4pOyB9LCB0aW1lb3V0OiAxMDAsIHRyaWdnZXJJbmRleDogYCR7b3Blbn0tJHtmaXJzdFNlbnRpbmVsSXNBY3RpdmV9YCB9KTtcblxuXG4gICAgY29uc3Qgb25Gb2N1cyA9IGZpcnN0U2VudGluZWxJc0FjdGl2ZSA/ICgoKSA9PiBzdGFibGVPbkNsb3NlKCkpIDogKCgpID0+IGdldFNlbmRGb2N1c1dpdGhpbk1lbnUoKT8uKCkpO1xuICAgIGNvbnN0IG9uQ2xpY2sgPSAoKSA9PiBzdGFibGVPbkNsb3NlKCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0YWJJbmRleDogZmlyc3RTZW50aW5lbElzQWN0aXZlID8gMCA6IC0xLFxuICAgICAgICBvbkZvY3VzLFxuICAgICAgICBvbkNsaWNrXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ29udGV4dCwgTWFrZVNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUGFyYW1ldGVycywgTWFrZVNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUmV0dXJuVHlwZSwgdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbiwgdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkLCBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRJbmZvLCBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzLCBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlLCBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uUGFyYW1ldGVycywgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblJldHVyblR5cGUsIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDaGlsZEluZm8sIHVzZU1lcmdlZFByb3BzLCBVc2VSYW5kb21JZFJldHVyblR5cGUsIHVzZVNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlLCBVc2VTaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IE9taXRTdHJvbmcsIFByZWZpY2VzIH0gZnJvbSBcIi4vcHJvcHNcIjtcbmltcG9ydCB7IHVzZUxhYmVsU3ludGhldGljLCBVc2VMYWJlbFN5bnRoZXRpY1BhcmFtZXRlcnMgfSBmcm9tIFwiLi91c2UtbGFiZWxcIjtcblxuXG5cblxuZXhwb3J0IGludGVyZmFjZSBVc2VUb29sYmFyUGFyYW1ldGVyczxDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZVRvb2xiYXJTdWJJbmZvPENoaWxkRWxlbWVudD4+IGV4dGVuZHMgT21pdFN0cm9uZzxNYWtlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzPENvbnRhaW5lckVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4+LCBcInBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyc1wiIHwgXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiIHwgXCJzaW5nbGVTZWxlY3Rpb25SZXR1cm5cIj4ge1xuICAgIHRvb2xiYXJQYXJhbWV0ZXJzOiB7XG4gICAgICAgIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIiB8IFwidmVydGljYWxcIjtcblxuICAgICAgICAvLyBTaG91bGQgYmUgXCJ0b29sYmFyXCIgZm9yIHRvb2xiYXJzLCBudWxsIGlmIHNvbWVvbmUgZWxzZSB0YWtlcyBjYXJlIG9mIHRoZSByb2xlLCBhbmQgd2hhdGV2ZXIgc3RyaW5nIGlzIGFwcGxpY2FibGUgb3RoZXJ3aXNlXG4gICAgICAgIHJvbGU6IHN0cmluZyB8IG51bGw7XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9uYWw7IE9ubHkgdXNlZCBpZiB5b3UgbmVlZCBzaW5nbGUgc2VsZWN0aW9uIGxvZ2ljLlxuICAgICAgICAgKi9cbiAgICAgICAgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBVc2VTaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzPENoaWxkRWxlbWVudD5bXCJzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzXCJdW1wib25TZWxlY3RlZEluZGV4Q2hhbmdlXCJdIC8vbnVsbCB8IFBhc3NpdmVTdGF0ZVVwZGF0ZXI8bnVtYmVyIHwgbnVsbCwgRXZlbnQ+O1xuICAgIH07XG4gICAgbGFiZWxQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUxhYmVsU3ludGhldGljUGFyYW1ldGVyc1tcImxhYmVsUGFyYW1ldGVyc1wiXSwgXCJvbkxhYmVsQ2xpY2tcIj47XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnM8Q29udGFpbmVyRWxlbWVudCwgQ2hpbGRFbGVtZW50LCBNPltcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCJdLCBcIm5hdmlnYXRpb25EaXJlY3Rpb25cIj5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VUb29sYmFyUmV0dXJuVHlwZTxDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZVRvb2xiYXJTdWJJbmZvPENoaWxkRWxlbWVudD4+IGV4dGVuZHMgT21pdFN0cm9uZzxNYWtlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVSZXR1cm5UeXBlPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPENvbnRhaW5lckVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4+LCBcInByb3BzXCI+IHtcbiAgICB0b29sYmFyUmV0dXJuOiB7IHByb3BzVW5zdGFibGU6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPENvbnRhaW5lckVsZW1lbnQ+IH07XG4gICAgcHJvcHNUb29sYmFyOiBoLkpTWC5IVE1MQXR0cmlidXRlczxDb250YWluZXJFbGVtZW50PjtcbiAgICBwcm9wc0xhYmVsOiBoLkpTWC5IVE1MQXR0cmlidXRlczxMYWJlbEVsZW1lbnQ+O1xuICAgIHJhbmRvbUlkSW5wdXRSZXR1cm46IFVzZVJhbmRvbUlkUmV0dXJuVHlwZTxDb250YWluZXJFbGVtZW50LCBMYWJlbEVsZW1lbnQ+W1wicmFuZG9tSWRSZXR1cm5cIl07XG4gICAgcmFuZG9tSWRMYWJlbFJldHVybjogVXNlUmFuZG9tSWRSZXR1cm5UeXBlPExhYmVsRWxlbWVudCwgQ29udGFpbmVyRWxlbWVudD5bXCJyYW5kb21JZFJldHVyblwiXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VUb29sYmFyU3ViSW5mbzxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88Q2hpbGRFbGVtZW50PiB7XG5cbn1cblxuZXhwb3J0IHR5cGUgVXNlVG9vbGJhckNvbnRleHQ8Q29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VUb29sYmFyU3ViSW5mbzxDaGlsZEVsZW1lbnQ+PiA9IENvbXBsZXRlTGlzdE5hdmlnYXRpb25Db250ZXh0PENvbnRhaW5lckVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT47XG5cblxuLy9leHBvcnQgdHlwZSBVc2VUb29sYmFyQ2hpbGQ8Q2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQywgSyBleHRlbmRzIHN0cmluZz4gPSAoaTogVXNlVG9vbGJhckNoaWxkUGFyYW1ldGVyczxDaGlsZEVsZW1lbnQsIEMsIEssIEM+KSA9PiBVc2VUb29sYmFyQ2hpbGRSZXR1cm5UeXBlV2l0aEhvb2tzPENoaWxkRWxlbWVudD47XG5leHBvcnQgaW50ZXJmYWNlIFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnM8RSBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VUb29sYmFyU3ViSW5mbzxFPj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8RSwgTSwgbmV2ZXI+LCBuZXZlcj4ge1xuIH1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlVG9vbGJhckNoaWxkUmV0dXJuVHlwZTxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlVG9vbGJhclN1YkluZm88Q2hpbGRFbGVtZW50Pj4gZXh0ZW5kcyBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPENoaWxkRWxlbWVudCwgTT4geyB9XG4vL2V4cG9ydCBpbnRlcmZhY2UgVXNlVG9vbGJhckNoaWxkUmV0dXJuVHlwZVdpdGhIb29rczxDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlVG9vbGJhclN1YkluZm88Q2hpbGRFbGVtZW50Pj4gZXh0ZW5kcyBVc2VUb29sYmFyQ2hpbGRSZXR1cm5UeXBlSW5mbzxDaGlsZEVsZW1lbnQsIE0+IHtcbi8vfVxuXG4vKipcbiAqIEEgdG9vbGJhciBpcyBqdXN0IGEgY29sbGVjdGlvbiBvZiB3aWRnZXRzIGluIGFuIGV4cGVjdGVkIG9yZGVyIGFuZCB3aXRoIHRoZSB1c3VhbCBrZXlib2FyZCBuYXZpZ2F0aW9uIHN0dWZmLlxuICogXG4gKiBUaGUgbWFpbiBkaWZmZXJlbmNlIGJldHdlZW4gYSB0b29sYmFyIGFuZCBhIG1lbnViYXIgaXMgdGhhdCBhIG1lbnViYXIgY29udGFpbnMgcHVyZWx5IHN0YXRpYyBtZW51aXRlbXMsIFxuICogYnV0IGEgdG9vbGJhciBpcyB0aGUgbW9yZSBnZW5lcmFsIGNhc2UsIGJlaW5nIGFibGUgdG8gY29udGFpbiBhbnl0aGluZyBhdCBhbGwuIFxuICogQSBtZW51YmFyIGlzIGltcGxlbWVudGVkIGFzIGEgc3BlY2lhbCBjYXNlIG9mIGEgdG9vbGJhciwgYW5kIGEgbWVudSBpcyBpbXBsZW1lbnRlZCBhcyBhIHNwZWNpYWxpemVkIG1lbnViYXJcbiAqIFxuICogRWl0aGVyIHdheSwgYmUgc3VyZSB0byBzcGVjaWZ5IHRoZSByb2xlIGFuZCBvcmllbnRhdGlvbiB0aGlzIHRvb2xiYXIgaGFzIChyb2xlPXRvb2xiYXIgaWYgeW91J3JlIHVzaW5nIHRoaXMgYXMgYW4gYWN0dWFsIHRvb2xiYXIpLlxuICogXG4gKiBAcGFyYW0gcGFyYW0wIFxuICogQHJldHVybnMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VUb29sYmFyPENvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgdG9vbGJhclBhcmFtZXRlcnM6IHsgb3JpZW50YXRpb24sIHJvbGUsIG9uU2VsZWN0ZWRJbmRleENoYW5nZSB9LFxuICAgIGxhYmVsUGFyYW1ldGVycyxcbiAgICBzaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZVBhcmFtZXRlcnM6IHsgc2VsZWN0ZWRJbmRleCB9LFxuICAgIC4uLmxpc3ROYXZQYXJhbWV0ZXJzXG59OiBVc2VUb29sYmFyUGFyYW1ldGVyczxDb250YWluZXJFbGVtZW50LCBDaGlsZEVsZW1lbnQsIFVzZVRvb2xiYXJTdWJJbmZvPENoaWxkRWxlbWVudD4+KTogVXNlVG9vbGJhclJldHVyblR5cGU8Q29udGFpbmVyRWxlbWVudCwgQ2hpbGRFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFVzZVRvb2xiYXJTdWJJbmZvPENoaWxkRWxlbWVudD4+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHByb3BzLFxuICAgICAgICAuLi5saXN0TmF2UmV0dXJuXG4gICAgfSA9IHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb248Q29udGFpbmVyRWxlbWVudCwgQ2hpbGRFbGVtZW50LCBVc2VUb29sYmFyU3ViSW5mbzxDaGlsZEVsZW1lbnQ+Pih7XG4gICAgICAgIC4uLmxpc3ROYXZQYXJhbWV0ZXJzLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzOiB7IGluaXRpYWxseVNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXgsIG9uU2VsZWN0ZWRJbmRleENoYW5nZTogb25TZWxlY3RlZEluZGV4Q2hhbmdlID8/IG51bGwgfSxcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IHBhZ2luYXRpb25NYXg6IG51bGwsIHBhZ2luYXRpb25NaW46IG51bGwgfSxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHsgLi4ubGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsIG5hdmlnYXRpb25EaXJlY3Rpb246IG9yaWVudGF0aW9uIH0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBfdjogdm9pZCA9IHVzZVNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlKHtcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzOiB7IHNlbGVjdGVkSW5kZXggfSxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uUmV0dXJuOiB7IGNoYW5nZVNlbGVjdGVkSW5kZXg6IGxpc3ROYXZSZXR1cm4uc2luZ2xlU2VsZWN0aW9uUmV0dXJuLmNoYW5nZVNlbGVjdGVkSW5kZXggfVxuICAgIH0pXG5cbiAgICBjb25zdCB7IHByb3BzSW5wdXQ6IHByb3BzVG9vbGJhciwgcHJvcHNMYWJlbCwgcmFuZG9tSWRJbnB1dFJldHVybiwgcmFuZG9tSWRMYWJlbFJldHVybiB9ID0gdXNlTGFiZWxTeW50aGV0aWM8Q29udGFpbmVyRWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIGxhYmVsUGFyYW1ldGVyczogeyAuLi5sYWJlbFBhcmFtZXRlcnMsIG9uTGFiZWxDbGljazogbGlzdE5hdlJldHVybi5yb3ZpbmdUYWJJbmRleFJldHVybi5mb2N1c1NlbGYgfSxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFBhcmFtZXRlcnM6IHsgcHJlZml4OiBQcmVmaWNlcy50b29sYmFyIH0sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzOiB7IHByZWZpeDogUHJlZmljZXMudG9vbGJhckxhYmVsIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRvb2xiYXJSZXR1cm46IHsgcHJvcHNVbnN0YWJsZTogeyAuLi5wcm9wc1Rvb2xiYXIsIHJvbGU6IHJvbGUgPz8gdW5kZWZpbmVkIH0gfSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcHJvcHNMYWJlbCxcbiAgICAgICAgcHJvcHNUb29sYmFyOiB1c2VNZXJnZWRQcm9wcyhwcm9wc1Rvb2xiYXIsIHByb3BzKSxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFJldHVybixcbiAgICAgICAgcmFuZG9tSWRMYWJlbFJldHVybixcbiAgICAgICAgLi4ubGlzdE5hdlJldHVyblxuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVG9vbGJhckNoaWxkPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcblxuICAgIC4uLmxpc3ROYXZDaGlsZFBhcmFtZXRlcnNcbn06IFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnM8Q2hpbGRFbGVtZW50LCBVc2VUb29sYmFyU3ViSW5mbzxDaGlsZEVsZW1lbnQ+Pik6IFVzZVRvb2xiYXJDaGlsZFJldHVyblR5cGU8Q2hpbGRFbGVtZW50LCBVc2VUb29sYmFyU3ViSW5mbzxDaGlsZEVsZW1lbnQ+PiB7XG4gICAgcmV0dXJuIHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZDxDaGlsZEVsZW1lbnQsIFVzZVRvb2xiYXJTdWJJbmZvPENoaWxkRWxlbWVudD4sIG5ldmVyPih7XG4gICAgICAgIC4uLmxpc3ROYXZDaGlsZFBhcmFtZXRlcnNcbiAgICB9KTtcbn0iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVyZ2VkUHJvcHMsIHVzZVByZXNzLCBVc2VQcmVzc1JldHVyblR5cGUsIHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgZGVidWdMb2csIEVuaGFuY2VkRXZlbnQsIGVuaGFuY2VFdmVudCwgT21pdFN0cm9uZyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyB1c2VUb29sYmFyLCB1c2VUb29sYmFyQ2hpbGQsIFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnMsIFVzZVRvb2xiYXJDaGlsZFJldHVyblR5cGUsIFVzZVRvb2xiYXJDb250ZXh0LCBVc2VUb29sYmFyUGFyYW1ldGVycywgVXNlVG9vbGJhclJldHVyblR5cGUsIFVzZVRvb2xiYXJTdWJJbmZvIH0gZnJvbSBcIi4vdXNlLXRvb2xiYXJcIjtcblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1lbnViYXJDb250ZXh0PENvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlTWVudWJhclN1YkluZm88Q2hpbGRFbGVtZW50Pj4gZXh0ZW5kcyBVc2VUb29sYmFyQ29udGV4dDxDb250YWluZXJFbGVtZW50LCBDaGlsZEVsZW1lbnQsIE0+IHtcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1lbnViYXJTdWJJbmZvPENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlVG9vbGJhclN1YkluZm88Q2hpbGRFbGVtZW50PiB7XG5cbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1lbnViYXJQYXJhbWV0ZXJzPE1lbnVQYXJlbnRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VUb29sYmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPiwgXCJ0b29sYmFyUGFyYW1ldGVyc1wiPiB7XG4gICAgdG9vbGJhclBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlVG9vbGJhclBhcmFtZXRlcnM8TWVudVBhcmVudEVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgTT5bXCJ0b29sYmFyUGFyYW1ldGVyc1wiXSwgXCJyb2xlXCI+O1xuICAgIG1lbnViYXJQYXJhbWV0ZXJzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZW5lcmFsbHkgXCJtZW51XCIuIENhbiBiZSBudWxsIGlmIHRoZSByb2xlIGlzIHByb3ZpZGVkIGVsc2V3aGVyZS5cbiAgICAgICAgICovXG4gICAgICAgIHJvbGU6IHN0cmluZyB8IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1lbnViYXJJdGVtUGFyYW1ldGVyczxNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4gZXh0ZW5kcyBVc2VUb29sYmFyQ2hpbGRQYXJhbWV0ZXJzPE1lbnVJdGVtRWxlbWVudCwgTT4ge1xuICAgIC8vaGFzRm9jdXM6IFVzZUhhc0ZvY3VzUGFyYW1ldGVyczxNZW51SXRlbUVsZW1lbnQ+O1xuICAgIC8vcHJlc3NQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnM8TWVudUl0ZW1FbGVtZW50LCBNPltcInByZXNzUGFyYW1ldGVyc1wiXSwgXCJvblByZXNzU3luY1wiIHwgXCJmb2N1c1NlbGZcIj47XG4gICAgbWVudUl0ZW1QYXJhbWV0ZXJzOiB7XG4gICAgICAgIHJvbGU6IFwibWVudWl0ZW1cIiB8IFwibWVudWl0ZW1jaGVja2JveFwiIHwgXCJtZW51aXRlbXJhZGlvXCI7XG4gICAgICAgIC8vZGlzYWJsZWQ6IERpc2FibGVkVHlwZTtcbiAgICAgICAgb25QcmVzczogbnVsbCB8ICgoZTogaC5KU1guVGFyZ2V0ZWRFdmVudDxNZW51SXRlbUVsZW1lbnQ+KSA9PiB2b2lkKTtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTWVudWJhclJldHVyblR5cGU8TWVudVBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZVRvb2xiYXJSZXR1cm5UeXBlPE1lbnVQYXJlbnRFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIExhYmVsRWxlbWVudCwgTT4sIFwicHJvcHNUb29sYmFyXCI+IHtcbiAgICBwcm9wc01lbnViYXI6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPE1lbnVQYXJlbnRFbGVtZW50PjtcbiAgICBjb250ZXh0OiBVc2VNZW51YmFyQ29udGV4dDxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTWVudWJhckl0ZW1SZXR1cm5UeXBlPE1lbnVJdGVtRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlVG9vbGJhckNoaWxkUmV0dXJuVHlwZTxNZW51SXRlbUVsZW1lbnQsIE0+LCBcInByZXNzUGFyYW1ldGVyc1wiPiwgVXNlUHJlc3NSZXR1cm5UeXBlPE1lbnVJdGVtRWxlbWVudD4geyB9XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZU1lbnViYXI8TWVudVBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICBzaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZVBhcmFtZXRlcnMsXG4gICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICB0b29sYmFyUGFyYW1ldGVycyxcbiAgICBtZW51YmFyUGFyYW1ldGVyczogeyByb2xlIH0sXG4gICAgbGFiZWxQYXJhbWV0ZXJzXG59OiBVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+Pik6IFVzZU1lbnViYXJSZXR1cm5UeXBlPE1lbnVQYXJlbnRFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIExhYmVsRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4ge1xuXG4gICAgZGVidWdMb2coXCJ1c2VNZW51YmFyXCIpO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICBjaGlsZHJlbkhhdmVGb2N1c1JldHVybixcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcHJvcHNMYWJlbCxcbiAgICAgICAgcHJvcHNUb29sYmFyOiBwcm9wc01lbnViYXIsXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICB0b29sYmFyUmV0dXJuLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICByYW5kb21JZElucHV0UmV0dXJuLFxuICAgICAgICByYW5kb21JZExhYmVsUmV0dXJuLFxuICAgICAgICAuLi5fcmVzdFxuICAgIH0gPSB1c2VUb29sYmFyPE1lbnVQYXJlbnRFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIExhYmVsRWxlbWVudD4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgICAgICB0b29sYmFyUGFyYW1ldGVyczogeyByb2xlLCAuLi50b29sYmFyUGFyYW1ldGVycyB9LFxuICAgICAgICBsYWJlbFBhcmFtZXRlcnNcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBwcm9wc0xhYmVsLFxuICAgICAgICBwcm9wc01lbnViYXIsXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICB0b29sYmFyUmV0dXJuLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICByYW5kb21JZElucHV0UmV0dXJuLFxuICAgICAgICByYW5kb21JZExhYmVsUmV0dXJuXG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZW51YmFyQ2hpbGQ8TWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXG4gICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIGNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnMsXG4gICAgY29udGV4dCxcbiAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgbWVudUl0ZW1QYXJhbWV0ZXJzOiB7IG9uUHJlc3M6IG9wdSwgcm9sZSB9XG59OiBVc2VNZW51YmFySXRlbVBhcmFtZXRlcnM8TWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+Pik6IFVzZU1lbnViYXJJdGVtUmV0dXJuVHlwZTxNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+IHtcbiAgICBkZWJ1Z0xvZyhcInVzZU1lbnVJdGVtXCIsIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMuaW5kZXgpO1xuXG4gICAgY29uc3QgZm9jdXNTZWxmID0gdXNlQ2FsbGJhY2soKGU6IGFueSkgPT4gKGUgYXMgRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZm9jdXM/LigpLCBbXSlcblxuICAgIGNvbnN0IHtcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuLFxuICAgICAgICBwcmVzc1BhcmFtZXRlcnM6IHsgZXhjbHVkZVNwYWNlLCBvblByZXNzU3luYzogb3BzIH0sXG4gICAgICAgIHByb3BzLFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkUmV0dXJuLFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZFJldHVybixcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRSZXR1cm5cbiAgICB9ID0gdXNlVG9vbGJhckNoaWxkPE1lbnVJdGVtRWxlbWVudD4oe1xuICAgICAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVycyxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIH0pO1xuXG4gICAgY29uc3QgeyBwcmVzc1JldHVybiB9ID0gdXNlUHJlc3M8TWVudUl0ZW1FbGVtZW50Pih7XG4gICAgICAgIHByZXNzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZm9jdXNTZWxmLFxuICAgICAgICAgICAgZXhjbHVkZVNwYWNlLFxuICAgICAgICAgICAgb25QcmVzc1N5bmM6IHVzZVN0YWJsZUNhbGxiYWNrKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgb3BzPy4oZSk7XG4gICAgICAgICAgICAgICAgb3B1Py4oZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCByZWZFbGVtZW50UmV0dXJuXG4gICAgfSk7XG5cbiAgICBwcm9wcy5yb2xlID0gcm9sZTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGhhc0N1cnJlbnRGb2N1c1JldHVybixcbiAgICAgICAgcHJlc3NSZXR1cm4sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkUmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICBwcm9wczogdXNlTWVyZ2VkUHJvcHMocHJvcHMsIHByZXNzUmV0dXJuLnByb3BzVW5zdGFibGUpLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybixcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRSZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZFJldHVyblxuICAgIH07XG59XG4iLCJpbXBvcnQgeyB1c2VNZXJnZWRQcm9wcywgdXNlU3RhYmxlQ2FsbGJhY2ssIHVzZVN0YWJsZU9iamVjdCB9IGZyb20gXCJwcmVhY3QtcHJvcC1oZWxwZXJzXCI7XG5pbXBvcnQgeyBkZWJ1Z0xvZywgT21pdFN0cm9uZyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyB1c2VNZW51U3VyZmFjZSwgVXNlTWVudVN1cmZhY2VQYXJhbWV0ZXJzLCBVc2VNZW51U3VyZmFjZVJldHVyblR5cGUgfSBmcm9tIFwiLi91c2UtbWVudS1zdXJmYWNlXCI7XG5pbXBvcnQgeyB1c2VNZW51YmFyLCB1c2VNZW51YmFyQ2hpbGQsIFVzZU1lbnViYXJDb250ZXh0LCBVc2VNZW51YmFySXRlbVBhcmFtZXRlcnMsIFVzZU1lbnViYXJJdGVtUmV0dXJuVHlwZSwgVXNlTWVudWJhclBhcmFtZXRlcnMsIFVzZU1lbnViYXJSZXR1cm5UeXBlLCBVc2VNZW51YmFyU3ViSW5mbyB9IGZyb20gXCIuL3VzZS1tZW51YmFyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTWVudUNvbnRleHQ8Q29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VNZW51YmFyU3ViSW5mbzxDaGlsZEVsZW1lbnQ+PiBleHRlbmRzIFVzZU1lbnViYXJDb250ZXh0PENvbnRhaW5lckVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4ge1xuICAgIG1lbnU6IHsgY2xvc2VGcm9tTWVudUl0ZW1DbGlja2VkKCk6IHZvaWQ7IH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VNZW51UGFyYW1ldGVyczxNZW51U3VyZmFjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNZW51UGFyZW50RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE1lbnVCdXR0b25FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPiwgXCJ0b29sYmFyUGFyYW1ldGVyc1wiIHwgXCJtZW51YmFyUGFyYW1ldGVyc1wiIHwgXCJsYWJlbFBhcmFtZXRlcnNcIj4ge1xuICAgIGRpc21pc3NQYXJhbWV0ZXJzOiBVc2VNZW51U3VyZmFjZVBhcmFtZXRlcnM8TWVudVN1cmZhY2VFbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudD5bXCJkaXNtaXNzUGFyYW1ldGVyc1wiXSAmIHtcbiAgICAgICAgb25DbG9zZShyZWFzb246IFwiZXNjYXBlXCIgfCBcImJhY2tkcm9wXCIgfCBcImxvc3QtZm9jdXNcIiB8IFwiaXRlbS1jbGlja2VkXCIpOiB2b2lkO1xuICAgIH1cbiAgICBlc2NhcGVEaXNtaXNzUGFyYW1ldGVyczogVXNlTWVudVN1cmZhY2VQYXJhbWV0ZXJzPE1lbnVTdXJmYWNlRWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQ+W1wiZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnNcIl07XG4gICAgbWVudVN1cmZhY2VQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZU1lbnVTdXJmYWNlUGFyYW1ldGVyczxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVCdXR0b25FbGVtZW50PltcIm1lbnVTdXJmYWNlUGFyYW1ldGVyc1wiXSwgXCJyb2xlXCIgfCBcInN1cmZhY2VJZFwiPjtcbiAgICB0b29sYmFyUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPltcInRvb2xiYXJQYXJhbWV0ZXJzXCJdLCBuZXZlcj5cbiAgICBtZW51YmFyUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPltcIm1lbnViYXJQYXJhbWV0ZXJzXCJdLCBcInJvbGVcIj5cblxuICAgIG1lbnVQYXJhbWV0ZXJzOiB7XG4gICAgICAgIC8qKiBUaGlzIGlzIGNhbGxlZCB3aGVuZXZlciB0aGUgY29ycmVzcG9uZGluZyBhcnJvdyBrZXkgaXMgcHJlc3NlZCBvbiB0aGUgdHJpZ2dlcmluZyBidXR0b24uICovXG4gICAgICAgIG9uT3BlbigpOiB2b2lkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSAqKnBoeXNpY2FsKiogZGlyZWN0aW9uIHRoYXQgaXMgcHJlc3NlZFxuICAgICAgICAgKiB1c2luZyB0aGUgKiphcnJvdyBrZXlzKiogb24geW91ciBrZXlib2FyZC5cbiAgICAgICAgICogXG4gICAgICAgICAqIEl0IGhhcyBubyBlZmZlY3Qgb24gZGlzcGxheSwgbGlzdCBuYXZpZ2F0aW9uIGRpcmVjdGlvbiwgZXRjLlxuICAgICAgICAgKiBJdCBzb2xlbHkgY29udHJvbHMgdGhlIGFycm93IGtleSB0aGF0J3MgbGlzdGVuZWQgZm9yLlxuICAgICAgICAgKi9cbiAgICAgICAgb3BlbkRpcmVjdGlvbjogXCJkb3duXCIgfCBcInVwXCIgfCBcImxlZnRcIiB8IFwicmlnaHRcIiB8IG51bGw7XG4gICAgfVxufVxuZXhwb3J0IGludGVyZmFjZSBVc2VNZW51SXRlbVBhcmFtZXRlcnM8TWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+IGV4dGVuZHMgVXNlTWVudWJhckl0ZW1QYXJhbWV0ZXJzPE1lbnVJdGVtRWxlbWVudCwgTT4ge1xuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTWVudVJldHVyblR5cGU8TWVudVN1cmZhY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudVBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PiBleHRlbmRzIFVzZU1lbnVTdXJmYWNlUmV0dXJuVHlwZTxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudD4sIE9taXRTdHJvbmc8VXNlTWVudWJhclJldHVyblR5cGU8TWVudVBhcmVudEVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQsIE0+LCBcInByb3BzTWVudWJhclwiIHwgXCJwcm9wc0xhYmVsXCI+IHtcbiAgICBjb250ZXh0OiBVc2VNZW51Q29udGV4dDxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VNZW51SXRlbVJldHVyblR5cGU8TWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+IGV4dGVuZHMgVXNlTWVudWJhckl0ZW1SZXR1cm5UeXBlPE1lbnVJdGVtRWxlbWVudCwgTT4ge1xuICAgIG1lbnVJdGVtUmV0dXJuOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGEgbWVudSBpdGVtIGlzIGNsaWNrZWQsIGl0J3Mgb2Z0ZW4gZXhwZWN0ZWQgdGhhdCB0aGUgbWVudSBjbG9zZXMgaXRzZWxmIGltbWVkaWF0ZWx5IGFmdGVyLlxuICAgICAgICAgKiBcbiAgICAgICAgICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gZG8gc28uXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZU1lbnUoKTogdm9pZDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZW51PE1lbnVTdXJmYWNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgZGlzbWlzc1BhcmFtZXRlcnMsXG4gICAgZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnMsXG4gICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgbWVudVBhcmFtZXRlcnM6IHsgb3BlbkRpcmVjdGlvbiwgb25PcGVuIH0sXG4gICAgbWVudVN1cmZhY2VQYXJhbWV0ZXJzLFxuICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgIHNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUGFyYW1ldGVycyxcbiAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICB0b29sYmFyUGFyYW1ldGVycyxcbiAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgdHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgbWVudWJhclBhcmFtZXRlcnNcbn06IFVzZU1lbnVQYXJhbWV0ZXJzPE1lbnVTdXJmYWNlRWxlbWVudCwgTWVudVBhcmVudEVsZW1lbnQsIE1lbnVCdXR0b25FbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+KTogVXNlTWVudVJldHVyblR5cGU8TWVudVN1cmZhY2VFbGVtZW50LCBNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4ge1xuXG4gICAgZGVidWdMb2coXCJ1c2VNZW51XCIpO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBjaGlsZHJlbkhhdmVGb2N1c1JldHVybixcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBwcm9wc0xhYmVsOiBwcm9wc0J1dHRvbkFzTWVudUxhYmVsLFxuICAgICAgICBwcm9wc01lbnViYXIsXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHRvb2xiYXJSZXR1cm4sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgcmFuZG9tSWRJbnB1dFJldHVybixcbiAgICAgICAgcmFuZG9tSWRMYWJlbFJldHVybixcbiAgICB9ID0gdXNlTWVudWJhcjxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudD4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZVBhcmFtZXRlcnMsXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgICAgICB0b29sYmFyUGFyYW1ldGVyczogeyAuLi50b29sYmFyUGFyYW1ldGVycyB9LFxuICAgICAgICBtZW51YmFyUGFyYW1ldGVyczogeyByb2xlOiBcIm1lbnVcIiwgLi4ubWVudWJhclBhcmFtZXRlcnMgfSxcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7IGFyaWFMYWJlbDogbnVsbCB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBvbktleURvd24gPSB1c2VTdGFibGVDYWxsYmFjaygoZTogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgICBjb25zdCBpc09wZW4gPSBkaXNtaXNzUGFyYW1ldGVycy5vcGVuO1xuICAgICAgICBpZiAoIWlzT3Blbikge1xuICAgICAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd1VwXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5EaXJlY3Rpb24gPT0gJ3VwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25PcGVuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5EaXJlY3Rpb24gPT0gJ2Rvd24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3BlbkRpcmVjdGlvbiA9PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uT3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcIkFycm93UmlnaHRcIjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3BlbkRpcmVjdGlvbiA9PSAncmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIGNvbnN0IHtcbiAgICAgICAgZm9jdXNUcmFwUmV0dXJuLFxuICAgICAgICBwcm9wc1NlbnRpbmVsLFxuICAgICAgICBwcm9wc1N1cmZhY2UsXG4gICAgICAgIHByb3BzVGFyZ2V0LFxuICAgICAgICBwcm9wc1RyaWdnZXIsXG4gICAgICAgIHJlZkVsZW1lbnRQb3B1cFJldHVybixcbiAgICAgICAgcmVmRWxlbWVudFNvdXJjZVJldHVyblxuICAgIH0gPSB1c2VNZW51U3VyZmFjZTxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudD4oe1xuICAgICAgICBtZW51U3VyZmFjZVBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIC4uLm1lbnVTdXJmYWNlUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHN1cmZhY2VJZDogcmFuZG9tSWRJbnB1dFJldHVybi5pZCxcbiAgICAgICAgICAgIHJvbGU6IFwibWVudVwiLFxuICAgICAgICB9LFxuICAgICAgICBkaXNtaXNzUGFyYW1ldGVycyxcbiAgICAgICAgZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnMsXG4gICAgICAgIGZvY3VzVHJhcFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGZvY3VzUG9wdXA6ICgpID0+IHsgcm92aW5nVGFiSW5kZXhSZXR1cm4uZm9jdXNTZWxmKCkgfVxuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuLFxuICAgICAgICBjb250ZXh0OiB1c2VTdGFibGVPYmplY3Qoe1xuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgIG1lbnU6IHVzZVN0YWJsZU9iamVjdCh7XG4gICAgICAgICAgICAgICAgY2xvc2VGcm9tTWVudUl0ZW1DbGlja2VkOiB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRpc21pc3NQYXJhbWV0ZXJzLm9uQ2xvc2UoXCJpdGVtLWNsaWNrZWRcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pLFxuICAgICAgICBmb2N1c1RyYXBSZXR1cm4sXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25SZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBwcm9wc1NlbnRpbmVsLFxuICAgICAgICBwcm9wc1N1cmZhY2UsXG4gICAgICAgIHByb3BzVGFyZ2V0OiB1c2VNZXJnZWRQcm9wcyhwcm9wc1RhcmdldCwgcHJvcHNNZW51YmFyKSxcbiAgICAgICAgcHJvcHNUcmlnZ2VyOiB1c2VNZXJnZWRQcm9wcyh7IG9uS2V5RG93biB9LCBwcm9wc1RyaWdnZXIsIHByb3BzQnV0dG9uQXNNZW51TGFiZWwpLFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJlZkVsZW1lbnRQb3B1cFJldHVybixcbiAgICAgICAgcmVmRWxlbWVudFNvdXJjZVJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHRvb2xiYXJSZXR1cm4sXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25SZXR1cm4sXG4gICAgICAgIHJhbmRvbUlkSW5wdXRSZXR1cm4sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxSZXR1cm4sXG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZU1lbnVJdGVtUGFyYW1ldGVyczxNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4gZXh0ZW5kcyBVc2VNZW51YmFySXRlbVBhcmFtZXRlcnM8TWVudUl0ZW1FbGVtZW50LCBNPiB7XG4gICAgY29udGV4dDogVXNlTWVudUNvbnRleHQ8YW55LCBNZW51SXRlbUVsZW1lbnQsIE0+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTWVudUl0ZW08TWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ocDogVXNlTWVudUl0ZW1QYXJhbWV0ZXJzPE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4pOiBVc2VNZW51SXRlbVJldHVyblR5cGU8TWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PiB7XG4gICAgY29uc3QgcmV0ID0gdXNlTWVudWJhckNoaWxkPE1lbnVJdGVtRWxlbWVudD4ocCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5yZXQsXG4gICAgICAgIG1lbnVJdGVtUmV0dXJuOiB7IGNsb3NlTWVudTogcC5jb250ZXh0Lm1lbnUuY2xvc2VGcm9tTWVudUl0ZW1DbGlja2VkIH1cbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IENvbnRleHQsIGNyZWF0ZUNvbnRleHQsIGgsIFZOb2RlIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlUG9ydGFsQ2hpbGRyZW4gfSBmcm9tIFwicHJlYWN0LXByb3AtaGVscGVyc1wiXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgdXNlTWVtbyB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcblxuZXhwb3J0IGludGVyZmFjZSBOb3RpZmljYXRpb25Qcm92aWRlclByb3BzIHtcbiAgICB0YXJnZXRBc3NlcnRpdmU6IHN0cmluZyB8IEVsZW1lbnQ7XG4gICAgdGFyZ2V0UG9saXRlOiBzdHJpbmcgfCBFbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvblByb3ZpZGVyUmV0dXJuVHlwZSB7XG4gICAgY2hpbGRyZW46IGguSlNYLkVsZW1lbnQ7XG4gICAgY29udGV4dDogTm90aWZpY2F0aW9uUHJvdmlkZXJDb250ZXh0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvblByb3ZpZGVyQ29udGV4dCB7XG4gICAgbm90aWZ5KG1vZGU6IFwicG9saXRlXCIgfCBcImFzc2VydGl2ZVwiLCBjb250ZW50OiBWTm9kZSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjb25zdCBOb3RpZmljYXRpb25Qcm92aWRlckNvbnRleHQgPSBjcmVhdGVDb250ZXh0PE5vdGlmaWNhdGlvblByb3ZpZGVyQ29udGV4dD4obnVsbCEpO1xuXG4vKipcbiAqIEFsbG93cyBjaGlsZHJlbiB0byBzZW5kIG5vdGlmaWNhdGlvbnMgdG8gYSBzY3JlZW4gcmVhZGVyIG9yIG90aGVyIGFzc2lzdGl2ZSB0ZWNobm9sb2d5LlxuICogXG4gKiBQbGVhc2Ugbm90ZSB0aGF0IGJlY2F1c2Ugc29tZSBkZXZpY2VzIG9ubHkgY2hlY2sgZm9yIGBhcmlhLWxpdmVgIHJlZ2lvbnMgKm9uY2UqIG9uIHBhZ2UgbG9hZCxcbiAqIHRoZXkgY2Fubm90IGJlIGNyZWF0ZWQgZHluYW1pY2FsbHkuIFlvdSBtdXN0IHBhc3MgdGhlIElEIG9mIHRoZSBlbGVtZW50cyB0byB1c2UgKG9yIHRoZSBlbGVtZW50cyB0aGVtc2VsdmVzKS5cbiAqIFxuICogT25lICptdXN0KiBoYXZlIGBhcmlhLWxpdmU9cG9saXRlYCBhbmQgb25lICptdXN0KiBoYXZlIGBhcmlhLWxpdmU9YXNzZXJ0aXZlYCwgYnV0IHRoZXJlIGFyZW4ndCByZWFsbHkgYW55IG90aGVyIHJlcXVpcmVtZW50cy4gXG4gKiBUaGV5IHNob3VsZG4ndCBiZSB2aXNpYmxlLCBJIHN1cHBvc2UuXG4gKiBcbiAqIEBwYXJhbSBwYXJhbTAgXG4gKiBAcmV0dXJucyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZU5vdGlmaWNhdGlvblByb3ZpZGVyKHsgdGFyZ2V0QXNzZXJ0aXZlLCB0YXJnZXRQb2xpdGUgfTogTm90aWZpY2F0aW9uUHJvdmlkZXJQcm9wcykge1xuICAgIGNvbnN0IHsgY2hpbGRyZW46IGNoaWxkcmVuUG9saXRlLCBwdXNoQ2hpbGQ6IG5vdGlmeVBvbGl0ZSwgcG9ydGFsRWxlbWVudDogcG9saXRlRWxlbWVudCB9ID0gdXNlUG9ydGFsQ2hpbGRyZW4oeyB0YXJnZXQ6IHRhcmdldFBvbGl0ZSB9KTtcbiAgICBjb25zdCB7IGNoaWxkcmVuOiBjaGlsZHJlbkFzc2VydGl2ZSwgcHVzaENoaWxkOiBub3RpZnlBc3NlcnRpdmUsIHBvcnRhbEVsZW1lbnQ6IGFzc2VydGl2ZUVsZW1lbnQgfSA9IHVzZVBvcnRhbENoaWxkcmVuKHsgdGFyZ2V0OiB0YXJnZXRBc3NlcnRpdmUgfSk7XG4gICAgY29uc29sZS5hc3NlcnQocG9saXRlRWxlbWVudD8uZ2V0QXR0cmlidXRlKFwiYXJpYS1saXZlXCIpID09IFwicG9saXRlXCIpO1xuICAgIGNvbnNvbGUuYXNzZXJ0KGFzc2VydGl2ZUVsZW1lbnQ/LmdldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiKSA9PSBcImFzc2VydGl2ZVwiKTtcblxuICAgIGNvbnN0IG5vdGlmeSA9IHVzZUNhbGxiYWNrKChtb2RlOiBcInBvbGl0ZVwiIHwgXCJhc3NlcnRpdmVcIiwgY2hpbGQ6IGguSlNYLkVsZW1lbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIG1vZGUgPT0gXCJhc3NlcnRpdmVcIj8gbm90aWZ5QXNzZXJ0aXZlKGNoaWxkKSA6IG5vdGlmeVBvbGl0ZShjaGlsZCk7XG4gICAgfSwgW25vdGlmeUFzc2VydGl2ZSwgbm90aWZ5UG9saXRlXSlcblxuICAgIHJldHVybiB7XG4gICAgICAgIG5vdGlmeSxcbiAgICAgICAgY29udGV4dDogdXNlTWVtbygoKSA9PiAoeyBub3RpZnkgfSksIFtub3RpZnldKSxcbiAgICAgICAgY2hpbGRyZW46IChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVuUG9saXRlfVxuICAgICAgICAgICAgICAgIHtjaGlsZHJlbkFzc2VydGl2ZX1cbiAgICAgICAgICAgIDwvPlxuICAgICAgICApXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTm90aWZ5KCkge1xuICAgIHJldHVybiB1c2VDb250ZXh0KE5vdGlmaWNhdGlvblByb3ZpZGVyQ29udGV4dCkubm90aWZ5O1xufVxuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUFzeW5jSGFuZGxlciwgVXNlQXN5bmNIYW5kbGVyUGFyYW1ldGVycywgVXNlQXN5bmNIYW5kbGVyUmV0dXJuVHlwZSwgdXNlTWVyZ2VkUHJvcHMgfSBmcm9tIFwicHJlYWN0LXByb3AtaGVscGVyc1wiO1xuaW1wb3J0IHsgRWxlbWVudFRvVGFnLCBPbWl0U3Ryb25nLCBQcmVmaWNlcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyBVc2VMYWJlbFJldHVyblR5cGUsIHVzZUxhYmVsU3ludGhldGljLCBVc2VMYWJlbFN5bnRoZXRpY1BhcmFtZXRlcnMgfSBmcm9tIFwiLi91c2UtbGFiZWxcIjtcblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVByb2dyZXNzUGFyYW1ldGVyczxJbmRpY2F0b3JFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgX0xhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBsYWJlbFBhcmFtZXRlcnM6IE9taXRTdHJvbmc8VXNlTGFiZWxTeW50aGV0aWNQYXJhbWV0ZXJzW1wibGFiZWxQYXJhbWV0ZXJzXCJdLCBcIm9uTGFiZWxDbGlja1wiPjtcbiAgICBwcm9ncmVzc0luZGljYXRvclBhcmFtZXRlcnM6IHtcbiAgICAgICAgbWF4OiBudW1iZXI7XG4gICAgICAgIHZhbHVlOiBudW1iZXIgfCBcImluZGV0ZXJtaW5hdGVcIiB8IFwiZGlzYWJsZWRcIjtcbiAgICAgICAgdmFsdWVUZXh0OiBzdHJpbmcgfCBudWxsO1xuICAgICAgICB0YWdJbmRpY2F0b3I6IEVsZW1lbnRUb1RhZzxJbmRpY2F0b3JFbGVtZW50PjtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUHJvZ3Jlc3NSZXR1cm5UeXBlPFByb2dyZXNzRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFByb2dyZXNzTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUxhYmVsUmV0dXJuVHlwZTxQcm9ncmVzc0VsZW1lbnQsIFByb2dyZXNzTGFiZWxFbGVtZW50PiwgXCJwcm9wc0lucHV0XCIgfCBcInByb3BzTGFiZWxcIj4ge1xuICAgIHByb3BzSW5kaWNhdG9yOiBoLkpTWC5IVE1MQXR0cmlidXRlczxQcm9ncmVzc0VsZW1lbnQ+O1xuICAgIHByb3BzTGFiZWw6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFByb2dyZXNzTGFiZWxFbGVtZW50PjtcbiAgICBwcm9wc1JlZ2lvbjogaC5KU1guSFRNTEF0dHJpYnV0ZXM8YW55Pjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVByb2dyZXNzPFByb2dyZXNzRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBsYWJlbFBhcmFtZXRlcnMsXG4gICAgcHJvZ3Jlc3NJbmRpY2F0b3JQYXJhbWV0ZXJzOiB7XG4gICAgICAgIG1heCxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIHZhbHVlVGV4dCxcbiAgICAgICAgdGFnSW5kaWNhdG9yXG4gICAgfVxufTogVXNlUHJvZ3Jlc3NQYXJhbWV0ZXJzPFByb2dyZXNzRWxlbWVudCwgTGFiZWxFbGVtZW50Pik6IFVzZVByb2dyZXNzUmV0dXJuVHlwZTxQcm9ncmVzc0VsZW1lbnQsIExhYmVsRWxlbWVudD4ge1xuXG4gICAgY29uc3Qge1xuICAgICAgICBwcm9wc0lucHV0LFxuICAgICAgICBwcm9wc0xhYmVsLFxuICAgICAgICByYW5kb21JZElucHV0UmV0dXJuLFxuICAgICAgICByYW5kb21JZExhYmVsUmV0dXJuXG4gICAgfSA9IHVzZUxhYmVsU3ludGhldGljPFByb2dyZXNzRWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIGxhYmVsUGFyYW1ldGVyczogeyAuLi5sYWJlbFBhcmFtZXRlcnMsIG9uTGFiZWxDbGljazogbnVsbCB9LFxuICAgICAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLnByb2dyZXNzSW5kaWNhdG9yIH0sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzOiB7IHByZWZpeDogUHJlZmljZXMucHJvZ3Jlc3NMYWJlbCB9XG4gICAgfSk7XG5cbiAgICAvLyBUaGlzIGlzbid0IGFuIGlucHV0IGluIHRoZSB1c3VhbCBzZW5zZSAtLSBpdCdzIG5vdCB0YWJiYWJsZS5cbiAgICAvLyBUT0RPOiBNYWtlIHRoaXMgYW4gb3B0aW9uIGluIHRoZSBob29rIGl0c2VsZlxuICAgIHByb3BzSW5wdXQudGFiSW5kZXggPSAtMTtcblxuICAgIGNvbnN0IGJ1c3kgPSB2YWx1ZSAmJiB2YWx1ZSAhPSBcImRpc2FibGVkXCI7IC8vdmFsdWUgPT0gXCJkaXNhYmxlZFwiIHx8ICF2YWx1ZT8gZmFsc2UgOiB0cnVlOy8vICghIXZhbHVlKTtcbiAgICBjb25zdCBkaXNhYmxlZCA9ICh2YWx1ZSA9PSBcImRpc2FibGVkXCIpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJudW1iZXJcIikge1xuICAgICAgICB2YWx1ZSA9IG51bGwhO1xuICAgICAgICBtYXggPz89IDEwMDtcbiAgICB9XG4gICAgY29uc3QgaW5kaWNhdG9yUHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFByb2dyZXNzRWxlbWVudD4gPSB0YWdJbmRpY2F0b3IgPT09IFwicHJvZ3Jlc3NcIiA/XG4gICAgICAgIHtcbiAgICAgICAgICAgIG1heCxcbiAgICAgICAgICAgIHZhbHVlOiAodmFsdWUgPz8gdW5kZWZpbmVkKSxcbiAgICAgICAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiBcIjBcIixcbiAgICAgICAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiB2YWx1ZSA9PSBudWxsID8gdW5kZWZpbmVkIDogYCR7dmFsdWV9YCxcbiAgICAgICAgfSBhcyBoLkpTWC5IVE1MQXR0cmlidXRlczxIVE1MUHJvZ3Jlc3NFbGVtZW50PiBhcyBhbnkgYXMgaC5KU1guSFRNTEF0dHJpYnV0ZXM8UHJvZ3Jlc3NFbGVtZW50PlxuICAgICAgICA6XG4gICAgICAgIHtcbiAgICAgICAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiBcIjBcIixcbiAgICAgICAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiBtYXggPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGAke21heH1gLFxuICAgICAgICAgICAgXCJhcmlhLXZhbHVldGV4dFwiOiB2YWx1ZVRleHQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGAke3ZhbHVlVGV4dH1gLFxuICAgICAgICAgICAgXCJhcmlhLXZhbHVlbm93XCI6IHZhbHVlID09IG51bGwgPyB1bmRlZmluZWQgOiBgJHt2YWx1ZX1gLFxuICAgICAgICAgICAgcm9sZTogXCJwcm9ncmVzc2JhclwiXG4gICAgICAgIH07XG5cbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgaW5kaWNhdG9yUHJvcHNbXCJhcmlhLWhpZGRlblwiXSA9IFwidHJ1ZVwiO1xuICAgIH1cblxuICAgIGNvbnN0IGxhYmVsUHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPExhYmVsRWxlbWVudD4gPSB7XG4gICAgICAgIFwiYXJpYS1oaWRkZW5cIjogKCFidXN5ID8gXCJ0cnVlXCIgOiB1bmRlZmluZWQpXG4gICAgfTtcblxuICAgIGNvbnN0IHJlZ2lvblByb3BzID0ge1xuICAgICAgICBcImFyaWEtYnVzeVwiOiAoYnVzeSkudG9TdHJpbmcoKSxcbiAgICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IHJhbmRvbUlkSW5wdXRSZXR1cm4uaWRcbiAgICB9XG5cblxuICAgIHJldHVybiB7XG4gICAgICAgIHByb3BzSW5kaWNhdG9yOiB1c2VNZXJnZWRQcm9wcyhpbmRpY2F0b3JQcm9wcywgcHJvcHNJbnB1dCksXG4gICAgICAgIHByb3BzTGFiZWw6IHVzZU1lcmdlZFByb3BzKGxhYmVsUHJvcHMsIHByb3BzTGFiZWwpLFxuICAgICAgICBwcm9wc1JlZ2lvbjogcmVnaW9uUHJvcHMsXG4gICAgICAgIHJhbmRvbUlkSW5wdXRSZXR1cm4sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxSZXR1cm4sXG5cbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUHJvZ3Jlc3NXaXRoSGFuZGxlclBhcmFtZXRlcnM8RXZlbnRUeXBlLCBDYXB0dXJlVHlwZSwgSW5kaWNhdG9yRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBsYWJlbFBhcmFtZXRlcnM6IFVzZVByb2dyZXNzUGFyYW1ldGVyczxJbmRpY2F0b3JFbGVtZW50LCBMYWJlbEVsZW1lbnQ+W1wibGFiZWxQYXJhbWV0ZXJzXCJdO1xuICAgIHByb2dyZXNzSW5kaWNhdG9yUGFyYW1ldGVyczogUGljazxVc2VQcm9ncmVzc1BhcmFtZXRlcnM8SW5kaWNhdG9yRWxlbWVudCwgTGFiZWxFbGVtZW50PltcInByb2dyZXNzSW5kaWNhdG9yUGFyYW1ldGVyc1wiXSwgXCJ0YWdJbmRpY2F0b3JcIj47XG4gICAgcHJvZ3Jlc3NXaXRoSGFuZGxlclBhcmFtZXRlcnM6IHtcbiAgICAgICAgZm9yY2libHlQZW5kaW5nOiBib29sZWFuIHwgbnVsbDtcbiAgICB9O1xuICAgIGFzeW5jSGFuZGxlclBhcmFtZXRlcnM6IFVzZUFzeW5jSGFuZGxlclBhcmFtZXRlcnM8RXZlbnRUeXBlLCBDYXB0dXJlVHlwZT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUHJvZ3Jlc3NXaXRoSGFuZGxlclJldHVyblR5cGU8RXZlbnRUeXBlLCBDYXB0dXJlVHlwZSwgSW5kaWNhdG9yRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IHtcbiAgICBwcm9wc0luZGljYXRvcjogVXNlUHJvZ3Jlc3NSZXR1cm5UeXBlPEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD5bXCJwcm9wc0luZGljYXRvclwiXTtcbiAgICBwcm9wc0xhYmVsOiBVc2VQcm9ncmVzc1JldHVyblR5cGU8SW5kaWNhdG9yRWxlbWVudCwgTGFiZWxFbGVtZW50PltcInByb3BzTGFiZWxcIl07XG4gICAgcHJvcHNSZWdpb246IFVzZVByb2dyZXNzUmV0dXJuVHlwZTxJbmRpY2F0b3JFbGVtZW50LCBMYWJlbEVsZW1lbnQ+W1wicHJvcHNSZWdpb25cIl07XG4gICAgYXN5bmNIYW5kbGVyUmV0dXJuOiBVc2VBc3luY0hhbmRsZXJSZXR1cm5UeXBlPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGU+XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VQcm9ncmVzc1dpdGhIYW5kbGVyPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGUsIEluZGljYXRvckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgbGFiZWxQYXJhbWV0ZXJzLFxuICAgIHByb2dyZXNzSW5kaWNhdG9yUGFyYW1ldGVycyxcbiAgICBhc3luY0hhbmRsZXJQYXJhbWV0ZXJzLFxuICAgIHByb2dyZXNzV2l0aEhhbmRsZXJQYXJhbWV0ZXJzOiB7IGZvcmNpYmx5UGVuZGluZyB9XG59OiBVc2VQcm9ncmVzc1dpdGhIYW5kbGVyUGFyYW1ldGVyczxFdmVudFR5cGUsIENhcHR1cmVUeXBlLCBJbmRpY2F0b3JFbGVtZW50LCBMYWJlbEVsZW1lbnQ+KTogVXNlUHJvZ3Jlc3NXaXRoSGFuZGxlclJldHVyblR5cGU8RXZlbnRUeXBlLCBDYXB0dXJlVHlwZSwgSW5kaWNhdG9yRWxlbWVudCwgTGFiZWxFbGVtZW50PiB7XG4gICAgY29uc3QgYXN5bmNJbmZvID0gdXNlQXN5bmNIYW5kbGVyKGFzeW5jSGFuZGxlclBhcmFtZXRlcnMpO1xuXG4gICAgY29uc3Qge1xuICAgICAgICBwcm9wc0luZGljYXRvcixcbiAgICAgICAgcHJvcHNMYWJlbCxcbiAgICAgICAgcHJvcHNSZWdpb25cbiAgICB9ID0gdXNlUHJvZ3Jlc3M8SW5kaWNhdG9yRWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIGxhYmVsUGFyYW1ldGVycyxcbiAgICAgICAgcHJvZ3Jlc3NJbmRpY2F0b3JQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBtYXg6IDEsXG4gICAgICAgICAgICB2YWx1ZTogKGZvcmNpYmx5UGVuZGluZyB8fCBhc3luY0luZm8ucGVuZGluZykgPyBcImluZGV0ZXJtaW5hdGVcIiA6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgIHZhbHVlVGV4dDogbnVsbCxcbiAgICAgICAgICAgIC4uLnByb2dyZXNzSW5kaWNhdG9yUGFyYW1ldGVyc1xuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvcHNJbmRpY2F0b3IsXG4gICAgICAgIHByb3BzTGFiZWwsXG4gICAgICAgIHByb3BzUmVnaW9uLFxuICAgICAgICBhc3luY0hhbmRsZXJSZXR1cm46IGFzeW5jSW5mb1xuICAgIH1cbn1cblxuXG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNvbnRleHQsIHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb24sIHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZCwgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbywgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycywgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUmV0dXJuVHlwZSwgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnMsIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlLCB1c2VNZXJnZWRQcm9wcywgdXNlUmVmRWxlbWVudCwgdXNlU2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmUsIHVzZVN0YWJsZUNhbGxiYWNrLCB1c2VTdGFibGVHZXR0ZXIsIHVzZVN0YXRlIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBkZWJ1Z0xvZywgRW5oYW5jZWRFdmVudCwgT21pdFN0cm9uZywgUHJlZmljZXMgfSBmcm9tIFwiLi9wcm9wc1wiO1xuaW1wb3J0IHsgdXNlQ2hlY2tib3hMaWtlLCBVc2VDaGVja2JveExpa2VQYXJhbWV0ZXJzLCBVc2VDaGVja2JveExpa2VSZXR1cm5UeXBlIH0gZnJvbSBcIi4vdXNlLWNoZWNrYm94LWxpa2VcIjtcbmltcG9ydCB7IEZvY3VzYWJsZUxhYmVsRWxlbWVudCwgTGFiZWxQb3NpdGlvbiwgdXNlTGFiZWxTeW50aGV0aWMsIFVzZUxhYmVsU3ludGhldGljUGFyYW1ldGVycyB9IGZyb20gXCIuL3VzZS1sYWJlbFwiO1xuXG5leHBvcnQgdHlwZSBSYWRpb0NoYW5nZUV2ZW50PEUgZXh0ZW5kcyBFdmVudFRhcmdldCwgViBleHRlbmRzIG51bWJlciB8IHN0cmluZz4gPSBFbmhhbmNlZEV2ZW50PEUsIEV2ZW50LCB7IHNlbGVjdGVkVmFsdWU6IFYgfCB1bmRlZmluZWQgfT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlUmFkaW9Hcm91cFBhcmFtZXRlcnM8ViBleHRlbmRzIHN0cmluZyB8IG51bWJlciwgR3JvdXBFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgX0dyb3VwTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnM8R3JvdXBFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudCwgUmFkaW9TdWJJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50LCBWPj4sIFwicGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzXCIgfCBcInNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnNcIj4ge1xuICAgIHJhZGlvR3JvdXBQYXJhbWV0ZXJzOiB7XG4gICAgICAgIG5hbWU6IHN0cmluZztcblxuICAgICAgICBzZWxlY3RlZFZhbHVlOiBWIHwgbnVsbDtcbiAgICAgICAgb25TZWxlY3RlZFZhbHVlQ2hhbmdlKHZhbHVlOiBWIHwgbnVsbCwgZXZlbnQ6IEV2ZW50IHwgdW5kZWZpbmVkKTogdm9pZDtcbiAgICB9XG4gICAgbGFiZWxQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUxhYmVsU3ludGhldGljUGFyYW1ldGVyc1tcImxhYmVsUGFyYW1ldGVyc1wiXSwgXCJvbkxhYmVsQ2xpY2tcIj47XG59XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVJhZGlvUGFyYW1ldGVyczxMUCBleHRlbmRzIExhYmVsUG9zaXRpb24sIFYgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIsIElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBSYWRpb1N1YkluZm88Rm9jdXNhYmxlTGFiZWxFbGVtZW50PExQLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudD4sIFY+PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczxGb2N1c2FibGVMYWJlbEVsZW1lbnQ8TFAsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50PiwgTSwgXCJnZXRWYWx1ZTJcIj4sIFwic2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzXCI+IHtcbiAgICByYWRpb1BhcmFtZXRlcnM6IHtcbiAgICAgICAgdmFsdWU6IFY7XG4gICAgfVxuICAgIGNvbnRleHQ6IFJhZGlvQ29udGV4dDxWLCBhbnksIEZvY3VzYWJsZUxhYmVsRWxlbWVudDxMUCwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBNPjtcbiAgICBjaGVja2JveExpa2VQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUNoZWNrYm94TGlrZVBhcmFtZXRlcnM8TFAsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50PltcImNoZWNrYm94TGlrZVBhcmFtZXRlcnNcIl0sIFwiY2hlY2tlZFwiIHwgXCJvbklucHV0XCIgfCBcInJvbGVcIj47XG4gICAgbGFiZWxQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUNoZWNrYm94TGlrZVBhcmFtZXRlcnM8TFAsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50PltcImxhYmVsUGFyYW1ldGVyc1wiXSwgbmV2ZXI+O1xuICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzPEZvY3VzYWJsZUxhYmVsRWxlbWVudDxMUCwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBNLCBuZXZlcj5bXCJzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnNcIl0sIFwiYXJpYVByb3BOYW1lXCIgfCBcInNlbGVjdGlvbk1vZGVcIj5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYWRpb0NvbnRleHQ8ViBleHRlbmRzIG51bWJlciB8IHN0cmluZywgUGFyZW50RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBSYWRpb1N1YkluZm88Q2hpbGRFbGVtZW50LCBWPj4gZXh0ZW5kcyBDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ29udGV4dDxQYXJlbnRFbGVtZW50LCBDaGlsZEVsZW1lbnQsIE0+IHtcbiAgICByYWRpb0NvbnRleHQ6IHtcbiAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICBieU5hbWU6IE1hcDxWLCBudW1iZXI+O1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VSYWRpb0dyb3VwUmV0dXJuVHlwZTxWIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyLCBHcm91cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcm91cExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPEdyb3VwRWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQsIFJhZGlvU3ViSW5mbzxUYWJiYWJsZUNoaWxkRWxlbWVudCwgVj4+LCBcInByb3BzXCI+IHtcbiAgICByYWRpb0dyb3VwUmV0dXJuOiB7XG4gICAgICAgIHNlbGVjdGVkSW5kZXg6IG51bWJlciB8IG51bGw7XG4gICAgfVxuICAgIHByb3BzUmFkaW9Hcm91cDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8R3JvdXBFbGVtZW50PjtcbiAgICBwcm9wc1JhZGlvR3JvdXBMYWJlbDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8R3JvdXBMYWJlbEVsZW1lbnQ+O1xuXG4gICAgLy8gb3ZlcnJpZGVcbiAgICBjb250ZXh0OiBSYWRpb0NvbnRleHQ8ViwgR3JvdXBFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudCwgUmFkaW9TdWJJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50LCBWPj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmFkaW9TdWJJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgViBleHRlbmRzIHN0cmluZyB8IG51bWJlcj4gZXh0ZW5kcyBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRJbmZvPFRhYmJhYmxlQ2hpbGRFbGVtZW50PiB7XG4gICAgZ2V0VmFsdWUyKCk6IFY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSYWRpb0dyb3VwPFYgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIsIEcgZXh0ZW5kcyBFbGVtZW50LCBHTCBleHRlbmRzIEVsZW1lbnQsIFRDRSBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyxcbiAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgbGFiZWxQYXJhbWV0ZXJzLFxuICAgIHJhZGlvR3JvdXBQYXJhbWV0ZXJzOiB7IG5hbWUsIG9uU2VsZWN0ZWRWYWx1ZUNoYW5nZSwgc2VsZWN0ZWRWYWx1ZSB9LFxufTogVXNlUmFkaW9Hcm91cFBhcmFtZXRlcnM8ViwgRywgR0wsIFRDRT4pOiBVc2VSYWRpb0dyb3VwUmV0dXJuVHlwZTxWLCBHLCBHTCwgVENFPiB7XG5cbiAgICBjb25zdCBbc2VsZWN0ZWRJbmRleCwgc2V0U2VsZWN0ZWRJbmRleF0gPSB1c2VTdGF0ZTxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgICBjb25zdCBieU5hbWUgPSB1c2VSZWYobmV3IE1hcDxWLCBudW1iZXI+KCkpO1xuXG4gICAgY29uc3QgeyBwcm9wc0lucHV0OiBwcm9wc0dyb3VwMSwgcHJvcHNMYWJlbCB9ID0gdXNlTGFiZWxTeW50aGV0aWM8RywgR0w+KHtcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvbkxhYmVsQ2xpY2s6IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICByb3ZpbmdUYWJJbmRleFJldHVybi5mb2N1c1NlbGYoKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgLi4ubGFiZWxQYXJhbWV0ZXJzXG4gICAgICAgIH0sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzOiB7IHByZWZpeDogUHJlZmljZXMucmFkaW9Hcm91cExhYmVsLCB9LFxuICAgICAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLnJhZGlvR3JvdXAgfVxuICAgIH0pO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgIT0gbnVsbClcbiAgICAgICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybi5jaGFuZ2VTZWxlY3RlZEluZGV4KGJ5TmFtZS5jdXJyZW50LmdldChzZWxlY3RlZFZhbHVlKSA/PyBudWxsKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc2luZ2xlU2VsZWN0aW9uUmV0dXJuLmNoYW5nZVNlbGVjdGVkSW5kZXgobnVsbCk7XG4gICAgfSwgW3NlbGVjdGVkVmFsdWVdKVxuXG4gICAgY29uc3Qge1xuICAgICAgICBjaGlsZHJlbkhhdmVGb2N1c1JldHVybixcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcHJvcHM6IHByb3BzR3JvdXAyLFxuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybixcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuXG4gICAgfSA9IHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb248RywgVENFLCBSYWRpb1N1YkluZm88VENFLCBWPj4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzOiB7IGluaXRpYWxseVNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXgsIG9uU2VsZWN0ZWRJbmRleENoYW5nZTogc2V0U2VsZWN0ZWRJbmRleCB9LFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IHBhZ2luYXRpb25NaW46IG51bGwsIHBhZ2luYXRpb25NYXg6IG51bGwgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgX3Y6IHZvaWQgPSB1c2VTaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZSh7XG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybjoge1xuICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWRJbmRleDogdXNlU3RhYmxlQ2FsbGJhY2soKHMsIHIpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHR5cGVvZiBzID09IFwiZnVuY3Rpb25cIiA/IHMoc2VsZWN0ZWRJbmRleCkgOiBzO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dFZhbHVlID0gbWFuYWdlZENoaWxkcmVuUmV0dXJuLmdldENoaWxkcmVuKCkuZ2V0QXQobmV4dCk/LmdldFZhbHVlMigpO1xuICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGVkVmFsdWVDaGFuZ2UobmV4dFZhbHVlIGFzIFYsIHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3RlZFZhbHVlQ2hhbmdlKG51bGwsIHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIHNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUGFyYW1ldGVyczogeyBzZWxlY3RlZEluZGV4IH1cbiAgICB9KVxuXG5cbiAgICBjb25zdCBwcm9wc1JhZGlvR3JvdXAgPSB1c2VNZXJnZWRQcm9wcyhwcm9wc0dyb3VwMSwgcHJvcHNHcm91cDIsIHsgcm9sZTogXCJyYWRpb2dyb3VwXCIgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wc1JhZGlvR3JvdXAsXG4gICAgICAgIHByb3BzUmFkaW9Hcm91cExhYmVsOiBwcm9wc0xhYmVsLFxuXG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuLFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICAuLi5jb250ZXh0LFxuICAgICAgICAgICAgcmFkaW9Db250ZXh0OiB7IG5hbWUsIGJ5TmFtZTogYnlOYW1lLmN1cnJlbnQgfVxuICAgICAgICB9LFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICByYWRpb0dyb3VwUmV0dXJuOiB7IHNlbGVjdGVkSW5kZXggfSxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybixcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVyblxuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VSYWRpb1JldHVyblR5cGU8TFAgZXh0ZW5kcyBMYWJlbFBvc2l0aW9uLCBWIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyLCBJIGV4dGVuZHMgRWxlbWVudCwgSUwgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgUmFkaW9TdWJJbmZvPEZvY3VzYWJsZUxhYmVsRWxlbWVudDxMUCwgSSwgSUw+LCBWPj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGU8Rm9jdXNhYmxlTGFiZWxFbGVtZW50PExQLCBJLCBJTD4sIE0+LCBcInByZXNzUGFyYW1ldGVyc1wiIHwgXCJwcm9wc1wiPiwgVXNlQ2hlY2tib3hMaWtlUmV0dXJuVHlwZTxJLCBJTD4ge1xuICAgIHByb3BzSW5wdXQ6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEk+O1xuICAgIHByb3BzTGFiZWw6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPElMPjtcbn1cblxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VSYWRpbzxMUCBleHRlbmRzIExhYmVsUG9zaXRpb24sIElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFYgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXI+KHtcbiAgICByYWRpb1BhcmFtZXRlcnM6IHsgdmFsdWUgfSxcbiAgICBjaGVja2JveExpa2VQYXJhbWV0ZXJzOiB7IGRpc2FibGVkIH0sXG4gICAgY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICBsYWJlbFBhcmFtZXRlcnMsXG4gICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcbiAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnMsXG4gICAgY29udGV4dCxcbiAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnNcblxufTogVXNlUmFkaW9QYXJhbWV0ZXJzPExQLCBWLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUmFkaW9TdWJJbmZvPEZvY3VzYWJsZUxhYmVsRWxlbWVudDxMUCwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBWPj4pOiBVc2VSYWRpb1JldHVyblR5cGU8TFAsIFYsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50LCBSYWRpb1N1YkluZm88Rm9jdXNhYmxlTGFiZWxFbGVtZW50PExQLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudD4sIFY+PiB7XG4gICAgdHlwZSBUYWJiYWJsZUNoaWxkRWxlbWVudCA9IEZvY3VzYWJsZUxhYmVsRWxlbWVudDxMUCwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+O1xuICAgIGNvbnN0IGluZGV4ID0gbWFuYWdlZENoaWxkUGFyYW1ldGVycy5pbmRleDtcbiAgICBkZWJ1Z0xvZyhcInVzZVJhZGlvXCIsIGluZGV4KTtcbiAgICBjb25zdCBvbklucHV0ID0gdXNlU3RhYmxlQ2FsbGJhY2soKGU6IGguSlNYLlRhcmdldGVkRXZlbnQ8SW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybi5zZXRUaGlzT25lU2VsZWN0ZWQoZSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IG5hbWUsIGJ5TmFtZSB9ID0gY29udGV4dC5yYWRpb0NvbnRleHRcblxuICAgIGNvbnN0IHsgdGFnSW5wdXQsIGxhYmVsUG9zaXRpb24gfSA9IGxhYmVsUGFyYW1ldGVycztcblxuICAgIGNvbnN0IGdldFZhbHVlID0gdXNlU3RhYmxlR2V0dGVyKHZhbHVlKTtcbiAgICBjb25zdCB7XG4gICAgICAgIHByb3BzOiBsaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNoaWxkUHJvcHMsXG4gICAgICAgIGhhc0N1cnJlbnRGb2N1c1JldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkUmV0dXJuLFxuICAgICAgICBwcmVzc1BhcmFtZXRlcnMsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkUmV0dXJuLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybixcbiAgICAgICAgcmVmRWxlbWVudFJldHVybixcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRSZXR1cm5cbiAgICB9ID0gdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkPFRhYmJhYmxlQ2hpbGRFbGVtZW50LCBSYWRpb1N1YkluZm88VGFiYmFibGVDaGlsZEVsZW1lbnQsIFY+LCBuZXZlcj4oe1xuICAgICAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGdldFZhbHVlMjogZ2V0VmFsdWUsIC4uLmNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnMgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyczogeyBzZWxlY3Rpb25Nb2RlOiBcImZvY3VzXCIsIGFyaWFQcm9wTmFtZTogdGFnSW5wdXQgPT0gXCJpbnB1dFwiICYmIGxhYmVsUG9zaXRpb24gIT0gXCJ3cmFwcGluZ1wiID8gbnVsbCA6IFwiYXJpYS1zZWxlY3RlZFwiLCAuLi5zaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnMgfVxuICAgIH0pO1xuXG5cbiAgICBjb25zdCB7IHNlbGVjdGVkOiBjaGVja2VkIH0gPSBzaW5nbGVTZWxlY3Rpb25DaGlsZFJldHVybjtcblxuICAgIGNvbnN0IHsgcmVmRWxlbWVudFJldHVybjogcmVmRWxlbWVudElucHV0UmV0dXJuIH0gPSB1c2VSZWZFbGVtZW50PElucHV0RWxlbWVudD4oeyByZWZFbGVtZW50UGFyYW1ldGVyczoge30gfSk7XG4gICAgY29uc3QgeyByZWZFbGVtZW50UmV0dXJuOiByZWZFbGVtZW50TGFiZWxSZXR1cm4gfSA9IHVzZVJlZkVsZW1lbnQ8TGFiZWxFbGVtZW50Pih7IHJlZkVsZW1lbnRQYXJhbWV0ZXJzOiB7fSB9KTtcblxuICAgIGNvbnN0IHtcbiAgICAgICAgY2hlY2tib3hMaWtlSW5wdXRSZXR1cm4sXG4gICAgICAgIGNoZWNrYm94TGlrZUxhYmVsUmV0dXJuLFxuICAgICAgICBwcmVzc0lucHV0UmV0dXJuLFxuICAgICAgICBwcmVzc0xhYmVsUmV0dXJuLFxuICAgICAgICBwcm9wc0lucHV0LFxuICAgICAgICBwcm9wc0xhYmVsLFxuICAgICAgICByYW5kb21JZElucHV0UmV0dXJuLFxuICAgICAgICByYW5kb21JZExhYmVsUmV0dXJuLFxuICAgICAgICBjaGVja2JveExpa2VSZXR1cm5cbiAgICB9ID0gdXNlQ2hlY2tib3hMaWtlPExhYmVsUG9zaXRpb24sIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIGNoZWNrYm94TGlrZVBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGNoZWNrZWQ6IChjaGVja2VkID8/IGZhbHNlKSxcbiAgICAgICAgICAgIGRpc2FibGVkLFxuICAgICAgICAgICAgb25JbnB1dDogb25JbnB1dCxcbiAgICAgICAgICAgIHJvbGU6IFwicmFkaW9cIlxuICAgICAgICB9LFxuICAgICAgICBwcmVzc1BhcmFtZXRlcnMsXG4gICAgICAgIGxhYmVsUGFyYW1ldGVycyxcbiAgICAgICAgcmFuZG9tSWRJbnB1dFBhcmFtZXRlcnM6IHsgcHJlZml4OiBQcmVmaWNlcy5yYWRpbyB9LFxuICAgICAgICByYW5kb21JZExhYmVsUGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLnJhZGlvTGFiZWwgfSxcbiAgICAgICAgcmVmRWxlbWVudElucHV0UmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50TGFiZWxSZXR1cm5cbiAgICB9KTtcbiAgICB1c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgICBieU5hbWUuc2V0KHZhbHVlLCBpbmRleCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7IGJ5TmFtZS5kZWxldGUodmFsdWUpOyB9XG4gICAgfSwgW3ZhbHVlLCBpbmRleF0pO1xuXG4gICAgaWYgKHRhZ0lucHV0ID09IFwiaW5wdXRcIikge1xuICAgICAgICBwcm9wc0lucHV0Lm5hbWUgPSBuYW1lO1xuICAgICAgICBwcm9wc0lucHV0LmNoZWNrZWQgPSAoY2hlY2tlZCA/PyBmYWxzZSk7XG4gICAgICAgIHByb3BzSW5wdXQudHlwZSA9IFwicmFkaW9cIjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHByb3BzSW5wdXRbXCJhcmlhLWNoZWNrZWRcIl0gPSAoY2hlY2tlZCA/PyBmYWxzZSkudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBjb25zdCBwcm9wc0lmSW5wdXRIYW5kbGVzRm9jdXMgPSB1c2VNZXJnZWRQcm9wczxJbnB1dEVsZW1lbnQ+KGxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uQ2hpbGRQcm9wcyBhcyBoLkpTWC5IVE1MQXR0cmlidXRlczxhbnk+LCBwcm9wc0lucHV0KTtcbiAgICBjb25zdCBwcm9wc0lucHV0MjogaC5KU1guSFRNTEF0dHJpYnV0ZXM8SW5wdXRFbGVtZW50PiA9IGxhYmVsUG9zaXRpb24gIT0gXCJ3cmFwcGluZ1wiID8gcHJvcHNJZklucHV0SGFuZGxlc0ZvY3VzIDogcHJvcHNJbnB1dDtcblxuICAgIGNvbnN0IHByb3BzSWZMYWJlbEhhbmRsZXNGb2N1cyA9IHVzZU1lcmdlZFByb3BzPExhYmVsRWxlbWVudD4obGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25DaGlsZFByb3BzIGFzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPGFueT4sIHByb3BzTGFiZWwpO1xuICAgIGNvbnN0IHByb3BzTGFiZWwyOiBoLkpTWC5IVE1MQXR0cmlidXRlczxMYWJlbEVsZW1lbnQ+ID0gbGFiZWxQb3NpdGlvbiA9PSBcIndyYXBwaW5nXCIgPyBwcm9wc0lmTGFiZWxIYW5kbGVzRm9jdXMgYXMgYW55IDogcHJvcHNMYWJlbCBhcyBhbnlcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoZWNrYm94TGlrZUlucHV0UmV0dXJuLFxuICAgICAgICBjaGVja2JveExpa2VMYWJlbFJldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkUmV0dXJuLFxuICAgICAgICBwcmVzc0lucHV0UmV0dXJuLFxuICAgICAgICBwcmVzc0xhYmVsUmV0dXJuLFxuICAgICAgICBwcm9wc0lucHV0OiBwcm9wc0lucHV0MixcbiAgICAgICAgcHJvcHNMYWJlbDogcHJvcHNMYWJlbDIsXG4gICAgICAgIHJhbmRvbUlkSW5wdXRSZXR1cm4sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxSZXR1cm4sXG4gICAgICAgIGhhc0N1cnJlbnRGb2N1c1JldHVybixcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRSZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm4sXG4gICAgICAgIHJlZkVsZW1lbnRSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuLFxuICAgICAgICBjaGVja2JveExpa2VSZXR1cm4sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkUmV0dXJuXG4gICAgfVxuXG59IiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IGdlbmVyYXRlUmFuZG9tSWQsIE1hbmFnZWRDaGlsZEluZm8sIHVzZU1hbmFnZWRDaGlsZCwgVXNlTWFuYWdlZENoaWxkUGFyYW1ldGVycywgdXNlTWFuYWdlZENoaWxkcmVuLCBVc2VNYW5hZ2VkQ2hpbGRyZW5Db250ZXh0LCBVc2VNYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzLCBVc2VNYW5hZ2VkQ2hpbGRyZW5SZXR1cm5UeXBlLCBVc2VNYW5hZ2VkQ2hpbGRSZXR1cm5UeXBlIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IGRlYnVnTG9nLCBFdmVudERldGFpbCwgUHJlZmljZXMsIFRhZ1NlbnNpdGl2ZVByb3BzIH0gZnJvbSBcIi4vcHJvcHNcIjtcblxuXG5cblxuZXhwb3J0IHR5cGUgUmFuZ2VDaGFuZ2VFdmVudDxFIGV4dGVuZHMgRXZlbnRUYXJnZXQ+ID0geyBbRXZlbnREZXRhaWxdOiB7IHZhbHVlOiBudW1iZXIgfSB9ICYgUGljazxoLkpTWC5UYXJnZXRlZEV2ZW50PEU+LCBcInRhcmdldFwiIHwgXCJjdXJyZW50VGFyZ2V0XCI+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNsaWRlclRodW1iSW5mbyBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPiB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2xpZGVyVGh1bWJQYXJhbWV0ZXJzPEUgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgU2xpZGVyVGh1bWJJbmZvPiBleHRlbmRzIFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8TT4ge1xuICAgIHNsaWRlclRodW1iUGFyYW1ldGVyczogVGFnU2Vuc2l0aXZlUHJvcHM8RT4gJiB7XG4gICAgICAgIHZhbHVlOiBudW1iZXI7XG4gICAgICAgIHZhbHVlVGV4dD86IHN0cmluZztcbiAgICAgICAgb25WYWx1ZUNoYW5nZT86IChlOiBSYW5nZUNoYW5nZUV2ZW50PEU+KSA9PiB2b2lkO1xuICAgICAgICBtaW4/OiBudW1iZXI7XG4gICAgICAgIG1heD86IG51bWJlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlcmUncyBubywgbGlrZSwgXCJzbGlkZXIgY29udGFpbmVyXCIgZm9yIG11bHRpLXRodW1iIHNsaWRlcnMgZGVmaW5lZCxcbiAgICAgICAgICogc28gZWFjaCBpbmRpdmlkdWFsIHNsaWRlciBuZWVkcyBpdHMgb3duIGxhYmVsLlxuICAgICAgICAgKiBUT0RPOiBUaGlzIGlzIGxpa2UgYSB0YWIvdGFicGFuZWwgbGlua2luZyB0aGluZyB3aGVyZSBlYWNoIGxhYmVsIGlzIG91dHNpZGVcbiAgICAgICAgICogb2YgdGhlIGNvbnRhaW5lci4gRm9yIG5vdywgaXQncyBlYXNpZXIgdG8ganVzdCBcbiAgICAgICAgICogYXNzdW1lIGEgc3RyaW5nLWJhc2VkIGxhYmVsIGluc3RlYWQgb2YgYW4gZWxlbWVudC1iYXNlZCBvbmUuXG4gICAgICAgICAqIFxuICAgICAgICAgKi9cbiAgICAgICAgbGFiZWw6IHN0cmluZztcbiAgICB9XG4gICAgY29udGV4dDogU2xpZGVyQ29udGV4dDxNPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VTbGlkZXJUaHVtYlByb3BzPEUgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPEU+IHtcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVNsaWRlclBhcmFtZXRlcnM8TSBleHRlbmRzIFNsaWRlclRodW1iSW5mbz4gZXh0ZW5kcyBVc2VNYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzPE0+IHtcbiAgICBzbGlkZXJQYXJhbWV0ZXJzOiB7XG4gICAgICAgIG1pbjogbnVtYmVyO1xuICAgICAgICBtYXg6IG51bWJlcjtcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlU2xpZGVyVGh1bWJSZXR1cm5UeXBlPEUgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgU2xpZGVyVGh1bWJJbmZvPiBleHRlbmRzIFVzZU1hbmFnZWRDaGlsZFJldHVyblR5cGU8TT4ge1xuICAgIHNsaWRlclRodW1iUmV0dXJuOiB7XG4gICAgICAgIG1pbjogbnVtYmVyO1xuICAgICAgICBtYXg6IG51bWJlcjtcbiAgICB9XG4gICAgcHJvcHNTbGlkZXJUaHVtYjogaC5KU1guSFRNTEF0dHJpYnV0ZXM8RT47XG59XG5cblxuZXhwb3J0IHR5cGUgVXNlU2xpZGVyVGh1bWI8VGh1bWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFNsaWRlclRodW1iSW5mbz4gPSAocHJvcHM6IFVzZVNsaWRlclRodW1iUGFyYW1ldGVyczxUaHVtYkVsZW1lbnQsIE0+KSA9PiBVc2VTbGlkZXJUaHVtYlJldHVyblR5cGU8VGh1bWJFbGVtZW50LCBNPjtcblxuZXhwb3J0IGludGVyZmFjZSBVc2VTbGlkZXJSZXR1cm5UeXBlPE0gZXh0ZW5kcyBTbGlkZXJUaHVtYkluZm8+IGV4dGVuZHMgVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZTxNPiB7XG4gICAgY29udGV4dDogU2xpZGVyQ29udGV4dDxNPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTbGlkZXJDb250ZXh0PE0gZXh0ZW5kcyBTbGlkZXJUaHVtYkluZm8+IGV4dGVuZHMgVXNlTWFuYWdlZENoaWxkcmVuQ29udGV4dDxNPiB7XG4gICAgc2xpZGVyQ29udGV4dDoge1xuICAgICAgICBtaW46IG51bWJlcjtcbiAgICAgICAgbWF4OiBudW1iZXI7XG4gICAgICAgIGJhc2VJZDogc3RyaW5nO1xuICAgIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlU2xpZGVyKHsgc2xpZGVyUGFyYW1ldGVyczogeyBtYXgsIG1pbiB9LCBtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzIH06IFVzZVNsaWRlclBhcmFtZXRlcnM8U2xpZGVyVGh1bWJJbmZvPik6IFVzZVNsaWRlclJldHVyblR5cGU8U2xpZGVyVGh1bWJJbmZvPiB7XG4gICAgZGVidWdMb2coXCJ1c2VTbGlkZXJcIik7XG4gICAgY29uc3QgeyBjb250ZXh0LCBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4gfSA9IHVzZU1hbmFnZWRDaGlsZHJlbjxTbGlkZXJUaHVtYkluZm8+KHsgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVycyB9KTtcblxuICAgIGNvbnN0IGJhc2VJZFJlZiA9IHVzZVJlZjxzdHJpbmc+KG51bGwhIGFzIFwiXCIpO1xuICAgIGlmIChiYXNlSWRSZWYuY3VycmVudCA9PT0gbnVsbClcbiAgICAgICAgYmFzZUlkUmVmLmN1cnJlbnQgPSBnZW5lcmF0ZVJhbmRvbUlkKFByZWZpY2VzLnNsaWRlclRodW1iKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRleHQ6IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgICAgIC4uLmNvbnRleHQsXG4gICAgICAgICAgICBzbGlkZXJDb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgbWluLFxuICAgICAgICAgICAgICAgIG1heCxcbiAgICAgICAgICAgICAgICBiYXNlSWQ6IGJhc2VJZFJlZi5jdXJyZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCBbbWluLCBtYXhdKSxcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuXG4gICAgfTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdXNlU2xpZGVyVGh1bWI8VGh1bWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFNsaWRlclRodW1iSW5mbz4oe1xuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXG4gICAgY29udGV4dDogeyBzbGlkZXJDb250ZXh0OiB7IG1heDogbWF4UGFyZW50LCBtaW46IG1pblBhcmVudCB9LCAuLi5jb250ZXh0IH0sXG4gICAgc2xpZGVyVGh1bWJQYXJhbWV0ZXJzXG59OiBVc2VTbGlkZXJUaHVtYlBhcmFtZXRlcnM8VGh1bWJFbGVtZW50LCBNPik6IFVzZVNsaWRlclRodW1iUmV0dXJuVHlwZTxUaHVtYkVsZW1lbnQsIFNsaWRlclRodW1iSW5mbz4ge1xuICAgIGNvbnN0IHsgaW5kZXggfSA9IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM7XG4gICAgZGVidWdMb2coXCJ1c2VTbGlkZXJUaHVtYlwiLCBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLmluZGV4KTtcbiAgICBjb25zdCB7IG1hbmFnZWRDaGlsZFJldHVybiB9ID0gdXNlTWFuYWdlZENoaWxkPFNsaWRlclRodW1iSW5mbz4oeyBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLCBjb250ZXh0IH0sIHsgaW5kZXggfSk7XG4gICAgY29uc3QgeyBnZXRDaGlsZHJlbjogX2dldFRodW1icyB9ID0gbWFuYWdlZENoaWxkUmV0dXJuO1xuXG4gICAgY29uc3QgeyB0YWcsIHZhbHVlLCBtYXg6IG1heE92ZXJyaWRlLCBtaW46IG1pbk92ZXJyaWRlLCBvblZhbHVlQ2hhbmdlLCB2YWx1ZVRleHQsIGxhYmVsIH0gPSBzbGlkZXJUaHVtYlBhcmFtZXRlcnM7XG5cbiAgICBjb25zdCBtaW4gPSAobWluT3ZlcnJpZGUgPz8gbWluUGFyZW50KTtcbiAgICBjb25zdCBtYXggPSAobWF4T3ZlcnJpZGUgPz8gbWF4UGFyZW50KTtcblxuICAgIGxldCBuZXdQcm9wczogaC5KU1guSFRNTEF0dHJpYnV0ZXM8VGh1bWJFbGVtZW50PiA9IChcbiAgICAgICAgdGFnID09IFwiaW5wdXRcIiA/XG4gICAgICAgICAgICB7IG1pbiwgbWF4LCB2YWx1ZSwgdHlwZTogXCJyYW5nZVwiIH0gOlxuICAgICAgICAgICAgeyBcImFyaWEtdmFsdWVtYXhcIjogYCR7bWF4fWAsIFwiYXJpYS12YWx1ZW1pblwiOiBgJHttaW59YCwgXCJhcmlhLXZhbHVlbm93XCI6IGAke3ZhbHVlfWAgfVxuICAgICk7XG4gICAgbmV3UHJvcHMgPSB7IC4uLm5ld1Byb3BzLCBcImFyaWEtbGFiZWxcIjogbGFiZWwsIFwiYXJpYS12YWx1ZXRleHRcIjogdmFsdWVUZXh0LCBzdHlsZTogeyBcIi0tcmFuZ2UtdmFsdWVcIjogYCR7dmFsdWV9YCwgXCItLXJhbmdlLXZhbHVlLXRleHRcIjogYCR7dmFsdWVUZXh0fWAgfSB9O1xuICAgIGlmICh0YWcgPT0gXCJpbnB1dFwiKSB7XG4gICAgICAgIG5ld1Byb3BzLm9uSW5wdXQgPSBlID0+IHtcbiAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U/Lih7IGN1cnJlbnRUYXJnZXQ6IGUuY3VycmVudFRhcmdldCwgdGFyZ2V0OiBlLnRhcmdldCwgW0V2ZW50RGV0YWlsXTogeyB2YWx1ZTogKGUuY3VycmVudFRhcmdldCBhcyBFbGVtZW50IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlQXNOdW1iZXIgfSB9KVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkXCIpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIHNsaWRlclRodW1iUmV0dXJuOiB7XG4gICAgICAgICAgICBtaW4sXG4gICAgICAgICAgICBtYXhcbiAgICAgICAgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkUmV0dXJuLFxuICAgICAgICBwcm9wc1NsaWRlclRodW1iOiBuZXdQcm9wc1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQge1xuICAgIENvbXBhcmUsXG4gICAgQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNvbnRleHQsXG4gICAgQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd0NvbnRleHQsIEdyaWRTaW5nbGVTZWxlY3RTb3J0YWJsZUNoaWxkQ2VsbEluZm8sIEdyaWRTaW5nbGVTZWxlY3RTb3J0YWJsZUNoaWxkUm93SW5mbywgUGFzc2l2ZVN0YXRlVXBkYXRlciwgcmV0dXJuTnVsbCwgdXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbixcbiAgICB1c2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbCwgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxJbmZvLCBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnMsIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsUmV0dXJuVHlwZSwgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJldHVyblR5cGUsIHVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3csIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dJbmZvLCBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93UGFyYW1ldGVycywgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1JldHVyblR5cGUsIHVzZU1lcmdlZFByb3BzLCB1c2VQYXNzaXZlU3RhdGUsIHVzZVN0YWJsZUNhbGxiYWNrXG59IGZyb20gXCJwcmVhY3QtcHJvcC1oZWxwZXJzXCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBFbGVtZW50VG9UYWcsIE9taXRTdHJvbmcsIFByZWZpY2VzIH0gZnJvbSBcIi4vcHJvcHNcIjtcbmltcG9ydCB7IHVzZUxhYmVsU3ludGhldGljLCBVc2VMYWJlbFN5bnRoZXRpY1BhcmFtZXRlcnMgfSBmcm9tIFwiLi91c2UtbGFiZWxcIjtcbmltcG9ydCB7IFVzZUxpc3Rib3hQYXJhbWV0ZXJzIH0gZnJvbSBcIi4vdXNlLWxpc3Rib3hcIjtcblxuLy9leHBvcnQgdHlwZSBMaXN0Ym94U2luZ2xlU2VsZWN0RXZlbnQ8RSBleHRlbmRzIEV2ZW50VGFyZ2V0PiA9IHsgW0V2ZW50RGV0YWlsXTogeyBzZWxlY3RlZEluZGV4OiBudW1iZXIgfSB9ICYgUGljazxoLkpTWC5UYXJnZXRlZEV2ZW50PEU+LCBcInRhcmdldFwiIHwgXCJjdXJyZW50VGFyZ2V0XCI+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYmxlQ29udGV4dCB7XG4gICAgdGFibGVDb250ZXh0OiB7XG4gICAgICAgIHNldFNvcnRCb2R5RnVuY3Rpb246IFBhc3NpdmVTdGF0ZVVwZGF0ZXI8KCkgPT4gdm9pZCwgbmV2ZXI+O1xuICAgICAgICBzb3J0QnlDb2x1bW4oY29sdW1uOiBudW1iZXIpOiBTb3J0SW5mbztcbiAgICAgICAgZ2V0Q3VycmVudFNvcnRDb2x1bW4oKTogU29ydEluZm87XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYmxlU2VjdGlvbkNvbnRleHQ8VGFibGVTZWN0aW9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFRhYmxlUm93SW5mbzxUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIFRhYmxlQ2VsbEluZm88VGFibGVDZWxsRWxlbWVudD4+IGV4dGVuZHMgQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNvbnRleHQ8VGFibGVTZWN0aW9uRWxlbWVudCwgVGFibGVSb3dFbGVtZW50LCBUYWJsZUNlbGxFbGVtZW50LCBSTSwgQ00+LCBVc2VUYWJsZUNvbnRleHQge1xuXG4gICAgLy90YWJsZVNlY3Rpb25Db250ZXh0OiB7IHNvcnQ6IChjb2x1bW46IG51bWJlcikgPT4gU29ydEluZm87IH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VUYWJsZVNlY3Rpb25QYXJhbWV0ZXJzPFRhYmxlU2VjdGlvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJsZVJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJsZUNlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUk0gZXh0ZW5kcyBUYWJsZVJvd0luZm88VGFibGVSb3dFbGVtZW50LCBUYWJsZUNlbGxFbGVtZW50Pj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzPFRhYmxlU2VjdGlvbkVsZW1lbnQsIFRhYmxlUm93RWxlbWVudCwgVGFibGVDZWxsRWxlbWVudCwgUk0+LCBcInR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzXCIgfCBcInNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+IHtcbiAgICB0YWJsZVNlY3Rpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgIGxvY2F0aW9uOiBcImhlYWRcIiB8IFwiYm9keVwiIHwgXCJmb290XCI7XG4gICAgICAgIHRhZ1RhYmxlU2VjdGlvbjogRWxlbWVudFRvVGFnPFRhYmxlU2VjdGlvbkVsZW1lbnQ+O1xuICAgIH1cbiAgICBjb250ZXh0OiBVc2VUYWJsZUNvbnRleHQ7XG59XG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYmxlU2VjdGlvblJldHVyblR5cGU8VGFibGVTZWN0aW9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFRhYmxlUm93SW5mbzxUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIFRhYmxlQ2VsbEluZm88VGFibGVDZWxsRWxlbWVudD4+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUmV0dXJuVHlwZTxUYWJsZVNlY3Rpb25FbGVtZW50LCBUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQsIFJNLCBDTT4sIFwicHJvcHNcIj4ge1xuICAgIHByb3BzVGFibGVTZWN0aW9uOiBoLkpTWC5IVE1MQXR0cmlidXRlczxUYWJsZVNlY3Rpb25FbGVtZW50PjtcbiAgICBjb250ZXh0OiBVc2VUYWJsZVNlY3Rpb25Db250ZXh0PFRhYmxlU2VjdGlvbkVsZW1lbnQsIFRhYmxlUm93RWxlbWVudCwgVGFibGVDZWxsRWxlbWVudCwgUk0sIENNPjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlVGFibGVSb3dSZXR1cm5UeXBlPFRhYmxlUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFRhYmxlUm93SW5mbzxUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIFRhYmxlQ2VsbEluZm88VGFibGVDZWxsRWxlbWVudD4+IGV4dGVuZHMgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1JldHVyblR5cGU8VGFibGVSb3dFbGVtZW50LCBUYWJsZUNlbGxFbGVtZW50LCBSTSwgQ00+IHtcblxuICAgIGNvbnRleHQ6IFVzZVRhYmxlUm93Q29udGV4dDxhbnksIFRhYmxlQ2VsbEVsZW1lbnQsIENNPjtcblxufVxuZXhwb3J0IGludGVyZmFjZSBVc2VUYWJsZVJvd1BhcmFtZXRlcnM8VGFibGVSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFibGVDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgVGFibGVSb3dJbmZvPFRhYmxlUm93RWxlbWVudCwgVGFibGVDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgVGFibGVDZWxsSW5mbzxUYWJsZUNlbGxFbGVtZW50Pj4ge1xuICAgIHJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPFRhYmxlUm93RWxlbWVudCwgVGFibGVDZWxsRWxlbWVudCwgUk0sIENNPltcInJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzXCJdLCBcInNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzXCIgfCBcImNvbnRleHRcIj4gJiB7XG4gICAgICAgIGNvbnRleHQ6IFVzZVRhYmxlU2VjdGlvbkNvbnRleHQ8YW55LCBUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQsIFJNLCBDTT47XG4gICAgfTtcbiAgICByb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzPFRhYmxlUm93RWxlbWVudCwgVGFibGVDZWxsRWxlbWVudCwgUk0sIENNPltcInJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnNcIl0sIFwidHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnNcIj47XG4gICAgdGFibGVSb3dQYXJhbWV0ZXJzOiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSBgc2VsZWN0aW9uTGltaXRgIGlzIGBcInNpbmdsZVwiYCwgdGhpcyBtdXN0IGJlIGBudWxsYC5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdGVkOiBib29sZWFuIHwgbnVsbDtcbiAgICAgICAgdGFnVGFibGVSb3c6IEVsZW1lbnRUb1RhZzxUYWJsZVJvd0VsZW1lbnQ+O1xuICAgIH1cbn1cblxuLy9leHBvcnQgaW50ZXJmYWNlIFVzZVRhYmxlUm93Q29udGV4dDxUYWJsZVNlY3Rpb25FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFibGVSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFRhYmxlUm93SW5mbzxUYWJsZVJvd0VsZW1lbnQ+PiBleHRlbmRzIENvbXBsZXRlR3JpZE5hdmlnYXRpb25Db250ZXh0PFRhYmxlU2VjdGlvbkVsZW1lbnQsIFRhYmxlUm93RWxlbWVudCwgTT4ge31cbmV4cG9ydCBpbnRlcmZhY2UgVXNlVGFibGVSb3dDb250ZXh0PFRhYmxlUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVGFibGVDZWxsSW5mbzxUYWJsZUNlbGxFbGVtZW50Pj4gZXh0ZW5kcyBDb21wbGV0ZUdyaWROYXZpZ2F0aW9uUm93Q29udGV4dDxUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQsIE0+IHtcbiAgICB0YWJsZUNvbnRleHQ6IFVzZVRhYmxlQ29udGV4dFtcInRhYmxlQ29udGV4dFwiXTtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYmxlQ2VsbFJldHVyblR5cGU8VGFibGVDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENNIGV4dGVuZHMgVGFibGVDZWxsSW5mbzxUYWJsZUNlbGxFbGVtZW50Pj4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsUmV0dXJuVHlwZTxUYWJsZUNlbGxFbGVtZW50LCBDTT4sIFwicHJvcHNcIj4ge1xuICAgIHByb3BzQ2VsbDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8VGFibGVDZWxsRWxlbWVudD47XG4gICAgcHJvcHNGb2N1czogaC5KU1guSFRNTEF0dHJpYnV0ZXM8YW55PjtcbiAgICB0YWJsZUNlbGxSZXR1cm46IHtcbiAgICAgICAgc29ydEJ5VGhpc0NvbHVtbigpOiBTb3J0SW5mbztcbiAgICB9XG59XG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYmxlQ2VsbFBhcmFtZXRlcnM8VGFibGVDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENNIGV4dGVuZHMgVGFibGVDZWxsSW5mbzxUYWJsZUNlbGxFbGVtZW50Pj4gZXh0ZW5kcyBVc2VDb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM8VGFibGVDZWxsRWxlbWVudCwgQ00+IHtcbiAgICB0YWJsZUNlbGxQYXJhbWV0ZXJzOiB7XG4gICAgICAgIHRhZ1RhYmxlQ2VsbDogRWxlbWVudFRvVGFnPFRhYmxlQ2VsbEVsZW1lbnQ+O1xuICAgIH1cbiAgICBjb250ZXh0OiBVc2VUYWJsZVJvd0NvbnRleHQ8YW55LCBUYWJsZUNlbGxFbGVtZW50LCBDTT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVSb3dJbmZvPFRhYmxlUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dJbmZvPFRhYmxlUm93RWxlbWVudCwgVGFibGVDZWxsRWxlbWVudD4geyB9XG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlQ2VsbEluZm88VGFibGVDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNlbGxJbmZvPFRhYmxlQ2VsbEVsZW1lbnQ+IHtcbiAgICBnZXRTb3J0VmFsdWUoKTogdW5rbm93bjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VUYWJsZVBhcmFtZXRlcnM8VGFibGVFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIGxhYmVsUGFyYW1ldGVyczogT21pdFN0cm9uZzxVc2VMYWJlbFN5bnRoZXRpY1BhcmFtZXRlcnNbXCJsYWJlbFBhcmFtZXRlcnNcIl0sIFwib25MYWJlbENsaWNrXCI+O1xuICAgIHRhYmxlUGFyYW1ldGVyczogUGljazxVc2VMaXN0Ym94UGFyYW1ldGVyczxUYWJsZUVsZW1lbnQsIGFueSwgTGFiZWxFbGVtZW50LCBhbnk+W1wibGlzdGJveFBhcmFtZXRlcnNcIl0sIFwic2VsZWN0aW9uTGltaXRcIj4gJiB7XG4gICAgICAgIHRhZ1RhYmxlOiBFbGVtZW50VG9UYWc8VGFibGVFbGVtZW50PjtcbiAgICB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYmxlUmV0dXJuVHlwZTxUYWJsZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiB7XG4gICAgcHJvcHNUYWJsZTogaC5KU1guSFRNTEF0dHJpYnV0ZXM8VGFibGVFbGVtZW50PjtcbiAgICBwcm9wc0xhYmVsOiBoLkpTWC5IVE1MQXR0cmlidXRlczxMYWJlbEVsZW1lbnQ+O1xuICAgIGNvbnRleHQ6IFVzZVRhYmxlQ29udGV4dDtcbn1cblxuLy8gZXhwb3J0IGludGVyZmFjZSBVc2VUYWJsZVNlY3Rpb25Db250ZXh0PFRhYmxlU2VjdGlvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJsZVJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVGFibGVSb3dJbmZvPFRhYmxlUm93RWxlbWVudD4+IGV4dGVuZHMgQ29tcGxldGVHcmlkTmF2aWdhdGlvbkNvbnRleHQ8VGFibGVTZWN0aW9uRWxlbWVudCwgVGFibGVSb3dFbGVtZW50LCBNPiB7IH1cblxuaW50ZXJmYWNlIFNvcnRJbmZvIHsgY29sdW1uOiBudW1iZXIsIGRpcmVjdGlvbjogXCJhc2NlbmRpbmdcIiB8IFwiZGVzY2VuZGluZ1wiIH1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVRhYmxlPFRhYmxlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBsYWJlbFBhcmFtZXRlcnMsXG4gICAgdGFibGVQYXJhbWV0ZXJzOiB7IHNlbGVjdGlvbkxpbWl0LCB0YWdUYWJsZSB9LFxufTogVXNlVGFibGVQYXJhbWV0ZXJzPFRhYmxlRWxlbWVudCwgTGFiZWxFbGVtZW50Pik6IFVzZVRhYmxlUmV0dXJuVHlwZTxUYWJsZUVsZW1lbnQsIExhYmVsRWxlbWVudD4ge1xuICAgIGNvbnN0IFtnZXRTb3J0Qm9keSwgc2V0U29ydEJvZHldID0gdXNlUGFzc2l2ZVN0YXRlPCgpID0+IHZvaWQsIG5ldmVyPihudWxsLCByZXR1cm5OdWxsIGFzICgoKSA9PiBuZXZlcikpO1xuICAgIGNvbnN0IHNvcnRRdWV1ZSA9IHVzZVJlZjxudW1iZXJbXT4oW10pO1xuICAgIGNvbnN0IFtnZXRTb3J0Q29sdW1uLCBzZXRTb3J0Q29sdW1uXSA9IHVzZVBhc3NpdmVTdGF0ZTxTb3J0SW5mbywgRXZlbnQ+KHVzZUNhbGxiYWNrKChhOiBTb3J0SW5mbykgPT4geyBzb3J0UXVldWUuY3VycmVudC5wdXNoKGEuY29sdW1uKTsgfSwgW10pLCB1c2VDYWxsYmFjaygoKSA9PiB7IHJldHVybiB7IGNvbHVtbjogMCwgZGlyZWN0aW9uOiBcImFzY2VuZGluZ1wiIH0gYXMgY29uc3QgfSwgW10pKVxuICAgIGNvbnN0IHVwZGF0ZVNvcnREaXJlY3Rpb24gPSB1c2VDYWxsYmFjaygoY29sdW1uOiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgeyBjb2x1bW46IGN1cnJlbnRDb2x1bW4sIGRpcmVjdGlvbjogY3VycmVudERpcmVjdGlvbiB9ID0gZ2V0U29ydENvbHVtbigpO1xuICAgICAgICBjb25zdCBuZXh0ID0geyBjb2x1bW4sIGRpcmVjdGlvbjogY29sdW1uICE9IGN1cnJlbnRDb2x1bW4gPyBcImFzY2VuZGluZ1wiIDogKGN1cnJlbnREaXJlY3Rpb24gPT0gXCJhc2NlbmRpbmdcIiA/IFwiZGVzY2VuZGluZ1wiIDogXCJhc2NlbmRpbmdcIikgfSBhcyBjb25zdDtcbiAgICAgICAgc2V0U29ydENvbHVtbihuZXh0KTtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHNvcnRCeUNvbHVtbiA9IHVzZUNhbGxiYWNrKChjb2x1bW46IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBuZXh0ID0gdXBkYXRlU29ydERpcmVjdGlvbihjb2x1bW4pO1xuICAgICAgICBnZXRTb3J0Qm9keSgpPy4oKTtcbiAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSwgW10pXG4gICAgLy9jb25zdCB7IHRhZ0lucHV0OiB0YWdUYWJsZSB9ID0gbGFiZWxQYXJhbWV0ZXJzXG4gICAgY29uc3Qge1xuICAgICAgICBwcm9wc0lucHV0OiBwcm9wc0xhYmVsTGlzdCxcbiAgICAgICAgcHJvcHNMYWJlbDogcHJvcHNMYWJlbExhYmVsXG4gICAgfSA9IHVzZUxhYmVsU3ludGhldGljPFRhYmxlRWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIGxhYmVsUGFyYW1ldGVyczogeyAuLi5sYWJlbFBhcmFtZXRlcnMsIG9uTGFiZWxDbGljazogbnVsbCB9LFxuICAgICAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLnRhYmxlIH0sXG4gICAgICAgIHJhbmRvbUlkTGFiZWxQYXJhbWV0ZXJzOiB7IHByZWZpeDogUHJlZmljZXMudGFibGVMYWJlbCB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wc1RhYmxlOiB1c2VNZXJnZWRQcm9wcyh7IHJvbGU6IHRhZ1RhYmxlID09IFwidGFibGVcIiA/IHVuZGVmaW5lZCA6IFwiZ3JpZFwiLCBcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCI6IChzZWxlY3Rpb25MaW1pdCA9PSBcIm11bHRpXCIgPyBcInRydWVcIiA6IHVuZGVmaW5lZCkgfSwgcHJvcHNMYWJlbExpc3QpLFxuICAgICAgICBwcm9wc0xhYmVsOiBwcm9wc0xhYmVsTGFiZWwsXG4gICAgICAgIGNvbnRleHQ6ICh7IHRhYmxlQ29udGV4dDogKHsgc29ydEJ5Q29sdW1uLCBzZXRTb3J0Qm9keUZ1bmN0aW9uOiBzZXRTb3J0Qm9keSwgZ2V0Q3VycmVudFNvcnRDb2x1bW46IGdldFNvcnRDb2x1bW4gfSkgfSlcbiAgICB9XG59XG5mdW5jdGlvbiBmdXp6eUNvbXBhcmUobGhzOiBhbnksIHJoczogYW55KTogbnVtYmVyIHtcbiAgICBpZiAobGhzID09PSByaHMpXG4gICAgICAgIHJldHVybiAwO1xuXG4gICAgaWYgKGxocyA9PSBudWxsIHx8IHJocyA9PSBudWxsKSB7XG4gICAgICAgIGlmIChsaHMgPT0gbnVsbCAmJiByaHMgIT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgaWYgKGxocyAhPSBudWxsICYmIHJocyA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGlmIChsaHMgPT09IG51bGwgJiYgcmhzID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgaWYgKGxocyA9PT0gdW5kZWZpbmVkICYmIHJocyA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChsaHMgPT0gcmhzKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGlmIChsaHMgPCByaHMpXG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuXG59XG5jb25zdCBuYXR1cmFsU2VjdGlvblR5cGVzID0gbmV3IFNldDxrZXlvZiBoLkpTWC5JbnRyaW5zaWNFbGVtZW50cz4oW1widGhlYWRcIiwgXCJ0Ym9keVwiLCBcInRmb290XCJdKTtcbmV4cG9ydCBmdW5jdGlvbiB1c2VUYWJsZVNlY3Rpb248VGFibGVTZWN0aW9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFRhYmxlUm93SW5mbzxUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIFRhYmxlQ2VsbEluZm88VGFibGVDZWxsRWxlbWVudD4+KHtcbiAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMsXG4gICAgc2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVycyxcbiAgICBncmlkTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICBwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIHRhYmxlU2VjdGlvblBhcmFtZXRlcnM6IHsgdGFnVGFibGVTZWN0aW9uLCBsb2NhdGlvbiB9LFxuICAgIGNvbnRleHQ6IHsgdGFibGVDb250ZXh0IH1cbn06IFVzZVRhYmxlU2VjdGlvblBhcmFtZXRlcnM8VGFibGVTZWN0aW9uRWxlbWVudCwgVGFibGVSb3dFbGVtZW50LCBUYWJsZUNlbGxFbGVtZW50LCBSTT4pOiBVc2VUYWJsZVNlY3Rpb25SZXR1cm5UeXBlPFRhYmxlU2VjdGlvbkVsZW1lbnQsIFRhYmxlUm93RWxlbWVudCwgVGFibGVDZWxsRWxlbWVudCwgUk0sIENNPiB7XG4gICAgY29uc3Qge1xuICAgICAgICBjaGlsZHJlbkhhdmVGb2N1c1JldHVybixcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBwcm9wcyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybixcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5SZXR1cm5cbiAgICB9ID0gdXNlQ29tcGxldGVHcmlkTmF2aWdhdGlvbjxUYWJsZVNlY3Rpb25FbGVtZW50LCBUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQsIFJNLCBDTT4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGNvbXBhcmU6IHVzZUNhbGxiYWNrPENvbXBhcmU8Uk0+PigobGhzLCByaHMpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnV6enlDb21wYXJlKGxocz8uZ2V0U29ydFZhbHVlPy4oKSwgcmhzPy5nZXRTb3J0VmFsdWU/LigpKTtcbiAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczogeyBub1R5cGVhaGVhZDogdHJ1ZSwgY29sbGF0b3I6IG51bGwsIHR5cGVhaGVhZFRpbWVvdXQ6IEluZmluaXR5IH0sXG4gICAgICAgIGdyaWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyc1xuICAgIH0pO1xuXG4gICAgaWYgKCFuYXR1cmFsU2VjdGlvblR5cGVzLmhhcyh0YWdUYWJsZVNlY3Rpb24gYXMgYW55KSkge1xuICAgICAgICBwcm9wcy5yb2xlID0gXCJyb3dncm91cFwiO1xuICAgIH1cblxuXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAobG9jYXRpb24gPT0gXCJib2R5XCIpIHtcbiAgICAgICAgICAgIHRhYmxlQ29udGV4dC5zZXRTb3J0Qm9keUZ1bmN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5hZ2VkUm93cyA9IG1hbmFnZWRDaGlsZHJlblJldHVybi5nZXRDaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiBzb3J0YWJsZUNoaWxkcmVuUmV0dXJuLnNvcnQobWFuYWdlZFJvd3MsIHRhYmxlQ29udGV4dC5nZXRDdXJyZW50U29ydENvbHVtbigpLmRpcmVjdGlvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIC8qY29uc3Qgc29ydCA9IHVzZUNhbGxiYWNrKChjb2x1bW46IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCByZXQgPSB0YWJsZUNvbnRleHQudXBkYXRlU29ydERpcmVjdGlvbihjb2x1bW4pXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5SZXR1cm4uc29ydChtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4uZ2V0Q2hpbGRyZW4oKSwgcmV0LmRpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSwgW10pKi9cblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuLFxuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICAuLi5jb250ZXh0LFxuICAgICAgICAgICAgdGFibGVDb250ZXh0XG4gICAgICAgIH0sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25SZXR1cm4sXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHByb3BzVGFibGVTZWN0aW9uOiBwcm9wc1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVRhYmxlUm93PFRhYmxlUm93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSTSBleHRlbmRzIFRhYmxlUm93SW5mbzxUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQ+LCBDTSBleHRlbmRzIFRhYmxlQ2VsbEluZm88VGFibGVDZWxsRWxlbWVudD4+KHtcbiAgICByb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyczoge1xuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIGNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3dQYXJhbWV0ZXJzLFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzLFxuICAgICAgICBjb250ZXh0OiBjeDFcbiAgICB9LFxuICAgIHJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnM6IHtcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVyc1xuICAgIH0sXG4gICAgdGFibGVSb3dQYXJhbWV0ZXJzOiB7IHNlbGVjdGVkIH1cbn06IFVzZVRhYmxlUm93UGFyYW1ldGVyczxUYWJsZVJvd0VsZW1lbnQsIFRhYmxlQ2VsbEVsZW1lbnQsIFJNLCBDTT4pOiBVc2VUYWJsZVJvd1JldHVyblR5cGU8VGFibGVSb3dFbGVtZW50LCBUYWJsZUNlbGxFbGVtZW50LCBSTSwgQ00+IHtcbiAgICBjb25zdCB7XG4gICAgICAgIGNvbnRleHQ6IGN4MixcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuLFxuICAgICAgICByb3dBc0NoaWxkT2ZHcmlkUmV0dXJuLFxuICAgICAgICByb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm4sXG4gICAgICAgIHByb3BzXG4gICAgfSA9IHVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25Sb3c8VGFibGVSb3dFbGVtZW50LCBUYWJsZUNlbGxFbGVtZW50LCBSTSwgQ00+KHtcbiAgICAgICAgcm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVycyxcbiAgICAgICAgICAgIGNvbnRleHQ6IHsgLi4uY3gxIH0sXG4gICAgICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICAgICAgY29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnMsXG4gICAgICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAgICAgZ2V0U29ydFZhbHVlOiB1c2VTdGFibGVDYWxsYmFjaygoKTogdW5rbm93biA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb2x1bW4gPSBjeDEudGFibGVDb250ZXh0LmdldEN1cnJlbnRTb3J0Q29sdW1uKCkuY29sdW1uO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50Q2hpbGQgPSByb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm4ubWFuYWdlZENoaWxkcmVuUmV0dXJuLmdldENoaWxkcmVuKCkuZ2V0QXQoY3VycmVudENvbHVtbiA/PyAwKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb3J0VmFsdWUgPSBjdXJyZW50Q2hpbGQ/LmdldFNvcnRWYWx1ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0VmFsdWU7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcm93QXNQYXJlbnRPZkNlbGxzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnMsXG4gICAgICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMsXG4gICAgICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczogeyBub1R5cGVhaGVhZDogdHJ1ZSwgY29sbGF0b3I6IG51bGwsIHR5cGVhaGVhZFRpbWVvdXQ6IEluZmluaXR5IH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcHJvcHMucm9sZSA9IFwiZ3JpZHJvd1wiO1xuICAgIC8vIFRPRE86IFVubmVlZGVkP1xuICAgIC8vaWYgKHNlbGVjdGVkKVxuICAgIC8vICAgIHByb3BzW3NpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycy5hcmlhUHJvcE5hbWUgPz8gXCJhcmlhLXNlbGVjdGVkXCJdID0gXCJ0cnVlXCI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICByb3dBc0NoaWxkT2ZHcmlkUmV0dXJuLFxuICAgICAgICByb3dBc1BhcmVudE9mQ2VsbHNSZXR1cm4sXG4gICAgICAgIGNvbnRleHQ6IHtcbiAgICAgICAgICAgIC4uLmN4MixcbiAgICAgICAgICAgIHRhYmxlQ29udGV4dDogY3gxLnRhYmxlQ29udGV4dFxuICAgICAgICB9LFxuICAgICAgICBoYXNDdXJyZW50Rm9jdXNSZXR1cm4sXG4gICAgICAgIHByb3BzXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlVGFibGVDZWxsPFRhYmxlQ2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDTSBleHRlbmRzIFRhYmxlQ2VsbEluZm88VGFibGVDZWxsRWxlbWVudD4+KHsgdGFibGVDZWxsUGFyYW1ldGVyczogeyB0YWdUYWJsZUNlbGwgfSwgLi4ucCB9OiBVc2VUYWJsZUNlbGxQYXJhbWV0ZXJzPFRhYmxlQ2VsbEVsZW1lbnQsIENNPik6IFVzZVRhYmxlQ2VsbFJldHVyblR5cGU8VGFibGVDZWxsRWxlbWVudCwgQ00+IHtcbiAgICBjb25zdCB7IHByb3BzLCAuLi5yZXQgfSA9IHVzZUNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsPFRhYmxlQ2VsbEVsZW1lbnQsIENNPihwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wc0ZvY3VzOiBwcm9wcyxcbiAgICAgICAgcHJvcHNDZWxsOiB7IHJvbGU6ICh0YWdUYWJsZUNlbGwgIT0gXCJ0aFwiICYmIHRhZ1RhYmxlQ2VsbCAhPSBcInRkXCIpPyBcImdyaWRjZWxsXCIgOiB1bmRlZmluZWQgfSxcbiAgICAgICAgLi4ucmV0LFxuICAgICAgICB0YWJsZUNlbGxSZXR1cm46IHtcbiAgICAgICAgICAgIHNvcnRCeVRoaXNDb2x1bW46IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcC5jb250ZXh0LnRhYmxlQ29udGV4dC5zb3J0QnlDb2x1bW4ocC5tYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLmluZGV4KTtcbiAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICB9XG4gICAgfTtcbn1cbi8qXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYmxlU2VjdGlvblNlY3Rpb25QYXJhbWV0ZXJzIHtcbiAgICBncmlkbGlzdFNlY3Rpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgIGNvbXBhcmVSb3dzOiAobGhzSW5kZXg6IG51bWJlciwgcmhzSW5kZXg6IG51bWJlcikgPT4gbnVtYmVyO1xuICAgIH1cbiAgICBncmlkbGlzdFNlY3Rpb25Db250ZXh0OiB7XG5cbiAgICB9XG59Ki9cbi8qXG5leHBvcnQgY29uc3QgdXNlVGFibGVTZWN0aW9uU2VjdGlvbiA9IDxCb2R5U2VjdGlvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oeyBjb21wYXJlUm93cyB9OiBVc2VUYWJsZVNlY3Rpb25TZWN0aW9uUGFyYW1ldGVycykgPT4ge1xuICAgIC8vZGVidWdMb2coXCJ1c2VUYWJsZVNlY3Rpb25TZWN0aW9uXCIpO1xuICAgIC8vdHlwZSBDUkZ1bGwgPSBVc2VSb3ZpbmdUYWJJbmRleFN1YkluZm88Um93RWxlbWVudCwgVXNlTGlzdE5hdmlnYXRpb25TdWJJbmZvPFVzZVRhYmxlUm93U3ViSW5mbzxDZWxsRWxlbWVudCwgQ1IsIENDPj4+O1xuICAgIGNvbnN0IGdldEluZGV4ID0gdXNlQ2FsbGJhY2s8R2V0SW5kZXg8YW55Pj4oKGkpID0+IGkucHJvcHMuaW5kZXgsIFtdKTtcblxuXG4gICAgY29uc3Qge1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUmV0dXJuXG4gICAgfSA9IHVzZVNvcnRhYmxlQ2hpbGRyZW48Qm9keVNlY3Rpb25FbGVtZW50LCBUYWJsZVJvd0luZm88Um93RWxlbWVudD4+KHtcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZ2V0SW5kZXgsXG4gICAgICAgICAgICBnZXRIaWdoZXN0Q2hpbGRJbmRleCxcbiAgICAgICAgICAgIGdldFZhbGlkXG4gICAgICAgIH0sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBjb21wYXJlOiAobGhzLCByaHMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobGhzLmxvY2F0aW9uSW5kZXggPT09IHJocy5sb2NhdGlvbkluZGV4KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tcGFyZVJvd3MobGhzLmluZGV4LCByaHMuaW5kZXgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsaHMubG9jYXRpb25JbmRleCAtIHJocy5sb2NhdGlvbkluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCB1c2VUYWJsZVNlY3Rpb25TZWN0aW9uUHJvcHMgPSAocHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEJvZHlTZWN0aW9uRWxlbWVudD4pID0+IHtcbiAgICAgICAgY29uc29sZS5hc3NlcnQocHJvcHMuY2hpbGRyZW4gIT0gbnVsbCk7XG4gICAgICAgIG92ZXJ3cml0ZVdpdGhXYXJuaW5nKFwidXNlVGFibGVTZWN0aW9uU2VjdGlvblwiLCBwcm9wcywgXCJyb2xlXCIsIFwicm93Z3JvdXBcIik7XG4gICAgICAgIHJldHVybiB1c2VTb3J0YWJsZVByb3BzKHByb3BzIGFzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPEJvZHlTZWN0aW9uRWxlbWVudD4gJiB7IGNoaWxkcmVuOiBhbnkgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXNlVGFibGVTZWN0aW9uU2VjdGlvblByb3BzLFxuICAgICAgICAuLi5zb3J0YWJsZVJldFxuICAgIH1cbn0qL1xuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcclxuaW1wb3J0IHsgQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNvbnRleHQsIGdlbmVyYXRlUmFuZG9tSWQsIE1hbmFnZWRDaGlsZEluZm8sIE9uQ2hpbGRyZW5Nb3VudENoYW5nZSwgUGVyc2lzdGVudFN0YXRlcywgcmV0dXJuVHJ1ZSwgdXNlQ2hpbGRyZW5GbGFnLCB1c2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uLCB1c2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGQsIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZEluZm8sIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnMsIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFJldHVyblR5cGUsIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzLCBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uUmV0dXJuVHlwZSwgdXNlTWFuYWdlZENoaWxkLCBVc2VNYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLCB1c2VNYW5hZ2VkQ2hpbGRyZW4sIFVzZU1hbmFnZWRDaGlsZHJlbkNvbnRleHQsIHVzZU1lcmdlZFByb3BzLCB1c2VQZXJzaXN0ZW50U3RhdGUsIHVzZVByZXNzLCB1c2VTdGFibGVDYWxsYmFjaywgdXNlU3RhYmxlT2JqZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJwcmVhY3QtcHJvcC1oZWxwZXJzXCI7XHJcbmltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XHJcbmltcG9ydCB7IGRlYnVnTG9nLCBFdmVudERldGFpbCwgT21pdFN0cm9uZywgUHJlZmljZXMgfSBmcm9tIFwiLi9wcm9wc1wiO1xyXG5pbXBvcnQgeyB1c2VMYWJlbFN5bnRoZXRpYywgVXNlTGFiZWxTeW50aGV0aWNQYXJhbWV0ZXJzIH0gZnJvbSBcIi4vdXNlLWxhYmVsXCI7XHJcblxyXG5cclxuaW50ZXJmYWNlIFRhYlBhbmVsSW5mbyBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPiB7XHJcbiAgICBnZXRWaXNpYmxlKCk6IGJvb2xlYW47XHJcbiAgICBzZXRWaXNpYmxlSW5kZXg6IChuZXdJbmRleDogbnVtYmVyIHwgbnVsbCwgcHJldmlvdXNJbmRleDogbnVtYmVyIHwgbnVsbCkgPT4gdm9pZDtcclxufVxyXG5cclxuaW50ZXJmYWNlIFRhYkluZm88RSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkSW5mbzxFPiB7IH1cclxuXHJcblxyXG5leHBvcnQgdHlwZSBUYWJzQ2hhbmdlRXZlbnQ8RSBleHRlbmRzIEVsZW1lbnQ+ID0geyBbRXZlbnREZXRhaWxdOiB7IHNlbGVjdGVkSW5kZXg6IG51bWJlciB9IH0gJiBQaWNrPGguSlNYLlRhcmdldGVkRXZlbnQ8RT4sIFwidGFyZ2V0XCIgfCBcImN1cnJlbnRUYXJnZXRcIj47XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYnNQYXJhbWV0ZXJzPFRhYkNvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VUYWJMaXN0UGFyYW1ldGVyczxUYWJDb250YWluZXJFbGVtZW50LCBUYWJFbGVtZW50PiB7XHJcblxyXG4gICAgbGFiZWxQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUxhYmVsU3ludGhldGljUGFyYW1ldGVyc1tcImxhYmVsUGFyYW1ldGVyc1wiXSwgXCJvbkxhYmVsQ2xpY2tcIj47XHJcbiAgICB0YWJzUGFyYW1ldGVyczoge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZUtleToga2V5b2YgUGVyc2lzdGVudFN0YXRlcyB8IG51bGw7XHJcbiAgICAgICAgb3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiIHwgXCJ2ZXJ0aWNhbFwiO1xyXG4gICAgICAgIHJvbGU/OiBcInRhYmxpc3RcIiB8IHN0cmluZztcclxuICAgIH1cclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYlBhcmFtZXRlcnM8VGFiRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzPFRhYkVsZW1lbnQsIFRhYkluZm88VGFiRWxlbWVudD4sIG5ldmVyPiwgXCJzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnNcIj4ge1xyXG4gICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8VGFiRWxlbWVudCwgVGFiSW5mbzxUYWJFbGVtZW50PiwgbmV2ZXI+W1wic2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzXCJdLCBcImFyaWFQcm9wTmFtZVwiPjtcclxuICAgIGNvbnRleHQ6IFRhYnNDb250ZXh0PGFueSwgVGFiRWxlbWVudCwgVGFiSW5mbzxUYWJFbGVtZW50Pj47XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlVGFiUGFuZWxQYXJhbWV0ZXJzIGV4dGVuZHMgT21pdFN0cm9uZzxVc2VNYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzPFRhYlBhbmVsSW5mbz4sIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiPiB7XHJcbiAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZU1hbmFnZWRDaGlsZFBhcmFtZXRlcnM8VGFiUGFuZWxJbmZvPltcIm1hbmFnZWRDaGlsZFBhcmFtZXRlcnNcIl0sIG5ldmVyPlxyXG4gICAgY29udGV4dDogVGFiUGFuZWxzQ29udGV4dDxUYWJQYW5lbEluZm8+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhYnNDb250ZXh0PFBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVGFiSW5mbzxDaGlsZEVsZW1lbnQ+PiBleHRlbmRzIENvbXBsZXRlTGlzdE5hdmlnYXRpb25Db250ZXh0PFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgTT4ge1xyXG4gICAgdGFic0NvbnRleHQ6IFRDO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhYlBhbmVsc0NvbnRleHQ8TSBleHRlbmRzIFRhYlBhbmVsSW5mbz4gZXh0ZW5kcyBVc2VNYW5hZ2VkQ2hpbGRyZW5Db250ZXh0PE0+IHtcclxuICAgIHRhYlBhbmVsQ29udGV4dDogVEM7XHJcbn1cclxuXHJcbmludGVyZmFjZSBUQyB7XHJcbiAgICBnZXRWaXNpYmxlSW5kZXg6ICgpID0+IG51bWJlciB8IG51bGw7XHJcbiAgICBnZXRQYW5lbElkOiAoaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nO1xyXG4gICAgZ2V0VGFiSWQ6IChpbmRleDogbnVtYmVyKSA9PiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlVGFiUmV0dXJuVHlwZTxUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPFRhYkVsZW1lbnQsIFRhYkluZm88VGFiRWxlbWVudD4+IHsgfVxyXG5cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlVGFiTGFiZWxQYXJhbWV0ZXJzIHsgfVxyXG5pbnRlcmZhY2UgVXNlVGFiTGlzdFBhcmFtZXRlcnM8VGFiQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnM8VGFiQ29udGFpbmVyRWxlbWVudCwgVGFiRWxlbWVudCwgVGFiSW5mbzxUYWJFbGVtZW50Pj4sIFwicGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzXCIgfCBcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+IHtcclxuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzPFRhYkNvbnRhaW5lckVsZW1lbnQsIFRhYkVsZW1lbnQsIFRhYkluZm88VGFiRWxlbWVudD4+W1wibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIl0sIFwibmF2aWdhdGlvbkRpcmVjdGlvblwiPjtcclxufVxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYkxpc3RSZXR1cm5UeXBlPFBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgVGFiSW5mbzxDaGlsZEVsZW1lbnQ+PiB7XHJcbn1cclxuZXhwb3J0IGludGVyZmFjZSBVc2VUYWJQYW5lbFJldHVyblR5cGU8RSBleHRlbmRzIEVsZW1lbnQ+IHtcclxuICAgIHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxFPjtcclxuICAgIHRhYlBhbmVsUmV0dXJuOiB7IHZpc2libGVPZmZzZXQ6IG51bWJlciB8IG51bGw7IHZpc2libGU6IGJvb2xlYW4gfCBudWxsOyBnZXRWaXNpYmxlOiAoKSA9PiBib29sZWFuOyB9O1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VUYWJMaXN0TGFiZWxSZXR1cm5UeXBlSW5mbyB7IH1cclxuZXhwb3J0IGludGVyZmFjZSBVc2VUYWJMYWJlbFJldHVyblR5cGVXaXRoSG9va3M8TGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBVc2VUYWJMaXN0TGFiZWxSZXR1cm5UeXBlSW5mbyB7XHJcbiAgICB1c2VUYWJMaXN0TGFiZWxQcm9wczogKHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxMYWJlbEVsZW1lbnQ+KSA9PiBoLkpTWC5IVE1MQXR0cmlidXRlczxMYWJlbEVsZW1lbnQ+O1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRhYnNSZXR1cm5UeXBlPFRhYkNvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBPbWl0U3Ryb25nPFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlPFRhYkNvbnRhaW5lckVsZW1lbnQsIFRhYkVsZW1lbnQsIFRhYkluZm88VGFiRWxlbWVudD4+LCBcInByb3BzXCIgfCBcImNvbnRleHRcIj4ge1xyXG4gICAgcHJvcHNDb250YWluZXI6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFRhYkNvbnRhaW5lckVsZW1lbnQ+O1xyXG4gICAgcHJvcHNMYWJlbDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8TGFiZWxFbGVtZW50PjtcclxuICAgIGNvbnRleHRQYW5lbHM6IFRhYlBhbmVsc0NvbnRleHQ8VGFiUGFuZWxJbmZvPjsgXHJcbiAgICBjb250ZXh0VGFiczogVGFic0NvbnRleHQ8VGFiQ29udGFpbmVyRWxlbWVudCwgVGFiRWxlbWVudCwgVGFiSW5mbzxUYWJFbGVtZW50Pj47IFxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBVc2VUYWI8X1RhYkNvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gPSAoYXJnczogVXNlVGFiUGFyYW1ldGVyczxUYWJFbGVtZW50PikgPT4gVXNlVGFiUmV0dXJuVHlwZTxUYWJFbGVtZW50PjtcclxuZXhwb3J0IHR5cGUgVXNlVGFiTGlzdDxUYWJDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gKGFyZ3M6IFVzZVRhYkxpc3RQYXJhbWV0ZXJzPFRhYkNvbnRhaW5lckVsZW1lbnQsIFRhYkVsZW1lbnQ+KSA9PiBVc2VUYWJMaXN0UmV0dXJuVHlwZTxUYWJDb250YWluZXJFbGVtZW50LCBUYWJFbGVtZW50PjtcclxuZXhwb3J0IHR5cGUgVXNlVGFiUGFuZWw8UGFuZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gPSAoYXJnczogVXNlVGFiUGFuZWxQYXJhbWV0ZXJzKSA9PiBVc2VUYWJQYW5lbFJldHVyblR5cGU8UGFuZWxFbGVtZW50PjtcclxuZXhwb3J0IHR5cGUgVXNlVGFiTGlzdExhYmVsPExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+ID0gKGFyZ3M6IFVzZVRhYkxhYmVsUGFyYW1ldGVycykgPT4gVXNlVGFiTGFiZWxSZXR1cm5UeXBlV2l0aEhvb2tzPExhYmVsRWxlbWVudD47XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlVGFiczxUYWJMaXN0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XHJcbiAgICBsYWJlbFBhcmFtZXRlcnMsXHJcbiAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcclxuICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnMsXHJcbiAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnMsXHJcbiAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzOiB7IG9uU2VsZWN0ZWRJbmRleENoYW5nZTogc3NpLCAuLi5zaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzIH0sXHJcbiAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcclxuICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVycyxcclxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxyXG4gICAgdGFic1BhcmFtZXRlcnM6IHsgb3JpZW50YXRpb24sIHJvbGUsIGxvY2FsU3RvcmFnZUtleSB9XHJcbn06IFVzZVRhYnNQYXJhbWV0ZXJzPFRhYkxpc3RFbGVtZW50LCBUYWJFbGVtZW50LCBMYWJlbEVsZW1lbnQ+KTogVXNlVGFic1JldHVyblR5cGU8VGFiTGlzdEVsZW1lbnQsIFRhYkVsZW1lbnQsIExhYmVsRWxlbWVudD4ge1xyXG5cclxuICAgIGRlYnVnTG9nKFwidXNlVGFic1wiKTtcclxuXHJcbiAgICBjb25zdCBbbG9jYWxTdG9yYWdlSW5kZXgsIHNldExvY2FsU3RvcmFnZUluZGV4XSA9IHVzZVBlcnNpc3RlbnRTdGF0ZTxuZXZlciwgbnVtYmVyIHwgbnVsbD4obG9jYWxTdG9yYWdlS2V5ID8/IG51bGwsIDApO1xyXG4gICAgaWYgKGxvY2FsU3RvcmFnZUluZGV4ICE9IG51bGwpXHJcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVycy5pbml0aWFsbHlTZWxlY3RlZEluZGV4ID0gbG9jYWxTdG9yYWdlSW5kZXg7XHJcblxyXG4gICAgY29uc3QgYmFzZUlkID0gZ2VuZXJhdGVSYW5kb21JZChcImFyaWEtdGFicy1cIik7XHJcbiAgICBjb25zdCBnZXRUYWJJZCA9IHVzZUNhbGxiYWNrKChpbmRleDogbnVtYmVyKSA9PiB7IHJldHVybiBiYXNlSWQgKyBcIi10YWItXCIgKyBpbmRleDsgfSwgW10pO1xyXG4gICAgY29uc3QgZ2V0UGFuZWxJZCA9IHVzZUNhbGxiYWNrKChpbmRleDogbnVtYmVyKSA9PiB7IHJldHVybiBiYXNlSWQgKyBcIi1wYW5lbC1cIiArIGluZGV4OyB9LCBbXSk7XHJcblxyXG4gICAgLy8gVXNlZCBmb3IgdGhlIHBhbmVscywgbm90IHRoZSB0YWJzIGluIHRoZSB0YWJsaXN0LlxyXG4gICAgLy8gVGhvc2UgYXJlIGluIHVzZVRhYkxpc3QgaXRzZWxmLlxyXG4gICAgY29uc3QgeyBjb250ZXh0OiBtYW5hZ2VkQ2hpbGRDb250ZXh0LCBtYW5hZ2VkQ2hpbGRyZW5SZXR1cm46IHBhbmVsQ2hpbGRyZW5SZXR1cm4gfSA9IHVzZU1hbmFnZWRDaGlsZHJlbjxUYWJQYW5lbEluZm8+KHtcclxuICAgICAgICBtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7XHJcblxyXG4gICAgICAgICAgICBvbkNoaWxkcmVuTW91bnRDaGFuZ2U6IHVzZVN0YWJsZUNhbGxiYWNrPE9uQ2hpbGRyZW5Nb3VudENoYW5nZTxudW1iZXI+PigoX20sIF91KSA9PiB7IHJlZXZhbHVhdGVDbG9zZXN0Rml0KCk7IH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgeyBjaGFuZ2VJbmRleDogY2hhbmdlVmlzaWJsZVBhbmVsLCBnZXRDdXJyZW50SW5kZXg6IGdldFZpc2libGVJbmRleCwgcmVldmFsdWF0ZUNsb3Nlc3RGaXQgfSA9IHVzZUNoaWxkcmVuRmxhZzxUYWJQYW5lbEluZm8sIEV2ZW50Pih7XHJcbiAgICAgICAgZ2V0Q2hpbGRyZW46IHBhbmVsQ2hpbGRyZW5SZXR1cm4uZ2V0Q2hpbGRyZW4sXHJcbiAgICAgICAgY2xvc2VzdEZpdDogZmFsc2UsXHJcbiAgICAgICAgaW5pdGlhbEluZGV4OiBudWxsLFxyXG4gICAgICAgIGdldEF0OiB1c2VTdGFibGVDYWxsYmFjaygoaSkgPT4geyByZXR1cm4gaS5nZXRWaXNpYmxlKCkgPz8gZmFsc2U7IC8qZ2V0UGFuZWxzKCkuZ2V0QXQoaSk/LmdldFZpc2libGUoKSA/PyBmYWxzZSkqLyB9LCBbXSksXHJcbiAgICAgICAgc2V0QXQ6IHVzZVN0YWJsZUNhbGxiYWNrKChpLCBiLCBuLCBwKSA9PiB7IHJldHVybiBpLnNldFZpc2libGVJbmRleChuLCBwKTsgLyooZ2V0UGFuZWxzKCkuZ2V0QXQoaSk/LnNldFZpc2libGUoYikpOyovIH0sIFtdKSxcclxuICAgICAgICBpc1ZhbGlkOiByZXR1cm5UcnVlLFxyXG4gICAgICAgIG9uSW5kZXhDaGFuZ2U6IG51bGxcclxuICAgIH0pO1xyXG5cclxuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XHJcbiAgICAgICAgY2hhbmdlVmlzaWJsZVBhbmVsKHNpbmdsZVNlbGVjdGlvblBhcmFtZXRlcnMuaW5pdGlhbGx5U2VsZWN0ZWRJbmRleCk7XHJcbiAgICB9LCBbXSlcclxuXHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgcHJvcHNJbnB1dCxcclxuICAgICAgICBwcm9wc0xhYmVsLFxyXG4gICAgICAgIHJhbmRvbUlkSW5wdXRSZXR1cm46IHsgaWQ6IF9pbnB1dElkIH0sXHJcbiAgICAgICAgcmFuZG9tSWRMYWJlbFJldHVybjogeyBpZDogX2xhYmVsSWQgfSxcclxuICAgIH0gPSB1c2VMYWJlbFN5bnRoZXRpYzxUYWJMaXN0RWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XHJcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7IC4uLmxhYmVsUGFyYW1ldGVycywgb25MYWJlbENsaWNrOiB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiBsaXN0TmF2UmV0MS5yb3ZpbmdUYWJJbmRleFJldHVybi5mb2N1c1NlbGYoKSkgfSxcclxuICAgICAgICByYW5kb21JZElucHV0UGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLnRhYmxpc3QgfSxcclxuICAgICAgICByYW5kb21JZExhYmVsUGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLnRhYmxpc3RMYWJlbCB9LFxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGNvbnN0IHtcclxuICAgICAgICBwcm9wczogbGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25Qcm9wcyxcclxuICAgICAgICBjb250ZXh0LFxyXG4gICAgICAgIC4uLmxpc3ROYXZSZXQxXHJcbiAgICB9ID0gdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbjxUYWJMaXN0RWxlbWVudCwgVGFiRWxlbWVudCwgVGFiSW5mbzxUYWJFbGVtZW50Pj4oe1xyXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7IG5hdmlnYXRpb25EaXJlY3Rpb246IG9yaWVudGF0aW9uLCAuLi5saW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyB9LFxyXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVycyxcclxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzOiB7XHJcbiAgICAgICAgICAgIG9uU2VsZWN0ZWRJbmRleENoYW5nZTogdXNlU3RhYmxlQ2FsbGJhY2soKGksIHApID0+IHtcclxuICAgICAgICAgICAgICAgIHNzaT8uKGksIHApO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlVmlzaWJsZVBhbmVsKGkpO1xyXG4gICAgICAgICAgICAgICAgc2V0TG9jYWxTdG9yYWdlSW5kZXgoaSk7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VTZWxlY3RlZEluZGV4KGksIHApO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgLi4uc2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyc1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnMsXHJcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcclxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnMsXHJcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnMsXHJcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IHBhZ2luYXRpb25NYXg6IG51bGwsIHBhZ2luYXRpb25NaW46IG51bGwgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIGNvbnN0IHsgc2luZ2xlU2VsZWN0aW9uUmV0dXJuOiB7IGNoYW5nZVNlbGVjdGVkSW5kZXggfSB9ID0gbGlzdE5hdlJldDE7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBjb250ZXh0UGFuZWxzOiB1c2VTdGFibGVPYmplY3Qoe1xyXG4gICAgICAgICAgICAuLi5tYW5hZ2VkQ2hpbGRDb250ZXh0LFxyXG4gICAgICAgICAgICB0YWJQYW5lbENvbnRleHQ6IHVzZVN0YWJsZU9iamVjdCh7XHJcbiAgICAgICAgICAgICAgICBnZXRQYW5lbElkLFxyXG4gICAgICAgICAgICAgICAgZ2V0VGFiSWQsXHJcbiAgICAgICAgICAgICAgICBnZXRWaXNpYmxlSW5kZXgsXHJcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEluZGV4OiBjaGFuZ2VTZWxlY3RlZEluZGV4XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgY29udGV4dFRhYnM6IHVzZVN0YWJsZU9iamVjdCh7XHJcbiAgICAgICAgICAgIC4uLmNvbnRleHQsXHJcbiAgICAgICAgICAgIHRhYnNDb250ZXh0OiB1c2VTdGFibGVPYmplY3QoeyBnZXRUYWJJZCwgZ2V0UGFuZWxJZCwgZ2V0VmlzaWJsZUluZGV4LCBzZXRTZWxlY3RlZEluZGV4OiBjaGFuZ2VTZWxlY3RlZEluZGV4IH0pXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgcHJvcHNDb250YWluZXI6IHVzZU1lcmdlZFByb3BzKFxyXG4gICAgICAgICAgICBsaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvblByb3BzLFxyXG4gICAgICAgICAgICBwcm9wc0lucHV0LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByb2xlOiAocm9sZSA/PyBcInRhYmxpc3RcIiksXHJcbiAgICAgICAgICAgICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogb3JpZW50YXRpb24gPz8gXCJob3Jpem9udGFsXCIsXHJcbiAgICAgICAgICAgIH0gYXMge30pLFxyXG4gICAgICAgIHByb3BzTGFiZWwsXHJcbiAgICAgICAgLi4ubGlzdE5hdlJldDFcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVzZVRhYjxUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xyXG4gICAgY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczogeyBmb2N1c1NlbGYsIC4uLmNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnMgfSxcclxuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXHJcbiAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXHJcbiAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM6IHsgc2VsZWN0aW9uTW9kZSwgLi4uc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzIH0sXHJcbiAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcclxuICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzLFxyXG4gICAgY29udGV4dFxyXG59OiBVc2VUYWJQYXJhbWV0ZXJzPFRhYkVsZW1lbnQ+KSB7XHJcblxyXG4gICAgY29uc3QgeyBwcm9wczogbGlzdE5hdmlnYXRpb25TaW5nbGVTZWxlY3Rpb25DaGlsZFByb3BzLCAuLi5saXN0TmF2UmV0MiB9ID0gdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkKHtcclxuICAgICAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGZvY3VzU2VsZiwgLi4uY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyB9LFxyXG4gICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcclxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcclxuICAgICAgICBzb3J0YWJsZUNoaWxkUGFyYW1ldGVycyxcclxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnMsXHJcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGFyaWFQcm9wTmFtZTogXCJhcmlhLXNlbGVjdGVkXCIsIHNlbGVjdGlvbk1vZGU6IHNlbGVjdGlvbk1vZGUgPz8gXCJmb3Vjc1wiLCAuLi5zaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnMgfSxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgeyBwcmVzc1BhcmFtZXRlcnMsIHJlZkVsZW1lbnRSZXR1cm4gfSA9IGxpc3ROYXZSZXQyXHJcbiAgICBjb25zdCB7IHByZXNzUmV0dXJuIH0gPSB1c2VQcmVzczxUYWJFbGVtZW50Pih7IHByZXNzUGFyYW1ldGVyczogeyAuLi5wcmVzc1BhcmFtZXRlcnMsIGZvY3VzU2VsZiB9LCByZWZFbGVtZW50UmV0dXJuIH0pXHJcbiAgICBjb25zdCB7IHNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuOiB7IHNlbGVjdGVkIH0sIHJvdmluZ1RhYkluZGV4Q2hpbGRSZXR1cm46IHsgdGFiYmFibGUgfSB9ID0gbGlzdE5hdlJldDI7XHJcbiAgICBjb25zdCB7IGdldFBhbmVsSWQsIGdldFRhYklkIH0gPSBjb250ZXh0LnRhYnNDb250ZXh0O1xyXG5cclxuICAgIGNvbnN0IHBhbmVsSWQgPSBnZXRQYW5lbElkKG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMuaW5kZXgpO1xyXG4gICAgY29uc3QgdGFiSWQgPSBnZXRUYWJJZChtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLmluZGV4KTtcclxuXHJcbiAgICBkZWJ1Z0xvZyhcInVzZVRhYlwiLCBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLmluZGV4LCBzZWxlY3RlZC50b1N0cmluZygpKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJvcHM6IHVzZU1lcmdlZFByb3BzKFxyXG4gICAgICAgICAgICBwcmVzc1JldHVybi5wcm9wc1Vuc3RhYmxlLFxyXG4gICAgICAgICAgICBsaXN0TmF2aWdhdGlvblNpbmdsZVNlbGVjdGlvbkNoaWxkUHJvcHMsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFwiZGF0YS10YWJiYWJsZVwiOiB0YWJiYWJsZS50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IHNlbGVjdGVkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICByb2xlOiBcInRhYlwiLFxyXG4gICAgICAgICAgICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IHBhbmVsSWQsXHJcbiAgICAgICAgICAgICAgICBpZDogdGFiSWRcclxuICAgICAgICAgICAgfSBhcyB7fSksXHJcbiAgICAgICAgcHJlc3NSZXR1cm4sXHJcbiAgICAgICAgLi4ubGlzdE5hdlJldDJcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VUYWJQYW5lbDxQYW5lbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsIGNvbnRleHQgfTogVXNlVGFiUGFuZWxQYXJhbWV0ZXJzKTogVXNlVGFiUGFuZWxSZXR1cm5UeXBlPFBhbmVsRWxlbWVudD4ge1xyXG4gICAgY29uc3QgeyBpbmRleCB9ID0gbWFuYWdlZENoaWxkUGFyYW1ldGVycztcclxuICAgIGRlYnVnTG9nKFwidXNlVGFiUGFuZWxcIiwgaW5kZXgpO1xyXG4gICAgY29uc3QgeyB0YWJQYW5lbENvbnRleHQ6IHsgZ2V0VmlzaWJsZUluZGV4OiBnLCBnZXRQYW5lbElkLCBnZXRUYWJJZCB9IH0gPSBjb250ZXh0O1xyXG4gICAgLy9jb25zdCBbY29ycmVzcG9uZGluZ1RhYklkLCBzZXRDb3JyZXNwb25kaW5nVGFiSWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgICBjb25zdCBbbGFzdEtub3duVmlzaWJsZUluZGV4LCBzZXRMYXN0S25vd25WaXNpYmxlSW5kZXgsIGdldExhc3RLbm93blZpc2libGVJbmRleF0gPSB1c2VTdGF0ZShnKCkpO1xyXG4gICAgY29uc3QgW2lzVmlzaWJsZSwgc2V0SXNWaXNpYmxlLCBnZXRJc1Zpc2libGVdID0gdXNlU3RhdGUobnVsbCBhcyBib29sZWFuIHwgbnVsbCk7XHJcbiAgICAvL2NvbnN0IHZpc2libGVSZWYgPSB1c2VSZWY8Q2hpbGRGbGFnT3BlcmF0aW9ucz4oeyBnZXQ6IGdldElzVmlzaWJsZSwgc2V0OiBzZXRJc1Zpc2libGUsIGlzVmFsaWQ6IHJldHVyblRydWUgfSk7XHJcbiAgICB1c2VNYW5hZ2VkQ2hpbGQ8VGFiUGFuZWxJbmZvPih7IGNvbnRleHQsIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSB9LCB7XHJcbiAgICAgICAgZ2V0VmlzaWJsZTogdXNlU3RhYmxlQ2FsbGJhY2soKCkgPT4geyByZXR1cm4gZ2V0TGFzdEtub3duVmlzaWJsZUluZGV4KCkgPT0gaW5kZXggfSksXHJcbiAgICAgICAgc2V0VmlzaWJsZUluZGV4OiB1c2VTdGFibGVDYWxsYmFjaygobmV3SW5kZXgsIHByZXZJbmRleCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBTaW1pbGFyIGxvZ2ljIGlzIGluIHNpbmdsZVNlbGVjdGlvbiwgYnV0IHdlIG5lZWQgdG8gZHVwbGljYXRlIGl0IGhlcmVcclxuICAgICAgICAgICAgbGV0IGNoYW5nZUluZGV4ID0gKG5ld0luZGV4ID09IGluZGV4ID8gcHJldkluZGV4IDogbmV3SW5kZXgpO1xyXG4gICAgICAgICAgICBpZiAoY2hhbmdlSW5kZXggIT0gbnVsbClcclxuICAgICAgICAgICAgICAgIHNldExhc3RLbm93blZpc2libGVJbmRleChjaGFuZ2VJbmRleCk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIHNldElzVmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNldElzVmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSxcclxuICAgICAgICAuLi5tYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXHJcbiAgICB9KTtcclxuICAgIGNvbnN0IHBhbmVsSWQgPSBnZXRQYW5lbElkKG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMuaW5kZXgpO1xyXG4gICAgY29uc3QgdGFiSWQgPSBnZXRUYWJJZChtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzLmluZGV4KTtcclxuICAgIC8vY29uc3QgaXNWaXNpYmxlID0gKGxhc3RLbm93blZpc2libGVJbmRleCA9PT0gaW5kZXgpO1xyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHByb3BzOiB1c2VNZXJnZWRQcm9wczxQYW5lbEVsZW1lbnQ+KHtcclxuICAgICAgICAgICAgcm9sZTogXCJ0YWJwYW5lbFwiLFxyXG4gICAgICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiB0YWJJZCxcclxuICAgICAgICAgICAgaWQ6IHBhbmVsSWQsXHJcbiAgICAgICAgICAgIGluZXJ0OiAhaXNWaXNpYmxlXHJcbiAgICAgICAgfSBhcyB7fSksXHJcbiAgICAgICAgdGFiUGFuZWxSZXR1cm46IHtcclxuICAgICAgICAgICAgdmlzaWJsZU9mZnNldDogbGFzdEtub3duVmlzaWJsZUluZGV4ID09IG51bGwgPyBudWxsIDogKGluZGV4IC0gbGFzdEtub3duVmlzaWJsZUluZGV4KSxcclxuICAgICAgICAgICAgdmlzaWJsZTogaXNWaXNpYmxlLFxyXG4gICAgICAgICAgICBnZXRWaXNpYmxlOiB1c2VTdGFibGVDYWxsYmFjaygoKSA9PiB7IHJldHVybiBnZXRMYXN0S25vd25WaXNpYmxlSW5kZXgoKSA9PT0gaW5kZXg7IH0pXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29tcG9uZW50Q2hpbGRyZW4sIGggfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBmaW5kRmlyc3RGb2N1c2FibGUsIE1hbmFnZWRDaGlsZEluZm8sIHVzZUdsb2JhbEhhbmRsZXIsIHVzZU1hbmFnZWRDaGlsZCwgVXNlTWFuYWdlZENoaWxkUGFyYW1ldGVycywgdXNlTWFuYWdlZENoaWxkcmVuLCBVc2VNYW5hZ2VkQ2hpbGRyZW5Db250ZXh0LCBVc2VNYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzLCBVc2VNYW5hZ2VkQ2hpbGRyZW5SZXR1cm5UeXBlLCB1c2VNZXJnZWRQcm9wcywgdXNlUmVmRWxlbWVudCwgdXNlU3RhYmxlQ2FsbGJhY2ssIHVzZVN0YWJsZUdldHRlciwgdXNlU3RhdGUsIHVzZVRpbWVvdXQgfSBmcm9tIFwicHJlYWN0LXByb3AtaGVscGVyc1wiO1xuaW1wb3J0IHsgU3RhdGVVcGRhdGVyLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBkZWJ1Z0xvZyB9IGZyb20gXCIuL3Byb3BzXCI7XG5pbXBvcnQgeyB1c2VOb3RpZnkgfSBmcm9tIFwiLi91c2Utbm90aWZ5XCI7XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRvYXN0c1BhcmFtZXRlcnMgZXh0ZW5kcyBVc2VNYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzPFRvYXN0SW5mbz4ge1xuICAgIHRvYXN0c1BhcmFtZXRlcnM6IHtcbiAgICAgICAgdmlzaWJsZUNvdW50OiBudW1iZXI7ICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIHRvYXN0cyB0aGF0IGFyZSBzaG93biBhdCBvbmUgdGltZSAodXNlZCBmb3IgYXV0b21hdGljIG1hbmFnZW1lbnQgb2Ygd2hlbiB0byBzaG93IHRvYXN0cywgaS5lLiBkb24ndCBzaG93IHRoaXMgdG9hc3QgaWYgMiBhcmUgYWxyZWFkeSBvbi1zY3JlZW4gLS0gMSBpcyBhIGdvb2QgZGVmYXVsdClcbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlVG9hc3RQYXJhbWV0ZXJzPE0gZXh0ZW5kcyBUb2FzdEluZm8+IGV4dGVuZHMgVXNlTWFuYWdlZENoaWxkUGFyYW1ldGVyczxNPiB7XG4gICAgdG9hc3RQYXJhbWV0ZXJzOiB7XG4gICAgICAgIHBvbGl0ZW5lc3M/OiBcInBvbGl0ZVwiIHwgXCJhc3NlcnRpdmVcIjtcbiAgICAgICAgdGltZW91dDogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgY2hpbGRyZW46IENvbXBvbmVudENoaWxkcmVuO1xuICAgIH1cbiAgICBjb250ZXh0OiBUb2FzdHNDb250ZXh0PE0+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0SW5mbyBleHRlbmRzIE1hbmFnZWRDaGlsZEluZm88bnVtYmVyPiB7XG4gICAgc2V0TnVtYmVyQWhlYWRPZk1lOiBTdGF0ZVVwZGF0ZXI8bnVtYmVyPjtcbiAgICBmb2N1cygpOiB2b2lkO1xuICAgIHNob3coKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VUb2FzdFJldHVyblR5cGU8VG9hc3RUeXBlIGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHRvYXN0UmV0dXJuOiB7XG4gICAgICAgIG51bWJlck9mVG9hc3RzQWhlYWRPZlVzOiBudW1iZXI7XG4gICAgICAgIGRpc21pc3M6ICgpID0+IHZvaWQ7XG4gICAgICAgIGRpc21pc3NlZDogYm9vbGVhbjtcbiAgICAgICAgc2hvd2luZzogYm9vbGVhbjtcbiAgICAgICAgcmVzZXREaXNtaXNzVGltZXI6ICgpID0+IHZvaWQ7XG4gICAgfVxuICAgIHByb3BzOiBoLkpTWC5IVE1MQXR0cmlidXRlczxUb2FzdFR5cGU+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRvYXN0c1JldHVyblR5cGU8Q29udGFpbmVyVHlwZSBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBUb2FzdEluZm8+IGV4dGVuZHMgVXNlTWFuYWdlZENoaWxkcmVuUmV0dXJuVHlwZTxUb2FzdEluZm8+IHtcbiAgICBjb250ZXh0OiBUb2FzdHNDb250ZXh0PE0+XG4gICAgcHJvcHM6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPENvbnRhaW5lclR5cGU+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0c0NvbnRleHQ8TSBleHRlbmRzIFRvYXN0SW5mbz4gZXh0ZW5kcyBVc2VNYW5hZ2VkQ2hpbGRyZW5Db250ZXh0PE0+IHtcbiAgICB0b2FzdENvbnRleHQ6IHtcbiAgICAgICAgb25BbnlUb2FzdERpc21pc3NlZDogKF9pbmRleDogbnVtYmVyKSA9PiB2b2lkO1xuICAgICAgICBnZXRNYXhWaXNpYmxlQ291bnQ6ICgpID0+IG51bWJlcjtcbiAgICAgICAgb25BbnlUb2FzdE1vdW50ZWQ6ICh0b2FzdEluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gICAgfTtcbn1cblxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VUb2FzdHM8Q29udGFpbmVyVHlwZSBleHRlbmRzIEVsZW1lbnQ+KHsgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyczogeyBvbkNoaWxkcmVuTW91bnRDaGFuZ2U6IG9jbXUsIG9uQWZ0ZXJDaGlsZExheW91dEVmZmVjdCB9LCB0b2FzdHNQYXJhbWV0ZXJzOiB7IHZpc2libGVDb3VudCB9IH06IFVzZVRvYXN0c1BhcmFtZXRlcnMpOiBVc2VUb2FzdHNSZXR1cm5UeXBlPENvbnRhaW5lclR5cGUsIFRvYXN0SW5mbz4ge1xuICAgIGRlYnVnTG9nKFwidXNlVG9hc3RzXCIpO1xuXG4gICAgLy8gTm9ybWFsbHksIHRoaXMgZG9lcyBqdXN0IGxvb2sgbGlrZSBbMCwgMSwgMiwgM10sIGV0Y1xuICAgIC8vIHNvIGl0IGNvdWxkIGJlIGp1c3QgYW4gaW5kZXggdG8gdGhlIGN1cnJlbnQgdG9hc3QsXG4gICAgLy8gYnV0IGlmIHdlIGRpc21pc3MgdG9hc3RzIG91dCBvZiBvcmRlciwgaXQncyBbMCwgMiwgM10gb3Igc29tZXRoaW5nLlxuICAgIC8vIFNvIGp1c3Qga2VlcCB0cmFjayBvZiBpdCBhbGwgaW4gYSBiaWcgb2wnLCB0aGVyZSdzIG9ubHkgb25lIG9mIHRoZXNlIG9uIGEgcGFnZSBhbnl3YXksXG4gICAgLy8gYW5kIGlmIHlvdSdyZSBwdXNpbmcgMTAwMDAgdG9hc3RzIGF0IG9uY2UgYW4gQXJyYXk8bnVtYmVyPiBpc24ndCBnb2luZyB0byBiZSB5b3VyIGJvdHRsZW5lY2suXG4gICAgY29uc3QgY3VycmVudEluZGV4UXVldWUgPSB1c2VSZWY8bnVtYmVyW10+KFtdKTtcblxuICAgIGNvbnN0IGdldE1heFZpc2libGVDb3VudCA9IHVzZVN0YWJsZUdldHRlcih2aXNpYmxlQ291bnQpO1xuICAgIGNvbnN0IG5leHRJbmRleFRvU3RhcnRBdCA9IHVzZVJlZigwKTtcblxuICAgIGNvbnN0IHsgcmVmRWxlbWVudFJldHVybjogeyBnZXRFbGVtZW50LCBwcm9wc1N0YWJsZSB9IH0gPSB1c2VSZWZFbGVtZW50PENvbnRhaW5lclR5cGU+KHsgcmVmRWxlbWVudFBhcmFtZXRlcnM6IHt9IH0pO1xuICAgIGNvbnN0IHsgY29udGV4dCwgbWFuYWdlZENoaWxkcmVuUmV0dXJuLCAuLi5fY2hpbGRJbmZvIH0gPSB1c2VNYW5hZ2VkQ2hpbGRyZW48VG9hc3RJbmZvPih7IG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgb25BZnRlckNoaWxkTGF5b3V0RWZmZWN0LCBvbkNoaWxkcmVuTW91bnRDaGFuZ2U6IG9jbXUgfSB9KTtcblxuICAgIGNvbnN0IHsgZ2V0Q2hpbGRyZW46IGdldFRvYXN0UXVldWUgfSA9IG1hbmFnZWRDaGlsZHJlblJldHVybjtcbiAgICBjb25zdCB0b2FzdFF1ZXVlID0gZ2V0VG9hc3RRdWV1ZSgpO1xuXG4gICAgLy8gV2hlbiBhIHRvYXN0IGlzIHNob3duIG9yIGhpZGRlbiwgYWx3YXlzIG1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHNob3dpbmcgYWxsIHRoZSB0b2FzdHMgdGhhdCB3ZSBzaG91bGQgYmUuXG4gICAgY29uc3Qgc2hvd0hpZ2hlc3RQcmlvcml0eVRvYXN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1pbihnZXRNYXhWaXNpYmxlQ291bnQoKSwgY3VycmVudEluZGV4UXVldWUuY3VycmVudC5sZW5ndGgpO1xuICAgICAgICBsZXQgc3RhcnQgPSBuZXh0SW5kZXhUb1N0YXJ0QXQuY3VycmVudDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbWF4OyArK2kpIHtcblxuICAgICAgICAgICAgY29uc3QgaGlnaGVzdFByaW9yaXR5VG9hc3QgPSB0b2FzdFF1ZXVlLmdldEF0KGN1cnJlbnRJbmRleFF1ZXVlLmN1cnJlbnRbaV0pO1xuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoISFoaWdoZXN0UHJpb3JpdHlUb2FzdCk7XG4gICAgICAgICAgICBoaWdoZXN0UHJpb3JpdHlUb2FzdD8uc2hvdygpO1xuICAgICAgICB9XG4gICAgICAgIG5leHRJbmRleFRvU3RhcnRBdC5jdXJyZW50ID0gbWF4O1xuICAgIH0sIFtdKVxuXG4gICAgLy8gQW55IHRpbWUgYSBuZXcgdG9hc3QgbW91bnRzLCB1cGRhdGUgb3VyIGJvdHRvbW1vc3RUb2FzdEluZGV4IHRvIHBvaW50IHRvIGl0IGlmIG5lY2Vzc2FyeVxuICAgIC8vIChcIm5lY2Vzc2FyeVwiIGp1c3QgbWVhbmluZyBpZiBpdCdzIHRoZSBmaXJzdCB0b2FzdCBldmVyIG9yIGFsbCBwcmlvciB0b2FzdHMgaGF2ZSBiZWVuIGRpc21pc3NlZClcbiAgICBjb25zdCBvbkFueVRvYXN0TW91bnRlZCA9IHVzZUNhbGxiYWNrKCh0b2FzdEluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgY3VycmVudEluZGV4UXVldWUuY3VycmVudC5wdXNoKHRvYXN0SW5kZXgpO1xuICAgICAgICB0b2FzdFF1ZXVlLmdldEF0KHRvYXN0SW5kZXgpPy5zZXROdW1iZXJBaGVhZE9mTWUoY3VycmVudEluZGV4UXVldWUuY3VycmVudC5sZW5ndGggLSAxKTtcbiAgICAgICAgc2hvd0hpZ2hlc3RQcmlvcml0eVRvYXN0KCk7XG4gICAgfSwgW10pO1xuXG4gICAgLy8gQW55IHRpbWUgYSB0b2FzdCBpcyBkaXNtaXNzZWQsIHVwZGF0ZSBvdXIgYm90dG9tbW9zdFRvYXN0SW5kZXggdG8gcG9pbnQgdG8gdGhlIG5leHQgdG9hc3QgaW4gdGhlIHF1ZXVlLCBpZiBvbmUgZXhpc3RzLlxuICAgIGNvbnN0IG9uQW55VG9hc3REaXNtaXNzZWQgPSB1c2VDYWxsYmFjaygoX2luZGV4OiBudW1iZXIpID0+IHtcblxuICAgICAgICAvLyBXaGVuIHdlIGRpc21pc3MgYSB0b2FzdCwgcmVtb3ZlIGl0IGZyb20gdGhlIFwidG8tZGlzcGxheVwiIHF1ZXVlIGJ5IGFjdHVhbGx5IHNwbGljaW5nIGl0IG91dCBvZiB0aGUgYXJyYXkuXG4gICAgICAgIC8vIFRoZW4gbm90aWZ5IGVhY2ggdG9hc3Qgb2YgaXRzIGNoYW5nZSBpbiBwb3NpdGlvbiB3aXRoaW4gdGhhdCBxdWV1ZSB0byBrZWVwIHRoZSB0d28gaW4gc3luYy5cbiAgICAgICAgY29uc3QgcmVtb3ZhbEluZGV4ID0gY3VycmVudEluZGV4UXVldWUuY3VycmVudC5maW5kSW5kZXgoaSA9PiBpID09IF9pbmRleCk7XG5cblxuICAgICAgICAvLyBGb3IgYWxsIHRvYXN0cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIGRpc21pc3NlZCwgc2hpZnQgdGhlbSBldmVuIGZ1cnRoZXIgYmFjayBieSBvbmUgdG8gXCJtYWtlIHNwYWNlXCIgXG4gICAgICAgIC8vICh0aGV5J3JlIHJlbW92ZWQgZnJvbSB0aGUgcXVldWUgYnV0IHRoaXMgaXMgdGhlIG5lZ2F0aXZlIGluZGV4IHRoZXkgd291bGQgaGF2ZSBpZiB3ZSBrZXB0IG5lZ2F0aXZlcyBpbiB0aGUgcXVldWUpXG4gICAgICAgIC8vIGZvciB0aGUgbmV3bHktZGlzbWlzc2VkIHRvYXN0LlxuICAgICAgICB0b2FzdFF1ZXVlLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICBjLnNldE51bWJlckFoZWFkT2ZNZShwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocHJldiA8IDApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2IC0gMTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBMZXQgdGhpcyB0b2FzdCBrbm93IHRoYXQgaXQncyBub3cgdGhlIG1vc3QgcmVjZW50bHkgZGlzbWlzc2VkIHRvYXN0XG4gICAgICAgIHRvYXN0UXVldWUuZ2V0QXQoX2luZGV4KT8uc2V0TnVtYmVyQWhlYWRPZk1lKC0xKTtcblxuICAgICAgICAvLyBOb3RpZnkgYWxsIHRvYXN0cyB3YWl0aW5nIGJlaGluZCB0aGlzIG9uZSBpbiB0aGUgcXVldWUgdGhhdCB0aGV5J3ZlIG1vdmVkIHVwIG9uZSBzbG90XG4gICAgICAgIHRvYXN0UXVldWUuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgIGMuc2V0TnVtYmVyQWhlYWRPZk1lKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2ID4gcmVtb3ZhbEluZGV4KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldiAtIDE7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBY3R1YWxseSBtb2RpZnkgdGhlIHF1ZXVlIGl0c2VsZlxuICAgICAgICBjdXJyZW50SW5kZXhRdWV1ZS5jdXJyZW50LnNwbGljZShyZW1vdmFsSW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIEFuZCBhZnRlciBhbGwgdGhhdCwgbWFrZSBzdXJlIHRoYXQgd2UncmUgc2hvd2luZyBhbnkgdG9hc3RzIHRoYXQgaGF2ZSBiZWVuIHdhaXRpbmcgaW4gdGhlIHF1ZXVlXG4gICAgICAgIHNob3dIaWdoZXN0UHJpb3JpdHlUb2FzdCgpO1xuICAgIH0sIFtdKTtcblxuXG5cbiAgICBjb25zdCBbX21vdXNlT3ZlcjIsIHNldE1vdXNlT3ZlciwgX2dldE1vdXNlT3Zlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICB1c2VHbG9iYWxIYW5kbGVyKGRvY3VtZW50LCBcInBvaW50ZXJtb3ZlXCIsIGUgPT4ge1xuICAgICAgICBjb25zdCBtb3VzZU92ZXIgPSAoZS50YXJnZXQgIT0gbnVsbCAmJiBlLnRhcmdldCBpbnN0YW5jZW9mIE5vZGUgJiYgKGdldEVsZW1lbnQoKT8uY29udGFpbnMoZS50YXJnZXQpIHx8IGdldEVsZW1lbnQoKSA9PSBlLnRhcmdldCkpO1xuICAgICAgICBzZXRNb3VzZU92ZXIobW91c2VPdmVyKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRvYXN0Q29udGV4dCA9IHtcbiAgICAgICAgb25BbnlUb2FzdERpc21pc3NlZCxcbiAgICAgICAgZ2V0TWF4VmlzaWJsZUNvdW50LFxuICAgICAgICBvbkFueVRvYXN0TW91bnRlZFxuICAgIH1cbiAgICBcbiAgICBjb25zdCBwcm9wcyA9IHVzZU1lcmdlZFByb3BzPENvbnRhaW5lclR5cGU+KHVzZU1lcmdlZFByb3BzKHByb3BzU3RhYmxlLCB7IGNsYXNzOiBcInRvYXN0cy1jb250YWluZXJcIiB9IGFzIGguSlNYLkhUTUxBdHRyaWJ1dGVzPENvbnRhaW5lclR5cGU+KSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjb250ZXh0OiB7XG4gICAgICAgICAgICAuLi5jb250ZXh0LFxuICAgICAgICAgICAgdG9hc3RDb250ZXh0XG4gICAgICAgIH0sXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcHJvcHNcblxuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VUb2FzdDxFIGV4dGVuZHMgRWxlbWVudD4oeyB0b2FzdFBhcmFtZXRlcnM6IHsgcG9saXRlbmVzcywgdGltZW91dCwgY2hpbGRyZW4gfSwgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCwgLi4uX21hbmFnZWRDaGlsZFBhcmFtZXRlcnMgfSwgY29udGV4dCB9OiBVc2VUb2FzdFBhcmFtZXRlcnM8VG9hc3RJbmZvPik6IFVzZVRvYXN0UmV0dXJuVHlwZTxFPiB7XG4gICAgY29uc3QgeyBnZXRNYXhWaXNpYmxlQ291bnQsIG9uQW55VG9hc3REaXNtaXNzZWQsIG9uQW55VG9hc3RNb3VudGVkIH0gPSBjb250ZXh0LnRvYXN0Q29udGV4dDtcbiAgICBkZWJ1Z0xvZyhcInVzZVRvYXN0XCIsIGluZGV4KTtcbiAgICBjb25zdCBbbnVtYmVyT2ZUb2FzdHNBaGVhZE9mVXMsIHNldE51bWJlck9mVG9hc3RzQWhlYWRPZlVzXSA9IHVzZVN0YXRlKEluZmluaXR5KTtcbiAgICBjb25zdCBnZXRJbmRleCA9IHVzZVN0YWJsZUdldHRlcihpbmRleCk7XG4gICAgY29uc3QgW2Rpc21pc3NlZDIsIHNldERpc21pc3NlZDIsIGdldERpc21pc3NlZDJdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtzaG93aW5nMiwgc2V0U2hvd2luZzIsIGdldFNob3dpbmcyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbdHJpZ2dlckluZGV4LCBzZXRUcmlnZ2VySW5kZXhdID0gdXNlU3RhdGUoMSk7XG5cbiAgICBjb25zdCBub3RpZnkgPSB1c2VOb3RpZnkoKTtcblxuICAgIGNvbnN0IGRpc21pc3MgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmICghZ2V0RGlzbWlzc2VkMigpKVxuICAgICAgICAgICAgb25BbnlUb2FzdERpc21pc3NlZChnZXRJbmRleCgpKTtcblxuICAgICAgICBzZXREaXNtaXNzZWQyKHRydWUpO1xuICAgICAgICBzZXRTaG93aW5nMihmYWxzZSk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3Qgc2hvdyA9IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgbm90aWZ5KFwicG9saXRlXCIsIDxwPntjaGlsZHJlbn08L3A+KTtcbiAgICAgICAgc2V0U2hvd2luZzIodHJ1ZSk7XG4gICAgfSlcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZ2V0RGlzbWlzc2VkMigpICYmICFnZXRTaG93aW5nMigpKSB7XG4gICAgICAgICAgICBpZiAobnVtYmVyT2ZUb2FzdHNBaGVhZE9mVXMgPj0gMCAmJiBudW1iZXJPZlRvYXN0c0FoZWFkT2ZVcyA8IGdldE1heFZpc2libGVDb3VudCgpKSB7XG4gICAgICAgICAgICAgICAgc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW251bWJlck9mVG9hc3RzQWhlYWRPZlVzXSk7XG5cbiAgICBjb25zdCBmb2N1cyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGdldEVsZW1lbnQoKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Rm9jdXNhYmxlID0gZmluZEZpcnN0Rm9jdXNhYmxlKGVsZW1lbnQpIGFzIChIVE1MRWxlbWVudCB8IG51bGwpO1xuICAgICAgICAgICAgZmlyc3RGb2N1c2FibGU/LmZvY3VzPy4oKTtcbiAgICAgICAgfVxuICAgIH0sIFtdKTtcblxuICAgIGNvbnN0IHsgbWFuYWdlZENoaWxkUmV0dXJuOiB7IGdldENoaWxkcmVuOiBfZ2V0VG9hc3RzIH0gfSA9IHVzZU1hbmFnZWRDaGlsZDxUb2FzdEluZm8+KHsgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LCBjb250ZXh0IH0sIHsgaW5kZXgsIGZvY3VzLCBzZXROdW1iZXJBaGVhZE9mTWU6IHNldE51bWJlck9mVG9hc3RzQWhlYWRPZlVzLCBzaG93IH0pO1xuXG4gICAgY29uc3QgcmVzZXREaXNtaXNzVGltZXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIHNldFRyaWdnZXJJbmRleChpID0+ICsraSk7XG4gICAgfSwgW10pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBvbkFueVRvYXN0TW91bnRlZChpbmRleCk7XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgZGlzbWlzc1RpbWVvdXRLZXkgPSAodGltZW91dCA9PSBudWxsIHx8IG51bWJlck9mVG9hc3RzQWhlYWRPZlVzICE9IDApID8gbnVsbCA6IGlzRmluaXRlKHRpbWVvdXQpID8gdGltZW91dCA6IHRpbWVvdXQgPiAwID8gbnVsbCA6IDA7XG5cbiAgICB1c2VUaW1lb3V0KHtcbiAgICAgICAgdGltZW91dDogZGlzbWlzc1RpbWVvdXRLZXksXG4gICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2hvd2luZzIpXG4gICAgICAgICAgICAgICAgZGlzbWlzcygpO1xuICAgICAgICB9LFxuICAgICAgICB0cmlnZ2VySW5kZXg6IHNob3dpbmcyID8gdHJpZ2dlckluZGV4IDogZmFsc2VcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgcmVmRWxlbWVudFJldHVybjogeyBnZXRFbGVtZW50LCBwcm9wc1N0YWJsZSB9IH0gPSB1c2VSZWZFbGVtZW50PEU+KHsgcmVmRWxlbWVudFBhcmFtZXRlcnM6IHt9IH0pXG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b2FzdFJldHVybjoge1xuICAgICAgICAgICAgZGlzbWlzc2VkOiBkaXNtaXNzZWQyLFxuICAgICAgICAgICAgc2hvd2luZzogc2hvd2luZzIsXG4gICAgICAgICAgICBudW1iZXJPZlRvYXN0c0FoZWFkT2ZVcyxcbiAgICAgICAgICAgIGRpc21pc3MsXG4gICAgICAgICAgICByZXNldERpc21pc3NUaW1lclxuICAgICAgICB9LFxuICAgICAgICBwcm9wczogcHJvcHNTdGFibGVcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBoIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgRGlzbWlzc0xpc3RlbmVyVHlwZXMsIHJldHVybk51bGwsIHVzZURpc21pc3MsIFVzZUVzY2FwZURpc21pc3NQYXJhbWV0ZXJzLCB1c2VHbG9iYWxIYW5kbGVyLCB1c2VIYXNDdXJyZW50Rm9jdXMsIHVzZU1lcmdlZFByb3BzLCB1c2VQYXNzaXZlU3RhdGUsIHVzZVJhbmRvbUlkLCB1c2VSZWZFbGVtZW50LCB1c2VTdGFibGVDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tIFwicHJlYWN0LXByb3AtaGVscGVyc1wiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBQcmVmaWNlcyB9IGZyb20gXCIuL3Byb3BzXCI7XG5cbmV4cG9ydCB0eXBlIFRvb2x0aXBTdGF0dXMgPSBcImhvdmVyXCIgfCBcImZvY3VzXCIgfCBudWxsO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZVRvb2x0aXBQYXJhbWV0ZXJzPFRyaWdnZXJUeXBlIGV4dGVuZHMgRWxlbWVudCwgUG9wdXBUeXBlIGV4dGVuZHMgRWxlbWVudD4ge1xuICAgIHRvb2x0aXBQYXJhbWV0ZXJzOiB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxlZCB3aGVuIHRoZSB0b29sdGlwJ3MgY29udGVudCBzaG91bGQgYmUgc2hvd24gb3IgaGlkZGVuXG4gICAgICAgICAqIG9yIHdoZW4gdGhlIG1hbm5lciBpbiB3aGljaCBpdCdzIHNob3duIHNob3VsZCBiZSBjaGFuZ2VkLlxuICAgICAgICAgKiBcbiAgICAgICAgICogVGhpcyBjYW4gY2hhbmdlIGZyb20gYFwiaG92ZXJcImAgdG8gYFwibW91c2VcImAsIGJ1dCBuZXZlciB0aGUgb3RoZXIgd2F5IGFyb3VuZC5cbiAgICAgICAgICogXG4gICAgICAgICAqIGBcIm51bGxcImAgbWVhbnMgdGhlIHRvb2x0aXAgc2hvdWxkIGJlIGhpZGRlblxuICAgICAgICAgKiBcbiAgICAgICAgICogQHBhcmFtIHN0YXR1cyBDXG4gICAgICAgICAqL1xuICAgICAgICBvblN0YXR1cyhzdGF0dXM6IFRvb2x0aXBTdGF0dXMpOiB2b2lkO1xuXG4gICAgICAgIC8qZGVsYXlNb3VzZUluPzogbnVtYmVyO1xuICAgICAgICBkZWxheU1vdXNlT3V0PzogbnVtYmVyO1xuICAgICAgICBkZWxheUZvY3VzSW4/OiBudW1iZXI7XG4gICAgICAgIGRlbGF5Rm9jdXNPdXQ/OiBudW1iZXI7Ki9cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB3aGV0aGVyIGBhcmlhLWRlc2NyaWJlZGJ5YCBvciBgYXJpYS1sYWJlbGxlZGJ5YCBpcyB1c2VkLlxuICAgICAgICAgKiBcbiAgICAgICAgICogQ2VydGFpbiBzaXR1YXRpb25zIHJlcXVpcmUgb25lIG9yIHRoZSBvdGhlciwgc28geW91IG5lZWQgdG8gc3BlY2lmeSBmb3IgZWFjaCBjaXJjdW1zdGFuY2UuIFxuICAgICAgICAgKi9cbiAgICAgICAgdG9vbHRpcFNlbWFudGljVHlwZTogXCJsYWJlbFwiIHwgXCJkZXNjcmlwdGlvblwiO1xuICAgIH1cbiAgICBlc2NhcGVEaXNtaXNzUGFyYW1ldGVyczogUGljazxVc2VFc2NhcGVEaXNtaXNzUGFyYW1ldGVyczxQb3B1cFR5cGU+W1wiZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnNcIl0sIFwiZ2V0V2luZG93XCIgfCBcInBhcmVudERlcHRoXCI+XG59XG5cbmV4cG9ydCB0eXBlIFRvb2x0aXBTdGF0ZSA9IGAke1wiaG92ZXJpbmdcIiB8IFwiZm9jdXNlZFwifS0ke1wicG9wdXBcIiB8IFwidHJpZ2dlclwifWAgfCBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVG9vbHRpcDxUcmlnZ2VyVHlwZSBleHRlbmRzIEVsZW1lbnQsIFBvcHVwVHlwZSBleHRlbmRzIEVsZW1lbnQ+KHsgdG9vbHRpcFBhcmFtZXRlcnM6IHsgb25TdGF0dXMsIHRvb2x0aXBTZW1hbnRpY1R5cGUgfSwgZXNjYXBlRGlzbWlzc1BhcmFtZXRlcnMgfTogVXNlVG9vbHRpcFBhcmFtZXRlcnM8VHJpZ2dlclR5cGUsIFBvcHVwVHlwZT4pOiBVc2VUb29sdGlwUmV0dXJuVHlwZTxUcmlnZ2VyVHlwZSwgUG9wdXBUeXBlPiB7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBob3Zlci9mb2N1cy1wb3B1cC90cmlnZ2VyIHN0YXRlIHdlIGhhdmUgcmVzdWx0cyBpbiB1cyBzaG93aW5nIHRoaXMgdG9vbHRpcC5cbiAgICAgKiBcbiAgICAgKiBUaGlzIGlzIHVzZWQgcHVyZWx5IHRvIGF0dGFjaCBnbG9iYWwgZXZlbnQgaGFuZGxlcnMgdGhhdCBzaG91bGQgb25seSBiZSB0aGVyZSB3aGVuIHRoZSB0b29sdGlwIGlzIG9wZW4gKGUuZy4gYHVzZURpc21pc3NgKVxuICAgICAqL1xuICAgIGNvbnN0IFtvcGVuTG9jYWwsIHNldE9wZW5Mb2NhbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBjb25zdCBbZ2V0U3RhdGUsIHNldFN0YXRlXSA9IHVzZVBhc3NpdmVTdGF0ZTxUb29sdGlwU3RhdGUsIG5ldmVyPih1c2VTdGFibGVDYWxsYmFjaygobmV4dFN0YXRlLCBwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgc3dpdGNoIChuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c2VkLXBvcHVwXCI6XG4gICAgICAgICAgICBjYXNlIFwiZm9jdXNlZC10cmlnZ2VyXCI6XG4gICAgICAgICAgICAgICAgb25TdGF0dXMoXCJmb2N1c1wiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJob3ZlcmluZy1wb3B1cFwiOlxuICAgICAgICAgICAgY2FzZSBcImhvdmVyaW5nLXRyaWdnZXJcIjpcbiAgICAgICAgICAgICAgICBvblN0YXR1cyhcImhvdmVyXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBvblN0YXR1cyhudWxsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHNldE9wZW5Mb2NhbCghIW5leHRTdGF0ZSk7XG5cblxuICAgIH0pLCByZXR1cm5OdWxsKTtcblxuICAgIGxldCB7XG4gICAgICAgIHByb3BzUmVmZXJlbmNlcjogcHJvcHNUcmlnZ2VyLFxuICAgICAgICBwcm9wc1NvdXJjZTogcHJvcHNQb3B1cFxuICAgIH0gPSB1c2VSYW5kb21JZDxQb3B1cFR5cGUsIFRyaWdnZXJUeXBlPih7IHJhbmRvbUlkUGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLnRvb2x0aXAsIG90aGVyUmVmZXJlbmNlclByb3A6ICh0b29sdGlwU2VtYW50aWNUeXBlID09IFwiZGVzY3JpcHRpb25cIiA/IFwiYXJpYS1kZXNjcmliZWRieVwiIDogXCJhcmlhLWxhYmVsbGVkYnlcIikgfSB9KTtcblxuICAgIGNvbnN0IHsgcmVmRWxlbWVudFJldHVybjogeyBnZXRFbGVtZW50OiBnZXRUcmlnZ2VyRWxlbWVudCwgcHJvcHNTdGFibGU6IHRyaWdnZXJSZWZQcm9wcyB9IH0gPSB1c2VSZWZFbGVtZW50PFRyaWdnZXJUeXBlPih7IHJlZkVsZW1lbnRQYXJhbWV0ZXJzOiB7fSB9KTtcbiAgICBjb25zdCB7IHJlZkVsZW1lbnRSZXR1cm46IHsgZ2V0RWxlbWVudDogZ2V0UG9wdXBFbGVtZW50LCBwcm9wc1N0YWJsZTogcG9wdXBSZWZQcm9wcyB9IH0gPSB1c2VSZWZFbGVtZW50PFBvcHVwVHlwZT4oeyByZWZFbGVtZW50UGFyYW1ldGVyczoge30gfSk7XG5cbiAgICBjb25zdCBzdGF0ZUlzTW91c2UgPSB1c2VDYWxsYmFjaygoKSA9PiAoZ2V0U3RhdGUoKT8uc3RhcnRzV2l0aChcImhcIikgfHwgZmFsc2UpLCBbXSk7XG4gICAgY29uc3Qgc3RhdGVJc0ZvY3VzID0gdXNlQ2FsbGJhY2soKCkgPT4gKGdldFN0YXRlKCk/LnN0YXJ0c1dpdGgoXCJmXCIpIHx8IGZhbHNlKSwgW10pO1xuXG4gICAgY29uc3Qgb25Ib3ZlckNoYW5nZWQgPSB1c2VDYWxsYmFjaygoaG92ZXJpbmc6IGJvb2xlYW4sIHdoaWNoOiBcInBvcHVwXCIgfCBcInRyaWdnZXJcIikgPT4ge1xuICAgICAgICBpZiAoaG92ZXJpbmcpIHtcbiAgICAgICAgICAgIHNldFN0YXRlKGBob3ZlcmluZy0ke3doaWNofWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0U3RhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICB9LCBbXSlcblxuICAgIGNvbnN0IG9uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWQgPSB1c2VDYWxsYmFjaygoZm9jdXNlZDogYm9vbGVhbiwgd2hpY2g6IFwicG9wdXBcIiB8IFwidHJpZ2dlclwiKSA9PiB7XG4gICAgICAgIGlmICghc3RhdGVJc01vdXNlKCkpIHtcbiAgICAgICAgICAgIGlmIChmb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgc2V0U3RhdGUoYGZvY3VzZWQtJHt3aGljaH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0U3RhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICB9LCBbc3RhdGVJc01vdXNlXSk7XG5cbiAgICBjb25zdCBvblRyaWdnZXJDdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZCA9IHVzZUNhbGxiYWNrKChmb2N1c2VkOiBib29sZWFuKSA9PiBvbkN1cnJlbnRGb2N1c2VkSW5uZXJDaGFuZ2VkKGZvY3VzZWQsIFwidHJpZ2dlclwiKSwgW29uQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWRdKTtcbiAgICBjb25zdCBvblBvcHVwQ3VycmVudEZvY3VzZWRJbm5lckNoYW5nZWQgPSB1c2VDYWxsYmFjaygoZm9jdXNlZDogYm9vbGVhbikgPT4gb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZChmb2N1c2VkLCBcInBvcHVwXCIpLCBbb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZF0pO1xuICAgIGNvbnN0IHsgaGFzQ3VycmVudEZvY3VzUmV0dXJuOiB0cmlnZ2VyRm9jdXNSZXR1cm4gfSA9IHVzZUhhc0N1cnJlbnRGb2N1czxUcmlnZ2VyVHlwZT4oeyBoYXNDdXJyZW50Rm9jdXNQYXJhbWV0ZXJzOiB7IG9uQ3VycmVudEZvY3VzZWRDaGFuZ2VkOiBudWxsLCBvbkN1cnJlbnRGb2N1c2VkSW5uZXJDaGFuZ2VkOiBvblRyaWdnZXJDdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZCB9LCByZWZFbGVtZW50UmV0dXJuOiB7IGdldEVsZW1lbnQ6IGdldFRyaWdnZXJFbGVtZW50IH0gfSk7XG4gICAgY29uc3QgeyBoYXNDdXJyZW50Rm9jdXNSZXR1cm46IHBvcHVwRm9jdXNSZXR1cm4gfSA9IHVzZUhhc0N1cnJlbnRGb2N1czxQb3B1cFR5cGU+KHsgaGFzQ3VycmVudEZvY3VzUGFyYW1ldGVyczogeyBvbkN1cnJlbnRGb2N1c2VkQ2hhbmdlZDogbnVsbCwgb25DdXJyZW50Rm9jdXNlZElubmVyQ2hhbmdlZDogb25Qb3B1cEN1cnJlbnRGb2N1c2VkSW5uZXJDaGFuZ2VkIH0sIHJlZkVsZW1lbnRSZXR1cm46IHsgZ2V0RWxlbWVudDogZ2V0UG9wdXBFbGVtZW50IH0gfSk7XG5cbiAgICBjb25zdCB7XG4gICAgICAgIHJlZkVsZW1lbnRQb3B1cFJldHVybixcbiAgICAgICAgcmVmRWxlbWVudFNvdXJjZVJldHVyblxuICAgIH0gPSB1c2VEaXNtaXNzPERpc21pc3NMaXN0ZW5lclR5cGVzLCBUcmlnZ2VyVHlwZSwgUG9wdXBUeXBlPih7XG4gICAgICAgIGRpc21pc3NQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBjbG9zZU9uQmFja2Ryb3A6IGZhbHNlLCAgICAgLy8gd2UgaGFuZGxlIHRoaXMgb3Vyc2VsdmVzICBcbiAgICAgICAgICAgIGNsb3NlT25Mb3N0Rm9jdXM6IGZhbHNlLCAgICAvLyBhbmQgaXQgaW50ZXJmZXJlcyB3aXRoIG91ciBvd24gZm9jdXMgbG9naWMgKG9yLCBvdXIgb25DbG9zZSB0aGVyZSBkb2VzKVxuICAgICAgICAgICAgY2xvc2VPbkVzY2FwZTogdHJ1ZSxcbiAgICAgICAgICAgIG9wZW46IG9wZW5Mb2NhbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRTdGF0ZShudWxsKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgICBlc2NhcGVEaXNtaXNzUGFyYW1ldGVycyxcbiAgICB9KTtcblxuXG5cbiAgICBjb25zdCBvdGhlclBvcHVwUHJvcHMgPSB7XG4gICAgICAgIG9uUG9pbnRlckVudGVyOiB1c2VDYWxsYmFjaygoKSA9PiB7IG9uSG92ZXJDaGFuZ2VkKHRydWUsIFwicG9wdXBcIikgfSwgW10pLFxuICAgICAgICAvL29uUG9pbnRlckxlYXZlOiB1c2VDYWxsYmFjaygoKSA9PiB7IG9uSG92ZXJDaGFuZ2VkKGZhbHNlLCBcInBvcHVwXCIpIH0sIFtdKVxuICAgIH1cbiAgICBjb25zdCBvdGhlclRyaWdnZXJQcm9wcyA9IHtcbiAgICAgICAgb25Qb2ludGVyRW50ZXI6IHVzZUNhbGxiYWNrKCgpID0+IHsgb25Ib3ZlckNoYW5nZWQodHJ1ZSwgXCJ0cmlnZ2VyXCIpIH0sIFtdKSxcbiAgICAgICAgLy9vblBvaW50ZXJMZWF2ZTogdXNlQ2FsbGJhY2soKCkgPT4geyBvbkhvdmVyQ2hhbmdlZChmYWxzZSwgXCJ0cmlnZ2VyXCIpIH0sIFtdKVxuICAgIH1cblxuICAgIHVzZUdsb2JhbEhhbmRsZXIoZG9jdW1lbnQsIFwicG9pbnRlcm1vdmVcIiwgIW9wZW5Mb2NhbCA/IG51bGwgOiAoZSA9PiB7XG4gICAgICAgIGNvbnN0IHBvcHVwRWxlbWVudCA9IGdldFBvcHVwRWxlbWVudCgpO1xuICAgICAgICBjb25zdCB0cmlnZ2VyRWxlbWVudCA9IGdldFRyaWdnZXJFbGVtZW50KCk7XG4gICAgICAgIGNvbnN0IG1vdXNlRWxlbWVudCA9IGUudGFyZ2V0IGFzIE5vZGUgfCBudWxsO1xuICAgICAgICBsZXQgb3ZlclBvcHVwID0gKHBvcHVwRWxlbWVudD8uY29udGFpbnMobW91c2VFbGVtZW50KSlcbiAgICAgICAgbGV0IG92ZXJUcmlnZ2VyID0gKHRyaWdnZXJFbGVtZW50Py5jb250YWlucyhtb3VzZUVsZW1lbnQpKVxuICAgICAgICBpZiAoIW92ZXJQb3B1cCAmJiAhb3ZlclRyaWdnZXIgJiYgc3RhdGVJc01vdXNlKCkpIHtcbiAgICAgICAgICAgIG9uSG92ZXJDaGFuZ2VkKGZhbHNlLCBcInBvcHVwXCIpO1xuICAgICAgICB9XG4gICAgfSksIHsgY2FwdHVyZTogdHJ1ZSwgcGFzc2l2ZTogdHJ1ZSB9KVxuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9wc1BvcHVwOiB1c2VNZXJnZWRQcm9wczxQb3B1cFR5cGU+KHBvcHVwUmVmUHJvcHMsIHByb3BzUG9wdXAsIHBvcHVwRm9jdXNSZXR1cm4ucHJvcHNTdGFibGUsIHsgcm9sZTogXCJ0b29sdGlwXCIgfSwgb3RoZXJQb3B1cFByb3BzLCByZWZFbGVtZW50UG9wdXBSZXR1cm4ucHJvcHNTdGFibGUpLFxuICAgICAgICBwcm9wc1RyaWdnZXI6IHVzZU1lcmdlZFByb3BzPFRyaWdnZXJUeXBlPih0cmlnZ2VyUmVmUHJvcHMsIHByb3BzVHJpZ2dlciwgdHJpZ2dlckZvY3VzUmV0dXJuLnByb3BzU3RhYmxlLCB7IG9uQ2xpY2s6IHVzZVN0YWJsZUNhbGxiYWNrKGUgPT4gKGUuY3VycmVudFRhcmdldCBhcyBFbGVtZW50IGFzIEhUTUxFbGVtZW50KT8uZm9jdXM/LigpKSB9LCBvdGhlclRyaWdnZXJQcm9wcywgcmVmRWxlbWVudFNvdXJjZVJldHVybi5wcm9wc1N0YWJsZSksXG4gICAgICAgIHRvb2x0aXBSZXR1cm46IHtcbiAgICAgICAgICAgIGdldFN0YXRlLFxuICAgICAgICAgICAgc3RhdGVJc0ZvY3VzLFxuICAgICAgICAgICAgc3RhdGVJc01vdXNlXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlVG9vbHRpcFJldHVyblR5cGU8VHJpZ2dlclR5cGUgZXh0ZW5kcyBFbGVtZW50LCBQb3B1cFR5cGUgZXh0ZW5kcyBFbGVtZW50PiB7XG4gICAgcHJvcHNQb3B1cDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8UG9wdXBUeXBlPjtcbiAgICBwcm9wc1RyaWdnZXI6IGguSlNYLkhUTUxBdHRyaWJ1dGVzPFRyaWdnZXJUeXBlPjtcbiAgICB0b29sdGlwUmV0dXJuOiB7XG4gICAgICAgIGdldFN0YXRlKCk6IFRvb2x0aXBTdGF0ZTtcbiAgICAgICAgc3RhdGVJc0ZvY3VzKCk6IGJvb2xlYW47XG4gICAgICAgIHN0YXRlSXNNb3VzZSgpOiBib29sZWFuO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDb250ZXh0LCBjcmVhdGVDb250ZXh0IH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgR2V0SW5kZXgsIFVzZVNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVycyB9IGZyb20gXCJwcmVhY3QtcHJvcC1oZWxwZXJzXCI7XG5pbXBvcnQgeyBGb3J3YXJkRm4sIGZvcndhcmRSZWYsIG1lbW8sIHVzZUNvbnRleHQgfSBmcm9tIFwicHJlYWN0L2NvbXBhdFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gbWVtb0ZvcndhcmRSZWY8VCBleHRlbmRzIEZvcndhcmRGbjxhbnksIGFueT4+KGZuOiBUKTogVCB7XG4gICAgcmV0dXJuIG1lbW8oZm9yd2FyZFJlZihmbikpIGFzIFQ7XG59XG5cbmV4cG9ydCBjb25zdCBDb250ZXh0RGVmYXVsdHMgPSB7XG4gICAgY29sbGF0b3I6IGNyZWF0ZUNvbnRleHQ8SW50bC5Db2xsYXRvciB8IG51bGw+KG51bGwpLFxuICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZTogY3JlYXRlQ29udGV4dDxudW1iZXI+KDAuMSksXG4gICAgdHlwZWFoZWFkVGltZW91dDogY3JlYXRlQ29udGV4dCgxMDAwKSxcbiAgICBub1R5cGVhaGVhZDogY3JlYXRlQ29udGV4dChmYWxzZSksXG4gICAgZ2V0SW5kZXg6IGNyZWF0ZUNvbnRleHQ8R2V0SW5kZXg8YW55Pj4odiA9PiB2LnByb3BzLmluZGV4KSxcbiAgICBkaXNhYmxlQXJyb3dLZXlzOiBjcmVhdGVDb250ZXh0KGZhbHNlKSxcbiAgICBkaXNhYmxlSG9tZUVuZEtleXM6IGNyZWF0ZUNvbnRleHQoZmFsc2UpLFxuICAgIGdldFdpbmRvdzogY3JlYXRlQ29udGV4dCgoKSA9PiBnbG9iYWxUaGlzLndpbmRvdyBhcyBXaW5kb3cpLFxuICAgIGZvY3VzT3BlbmVyOiBjcmVhdGVDb250ZXh0KChlOiBhbnkpID0+IGU/LmZvY3VzPy4oKSksXG4gICAgZ2V0VGV4dDogY3JlYXRlQ29udGV4dCgoZTogYW55KSA9PiAoZT8udGV4dENvbnRlbnQgPz8gXCJcIikgYXMgc3RyaW5nIHwgbnVsbCksXG4gICAgc2VsZWN0aW9uTW9kZTogY3JlYXRlQ29udGV4dDxVc2VTaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM8YW55PltcInNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyc1wiXVtcInNlbGVjdGlvbk1vZGVcIl0+KFwiYWN0aXZhdGlvblwiKSxcbn1cblxudHlwZSBEZWZhdWx0RXhjZXB0cyA9IGtleW9mIHR5cGVvZiBDb250ZXh0RGVmYXVsdHM7XG5cbnR5cGUgQ29udGV4dFR5cGU8VCBleHRlbmRzIENvbnRleHQ8YW55Pj4gPSBUIGV4dGVuZHMgQ29udGV4dDxpbmZlciBDPiA/IEMgOiB1bmtub3duO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlRGVmYXVsdDxLIGV4dGVuZHMgRGVmYXVsdEV4Y2VwdHM+KGNvbnRleHQ6IEssIHVzZXJWYWx1ZTogdW5kZWZpbmVkIHwgQ29udGV4dFR5cGU8KHR5cGVvZiBDb250ZXh0RGVmYXVsdHMpW0tdPik6IENvbnRleHRUeXBlPCh0eXBlb2YgQ29udGV4dERlZmF1bHRzKVtLXT4ge1xuICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IHVzZUNvbnRleHQ8Q29udGV4dFR5cGU8KHR5cGVvZiBDb250ZXh0RGVmYXVsdHMpW0tdPj4oQ29udGV4dERlZmF1bHRzW2NvbnRleHRdIGFzIENvbnRleHQ8YW55Pik7XG4gICAgcmV0dXJuIHVzZXJWYWx1ZSA/PyBkZWZhdWx0VmFsdWU7XG59XG5cbmV4cG9ydCBjb25zdCBQYXJlbnREZXB0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0KDApO1xuXG50eXBlIFBhcnRpYWxFeGNlcHREPFQsIEtlZXBSZXF1aXJlZCBleHRlbmRzIGtleW9mIFQ+ID0gUGFydGlhbDxQaWNrPFQsIEV4Y2x1ZGU8a2V5b2YgVCwgS2VlcFJlcXVpcmVkPj4+ICYgUGljazxULCBLZWVwUmVxdWlyZWQ+O1xuZXhwb3J0IHR5cGUgUGFydGlhbEV4Y2VwdDxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBQYXJ0aWFsRXhjZXB0RDxULCBLPjtcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIFJlZiwgVk5vZGUgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyByZXR1cm5UcnVlIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyB1c2VBY2NvcmRpb24sIFVzZUFjY29yZGlvbkNvbnRleHQsIFVzZUFjY29yZGlvblBhcmFtZXRlcnMsIFVzZUFjY29yZGlvblJldHVyblR5cGUsIHVzZUFjY29yZGlvblNlY3Rpb24sIFVzZUFjY29yZGlvblNlY3Rpb25JbmZvLCBVc2VBY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVycywgVXNlQWNjb3JkaW9uU2VjdGlvblJldHVyblR5cGUgfSBmcm9tIFwiLi4vdXNlLWFjY29yZGlvblwiO1xuaW1wb3J0IHsgbWVtb0ZvcndhcmRSZWYsIFBhcnRpYWxFeGNlcHQsIHVzZURlZmF1bHQgfSBmcm9tIFwiLi91dGlsXCI7XG5cbnR5cGUgR2V0PFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFRbS107XG5cbmludGVyZmFjZSBBY2NvcmRpb25Qcm9wc0Jhc2U8SGVhZGVyQnV0dG9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHNcbiAgICBHZXQ8VXNlQWNjb3JkaW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4sIFwiYWNjb3JkaW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlQWNjb3JkaW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4sIFwidHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUFjY29yZGlvblBhcmFtZXRlcnM8SGVhZGVyQnV0dG9uRWxlbWVudCwgVXNlQWNjb3JkaW9uU2VjdGlvbkluZm8+LCBcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VBY2NvcmRpb25QYXJhbWV0ZXJzPEhlYWRlckJ1dHRvbkVsZW1lbnQsIFVzZUFjY29yZGlvblNlY3Rpb25JbmZvPiwgXCJtYW5hZ2VkQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+IHtcbiAgICByZWY/OiBSZWY8VXNlQWNjb3JkaW9uUmV0dXJuVHlwZTxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4+O1xufVxuXG5pbnRlcmZhY2UgQWNjb3JkaW9uU2VjdGlvblByb3BzQmFzZTxIZWFkZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgSGVhZGVyQnV0dG9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIEJvZHlFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kc1xuICAgIEdldDxVc2VBY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4sIFwiYWNjb3JkaW9uU2VjdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUFjY29yZGlvblNlY3Rpb25QYXJhbWV0ZXJzPEhlYWRlckJ1dHRvbkVsZW1lbnQsIFVzZUFjY29yZGlvblNlY3Rpb25JbmZvPiwgXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VBY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4sIFwiYnV0dG9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlQWNjb3JkaW9uU2VjdGlvblBhcmFtZXRlcnM8SGVhZGVyQnV0dG9uRWxlbWVudCwgVXNlQWNjb3JkaW9uU2VjdGlvbkluZm8+LCBcInJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VBY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VBY2NvcmRpb25TZWN0aW9uUGFyYW1ldGVyczxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4sIFwicHJlc3NQYXJhbWV0ZXJzXCI+IHtcbiAgICByZWY/OiBSZWY8VXNlQWNjb3JkaW9uU2VjdGlvblJldHVyblR5cGU8SGVhZGVyRWxlbWVudCwgSGVhZGVyQnV0dG9uRWxlbWVudCwgQm9keUVsZW1lbnQ+Pjtcbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIEFjY29yZGlvblByb3BzPEhlYWRlckJ1dHRvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8QWNjb3JkaW9uUHJvcHNCYXNlPEhlYWRlckJ1dHRvbkVsZW1lbnQ+LCBcIm5hdmlnYXRpb25EaXJlY3Rpb25cIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VBY2NvcmRpb25SZXR1cm5UeXBlPEhlYWRlckJ1dHRvbkVsZW1lbnQsIFVzZUFjY29yZGlvblNlY3Rpb25JbmZvPik6IFZOb2RlPGFueT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWNjb3JkaW9uU2VjdGlvblByb3BzPEhlYWRlckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBIZWFkZXJCdXR0b25FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQm9keUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8QWNjb3JkaW9uU2VjdGlvblByb3BzQmFzZTxIZWFkZXJFbGVtZW50LCBIZWFkZXJCdXR0b25FbGVtZW50LCBCb2R5RWxlbWVudD4sIFwiaW5kZXhcIiB8IFwidGFnQnV0dG9uXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlQWNjb3JkaW9uU2VjdGlvblJldHVyblR5cGU8SGVhZGVyRWxlbWVudCwgSGVhZGVyQnV0dG9uRWxlbWVudCwgQm9keUVsZW1lbnQ+KTogVk5vZGU8YW55Pjtcbn1cblxuXG5jb25zdCBBY2NvcmRpb25TZWN0aW9uQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VXNlQWNjb3JkaW9uQ29udGV4dDxhbnksIGFueT4+KG51bGwhKTtcbmV4cG9ydCBjb25zdCBBY2NvcmRpb24gPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBBY2NvcmRpb248SGVhZGVyQnV0dG9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBkaXNhYmxlQXJyb3dLZXlzLFxuICAgIGRpc2FibGVIb21lRW5kS2V5cyxcbiAgICBpbml0aWFsSW5kZXgsXG4gICAgbmF2aWdhdGlvbkRpcmVjdGlvbixcbiAgICBvbkFmdGVyQ2hpbGRMYXlvdXRFZmZlY3QsXG4gICAgb25DaGlsZHJlbk1vdW50Q2hhbmdlLFxuICAgIG5hdmlnYXRlUGFzdEVuZCxcbiAgICBuYXZpZ2F0ZVBhc3RTdGFydCxcbiAgICBwYWdlTmF2aWdhdGlvblNpemUsXG4gICAgbG9jYWxTdG9yYWdlS2V5LFxuICAgIGNvbGxhdG9yLFxuICAgIG5vVHlwZWFoZWFkLFxuICAgIHR5cGVhaGVhZFRpbWVvdXQsXG4gICAgaXNWYWxpZCxcbiAgICByZW5kZXIsXG4gICAgLi4uX3Jlc3Rcbn06IEFjY29yZGlvblByb3BzPEhlYWRlckJ1dHRvbkVsZW1lbnQ+LCByZWY/OiBSZWY8YW55Pikge1xuXG4gICAgY29uc3QgaW5mbyA9IHVzZUFjY29yZGlvbjxIZWFkZXJCdXR0b25FbGVtZW50LCBVc2VBY2NvcmRpb25TZWN0aW9uSW5mbz4oe1xuICAgICAgICBhY2NvcmRpb25QYXJhbWV0ZXJzOiB7IGluaXRpYWxJbmRleCwgbG9jYWxTdG9yYWdlS2V5OiBsb2NhbFN0b3JhZ2VLZXkgPz8gbnVsbCB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgaXNWYWxpZDogaXNWYWxpZCB8fCByZXR1cm5UcnVlLFxuICAgICAgICAgICAgY29sbGF0b3I6IHVzZURlZmF1bHQoXCJjb2xsYXRvclwiLCBjb2xsYXRvciksXG4gICAgICAgICAgICBub1R5cGVhaGVhZDogdXNlRGVmYXVsdChcIm5vVHlwZWFoZWFkXCIsIG5vVHlwZWFoZWFkKSxcbiAgICAgICAgICAgIHR5cGVhaGVhZFRpbWVvdXQ6IHVzZURlZmF1bHQoXCJ0eXBlYWhlYWRUaW1lb3V0XCIsIHR5cGVhaGVhZFRpbWVvdXQpXG4gICAgICAgIH0sXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBkaXNhYmxlQXJyb3dLZXlzOiB1c2VEZWZhdWx0KFwiZGlzYWJsZUFycm93S2V5c1wiLCBkaXNhYmxlQXJyb3dLZXlzKSxcbiAgICAgICAgICAgIGRpc2FibGVIb21lRW5kS2V5czogdXNlRGVmYXVsdChcImRpc2FibGVIb21lRW5kS2V5c1wiLCBkaXNhYmxlSG9tZUVuZEtleXMpLFxuICAgICAgICAgICAgbmF2aWdhdGlvbkRpcmVjdGlvbixcbiAgICAgICAgICAgIG5hdmlnYXRlUGFzdEVuZDogbmF2aWdhdGVQYXN0RW5kID8/IFwid3JhcFwiLFxuICAgICAgICAgICAgbmF2aWdhdGVQYXN0U3RhcnQ6IG5hdmlnYXRlUGFzdFN0YXJ0ID8/IFwid3JhcFwiLFxuICAgICAgICAgICAgcGFnZU5hdmlnYXRpb25TaXplOiB1c2VEZWZhdWx0KFwicGFnZU5hdmlnYXRpb25TaXplXCIsIHBhZ2VOYXZpZ2F0aW9uU2l6ZSlcbiAgICAgICAgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyczogeyBvbkFmdGVyQ2hpbGRMYXlvdXRFZmZlY3QsIG9uQ2hpbGRyZW5Nb3VudENoYW5nZSB9XG4gICAgfSk7XG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxBY2NvcmRpb25TZWN0aW9uQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mby5jb250ZXh0fT57cmVuZGVyKGluZm8pfTwvQWNjb3JkaW9uU2VjdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICAgKVxufSlcblxuZXhwb3J0IGNvbnN0IEFjY29yZGlvblNlY3Rpb24gPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBBY2NvcmRpb25TZWN0aW9uPEhlYWRlckNvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBIZWFkZXJCdXR0b25FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQm9keUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgb3BlbixcbiAgICBpbmRleCxcbiAgICB0YWdCdXR0b24sXG4gICAgZGlzYWJsZWQsXG4gICAgYm9keVJvbGUsXG4gICAgb25QcmVzcyxcbiAgICBoaWRkZW4sXG4gICAgZ2V0VGV4dCxcbiAgICByZW5kZXIsXG59OiBBY2NvcmRpb25TZWN0aW9uUHJvcHM8SGVhZGVyQ29udGFpbmVyRWxlbWVudCwgSGVhZGVyQnV0dG9uRWxlbWVudCwgQm9keUVsZW1lbnQ+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEFjY29yZGlvblNlY3Rpb25Db250ZXh0KSBhcyBVc2VBY2NvcmRpb25Db250ZXh0PEhlYWRlckJ1dHRvbkVsZW1lbnQsIFVzZUFjY29yZGlvblNlY3Rpb25JbmZvPjtcbiAgICBjb25zdCBpbmZvID0gdXNlQWNjb3JkaW9uU2VjdGlvbjxIZWFkZXJDb250YWluZXJFbGVtZW50LCBIZWFkZXJCdXR0b25FbGVtZW50LCBCb2R5RWxlbWVudD4oe1xuICAgICAgICBidXR0b25QYXJhbWV0ZXJzOiB7IGRpc2FibGVkOiBkaXNhYmxlZCA/PyBmYWxzZSwgdGFnQnV0dG9uLCBvblByZXNzOiBvblByZXNzID8/IG51bGwgfSxcbiAgICAgICAgYWNjb3JkaW9uU2VjdGlvblBhcmFtZXRlcnM6IHsgb3BlbiwgYm9keVJvbGU6IGJvZHlSb2xlID8/IFwicmVnaW9uXCIgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCwgfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuOiBoaWRkZW4gPz8gZmFsc2UgfSxcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7IGFsbG93UmVwZWF0UHJlc3NlczogZmFsc2UgfSxcblxuICAgICAgICByZWZFbGVtZW50UGFyYW1ldGVyczoge30sXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVyczoge1xuICAgICAgICAgICAgaGlkZGVuOiBoaWRkZW4gfHwgZmFsc2UsXG4gICAgICAgICAgICBnZXRUZXh0OiB1c2VEZWZhdWx0KFwiZ2V0VGV4dFwiLCBnZXRUZXh0KVxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuICAgIHJldHVybiByZW5kZXIoaW5mbyk7XG59KTtcbiIsImltcG9ydCB7IFJlZiwgVk5vZGUgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgT21pdFN0cm9uZyB9IGZyb20gXCIuLi9wcm9wc1wiO1xuaW1wb3J0IHsgdXNlQnV0dG9uLCBVc2VCdXR0b25QYXJhbWV0ZXJzLCBVc2VCdXR0b25SZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3VzZS1idXR0b25cIjtcbmltcG9ydCB7IG1lbW9Gb3J3YXJkUmVmLCBQYXJ0aWFsRXhjZXB0IH0gZnJvbSBcIi4vdXRpbFwiO1xuXG50eXBlIEdldDxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBOb25OdWxsYWJsZTxUW0tdPjtcblxuaW50ZXJmYWNlIEJ1dHRvblByb3BzQmFzZTxFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kc1xuICAgIE9taXRTdHJvbmc8R2V0PFVzZUJ1dHRvblBhcmFtZXRlcnM8RT4sIFwiYnV0dG9uUGFyYW1ldGVyc1wiPiwgXCJyb2xlXCI+LFxuICAgIE9taXRTdHJvbmc8R2V0PFVzZUJ1dHRvblBhcmFtZXRlcnM8RT4sIFwicHJlc3NQYXJhbWV0ZXJzXCI+LCBcImV4Y2x1ZGVTcGFjZVwiIHwgXCJleGNsdWRlUG9pbnRlclwiIHwgXCJleGNsdWRlRW50ZXJcIj4sXG4gICAgR2V0PFVzZUJ1dHRvblBhcmFtZXRlcnM8RT4sIFwicmVmRWxlbWVudFBhcmFtZXRlcnNcIj4ge1xuICAgIHJlZj86IFJlZjxVc2VCdXR0b25SZXR1cm5UeXBlPEU+Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCdXR0b25Qcm9wczxFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PEJ1dHRvblByb3BzQmFzZTxFPiwgXCJ0YWdCdXR0b25cIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VCdXR0b25SZXR1cm5UeXBlPEU+KTogVk5vZGU8YW55Pjtcbn1cblxuZXhwb3J0IGNvbnN0IEJ1dHRvbiA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIEJ1dHRvbjxFIGV4dGVuZHMgRWxlbWVudD4oeyB0YWdCdXR0b24sIG9uUHJlc3MsIHByZXNzZWQsIHJlbmRlciwgZGlzYWJsZWQsIG9uRWxlbWVudENoYW5nZSwgb25Nb3VudCwgb25Vbm1vdW50LCBhbGxvd1JlcGVhdFByZXNzZXMsIGxvbmdQcmVzc1RocmVzaG9sZCB9OiBCdXR0b25Qcm9wczxFPiwgcmVmOiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGluZm8gPSB1c2VCdXR0b248RT4oe1xuICAgICAgICBidXR0b25QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgICAgICAgdGFnQnV0dG9uOiB0YWdCdXR0b24sXG4gICAgICAgICAgICBvblByZXNzOiBvblByZXNzID8/IG51bGwsXG4gICAgICAgICAgICBwcmVzc2VkLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkID8/IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHByZXNzUGFyYW1ldGVyczogeyBsb25nUHJlc3NUaHJlc2hvbGQsIGFsbG93UmVwZWF0UHJlc3NlcyB9LFxuICAgICAgICByZWZFbGVtZW50UGFyYW1ldGVyczogeyBvbkVsZW1lbnRDaGFuZ2UsIG9uTW91bnQsIG9uVW5tb3VudCB9XG4gICAgfSk7XG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcbiAgICByZXR1cm4gcmVuZGVyKGluZm8pO1xufSlcbiIsImltcG9ydCB7IGNyZWF0ZUVsZW1lbnQsIGgsIFJlZiwgVk5vZGUgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyByZXR1cm5GYWxzZSwgdXNlUmVmRWxlbWVudCB9IGZyb20gXCJwcmVhY3QtcHJvcC1oZWxwZXJzXCI7XG5pbXBvcnQgeyB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgRWxlbWVudFRvVGFnIH0gZnJvbSBcIi4uL3Byb3BzXCI7XG5pbXBvcnQgeyB1c2VDaGVja2JveCwgVXNlQ2hlY2tib3hQYXJhbWV0ZXJzLCBVc2VDaGVja2JveFJldHVyblR5cGUgfSBmcm9tIFwiLi4vdXNlLWNoZWNrYm94XCI7XG5pbXBvcnQgeyBMYWJlbFBvc2l0aW9uIH0gZnJvbSBcIi4uL3VzZS1sYWJlbFwiO1xuaW1wb3J0IHsgbWVtb0ZvcndhcmRSZWYsIFBhcnRpYWxFeGNlcHQgfSBmcm9tIFwiLi91dGlsXCI7XG5cbnR5cGUgR2V0PFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFRbS107XG5cbmludGVyZmFjZSBDaGVja2JveFByb3BzQmFzZTxJIGV4dGVuZHMgRWxlbWVudCwgTCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHNcbiAgICBHZXQ8VXNlQ2hlY2tib3hQYXJhbWV0ZXJzPExhYmVsUG9zaXRpb24sIEksIEw+LCBcImNoZWNrYm94TGlrZVBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUNoZWNrYm94UGFyYW1ldGVyczxMYWJlbFBvc2l0aW9uLCBJLCBMPiwgXCJjaGVja2JveFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUNoZWNrYm94UGFyYW1ldGVyczxMYWJlbFBvc2l0aW9uLCBJLCBMPiwgXCJsYWJlbFBhcmFtZXRlcnNcIj4ge1xuICAgIHJlZj86IFJlZjxVc2VDaGVja2JveFJldHVyblR5cGU8SSwgTD4+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoZWNrYm94UHJvcHM8SSBleHRlbmRzIEVsZW1lbnQsIEwgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8Q2hlY2tib3hQcm9wc0Jhc2U8SSwgTD4sIFwidGFnSW5wdXRcIiB8IFwidGFnTGFiZWxcIiB8IFwibGFiZWxQb3NpdGlvblwiIHwgXCJhcmlhTGFiZWxcIiB8IFwiY2hlY2tlZFwiIHwgXCJvbkNoZWNrZWRDaGFuZ2VcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VDaGVja2JveFJldHVyblR5cGU8SSwgTD4pOiBWTm9kZTxhbnk+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlbmRlckNoZWNrYm94TGlrZTxJIGV4dGVuZHMgRWxlbWVudCwgTCBleHRlbmRzIEVsZW1lbnQsIEluZm9UeXBlPih7IGxhYmVsUG9zaXRpb24sIHRhZ0lucHV0LCB0YWdMYWJlbCwgbWFrZVByb3BzSW5wdXQsIG1ha2VQcm9wc0xhYmVsIH06IERlZmF1bHRSZW5kZXJDaGVja2JveExpa2VQYXJhbWV0ZXJzPEksIEwsIEluZm9UeXBlPikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaW5mbzogSW5mb1R5cGUpOiBWTm9kZTxhbnk+IHtcblxuICAgICAgICBjb25zdCBpbnB1dFByb3BzID0gKG1ha2VQcm9wc0lucHV0KGluZm8pKVxuICAgICAgICBjb25zdCB7IGNoaWxkcmVuLCAuLi5sYWJlbFByb3BzIH0gPSAobWFrZVByb3BzTGFiZWwoaW5mbykpXG4gICAgICAgIGlmIChsYWJlbFBvc2l0aW9uID09IFwid3JhcHBpbmdcIikge1xuXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGNyZWF0ZUVsZW1lbnQodGFnSW5wdXQgYXMgbmV2ZXIsIGlucHV0UHJvcHMpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBjcmVhdGVFbGVtZW50KHRhZ0xhYmVsIGFzIG5ldmVyLCB7IC4uLmxhYmVsUHJvcHMsIGNoaWxkcmVuOiA8PntpbnB1dH17Y2hpbGRyZW59PC8+IH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYWJlbFBvc2l0aW9uID09IFwic2VwYXJhdGVcIikge1xuXG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGNyZWF0ZUVsZW1lbnQodGFnSW5wdXQgYXMgbmV2ZXIsIGlucHV0UHJvcHMpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBjcmVhdGVFbGVtZW50KHRhZ0xhYmVsIGFzIG5ldmVyLCB7IGNoaWxkcmVuLCAuLi5sYWJlbFByb3BzIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHtpbnB1dH1cbiAgICAgICAgICAgICAgICAgICAge2xhYmVsfVxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoISFpbnB1dFByb3BzW1wiYXJpYS1sYWJlbFwiXSk7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCh0YWdJbnB1dCBhcyBuZXZlciwgaW5wdXRQcm9wcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVmYXVsdFJlbmRlckNoZWNrYm94TGlrZVBhcmFtZXRlcnM8SSBleHRlbmRzIEVsZW1lbnQsIEwgZXh0ZW5kcyBFbGVtZW50LCBJbmZvVHlwZT4ge1xuICAgIGxhYmVsUG9zaXRpb246IFwid3JhcHBpbmdcIiB8IFwic2VwYXJhdGVcIiB8IFwiaGlkZGVuXCIsXG4gICAgdGFnSW5wdXQ6IEVsZW1lbnRUb1RhZzxJPixcbiAgICB0YWdMYWJlbDogRWxlbWVudFRvVGFnPEw+LFxuICAgIG1ha2VQcm9wc0lucHV0OiAoaW5mbzogSW5mb1R5cGUpID0+IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEk+LFxuICAgIG1ha2VQcm9wc0xhYmVsOiAoaW5mbzogSW5mb1R5cGUpID0+IGguSlNYLkhUTUxBdHRyaWJ1dGVzPEw+XG59XG5cbmV4cG9ydCBjb25zdCBDaGVja2JveCA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIENoZWNrYm94PEkgZXh0ZW5kcyBFbGVtZW50LCBMIGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIGNoZWNrZWQsXG4gICAgZGlzYWJsZWQsXG4gICAgdGFnTGFiZWwsXG4gICAgbGFiZWxQb3NpdGlvbixcbiAgICB0YWdJbnB1dCxcbiAgICBhcmlhTGFiZWwsXG4gICAgb25DaGVja2VkQ2hhbmdlLFxuICAgIHJlbmRlclxufTogQ2hlY2tib3hQcm9wczxJLCBMPiwgcmVmOiBSZWY8YW55Pikge1xuXG4gICAgY29uc3QgeyByZWZFbGVtZW50UmV0dXJuOiByZWZFbGVtZW50SW5wdXRSZXR1cm4gfSA9IHVzZVJlZkVsZW1lbnQ8ST4oeyByZWZFbGVtZW50UGFyYW1ldGVyczoge30gfSk7XG4gICAgY29uc3QgeyByZWZFbGVtZW50UmV0dXJuOiByZWZFbGVtZW50TGFiZWxSZXR1cm4gfSA9IHVzZVJlZkVsZW1lbnQ8TD4oeyByZWZFbGVtZW50UGFyYW1ldGVyczoge30gfSk7XG5cbiAgICBjb25zdCBjaGVja2JveCA9IHVzZUNoZWNrYm94PExhYmVsUG9zaXRpb24sIEksIEw+KHtcbiAgICAgICAgY2hlY2tib3hMaWtlUGFyYW1ldGVyczogeyBjaGVja2VkOiBjaGVja2VkID8/IGZhbHNlLCBkaXNhYmxlZDogZGlzYWJsZWQgPz8gZmFsc2UgfSxcbiAgICAgICAgY2hlY2tib3hQYXJhbWV0ZXJzOiB7IG9uQ2hlY2tlZENoYW5nZSB9LFxuICAgICAgICBsYWJlbFBhcmFtZXRlcnM6IHsgYXJpYUxhYmVsOiBhcmlhTGFiZWwsIGxhYmVsUG9zaXRpb24sIHRhZ0lucHV0LCB0YWdMYWJlbCB9LFxuICAgICAgICByZWZFbGVtZW50SW5wdXRSZXR1cm4sXG4gICAgICAgIHJlZkVsZW1lbnRMYWJlbFJldHVybixcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7IGV4Y2x1ZGVTcGFjZTogcmV0dXJuRmFsc2UgfVxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBjaGVja2JveCk7XG5cblxuICAgIHJldHVybiByZW5kZXIoY2hlY2tib3gpO1xufSk7XG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBSZWYsIFJlbmRlcmFibGVQcm9wcywgVk5vZGUgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgT21pdFN0cm9uZyB9IGZyb20gXCIuLi9wcm9wc1wiO1xuaW1wb3J0IHsgQ2hlY2tib3hHcm91cENvbnRleHQsIENoZWNrYm94R3JvdXBJbmZvLCB1c2VDaGVja2JveEdyb3VwLCB1c2VDaGVja2JveEdyb3VwQ2hpbGQsIFVzZUNoZWNrYm94R3JvdXBDaGlsZFBhcmFtZXRlcnMsIFVzZUNoZWNrYm94R3JvdXBDaGlsZFJldHVyblR5cGUsIFVzZUNoZWNrYm94R3JvdXBQYXJhbWV0ZXJzLCB1c2VDaGVja2JveEdyb3VwUGFyZW50LCBVc2VDaGVja2JveEdyb3VwUGFyZW50UGFyYW1ldGVycywgVXNlQ2hlY2tib3hHcm91cFBhcmVudFJldHVyblR5cGUsIFVzZUNoZWNrYm94R3JvdXBSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3VzZS1jaGVja2JveC1ncm91cFwiO1xuaW1wb3J0IHsgbWVtb0ZvcndhcmRSZWYsIFBhcnRpYWxFeGNlcHQsIHVzZURlZmF1bHQgfSBmcm9tIFwiLi91dGlsXCI7XG5cbnR5cGUgR2V0PFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFRbS107XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2tib3hHcm91cFByb3BzQmFzZTxQYXJlbnRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgQ2hlY2tib3hHcm91cEluZm88VGFiYmFibGVDaGlsZEVsZW1lbnQ+PiBleHRlbmRzXG4gICAgUmVuZGVyYWJsZVByb3BzPHt9PixcbiAgICBHZXQ8VXNlQ2hlY2tib3hHcm91cFBhcmFtZXRlcnM8UGFyZW50RWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQsIE0+LCBcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VDaGVja2JveEdyb3VwUGFyYW1ldGVyczxQYXJlbnRFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudCwgTT4sIFwicmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlQ2hlY2tib3hHcm91cFBhcmFtZXRlcnM8UGFyZW50RWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQsIE0+LCBcInNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VDaGVja2JveEdyb3VwUGFyYW1ldGVyczxQYXJlbnRFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudCwgTT4sIFwidHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUNoZWNrYm94R3JvdXBQYXJhbWV0ZXJzPFBhcmVudEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50LCBNPiwgXCJzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUNoZWNrYm94R3JvdXBQYXJhbWV0ZXJzPFBhcmVudEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50LCBNPiwgXCJyb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnNcIj4ge1xuICAgIHJlZj86IFJlZjxVc2VDaGVja2JveEdyb3VwUmV0dXJuVHlwZTxQYXJlbnRFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudCwgTT4+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENoZWNrYm94R3JvdXBQYXJlbnRQcm9wc0Jhc2U8VENFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kc1xuICAgIEdldDxVc2VDaGVja2JveEdyb3VwUGFyZW50UGFyYW1ldGVyczxUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+LCBcIm1hbmFnZWRDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUNoZWNrYm94R3JvdXBQYXJlbnRQYXJhbWV0ZXJzPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4sIFwicm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUNoZWNrYm94R3JvdXBQYXJlbnRQYXJhbWV0ZXJzPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4sIFwic29ydGFibGVDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUNoZWNrYm94R3JvdXBQYXJlbnRQYXJhbWV0ZXJzPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+LFxuICAgIE9taXRTdHJvbmc8R2V0PFVzZUNoZWNrYm94R3JvdXBQYXJlbnRQYXJhbWV0ZXJzPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4sIFwiY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyc1wiPiwgXCJjaGVja2JveEluZm9cIj4ge1xuICAgIHJlZj86IFJlZjxVc2VDaGVja2JveEdyb3VwUGFyZW50UmV0dXJuVHlwZTxUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDaGVja2JveEdyb3VwQ2hpbGRQcm9wc0Jhc2U8VENFIGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kc1xuICAgIEdldDxVc2VDaGVja2JveEdyb3VwQ2hpbGRQYXJhbWV0ZXJzPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4sIFwiY2hlY2tib3hHcm91cENoaWxkXCI+LFxuICAgIEdldDxVc2VDaGVja2JveEdyb3VwQ2hpbGRQYXJhbWV0ZXJzPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4sIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlQ2hlY2tib3hHcm91cENoaWxkUGFyYW1ldGVyczxUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+LCBcInJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VDaGVja2JveEdyb3VwQ2hpbGRQYXJhbWV0ZXJzPFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4sIFwic29ydGFibGVDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUNoZWNrYm94R3JvdXBDaGlsZFBhcmFtZXRlcnM8VENFLCBDaGVja2JveEdyb3VwSW5mbzxUQ0U+PiwgXCJ0ZXh0Q29udGVudFBhcmFtZXRlcnNcIj4ge1xuICAgIGZvY3VzU2VsZjogVXNlQ2hlY2tib3hHcm91cENoaWxkUGFyYW1ldGVyczxUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+W1wiY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyc1wiXVtcImZvY3VzU2VsZlwiXTtcbiAgICByZWY/OiBSZWY8VXNlQ2hlY2tib3hHcm91cENoaWxkUmV0dXJuVHlwZTxUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+Pjtcbn1cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2tib3hHcm91cFByb3BzPFBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBDaGVja2JveEdyb3VwSW5mbzxUYWJiYWJsZUNoaWxkRWxlbWVudD4+IGV4dGVuZHMgUGFydGlhbEV4Y2VwdDxDaGVja2JveEdyb3VwUHJvcHNCYXNlPFBhcmVudEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50LCBNPiwgXCJuYXZpZ2F0aW9uRGlyZWN0aW9uXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlQ2hlY2tib3hHcm91cFJldHVyblR5cGU8UGFyZW50RWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQsIE0+KTogVk5vZGU8YW55Pjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgQ2hlY2tib3hHcm91cFBhcmVudFByb3BzPFRDRSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgUGFydGlhbEV4Y2VwdDxDaGVja2JveEdyb3VwUGFyZW50UHJvcHNCYXNlPFRDRT4sIFwiaW5kZXhcIiB8IFwiZ2V0U29ydFZhbHVlXCIgfCBcImZvY3VzU2VsZlwiPiB7XG4gICAgcmVuZGVyKHBhcmVudENoZWNrYm94SW5mbzogVXNlQ2hlY2tib3hHcm91cFBhcmVudFJldHVyblR5cGU8VENFLCBDaGVja2JveEdyb3VwSW5mbzxUQ0U+Pik6IFZOb2RlPGFueT47XG59XG5leHBvcnQgaW50ZXJmYWNlIENoZWNrYm94R3JvdXBDaGlsZFByb3BzPFRDRSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgUGFydGlhbEV4Y2VwdDxDaGVja2JveEdyb3VwQ2hpbGRQcm9wc0Jhc2U8VENFPiwgXCJpbmRleFwiIHwgXCJjaGVja2VkXCIgfCBcIm9uQ2hhbmdlRnJvbVBhcmVudFwiIHwgXCJnZXRTb3J0VmFsdWVcIiB8IFwiZm9jdXNTZWxmXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlQ2hlY2tib3hHcm91cENoaWxkUmV0dXJuVHlwZTxUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+KTogVk5vZGU8YW55Pjtcbn1cblxuXG5jb25zdCBVc2VDaGVja2JveEdyb3VwQ2hpbGRDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxDaGVja2JveEdyb3VwQ29udGV4dDxhbnksIGFueSwgYW55Pj4obnVsbCEpO1xuXG5leHBvcnQgY29uc3QgQ2hlY2tib3hHcm91cCA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIENoZWNrYm94R3JvdXA8UGFyZW50RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIHJlbmRlcixcbiAgICBjb2xsYXRvcixcbiAgICBkaXNhYmxlQXJyb3dLZXlzLFxuICAgIGRpc2FibGVIb21lRW5kS2V5cyxcbiAgICBuYXZpZ2F0aW9uRGlyZWN0aW9uLFxuICAgIG5vVHlwZWFoZWFkLFxuICAgIHR5cGVhaGVhZFRpbWVvdXQsXG4gICAgb25UYWJiYWJsZUluZGV4Q2hhbmdlLFxuICAgIGNvbXBhcmUsXG4gICAgc3RhZ2dlcmVkLFxuICAgIGdldEluZGV4LFxuICAgIHVudGFiYmFibGUsXG4gICAgbmF2aWdhdGVQYXN0RW5kLFxuICAgIG5hdmlnYXRlUGFzdFN0YXJ0LFxuICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZSxcbiAgICAuLi5fcmVzdFxufTogQ2hlY2tib3hHcm91cFByb3BzPFBhcmVudEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50LCBDaGVja2JveEdyb3VwSW5mbzxUYWJiYWJsZUNoaWxkRWxlbWVudD4+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGluZm8gPSB1c2VDaGVja2JveEdyb3VwPFBhcmVudEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50Pih7XG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBkaXNhYmxlQXJyb3dLZXlzOiB1c2VEZWZhdWx0KFwiZGlzYWJsZUFycm93S2V5c1wiLCBkaXNhYmxlQXJyb3dLZXlzKSxcbiAgICAgICAgICAgIGRpc2FibGVIb21lRW5kS2V5czogdXNlRGVmYXVsdChcImRpc2FibGVIb21lRW5kS2V5c1wiLCBkaXNhYmxlSG9tZUVuZEtleXMpLFxuICAgICAgICAgICAgbmF2aWdhdGVQYXN0RW5kOiBuYXZpZ2F0ZVBhc3RFbmQgPz8gXCJ3cmFwXCIsXG4gICAgICAgICAgICBuYXZpZ2F0ZVBhc3RTdGFydDogbmF2aWdhdGVQYXN0U3RhcnQgPz8gXCJ3cmFwXCIsXG4gICAgICAgICAgICBuYXZpZ2F0aW9uRGlyZWN0aW9uLFxuICAgICAgICAgICAgcGFnZU5hdmlnYXRpb25TaXplOiB1c2VEZWZhdWx0KFwicGFnZU5hdmlnYXRpb25TaXplXCIsIHBhZ2VOYXZpZ2F0aW9uU2l6ZSlcbiAgICAgICAgfSxcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IHN0YWdnZXJlZDogc3RhZ2dlcmVkIHx8IGZhbHNlIH0sXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHsgZ2V0SW5kZXg6IHVzZURlZmF1bHQoXCJnZXRJbmRleFwiLCBnZXRJbmRleCkgfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiB7IG9uVGFiYmFibGVJbmRleENoYW5nZTogb25UYWJiYWJsZUluZGV4Q2hhbmdlID8/IG51bGwsIHVudGFiYmFibGU6IHVudGFiYmFibGUgPz8gZmFsc2UgfSxcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHsgY29tcGFyZTogY29tcGFyZSA/PyBudWxsIH0sXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBjb2xsYXRvcjogdXNlRGVmYXVsdChcImNvbGxhdG9yXCIsIGNvbGxhdG9yKSxcbiAgICAgICAgICAgIG5vVHlwZWFoZWFkOiB1c2VEZWZhdWx0KFwibm9UeXBlYWhlYWRcIiwgbm9UeXBlYWhlYWQpLFxuICAgICAgICAgICAgdHlwZWFoZWFkVGltZW91dDogdXNlRGVmYXVsdChcInR5cGVhaGVhZFRpbWVvdXRcIiwgdHlwZWFoZWFkVGltZW91dClcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxVc2VDaGVja2JveEdyb3VwQ2hpbGRDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtpbmZvLmNvbnRleHR9PlxuICAgICAgICAgICAge3JlbmRlcihpbmZvKX1cbiAgICAgICAgPC9Vc2VDaGVja2JveEdyb3VwQ2hpbGRDb250ZXh0LlByb3ZpZGVyPlxuICAgIClcbn0pO1xuXG5leHBvcnQgY29uc3QgQ2hlY2tib3hHcm91cFBhcmVudCA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIENoZWNrYm94R3JvdXBQYXJlbnQ8VENFIGV4dGVuZHMgRWxlbWVudD4oeyByZW5kZXIsIGluZGV4LCBmb2N1c1NlbGYsIGhpZGRlbiwgZ2V0VGV4dCwgZ2V0U29ydFZhbHVlLCAuLi5fcmVzdCB9OiBDaGVja2JveEdyb3VwUGFyZW50UHJvcHM8VENFPiwgcmVmPzogUmVmPGFueT4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gKHVzZUNvbnRleHQoVXNlQ2hlY2tib3hHcm91cENoaWxkQ29udGV4dCkgYXMgQ2hlY2tib3hHcm91cENvbnRleHQ8YW55LCBUQ0UsIENoZWNrYm94R3JvdXBJbmZvPFRDRT4+KTtcbiAgICBjb25zb2xlLmFzc2VydChjb250ZXh0ICE9IG51bGwsIGBUaGlzIENoZWNrYm94R3JvdXBQYXJlbnQgaXMgbm90IGNvbnRhaW5lZCB3aXRoaW4gYSBDaGVja2JveEdyb3VwYCk7XG5cbiAgICBjb25zdCBpbmZvID0gdXNlQ2hlY2tib3hHcm91cFBhcmVudDxUQ0U+KHtcblxuICAgICAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGZvY3VzU2VsZiwgY2hlY2tib3hJbmZvOiB7IGNoZWNrYm94Q2hpbGRUeXBlOiBcInBhcmVudFwiIH0gfSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogeyBoaWRkZW46IGhpZGRlbiA/PyBmYWxzZSB9LFxuICAgICAgICBzb3J0YWJsZUNoaWxkUGFyYW1ldGVyczogeyBnZXRTb3J0VmFsdWUgfSxcbiAgICAgICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzOiB7IGdldFRleHQ6IHVzZURlZmF1bHQoXCJnZXRUZXh0XCIsIGdldFRleHQpIH1cbiAgICB9KTtcblxuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmISwgKCkgPT4gaW5mbyk7XG4gICAgcmV0dXJuIHJlbmRlcihpbmZvKTtcbn0pXG5cbmV4cG9ydCBjb25zdCBDaGVja2JveEdyb3VwQ2hpbGQgPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBDaGVja2JveEdyb3VwQ2hpbGQ8VENFIGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIGluZGV4LFxuICAgIHJlbmRlcixcbiAgICBjaGVja2VkLFxuICAgIG9uQ2hhbmdlRnJvbVBhcmVudCxcbiAgICBnZXRTb3J0VmFsdWUsXG4gICAgaGlkZGVuLFxuICAgIGdldFRleHQsXG4gICAgZm9jdXNTZWxmLFxuICAgIC4uLl9yZXN0XG59OiBDaGVja2JveEdyb3VwQ2hpbGRQcm9wczxUQ0U+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGNvbnRleHQgPSAodXNlQ29udGV4dChVc2VDaGVja2JveEdyb3VwQ2hpbGRDb250ZXh0KSBhcyBDaGVja2JveEdyb3VwQ29udGV4dDxhbnksIFRDRSwgQ2hlY2tib3hHcm91cEluZm88VENFPj4pO1xuICAgIGNvbnNvbGUuYXNzZXJ0KGNvbnRleHQgIT0gbnVsbCwgYFRoaXMgQ2hlY2tib3hHcm91cENoaWxkIGlzIG5vdCBjb250YWluZWQgd2l0aGluIGEgQ2hlY2tib3hHcm91cGApO1xuICAgIGNvbnN0IGluZm8gPSB1c2VDaGVja2JveEdyb3VwQ2hpbGQoe1xuICAgICAgICBjaGVja2JveEdyb3VwQ2hpbGQ6IHsgY2hlY2tlZCwgb25DaGFuZ2VGcm9tUGFyZW50IH0sXG4gICAgICAgIGNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM6IHsgZm9jdXNTZWxmIH0sXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogeyBnZXRUZXh0OiB1c2VEZWZhdWx0KFwiZ2V0VGV4dFwiLCBnZXRUZXh0KSB9LFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4IH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzOiB7IGhpZGRlbjogaGlkZGVuID8/IGZhbHNlIH0sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzOiB7IGdldFNvcnRWYWx1ZSB9LFxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuICAgIHJldHVybiByZW5kZXIoaW5mbyk7XG59KTtcbiIsImltcG9ydCB7IFJlZiwgVk5vZGUgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tIFwicHJlYWN0L2NvbXBhdFwiO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSwgdXNlUmVmIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgdXNlRGlhbG9nLCBVc2VEaWFsb2dQYXJhbWV0ZXJzLCBVc2VEaWFsb2dSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3VzZS1kaWFsb2dcIjtcbmltcG9ydCB7IG1lbW9Gb3J3YXJkUmVmLCBQYXJlbnREZXB0aENvbnRleHQsIFBhcnRpYWxFeGNlcHQsIHVzZURlZmF1bHQgfSBmcm9tIFwiLi91dGlsXCI7XG5cbnR5cGUgR2V0PFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFRbS107XG5cbmludGVyZmFjZSBEaWFsb2dQcm9wc0Jhc2U8Rm9jdXNDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgU291cmNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIERpYWxvZ0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUaXRsZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzXG4gICAgR2V0PFVzZURpYWxvZ1BhcmFtZXRlcnM8RGlhbG9nRWxlbWVudCwgVGl0bGVFbGVtZW50PiwgXCJkaXNtaXNzUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlRGlhbG9nUGFyYW1ldGVyczxEaWFsb2dFbGVtZW50LCBUaXRsZUVsZW1lbnQ+LCBcImVzY2FwZURpc21pc3NQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VEaWFsb2dQYXJhbWV0ZXJzPERpYWxvZ0VsZW1lbnQsIFRpdGxlRWxlbWVudD4sIFwibGFiZWxQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VEaWFsb2dQYXJhbWV0ZXJzPERpYWxvZ0VsZW1lbnQsIFRpdGxlRWxlbWVudD4sIFwiZm9jdXNUcmFwUGFyYW1ldGVyc1wiPiB7XG4gICAgcmVmPzogUmVmPFVzZURpYWxvZ1JldHVyblR5cGU8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBEaWFsb2dFbGVtZW50LCBUaXRsZUVsZW1lbnQ+Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2dQcm9wczxGb2N1c0NvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgRGlhbG9nRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRpdGxlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgUGFydGlhbEV4Y2VwdDxEaWFsb2dQcm9wc0Jhc2U8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBEaWFsb2dFbGVtZW50LCBUaXRsZUVsZW1lbnQ+LCBcImFyaWFMYWJlbFwiIHwgXCJvbkNsb3NlXCIgfCBcIm9wZW5cIiB8IFwiZm9jdXNQb3B1cFwiPiB7XG5cbiAgICByZW5kZXIoZGlhbG9nSW5mbzogVXNlRGlhbG9nUmV0dXJuVHlwZTxGb2N1c0NvbnRhaW5lckVsZW1lbnQsIFNvdXJjZUVsZW1lbnQsIERpYWxvZ0VsZW1lbnQsIFRpdGxlRWxlbWVudD4pOiBWTm9kZTxhbnk+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlbmRlclBvcnRhbCh7IHBvcnRhbElkLCBjaGlsZHJlbiB9OiB7IHBvcnRhbElkOiBzdHJpbmcsIGNoaWxkcmVuOiBWTm9kZSB9KTogVk5vZGUge1xuICAgIGNvbnN0IHBvcnRhbFJlZiA9IHVzZVJlZjxIVE1MRWxlbWVudD4obnVsbCEpO1xuICAgIHBvcnRhbFJlZi5jdXJyZW50ID8/PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3J0YWxJZCkhO1xuICAgIGlmIChwb3J0YWxSZWYuY3VycmVudClcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVBvcnRhbChjaGlsZHJlbiwgcG9ydGFsUmVmLmN1cnJlbnQpO1xuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xufVxuXG5leHBvcnQgY29uc3QgRGlhbG9nID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gRGlhbG9nPEZvY3VzQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFNvdXJjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBEaWFsb2dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGl0bGVFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIG9uQ2xvc2UsXG4gICAgb3BlbixcbiAgICBjbG9zZU9uQmFja2Ryb3AsXG4gICAgY2xvc2VPbkVzY2FwZSxcbiAgICBmb2N1c09wZW5lcixcbiAgICBnZXRXaW5kb3csXG4gICAgcGFyZW50RGVwdGgsXG4gICAgZm9jdXNQb3B1cCxcbiAgICBhcmlhTGFiZWwsXG4gICAgcmVuZGVyXG59OiBEaWFsb2dQcm9wczxGb2N1c0NvbnRhaW5lckVsZW1lbnQsIFNvdXJjZUVsZW1lbnQsIERpYWxvZ0VsZW1lbnQsIFRpdGxlRWxlbWVudD4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgZGVmYXVsdFBhcmVudERlcHRoID0gdXNlQ29udGV4dChQYXJlbnREZXB0aENvbnRleHQpO1xuICAgIGxldCBteURlcHRoID0gKHBhcmVudERlcHRoID8/IGRlZmF1bHRQYXJlbnREZXB0aCkgKyAxO1xuXG4gICAgY29uc3QgaW5mbyA9IHVzZURpYWxvZzxGb2N1c0NvbnRhaW5lckVsZW1lbnQsIFNvdXJjZUVsZW1lbnQsIERpYWxvZ0VsZW1lbnQsIFRpdGxlRWxlbWVudD4oe1xuICAgICAgICBkaXNtaXNzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY2xvc2VPbkJhY2tkcm9wOiBjbG9zZU9uQmFja2Ryb3AgPz8gdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25Fc2NhcGU6IGNsb3NlT25Fc2NhcGUgPz8gdHJ1ZSxcbiAgICAgICAgICAgIG9uQ2xvc2UsXG4gICAgICAgICAgICBvcGVuXG4gICAgICAgIH0sXG4gICAgICAgIGVzY2FwZURpc21pc3NQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBnZXRXaW5kb3c6IHVzZURlZmF1bHQoXCJnZXRXaW5kb3dcIiwgZ2V0V2luZG93KSxcbiAgICAgICAgICAgIHBhcmVudERlcHRoOiBwYXJlbnREZXB0aCA/PyBkZWZhdWx0UGFyZW50RGVwdGhcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNUcmFwUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZm9jdXNPcGVuZXI6IHVzZURlZmF1bHQoXCJmb2N1c09wZW5lclwiLCBmb2N1c09wZW5lciksXG4gICAgICAgICAgICBmb2N1c1BvcHVwXG4gICAgICAgIH0sXG4gICAgICAgIGxhYmVsUGFyYW1ldGVyczogeyBhcmlhTGFiZWwgfVxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxQYXJlbnREZXB0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e215RGVwdGh9PlxuICAgICAgICAgICAge3JlbmRlcihpbmZvKX1cbiAgICAgICAgPC9QYXJlbnREZXB0aENvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcblxufSk7XG4iLCJpbXBvcnQgeyBSZWYsIFZOb2RlIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udGV4dCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IHVzZURyYXdlciwgVXNlRHJhd2VyUGFyYW1ldGVycywgVXNlRHJhd2VyUmV0dXJuVHlwZSB9IGZyb20gXCIuLi91c2UtZHJhd2VyXCI7XG5pbXBvcnQgeyBtZW1vRm9yd2FyZFJlZiwgUGFyZW50RGVwdGhDb250ZXh0LCBQYXJ0aWFsRXhjZXB0LCB1c2VEZWZhdWx0IH0gZnJvbSBcIi4vdXRpbFwiO1xuXG50eXBlIEdldDxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBUW0tdO1xuXG5pbnRlcmZhY2UgRHJhd2VyUHJvcHNCYXNlPEZvY3VzQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFNvdXJjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBEcmF3ZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGl0bGVFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kc1xuICAgIEdldDxVc2VEcmF3ZXJQYXJhbWV0ZXJzPERyYXdlckVsZW1lbnQsIFRpdGxlRWxlbWVudD4sIFwiZGlzbWlzc1BhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZURyYXdlclBhcmFtZXRlcnM8RHJhd2VyRWxlbWVudCwgVGl0bGVFbGVtZW50PiwgXCJlc2NhcGVEaXNtaXNzUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlRHJhd2VyUGFyYW1ldGVyczxEcmF3ZXJFbGVtZW50LCBUaXRsZUVsZW1lbnQ+LCBcImxhYmVsUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlRHJhd2VyUGFyYW1ldGVyczxEcmF3ZXJFbGVtZW50LCBUaXRsZUVsZW1lbnQ+LCBcImZvY3VzVHJhcFBhcmFtZXRlcnNcIj4ge1xuICAgIHJlZj86IFJlZjxVc2VEcmF3ZXJSZXR1cm5UeXBlPEZvY3VzQ29udGFpbmVyRWxlbWVudCwgU291cmNlRWxlbWVudCwgRHJhd2VyRWxlbWVudCwgVGl0bGVFbGVtZW50Pj47XG4gICAgcmVuZGVyKGRyYXdlckluZm86IFVzZURyYXdlclJldHVyblR5cGU8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBEcmF3ZXJFbGVtZW50LCBUaXRsZUVsZW1lbnQ+KTogVk5vZGU8YW55Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3ZXJQcm9wczxGb2N1c0NvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBTb3VyY2VFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgRGlhbG9nRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRpdGxlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgUGFydGlhbEV4Y2VwdDxEcmF3ZXJQcm9wc0Jhc2U8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBEaWFsb2dFbGVtZW50LCBUaXRsZUVsZW1lbnQ+LCBcImFyaWFMYWJlbFwiIHwgXCJvbkNsb3NlXCIgfCBcIm9wZW5cIiB8IFwiZm9jdXNQb3B1cFwiPiB7XG5cbiAgICByZW5kZXIoZGlhbG9nSW5mbzogVXNlRHJhd2VyUmV0dXJuVHlwZTxGb2N1c0NvbnRhaW5lckVsZW1lbnQsIFNvdXJjZUVsZW1lbnQsIERpYWxvZ0VsZW1lbnQsIFRpdGxlRWxlbWVudD4pOiBWTm9kZTxhbnk+O1xufVxuXG5leHBvcnQgY29uc3QgRHJhd2VyID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gRHJhd2VyPEZvY3VzQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFNvdXJjZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBEcmF3ZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGl0bGVFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuXG4gICAgY2xvc2VPbkJhY2tkcm9wLFxuICAgIGNsb3NlT25Fc2NhcGUsXG4gICAgY2xvc2VPbkxvc3RGb2N1cyxcbiAgICBmb2N1c09wZW5lcixcbiAgICBmb2N1c1BvcHVwLFxuICAgIGdldFdpbmRvdyxcbiAgICBvbkNsb3NlLFxuICAgIG9wZW4sXG4gICAgcGFyZW50RGVwdGgsXG4gICAgcmVuZGVyLFxuICAgIHRyYXBBY3RpdmUsXG4gICAgYXJpYUxhYmVsLFxufTogRHJhd2VyUHJvcHM8Rm9jdXNDb250YWluZXJFbGVtZW50LCBTb3VyY2VFbGVtZW50LCBEcmF3ZXJFbGVtZW50LCBUaXRsZUVsZW1lbnQ+LCByZWY6IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgZGVmYXVsdFBhcmVudERlcHRoID0gdXNlQ29udGV4dChQYXJlbnREZXB0aENvbnRleHQpO1xuICAgIGxldCBteURlcHRoID0gKHBhcmVudERlcHRoID8/IGRlZmF1bHRQYXJlbnREZXB0aCkgKyAxO1xuXG4gICAgY29uc3QgaW5mbyA9IHVzZURyYXdlcjxGb2N1c0NvbnRhaW5lckVsZW1lbnQsIFNvdXJjZUVsZW1lbnQsIERyYXdlckVsZW1lbnQsIFRpdGxlRWxlbWVudD4oe1xuICAgICAgICBkaXNtaXNzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY2xvc2VPbkJhY2tkcm9wOiBjbG9zZU9uQmFja2Ryb3AgPz8gdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25Fc2NhcGU6IGNsb3NlT25Fc2NhcGUgPz8gdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25Mb3N0Rm9jdXM6IGNsb3NlT25Mb3N0Rm9jdXMgPz8gdHJ1ZSxcbiAgICAgICAgICAgIG9uQ2xvc2UsXG4gICAgICAgICAgICBvcGVuXG4gICAgICAgIH0sXG4gICAgICAgIGVzY2FwZURpc21pc3NQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBnZXRXaW5kb3c6IHVzZURlZmF1bHQoXCJnZXRXaW5kb3dcIiwgZ2V0V2luZG93KSxcbiAgICAgICAgICAgIHBhcmVudERlcHRoOiBwYXJlbnREZXB0aCA/PyBkZWZhdWx0UGFyZW50RGVwdGhcbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNUcmFwUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZm9jdXNPcGVuZXI6IHVzZURlZmF1bHQoXCJmb2N1c09wZW5lclwiLCBmb2N1c09wZW5lciksXG4gICAgICAgICAgICBmb2N1c1BvcHVwLFxuICAgICAgICAgICAgdHJhcEFjdGl2ZTogdHJhcEFjdGl2ZSA/PyBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBsYWJlbFBhcmFtZXRlcnM6IHsgYXJpYUxhYmVsIH1cbiAgICB9KTtcbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFBhcmVudERlcHRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17bXlEZXB0aH0+XG4gICAgICAgICAgICB7cmVuZGVyKGluZm8pfVxuICAgICAgICA8L1BhcmVudERlcHRoQ29udGV4dC5Qcm92aWRlcj5cbiAgICApXG5cbn0pO1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgY3JlYXRlRWxlbWVudCwgaCwgUmVmLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBFbGVtZW50VG9UYWcgfSBmcm9tIFwiLi4vcHJvcHNcIjtcbmltcG9ydCB7IEdyaWRsaXN0Q2VsbEluZm8sIEdyaWRsaXN0Um93SW5mbywgdXNlR3JpZGxpc3QsIHVzZUdyaWRsaXN0Q2VsbCwgVXNlR3JpZGxpc3RDZWxsUGFyYW1ldGVycywgVXNlR3JpZGxpc3RDZWxsUmV0dXJuVHlwZSwgVXNlR3JpZGxpc3RDb250ZXh0LCBVc2VHcmlkbGlzdFBhcmFtZXRlcnMsIFVzZUdyaWRsaXN0UmV0dXJuVHlwZSwgdXNlR3JpZGxpc3RSb3csIFVzZUdyaWRsaXN0Um93Q29udGV4dCwgVXNlR3JpZGxpc3RSb3dQYXJhbWV0ZXJzLCBVc2VHcmlkbGlzdFJvd1JldHVyblR5cGUgfSBmcm9tIFwiLi4vdXNlLWdyaWRsaXN0XCI7XG5pbXBvcnQgeyBtZW1vRm9yd2FyZFJlZiwgUGFydGlhbEV4Y2VwdCwgdXNlRGVmYXVsdCB9IGZyb20gXCIuL3V0aWxcIjtcblxudHlwZSBHZXQ8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gVFtLXTtcbnR5cGUgR2V0MjxULCBLIGV4dGVuZHMga2V5b2YgVCwgSzIgZXh0ZW5kcyBrZXlvZiBUW0tdPiA9IFRbS11bSzJdO1xuXG5pbnRlcmZhY2UgR3JpZGxpc3RQcm9wc0Jhc2U8R3JpZGxpc3RFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZGxpc3RSb3dJbmZvPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZGxpc3RDZWxsSW5mbzxHcmlkbGlzdENlbGxFbGVtZW50Pj4gZXh0ZW5kc1xuICAgIEdldDxVc2VHcmlkbGlzdFBhcmFtZXRlcnM8R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUk0+LCBcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VHcmlkbGlzdFBhcmFtZXRlcnM8R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUk0+LCBcInJvdmluZ1RhYkluZGV4UGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlR3JpZGxpc3RQYXJhbWV0ZXJzPEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJNPiwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlR3JpZGxpc3RQYXJhbWV0ZXJzPEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJNPiwgXCJncmlkTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUdyaWRsaXN0UGFyYW1ldGVyczxHcmlkbGlzdEVsZW1lbnQsIEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgTGFiZWxFbGVtZW50LCBSTT4sIFwicmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlR3JpZGxpc3RQYXJhbWV0ZXJzPEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJNPiwgXCJzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlR3JpZGxpc3RQYXJhbWV0ZXJzPEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJNPiwgXCJwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUdyaWRsaXN0UGFyYW1ldGVyczxHcmlkbGlzdEVsZW1lbnQsIEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgTGFiZWxFbGVtZW50LCBSTT4sIFwic3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VHcmlkbGlzdFBhcmFtZXRlcnM8R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUk0+LCBcImxhYmVsUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlR3JpZGxpc3RQYXJhbWV0ZXJzPEdyaWRsaXN0RWxlbWVudCwgR3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJNPiwgXCJncmlkbGlzdFBhcmFtZXRlcnNcIj4ge1xuICAgIHJlZj86IFJlZjxVc2VHcmlkbGlzdFJldHVyblR5cGU8R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUk0sIENNPj47XG59XG5cbmludGVyZmFjZSBHcmlkbGlzdFJvd1Byb3BzQmFzZTxHcmlkbGlzdFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUk0gZXh0ZW5kcyBHcmlkbGlzdFJvd0luZm88R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPEdyaWRsaXN0Q2VsbEVsZW1lbnQ+PiBleHRlbmRzXG4gICAgR2V0MjxVc2VHcmlkbGlzdFJvd1BhcmFtZXRlcnM8R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+LCBcInJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzXCIsIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQyPFVzZUdyaWRsaXN0Um93UGFyYW1ldGVyczxHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIFJNLCBDTT4sIFwicm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnNcIiwgXCJzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0MjxVc2VHcmlkbGlzdFJvd1BhcmFtZXRlcnM8R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+LCBcInJvd0FzQ2hpbGRPZkdyaWRQYXJhbWV0ZXJzXCIsIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDI8VXNlR3JpZGxpc3RSb3dQYXJhbWV0ZXJzPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJyb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyc1wiLCBcInJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDI8VXNlR3JpZGxpc3RSb3dQYXJhbWV0ZXJzPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJyb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyc1wiLCBcInNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDI8VXNlR3JpZGxpc3RSb3dQYXJhbWV0ZXJzPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJyb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzXCIsIFwibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0MjxVc2VHcmlkbGlzdFJvd1BhcmFtZXRlcnM8R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+LCBcInJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnNcIiwgXCJyb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0MjxVc2VHcmlkbGlzdFJvd1BhcmFtZXRlcnM8R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+LCBcInJvd0FzUGFyZW50T2ZDZWxsc1BhcmFtZXRlcnNcIiwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQyPFVzZUdyaWRsaXN0Um93UGFyYW1ldGVyczxHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIFJNLCBDTT4sIFwicm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnNcIiwgXCJncmlkbGlzdFJvd1BhcmFtZXRlcnNcIj4ge1xuICAgIHJlZj86IFJlZjxVc2VHcmlkbGlzdFJvd1JldHVyblR5cGU8R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50LCBSTSwgQ00+Pjtcbn1cblxuaW50ZXJmYWNlIEdyaWRsaXN0Q2hpbGRQcm9wc0Jhc2U8Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgR3JpZGxpc3RDZWxsSW5mbzxDZWxsRWxlbWVudD4+IGV4dGVuZHNcbiAgICBHZXQ8VXNlR3JpZGxpc3RDZWxsUGFyYW1ldGVyczxDZWxsRWxlbWVudCwgTT4sIFwiZ3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlR3JpZGxpc3RDZWxsUGFyYW1ldGVyczxDZWxsRWxlbWVudCwgTT4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VHcmlkbGlzdENlbGxQYXJhbWV0ZXJzPENlbGxFbGVtZW50LCBNPiwgXCJyb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlR3JpZGxpc3RDZWxsUGFyYW1ldGVyczxDZWxsRWxlbWVudCwgTT4sIFwicHJlc3NQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VHcmlkbGlzdENlbGxQYXJhbWV0ZXJzPENlbGxFbGVtZW50LCBNPiwgXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCI+IHtcbiAgICBmb2N1c1NlbGY/OiBNW1wiZm9jdXNTZWxmXCJdO1xuICAgIHJlZj86IFJlZjxVc2VHcmlkbGlzdENlbGxSZXR1cm5UeXBlPENlbGxFbGVtZW50LCBNPj47XG59XG5cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgR3JpZGxpc3RQcm9wczxHcmlkbGlzdEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUk0gZXh0ZW5kcyBHcmlkbGlzdFJvd0luZm88R3JpZGxpc3RSb3dFbGVtZW50LCBHcmlkbGlzdENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPEdyaWRsaXN0Q2VsbEVsZW1lbnQ+PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8R3JpZGxpc3RQcm9wc0Jhc2U8R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUk0sIENNPiwgXCJzZWxlY3Rpb25MaW1pdFwiIHwgXCJncm91cGluZ1R5cGVcIiB8IFwiYXJpYUxhYmVsXCIgfCBcInNlbGVjdGVkSW5kZXhcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VHcmlkbGlzdFJldHVyblR5cGU8R3JpZGxpc3RFbGVtZW50LCBHcmlkbGlzdFJvd0VsZW1lbnQsIEdyaWRsaXN0Q2VsbEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUk0sIENNPik6IFZOb2RlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRsaXN0Um93UHJvcHM8R3JpZGxpc3RSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZGxpc3RSb3dJbmZvPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudD4sIENNIGV4dGVuZHMgR3JpZGxpc3RDZWxsSW5mbzxHcmlkbGlzdENlbGxFbGVtZW50Pj4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PEdyaWRsaXN0Um93UHJvcHNCYXNlPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJpbmRleFwiIHwgXCJhcmlhUHJvcE5hbWVcIiB8IFwiZ2V0U29ydFZhbHVlXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlR3JpZGxpc3RSb3dSZXR1cm5UeXBlPEdyaWRsaXN0Um93RWxlbWVudCwgR3JpZGxpc3RDZWxsRWxlbWVudCwgUk0sIENNPik6IFZOb2RlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdyaWRsaXN0Q2hpbGRQcm9wczxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPENlbGxFbGVtZW50Pj4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PEdyaWRsaXN0Q2hpbGRQcm9wc0Jhc2U8Q2VsbEVsZW1lbnQsIE0+LCBcImluZGV4XCIgfCBcImZvY3VzU2VsZlwiPiB7XG4gICAgcmVuZGVyKGluZm86IFVzZUdyaWRsaXN0Q2VsbFJldHVyblR5cGU8Q2VsbEVsZW1lbnQsIE0+KTogVk5vZGU7XG59XG5cbmNvbnN0IEdyaWRsaXN0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VXNlR3JpZGxpc3RDb250ZXh0PGFueSwgYW55LCBhbnksIGFueSwgYW55Pj4obnVsbCEpO1xuY29uc3QgR3JpZGxpc3RSb3dDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxVc2VHcmlkbGlzdFJvd0NvbnRleHQ8YW55LCBhbnksIGFueT4+KG51bGwhKTtcblxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJlbmRlckdyaWRsaXN0Um93PFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgR3JpZGxpc3RSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBHcmlkbGlzdENlbGxJbmZvPENlbGxFbGVtZW50Pj4oeyB0YWdHcmlkbGlzdFJvdywgbWFrZVByb3BzR3JpZGxpc3RSb3cgfTogeyB0YWdHcmlkbGlzdFJvdzogRWxlbWVudFRvVGFnPFJvd0VsZW1lbnQ+LCBtYWtlUHJvcHNHcmlkbGlzdFJvdzogKGluZm86IFVzZUdyaWRsaXN0Um93UmV0dXJuVHlwZTxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPikgPT4gaC5KU1guSFRNTEF0dHJpYnV0ZXM8Um93RWxlbWVudD4gfSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoaW5mbzogVXNlR3JpZGxpc3RSb3dSZXR1cm5UeXBlPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+KSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHRhZ0dyaWRsaXN0Um93IGFzIG5ldmVyLCAobWFrZVByb3BzR3JpZGxpc3RSb3coaW5mbykpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UmVuZGVyR3JpZGxpc3RDaGlsZDxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENNIGV4dGVuZHMgR3JpZGxpc3RDZWxsSW5mbzxDZWxsRWxlbWVudD4+KHsgdGFnR3JpZGxpc3RDaGlsZCwgbWFrZVByb3BzR3JpZGxpc3RDaGlsZCB9OiB7IHRhZ0dyaWRsaXN0Q2hpbGQ6IEVsZW1lbnRUb1RhZzxDZWxsRWxlbWVudD4sIG1ha2VQcm9wc0dyaWRsaXN0Q2hpbGQ6IChpbmZvOiBVc2VHcmlkbGlzdENlbGxSZXR1cm5UeXBlPENlbGxFbGVtZW50LCBDTT4pID0+IGguSlNYLkhUTUxBdHRyaWJ1dGVzPENlbGxFbGVtZW50PiB9KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpbmZvOiBVc2VHcmlkbGlzdENlbGxSZXR1cm5UeXBlPENlbGxFbGVtZW50LCBDTT4pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnR3JpZGxpc3RDaGlsZCBhcyBuZXZlciwgKG1ha2VQcm9wc0dyaWRsaXN0Q2hpbGQoaW5mbykpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBHcmlkbGlzdCA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIEdyaWRsaXN0VTxHcmlkbGlzdEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBSb3dFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2VsbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIGNvbGxhdG9yLFxuICAgIGRpc2FibGVBcnJvd0tleXMsXG4gICAgZGlzYWJsZUhvbWVFbmRLZXlzLFxuICAgIG5vVHlwZWFoZWFkLFxuICAgIG9uVGFiYmFibGVJbmRleENoYW5nZSxcbiAgICBncm91cGluZ1R5cGUsXG4gICAgdHlwZWFoZWFkVGltZW91dCxcbiAgICBzZWxlY3RlZEluZGV4LFxuICAgIG5hdmlnYXRlUGFzdEVuZCxcbiAgICBuYXZpZ2F0ZVBhc3RTdGFydCxcbiAgICBvblNlbGVjdGVkSW5kZXhDaGFuZ2UsXG4gICAgcGFnZU5hdmlnYXRpb25TaXplLFxuICAgIHNlbGVjdGlvbkxpbWl0LFxuICAgIHVudGFiYmFibGUsXG4gICAgcGFnaW5hdGlvbk1heCxcbiAgICBwYWdpbmF0aW9uTWluLFxuICAgIHN0YWdnZXJlZCxcbiAgICBjb21wYXJlLFxuICAgIGdldEluZGV4LFxuICAgIG9uVGFiYmFibGVDb2x1bW5DaGFuZ2UsXG4gICAgYXJpYUxhYmVsLFxuICAgIHJlbmRlclxufTogR3JpZGxpc3RQcm9wczxHcmlkbGlzdEVsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxlbWVudCwgTGFiZWxFbGVtZW50LCBHcmlkbGlzdFJvd0luZm88Um93RWxlbWVudCwgQ2VsbGVtZW50PiwgR3JpZGxpc3RDZWxsSW5mbzxDZWxsZW1lbnQ+PiwgcmVmPzogUmVmPGFueT4pIHtcbiAgICBjb25zdCBpbmZvID0gdXNlR3JpZGxpc3Q8R3JpZGxpc3RFbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsZW1lbnQsIExhYmVsRWxlbWVudCwgR3JpZGxpc3RSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxlbWVudD4sIEdyaWRsaXN0Q2VsbEluZm88Q2VsbGVtZW50Pj4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZGlzYWJsZUFycm93S2V5czogdXNlRGVmYXVsdChcImRpc2FibGVBcnJvd0tleXNcIiwgZGlzYWJsZUFycm93S2V5cyksXG4gICAgICAgICAgICBkaXNhYmxlSG9tZUVuZEtleXM6IHVzZURlZmF1bHQoXCJkaXNhYmxlSG9tZUVuZEtleXNcIiwgZGlzYWJsZUhvbWVFbmRLZXlzKSxcbiAgICAgICAgICAgIG5hdmlnYXRlUGFzdEVuZDogKG5hdmlnYXRlUGFzdEVuZCA/PyBcIndyYXBcIiksXG4gICAgICAgICAgICBuYXZpZ2F0ZVBhc3RTdGFydDogKG5hdmlnYXRlUGFzdFN0YXJ0ID8/IFwid3JhcFwiKSxcbiAgICAgICAgICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZTogdXNlRGVmYXVsdChcInBhZ2VOYXZpZ2F0aW9uU2l6ZVwiLCBwYWdlTmF2aWdhdGlvblNpemUpLFxuICAgICAgICB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG9uVGFiYmFibGVJbmRleENoYW5nZTogb25UYWJiYWJsZUluZGV4Q2hhbmdlID8/IG51bGwsXG4gICAgICAgICAgICB1bnRhYmJhYmxlOiB1bnRhYmJhYmxlID8/IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyczogeyBzdGFnZ2VyZWQ6IHN0YWdnZXJlZCB8fCBmYWxzZSB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY29sbGF0b3I6IHVzZURlZmF1bHQoXCJjb2xsYXRvclwiLCBjb2xsYXRvciksXG4gICAgICAgICAgICBub1R5cGVhaGVhZDogdXNlRGVmYXVsdChcIm5vVHlwZWFoZWFkXCIsIG5vVHlwZWFoZWFkKSxcbiAgICAgICAgICAgIHR5cGVhaGVhZFRpbWVvdXQ6IHVzZURlZmF1bHQoXCJ0eXBlYWhlYWRUaW1lb3V0XCIsIHR5cGVhaGVhZFRpbWVvdXQpLFxuICAgICAgICB9LFxuICAgICAgICBncmlkbGlzdFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIHNlbGVjdGlvbkxpbWl0LFxuICAgICAgICAgICAgZ3JvdXBpbmdUeXBlLFxuICAgICAgICAgICAgc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgICAgIG9uU2VsZWN0ZWRJbmRleENoYW5nZTogb25TZWxlY3RlZEluZGV4Q2hhbmdlID8/IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgZ3JpZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvblRhYmJhYmxlQ29sdW1uQ2hhbmdlOiBvblRhYmJhYmxlQ29sdW1uQ2hhbmdlID8/IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBhcmlhTGFiZWxcbiAgICAgICAgfSxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZ2V0SW5kZXg6IHVzZURlZmF1bHQoXCJnZXRJbmRleFwiLCBnZXRJbmRleClcbiAgICAgICAgfSxcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGNvbXBhcmU6IGNvbXBhcmUgPz8gbnVsbFxuICAgICAgICB9LFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIHBhZ2luYXRpb25NYXg6IHBhZ2luYXRpb25NYXggPz8gbnVsbCxcbiAgICAgICAgICAgIHBhZ2luYXRpb25NaW46IHBhZ2luYXRpb25NaW4gPz8gbnVsbFxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPEdyaWRsaXN0Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mby5jb250ZXh0fT5cbiAgICAgICAgICAgIHtyZW5kZXIoaW5mbyl9XG4gICAgICAgIDwvR3JpZGxpc3RDb250ZXh0LlByb3ZpZGVyPlxuICAgIClcbn0pO1xuXG5leHBvcnQgY29uc3QgR3JpZGxpc3RSb3cgPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBHcmlkbGlzdFJvd1U8Um93RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENlbGxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBpbmRleCxcbiAgICBjb2xsYXRvcixcbiAgICBkaXNhYmxlQXJyb3dLZXlzLFxuICAgIGFyaWFQcm9wTmFtZSxcbiAgICBkaXNhYmxlZCxcbiAgICBoaWRkZW4sXG4gICAgbmF2aWdhdGVQYXN0RW5kLFxuICAgIG5hdmlnYXRlUGFzdFN0YXJ0LFxuICAgIG5vVHlwZWFoZWFkLFxuICAgIG9uVGFiYmFibGVJbmRleENoYW5nZSxcbiAgICBzZWxlY3RlZCxcbiAgICBzZWxlY3Rpb25Nb2RlLFxuICAgIHR5cGVhaGVhZFRpbWVvdXQsXG4gICAgZ2V0U29ydFZhbHVlLFxuICAgIGdldFRleHQsXG4gICAgcmVuZGVyXG59OiBHcmlkbGlzdFJvd1Byb3BzPFJvd0VsZW1lbnQsIENlbGxlbWVudCwgR3JpZGxpc3RSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxlbWVudD4sIEdyaWRsaXN0Q2VsbEluZm88Q2VsbGVtZW50Pj4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgY29udGV4dCA9ICh1c2VDb250ZXh0KEdyaWRsaXN0Q29udGV4dCkgYXMgVXNlR3JpZGxpc3RDb250ZXh0PGFueSwgUm93RWxlbWVudCwgQ2VsbGVtZW50LCBHcmlkbGlzdFJvd0luZm88Um93RWxlbWVudCwgQ2VsbGVtZW50PiwgR3JpZGxpc3RDZWxsSW5mbzxDZWxsZW1lbnQ+Pik7XG4gICAgY29uc29sZS5hc3NlcnQoY29udGV4dCAhPSBudWxsLCBgVGhpcyBHcmlkbGlzdFJvdyBpcyBub3QgY29udGFpbmVkIHdpdGhpbiBhIEdyaWRsaXN0YCk7XG4gICAgY29uc3QgaW5mbyA9IHVzZUdyaWRsaXN0Um93PFJvd0VsZW1lbnQsIENlbGxlbWVudCwgR3JpZGxpc3RSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxlbWVudD4sIEdyaWRsaXN0Q2VsbEluZm88Q2VsbGVtZW50Pj4oe1xuICAgICAgICByb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnM6IHt9LFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSxcbiAgICAgICAgICAgIGdyaWRsaXN0Um93UGFyYW1ldGVyczogeyBzZWxlY3RlZDogc2VsZWN0ZWQgPz8gbnVsbCB9LFxuICAgICAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuOiBoaWRkZW4gPz8gZmFsc2UgfSxcbiAgICAgICAgICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzOiB7IGdldFNvcnRWYWx1ZSB9LFxuICAgICAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGRpc2FibGVkOiBkaXNhYmxlZCA/PyBmYWxzZSwgYXJpYVByb3BOYW1lLCBzZWxlY3Rpb25Nb2RlOiB1c2VEZWZhdWx0KFwic2VsZWN0aW9uTW9kZVwiLCBzZWxlY3Rpb25Nb2RlKSB9LFxuICAgICAgICAgICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzOiB7IGdldFRleHQ6IHVzZURlZmF1bHQoXCJnZXRUZXh0XCIsIGdldFRleHQpIH1cbiAgICAgICAgfSxcbiAgICAgICAgcm93QXNQYXJlbnRPZkNlbGxzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICAgICBkaXNhYmxlQXJyb3dLZXlzOiB1c2VEZWZhdWx0KFwiZGlzYWJsZUFycm93S2V5c1wiLCBkaXNhYmxlQXJyb3dLZXlzKSxcblxuICAgICAgICAgICAgICAgIG5hdmlnYXRlUGFzdEVuZDogbmF2aWdhdGVQYXN0RW5kID8/IFwid3JhcFwiLFxuICAgICAgICAgICAgICAgIG5hdmlnYXRlUGFzdFN0YXJ0OiBuYXZpZ2F0ZVBhc3RTdGFydCA/PyBcIndyYXBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgIG9uVGFiYmFibGVJbmRleENoYW5nZTogb25UYWJiYWJsZUluZGV4Q2hhbmdlID8/IG51bGxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgIGNvbGxhdG9yOiB1c2VEZWZhdWx0KFwiY29sbGF0b3JcIiwgY29sbGF0b3IpLFxuICAgICAgICAgICAgICAgIG5vVHlwZWFoZWFkOiB1c2VEZWZhdWx0KFwibm9UeXBlYWhlYWRcIiwgbm9UeXBlYWhlYWQpLFxuICAgICAgICAgICAgICAgIHR5cGVhaGVhZFRpbWVvdXQ6IHVzZURlZmF1bHQoXCJ0eXBlYWhlYWRUaW1lb3V0XCIsIHR5cGVhaGVhZFRpbWVvdXQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIDxHcmlkbGlzdFJvd0NvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2luZm8uY29udGV4dH0+e3JlbmRlcihpbmZvKX08L0dyaWRsaXN0Um93Q29udGV4dC5Qcm92aWRlcj5cbn0pXG5cbmV4cG9ydCBjb25zdCBHcmlkbGlzdENoaWxkID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gR3JpZGxpc3RDaGlsZDxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBpbmRleCxcbiAgICBjb2xTcGFuLFxuICAgIGZvY3VzU2VsZixcbiAgICBoaWRkZW4sXG4gICAgZ2V0VGV4dCxcbiAgICBvblByZXNzU3luYyxcbiAgICByZW5kZXIsXG59OiBHcmlkbGlzdENoaWxkUHJvcHM8Q2VsbEVsZW1lbnQsIEdyaWRsaXN0Q2VsbEluZm88Q2VsbEVsZW1lbnQ+PiwgcmVmPzogUmVmPGFueT4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gKHVzZUNvbnRleHQoR3JpZGxpc3RSb3dDb250ZXh0KSBhcyBVc2VHcmlkbGlzdFJvd0NvbnRleHQ8YW55LCBDZWxsRWxlbWVudCwgR3JpZGxpc3RDZWxsSW5mbzxDZWxsRWxlbWVudD4+KTtcbiAgICBjb25zb2xlLmFzc2VydChjb250ZXh0ICE9IG51bGwsIGBUaGlzIEdyaWRsaXN0Q2hpbGQgaXMgbm90IGNvbnRhaW5lZCB3aXRoaW4gYSBHcmlkbGlzdFJvdyB0aGF0IGlzIGNvbnRhaW5lZCB3aXRoaW4gYSBHcmlkbGlzdGApO1xuICAgIGNvbnN0IGRlZmF1bHRGb2N1c1NlbGYgPSB1c2VTdGFibGVDYWxsYmFjaygoZTogQ2VsbEVsZW1lbnQpID0+IHsgKGUgYXMgRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZm9jdXM/LigpIH0sIFtdKTtcbiAgICBjb25zdCBpbmZvID0gdXNlR3JpZGxpc3RDZWxsPENlbGxFbGVtZW50LCBHcmlkbGlzdENlbGxJbmZvPENlbGxFbGVtZW50Pj4oe1xuICAgICAgICBjb21wbGV0ZUdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM6IHsgZm9jdXNTZWxmOiAoZm9jdXNTZWxmID8/IGRlZmF1bHRGb2N1c1NlbGYpIH0sXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnM6IHsgY29sU3BhbjogY29sU3BhbiA/PyAxIH0sXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogeyBnZXRUZXh0OiB1c2VEZWZhdWx0KFwiZ2V0VGV4dFwiLCBnZXRUZXh0KSB9LFxuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4IH0sXG4gICAgICAgIHByZXNzUGFyYW1ldGVyczogeyBvblByZXNzU3luYyB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogeyBoaWRkZW46IGhpZGRlbiA/PyBmYWxzZSB9XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIHJlbmRlcihpbmZvKTtcbn0pO1xuIiwiaW1wb3J0IHsgaCB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7XG4gICAgQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNvbnRleHQsIHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb24sXG4gICAgdXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkLFxuICAgIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZEluZm8sXG4gICAgVXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVycyxcbiAgICBVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlLFxuICAgIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25SZXR1cm5UeXBlLCB1c2VFbnN1cmVTdGFiaWxpdHksIFVzZUxpc3ROYXZpZ2F0aW9uU2luZ2xlU2VsZWN0aW9uU29ydGFibGVDaGlsZEluZm8sIHVzZU1lcmdlZFByb3BzLCB1c2VQcmVzcywgVXNlUHJlc3NQYXJhbWV0ZXJzLCBVc2VQcmVzc1JldHVyblR5cGUsIHVzZVNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlLCBVc2VTaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzLCB1c2VTdGFibGVDYWxsYmFjaywgdXNlU3RhYmxlT2JqZWN0XG59IGZyb20gXCJwcmVhY3QtcHJvcC1oZWxwZXJzXCI7XG5pbXBvcnQgeyBFdmVudERldGFpbCwgT21pdFN0cm9uZywgUHJlZmljZXMgfSBmcm9tIFwiLi9wcm9wc1wiO1xuaW1wb3J0IHsgdXNlTGFiZWxTeW50aGV0aWMsIFVzZUxhYmVsU3ludGhldGljUGFyYW1ldGVycyB9IGZyb20gXCIuL3VzZS1sYWJlbFwiO1xuXG5leHBvcnQgdHlwZSBMaXN0Ym94U2luZ2xlU2VsZWN0RXZlbnQ8RSBleHRlbmRzIEV2ZW50VGFyZ2V0PiA9IHsgW0V2ZW50RGV0YWlsXTogeyBzZWxlY3RlZEluZGV4OiBudW1iZXIgfSB9ICYgUGljazxoLkpTWC5UYXJnZXRlZEV2ZW50PEU+LCBcInRhcmdldFwiIHwgXCJjdXJyZW50VGFyZ2V0XCI+O1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3Rib3hDb250ZXh0PExpc3RFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGlzdEl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIExpc3Rib3hJbmZvPExpc3RJdGVtRWxlbWVudD4+IGV4dGVuZHMgQ29tcGxldGVMaXN0TmF2aWdhdGlvbkNvbnRleHQ8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTT4ge1xuICAgIGxpc3Rib3hDb250ZXh0OiB7IHNlbGVjdGlvbkxpbWl0OiBcInNpbmdsZVwiIHwgXCJtdWx0aVwiIHwgXCJub25lXCIgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFVzZUxpc3Rib3hQYXJhbWV0ZXJzPExpc3RFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGlzdEl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgX0xhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQ+PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblBhcmFtZXRlcnM8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTT4sIFwic2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyc1wiPiB7XG4gICAgbGFiZWxQYXJhbWV0ZXJzOiBPbWl0U3Ryb25nPFVzZUxhYmVsU3ludGhldGljUGFyYW1ldGVyc1tcImxhYmVsUGFyYW1ldGVyc1wiXSwgXCJvbkxhYmVsQ2xpY2tcIj47XG4gICAgbGlzdGJveFBhcmFtZXRlcnM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gYFwic2luZ2xlXCJgLCB0aGUgc2VsZWN0ZWQgaXRlbSBpcyBjb250cm9sbGVkXG4gICAgICAgICAqIHZpYSBgc2VsZWN0ZWRJbmRleGAuIFdoZW4gYFwibXVsdGlcImAsIHRoZSBzZWxlY3RlZFxuICAgICAgICAgKiBpdGVtcyBhcmUgY29udHJvbGxlZCBieSB0aGVpciBpbmRpdmlkdWFsIGBzZWxlY3RlZGAgcHJvcHMuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3Rpb25MaW1pdDogXCJzaW5nbGVcIiB8IFwibXVsdGlcIiB8IFwibm9uZVwiO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPbmx5IHVzZWQgd2hlbiBgZ3JvdXBpbmdUeXBlYCBpcyBgXCJ3aXRob3V0LWdyb3Vwc1wiYCBvciBgXCJncm91cFwiYFxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0ZWRJbmRleDogbnVtYmVyIHwgbnVsbDtcbiAgICAgICAgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBVc2VTaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzPExpc3RJdGVtRWxlbWVudD5bXCJzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzXCJdW1wib25TZWxlY3RlZEluZGV4Q2hhbmdlXCJdIC8vUGFzc2l2ZVN0YXRlVXBkYXRlcjxudW1iZXIgfCBudWxsLCBFdmVudD4gfCBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiAqIGBcIndpdGhvdXQtZ3JvdXBzXCJgOiBUaGlzIGlzIGEgbGlzdGJveCB3aXRoIG5vIGdyb3Vwc1xuICAgICAgICAgKiAqIGBcIndpdGgtZ3JvdXBzXCJgOiBUaGlzIGlzIGEgbGlzdGJveCB0aGF0IGlzIGdyb3VwZWQgaW50byAyIG9yIG1vcmUgbGFiZWxsZWQgc2VjdGlvbnMuIEluIHRoaXMgY2FzZSwgKiphbGwgbmF2aWdhdGlvbiBhbmQgc2VsZWN0aW9uIGlzIGRpc2FibGVkKiogKG1lYW5pbmcgeW91IGNhbiBwYXNzIHdoYXRldmVyIHlvdSdkIGxpa2UgdG8gdGhlbSwgaXQncyBhbGwgaWdub3JlZCkgYW5kIGRlbGVnYXRlZCB0byB0aGUgY2hpbGQgYGdyb3VwYHMuXG4gICAgICAgICAqICogYFwiZ3JvdXBcImA6IFRoaXMgaXMgYSBncm91cCwgY29udGFpbmVkIHdpdGhpbiBhIGxpc3Rib3ggd2l0aCBgdHlwZT09XCJ3aXRoLWdyb3Vwc1wiYFxuICAgICAgICAgKiBcbiAgICAgICAgICogVGhlcmUgaXMgY3VycmVudGx5IG5vIHN1cHBvcnQgZm9yIGEgbWl4IG9mIGdyb3VwZWQgYW5kIHVuZ3JvdXBlZCBvcHRpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgZ3JvdXBpbmdUeXBlOiBcIndpdGgtZ3JvdXBzXCIgfCBcIndpdGhvdXQtZ3JvdXBzXCIgfCBcImdyb3VwXCI7XG4gICAgfVxufVxuZXhwb3J0IGludGVyZmFjZSBVc2VMaXN0Ym94UmV0dXJuVHlwZTxMaXN0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQ+PiBleHRlbmRzIE9taXRTdHJvbmc8VXNlQ29tcGxldGVMaXN0TmF2aWdhdGlvblJldHVyblR5cGU8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTT4sIFwicHJvcHNcIj4ge1xuICAgIHByb3BzTGlzdGJveDogaC5KU1guSFRNTEF0dHJpYnV0ZXM8TGlzdEVsZW1lbnQ+O1xuICAgIHByb3BzTGlzdGJveExhYmVsOiBoLkpTWC5IVE1MQXR0cmlidXRlczxMYWJlbEVsZW1lbnQ+O1xuICAgIGNvbnRleHQ6IFVzZUxpc3Rib3hDb250ZXh0PExpc3RFbGVtZW50LCBMaXN0SXRlbUVsZW1lbnQsIE0+O1xufVxuZXhwb3J0IGludGVyZmFjZSBVc2VMaXN0Ym94SXRlbVJldHVyblR5cGU8TGlzdEl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIExpc3Rib3hJbmZvPExpc3RJdGVtRWxlbWVudD4+IGV4dGVuZHMgT21pdFN0cm9uZzxVc2VDb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRSZXR1cm5UeXBlPExpc3RJdGVtRWxlbWVudCwgTT4sIFwicHJlc3NQYXJhbWV0ZXJzXCI+LCBVc2VQcmVzc1JldHVyblR5cGU8TGlzdEl0ZW1FbGVtZW50PiB7IH1cbmV4cG9ydCBpbnRlcmZhY2UgVXNlTGlzdGJveEl0ZW1QYXJhbWV0ZXJzPExpc3RJdGVtRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQ+PiBleHRlbmRzIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM8TGlzdEl0ZW1FbGVtZW50LCBNLCBuZXZlcj4ge1xuICAgIHByZXNzUGFyYW1ldGVyczogUGljazxVc2VQcmVzc1BhcmFtZXRlcnM8TGlzdEl0ZW1FbGVtZW50PltcInByZXNzUGFyYW1ldGVyc1wiXSwgXCJvblByZXNzU3luY1wiPjtcbiAgICBsaXN0Ym94UGFyYW1ldGVyczoge1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgYHNlbGVjdGlvbkxpbWl0YCBpcyBgXCJzaW5nbGVcImAsIHRoaXMgbXVzdCBiZSBgbnVsbGAuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RlZDogYm9vbGVhbiB8IG51bGw7XG4gICAgfVxuICAgIGNvbnRleHQ6IFVzZUxpc3Rib3hDb250ZXh0PGFueSwgTGlzdEl0ZW1FbGVtZW50LCBNPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZEluZm88TGlzdEl0ZW1FbGVtZW50PiB7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZUxpc3Rib3g8TGlzdEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMaXN0SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4oe1xuICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnMsXG4gICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzLFxuICAgIHBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVycyxcbiAgICBsYWJlbFBhcmFtZXRlcnMsXG4gICAgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgIGxpc3Rib3hQYXJhbWV0ZXJzOiB7IHNlbGVjdGlvbkxpbWl0LCBncm91cGluZ1R5cGUsIHNlbGVjdGVkSW5kZXgsIG9uU2VsZWN0ZWRJbmRleENoYW5nZSB9XG59OiBVc2VMaXN0Ym94UGFyYW1ldGVyczxMaXN0RWxlbWVudCwgTGlzdEl0ZW1FbGVtZW50LCBMYWJlbEVsZW1lbnQsIE0+KTogVXNlTGlzdGJveFJldHVyblR5cGU8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPiB7XG4gICAgdXNlRW5zdXJlU3RhYmlsaXR5KFwidXNlTGlzdGJveFwiLCBzZWxlY3Rpb25MaW1pdCk7XG4gICAgY29uc3Qge1xuICAgICAgICBwcm9wc0lucHV0OiBwcm9wc0xhYmVsTGlzdCxcbiAgICAgICAgcHJvcHNMYWJlbDogcHJvcHNMYWJlbExhYmVsLFxuICAgICAgICByYW5kb21JZElucHV0UmV0dXJuOiB7IGlkOiBfaW5wdXRJZCB9LFxuICAgICAgICByYW5kb21JZExhYmVsUmV0dXJuOiB7IGlkOiBfbGFiZWxJZCB9XG4gICAgfSA9IHVzZUxhYmVsU3ludGhldGljPExpc3RFbGVtZW50LCBMYWJlbEVsZW1lbnQ+KHtcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICAuLi5sYWJlbFBhcmFtZXRlcnMsXG4gICAgICAgICAgICBvbkxhYmVsQ2xpY2s6IHVzZVN0YWJsZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICByb3ZpbmdUYWJJbmRleFJldHVybi5mb2N1c1NlbGYoKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIHJhbmRvbUlkSW5wdXRQYXJhbWV0ZXJzOiB7IHByZWZpeDogUHJlZmljZXMubGlzdGJveCB9LFxuICAgICAgICByYW5kb21JZExhYmVsUGFyYW1ldGVyczogeyBwcmVmaXg6IFByZWZpY2VzLmxpc3Rib3hMYWJlbCB9XG4gICAgfSk7XG4gICAgbGV0IHtcbiAgICAgICAgY2hpbGRyZW5IYXZlRm9jdXNSZXR1cm4sXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25SZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUmV0dXJuLFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UmV0dXJuLFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uUmV0dXJuLFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUmV0dXJuXG4gICAgfSA9IHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb248TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTT4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzLFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzOiB7IGluaXRpYWxseVNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXgsIG9uU2VsZWN0ZWRJbmRleENoYW5nZSB9LFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVycyxcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzLFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVycyxcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzXG4gICAgfSk7XG5cbiAgICBjb25zdCBfdjogdm9pZCA9IHVzZVNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlKHtcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzOiB7IHNlbGVjdGVkSW5kZXggfSxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uUmV0dXJuOiB7IGNoYW5nZVNlbGVjdGVkSW5kZXg6IHNpbmdsZVNlbGVjdGlvblJldHVybi5jaGFuZ2VTZWxlY3RlZEluZGV4IH1cbiAgICB9KVxuXG4gICAgaWYgKGdyb3VwaW5nVHlwZSA9PSBcImdyb3VwXCIpXG4gICAgICAgIHByb3BzLnJvbGUgPSBcImdyb3VwXCI7XG4gICAgZWxzZSBpZiAoZ3JvdXBpbmdUeXBlID09IFwid2l0aC1ncm91cHNcIikge1xuICAgICAgICAvLyBJbnRlbnRpb25hbGx5IGNsb2JiZXJpbmcgYWxsIHRoZSBsaXN0IG5hdmlnYXRpb24gc3R1ZmYuXG4gICAgICAgIHByb3BzID0geyByb2xlOiBcImxpc3Rib3hcIiB9O1xuICAgICAgICAvLyAuLi5hY3R1YWxseSwgY29udGV4dCB0b28gd2hpbGUgd2UncmUgYXQgaXQuXG4gICAgICAgIGNvbnRleHQgPSBudWxsIVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJvcHMucm9sZSA9IFwibGlzdGJveFwiO1xuICAgIH1cblxuICAgIGlmIChzZWxlY3Rpb25MaW1pdCA9PSBcIm11bHRpXCIpXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHNpbmdsZVNlbGVjdGlvblJldHVybi5nZXRTZWxlY3RlZEluZGV4KCkgPT0gbnVsbClcblxuICAgIHJldHVybiB7XG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzUmV0dXJuLFxuICAgICAgICBjb250ZXh0OiB1c2VTdGFibGVPYmplY3Qoe1xuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgIGxpc3Rib3hDb250ZXh0OiB1c2VTdGFibGVPYmplY3Qoe1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkxpbWl0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KSxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5SZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUmV0dXJuLFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvblJldHVybixcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblJldHVybixcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblJldHVybixcbiAgICAgICAgcHJvcHNMaXN0Ym94OiB1c2VNZXJnZWRQcm9wcyhwcm9wcywgcHJvcHNMYWJlbExpc3QsIHsgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiAoc2VsZWN0aW9uTGltaXQgPT0gXCJtdWx0aVwiID8gXCJ0cnVlXCIgOiB1bmRlZmluZWQpIH0pLFxuICAgICAgICBwcm9wc0xpc3Rib3hMYWJlbDogcHJvcHNMYWJlbExhYmVsXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlTGlzdGJveEl0ZW08TGlzdEl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIExpc3Rib3hJbmZvPExpc3RJdGVtRWxlbWVudD4+KHtcbiAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIGNvbnRleHQ6IHsgbGlzdGJveENvbnRleHQ6IHsgc2VsZWN0aW9uTGltaXQgfSwgLi4uY29udGV4dCB9LFxuICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnMsXG4gICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzLFxuICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzLFxuICAgIHRleHRDb250ZW50UGFyYW1ldGVycyxcbiAgICBsaXN0Ym94UGFyYW1ldGVyczogeyBzZWxlY3RlZCB9LFxuICAgIHByZXNzUGFyYW1ldGVyczogeyBvblByZXNzU3luYzogb3BzdSB9LFxufTogVXNlTGlzdGJveEl0ZW1QYXJhbWV0ZXJzPExpc3RJdGVtRWxlbWVudCwgTT4pOiBVc2VMaXN0Ym94SXRlbVJldHVyblR5cGU8TGlzdEl0ZW1FbGVtZW50LCBNPiB7XG4gICAgY29uc3Qge1xuICAgICAgICBoYXNDdXJyZW50Rm9jdXNSZXR1cm4sXG4gICAgICAgIG1hbmFnZWRDaGlsZFJldHVybixcbiAgICAgICAgcHJlc3NQYXJhbWV0ZXJzOiB7IGV4Y2x1ZGVTcGFjZSwgb25QcmVzc1N5bmM6IG9wc3NzIH0sXG4gICAgICAgIHByb3BzLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZFJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybixcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRSZXR1cm4sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuXG4gICAgfSA9IHVzZUNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZDxMaXN0SXRlbUVsZW1lbnQsIE0sIG5ldmVyPih7XG4gICAgICAgIGNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVycyxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzLFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVycyxcbiAgICAgICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnMsXG4gICAgICAgIGNvbnRleHRcbiAgICB9KTtcblxuICAgIGNvbnN0IHsgcHJlc3NSZXR1cm4gfSA9IHVzZVByZXNzPExpc3RJdGVtRWxlbWVudD4oe1xuICAgICAgICByZWZFbGVtZW50UmV0dXJuLCBwcmVzc1BhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG9uUHJlc3NTeW5jOiB1c2VTdGFibGVDYWxsYmFjaygoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25MaW1pdCA9PSBcInNpbmdsZVwiKVxuICAgICAgICAgICAgICAgICAgICBvcHNzcz8uKGUpO1xuICAgICAgICAgICAgICAgIG9wc3U/LihlKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZXhjbHVkZVNwYWNlLFxuICAgICAgICAgICAgZm9jdXNTZWxmOiBlID0+IChlIGFzIEVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpPy5mb2N1cz8uKClcbiAgICAgICAgfVxuICAgIH0pXG5cblxuICAgIGlmIChzZWxlY3Rpb25MaW1pdCA9PSBcInNpbmdsZVwiKVxuICAgICAgICBjb25zb2xlLmFzc2VydChzZWxlY3RlZCA9PSBudWxsKTtcblxuICAgIHByb3BzLnJvbGUgPSBcIm9wdGlvblwiO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGFzQ3VycmVudEZvY3VzUmV0dXJuLFxuICAgICAgICBtYW5hZ2VkQ2hpbGRSZXR1cm4sXG4gICAgICAgIHByZXNzUmV0dXJuLFxuICAgICAgICByZWZFbGVtZW50UmV0dXJuLFxuICAgICAgICBwcm9wczogdXNlTWVyZ2VkUHJvcHMocHJvcHMsIHByZXNzUmV0dXJuLnByb3BzVW5zdGFibGUpLFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZFJldHVybixcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFJldHVybixcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRSZXR1cm4sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkUmV0dXJuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgUmVmLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IG1lbW8gfSBmcm9tIFwicHJlYWN0L2NvbXBhdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBPbWl0U3Ryb25nIH0gZnJvbSBcIi4uL3Byb3BzXCI7XG5pbXBvcnQgeyBMaXN0Ym94SW5mbywgdXNlTGlzdGJveCwgVXNlTGlzdGJveENvbnRleHQsIHVzZUxpc3Rib3hJdGVtLCBVc2VMaXN0Ym94SXRlbVBhcmFtZXRlcnMsIFVzZUxpc3Rib3hJdGVtUmV0dXJuVHlwZSwgVXNlTGlzdGJveFBhcmFtZXRlcnMsIFVzZUxpc3Rib3hSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3VzZS1saXN0Ym94XCI7XG5pbXBvcnQgeyBtZW1vRm9yd2FyZFJlZiwgUGFydGlhbEV4Y2VwdCwgdXNlRGVmYXVsdCB9IGZyb20gXCIuL3V0aWxcIjtcblxudHlwZSBHZXQ8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gVFtLXTtcblxuaW50ZXJmYWNlIExpc3Rib3hQcm9wc0Jhc2U8TGlzdEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMaXN0SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4gZXh0ZW5kc1xuICAgIEdldDxVc2VMaXN0Ym94UGFyYW1ldGVyczxMaXN0RWxlbWVudCwgTGlzdEl0ZW1FbGVtZW50LCBMYWJlbEVsZW1lbnQsIE0+LCBcImxhYmVsUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTGlzdGJveFBhcmFtZXRlcnM8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPiwgXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBPbWl0U3Ryb25nPEdldDxVc2VMaXN0Ym94UGFyYW1ldGVyczxMaXN0RWxlbWVudCwgTGlzdEl0ZW1FbGVtZW50LCBMYWJlbEVsZW1lbnQsIE0+LCBcImxpc3Rib3hQYXJhbWV0ZXJzXCI+LCBcImdyb3VwaW5nVHlwZVwiPixcbiAgICBHZXQ8VXNlTGlzdGJveFBhcmFtZXRlcnM8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPiwgXCJyZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VMaXN0Ym94UGFyYW1ldGVyczxMaXN0RWxlbWVudCwgTGlzdEl0ZW1FbGVtZW50LCBMYWJlbEVsZW1lbnQsIE0+LCBcInJvdmluZ1RhYkluZGV4UGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTGlzdGJveFBhcmFtZXRlcnM8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPiwgXCJzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTGlzdGJveFBhcmFtZXRlcnM8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPiwgXCJzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUxpc3Rib3hQYXJhbWV0ZXJzPExpc3RFbGVtZW50LCBMaXN0SXRlbUVsZW1lbnQsIExhYmVsRWxlbWVudCwgTT4sIFwicGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VMaXN0Ym94UGFyYW1ldGVyczxMaXN0RWxlbWVudCwgTGlzdEl0ZW1FbGVtZW50LCBMYWJlbEVsZW1lbnQsIE0+LCBcInR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+IHtcbiAgICByZWY/OiBSZWY8VXNlTGlzdGJveFJldHVyblR5cGU8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPj47XG59XG5cbmludGVyZmFjZSBMaXN0Ym94SXRlbVByb3BzQmFzZTxMaXN0SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4gZXh0ZW5kc1xuICAgIEdldDxVc2VMaXN0Ym94SXRlbVBhcmFtZXRlcnM8TGlzdEl0ZW1FbGVtZW50LCBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQ+PiwgXCJsaXN0Ym94UGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTGlzdGJveEl0ZW1QYXJhbWV0ZXJzPExpc3RJdGVtRWxlbWVudCwgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4sIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTGlzdGJveEl0ZW1QYXJhbWV0ZXJzPExpc3RJdGVtRWxlbWVudCwgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4sIFwic29ydGFibGVDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUxpc3Rib3hJdGVtUGFyYW1ldGVyczxMaXN0SXRlbUVsZW1lbnQsIExpc3Rib3hJbmZvPExpc3RJdGVtRWxlbWVudD4+LCBcInJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VMaXN0Ym94SXRlbVBhcmFtZXRlcnM8TGlzdEl0ZW1FbGVtZW50LCBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQ+PiwgXCJzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZUxpc3Rib3hJdGVtUGFyYW1ldGVyczxMaXN0SXRlbUVsZW1lbnQsIExpc3Rib3hJbmZvPExpc3RJdGVtRWxlbWVudD4+LCBcInByZXNzUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTGlzdGJveEl0ZW1QYXJhbWV0ZXJzPExpc3RJdGVtRWxlbWVudCwgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+IHtcbiAgICBmb2N1c1NlbGY/OiBVc2VMaXN0Ym94SXRlbVBhcmFtZXRlcnM8TGlzdEl0ZW1FbGVtZW50LCBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQ+PltcImNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnNcIl1bXCJmb2N1c1NlbGZcIl07XG4gICAgcmVmPzogUmVmPFVzZUxpc3Rib3hJdGVtUmV0dXJuVHlwZTxMaXN0SXRlbUVsZW1lbnQsIE0+Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaXN0Ym94UHJvcHM8TGlzdEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMaXN0SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PExpc3Rib3hQcm9wc0Jhc2U8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPiwgXCJhcmlhTGFiZWxcIiB8IFwibmF2aWdhdGlvbkRpcmVjdGlvblwiIHwgXCJzZWxlY3Rpb25MaW1pdFwiIHwgXCJzZWxlY3RlZEluZGV4XCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlTGlzdGJveFJldHVyblR5cGU8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPik6IFZOb2RlO1xufVxuZXhwb3J0IGludGVyZmFjZSBMaXN0Ym94SXRlbVByb3BzPExpc3RJdGVtRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQ+PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8TGlzdGJveEl0ZW1Qcm9wc0Jhc2U8TGlzdEl0ZW1FbGVtZW50LCBNPiwgXCJhcmlhUHJvcE5hbWVcIiB8IFwiaW5kZXhcIiB8IFwiZ2V0U29ydFZhbHVlXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlTGlzdGJveEl0ZW1SZXR1cm5UeXBlPExpc3RJdGVtRWxlbWVudCwgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4pOiBWTm9kZTtcbn1cblxuY29uc3QgTGlzdGJveENvbnRleHQgPSBjcmVhdGVDb250ZXh0PFVzZUxpc3Rib3hDb250ZXh0PGFueSwgYW55LCBhbnk+PihudWxsISk7XG5cbmNvbnN0IExpc3Rib3hHcm91cENvbnRleHQgPSBjcmVhdGVDb250ZXh0PG51bGwgfCBVc2VMaXN0Ym94UmV0dXJuVHlwZTxhbnksIGFueSwgYW55LCBhbnk+PihudWxsKTtcbmV4cG9ydCBjb25zdCBHcm91cGVkTGlzdGJveCA9IG1lbW8oZnVuY3Rpb24gR3JvdXBlZExpc3Rib3g8TGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oeyBhcmlhTGFiZWwsIHNlbGVjdGlvbkxpbWl0LCBuYXZpZ2F0aW9uRGlyZWN0aW9uLCByZW5kZXIgfTogUGljazxMaXN0Ym94UHJvcHM8YW55LCBhbnksIExhYmVsRWxlbWVudCwgYW55PiwgXCJhcmlhTGFiZWxcIiB8IFwic2VsZWN0aW9uTGltaXRcIiB8IFwibmF2aWdhdGlvbkRpcmVjdGlvblwiIHwgXCJyZW5kZXJcIj4pIHtcblxuICAgIGNvbnN0IGluZm8gPSB1c2VMaXN0Ym94PGFueSwgYW55LCBMYWJlbEVsZW1lbnQsIGFueT4oe1xuICAgICAgICBsYWJlbFBhcmFtZXRlcnM6IHsgYXJpYUxhYmVsIH0sXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBuYXZpZ2F0ZVBhc3RFbmQ6IFwicGFzc3Rocm91Z2hcIixcbiAgICAgICAgICAgIG5hdmlnYXRlUGFzdFN0YXJ0OiBcInBhc3N0aHJvdWdoXCIsXG4gICAgICAgICAgICBuYXZpZ2F0aW9uRGlyZWN0aW9uLFxuXG4gICAgICAgICAgICBkaXNhYmxlQXJyb3dLZXlzOiBmYWxzZSxcbiAgICAgICAgICAgIGRpc2FibGVIb21lRW5kS2V5czogdHJ1ZSxcbiAgICAgICAgICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZTogMVxuICAgICAgICB9LFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgc3RhZ2dlcmVkOiBmYWxzZSB9LFxuICAgICAgICBwYWdpbmF0ZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgcGFnaW5hdGlvbk1heDogbnVsbCwgcGFnaW5hdGlvbk1pbjogbnVsbCB9LFxuICAgICAgICBsaXN0Ym94UGFyYW1ldGVyczogeyBzZWxlY3Rpb25MaW1pdCwgZ3JvdXBpbmdUeXBlOiBcIndpdGgtZ3JvdXBzXCIsIHNlbGVjdGVkSW5kZXg6IG51bGwsIG9uU2VsZWN0ZWRJbmRleENoYW5nZTogbnVsbCB9LFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IGdldEluZGV4OiB1c2VEZWZhdWx0KFwiZ2V0SW5kZXhcIiwgdW5kZWZpbmVkKSB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IHsgb25UYWJiYWJsZUluZGV4Q2hhbmdlOiBudWxsLCB1bnRhYmJhYmxlOiBmYWxzZSB9LFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyczogeyBjb21wYXJlOiBudWxsIH0sXG4gICAgICAgIHR5cGVhaGVhZE5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBjb2xsYXRvcjogbnVsbCxcbiAgICAgICAgICAgIG5vVHlwZWFoZWFkOiB0cnVlLFxuICAgICAgICAgICAgdHlwZWFoZWFkVGltZW91dDogSW5maW5pdHlcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGluZm8uY29udGV4dDtcbiAgICByZXR1cm4gKFxuICAgICAgICA8TGlzdGJveEdyb3VwQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mb30+e3JlbmRlcihpbmZvKX08L0xpc3Rib3hHcm91cENvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcblxufSlcblxuZXhwb3J0IGNvbnN0IExpc3Rib3ggPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBMaXN0Ym94PExpc3RFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGlzdEl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIGFyaWFMYWJlbCxcbiAgICBjb2xsYXRvcixcbiAgICBjb21wYXJlLFxuICAgIGRpc2FibGVBcnJvd0tleXMsXG4gICAgZGlzYWJsZUhvbWVFbmRLZXlzLFxuICAgIGdldEluZGV4LFxuICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgbmF2aWdhdGVQYXN0RW5kLFxuICAgIG5hdmlnYXRlUGFzdFN0YXJ0LFxuICAgIG5hdmlnYXRpb25EaXJlY3Rpb24sXG4gICAgbm9UeXBlYWhlYWQsXG4gICAgb25TZWxlY3RlZEluZGV4Q2hhbmdlLFxuICAgIG9uVGFiYmFibGVJbmRleENoYW5nZSxcbiAgICBzdGFnZ2VyZWQsXG4gICAgcGFnZU5hdmlnYXRpb25TaXplLFxuICAgIHBhZ2luYXRpb25NYXgsXG4gICAgcGFnaW5hdGlvbk1pbixcbiAgICBzZWxlY3Rpb25MaW1pdCxcbiAgICB1bnRhYmJhYmxlLFxuICAgIHR5cGVhaGVhZFRpbWVvdXQsXG4gICAgcmVuZGVyXG59OiBMaXN0Ym94UHJvcHM8TGlzdEVsZW1lbnQsIExpc3RJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBMaXN0Ym94SW5mbzxMaXN0SXRlbUVsZW1lbnQ+Pikge1xuICAgIGNvbnN0IGxpc3Rib3hHcm91cEluZm8gPSB1c2VDb250ZXh0KExpc3Rib3hHcm91cENvbnRleHQpO1xuICAgIGNvbnN0IGluZm8gPSB1c2VMaXN0Ym94PExpc3RFbGVtZW50LCBMaXN0SXRlbUVsZW1lbnQsIExhYmVsRWxlbWVudCwgTGlzdGJveEluZm88TGlzdEl0ZW1FbGVtZW50Pj4oe1xuICAgICAgICBsYWJlbFBhcmFtZXRlcnM6IHsgYXJpYUxhYmVsIH0sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgc3RhZ2dlcmVkOiBzdGFnZ2VyZWQgfHwgZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG5hdmlnYXRlUGFzdEVuZDogbmF2aWdhdGVQYXN0RW5kID8/IFwid3JhcFwiLFxuICAgICAgICAgICAgbmF2aWdhdGVQYXN0U3RhcnQ6IG5hdmlnYXRlUGFzdFN0YXJ0ID8/IFwid3JhcFwiLFxuICAgICAgICAgICAgbmF2aWdhdGlvbkRpcmVjdGlvbixcblxuICAgICAgICAgICAgZGlzYWJsZUFycm93S2V5czogdXNlRGVmYXVsdChcImRpc2FibGVBcnJvd0tleXNcIiwgZGlzYWJsZUFycm93S2V5cyksXG4gICAgICAgICAgICBkaXNhYmxlSG9tZUVuZEtleXM6IHVzZURlZmF1bHQoXCJkaXNhYmxlSG9tZUVuZEtleXNcIiwgZGlzYWJsZUhvbWVFbmRLZXlzKSxcbiAgICAgICAgICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZTogdXNlRGVmYXVsdChcInBhZ2VOYXZpZ2F0aW9uU2l6ZVwiLCBwYWdlTmF2aWdhdGlvblNpemUpXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgcGFnaW5hdGlvbk1heDogcGFnaW5hdGlvbk1heCA/PyBudWxsLFxuICAgICAgICAgICAgcGFnaW5hdGlvbk1pbjogcGFnaW5hdGlvbk1pbiA/PyBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGxpc3Rib3hQYXJhbWV0ZXJzOiB7IHNlbGVjdGlvbkxpbWl0LCBncm91cGluZ1R5cGU6IGxpc3Rib3hHcm91cEluZm8gPT0gbnVsbCA/IFwid2l0aG91dC1ncm91cHNcIiA6IFwiZ3JvdXBcIiwgc2VsZWN0ZWRJbmRleCwgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBvblNlbGVjdGVkSW5kZXhDaGFuZ2UgPz8gbnVsbCB9LFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IGdldEluZGV4OiB1c2VEZWZhdWx0KFwiZ2V0SW5kZXhcIiwgZ2V0SW5kZXgpIH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVyczogeyBvblRhYmJhYmxlSW5kZXhDaGFuZ2U6IG9uVGFiYmFibGVJbmRleENoYW5nZSA/PyBudWxsLCB1bnRhYmJhYmxlOiB1bnRhYmJhYmxlID8/IGZhbHNlIH0sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IGNvbXBhcmU6IGNvbXBhcmUgPz8gbnVsbCB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY29sbGF0b3I6IHVzZURlZmF1bHQoXCJjb2xsYXRvclwiLCBjb2xsYXRvciksXG4gICAgICAgICAgICBub1R5cGVhaGVhZDogdXNlRGVmYXVsdChcIm5vVHlwZWFoZWFkXCIsIG5vVHlwZWFoZWFkKSxcbiAgICAgICAgICAgIHR5cGVhaGVhZFRpbWVvdXQ6IHVzZURlZmF1bHQoXCJ0eXBlYWhlYWRUaW1lb3V0XCIsIHR5cGVhaGVhZFRpbWVvdXQpXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMaXN0Ym94Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mby5jb250ZXh0fT57cmVuZGVyKGluZm8pfTwvTGlzdGJveENvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbn0pXG5cbmV4cG9ydCBjb25zdCBMaXN0Ym94SXRlbSA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIExpc3Rib3hJdGVtPExpc3Rib3hJdGVtRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHsgYXJpYVByb3BOYW1lLCBkaXNhYmxlZCwgZm9jdXNTZWxmLCBvblByZXNzU3luYywgZ2V0VGV4dCwgaGlkZGVuLCBpbmRleCwgcmVuZGVyLCBzZWxlY3RlZCwgc2VsZWN0aW9uTW9kZSwgZ2V0U29ydFZhbHVlIH06IExpc3Rib3hJdGVtUHJvcHM8TGlzdGJveEl0ZW1FbGVtZW50LCBMaXN0Ym94SW5mbzxMaXN0Ym94SXRlbUVsZW1lbnQ+Pikge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KExpc3Rib3hDb250ZXh0KSBhcyBVc2VMaXN0Ym94Q29udGV4dDxhbnksIExpc3Rib3hJdGVtRWxlbWVudCwgTGlzdGJveEluZm88TGlzdGJveEl0ZW1FbGVtZW50Pj47XG4gICAgY29uc29sZS5hc3NlcnQoY29udGV4dCAhPSBudWxsLCBgVGhpcyBMaXN0Ym94SXRlbSBpcyBub3QgY29udGFpbmVkIHdpdGhpbiBhIExpc3Rib3hgKTtcbiAgICBjb25zdCBmb2N1c1NlbGZEZWZhdWx0ID0gdXNlQ2FsbGJhY2soKGU6IGFueSkgPT4geyBlPy5mb2N1cygpOyB9LCBbXSk7XG4gICAgY29uc3QgaW5mbyA9IHVzZUxpc3Rib3hJdGVtKHtcbiAgICAgICAgY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczogeyBmb2N1c1NlbGY6IGZvY3VzU2VsZiA/PyBmb2N1c1NlbGZEZWZhdWx0IH0sXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGxpc3Rib3hQYXJhbWV0ZXJzOiB7IHNlbGVjdGVkOiBzZWxlY3RlZCA/PyBudWxsLCB9LFxuICAgICAgICBwcmVzc1BhcmFtZXRlcnM6IHsgb25QcmVzc1N5bmMgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogeyBoaWRkZW46IGhpZGRlbiA/PyBmYWxzZSB9LFxuICAgICAgICBzb3J0YWJsZUNoaWxkUGFyYW1ldGVyczogeyBnZXRTb3J0VmFsdWU6IGdldFNvcnRWYWx1ZSB9LFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnM6IHsgZ2V0VGV4dDogdXNlRGVmYXVsdChcImdldFRleHRcIiwgZ2V0VGV4dCkgfSxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgPz8gZmFsc2UsXG4gICAgICAgICAgICBhcmlhUHJvcE5hbWUsXG4gICAgICAgICAgICBzZWxlY3Rpb25Nb2RlOiB1c2VEZWZhdWx0KFwic2VsZWN0aW9uTW9kZVwiLCBzZWxlY3Rpb25Nb2RlKVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVuZGVyKGluZm8pO1xufSlcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIFJlZiwgVk5vZGUgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IHVzZU1lbnUsIFVzZU1lbnVDb250ZXh0LCB1c2VNZW51SXRlbSwgVXNlTWVudUl0ZW1SZXR1cm5UeXBlLCBVc2VNZW51UGFyYW1ldGVycywgVXNlTWVudVJldHVyblR5cGUgfSBmcm9tIFwiLi4vdXNlLW1lbnVcIjtcbmltcG9ydCB7IFVzZU1lbnViYXJTdWJJbmZvIH0gZnJvbSBcIi4uL3VzZS1tZW51YmFyXCI7XG5pbXBvcnQgeyBNZW51YmFySXRlbVByb3BzIH0gZnJvbSBcIi4vbWVudWJhclwiO1xuaW1wb3J0IHsgbWVtb0ZvcndhcmRSZWYsIFBhcmVudERlcHRoQ29udGV4dCwgUGFydGlhbEV4Y2VwdCwgdXNlRGVmYXVsdCB9IGZyb20gXCIuL3V0aWxcIjtcblxuXG50eXBlIEdldDxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBUW0tdO1xuXG5cbmludGVyZmFjZSBNZW51UHJvcHNCYXNlPE1lbnVTdXJmYWNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIC8vT21pdDxVc2VNZW51UGFyYW1ldGVyczxFLCBLLCBJPiwgXCJpbmRleE1hbmdsZXJcIiB8IFwiaW5kZXhEZW1hbmdsZXJcIiB8IFwib25BZnRlckNoaWxkTGF5b3V0RWZmZWN0XCIgfCBcIm9uQ2hpbGRyZW5Nb3VudENoYW5nZVwiIHwgXCJvblRhYmJhYmxlSW5kZXhDaGFuZ2VcIiB8IFwib25UYWJiYWJsZVJlbmRlclwiIHwgXCJvblRhYmJlZEluVG9cIiB8IFwib25UYWJiZWRPdXRPZlwiPiAmIHtcbiAgICBHZXQ8VXNlTWVudVBhcmFtZXRlcnM8TWVudVN1cmZhY2VFbGVtZW50LCBNZW51UGFyZW50RWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4sIFwibWVudVBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZU1lbnVQYXJhbWV0ZXJzPE1lbnVTdXJmYWNlRWxlbWVudCwgTWVudVBhcmVudEVsZW1lbnQsIE1lbnVCdXR0b25FbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+LCBcIm1lbnVTdXJmYWNlUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudVBhcmFtZXRlcnM8TWVudVN1cmZhY2VFbGVtZW50LCBNZW51UGFyZW50RWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4sIFwibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZU1lbnVQYXJhbWV0ZXJzPE1lbnVTdXJmYWNlRWxlbWVudCwgTWVudVBhcmVudEVsZW1lbnQsIE1lbnVCdXR0b25FbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+LCBcInJvdmluZ1RhYkluZGV4UGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudVBhcmFtZXRlcnM8TWVudVN1cmZhY2VFbGVtZW50LCBNZW51UGFyZW50RWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4sIFwidHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZU1lbnVQYXJhbWV0ZXJzPE1lbnVTdXJmYWNlRWxlbWVudCwgTWVudVBhcmVudEVsZW1lbnQsIE1lbnVCdXR0b25FbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+LCBcImRpc21pc3NQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51UGFyYW1ldGVyczxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PiwgXCJzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZU1lbnVQYXJhbWV0ZXJzPE1lbnVTdXJmYWNlRWxlbWVudCwgTWVudVBhcmVudEVsZW1lbnQsIE1lbnVCdXR0b25FbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+LCBcImVzY2FwZURpc21pc3NQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51UGFyYW1ldGVyczxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PiwgXCJyZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51UGFyYW1ldGVyczxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PiwgXCJzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudVBhcmFtZXRlcnM8TWVudVN1cmZhY2VFbGVtZW50LCBNZW51UGFyZW50RWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4sIFwic2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51UGFyYW1ldGVyczxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PiwgXCJ0b29sYmFyUGFyYW1ldGVyc1wiPiB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVudVByb3BzPE1lbnVTdXJmYWNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTWVudUJ1dHRvbkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8TWVudVByb3BzQmFzZTxNZW51U3VyZmFjZUVsZW1lbnQsIE1lbnVQYXJlbnRFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIE1lbnVCdXR0b25FbGVtZW50PiwgXCJvcGVuXCIgfCBcIm9uQ2xvc2VcIiB8IFwib25PcGVuXCIgfCBcIm9wZW5EaXJlY3Rpb25cIiB8IFwib3JpZW50YXRpb25cIj4ge1xuICAgIHJlbmRlcihtZW51SW5mbzogVXNlTWVudVJldHVyblR5cGU8TWVudVN1cmZhY2VFbGVtZW50LCBNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNZW51QnV0dG9uRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4pOiBWTm9kZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZW51SXRlbVByb3BzPE1lbnVJdGVtRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgTWVudWJhckl0ZW1Qcm9wczxNZW51SXRlbUVsZW1lbnQ+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlTWVudUl0ZW1SZXR1cm5UeXBlPE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4pOiBWTm9kZTxhbnk+O1xufVxuXG5jb25zdCBNZW51SXRlbUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PFVzZU1lbnVDb250ZXh0PGFueSwgYW55LCBhbnk+PihudWxsISk7XG5cbmV4cG9ydCBjb25zdCBNZW51ID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gTWVudTxTdXJmYWNlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBCdXR0b25FbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuXG5cbiAgICBjb2xsYXRvcixcbiAgICBkaXNhYmxlQXJyb3dLZXlzLFxuICAgIGRpc2FibGVIb21lRW5kS2V5cyxcbiAgICBub1R5cGVhaGVhZCxcbiAgICB0eXBlYWhlYWRUaW1lb3V0LFxuICAgIG9yaWVudGF0aW9uLFxuXG4gICAgb25DbG9zZSxcbiAgICBvcGVuLFxuXG4gICAgb3BlbkRpcmVjdGlvbixcblxuICAgIG9uVGFiYmFibGVJbmRleENoYW5nZSxcbiAgICBjbG9zZU9uQmFja2Ryb3AsXG4gICAgY2xvc2VPbkVzY2FwZSxcbiAgICBjbG9zZU9uTG9zdEZvY3VzLFxuICAgIGNvbXBhcmUsXG4gICAgZ2V0SW5kZXgsXG4gICAgc2VsZWN0ZWRJbmRleCxcbiAgICBuYXZpZ2F0ZVBhc3RFbmQsXG4gICAgbmF2aWdhdGVQYXN0U3RhcnQsXG4gICAgb25TZWxlY3RlZEluZGV4Q2hhbmdlLFxuICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZSxcbiAgICBwYXJlbnREZXB0aCxcbiAgICB1bnRhYmJhYmxlLFxuICAgIHN0YWdnZXJlZCxcbiAgICBvbk9wZW4sXG5cbiAgICBnZXRXaW5kb3csXG5cbiAgICByZW5kZXJcblxufTogTWVudVByb3BzPFN1cmZhY2VFbGVtZW50LCBQYXJlbnRFbGVtZW50LCBDaGlsZEVsZW1lbnQsIEJ1dHRvbkVsZW1lbnQ+LCByZWY/OiBSZWY8YW55Pikge1xuXG4gICAgY29uc3QgZGVmYXVsdFBhcmVudERlcHRoID0gdXNlQ29udGV4dChQYXJlbnREZXB0aENvbnRleHQpO1xuICAgIGxldCBteURlcHRoID0gKHBhcmVudERlcHRoID8/IGRlZmF1bHRQYXJlbnREZXB0aCkgKyAxO1xuXG4gICAgY29uc3QgaW5mbyA9IHVzZU1lbnU8U3VyZmFjZUVsZW1lbnQsIFBhcmVudEVsZW1lbnQsIENoaWxkRWxlbWVudCwgQnV0dG9uRWxlbWVudD4oe1xuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZGlzYWJsZUFycm93S2V5czogdXNlRGVmYXVsdChcImRpc2FibGVBcnJvd0tleXNcIiwgZGlzYWJsZUFycm93S2V5cyksXG4gICAgICAgICAgICBkaXNhYmxlSG9tZUVuZEtleXM6IHVzZURlZmF1bHQoXCJkaXNhYmxlSG9tZUVuZEtleXNcIiwgZGlzYWJsZUhvbWVFbmRLZXlzKSxcbiAgICAgICAgICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZTogdXNlRGVmYXVsdChcInBhZ2VOYXZpZ2F0aW9uU2l6ZVwiLCBwYWdlTmF2aWdhdGlvblNpemUpLFxuICAgICAgICAgICAgbmF2aWdhdGVQYXN0RW5kOiBuYXZpZ2F0ZVBhc3RFbmQgPz8gXCJ3cmFwXCIsXG4gICAgICAgICAgICBuYXZpZ2F0ZVBhc3RTdGFydDogbmF2aWdhdGVQYXN0U3RhcnQgPz8gXCJ3cmFwXCJcbiAgICAgICAgfSxcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBzdGFnZ2VyZWQ6IHN0YWdnZXJlZCB8fCBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBkaXNtaXNzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY2xvc2VPbkJhY2tkcm9wOiBjbG9zZU9uQmFja2Ryb3AgPz8gdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25Fc2NhcGU6IGNsb3NlT25Fc2NhcGUgPz8gdHJ1ZSxcbiAgICAgICAgICAgIGNsb3NlT25Mb3N0Rm9jdXM6IGNsb3NlT25Mb3N0Rm9jdXMgPz8gdHJ1ZSxcbiAgICAgICAgICAgIG9uQ2xvc2UsXG4gICAgICAgICAgICBvcGVuXG4gICAgICAgIH0sXG4gICAgICAgIGVzY2FwZURpc21pc3NQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBnZXRXaW5kb3c6IHVzZURlZmF1bHQoXCJnZXRXaW5kb3dcIiwgZ2V0V2luZG93KSxcbiAgICAgICAgICAgIHBhcmVudERlcHRoOiBwYXJlbnREZXB0aCA/PyBkZWZhdWx0UGFyZW50RGVwdGhcbiAgICAgICAgfSxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyczogeyBnZXRJbmRleDogdXNlRGVmYXVsdChcImdldEluZGV4XCIsIGdldEluZGV4KSB9LFxuXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IGNvbXBhcmU6IGNvbXBhcmUgPz8gbnVsbCB9LFxuICAgICAgICBtZW51UGFyYW1ldGVyczogeyBvcGVuRGlyZWN0aW9uLCBvbk9wZW4gfSxcbiAgICAgICAgbWVudVN1cmZhY2VQYXJhbWV0ZXJzOiB7fSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvblRhYmJhYmxlSW5kZXhDaGFuZ2U6IG9uVGFiYmFibGVJbmRleENoYW5nZSA/PyBudWxsLFxuICAgICAgICAgICAgdW50YWJiYWJsZTogdW50YWJiYWJsZSA/PyBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY29sbGF0b3I6IHVzZURlZmF1bHQoXCJjb2xsYXRvclwiLCBjb2xsYXRvciksXG4gICAgICAgICAgICBub1R5cGVhaGVhZDogdXNlRGVmYXVsdChcIm5vVHlwZWFoZWFkXCIsIG5vVHlwZWFoZWFkKSxcbiAgICAgICAgICAgIHR5cGVhaGVhZFRpbWVvdXQ6IHVzZURlZmF1bHQoXCJ0eXBlYWhlYWRUaW1lb3V0XCIsIHR5cGVhaGVhZFRpbWVvdXQpXG4gICAgICAgIH0sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUGFyYW1ldGVyczogeyBzZWxlY3RlZEluZGV4OiBzZWxlY3RlZEluZGV4ID8/IG51bGwgfSxcbiAgICAgICAgdG9vbGJhclBhcmFtZXRlcnM6IHsgb3JpZW50YXRpb24sIG9uU2VsZWN0ZWRJbmRleENoYW5nZTogb25TZWxlY3RlZEluZGV4Q2hhbmdlID8/IG51bGwgfSxcbiAgICAgICAgbWVudWJhclBhcmFtZXRlcnM6IHt9XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFBhcmVudERlcHRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17bXlEZXB0aH0+XG4gICAgICAgICAgICA8TWVudUl0ZW1Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXtpbmZvLmNvbnRleHR9PlxuICAgICAgICAgICAgICAgIHtyZW5kZXIoaW5mbyl9XG4gICAgICAgICAgICA8L01lbnVJdGVtQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgPC9QYXJlbnREZXB0aENvbnRleHQuUHJvdmlkZXI+XG4gICAgKVxufSlcblxuXG5leHBvcnQgY29uc3QgTWVudUl0ZW0gPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBNZW51SXRlbTxNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IGluZGV4LCBoaWRkZW4sIGdldFNvcnRWYWx1ZSwgb25QcmVzcywgZ2V0VGV4dCwgcm9sZSwgZm9jdXNTZWxmLCBhcmlhUHJvcE5hbWUsIHNlbGVjdGlvbk1vZGUsIGRpc2FibGVkLCByZW5kZXIgfTogTWVudUl0ZW1Qcm9wczxNZW51SXRlbUVsZW1lbnQ+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KE1lbnVJdGVtQ29udGV4dCk7XG4gICAgY29uc29sZS5hc3NlcnQoY29udGV4dCAhPSBudWxsLCBgVGhpcyBNZW51SXRlbSBpcyBub3QgY29udGFpbmVkIHdpdGhpbiBhIE1lbnViYXIvTWVudWApO1xuICAgIGNvbnN0IGRlZmF1bHRGb2N1c1NlbGYgPSB1c2VDYWxsYmFjaygoZTogTWVudUl0ZW1FbGVtZW50IHwgbnVsbCkgPT4gKGUgYXMgRWxlbWVudCBhcyBIVE1MRWxlbWVudCk/LmZvY3VzPy4oKSwgW10pO1xuICAgIGNvbnN0IGluZm8gPSB1c2VNZW51SXRlbTxNZW51SXRlbUVsZW1lbnQ+KHtcbiAgICAgICAgY29tcGxldGVMaXN0TmF2aWdhdGlvbkNoaWxkUGFyYW1ldGVyczogeyBmb2N1c1NlbGY6IGZvY3VzU2VsZiA/PyBkZWZhdWx0Rm9jdXNTZWxmIH0sXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuOiBoaWRkZW4gPz8gZmFsc2UgfSxcbiAgICAgICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnM6IHsgZ2V0U29ydFZhbHVlIH0sXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogeyBnZXRUZXh0OiB1c2VEZWZhdWx0KFwiZ2V0VGV4dFwiLCBnZXRUZXh0KSB9LFxuICAgICAgICBtZW51SXRlbVBhcmFtZXRlcnM6IHsgb25QcmVzczogb25QcmVzcyA/PyBudWxsLCByb2xlOiByb2xlID8/IFwibWVudWl0ZW1cIiB9LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM6IHsgYXJpYVByb3BOYW1lLCBzZWxlY3Rpb25Nb2RlLCBkaXNhYmxlZDogZGlzYWJsZWQgPz8gZmFsc2UgfVxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDw+e3JlbmRlcihpbmZvKX08Lz5cbiAgICApXG59KTtcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIFJlZiwgVk5vZGUgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlQ29udGV4dCwgdXNlSW1wZXJhdGl2ZUhhbmRsZSB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IHVzZU1lbnViYXIsIHVzZU1lbnViYXJDaGlsZCwgVXNlTWVudWJhckNvbnRleHQsIFVzZU1lbnViYXJJdGVtUGFyYW1ldGVycywgVXNlTWVudWJhckl0ZW1SZXR1cm5UeXBlLCBVc2VNZW51YmFyUGFyYW1ldGVycywgVXNlTWVudWJhclJldHVyblR5cGUsIFVzZU1lbnViYXJTdWJJbmZvIH0gZnJvbSBcIi4uL3VzZS1tZW51YmFyXCI7XG5pbXBvcnQgeyBtZW1vRm9yd2FyZFJlZiwgUGFydGlhbEV4Y2VwdCwgdXNlRGVmYXVsdCB9IGZyb20gXCIuL3V0aWxcIjtcblxudHlwZSBHZXQ8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gVFtLXTtcblxuaW50ZXJmYWNlIE1lbnViYXJQcm9wc0Jhc2U8TWVudVBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4gZXh0ZW5kc1xuICAgIEdldDxVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPiwgXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudWJhclBhcmFtZXRlcnM8TWVudVBhcmVudEVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgTT4sIFwicm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPiwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudWJhclBhcmFtZXRlcnM8TWVudVBhcmVudEVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgTT4sIFwic2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPiwgXCJyZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPiwgXCJzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudWJhclBhcmFtZXRlcnM8TWVudVBhcmVudEVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgTT4sIFwibWVudWJhclBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZU1lbnViYXJQYXJhbWV0ZXJzPE1lbnVQYXJlbnRFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIE0+LCBcInN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudWJhclBhcmFtZXRlcnM8TWVudVBhcmVudEVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgTT4sIFwibGFiZWxQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51YmFyUGFyYW1ldGVyczxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBNPiwgXCJ0b29sYmFyUGFyYW1ldGVyc1wiPiB7XG4gICAgcmVmPzogUmVmPFVzZU1lbnViYXJSZXR1cm5UeXBlPE1lbnVQYXJlbnRFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQsIExhYmVsRWxlbWVudCwgTT4+O1xufVxuXG5cblxuXG5cbmludGVyZmFjZSBNZW51YmFySXRlbVByb3BzQmFzZTxNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzXG4gICAgLy9HZXQ8VXNlTWVudWJhckl0ZW1QYXJhbWV0ZXJzPE1lbnVJdGVtRWxlbWVudCwgTT4sIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudWJhckl0ZW1QYXJhbWV0ZXJzPE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4sIFwibWVudUl0ZW1QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VNZW51YmFySXRlbVBhcmFtZXRlcnM8TWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PiwgXCJyb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudWJhckl0ZW1QYXJhbWV0ZXJzPE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4sIFwic29ydGFibGVDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZU1lbnViYXJJdGVtUGFyYW1ldGVyczxNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+LCBcIm1hbmFnZWRDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZU1lbnViYXJJdGVtUGFyYW1ldGVyczxNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+LCBcInNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlTWVudWJhckl0ZW1QYXJhbWV0ZXJzPE1lbnVJdGVtRWxlbWVudCwgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+IHtcbiAgICBmb2N1c1NlbGY/OiBVc2VNZW51YmFySXRlbVBhcmFtZXRlcnM8TWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+PltcImNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnNcIl1bXCJmb2N1c1NlbGZcIl07XG4gICAgcmVmPzogUmVmPFVzZU1lbnViYXJJdGVtUmV0dXJuVHlwZTxNZW51SXRlbUVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPE1lbnVJdGVtRWxlbWVudD4+Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNZW51YmFyUHJvcHM8TWVudVBhcmVudEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlTWVudWJhclN1YkluZm88TWVudUl0ZW1FbGVtZW50Pj4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PE1lbnViYXJQcm9wc0Jhc2U8TWVudVBhcmVudEVsZW1lbnQsIE1lbnVJdGVtRWxlbWVudCwgTGFiZWxFbGVtZW50LCBNPiwgXCJvcmllbnRhdGlvblwiIHwgXCJhcmlhTGFiZWxcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VNZW51YmFyUmV0dXJuVHlwZTxNZW51UGFyZW50RWxlbWVudCwgTWVudUl0ZW1FbGVtZW50LCBMYWJlbEVsZW1lbnQsIE0+KTogVk5vZGU8YW55Pjtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgTWVudWJhckl0ZW1Qcm9wczxNZW51SXRlbUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8TWVudWJhckl0ZW1Qcm9wc0Jhc2U8TWVudUl0ZW1FbGVtZW50PiwgXCJhcmlhUHJvcE5hbWVcIiB8IFwiaW5kZXhcIiB8IFwic2VsZWN0aW9uTW9kZVwiIHwgXCJnZXRTb3J0VmFsdWVcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VNZW51YmFySXRlbVJldHVyblR5cGU8TWVudUl0ZW1FbGVtZW50LCBVc2VNZW51YmFyU3ViSW5mbzxNZW51SXRlbUVsZW1lbnQ+Pik6IFZOb2RlPGFueT47XG59XG5cbmV4cG9ydCBjb25zdCBNZW51YmFySXRlbUNvbnRleHQgPSBjcmVhdGVDb250ZXh0PFVzZU1lbnViYXJDb250ZXh0PGFueSwgYW55LCBhbnk+PihudWxsISk7XG5cbmV4cG9ydCBjb25zdCBNZW51YmFyID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gTWVudWJhclU8Q29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIENoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICByZW5kZXIsXG4gICAgY29sbGF0b3IsXG4gICAgZGlzYWJsZUFycm93S2V5cyxcbiAgICBkaXNhYmxlSG9tZUVuZEtleXMsXG4gICAgbmF2aWdhdGVQYXN0RW5kLFxuICAgIG5hdmlnYXRlUGFzdFN0YXJ0LFxuICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZSxcbiAgICBvcmllbnRhdGlvbixcbiAgICBzdGFnZ2VyZWQsXG4gICAgbm9UeXBlYWhlYWQsXG4gICAgb25UYWJiYWJsZUluZGV4Q2hhbmdlLFxuICAgIGNvbXBhcmUsXG4gICAgZ2V0SW5kZXgsXG4gICAgdW50YWJiYWJsZSxcbiAgICBzZWxlY3RlZEluZGV4LFxuICAgIG9uU2VsZWN0ZWRJbmRleENoYW5nZSxcbiAgICB0eXBlYWhlYWRUaW1lb3V0LFxuICAgIHJvbGUsXG4gICAgYXJpYUxhYmVsXG59OiBNZW51YmFyUHJvcHM8Q29udGFpbmVyRWxlbWVudCwgQ2hpbGRFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFVzZU1lbnViYXJTdWJJbmZvPENoaWxkRWxlbWVudD4+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGluZm8gPSB1c2VNZW51YmFyPENvbnRhaW5lckVsZW1lbnQsIENoaWxkRWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIGxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBkaXNhYmxlQXJyb3dLZXlzOiB1c2VEZWZhdWx0KFwiZGlzYWJsZUFycm93S2V5c1wiLCBkaXNhYmxlQXJyb3dLZXlzKSxcbiAgICAgICAgICAgIGRpc2FibGVIb21lRW5kS2V5czogdXNlRGVmYXVsdChcImRpc2FibGVIb21lRW5kS2V5c1wiLCBkaXNhYmxlSG9tZUVuZEtleXMpLFxuICAgICAgICAgICAgbmF2aWdhdGVQYXN0RW5kOiBuYXZpZ2F0ZVBhc3RFbmQgPz8gXCJ3cmFwXCIsXG4gICAgICAgICAgICBuYXZpZ2F0ZVBhc3RTdGFydDogbmF2aWdhdGVQYXN0U3RhcnQgPz8gXCJ3cmFwXCIsXG4gICAgICAgICAgICBwYWdlTmF2aWdhdGlvblNpemU6IHVzZURlZmF1bHQoXCJwYWdlTmF2aWdhdGlvblNpemVcIiwgcGFnZU5hdmlnYXRpb25TaXplKVxuICAgICAgICB9LFxuICAgICAgICB0b29sYmFyUGFyYW1ldGVyczogeyBvcmllbnRhdGlvbiwgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBvblNlbGVjdGVkSW5kZXhDaGFuZ2UgPz8gbnVsbCB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IHsgb25UYWJiYWJsZUluZGV4Q2hhbmdlOiBvblRhYmJhYmxlSW5kZXhDaGFuZ2UgPz8gbnVsbCwgdW50YWJiYWJsZTogdW50YWJiYWJsZSA/PyBmYWxzZSB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY29sbGF0b3I6IHVzZURlZmF1bHQoXCJjb2xsYXRvclwiLCBjb2xsYXRvciksXG4gICAgICAgICAgICBub1R5cGVhaGVhZDogdXNlRGVmYXVsdChcIm5vVHlwZWFoZWFkXCIsIG5vVHlwZWFoZWFkKSxcbiAgICAgICAgICAgIHR5cGVhaGVhZFRpbWVvdXQ6IHVzZURlZmF1bHQoXCJ0eXBlYWhlYWRUaW1lb3V0XCIsIHR5cGVhaGVhZFRpbWVvdXQpXG4gICAgICAgIH0sXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHsgZ2V0SW5kZXg6IHVzZURlZmF1bHQoXCJnZXRJbmRleFwiLCBnZXRJbmRleCkgfSxcbiAgICAgICAgc3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IHN0YWdnZXJlZDogc3RhZ2dlcmVkIHx8IGZhbHNlIH0sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkRlY2xhcmF0aXZlUGFyYW1ldGVyczogeyBzZWxlY3RlZEluZGV4OiBzZWxlY3RlZEluZGV4ID8/IG51bGwgfSxcbiAgICAgICAgc29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHsgY29tcGFyZTogY29tcGFyZSA/PyBudWxsIH0sXG4gICAgICAgIG1lbnViYXJQYXJhbWV0ZXJzOiB7IHJvbGU6IHJvbGUgPz8gXCJtZW51YmFyXCIgfSxcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7IGFyaWFMYWJlbCB9XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8TWVudWJhckl0ZW1Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXtpbmZvLmNvbnRleHR9PlxuICAgICAgICAgICAge3JlbmRlcihpbmZvKX1cbiAgICAgICAgPC9NZW51YmFySXRlbUNvbnRleHQuUHJvdmlkZXI+XG4gICAgKVxufSlcblxuXG5leHBvcnQgY29uc3QgTWVudWJhckl0ZW0gPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBNZW51SXRlbVU8TWVudUl0ZW1FbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIGluZGV4LFxuICAgIHJlbmRlcixcbiAgICBhcmlhUHJvcE5hbWUsXG4gICAgZm9jdXNTZWxmLFxuICAgIHNlbGVjdGlvbk1vZGUsXG4gICAgaGlkZGVuLFxuICAgIGdldFRleHQsXG4gICAgZGlzYWJsZWQsXG4gICAgb25QcmVzcyxcbiAgICBnZXRTb3J0VmFsdWUsXG4gICAgcm9sZSxcbn06IE1lbnViYXJJdGVtUHJvcHM8TWVudUl0ZW1FbGVtZW50PiwgcmVmPzogUmVmPGFueT4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gKHVzZUNvbnRleHQoTWVudWJhckl0ZW1Db250ZXh0KSk7XG4gICAgY29uc29sZS5hc3NlcnQoY29udGV4dCAhPSBudWxsLCBgVGhpcyBNZW51SXRlbSBpcyBub3QgY29udGFpbmVkIHdpdGhpbiBhIE1lbnViYXIvTWVudWApO1xuICAgIGNvbnN0IGRlZmF1bHRGb2N1c1NlbGYgPSB1c2VDYWxsYmFjaygoZTogTWVudUl0ZW1FbGVtZW50IHwgbnVsbCkgPT4gKGUgYXMgRWxlbWVudCBhcyBIVE1MRWxlbWVudCk/LmZvY3VzPy4oKSwgW10pXG5cbiAgICBjb25zdCBpbmZvID0gdXNlTWVudWJhckNoaWxkPE1lbnVJdGVtRWxlbWVudD4oe1xuICAgICAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGZvY3VzU2VsZjogZm9jdXNTZWxmID8/IGRlZmF1bHRGb2N1c1NlbGYgfSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogeyBoaWRkZW46IGhpZGRlbiA/PyBmYWxzZSB9LFxuICAgICAgICBzb3J0YWJsZUNoaWxkUGFyYW1ldGVyczogeyBnZXRTb3J0VmFsdWUgfSxcbiAgICAgICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzOiB7IGdldFRleHQ6IHVzZURlZmF1bHQoXCJnZXRUZXh0XCIsIGdldFRleHQpIH0sXG4gICAgICAgIG1lbnVJdGVtUGFyYW1ldGVyczogeyBvblByZXNzOiBvblByZXNzID8/IG51bGwsIHJvbGU6IHJvbGUgPz8gXCJtZW51aXRlbVwiIH0sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyczogeyBhcmlhUHJvcE5hbWUsIHNlbGVjdGlvbk1vZGUsIGRpc2FibGVkOiBkaXNhYmxlZCA/PyBmYWxzZSB9XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD57cmVuZGVyKGluZm8pfTwvPlxuICAgIClcbn0pO1xuIiwiaW1wb3J0IHsgUmVmLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IFVzZUFzeW5jSGFuZGxlclBhcmFtZXRlcnMgfSBmcm9tIFwicHJlYWN0LXByb3AtaGVscGVyc1wiO1xuaW1wb3J0IHsgdXNlSW1wZXJhdGl2ZUhhbmRsZSB9IGZyb20gXCJwcmVhY3QvaG9va3NcIjtcbmltcG9ydCB7IHVzZVByb2dyZXNzLCBVc2VQcm9ncmVzc1BhcmFtZXRlcnMsIFVzZVByb2dyZXNzUmV0dXJuVHlwZSwgdXNlUHJvZ3Jlc3NXaXRoSGFuZGxlciwgVXNlUHJvZ3Jlc3NXaXRoSGFuZGxlclBhcmFtZXRlcnMsIFVzZVByb2dyZXNzV2l0aEhhbmRsZXJSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3VzZS1wcm9ncmVzc1wiO1xuaW1wb3J0IHsgbWVtb0ZvcndhcmRSZWYsIFBhcnRpYWxFeGNlcHQgfSBmcm9tIFwiLi91dGlsXCI7XG5cbnR5cGUgR2V0PFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFRbS107XG5cbmludGVyZmFjZSBQcm9ncmVzc1Byb3BzQmFzZTxJbmRpY2F0b3JFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBHZXQ8VXNlUHJvZ3Jlc3NQYXJhbWV0ZXJzPEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD4sIFwibGFiZWxQYXJhbWV0ZXJzXCI+LCBHZXQ8VXNlUHJvZ3Jlc3NQYXJhbWV0ZXJzPEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD4sIFwicHJvZ3Jlc3NJbmRpY2F0b3JQYXJhbWV0ZXJzXCI+IHtcbiAgICByZWY/OiBSZWY8VXNlUHJvZ3Jlc3NSZXR1cm5UeXBlPEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD4+O1xufVxuXG5pbnRlcmZhY2UgUHJvZ3Jlc3NXaXRoSGFuZGxlclByb3BzQmFzZTxFdmVudFR5cGUsIENhcHR1cmVUeXBlLCBJbmRpY2F0b3JFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kc1xuICAgIEdldDxVc2VQcm9ncmVzc1dpdGhIYW5kbGVyUGFyYW1ldGVyczxFdmVudFR5cGUsIENhcHR1cmVUeXBlLCBJbmRpY2F0b3JFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBcImxhYmVsUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlUHJvZ3Jlc3NXaXRoSGFuZGxlclBhcmFtZXRlcnM8RXZlbnRUeXBlLCBDYXB0dXJlVHlwZSwgSW5kaWNhdG9yRWxlbWVudCwgTGFiZWxFbGVtZW50PiwgXCJwcm9ncmVzc0luZGljYXRvclBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVByb2dyZXNzV2l0aEhhbmRsZXJQYXJhbWV0ZXJzPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGUsIEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD4sIFwicHJvZ3Jlc3NXaXRoSGFuZGxlclBhcmFtZXRlcnNcIj4sXG4gICAgVXNlQXN5bmNIYW5kbGVyUGFyYW1ldGVyczxFdmVudFR5cGUsIENhcHR1cmVUeXBlPiB7XG4gICAgcmVmPzogUmVmPFVzZVByb2dyZXNzUmV0dXJuVHlwZTxJbmRpY2F0b3JFbGVtZW50LCBMYWJlbEVsZW1lbnQ+Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQcm9ncmVzc1Byb3BzPEluZGljYXRvckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8UHJvZ3Jlc3NQcm9wc0Jhc2U8SW5kaWNhdG9yRWxlbWVudCwgTGFiZWxFbGVtZW50PiwgXCJ0YWdJbmRpY2F0b3JcIiB8IFwiYXJpYUxhYmVsXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlUHJvZ3Jlc3NSZXR1cm5UeXBlPEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD4pOiBWTm9kZTxhbnk+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFByb2dyZXNzV2l0aEhhbmRsZXJQcm9wczxFdmVudFR5cGUsIENhcHR1cmVUeXBlLCBJbmRpY2F0b3JFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PFByb2dyZXNzV2l0aEhhbmRsZXJQcm9wc0Jhc2U8RXZlbnRUeXBlLCBDYXB0dXJlVHlwZSwgSW5kaWNhdG9yRWxlbWVudCwgTGFiZWxFbGVtZW50PiwgXCJjYXB0dXJlXCIgfCBcInRhZ0luZGljYXRvclwiIHwgXCJhcmlhTGFiZWxcIiB8IFwiYXN5bmNIYW5kbGVyXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlUHJvZ3Jlc3NXaXRoSGFuZGxlclJldHVyblR5cGU8RXZlbnRUeXBlLCBDYXB0dXJlVHlwZSwgSW5kaWNhdG9yRWxlbWVudCwgTGFiZWxFbGVtZW50Pik6IFZOb2RlPGFueT47XG59XG5cbmV4cG9ydCBjb25zdCBQcm9ncmVzcyA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFByb2dyZXNzPEluZGljYXRvckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IHRhZ0luZGljYXRvciwgYXJpYUxhYmVsLCBtYXgsIHJlbmRlciwgdmFsdWUsIHZhbHVlVGV4dCB9OiBQcm9ncmVzc1Byb3BzPEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgaW5mbyA9IHVzZVByb2dyZXNzPEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD4oe1xuICAgICAgICBsYWJlbFBhcmFtZXRlcnM6IHsgYXJpYUxhYmVsIH0sXG4gICAgICAgIHByb2dyZXNzSW5kaWNhdG9yUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgbWF4OiBtYXggPz8gMTAwLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlID8/IFwiaW5kZXRlcm1pbmF0ZVwiLFxuICAgICAgICAgICAgdmFsdWVUZXh0OiB2YWx1ZVRleHQgPz8gbnVsbCxcbiAgICAgICAgICAgIHRhZ0luZGljYXRvclxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIHJlbmRlcihpbmZvKTtcbn0pXG5cbmV4cG9ydCBjb25zdCBQcm9ncmVzc1dpdGhIYW5kbGVyID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gUHJvZ3Jlc3NXaXRoSGFuZGxlcjxFdmVudFR5cGUsIENhcHR1cmVUeXBlLCBJbmRpY2F0b3JFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oeyBhcmlhTGFiZWwsIGZvcmNpYmx5UGVuZGluZywgcmVuZGVyLCB0YWdJbmRpY2F0b3IsIGFzeW5jSGFuZGxlciwgY2FwdHVyZSwgZGVib3VuY2UsIHRocm90dGxlIH06IFByb2dyZXNzV2l0aEhhbmRsZXJQcm9wczxFdmVudFR5cGUsIENhcHR1cmVUeXBlLCBJbmRpY2F0b3JFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGluZm8gPSB1c2VQcm9ncmVzc1dpdGhIYW5kbGVyPEV2ZW50VHlwZSwgQ2FwdHVyZVR5cGUsIEluZGljYXRvckVsZW1lbnQsIExhYmVsRWxlbWVudD4oe1xuICAgICAgICBhc3luY0hhbmRsZXJQYXJhbWV0ZXJzOiB7IGFzeW5jSGFuZGxlciwgY2FwdHVyZSwgZGVib3VuY2UsIHRocm90dGxlIH0sXG4gICAgICAgIGxhYmVsUGFyYW1ldGVyczogeyBhcmlhTGFiZWwgfSxcbiAgICAgICAgcHJvZ3Jlc3NJbmRpY2F0b3JQYXJhbWV0ZXJzOiB7IHRhZ0luZGljYXRvciB9LFxuICAgICAgICBwcm9ncmVzc1dpdGhIYW5kbGVyUGFyYW1ldGVyczogeyBmb3JjaWJseVBlbmRpbmc6IGZvcmNpYmx5UGVuZGluZyA/PyBmYWxzZSB9XG4gICAgfSlcblxuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmISwgKCkgPT4gaW5mbyk7XG5cbiAgICByZXR1cm4gKHJlbmRlcihpbmZvKSlcbn0pO1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgUmVmLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUdldHRlciB9IGZyb20gXCJwcmVhY3QtcHJvcC1oZWxwZXJzXCI7XG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgT21pdFN0cm9uZyB9IGZyb20gXCIuLi9wcm9wc1wiO1xuaW1wb3J0IHsgRm9jdXNhYmxlTGFiZWxFbGVtZW50LCBMYWJlbFBvc2l0aW9uIH0gZnJvbSBcIi4uL3VzZS1sYWJlbFwiO1xuaW1wb3J0IHsgUmFkaW9Db250ZXh0LCBSYWRpb1N1YkluZm8sIHVzZVJhZGlvLCB1c2VSYWRpb0dyb3VwLCBVc2VSYWRpb0dyb3VwUGFyYW1ldGVycywgVXNlUmFkaW9Hcm91cFJldHVyblR5cGUsIFVzZVJhZGlvUGFyYW1ldGVycywgVXNlUmFkaW9SZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3VzZS1yYWRpby1ncm91cFwiO1xuaW1wb3J0IHsgbWVtb0ZvcndhcmRSZWYsIFBhcnRpYWxFeGNlcHQsIHVzZURlZmF1bHQgfSBmcm9tIFwiLi91dGlsXCI7XG5cbnR5cGUgR2V0PFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFRbS107XG5cbmludGVyZmFjZSBSYWRpb0dyb3VwUHJvcHNCYXNlPFYgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIsIEdyb3VwRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIEdyb3VwTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzXG4gICAgR2V0PFVzZVJhZGlvR3JvdXBQYXJhbWV0ZXJzPFYsIEdyb3VwRWxlbWVudCwgR3JvdXBMYWJlbEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50PiwgXCJyYWRpb0dyb3VwUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlUmFkaW9Hcm91cFBhcmFtZXRlcnM8ViwgR3JvdXBFbGVtZW50LCBHcm91cExhYmVsRWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQ+LCBcImxpbmVhck5hdmlnYXRpb25QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VSYWRpb0dyb3VwUGFyYW1ldGVyczxWLCBHcm91cEVsZW1lbnQsIEdyb3VwTGFiZWxFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudD4sIFwibGFiZWxQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VSYWRpb0dyb3VwUGFyYW1ldGVyczxWLCBHcm91cEVsZW1lbnQsIEdyb3VwTGFiZWxFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudD4sIFwicmFkaW9Hcm91cFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVJhZGlvR3JvdXBQYXJhbWV0ZXJzPFYsIEdyb3VwRWxlbWVudCwgR3JvdXBMYWJlbEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50PiwgXCJyZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VSYWRpb0dyb3VwUGFyYW1ldGVyczxWLCBHcm91cEVsZW1lbnQsIEdyb3VwTGFiZWxFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudD4sIFwic3RhZ2dlcmVkQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VSYWRpb0dyb3VwUGFyYW1ldGVyczxWLCBHcm91cEVsZW1lbnQsIEdyb3VwTGFiZWxFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudD4sIFwic29ydGFibGVDaGlsZHJlblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVJhZGlvR3JvdXBQYXJhbWV0ZXJzPFYsIEdyb3VwRWxlbWVudCwgR3JvdXBMYWJlbEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50PiwgXCJyb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVJhZGlvR3JvdXBQYXJhbWV0ZXJzPFYsIEdyb3VwRWxlbWVudCwgR3JvdXBMYWJlbEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50PiwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPiB7XG4gICAgcmVmPzogUmVmPFVzZVJhZGlvR3JvdXBSZXR1cm5UeXBlPFYsIEdyb3VwRWxlbWVudCwgR3JvdXBMYWJlbEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50Pj47XG59XG5cbmludGVyZmFjZSBSYWRpb1Byb3BzQmFzZTxMUCBleHRlbmRzIExhYmVsUG9zaXRpb24sIElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFYgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXI+IGV4dGVuZHNcbiAgICBHZXQ8VXNlUmFkaW9QYXJhbWV0ZXJzPExQLCBWLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUmFkaW9TdWJJbmZvPEZvY3VzYWJsZUxhYmVsRWxlbWVudDxMUCwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBWPj4sIFwicmFkaW9QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VSYWRpb1BhcmFtZXRlcnM8TFAsIFYsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50LCBSYWRpb1N1YkluZm88Rm9jdXNhYmxlTGFiZWxFbGVtZW50PExQLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudD4sIFY+PiwgXCJjaGVja2JveExpa2VQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VSYWRpb1BhcmFtZXRlcnM8TFAsIFYsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50LCBSYWRpb1N1YkluZm88Rm9jdXNhYmxlTGFiZWxFbGVtZW50PExQLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudD4sIFY+PiwgXCJsYWJlbFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVJhZGlvUGFyYW1ldGVyczxMUCwgViwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJhZGlvU3ViSW5mbzxGb2N1c2FibGVMYWJlbEVsZW1lbnQ8TFAsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50PiwgVj4+LCBcInJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzXCI+LFxuICAgIE9taXRTdHJvbmc8R2V0PFVzZVJhZGlvUGFyYW1ldGVyczxMUCwgViwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJhZGlvU3ViSW5mbzxGb2N1c2FibGVMYWJlbEVsZW1lbnQ8TFAsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50PiwgVj4+LCBcInNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyc1wiPiwgXCJkaXNhYmxlZFwiPixcbiAgICBHZXQ8VXNlUmFkaW9QYXJhbWV0ZXJzPExQLCBWLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUmFkaW9TdWJJbmZvPEZvY3VzYWJsZUxhYmVsRWxlbWVudDxMUCwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBWPj4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+LFxuICAgIE9taXRTdHJvbmc8R2V0PFVzZVJhZGlvUGFyYW1ldGVyczxMUCwgViwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFJhZGlvU3ViSW5mbzxGb2N1c2FibGVMYWJlbEVsZW1lbnQ8TFAsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50PiwgVj4+LCBcIm1hbmFnZWRDaGlsZFBhcmFtZXRlcnNcIj4sIG5ldmVyPiB7XG4gICAgZm9jdXNTZWxmPzogVXNlUmFkaW9QYXJhbWV0ZXJzPExQLCBWLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudCwgUmFkaW9TdWJJbmZvPEZvY3VzYWJsZUxhYmVsRWxlbWVudDxMUCwgSW5wdXRFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBWPj5bXCJjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzXCJdW1wiZm9jdXNTZWxmXCJdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJhZGlvR3JvdXBQcm9wczxWIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyLCBHcm91cEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBHcm91cExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYmJhYmxlQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PFJhZGlvR3JvdXBQcm9wc0Jhc2U8ViwgR3JvdXBFbGVtZW50LCBHcm91cExhYmVsRWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQ+LCBcIm5hdmlnYXRpb25EaXJlY3Rpb25cIiB8IFwiYXJpYUxhYmVsXCIgfCBcIm5hbWVcIiB8IFwic2VsZWN0ZWRWYWx1ZVwiIHwgXCJvblNlbGVjdGVkVmFsdWVDaGFuZ2VcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VSYWRpb0dyb3VwUmV0dXJuVHlwZTxWLCBHcm91cEVsZW1lbnQsIEdyb3VwTGFiZWxFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudD4pOiBWTm9kZTxhbnk+O1xufVxuZXhwb3J0IGludGVyZmFjZSBSYWRpb1Byb3BzPExQIGV4dGVuZHMgTGFiZWxQb3NpdGlvbiwgSW5wdXRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgViBleHRlbmRzIHN0cmluZyB8IG51bWJlcj4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PFJhZGlvUHJvcHNCYXNlPExQLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudCwgVj4sIFwiaW5kZXhcIiB8IFwidmFsdWVcIiB8IFwiYXJpYUxhYmVsXCIgfCBcImxhYmVsUG9zaXRpb25cIiB8IFwidGFnSW5wdXRcIiB8IFwidGFnTGFiZWxcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VSYWRpb1JldHVyblR5cGU8TFAsIFYsIElucHV0RWxlbWVudCwgTGFiZWxFbGVtZW50LCBSYWRpb1N1YkluZm88Rm9jdXNhYmxlTGFiZWxFbGVtZW50PExQLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudD4sIFY+Pik6IFZOb2RlPGFueT47XG59XG5cbmNvbnN0IFJhZGlvQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8UmFkaW9Db250ZXh0PGFueSwgYW55LCBhbnksIGFueT4+KG51bGwhKTtcbmV4cG9ydCBjb25zdCBSYWRpb0dyb3VwID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gUmFkaW9Hcm91cDxWIGV4dGVuZHMgc3RyaW5nIHwgbnVtYmVyLCBHcm91cEVsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCwgR3JvdXBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oe1xuICAgIHJlbmRlcixcbiAgICBuYW1lLFxuICAgIG9uU2VsZWN0ZWRWYWx1ZUNoYW5nZSxcbiAgICBjb2xsYXRvcixcbiAgICBkaXNhYmxlQXJyb3dLZXlzLFxuICAgIGRpc2FibGVIb21lRW5kS2V5cyxcbiAgICBuYXZpZ2F0aW9uRGlyZWN0aW9uLFxuICAgIG5vVHlwZWFoZWFkLFxuICAgIHR5cGVhaGVhZFRpbWVvdXQsXG4gICAgYXJpYUxhYmVsLFxuICAgIGNvbXBhcmUsXG4gICAgc3RhZ2dlcmVkLFxuICAgIGdldEluZGV4LFxuICAgIG5hdmlnYXRlUGFzdEVuZCxcbiAgICBuYXZpZ2F0ZVBhc3RTdGFydCxcbiAgICBzZWxlY3RlZFZhbHVlLFxuICAgIHVudGFiYmFibGUsXG4gICAgb25UYWJiYWJsZUluZGV4Q2hhbmdlLFxuICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZSxcbn06IFJhZGlvR3JvdXBQcm9wczxWLCBHcm91cEVsZW1lbnQsIEdyb3VwTGFiZWxFbGVtZW50LCBUYWJiYWJsZUNoaWxkRWxlbWVudD4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgaW5mbyA9IHVzZVJhZGlvR3JvdXA8ViwgR3JvdXBFbGVtZW50LCBHcm91cExhYmVsRWxlbWVudCwgVGFiYmFibGVDaGlsZEVsZW1lbnQ+KHtcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIG5hdmlnYXRpb25EaXJlY3Rpb24sXG4gICAgICAgICAgICBuYXZpZ2F0ZVBhc3RFbmQ6IG5hdmlnYXRlUGFzdEVuZCA/PyBcIndyYXBcIixcbiAgICAgICAgICAgIG5hdmlnYXRlUGFzdFN0YXJ0OiBuYXZpZ2F0ZVBhc3RTdGFydCA/PyBcIndyYXBcIixcbiAgICAgICAgICAgIGRpc2FibGVBcnJvd0tleXM6IHVzZURlZmF1bHQoXCJkaXNhYmxlQXJyb3dLZXlzXCIsIGRpc2FibGVBcnJvd0tleXMpLFxuICAgICAgICAgICAgZGlzYWJsZUhvbWVFbmRLZXlzOiB1c2VEZWZhdWx0KFwiZGlzYWJsZUhvbWVFbmRLZXlzXCIsIGRpc2FibGVIb21lRW5kS2V5cyksXG4gICAgICAgICAgICBwYWdlTmF2aWdhdGlvblNpemU6IHVzZURlZmF1bHQoXCJwYWdlTmF2aWdhdGlvblNpemVcIiwgcGFnZU5hdmlnYXRpb25TaXplKVxuICAgICAgICB9LFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgc3RhZ2dlcmVkOiBzdGFnZ2VyZWQgfHwgZmFsc2UgfSxcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7IGFyaWFMYWJlbCB9LFxuICAgICAgICByZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IGdldEluZGV4OiB1c2VEZWZhdWx0KFwiZ2V0SW5kZXhcIiwgZ2V0SW5kZXgpIH0sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7IGNvbXBhcmU6IGNvbXBhcmUgPz8gbnVsbCB9LFxuICAgICAgICByYWRpb0dyb3VwUGFyYW1ldGVyczogeyBuYW1lLCBvblNlbGVjdGVkVmFsdWVDaGFuZ2UsIHNlbGVjdGVkVmFsdWUgfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvblRhYmJhYmxlSW5kZXhDaGFuZ2U6IG9uVGFiYmFibGVJbmRleENoYW5nZSA/PyBudWxsLFxuICAgICAgICAgICAgdW50YWJiYWJsZTogdW50YWJiYWJsZSA/PyBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY29sbGF0b3I6IHVzZURlZmF1bHQoXCJjb2xsYXRvclwiLCBjb2xsYXRvciksXG4gICAgICAgICAgICBub1R5cGVhaGVhZDogdXNlRGVmYXVsdChcIm5vVHlwZWFoZWFkXCIsIG5vVHlwZWFoZWFkKSxcbiAgICAgICAgICAgIHR5cGVhaGVhZFRpbWVvdXQ6IHVzZURlZmF1bHQoXCJ0eXBlYWhlYWRUaW1lb3V0XCIsIHR5cGVhaGVhZFRpbWVvdXQpXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFJhZGlvQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mby5jb250ZXh0fT5cbiAgICAgICAgICAgIHtyZW5kZXIoaW5mbyl9XG4gICAgICAgIDwvUmFkaW9Db250ZXh0LlByb3ZpZGVyPlxuICAgIClcbn0pO1xuXG5leHBvcnQgY29uc3QgUmFkaW8gPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBSYWRpbzxMUCBleHRlbmRzIExhYmVsUG9zaXRpb24sIFYgZXh0ZW5kcyBzdHJpbmcgfCBudW1iZXIsIElucHV0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBkaXNhYmxlZCxcbiAgICBpbmRleCxcbiAgICByZW5kZXIsXG4gICAgdmFsdWUsXG4gICAgYXJpYUxhYmVsLFxuICAgIGZvY3VzU2VsZixcbiAgICBsYWJlbFBvc2l0aW9uLFxuICAgIGhpZGRlbixcbiAgICB0YWdJbnB1dCxcbiAgICB0YWdMYWJlbCxcbiAgICBnZXRUZXh0XG59OiBSYWRpb1Byb3BzPExQLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudCwgVj4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoUmFkaW9Db250ZXh0KTtcbiAgICBjb25zb2xlLmFzc2VydChjb250ZXh0ICE9IG51bGwsIGBUaGlzIFJhZGlvIGlzIG5vdCBjb250YWluZWQgd2l0aGluIGEgUmFkaW9Hcm91cGApO1xuICAgIGNvbnN0IGdldFZhbHVlID0gdXNlU3RhYmxlR2V0dGVyKHZhbHVlKTtcbiAgICBjb25zdCBkZWZhdWx0Rm9jdXNTZWxmID0gKCkgPT4gaW5mby5jaGVja2JveExpa2VSZXR1cm4uZm9jdXNTZWxmKCk7XG4gICAgY29uc3QgaW5mbyA9IHVzZVJhZGlvPExQLCBJbnB1dEVsZW1lbnQsIExhYmVsRWxlbWVudCwgVj4oe1xuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4IH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzOiB7IGhpZGRlbjogaGlkZGVuID8/IGZhbHNlIH0sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzOiB7IGdldFNvcnRWYWx1ZTogZ2V0VmFsdWUgfSxcbiAgICAgICAgcmFkaW9QYXJhbWV0ZXJzOiB7IHZhbHVlIH0sXG4gICAgICAgIGNoZWNrYm94TGlrZVBhcmFtZXRlcnM6IHsgZGlzYWJsZWQ6IGRpc2FibGVkID8/IGZhbHNlIH0sXG4gICAgICAgIGNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM6IHsgZm9jdXNTZWxmOiBmb2N1c1NlbGYgPz8gZGVmYXVsdEZvY3VzU2VsZiB9LFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBsYWJlbFBhcmFtZXRlcnM6IHsgYXJpYUxhYmVsLCBsYWJlbFBvc2l0aW9uLCB0YWdJbnB1dCwgdGFnTGFiZWwgfSxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGRpc2FibGVkOiAhIWRpc2FibGVkIH0sXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogeyBnZXRUZXh0OiB1c2VEZWZhdWx0KFwiZ2V0VGV4dFwiLCBnZXRUZXh0KSB9XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIHJlbmRlcihpbmZvKTtcbn0pO1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50Q2hpbGRyZW4sIGNyZWF0ZUNvbnRleHQsIFJlZiwgVk5vZGUgfSBmcm9tIFwicHJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb250ZXh0LCB1c2VJbXBlcmF0aXZlSGFuZGxlIH0gZnJvbSBcInByZWFjdC9ob29rc1wiO1xuaW1wb3J0IHsgU2xpZGVyQ29udGV4dCwgU2xpZGVyVGh1bWJJbmZvLCB1c2VTbGlkZXIsIFVzZVNsaWRlclBhcmFtZXRlcnMsIFVzZVNsaWRlclJldHVyblR5cGUsIHVzZVNsaWRlclRodW1iLCBVc2VTbGlkZXJUaHVtYlBhcmFtZXRlcnMsIFVzZVNsaWRlclRodW1iUmV0dXJuVHlwZSB9IGZyb20gXCIuLi91c2Utc2xpZGVyXCI7XG5pbXBvcnQgeyBtZW1vRm9yd2FyZFJlZiB9IGZyb20gXCIuL3V0aWxcIjtcblxudHlwZSBHZXQ8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gVFtLXTtcblxuZXhwb3J0IGludGVyZmFjZSBTbGlkZXJQcm9wcyBleHRlbmRzIEdldDxVc2VTbGlkZXJQYXJhbWV0ZXJzPFNsaWRlclRodW1iSW5mbz4sIFwibWFuYWdlZENoaWxkcmVuUGFyYW1ldGVyc1wiPiwgR2V0PFVzZVNsaWRlclBhcmFtZXRlcnM8U2xpZGVyVGh1bWJJbmZvPiwgXCJzbGlkZXJQYXJhbWV0ZXJzXCI+IHtcbiAgICBjaGlsZHJlbjogQ29tcG9uZW50Q2hpbGRyZW47XG4gICAgcmVmPzogUmVmPFVzZVNsaWRlclJldHVyblR5cGU8U2xpZGVyVGh1bWJJbmZvPj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2xpZGVyVGh1bWJQcm9wczxUaHVtYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIEdldDxVc2VTbGlkZXJUaHVtYlBhcmFtZXRlcnM8VGh1bWJFbGVtZW50LCBTbGlkZXJUaHVtYkluZm8+LCBcIm1hbmFnZWRDaGlsZFBhcmFtZXRlcnNcIj4sIEdldDxVc2VTbGlkZXJUaHVtYlBhcmFtZXRlcnM8VGh1bWJFbGVtZW50LCBTbGlkZXJUaHVtYkluZm8+LCBcInNsaWRlclRodW1iUGFyYW1ldGVyc1wiPiB7XG4gICAgcmVuZGVyKGluZm86IFVzZVNsaWRlclRodW1iUmV0dXJuVHlwZTxUaHVtYkVsZW1lbnQsIFNsaWRlclRodW1iSW5mbz4pOiBWTm9kZTtcbn1cblxuY29uc3QgU2xpZGVyVGh1bWJDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxTbGlkZXJDb250ZXh0PGFueT4+KG51bGwhKTtcblxuZXhwb3J0IGNvbnN0IFNsaWRlciA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFNsaWRlcih7IG1heCwgbWluLCBvbkFmdGVyQ2hpbGRMYXlvdXRFZmZlY3QsIG9uQ2hpbGRyZW5Nb3VudENoYW5nZSwgY2hpbGRyZW4gfTogU2xpZGVyUHJvcHMsIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgaW5mbyA9IHVzZVNsaWRlcih7XG4gICAgICAgIG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgb25BZnRlckNoaWxkTGF5b3V0RWZmZWN0LCBvbkNoaWxkcmVuTW91bnRDaGFuZ2UgfSxcbiAgICAgICAgc2xpZGVyUGFyYW1ldGVyczogeyBtYXgsIG1pbiB9XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFNsaWRlclRodW1iQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mby5jb250ZXh0fT57Y2hpbGRyZW59PC9TbGlkZXJUaHVtYkNvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbn0pXG5cbmV4cG9ydCBjb25zdCBTbGlkZXJUaHVtYiA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFNsaWRlclRodW1iVTxUaHVtYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IGxhYmVsLCB0YWcsIHZhbHVlLCBtYXgsIG1pbiwgb25WYWx1ZUNoYW5nZSwgaW5kZXgsIHJlbmRlciwgdmFsdWVUZXh0IH06IFNsaWRlclRodW1iUHJvcHM8VGh1bWJFbGVtZW50PiwgcmVmPzogUmVmPGFueT4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gKHVzZUNvbnRleHQoU2xpZGVyVGh1bWJDb250ZXh0KSBhcyBTbGlkZXJDb250ZXh0PFNsaWRlclRodW1iSW5mbz4pO1xuICAgIGNvbnNvbGUuYXNzZXJ0KGNvbnRleHQgIT0gbnVsbCwgYFRoaXMgU2xpZGVyVGh1bWIgaXMgbm90IGNvbnRhaW5lZCB3aXRoaW4gYSBTbGlkZXJgKTtcblxuICAgIGNvbnN0IGluZm8gPSB1c2VTbGlkZXJUaHVtYih7XG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSxcbiAgICAgICAgc2xpZGVyVGh1bWJQYXJhbWV0ZXJzOiB7IGxhYmVsLCB0YWcsIHZhbHVlLCBtYXgsIG1pbiwgb25WYWx1ZUNoYW5nZSwgdmFsdWVUZXh0IH0sXG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIHJlbmRlcihpbmZvKTtcbn0pO1xuIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgUmVmLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZVN0YWJsZUNhbGxiYWNrIH0gZnJvbSBcInByZWFjdC1wcm9wLWhlbHBlcnNcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBPbWl0U3Ryb25nIH0gZnJvbSBcIi4uL3Byb3BzXCI7XG5pbXBvcnQgeyBUYWJsZUNlbGxJbmZvLCBUYWJsZVJvd0luZm8sIHVzZVRhYmxlLCB1c2VUYWJsZUNlbGwsIFVzZVRhYmxlQ2VsbFBhcmFtZXRlcnMsIFVzZVRhYmxlQ2VsbFJldHVyblR5cGUsIFVzZVRhYmxlQ29udGV4dCwgVXNlVGFibGVQYXJhbWV0ZXJzLCBVc2VUYWJsZVJldHVyblR5cGUsIHVzZVRhYmxlUm93LCBVc2VUYWJsZVJvd0NvbnRleHQsIFVzZVRhYmxlUm93UGFyYW1ldGVycywgVXNlVGFibGVSb3dSZXR1cm5UeXBlLCB1c2VUYWJsZVNlY3Rpb24sIFVzZVRhYmxlU2VjdGlvbkNvbnRleHQsIFVzZVRhYmxlU2VjdGlvblBhcmFtZXRlcnMsIFVzZVRhYmxlU2VjdGlvblJldHVyblR5cGUgfSBmcm9tIFwiLi4vdXNlLXRhYmxlXCI7XG5pbXBvcnQgeyBtZW1vRm9yd2FyZFJlZiwgUGFydGlhbEV4Y2VwdCwgdXNlRGVmYXVsdCB9IGZyb20gXCIuL3V0aWxcIjtcblxudHlwZSBHZXQ8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gVFtLXTtcbnR5cGUgR2V0MjxULCBLIGV4dGVuZHMga2V5b2YgVCwgSzIgZXh0ZW5kcyBrZXlvZiBUW0tdPiA9IFRbS11bSzJdO1xuXG5pbnRlcmZhY2UgVGFibGVQcm9wc0Jhc2U8VGFibGVFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kc1xuICAgIEdldDxVc2VUYWJsZVBhcmFtZXRlcnM8VGFibGVFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBcImxhYmVsUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFibGVQYXJhbWV0ZXJzPFRhYmxlRWxlbWVudCwgTGFiZWxFbGVtZW50PiwgXCJ0YWJsZVBhcmFtZXRlcnNcIj4ge1xuICAgIHJlZj86IFJlZjxVc2VUYWJsZVJldHVyblR5cGU8VGFibGVFbGVtZW50LCBMYWJlbEVsZW1lbnQ+Pjtcbn1cblxuaW50ZXJmYWNlIFRhYmxlU2VjdGlvblByb3BzQmFzZTxTZWN0aW9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgVGFibGVSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBUYWJsZUNlbGxJbmZvPENlbGxFbGVtZW50Pj4gZXh0ZW5kc1xuICAgIEdldDxVc2VUYWJsZVNlY3Rpb25QYXJhbWV0ZXJzPFNlY3Rpb25FbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0+LCBcImdyaWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFibGVTZWN0aW9uUGFyYW1ldGVyczxTZWN0aW9uRWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNPiwgXCJsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFibGVTZWN0aW9uUGFyYW1ldGVyczxTZWN0aW9uRWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNPiwgXCJyZWFycmFuZ2VhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VUYWJsZVNlY3Rpb25QYXJhbWV0ZXJzPFNlY3Rpb25FbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0+LCBcInJvdmluZ1RhYkluZGV4UGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFibGVTZWN0aW9uUGFyYW1ldGVyczxTZWN0aW9uRWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNPiwgXCJzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VUYWJsZVNlY3Rpb25QYXJhbWV0ZXJzPFNlY3Rpb25FbGVtZW50LCBSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0+LCBcInBhZ2luYXRlZENoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFibGVTZWN0aW9uUGFyYW1ldGVyczxTZWN0aW9uRWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNPiwgXCJzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYmxlU2VjdGlvblBhcmFtZXRlcnM8U2VjdGlvbkVsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTT4sIFwidGFibGVTZWN0aW9uUGFyYW1ldGVyc1wiPiB7XG4gICAgcmVmPzogUmVmPFVzZVRhYmxlU2VjdGlvblJldHVyblR5cGU8U2VjdGlvbkVsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+Pjtcbn1cblxuaW50ZXJmYWNlIFRhYmxlUm93UHJvcHNCYXNlPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgVGFibGVSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBUYWJsZUNlbGxJbmZvPENlbGxFbGVtZW50Pj4gZXh0ZW5kc1xuICAgIE9taXRTdHJvbmc8R2V0PFVzZVRhYmxlUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJ0YWJsZVJvd1BhcmFtZXRlcnNcIj4sIG5ldmVyPixcbiAgICBHZXQyPFVzZVRhYmxlUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJyb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyc1wiLCBcInNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQyPFVzZVRhYmxlUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJyb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyc1wiLCBcIm1hbmFnZWRDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0MjxVc2VUYWJsZVJvd1BhcmFtZXRlcnM8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4sIFwicm93QXNDaGlsZE9mR3JpZFBhcmFtZXRlcnNcIiwgXCJyb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQyPFVzZVRhYmxlUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJyb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyc1wiLCBcInRleHRDb250ZW50UGFyYW1ldGVyc1wiPixcbiAgICBHZXQyPFVzZVRhYmxlUm93UGFyYW1ldGVyczxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPiwgXCJyb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzXCIsIFwibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0MjxVc2VUYWJsZVJvd1BhcmFtZXRlcnM8Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4sIFwicm93QXNQYXJlbnRPZkNlbGxzUGFyYW1ldGVyc1wiLCBcInJvdmluZ1RhYkluZGV4UGFyYW1ldGVyc1wiPiB7XG4gICAgcmVmPzogUmVmPFVzZVRhYmxlUm93UmV0dXJuVHlwZTxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPj47XG59XG5cbmludGVyZmFjZSBUYWJsZUNlbGxQcm9wc0Jhc2U8Q2VsbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDTSBleHRlbmRzIFRhYmxlQ2VsbEluZm88Q2VsbEVsZW1lbnQ+PiBleHRlbmRzXG4gICAgR2V0PFVzZVRhYmxlQ2VsbFBhcmFtZXRlcnM8Q2VsbEVsZW1lbnQsIENNPiwgXCJ0YWJsZUNlbGxQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VUYWJsZUNlbGxQYXJhbWV0ZXJzPENlbGxFbGVtZW50LCBDTT4sIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFibGVDZWxsUGFyYW1ldGVyczxDZWxsRWxlbWVudCwgQ00+LCBcImdyaWROYXZpZ2F0aW9uQ2VsbFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYmxlQ2VsbFBhcmFtZXRlcnM8Q2VsbEVsZW1lbnQsIENNPiwgXCJyb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFibGVDZWxsUGFyYW1ldGVyczxDZWxsRWxlbWVudCwgQ00+LCBcInRleHRDb250ZW50UGFyYW1ldGVyc1wiPiB7XG4gICAgZm9jdXNTZWxmOiBDTVtcImZvY3VzU2VsZlwiXTtcbiAgICBnZXRTb3J0VmFsdWU6IENNW1wiZ2V0U29ydFZhbHVlXCJdO1xuICAgIHJlZj86IFJlZjxVc2VUYWJsZUNlbGxSZXR1cm5UeXBlPENlbGxFbGVtZW50LCBDTT4+O1xufVxuXG5cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFibGVQcm9wczxUYWJsZUVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8VGFibGVQcm9wc0Jhc2U8VGFibGVFbGVtZW50LCBMYWJlbEVsZW1lbnQ+LCBcInRhZ1RhYmxlXCIgfCBcInNlbGVjdGlvbkxpbWl0XCIgfCBcImFyaWFMYWJlbFwiPiB7XG4gICAgcmVuZGVyKGluZm86IFVzZVRhYmxlUmV0dXJuVHlwZTxUYWJsZUVsZW1lbnQsIExhYmVsRWxlbWVudD4pOiBWTm9kZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZVNlY3Rpb25Qcm9wczxTZWN0aW9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgVGFibGVSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBUYWJsZUNlbGxJbmZvPENlbGxFbGVtZW50Pj4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PFRhYmxlU2VjdGlvblByb3BzQmFzZTxTZWN0aW9uRWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4sIFwidGFnVGFibGVTZWN0aW9uXCIgfCBcImxvY2F0aW9uXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlVGFibGVTZWN0aW9uUmV0dXJuVHlwZTxTZWN0aW9uRWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFJNLCBDTT4pOiBWTm9kZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZVJvd1Byb3BzPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJNIGV4dGVuZHMgVGFibGVSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50PiwgQ00gZXh0ZW5kcyBUYWJsZUNlbGxJbmZvPENlbGxFbGVtZW50Pj4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PFRhYmxlUm93UHJvcHNCYXNlPFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBSTSwgQ00+LCBcImluZGV4XCIgfCBcInRhZ1RhYmxlUm93XCIgfCBcImFyaWFQcm9wTmFtZVwiPiB7XG4gICAgcmVuZGVyKGluZm86IFVzZVRhYmxlUm93UmV0dXJuVHlwZTxSb3dFbGVtZW50LCBDZWxsRWxlbWVudCwgUk0sIENNPik6IFZOb2RlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlQ2VsbFByb3BzPENlbGxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ00gZXh0ZW5kcyBUYWJsZUNlbGxJbmZvPENlbGxFbGVtZW50Pj4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PFRhYmxlQ2VsbFByb3BzQmFzZTxDZWxsRWxlbWVudCwgQ00+LCBcInRhZ1RhYmxlQ2VsbFwiIHwgXCJpbmRleFwiIHwgXCJnZXRTb3J0VmFsdWVcIiB8IFwiZm9jdXNTZWxmXCI+IHtcbiAgICByZW5kZXIoaW5mbzogVXNlVGFibGVDZWxsUmV0dXJuVHlwZTxDZWxsRWxlbWVudCwgQ00+KTogVk5vZGU7XG59XG5cblxuY29uc3QgVGFibGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxVc2VUYWJsZUNvbnRleHQ+KG51bGwhKTtcbmNvbnN0IFRhYmxlU2VjdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0PFVzZVRhYmxlU2VjdGlvbkNvbnRleHQ8YW55LCBhbnksIGFueSwgVGFibGVSb3dJbmZvPGFueSwgYW55PiwgVGFibGVDZWxsSW5mbzxhbnk+Pj4obnVsbCEpO1xuY29uc3QgVGFibGVSb3dDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxVc2VUYWJsZVJvd0NvbnRleHQ8YW55LCBhbnksIFRhYmxlQ2VsbEluZm88YW55Pj4+KG51bGwhKTtcblxuZXhwb3J0IGNvbnN0IFRhYmxlID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gVGFibGVVPFRhYmxlRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBhcmlhTGFiZWwsXG4gICAgc2VsZWN0aW9uTGltaXQsXG4gICAgdGFnVGFibGUsXG4gICAgcmVuZGVyXG59OiBUYWJsZVByb3BzPFRhYmxlRWxlbWVudCwgTGFiZWxFbGVtZW50PiwgcmVmPzogUmVmPGFueT4pIHtcbiAgICBjb25zdCBpbmZvID0gdXNlVGFibGU8VGFibGVFbGVtZW50LCBMYWJlbEVsZW1lbnQ+KHtcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7IGFyaWFMYWJlbCB9LFxuICAgICAgICB0YWJsZVBhcmFtZXRlcnM6IHsgc2VsZWN0aW9uTGltaXQsIHRhZ1RhYmxlIH1cbiAgICB9KTtcblxuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmISwgKCkgPT4gaW5mbyk7XG5cbiAgICByZXR1cm4gPFRhYmxlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mby5jb250ZXh0fT57cmVuZGVyKGluZm8pfTwvVGFibGVDb250ZXh0LlByb3ZpZGVyPlxufSlcblxuZXhwb3J0IGNvbnN0IFRhYmxlU2VjdGlvbiA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFRhYmxlU2VjdGlvbjxTZWN0aW9uRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBkaXNhYmxlQXJyb3dLZXlzLFxuICAgIGRpc2FibGVIb21lRW5kS2V5cyxcbiAgICBnZXRJbmRleCxcbiAgICBpbml0aWFsbHlTZWxlY3RlZEluZGV4LFxuICAgIHVudGFiYmFibGUsXG4gICAgbmF2aWdhdGVQYXN0RW5kLFxuICAgIG5hdmlnYXRlUGFzdFN0YXJ0LFxuICAgIG9uU2VsZWN0ZWRJbmRleENoYW5nZSxcbiAgICBvblRhYmJhYmxlQ29sdW1uQ2hhbmdlLFxuICAgIG9uVGFiYmFibGVJbmRleENoYW5nZSxcbiAgICBwYWdlTmF2aWdhdGlvblNpemUsXG4gICAgcGFnaW5hdGlvbk1heCxcbiAgICBwYWdpbmF0aW9uTWluLFxuICAgIHN0YWdnZXJlZCxcbiAgICByZW5kZXIsXG4gICAgbG9jYXRpb24sXG4gICAgdGFnVGFibGVTZWN0aW9uXG59OiBUYWJsZVNlY3Rpb25Qcm9wczxTZWN0aW9uRWxlbWVudCwgUm93RWxlbWVudCwgQ2VsbEVsZW1lbnQsIFRhYmxlUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsRWxlbWVudD4sIFRhYmxlQ2VsbEluZm88Q2VsbEVsZW1lbnQ+Pikge1xuICAgIGNvbnN0IGluZm8gPSB1c2VUYWJsZVNlY3Rpb248U2VjdGlvbkVsZW1lbnQsIFJvd0VsZW1lbnQsIENlbGxFbGVtZW50LCBUYWJsZVJvd0luZm88Um93RWxlbWVudCwgQ2VsbEVsZW1lbnQ+LCBUYWJsZUNlbGxJbmZvPENlbGxFbGVtZW50Pj4oe1xuICAgICAgICBncmlkTmF2aWdhdGlvblBhcmFtZXRlcnM6IHsgb25UYWJiYWJsZUNvbHVtbkNoYW5nZTogb25UYWJiYWJsZUNvbHVtbkNoYW5nZSA/PyBudWxsIH0sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyczogeyBzdGFnZ2VyZWQ6IHN0YWdnZXJlZCB8fCBmYWxzZSB9LFxuICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZGlzYWJsZUFycm93S2V5czogdXNlRGVmYXVsdChcImRpc2FibGVBcnJvd0tleXNcIiwgZGlzYWJsZUFycm93S2V5cyksXG4gICAgICAgICAgICBkaXNhYmxlSG9tZUVuZEtleXM6IHVzZURlZmF1bHQoXCJkaXNhYmxlSG9tZUVuZEtleXNcIiwgZGlzYWJsZUhvbWVFbmRLZXlzKSxcbiAgICAgICAgICAgIG5hdmlnYXRlUGFzdEVuZDogbmF2aWdhdGVQYXN0RW5kID8/IFwid3JhcFwiLFxuICAgICAgICAgICAgbmF2aWdhdGVQYXN0U3RhcnQ6IG5hdmlnYXRlUGFzdFN0YXJ0ID8/IFwid3JhcFwiLFxuICAgICAgICAgICAgcGFnZU5hdmlnYXRpb25TaXplOiB1c2VEZWZhdWx0KFwicGFnZU5hdmlnYXRpb25TaXplXCIsIHBhZ2VOYXZpZ2F0aW9uU2l6ZSlcbiAgICAgICAgfSxcbiAgICAgICAgcGFnaW5hdGVkQ2hpbGRyZW5QYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBwYWdpbmF0aW9uTWF4OiBwYWdpbmF0aW9uTWF4ID8/IG51bGwsXG4gICAgICAgICAgICBwYWdpbmF0aW9uTWluOiBwYWdpbmF0aW9uTWluID8/IG51bGxcbiAgICAgICAgfSxcbiAgICAgICAgcmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyczogeyBnZXRJbmRleDogdXNlRGVmYXVsdChcImdldEluZGV4XCIsIGdldEluZGV4KSB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IHsgb25UYWJiYWJsZUluZGV4Q2hhbmdlOiBvblRhYmJhYmxlSW5kZXhDaGFuZ2UgPz8gbnVsbCwgdW50YWJiYWJsZTogdW50YWJiYWJsZSA/PyBmYWxzZSB9LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzOiB7IGluaXRpYWxseVNlbGVjdGVkSW5kZXg6IGluaXRpYWxseVNlbGVjdGVkSW5kZXggPz8gbnVsbCwgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBvblNlbGVjdGVkSW5kZXhDaGFuZ2UgPz8gbnVsbCB9LFxuICAgICAgICBjb250ZXh0OiB1c2VDb250ZXh0KFRhYmxlQ29udGV4dCksXG4gICAgICAgIHRhYmxlU2VjdGlvblBhcmFtZXRlcnM6IHsgdGFnVGFibGVTZWN0aW9uLCBsb2NhdGlvbiB9LFxuICAgIH0pXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8VGFibGVTZWN0aW9uQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mby5jb250ZXh0fT5cbiAgICAgICAgICAgIHtyZW5kZXIoaW5mbyl9XG4gICAgICAgIDwvVGFibGVTZWN0aW9uQ29udGV4dC5Qcm92aWRlcj5cbiAgICApXG59KTtcblxuZXhwb3J0IGNvbnN0IFRhYmxlUm93ID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gVGFibGVSb3dVPFJvd0VsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBDZWxsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgaW5kZXgsXG4gICAgZ2V0VGV4dCxcbiAgICB0YWdUYWJsZVJvdyxcbiAgICBkaXNhYmxlQXJyb3dLZXlzLFxuICAgIGRpc2FibGVIb21lRW5kS2V5cyxcbiAgICBvblRhYmJhYmxlSW5kZXhDaGFuZ2UsXG4gICAgYXJpYVByb3BOYW1lLFxuICAgIGRpc2FibGVkLFxuICAgIG5hdmlnYXRlUGFzdEVuZCxcbiAgICBuYXZpZ2F0ZVBhc3RTdGFydCxcbiAgICBzZWxlY3RlZCxcbiAgICBzZWxlY3Rpb25Nb2RlLFxuICAgIGhpZGRlbixcblxuICAgIHJlbmRlclxufTogVGFibGVSb3dQcm9wczxSb3dFbGVtZW50LCBDZWxsZW1lbnQsIFRhYmxlUm93SW5mbzxSb3dFbGVtZW50LCBDZWxsZW1lbnQ+LCBUYWJsZUNlbGxJbmZvPENlbGxlbWVudD4+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGN4MSA9IHVzZUNvbnRleHQoVGFibGVTZWN0aW9uQ29udGV4dCk7XG4gICAgY29uc29sZS5hc3NlcnQoY3gxICE9IG51bGwsIGBUaGlzIFRhYmxlUm93IGlzIG5vdCBjb250YWluZWQgd2l0aGluIGEgVGFibGVTZWN0aW9uYCk7XG4gICAgY29uc3QgaW5mbyA9IHVzZVRhYmxlUm93PFJvd0VsZW1lbnQsIENlbGxlbWVudCwgVGFibGVSb3dJbmZvPFJvd0VsZW1lbnQsIENlbGxlbWVudD4sIFRhYmxlQ2VsbEluZm88Q2VsbGVtZW50Pj4oe1xuICAgICAgICByb3dBc0NoaWxkT2ZHcmlkUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY29tcGxldGVHcmlkTmF2aWdhdGlvblJvd1BhcmFtZXRlcnM6IHt9LFxuICAgICAgICAgICAgY29udGV4dDogY3gxLFxuICAgICAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LFxuICAgICAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuOiBoaWRkZW4gPz8gZmFsc2UgfSxcbiAgICAgICAgICAgIHNpbmdsZVNlbGVjdGlvbkNoaWxkUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgIGFyaWFQcm9wTmFtZSxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Nb2RlOiB1c2VEZWZhdWx0KFwic2VsZWN0aW9uTW9kZVwiLCBzZWxlY3Rpb25Nb2RlKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQgPz8gZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgICAgICBnZXRUZXh0OiB1c2VEZWZhdWx0KFwiZ2V0VGV4dFwiLCBnZXRUZXh0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByb3dBc1BhcmVudE9mQ2VsbHNQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBsaW5lYXJOYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgIGRpc2FibGVBcnJvd0tleXM6IHVzZURlZmF1bHQoXCJkaXNhYmxlQXJyb3dLZXlzXCIsIGRpc2FibGVBcnJvd0tleXMpLFxuICAgICAgICAgICAgICAgIGRpc2FibGVIb21lRW5kS2V5czogdXNlRGVmYXVsdChcImRpc2FibGVIb21lRW5kS2V5c1wiLCBkaXNhYmxlSG9tZUVuZEtleXMpLFxuICAgICAgICAgICAgICAgIG5hdmlnYXRlUGFzdEVuZDogbmF2aWdhdGVQYXN0RW5kID8/IFwid3JhcFwiLFxuICAgICAgICAgICAgICAgIG5hdmlnYXRlUGFzdFN0YXJ0OiBuYXZpZ2F0ZVBhc3RTdGFydCA/PyBcIndyYXBcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJvdmluZ1RhYkluZGV4UGFyYW1ldGVyczogeyBvblRhYmJhYmxlSW5kZXhDaGFuZ2U6IG9uVGFiYmFibGVJbmRleENoYW5nZSA/PyBudWxsIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGFibGVSb3dQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQgPz8gbnVsbCxcbiAgICAgICAgICAgIHRhZ1RhYmxlUm93XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmISwgKCkgPT4gaW5mbyk7XG5cbiAgICByZXR1cm4gPFRhYmxlUm93Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17aW5mby5jb250ZXh0fT57cmVuZGVyKGluZm8pfTwvVGFibGVSb3dDb250ZXh0LlByb3ZpZGVyPlxufSlcblxuZXhwb3J0IGNvbnN0IFRhYmxlQ2VsbCA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFRhYmxlQ2VsbDxDZWxsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+KHtcbiAgICBpbmRleCxcbiAgICBnZXRUZXh0LFxuICAgIGZvY3VzU2VsZixcbiAgICBoaWRkZW4sXG4gICAgdGFnVGFibGVDZWxsLFxuICAgIHJlbmRlcixcbiAgICBjb2xTcGFuLFxuICAgIGdldFNvcnRWYWx1ZVxufTogVGFibGVDZWxsUHJvcHM8Q2VsbEVsZW1lbnQsIFRhYmxlQ2VsbEluZm88Q2VsbEVsZW1lbnQ+PiwgcmVmPzogUmVmPGFueT4pIHtcbiAgICBjb25zdCBjb250ZXh0ID0gKHVzZUNvbnRleHQoVGFibGVSb3dDb250ZXh0KSBhcyBVc2VUYWJsZVJvd0NvbnRleHQ8YW55LCBDZWxsRWxlbWVudCwgVGFibGVDZWxsSW5mbzxDZWxsRWxlbWVudD4+KTtcbiAgICBjb25zb2xlLmFzc2VydChjb250ZXh0ICE9IG51bGwsIGBUaGlzIFRhYmxlQ2VsbCBpcyBub3QgY29udGFpbmVkIHdpdGhpbiBhIFRhYmxlUm93YCk7XG4gICAgY29uc3QgZGVmYXVsdEZvY3VzU2VsZiA9IHVzZVN0YWJsZUNhbGxiYWNrKChlOiBDZWxsRWxlbWVudCkgPT4geyAoZSBhcyBFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5mb2N1cz8uKCkgfSwgW10pO1xuICAgIGNvbnN0IGluZm8gPSB1c2VUYWJsZUNlbGw8Q2VsbEVsZW1lbnQsIFRhYmxlQ2VsbEluZm88Q2VsbEVsZW1lbnQ+Pih7XG4gICAgICAgIGNvbXBsZXRlR3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyczogeyBnZXRTb3J0VmFsdWUsIGZvY3VzU2VsZjogZm9jdXNTZWxmID8/IGRlZmF1bHRGb2N1c1NlbGYgfSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZ3JpZE5hdmlnYXRpb25DZWxsUGFyYW1ldGVyczogeyBjb2xTcGFuOiBjb2xTcGFuID8/IDEgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleENoaWxkUGFyYW1ldGVyczogeyBoaWRkZW46IGhpZGRlbiA/PyBmYWxzZSB9LFxuICAgICAgICB0YWJsZUNlbGxQYXJhbWV0ZXJzOiB7IHRhZ1RhYmxlQ2VsbCB9LFxuICAgICAgICB0ZXh0Q29udGVudFBhcmFtZXRlcnM6IHsgZ2V0VGV4dDogdXNlRGVmYXVsdChcImdldFRleHRcIiwgZ2V0VGV4dCkgfVxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuICAgIHJldHVybiByZW5kZXIoaW5mbyk7XG59KVxuXG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBSZWYsIFZOb2RlIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBUYWJQYW5lbHNDb250ZXh0LCBUYWJzQ29udGV4dCwgdXNlVGFiLCB1c2VUYWJQYW5lbCwgVXNlVGFiUGFuZWxQYXJhbWV0ZXJzLCBVc2VUYWJQYW5lbFJldHVyblR5cGUsIFVzZVRhYlBhcmFtZXRlcnMsIFVzZVRhYlJldHVyblR5cGUsIHVzZVRhYnMsIFVzZVRhYnNQYXJhbWV0ZXJzLCBVc2VUYWJzUmV0dXJuVHlwZSB9IGZyb20gXCIuLi91c2UtdGFic1wiO1xuaW1wb3J0IHsgbWVtb0ZvcndhcmRSZWYsIFBhcnRpYWxFeGNlcHQsIHVzZURlZmF1bHQgfSBmcm9tIFwiLi91dGlsXCI7XG5cbnR5cGUgR2V0PFQsIEsgZXh0ZW5kcyBrZXlvZiBUPiA9IFRbS107XG4vL3R5cGUgR2V0MjxULCBLIGV4dGVuZHMga2V5b2YgVCwgSzIgZXh0ZW5kcyBrZXlvZiBUW0tdPiA9IFRbS11bSzJdO1xuXG5pbnRlcmZhY2UgVGFic1Byb3BzQmFzZTxUYWJDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYkxhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHNcbiAgICBHZXQ8VXNlVGFic1BhcmFtZXRlcnM8VGFiQ29udGFpbmVyRWxlbWVudCwgVGFiRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50PiwgXCJsYWJlbFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYnNQYXJhbWV0ZXJzPFRhYkNvbnRhaW5lckVsZW1lbnQsIFRhYkVsZW1lbnQsIFRhYkxhYmVsRWxlbWVudD4sIFwibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYnNQYXJhbWV0ZXJzPFRhYkNvbnRhaW5lckVsZW1lbnQsIFRhYkVsZW1lbnQsIFRhYkxhYmVsRWxlbWVudD4sIFwicmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFic1BhcmFtZXRlcnM8VGFiQ29udGFpbmVyRWxlbWVudCwgVGFiRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50PiwgXCJyb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYnNQYXJhbWV0ZXJzPFRhYkNvbnRhaW5lckVsZW1lbnQsIFRhYkVsZW1lbnQsIFRhYkxhYmVsRWxlbWVudD4sIFwic2luZ2xlU2VsZWN0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFic1BhcmFtZXRlcnM8VGFiQ29udGFpbmVyRWxlbWVudCwgVGFiRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50PiwgXCJzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFic1BhcmFtZXRlcnM8VGFiQ29udGFpbmVyRWxlbWVudCwgVGFiRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50PiwgXCJzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYnNQYXJhbWV0ZXJzPFRhYkNvbnRhaW5lckVsZW1lbnQsIFRhYkVsZW1lbnQsIFRhYkxhYmVsRWxlbWVudD4sIFwidGFic1BhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYnNQYXJhbWV0ZXJzPFRhYkNvbnRhaW5lckVsZW1lbnQsIFRhYkVsZW1lbnQsIFRhYkxhYmVsRWxlbWVudD4sIFwidHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4ge1xufVxuXG5pbnRlcmZhY2UgVGFiUHJvcHNCYXNlPFRhYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzXG4gICAgR2V0PFVzZVRhYlBhcmFtZXRlcnM8VGFiRWxlbWVudD4sIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVGFiUGFyYW1ldGVyczxUYWJFbGVtZW50PiwgXCJzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYlBhcmFtZXRlcnM8VGFiRWxlbWVudD4sIFwic29ydGFibGVDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYlBhcmFtZXRlcnM8VGFiRWxlbWVudD4sIFwicm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRhYlBhcmFtZXRlcnM8VGFiRWxlbWVudD4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VUYWJQYXJhbWV0ZXJzPFRhYkVsZW1lbnQ+LCBcImNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnNcIj4ge1xufVxuXG5pbnRlcmZhY2UgVGFiUGFuZWxQcm9wc0Jhc2UgZXh0ZW5kc1xuICAgIEdldDxVc2VUYWJQYW5lbFBhcmFtZXRlcnMsIFwibWFuYWdlZENoaWxkUGFyYW1ldGVyc1wiPiB7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVGFic1Byb3BzPFRhYkNvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PFRhYnNQcm9wc0Jhc2U8VGFiQ29udGFpbmVyRWxlbWVudCwgVGFiRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50PiwgXCJvcmllbnRhdGlvblwiIHwgXCJhcmlhTGFiZWxcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VUYWJzUmV0dXJuVHlwZTxUYWJDb250YWluZXJFbGVtZW50LCBUYWJFbGVtZW50LCBUYWJMYWJlbEVsZW1lbnQ+KTogVk5vZGU8YW55Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUYWJQcm9wczxUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4gZXh0ZW5kcyBQYXJ0aWFsRXhjZXB0PFRhYlByb3BzQmFzZTxUYWJFbGVtZW50PiwgXCJpbmRleFwiIHwgXCJnZXRTb3J0VmFsdWVcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VUYWJSZXR1cm5UeXBlPFRhYkVsZW1lbnQ+KTogVk5vZGU8YW55Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUYWJQYW5lbFByb3BzPFBhbmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgUGFydGlhbEV4Y2VwdDxUYWJQYW5lbFByb3BzQmFzZSwgXCJpbmRleFwiPiB7XG4gICAgcmVuZGVyKGluZm86IFVzZVRhYlBhbmVsUmV0dXJuVHlwZTxQYW5lbEVsZW1lbnQ+KTogVk5vZGU8YW55Pjtcbn1cblxuY29uc3QgVGFic0NvbnRleHQgPSBjcmVhdGVDb250ZXh0PFRhYnNDb250ZXh0PGFueSwgYW55LCBhbnk+PihudWxsISk7XG5jb25zdCBUYWJQYW5lbHNDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUYWJQYW5lbHNDb250ZXh0PGFueT4+KG51bGwhKTtcblxuZXhwb3J0IGNvbnN0IFRhYnMgPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBUYWJzPFRhYkNvbnRhaW5lckVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIGFyaWFMYWJlbCxcbiAgICBjb2xsYXRvcixcbiAgICBjb21wYXJlLFxuICAgIGRpc2FibGVBcnJvd0tleXMsXG4gICAgZGlzYWJsZUhvbWVFbmRLZXlzLFxuICAgIGdldEluZGV4LFxuICAgIGluaXRpYWxseVNlbGVjdGVkSW5kZXgsXG4gICAgbmF2aWdhdGVQYXN0RW5kLFxuICAgIG5hdmlnYXRlUGFzdFN0YXJ0LFxuICAgIG5vVHlwZWFoZWFkLFxuICAgIG9uU2VsZWN0ZWRJbmRleENoYW5nZSxcbiAgICBvblRhYmJhYmxlSW5kZXhDaGFuZ2UsXG4gICAgb3JpZW50YXRpb24sXG4gICAgc3RhZ2dlcmVkLFxuICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZSxcbiAgICBsb2NhbFN0b3JhZ2VLZXksXG4gICAgLy9ncm91cGluZ1R5cGUsXG4gICAgdW50YWJiYWJsZSxcbiAgICB0eXBlYWhlYWRUaW1lb3V0LFxuICAgIHJvbGUsXG4gICAgcmVuZGVyXG59OiBUYWJzUHJvcHM8VGFiQ29udGFpbmVyRWxlbWVudCwgVGFiRWxlbWVudCwgVGFiTGFiZWxFbGVtZW50PiwgcmVmPzogUmVmPGFueT4pIHtcbiAgICBjb25zdCBpbmZvID0gdXNlVGFiczxUYWJDb250YWluZXJFbGVtZW50LCBUYWJFbGVtZW50LCBUYWJMYWJlbEVsZW1lbnQ+KHtcbiAgICAgICAgbGFiZWxQYXJhbWV0ZXJzOiB7IGFyaWFMYWJlbCB9LFxuICAgICAgICBzdGFnZ2VyZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgc3RhZ2dlcmVkOiBzdGFnZ2VyZWQgfHwgZmFsc2UgfSxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGRpc2FibGVBcnJvd0tleXM6IHVzZURlZmF1bHQoXCJkaXNhYmxlQXJyb3dLZXlzXCIsIGRpc2FibGVBcnJvd0tleXMpLFxuICAgICAgICAgICAgZGlzYWJsZUhvbWVFbmRLZXlzOiB1c2VEZWZhdWx0KFwiZGlzYWJsZUhvbWVFbmRLZXlzXCIsIGRpc2FibGVIb21lRW5kS2V5cyksXG4gICAgICAgICAgICBuYXZpZ2F0ZVBhc3RFbmQ6IG5hdmlnYXRlUGFzdEVuZCA/PyBcIndyYXBcIixcbiAgICAgICAgICAgIG5hdmlnYXRlUGFzdFN0YXJ0OiBuYXZpZ2F0ZVBhc3RTdGFydCA/PyBcIndyYXBcIixcbiAgICAgICAgICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZTogdXNlRGVmYXVsdChcInBhZ2VOYXZpZ2F0aW9uU2l6ZVwiLCBwYWdlTmF2aWdhdGlvblNpemUpXG4gICAgICAgIH0sXG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHsgZ2V0SW5kZXg6IHVzZURlZmF1bHQoXCJnZXRJbmRleFwiLCBnZXRJbmRleCkgfSxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvblRhYmJhYmxlSW5kZXhDaGFuZ2U6IG9uVGFiYmFibGVJbmRleENoYW5nZSA/PyBudWxsLFxuICAgICAgICAgICAgdW50YWJiYWJsZTogdW50YWJiYWJsZSA/PyBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25QYXJhbWV0ZXJzOiB7IGluaXRpYWxseVNlbGVjdGVkSW5kZXg6IGluaXRpYWxseVNlbGVjdGVkSW5kZXggPz8gMCwgb25TZWxlY3RlZEluZGV4Q2hhbmdlOiBvblNlbGVjdGVkSW5kZXhDaGFuZ2UgPz8gbnVsbCB9LFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyczogeyBjb21wYXJlOiBjb21wYXJlID8/IG51bGwgfSxcbiAgICAgICAgdGFic1BhcmFtZXRlcnM6IHsgb3JpZW50YXRpb24sIHJvbGUsIGxvY2FsU3RvcmFnZUtleTogbG9jYWxTdG9yYWdlS2V5ID8/IG51bGwgfSxcbiAgICAgICAgdHlwZWFoZWFkTmF2aWdhdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGNvbGxhdG9yOiB1c2VEZWZhdWx0KFwiY29sbGF0b3JcIiwgY29sbGF0b3IpLFxuICAgICAgICAgICAgbm9UeXBlYWhlYWQ6IHVzZURlZmF1bHQoXCJub1R5cGVhaGVhZFwiLCBub1R5cGVhaGVhZCksXG4gICAgICAgICAgICB0eXBlYWhlYWRUaW1lb3V0OiB1c2VEZWZhdWx0KFwidHlwZWFoZWFkVGltZW91dFwiLCB0eXBlYWhlYWRUaW1lb3V0KVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCB7IGNvbnRleHRQYW5lbHMsIGNvbnRleHRUYWJzIH0gPSBpbmZvO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPFRhYnNDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtjb250ZXh0VGFic30+XG4gICAgICAgICAgICA8VGFiUGFuZWxzQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFBhbmVsc30+XG4gICAgICAgICAgICAgICAge3JlbmRlcihpbmZvKX1cbiAgICAgICAgICAgIDwvVGFiUGFuZWxzQ29udGV4dC5Qcm92aWRlcj5cbiAgICAgICAgPC9UYWJzQ29udGV4dC5Qcm92aWRlcj5cbiAgICApXG59KVxuXG5leHBvcnQgY29uc3QgVGFiID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gVGFiPEUgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgZGlzYWJsZWQsXG4gICAgZm9jdXNTZWxmLFxuICAgIGhpZGRlbixcbiAgICBpbmRleCxcbiAgICBnZXRUZXh0LFxuICAgIGdldFNvcnRWYWx1ZSxcbiAgICByZW5kZXJcbn06IFRhYlByb3BzPEU+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KFRhYnNDb250ZXh0KTtcbiAgICBjb25zb2xlLmFzc2VydChjb250ZXh0ICE9IG51bGwsIGBUaGlzIFRhYiBpcyBub3QgY29udGFpbmVkIHdpdGhpbiBhIFRhYnMgY29tcG9uZW50YCk7XG4gICAgY29uc3QgZm9jdXNTZWxmRGVmYXVsdCA9IHVzZUNhbGxiYWNrKChlOiBhbnkpID0+IHsgZT8uZm9jdXMoKTsgfSwgW10pO1xuICAgIGNvbnN0IGluZm8gPSB1c2VUYWI8RT4oe1xuICAgICAgICBjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGZvY3VzU2VsZjogZm9jdXNTZWxmID8/IGZvY3VzU2VsZkRlZmF1bHQgfSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgcm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnM6IHsgaGlkZGVuOiBoaWRkZW4gPz8gZmFsc2UgfSxcbiAgICAgICAgc29ydGFibGVDaGlsZFBhcmFtZXRlcnM6IHsgZ2V0U29ydFZhbHVlIH0sXG4gICAgICAgIG1hbmFnZWRDaGlsZFBhcmFtZXRlcnM6IHsgaW5kZXggfSxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uQ2hpbGRQYXJhbWV0ZXJzOiB7IGRpc2FibGVkOiBkaXNhYmxlZCA/PyBmYWxzZSwgc2VsZWN0aW9uTW9kZTogXCJmb2N1c1wiIH0sXG4gICAgICAgIHRleHRDb250ZW50UGFyYW1ldGVyczogeyBnZXRUZXh0OiB1c2VEZWZhdWx0KFwiZ2V0VGV4dFwiLCBnZXRUZXh0KSB9XG4gICAgfSk7XG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcbiAgICByZXR1cm4gcmVuZGVyKGluZm8pO1xufSlcblxuZXhwb3J0IGZ1bmN0aW9uIFRhYlBhbmVsPEUgZXh0ZW5kcyBFbGVtZW50Pih7XG4gICAgaW5kZXgsXG4gICAgcmVuZGVyXG59OiBUYWJQYW5lbFByb3BzPEU+KSB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoVGFiUGFuZWxzQ29udGV4dCk7XG4gICAgY29uc3QgaW5mbyA9IHVzZVRhYlBhbmVsPEU+KHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgbWFuYWdlZENoaWxkUGFyYW1ldGVyczogeyBpbmRleCB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlbmRlcihpbmZvKTtcbn1cblxuXG4vKlxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYnNQcm9wczxMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMaXN0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUQywgUEMsIFRLIGV4dGVuZHMgc3RyaW5nPiBleHRlbmRzXG4gICAgR2V0PFVzZVRhYkxpc3RQYXJhbWV0ZXJzPFRhYkVsZW1lbnQsIFRDLCBUSz4sIFwibGluZWFyTmF2aWdhdGlvblwiPixcbiAgICBHZXQ8VXNlVGFiTGlzdFBhcmFtZXRlcnM8VGFiRWxlbWVudCwgVEMsIFRLPiwgXCJsaXN0TmF2aWdhdGlvblwiPixcbiAgICBHZXQ8VXNlVGFiTGlzdFBhcmFtZXRlcnM8VGFiRWxlbWVudCwgVEMsIFRLPiwgXCJtYW5hZ2VkQ2hpbGRyZW5cIj4sXG4gICAgR2V0PFVzZVRhYkxpc3RQYXJhbWV0ZXJzPFRhYkVsZW1lbnQsIFRDLCBUSz4sIFwicm92aW5nVGFiSW5kZXhcIj4sXG4gICAgR2V0PFVzZVRhYkxpc3RQYXJhbWV0ZXJzPFRhYkVsZW1lbnQsIFRDLCBUSz4sIFwic2luZ2xlU2VsZWN0aW9uXCI+LFxuICAgIEdldDxVc2VUYWJMaXN0UGFyYW1ldGVyczxUYWJFbGVtZW50LCBUQywgVEs+LCBcInR5cGVhaGVhZE5hdmlnYXRpb25cIj4sXG4gICAgR2V0PFVzZVRhYkxpc3RQYXJhbWV0ZXJzPFRhYkVsZW1lbnQsIFRDLCBUSz4sIFwiY2hpbGRyZW5IYXZlRm9jdXNcIj4sXG4gICAgLy9HZXQ8VXNlVGFiTGlzdFBhcmFtZXRlcnM8VGFiRWxlbWVudCwgVEMsIFRLPiwgPixcbiAgICBHZXQyPFVzZVRhYnNQYXJhbWV0ZXJzLCBcInRhYlBhbmVsc1wiLCBcIm1hbmFnZWRDaGlsZHJlblwiPiB7XG4gICAgcmVmPzogUmVmPFVzZVRhYnNSZXR1cm5UeXBlSW5mbzxQQz4+O1xuICAgIHJlbmRlcih0YWJMaXN0SW5mbzogVXNlVGFiTGlzdFJldHVyblR5cGVJbmZvPFRhYkVsZW1lbnQsIFRDPiwgdGFic0luZm86IFVzZVRhYnNSZXR1cm5UeXBlSW5mbzxQQz4sIG1vZGlmeUxhYmVsUHJvcHM6IFByb3BNb2RpZmllcjxMYWJlbEVsZW1lbnQ+LCBtb2RpZnlUYWJMaXN0UHJvcHM6IFByb3BNb2RpZmllcjxMaXN0RWxlbWVudD4pOiBWTm9kZTxhbnk+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYlByb3BzPFRhYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUQywgVEsgZXh0ZW5kcyBzdHJpbmc+IGV4dGVuZHMgR2V0PFVzZVRhYlBhcmFtZXRlcnM8VGFiRWxlbWVudCwgVEMsIFRLLCBUQz4sIFwibGlzdE5hdmlnYXRpb25cIj4sXG4gICAgR2V0PFVzZVRhYlBhcmFtZXRlcnM8VGFiRWxlbWVudCwgVEMsIFRLLCBUQz4sIFwibWFuYWdlZENoaWxkXCI+LFxuICAgIFVzZUhhc0ZvY3VzUGFyYW1ldGVyczxUYWJFbGVtZW50PixcbiAgICBHZXQ8VXNlVGFiUGFyYW1ldGVyczxUYWJFbGVtZW50LCBUQywgVEssIFRDPiwgXCJyb3ZpbmdUYWJJbmRleFwiPixcbiAgICBHZXQ8VXNlVGFiUGFyYW1ldGVyczxUYWJFbGVtZW50LCBUQywgVEssIFRDPiwgXCJzaW5nbGVTZWxlY3Rpb25cIj4ge1xuICAgIHN1YkluZm86IEdldDxVc2VUYWJQYXJhbWV0ZXJzPFRhYkVsZW1lbnQsIFRDLCBUSywgVEM+LCBcInN1YkluZm9cIj47XG4gICAgcmVmPzogUmVmPFVzZVRhYlJldHVyblR5cGVJbmZvPFRhYkVsZW1lbnQ+PjtcbiAgICByZW5kZXIoaW5mbzogVXNlVGFiUmV0dXJuVHlwZUluZm88VGFiRWxlbWVudD4sIG1vZGlmeUxpc3RJdGVtOiBQcm9wTW9kaWZpZXI8VGFiRWxlbWVudD4pOiBWTm9kZTxhbnk+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYlBhbmVsUHJvcHM8VGFiUGFuZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgUEMsIFBLIGV4dGVuZHMgc3RyaW5nPiBleHRlbmRzIEdldDxVc2VUYWJQYW5lbFBhcmFtZXRlcnM8UEMsIFBLLCBQQz4sIFwibWFuYWdlZENoaWxkXCI+IHtcbiAgICBzdWJJbmZvOiBHZXQ8VXNlVGFiUGFuZWxQYXJhbWV0ZXJzPFBDLCBQSywgUEM+LCBcInN1YkluZm9cIj47XG4gICAgcmVmPzogUmVmPFVzZVRhYlBhbmVsUmV0dXJuVHlwZUluZm8+O1xuICAgIHJlbmRlcihpbmZvOiBVc2VUYWJQYW5lbFJldHVyblR5cGVJbmZvLCBtb2RpZnlUYWJQYW5lbFByb3BzOiBQcm9wTW9kaWZpZXI8VGFiUGFuZWxFbGVtZW50Pik6IFZOb2RlO1xufVxuXG5jb25zdCBUYWJDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxVc2VUYWI8YW55LCBhbnksIGFueT4+KG51bGwhKTtcbmNvbnN0IFRhYlBhbmVsQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VXNlVGFiUGFuZWw8YW55LCBhbnksIGFueT4+KG51bGwhKTtcblxuZXhwb3J0IGNvbnN0IFRhYnMgPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBUYWJzPExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExpc3RFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVGFiRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYlBhbmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRDID0gdW5kZWZpbmVkLCBQQyA9IHVuZGVmaW5lZCwgVEsgZXh0ZW5kcyBzdHJpbmcgPSBuZXZlciwgUEsgZXh0ZW5kcyBzdHJpbmcgPSBuZXZlcj4oe1xuICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgc2VsZWN0aW9uTW9kZSxcbiAgICBjb2xsYXRvcixcbiAgICBkaXNhYmxlQXJyb3dLZXlzLFxuICAgIGRpc2FibGVIb21lRW5kS2V5cyxcbiAgICBpbmRleERlbWFuZ2xlcixcbiAgICBpbmRleE1hbmdsZXIsXG4gICAgbmF2aWdhdGlvbkRpcmVjdGlvbixcbiAgICBub1R5cGVhaGVhZCxcbiAgICBvbkFmdGVyQ2hpbGRMYXlvdXRFZmZlY3QsXG4gICAgb25DaGlsZHJlbk1vdW50Q2hhbmdlLFxuICAgIG9uVGFiYmFibGVJbmRleENoYW5nZSxcbiAgICBvblRhYmJhYmxlUmVuZGVyLFxuICAgIHR5cGVhaGVhZFRpbWVvdXQsXG4gICAgb25BbGxMb3N0Rm9jdXMsXG4gICAgb25BbnlHYWluZWRGb2N1cyxcbiAgICBzZXRTZWxlY3RlZEluZGV4LFxuICAgIHJlbmRlclxufTogVGFic1Byb3BzPExhYmVsRWxlbWVudCwgTGlzdEVsZW1lbnQsIFRhYkVsZW1lbnQsIFRDLCBQQywgVEs+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IHtcbiAgICAgICAgdXNlVGFiTGlzdCxcbiAgICAgICAgdXNlVGFiTGlzdExhYmVsLFxuICAgICAgICB1c2VUYWJQYW5lbCxcbiAgICAgICAgLi4udGFic0luZm9cbiAgICB9ID0gdXNlVGFiczxMaXN0RWxlbWVudCwgVGFiRWxlbWVudCwgVGFiUGFuZWxFbGVtZW50LCBMYWJlbEVsZW1lbnQsIFRDLCBQQywgVEssIFBLPih7XG4gICAgICAgIHRhYlBhbmVsczoge1xuICAgICAgICAgICAgbWFuYWdlZENoaWxkcmVuOiB7IG9uQWZ0ZXJDaGlsZExheW91dEVmZmVjdCwgb25DaGlsZHJlbk1vdW50Q2hhbmdlIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiB0YWJzSW5mbyk7XG5cbiAgICBjb25zdCB7IHVzZVRhYiwgdXNlVGFiTGlzdFByb3BzLCAuLi50YWJsaXN0SW5mbyB9ID0gdXNlVGFiTGlzdCh7XG4gICAgICAgIGNoaWxkcmVuSGF2ZUZvY3VzOiB7IG9uQWxsTG9zdEZvY3VzLCBvbkFueUdhaW5lZEZvY3VzIH0sXG4gICAgICAgIGxpbmVhck5hdmlnYXRpb246IHsgZGlzYWJsZUFycm93S2V5cywgZGlzYWJsZUhvbWVFbmRLZXlzLCBuYXZpZ2F0aW9uRGlyZWN0aW9uIH0sXG4gICAgICAgIGxpc3ROYXZpZ2F0aW9uOiB7IGluZGV4RGVtYW5nbGVyLCBpbmRleE1hbmdsZXIgfSxcbiAgICAgICAgbWFuYWdlZENoaWxkcmVuOiB7IG9uQWZ0ZXJDaGlsZExheW91dEVmZmVjdCwgb25DaGlsZHJlbk1vdW50Q2hhbmdlIH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4OiB7IG9uVGFiYmFibGVJbmRleENoYW5nZSwgb25UYWJiYWJsZVJlbmRlciB9LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb246IHsgc2VsZWN0ZWRJbmRleCwgc2VsZWN0aW9uTW9kZSwgc2V0U2VsZWN0ZWRJbmRleCB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uOiB7IGNvbGxhdG9yLCBub1R5cGVhaGVhZCwgdHlwZWFoZWFkVGltZW91dCB9XG4gICAgfSk7XG4gICAgY29uc3QgeyB1c2VUYWJMaXN0TGFiZWxQcm9wcyB9ID0gdXNlVGFiTGlzdExhYmVsKHt9KTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxUYWJDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt1c2VUYWJ9PlxuICAgICAgICAgICAgPFRhYlBhbmVsQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dXNlVGFiUGFuZWx9PlxuICAgICAgICAgICAgICAgIHtyZW5kZXIodGFibGlzdEluZm8sIHRhYnNJbmZvLCB1c2VUYWJMaXN0TGFiZWxQcm9wcywgdXNlVGFiTGlzdFByb3BzKX1cbiAgICAgICAgICAgIDwvVGFiUGFuZWxDb250ZXh0LlByb3ZpZGVyPlxuICAgICAgICA8L1RhYkNvbnRleHQuUHJvdmlkZXI+XG4gICAgKVxufSlcblxuZXhwb3J0IGNvbnN0IFRhYiA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFRhYjxUYWJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVEMgPSB1bmRlZmluZWQsIFRLIGV4dGVuZHMgc3RyaW5nID0gbmV2ZXI+KHsgaW5kZXgsIHRleHQsIGZsYWdzLCBmb2N1c1NlbGYsIGhpZGRlbiwgZ2V0RG9jdW1lbnQsIGdldFdpbmRvdywgb25BY3RpdmVFbGVtZW50Q2hhbmdlLCBvbkVsZW1lbnRDaGFuZ2UsIG9uRm9jdXNlZENoYW5nZWQsIG9uRm9jdXNlZElubmVyQ2hhbmdlZCwgb25MYXN0QWN0aXZlRWxlbWVudENoYW5nZSwgb25MYXN0Rm9jdXNlZENoYW5nZWQsIG9uTGFzdEZvY3VzZWRJbm5lckNoYW5nZWQsIG9uTW91bnQsIG9uVW5tb3VudCwgb25XaW5kb3dGb2N1c2VkQ2hhbmdlLCByZW5kZXIsIHN1YkluZm8sIG5vTW9kaWZ5VGFiSW5kZXgsIHVuc2VsZWN0YWJsZSB9OiBUYWJQcm9wczxUYWJFbGVtZW50LCBUQywgVEs+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IHsgdXNlVGFiUHJvcHMsIC4uLnRhYkluZm8gfSA9IHVzZUNvbnRleHQoVGFiQ29udGV4dCkoe1xuICAgICAgICBsaXN0TmF2aWdhdGlvbjogeyB0ZXh0IH0sXG4gICAgICAgIHNpbmdsZVNlbGVjdGlvbjogeyB1bnNlbGVjdGFibGUsIGZvY3VzU2VsZiB9LFxuICAgICAgICBtYW5hZ2VkQ2hpbGQ6IHsgaW5kZXgsIGZsYWdzIH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4OiB7IGZvY3VzU2VsZiwgaGlkZGVuLCBub01vZGlmeVRhYkluZGV4IH0sXG4gICAgICAgIGhhc0ZvY3VzOiB7IGdldERvY3VtZW50LCBnZXRXaW5kb3csIG9uQWN0aXZlRWxlbWVudENoYW5nZSwgb25FbGVtZW50Q2hhbmdlLCBvbkZvY3VzZWRDaGFuZ2VkLCBvbkZvY3VzZWRJbm5lckNoYW5nZWQsIG9uTGFzdEFjdGl2ZUVsZW1lbnRDaGFuZ2UsIG9uTGFzdEZvY3VzZWRDaGFuZ2VkLCBvbkxhc3RGb2N1c2VkSW5uZXJDaGFuZ2VkLCBvbk1vdW50LCBvblVubW91bnQsIG9uV2luZG93Rm9jdXNlZENoYW5nZSB9LFxuICAgICAgICBzdWJJbmZvXG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IHRhYkluZm8pO1xuXG4gICAgcmV0dXJuIHJlbmRlcih0YWJJbmZvLCB1c2VUYWJQcm9wcylcbn0pXG5cbmV4cG9ydCBjb25zdCBUYWJQYW5lbCA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFRhYlBhbmVsPFRhYlBhbmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFBDID0gdW5kZWZpbmVkLCBQSyBleHRlbmRzIHN0cmluZyA9IG5ldmVyPih7IGluZGV4LCBmbGFncywgcmVuZGVyLCBzdWJJbmZvIH06IFRhYlBhbmVsUHJvcHM8VGFiUGFuZWxFbGVtZW50LCBQQywgUEs+LCByZWY/OiBSZWY8YW55Pikge1xuICAgIGNvbnN0IHsgdXNlVGFiUGFuZWxQcm9wcywgLi4udGFiUGFuZWxJbmZvIH0gPSAodXNlQ29udGV4dChUYWJQYW5lbENvbnRleHQpIGFzIFVzZVRhYlBhbmVsPFRhYlBhbmVsRWxlbWVudCwgUEMsIFBLPikoeyBtYW5hZ2VkQ2hpbGQ6IHsgaW5kZXgsIGZsYWdzIH0sIHN1YkluZm8gfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IHRhYlBhbmVsSW5mbyk7XG5cbiAgICByZXR1cm4gcmVuZGVyKHRhYlBhbmVsSW5mbywgdXNlVGFiUGFuZWxQcm9wcylcbn0pXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UmVuZGVyVGFiczxMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMaXN0RWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRhYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBUQywgUEM+KHsgdGFnTGFiZWwsIHRhZ0xpc3QsIG1ha2VQcm9wc0xhYmVsLCBtYWtlUHJvcHNMaXN0LCBwYW5lbHMgfTogeyBwYW5lbHM6IFZOb2RlW10sIHRhZ0xhYmVsOiBFbGVtZW50VG9UYWc8TGFiZWxFbGVtZW50PiwgdGFnTGlzdDogRWxlbWVudFRvVGFnPExpc3RFbGVtZW50PiwgbWFrZVByb3BzTGFiZWw6IChpbmZvVGFiczogVXNlVGFic1JldHVyblR5cGVJbmZvPFBDPiwgaW5mb0xpc3Q6IFVzZVRhYkxpc3RSZXR1cm5UeXBlSW5mbzxUYWJFbGVtZW50LCBUQz4pID0+IGguSlNYLkhUTUxBdHRyaWJ1dGVzPExhYmVsRWxlbWVudD4sIG1ha2VQcm9wc0xpc3Q6IChpbmZvVGFiczogVXNlVGFic1JldHVyblR5cGVJbmZvPFBDPiwgaW5mb0xpc3Q6IFVzZVRhYkxpc3RSZXR1cm5UeXBlSW5mbzxUYWJFbGVtZW50LCBUQz4pID0+IGguSlNYLkhUTUxBdHRyaWJ1dGVzPExpc3RFbGVtZW50PiB9KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YWJsaXN0SW5mbzogVXNlVGFiTGlzdFJldHVyblR5cGVJbmZvPFRhYkVsZW1lbnQsIFRDPiwgdGFic0luZm86IFVzZVRhYnNSZXR1cm5UeXBlSW5mbzxQQz4sIG1vZGlmeUxhYmVsUHJvcHM6IFByb3BNb2RpZmllcjxMYWJlbEVsZW1lbnQ+LCBtb2RpZnlMaXN0UHJvcHM6IFByb3BNb2RpZmllcjxMaXN0RWxlbWVudD4pIHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSBjcmVhdGVFbGVtZW50KHRhZ0xhYmVsIGFzIG5ldmVyLCBtb2RpZnlMYWJlbFByb3BzKG1ha2VQcm9wc0xhYmVsKHRhYnNJbmZvLCB0YWJsaXN0SW5mbykpKVxuICAgICAgICBjb25zdCBsaXN0ID0gY3JlYXRlRWxlbWVudCh0YWdMaXN0IGFzIG5ldmVyLCBtb2RpZnlMaXN0UHJvcHMobWFrZVByb3BzTGlzdCh0YWJzSW5mbywgdGFibGlzdEluZm8pKSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgICAgICB7bGlzdH1cbiAgICAgICAgICAgICAgICB7cGFuZWxzfVxuICAgICAgICAgICAgPC8+XG4gICAgICAgIClcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0UmVuZGVyVGFiPFRhYkVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IG1ha2VQcm9wc1RhYiwgdGFnVGFiIH06IHsgdGFnVGFiOiBFbGVtZW50VG9UYWc8VGFiRWxlbWVudD4sIG1ha2VQcm9wc1RhYjogKGluZm86IFVzZVRhYlJldHVyblR5cGVJbmZvPFRhYkVsZW1lbnQ+KSA9PiBoLkpTWC5IVE1MQXR0cmlidXRlczxUYWJFbGVtZW50PiB9KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YWJJbmZvOiBVc2VUYWJSZXR1cm5UeXBlSW5mbzxUYWJFbGVtZW50PiwgbW9kaWZ5VGFiUHJvcHM6IFByb3BNb2RpZmllcjxUYWJFbGVtZW50Pikge1xuICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCh0YWdUYWIgYXMgbmV2ZXIsIG1vZGlmeVRhYlByb3BzKG1ha2VQcm9wc1RhYih0YWJJbmZvKSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRSZW5kZXJUYWJQYW5lbDxUYWJQYW5lbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50Pih7IG1ha2VQcm9wc1RhYlBhbmVsLCB0YWdUYWJQYW5lbCB9OiB7IHRhZ1RhYlBhbmVsOiBFbGVtZW50VG9UYWc8VGFiUGFuZWxFbGVtZW50PiwgbWFrZVByb3BzVGFiUGFuZWw6IChpbmZvOiBVc2VUYWJQYW5lbFJldHVyblR5cGVJbmZvKSA9PiBoLkpTWC5IVE1MQXR0cmlidXRlczxUYWJQYW5lbEVsZW1lbnQ+IH0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhYlBhbmVsSW5mbzogVXNlVGFiUGFuZWxSZXR1cm5UeXBlSW5mbywgbW9kaWZ5VGFiUGFuZWxQcm9wczogUHJvcE1vZGlmaWVyPFRhYlBhbmVsRWxlbWVudD4pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnVGFiUGFuZWwgYXMgbmV2ZXIsIG1vZGlmeVRhYlBhbmVsUHJvcHMobWFrZVByb3BzVGFiUGFuZWwodGFiUGFuZWxJbmZvKSkpO1xuICAgIH1cbn1cbiovIiwiaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgUmVmLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyBUb2FzdEluZm8sIFRvYXN0c0NvbnRleHQsIHVzZVRvYXN0LCBVc2VUb2FzdFBhcmFtZXRlcnMsIFVzZVRvYXN0UmV0dXJuVHlwZSwgdXNlVG9hc3RzLCBVc2VUb2FzdHNQYXJhbWV0ZXJzLCBVc2VUb2FzdHNSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3VzZS10b2FzdHNcIjtcbmltcG9ydCB7IG1lbW9Gb3J3YXJkUmVmIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG50eXBlIEdldDxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBUW0tdO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0c1Byb3BzPENvbnRhaW5lclR5cGUgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIEdldDxVc2VUb2FzdHNQYXJhbWV0ZXJzLCBcIm1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnNcIj4sIEdldDxVc2VUb2FzdHNQYXJhbWV0ZXJzLCBcInRvYXN0c1BhcmFtZXRlcnNcIj4ge1xuICAgIHJlZj86IFJlZjxVc2VUb2FzdHNSZXR1cm5UeXBlPENvbnRhaW5lclR5cGUsIFRvYXN0SW5mbz4+O1xuICAgIHJlbmRlcihpbmZvOiBVc2VUb2FzdHNSZXR1cm5UeXBlPENvbnRhaW5lclR5cGUsIFRvYXN0SW5mbz4pOiBWTm9kZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb2FzdFByb3BzPEUgZXh0ZW5kcyBFbGVtZW50PiBleHRlbmRzIEdldDxVc2VUb2FzdFBhcmFtZXRlcnM8VG9hc3RJbmZvPiwgXCJtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzXCI+LCBHZXQ8VXNlVG9hc3RQYXJhbWV0ZXJzPFRvYXN0SW5mbz4sIFwidG9hc3RQYXJhbWV0ZXJzXCI+IHtcbiAgICByZWY/OiBSZWY8VXNlVG9hc3RSZXR1cm5UeXBlPEU+PjtcbiAgICByZW5kZXIoYXJnczogVXNlVG9hc3RSZXR1cm5UeXBlPEU+KTogVk5vZGU7XG59XG5cblxuY29uc3QgVG9hc3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxUb2FzdHNDb250ZXh0PFRvYXN0SW5mbz4+KG51bGwhKTtcblxuZXhwb3J0IGNvbnN0IFRvYXN0cyA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFRvYXN0czxDb250YWluZXJUeXBlIGV4dGVuZHMgRWxlbWVudD4oeyBvbkFmdGVyQ2hpbGRMYXlvdXRFZmZlY3QsIG9uQ2hpbGRyZW5Nb3VudENoYW5nZSwgcmVuZGVyLCB2aXNpYmxlQ291bnQgfTogVG9hc3RzUHJvcHM8Q29udGFpbmVyVHlwZT4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgaW5mbyA9IHVzZVRvYXN0czxDb250YWluZXJUeXBlPih7IG1hbmFnZWRDaGlsZHJlblBhcmFtZXRlcnM6IHsgb25BZnRlckNoaWxkTGF5b3V0RWZmZWN0LCBvbkNoaWxkcmVuTW91bnRDaGFuZ2UgfSwgdG9hc3RzUGFyYW1ldGVyczogeyB2aXNpYmxlQ291bnQgfSB9KTtcblxuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUocmVmISwgKCkgPT4gaW5mbyk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8VG9hc3RDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXtpbmZvLmNvbnRleHR9PlxuICAgICAgICAgICAge3JlbmRlcihpbmZvKX1cbiAgICAgICAgPC9Ub2FzdENvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbn0pXG5cbmV4cG9ydCBjb25zdCBUb2FzdCA9IG1lbW9Gb3J3YXJkUmVmKGZ1bmN0aW9uIFRvYXN0PEUgZXh0ZW5kcyBFbGVtZW50Pih7IHJlbmRlciwgaW5kZXgsIHRpbWVvdXQsIHBvbGl0ZW5lc3MsIGNoaWxkcmVuIH06IFRvYXN0UHJvcHM8RT4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgY29udGV4dCA9ICh1c2VDb250ZXh0KFRvYXN0Q29udGV4dCkgYXMgVG9hc3RzQ29udGV4dDxUb2FzdEluZm8+KVxuICAgIGNvbnNvbGUuYXNzZXJ0KGNvbnRleHQgIT0gbnVsbCwgYFRoaXMgVG9hc3Qgd2FzIG5vdCByZW5kZXJlZCB3aXRoaW4gYSBUb2FzdHMgcHJvdmlkZXJgKTtcbiAgICBjb25zdCBpbmZvID0gdXNlVG9hc3Q8RT4oe1xuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4IH0sXG4gICAgICAgIHRvYXN0UGFyYW1ldGVyczogeyB0aW1lb3V0LCBwb2xpdGVuZXNzLCBjaGlsZHJlbiB9LFxuICAgICAgICBjb250ZXh0XG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIHJlbmRlcihpbmZvKTtcbn0pXG4iLCJpbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBSZWYsIFZOb2RlIH0gZnJvbSBcInByZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicHJlYWN0L2hvb2tzXCI7XG5pbXBvcnQgeyB1c2VUb29sYmFyLCB1c2VUb29sYmFyQ2hpbGQsIFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnMsIFVzZVRvb2xiYXJDaGlsZFJldHVyblR5cGUsIFVzZVRvb2xiYXJDb250ZXh0LCBVc2VUb29sYmFyUGFyYW1ldGVycywgVXNlVG9vbGJhclJldHVyblR5cGUsIFVzZVRvb2xiYXJTdWJJbmZvIH0gZnJvbSBcIi4uL3VzZS10b29sYmFyXCI7XG5pbXBvcnQgeyBtZW1vRm9yd2FyZFJlZiwgUGFydGlhbEV4Y2VwdCwgdXNlRGVmYXVsdCB9IGZyb20gXCIuL3V0aWxcIjtcblxudHlwZSBHZXQ8VCwgSyBleHRlbmRzIGtleW9mIFQ+ID0gVFtLXTtcblxuZXhwb3J0IGludGVyZmFjZSBUb29sYmFyUHJvcHNCYXNlPFRvb2xiYXJDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgVG9vbGJhckNoaWxkRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIExhYmVsRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIE0gZXh0ZW5kcyBVc2VUb29sYmFyU3ViSW5mbzxUb29sYmFyQ2hpbGRFbGVtZW50Pj4gZXh0ZW5kc1xuICAgIEdldDxVc2VUb29sYmFyUGFyYW1ldGVyczxUb29sYmFyQ29udGFpbmVyRWxlbWVudCwgVG9vbGJhckNoaWxkRWxlbWVudCwgTT4sIFwibGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRvb2xiYXJQYXJhbWV0ZXJzPFRvb2xiYXJDb250YWluZXJFbGVtZW50LCBUb29sYmFyQ2hpbGRFbGVtZW50LCBNPiwgXCJzaW5nbGVTZWxlY3Rpb25EZWNsYXJhdGl2ZVBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRvb2xiYXJQYXJhbWV0ZXJzPFRvb2xiYXJDb250YWluZXJFbGVtZW50LCBUb29sYmFyQ2hpbGRFbGVtZW50LCBNPiwgXCJyb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRvb2xiYXJQYXJhbWV0ZXJzPFRvb2xiYXJDb250YWluZXJFbGVtZW50LCBUb29sYmFyQ2hpbGRFbGVtZW50LCBNPiwgXCJ0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVG9vbGJhclBhcmFtZXRlcnM8VG9vbGJhckNvbnRhaW5lckVsZW1lbnQsIFRvb2xiYXJDaGlsZEVsZW1lbnQsIE0+LCBcInNvcnRhYmxlQ2hpbGRyZW5QYXJhbWV0ZXJzXCI+LFxuICAgIEdldDxVc2VUb29sYmFyUGFyYW1ldGVyczxUb29sYmFyQ29udGFpbmVyRWxlbWVudCwgVG9vbGJhckNoaWxkRWxlbWVudCwgTT4sIFwicmVhcnJhbmdlYWJsZUNoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVG9vbGJhclBhcmFtZXRlcnM8VG9vbGJhckNvbnRhaW5lckVsZW1lbnQsIFRvb2xiYXJDaGlsZEVsZW1lbnQsIE0+LCBcImxhYmVsUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVG9vbGJhclBhcmFtZXRlcnM8VG9vbGJhckNvbnRhaW5lckVsZW1lbnQsIFRvb2xiYXJDaGlsZEVsZW1lbnQsIE0+LCBcInN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyc1wiPixcbiAgICBHZXQ8VXNlVG9vbGJhclBhcmFtZXRlcnM8VG9vbGJhckNvbnRhaW5lckVsZW1lbnQsIFRvb2xiYXJDaGlsZEVsZW1lbnQsIE0+LCBcInRvb2xiYXJQYXJhbWV0ZXJzXCI+IHtcbiAgICByZWY/OiBSZWY8VXNlVG9vbGJhclJldHVyblR5cGU8VG9vbGJhckNvbnRhaW5lckVsZW1lbnQsIFRvb2xiYXJDaGlsZEVsZW1lbnQsIExhYmVsRWxlbWVudCwgTT4+O1xufVxuXG5cblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgVG9vbGJhckNoaWxkUHJvcHNCYXNlPFRvb2xiYXJDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlVG9vbGJhclN1YkluZm88VG9vbGJhckNoaWxkRWxlbWVudD4+IGV4dGVuZHNcbiAgICBHZXQ8VXNlVG9vbGJhckNoaWxkUGFyYW1ldGVyczxUb29sYmFyQ2hpbGRFbGVtZW50LCBNPiwgXCJzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnM8VG9vbGJhckNoaWxkRWxlbWVudCwgTT4sIFwicm92aW5nVGFiSW5kZXhDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnM8VG9vbGJhckNoaWxkRWxlbWVudCwgTT4sIFwic29ydGFibGVDaGlsZFBhcmFtZXRlcnNcIj4sXG4gICAgR2V0PFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnM8VG9vbGJhckNoaWxkRWxlbWVudCwgTT4sIFwidGV4dENvbnRlbnRQYXJhbWV0ZXJzXCI+LFxuICAgIFBpY2s8R2V0PFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnM8YW55LCBhbnk+LCBcIm1hbmFnZWRDaGlsZFBhcmFtZXRlcnNcIj4sIFwiaW5kZXhcIj4ge1xuICAgIGZvY3VzU2VsZj86IFVzZVRvb2xiYXJDaGlsZFBhcmFtZXRlcnM8VG9vbGJhckNoaWxkRWxlbWVudCwgTT5bXCJjb21wbGV0ZUxpc3ROYXZpZ2F0aW9uQ2hpbGRQYXJhbWV0ZXJzXCJdW1wiZm9jdXNTZWxmXCJdXG4gICAgcmVmPzogUmVmPFVzZVRvb2xiYXJDaGlsZFJldHVyblR5cGU8VG9vbGJhckNoaWxkRWxlbWVudCwgTT4+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvb2xiYXJQcm9wczxUb29sYmFyQ29udGFpbmVyRWxlbWVudCBleHRlbmRzIEVsZW1lbnQsIFRvb2xiYXJDaGlsZEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBMYWJlbEVsZW1lbnQgZXh0ZW5kcyBFbGVtZW50LCBNIGV4dGVuZHMgVXNlVG9vbGJhclN1YkluZm88VG9vbGJhckNoaWxkRWxlbWVudD4+IGV4dGVuZHMgUGFydGlhbEV4Y2VwdDxUb29sYmFyUHJvcHNCYXNlPFRvb2xiYXJDb250YWluZXJFbGVtZW50LCBUb29sYmFyQ2hpbGRFbGVtZW50LCBMYWJlbEVsZW1lbnQsIE0+LCBcIm9yaWVudGF0aW9uXCIgfCBcImFyaWFMYWJlbFwiPiB7XG4gICAgcmVuZGVyKGluZm86IFVzZVRvb2xiYXJSZXR1cm5UeXBlPFRvb2xiYXJDb250YWluZXJFbGVtZW50LCBUb29sYmFyQ2hpbGRFbGVtZW50LCBMYWJlbEVsZW1lbnQsIE0+KTogVk5vZGU8YW55Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBUb29sYmFyQ2hpbGRQcm9wczxUb29sYmFyQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTSBleHRlbmRzIFVzZVRvb2xiYXJTdWJJbmZvPFRvb2xiYXJDaGlsZEVsZW1lbnQ+PiBleHRlbmRzIFBhcnRpYWxFeGNlcHQ8VG9vbGJhckNoaWxkUHJvcHNCYXNlPFRvb2xiYXJDaGlsZEVsZW1lbnQsIE0+LCBcImdldFNvcnRWYWx1ZVwiIHwgXCJhcmlhUHJvcE5hbWVcIiB8IFwiaW5kZXhcIiB8IFwic2VsZWN0aW9uTW9kZVwiPiB7XG4gICAgcmVuZGVyKGluZm86IFVzZVRvb2xiYXJDaGlsZFJldHVyblR5cGU8VG9vbGJhckNoaWxkRWxlbWVudCwgTT4pOiBWTm9kZTxhbnk+O1xufVxuXG5jb25zdCBUb29sYmFyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8VXNlVG9vbGJhckNvbnRleHQ8YW55LCBhbnksIGFueT4+KG51bGwhKTtcblxuZXhwb3J0IGNvbnN0IFRvb2xiYXIgPSBtZW1vRm9yd2FyZFJlZihmdW5jdGlvbiBUb29sYmFyVTxDb250YWluZXJFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudCwgTGFiZWxFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIHJlbmRlcixcbiAgICByb2xlLFxuICAgIGNvbGxhdG9yLFxuICAgIGRpc2FibGVBcnJvd0tleXMsXG4gICAgZGlzYWJsZUhvbWVFbmRLZXlzLFxuICAgIHVudGFiYmFibGUsXG4gICAgY29tcGFyZSxcbiAgICBnZXRJbmRleCxcbiAgICBuYXZpZ2F0ZVBhc3RFbmQsXG4gICAgbmF2aWdhdGVQYXN0U3RhcnQsXG4gICAgcGFnZU5hdmlnYXRpb25TaXplLFxuICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgb25TZWxlY3RlZEluZGV4Q2hhbmdlLFxuICAgIG9yaWVudGF0aW9uLFxuICAgIG5vVHlwZWFoZWFkLFxuICAgIG9uVGFiYmFibGVJbmRleENoYW5nZSxcbiAgICB0eXBlYWhlYWRUaW1lb3V0LFxuICAgIHN0YWdnZXJlZCxcbiAgICBhcmlhTGFiZWxcbn06IFRvb2xiYXJQcm9wczxDb250YWluZXJFbGVtZW50LCBDaGlsZEVsZW1lbnQsIExhYmVsRWxlbWVudCwgVXNlVG9vbGJhclN1YkluZm88Q2hpbGRFbGVtZW50Pj4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgbGlzdGJveFJldHVyblR5cGUgPSB1c2VUb29sYmFyPENvbnRhaW5lckVsZW1lbnQsIENoaWxkRWxlbWVudCwgTGFiZWxFbGVtZW50Pih7XG4gICAgICAgIHJlYXJyYW5nZWFibGVDaGlsZHJlblBhcmFtZXRlcnM6IHsgZ2V0SW5kZXg6IHVzZURlZmF1bHQoXCJnZXRJbmRleFwiLCBnZXRJbmRleCkgfSxcbiAgICAgICAgc2luZ2xlU2VsZWN0aW9uRGVjbGFyYXRpdmVQYXJhbWV0ZXJzOiB7IHNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXggPz8gbnVsbCB9LFxuICAgICAgICBzb3J0YWJsZUNoaWxkcmVuUGFyYW1ldGVyczogeyBjb21wYXJlOiBjb21wYXJlID8/IG51bGwgfSxcbiAgICAgICAgbGluZWFyTmF2aWdhdGlvblBhcmFtZXRlcnM6IHtcbiAgICAgICAgICAgIGRpc2FibGVBcnJvd0tleXM6IHVzZURlZmF1bHQoXCJkaXNhYmxlQXJyb3dLZXlzXCIsIGRpc2FibGVBcnJvd0tleXMpLFxuICAgICAgICAgICAgZGlzYWJsZUhvbWVFbmRLZXlzOiB1c2VEZWZhdWx0KFwiZGlzYWJsZUhvbWVFbmRLZXlzXCIsIGRpc2FibGVIb21lRW5kS2V5cyksXG4gICAgICAgICAgICBuYXZpZ2F0ZVBhc3RFbmQ6IG5hdmlnYXRlUGFzdEVuZCA/PyBcIndyYXBcIixcbiAgICAgICAgICAgIG5hdmlnYXRlUGFzdFN0YXJ0OiBuYXZpZ2F0ZVBhc3RTdGFydCA/PyBcIndyYXBcIixcbiAgICAgICAgICAgIHBhZ2VOYXZpZ2F0aW9uU2l6ZTogdXNlRGVmYXVsdChcInBhZ2VOYXZpZ2F0aW9uU2l6ZVwiLCBwYWdlTmF2aWdhdGlvblNpemUpXG4gICAgICAgIH0sXG4gICAgICAgIHRvb2xiYXJQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvcmllbnRhdGlvbixcbiAgICAgICAgICAgIHJvbGU6IHJvbGUgPz8gXCJ0b29sYmFyXCIsXG4gICAgICAgICAgICBvblNlbGVjdGVkSW5kZXhDaGFuZ2U6IG9uU2VsZWN0ZWRJbmRleENoYW5nZSA/PyBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHN0YWdnZXJlZENoaWxkcmVuUGFyYW1ldGVyczogeyBzdGFnZ2VyZWQ6IHN0YWdnZXJlZCB8fCBmYWxzZSB9LFxuICAgICAgICByb3ZpbmdUYWJJbmRleFBhcmFtZXRlcnM6IHsgb25UYWJiYWJsZUluZGV4Q2hhbmdlOiBvblRhYmJhYmxlSW5kZXhDaGFuZ2UgPz8gbnVsbCwgdW50YWJiYWJsZTogdW50YWJiYWJsZSB8fCBmYWxzZSB9LFxuICAgICAgICB0eXBlYWhlYWROYXZpZ2F0aW9uUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgY29sbGF0b3I6IHVzZURlZmF1bHQoXCJjb2xsYXRvclwiLCBjb2xsYXRvciksXG4gICAgICAgICAgICBub1R5cGVhaGVhZDogdXNlRGVmYXVsdChcIm5vVHlwZWFoZWFkXCIsIG5vVHlwZWFoZWFkKSxcbiAgICAgICAgICAgIHR5cGVhaGVhZFRpbWVvdXQ6IHVzZURlZmF1bHQoXCJ0eXBlYWhlYWRUaW1lb3V0XCIsIHR5cGVhaGVhZFRpbWVvdXQpXG4gICAgICAgIH0sXG4gICAgICAgIGxhYmVsUGFyYW1ldGVyczogeyBhcmlhTGFiZWwgfVxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBsaXN0Ym94UmV0dXJuVHlwZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8VG9vbGJhckNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e2xpc3Rib3hSZXR1cm5UeXBlLmNvbnRleHR9PlxuICAgICAgICAgICAge3JlbmRlcihsaXN0Ym94UmV0dXJuVHlwZSl9XG4gICAgICAgIDwvVG9vbGJhckNvbnRleHQuUHJvdmlkZXI+XG4gICAgKVxufSlcblxuXG5leHBvcnQgY29uc3QgVG9vbGJhckNoaWxkID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gVG9vbGJhckNoaWxkVTxUb29sYmFyQ2hpbGRFbGVtZW50IGV4dGVuZHMgRWxlbWVudD4oe1xuICAgIGluZGV4LFxuICAgIHJlbmRlcixcbiAgICBhcmlhUHJvcE5hbWUsXG4gICAgZGlzYWJsZWQsXG4gICAgc2VsZWN0aW9uTW9kZSxcbiAgICBmb2N1c1NlbGYsXG4gICAgZ2V0U29ydFZhbHVlLFxuICAgIGhpZGRlbixcbiAgICBnZXRUZXh0XG59OiBUb29sYmFyQ2hpbGRQcm9wczxUb29sYmFyQ2hpbGRFbGVtZW50LCBVc2VUb29sYmFyU3ViSW5mbzxUb29sYmFyQ2hpbGRFbGVtZW50Pj4sIHJlZj86IFJlZjxhbnk+KSB7XG4gICAgY29uc3QgY29udGV4dCA9ICh1c2VDb250ZXh0KFRvb2xiYXJDb250ZXh0KSBhcyBVc2VUb29sYmFyQ29udGV4dDxhbnksIFRvb2xiYXJDaGlsZEVsZW1lbnQsIFVzZVRvb2xiYXJTdWJJbmZvPFRvb2xiYXJDaGlsZEVsZW1lbnQ+Pik7XG4gICAgY29uc29sZS5hc3NlcnQoY29udGV4dCAhPSBudWxsLCBgVGhpcyBUb29sYmFyQ2hpbGQgaXMgbm90IGNvbnRhaW5lZCB3aXRoaW4gYSBUb29sYmFyYCk7XG4gICAgY29uc3QgZm9jdXNTZWxmRGVmYXVsdCA9IHVzZUNhbGxiYWNrKChlOiBhbnkpID0+IHsgZT8uZm9jdXMoKTsgfSwgW10pO1xuXG4gICAgY29uc3QgaW5mbyA9IHVzZVRvb2xiYXJDaGlsZDxUb29sYmFyQ2hpbGRFbGVtZW50Pih7XG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbXBsZXRlTGlzdE5hdmlnYXRpb25DaGlsZFBhcmFtZXRlcnM6IHsgZm9jdXNTZWxmOiBmb2N1c1NlbGYgPz8gZm9jdXNTZWxmRGVmYXVsdCB9LFxuICAgICAgICBtYW5hZ2VkQ2hpbGRQYXJhbWV0ZXJzOiB7IGluZGV4IH0sXG4gICAgICAgIHJvdmluZ1RhYkluZGV4Q2hpbGRQYXJhbWV0ZXJzOiB7IGhpZGRlbjogaGlkZGVuID8/IGZhbHNlIH0sXG4gICAgICAgIHNvcnRhYmxlQ2hpbGRQYXJhbWV0ZXJzOiB7IGdldFNvcnRWYWx1ZSB9LFxuICAgICAgICBzaW5nbGVTZWxlY3Rpb25DaGlsZFBhcmFtZXRlcnM6IHsgYXJpYVByb3BOYW1lLCBzZWxlY3Rpb25Nb2RlLCBkaXNhYmxlZDogZGlzYWJsZWQgPz8gZmFsc2UgfSxcbiAgICAgICAgdGV4dENvbnRlbnRQYXJhbWV0ZXJzOiB7IGdldFRleHQ6IHVzZURlZmF1bHQoXCJnZXRUZXh0XCIsIGdldFRleHQpIH0sXG4gICAgfSk7XG5cbiAgICB1c2VJbXBlcmF0aXZlSGFuZGxlKHJlZiEsICgpID0+IGluZm8pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPD57cmVuZGVyKGluZm8pfTwvPlxuICAgIClcbn0pO1xuIiwiaW1wb3J0IHsgUmVmLCBWTm9kZSB9IGZyb20gXCJwcmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tIFwicHJlYWN0L2NvbXBhdFwiO1xuaW1wb3J0IHsgdXNlVG9vbHRpcCwgVXNlVG9vbHRpcFBhcmFtZXRlcnMsIFVzZVRvb2x0aXBSZXR1cm5UeXBlIH0gZnJvbSBcIi4uL3VzZS10b29sdGlwXCI7XG5pbXBvcnQgeyBtZW1vRm9yd2FyZFJlZiwgUGFyZW50RGVwdGhDb250ZXh0LCBQYXJ0aWFsRXhjZXB0LCB1c2VEZWZhdWx0IH0gZnJvbSBcIi4vdXRpbFwiO1xuXG50eXBlIEdldDxULCBLIGV4dGVuZHMga2V5b2YgVD4gPSBUW0tdO1xuXG5pbnRlcmZhY2UgVG9vbHRpcFByb3BzQmFzZTxUcmlnZ2VyVHlwZSBleHRlbmRzIEVsZW1lbnQsIFBvcHVwVHlwZSBleHRlbmRzIEVsZW1lbnQ+IGV4dGVuZHMgR2V0PFVzZVRvb2x0aXBQYXJhbWV0ZXJzPFRyaWdnZXJUeXBlLCBQb3B1cFR5cGU+LCBcImVzY2FwZURpc21pc3NQYXJhbWV0ZXJzXCI+LCBHZXQ8VXNlVG9vbHRpcFBhcmFtZXRlcnM8VHJpZ2dlclR5cGUsIFBvcHVwVHlwZT4sIFwidG9vbHRpcFBhcmFtZXRlcnNcIj4ge1xuICAgIHJlbmRlcihpbmZvOiBVc2VUb29sdGlwUmV0dXJuVHlwZTxUcmlnZ2VyVHlwZSwgUG9wdXBUeXBlPik6IFZOb2RlO1xuICAgIHJlZj86IFJlZjxVc2VUb29sdGlwUmV0dXJuVHlwZTxUcmlnZ2VyVHlwZSwgUG9wdXBUeXBlPj47XG59XG5cbmV4cG9ydCB0eXBlIFRvb2x0aXBQcm9wczxUcmlnZ2VyVHlwZSBleHRlbmRzIEVsZW1lbnQsIFBvcHVwVHlwZSBleHRlbmRzIEVsZW1lbnQ+ID0gUGFydGlhbEV4Y2VwdDxUb29sdGlwUHJvcHNCYXNlPFRyaWdnZXJUeXBlLCBQb3B1cFR5cGU+LCBcInJlbmRlclwiIHwgXCJ0b29sdGlwU2VtYW50aWNUeXBlXCIgfCBcIm9uU3RhdHVzXCI+XG5cbmV4cG9ydCBjb25zdCBUb29sdGlwID0gbWVtb0ZvcndhcmRSZWYoZnVuY3Rpb24gVG9vbHRpcFU8VHJpZ2dlclR5cGUgZXh0ZW5kcyBFbGVtZW50LCBQb3B1cFR5cGUgZXh0ZW5kcyBFbGVtZW50Pih7IG9uU3RhdHVzLCBnZXRXaW5kb3csIHBhcmVudERlcHRoLCByZW5kZXIsIHRvb2x0aXBTZW1hbnRpY1R5cGUgfTogVG9vbHRpcFByb3BzPFRyaWdnZXJUeXBlLCBQb3B1cFR5cGU+LCByZWY/OiBSZWY8YW55Pikge1xuXG4gICAgY29uc3QgZGVmYXVsdFBhcmVudERlcHRoID0gdXNlQ29udGV4dChQYXJlbnREZXB0aENvbnRleHQpO1xuICAgIGxldCBteURlcHRoID0gKHBhcmVudERlcHRoID8/IGRlZmF1bHRQYXJlbnREZXB0aCkgKyAxO1xuXG4gICAgY29uc3QgaW5mbyA9IHVzZVRvb2x0aXA8VHJpZ2dlclR5cGUsIFBvcHVwVHlwZT4oe1xuICAgICAgICBlc2NhcGVEaXNtaXNzUGFyYW1ldGVyczoge1xuICAgICAgICAgICAgZ2V0V2luZG93OiB1c2VEZWZhdWx0KFwiZ2V0V2luZG93XCIsIGdldFdpbmRvdyksXG4gICAgICAgICAgICBwYXJlbnREZXB0aDogcGFyZW50RGVwdGggPz8gZGVmYXVsdFBhcmVudERlcHRoXG4gICAgICAgIH0sXG4gICAgICAgIHRvb2x0aXBQYXJhbWV0ZXJzOiB7XG4gICAgICAgICAgICBvblN0YXR1cyxcbiAgICAgICAgICAgIHRvb2x0aXBTZW1hbnRpY1R5cGVcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYhLCAoKSA9PiBpbmZvKTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxQYXJlbnREZXB0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e215RGVwdGh9PlxuICAgICAgICAgICAge3JlbmRlcihpbmZvKX1cbiAgICAgICAgPC9QYXJlbnREZXB0aENvbnRleHQuUHJvdmlkZXI+XG4gICAgKTtcbn0pXG5cbiIsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCxudWxsXSwibmFtZXMiOlsic2xpY2UiLCJvcHRpb25zIiwidm5vZGVJZCIsImluRXZlbnQiLCJyZXJlbmRlclF1ZXVlIiwicHJldkRlYm91bmNlIiwibWljcm9UaWNrIiwiaSIsIkVNUFRZX09CSiIsIkVNUFRZX0FSUiIsIklTX05PTl9ESU1FTlNJT05BTCIsImFzc2lnbiIsIm9iaiIsInByb3BzIiwicmVtb3ZlTm9kZSIsIm5vZGUiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsImNoaWxkcmVuIiwia2V5IiwicmVmIiwibm9ybWFsaXplZFByb3BzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2FsbCIsImRlZmF1bHRQcm9wcyIsInVuZGVmaW5lZCIsImNyZWF0ZVZOb2RlIiwib3JpZ2luYWwiLCJ2bm9kZSIsIl9fayIsIl9fIiwiX19iIiwiX19lIiwiX19kIiwiX19jIiwiX19oIiwiY29uc3RydWN0b3IiLCJfX3YiLCJGcmFnbWVudCIsImRpZmZQcm9wcyIsImRvbSIsIm5ld1Byb3BzIiwib2xkUHJvcHMiLCJpc1N2ZyIsImh5ZHJhdGUiLCJzZXRQcm9wZXJ0eSIsInNldFN0eWxlIiwic3R5bGUiLCJ2YWx1ZSIsInRlc3QiLCJuYW1lIiwib2xkVmFsdWUiLCJ1c2VDYXB0dXJlIiwibyIsImNzc1RleHQiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50UHJveHlDYXB0dXJlIiwiZXZlbnRQcm94eSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwiaW5kZXhPZiIsInJlbW92ZUF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsInRoaXMiLCJldmVudCIsIkNvbXBvbmVudCIsImNvbnRleHQiLCJnZXREb21TaWJsaW5nIiwiY2hpbGRJbmRleCIsInNpYmxpbmciLCJ1cGRhdGVQYXJlbnREb21Qb2ludGVycyIsImNoaWxkIiwiYmFzZSIsImRlZmVyIiwiY2IiLCJzZXRUaW1lb3V0IiwiZW5xdWV1ZVJlbmRlciIsImMiLCJwdXNoIiwicHJvY2VzcyIsIl9fciIsImRlYm91bmNlUmVuZGVyaW5nIiwicmVuZGVyUXVldWVMZW5ndGgiLCJjb21wb25lbnQiLCJjb21taXRRdWV1ZSIsIm9sZFZOb2RlIiwib2xkRG9tIiwicGFyZW50RG9tIiwic29ydCIsImEiLCJiIiwic2hpZnQiLCJfX1AiLCJkaWZmIiwib3duZXJTVkdFbGVtZW50IiwiY29tbWl0Um9vdCIsImRpZmZDaGlsZHJlbiIsInJlbmRlclJlc3VsdCIsIm5ld1BhcmVudFZOb2RlIiwib2xkUGFyZW50Vk5vZGUiLCJnbG9iYWxDb250ZXh0IiwiZXhjZXNzRG9tQ2hpbGRyZW4iLCJpc0h5ZHJhdGluZyIsImoiLCJjaGlsZFZOb2RlIiwibmV3RG9tIiwiZmlyc3RDaGlsZERvbSIsInJlZnMiLCJvbGRDaGlsZHJlbiIsIm9sZENoaWxkcmVuTGVuZ3RoIiwiQXJyYXkiLCJpc0FycmF5IiwicmVvcmRlckNoaWxkcmVuIiwicGxhY2VDaGlsZCIsImdldExhc3REb20iLCJuZXh0U2libGluZyIsInVubW91bnQiLCJhcHBseVJlZiIsInRtcCIsInRvQ2hpbGRBcnJheSIsIm91dCIsInNvbWUiLCJuZXh0RG9tIiwic2liRG9tIiwib3V0ZXIiLCJhcHBlbmRDaGlsZCIsImluc2VydEJlZm9yZSIsImxhc3REb20iLCJuZXdWTm9kZSIsImlzTmV3Iiwib2xkU3RhdGUiLCJzbmFwc2hvdCIsImNsZWFyUHJvY2Vzc2luZ0V4Y2VwdGlvbiIsInByb3ZpZGVyIiwiY29tcG9uZW50Q29udGV4dCIsInJlbmRlckhvb2siLCJjb3VudCIsIm5ld1R5cGUiLCJjb250ZXh0VHlwZSIsIl9fRSIsInByb3RvdHlwZSIsInJlbmRlciIsImRvUmVuZGVyIiwic3ViIiwic3RhdGUiLCJfc2IiLCJfX3MiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJjb21wb25lbnREaWRNb3VudCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJzaG91bGRDb21wb25lbnRVcGRhdGUiLCJmb3JFYWNoIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsImdldENoaWxkQ29udGV4dCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwiZGlmZkVsZW1lbnROb2RlcyIsImRpZmZlZCIsInJvb3QiLCJvbGRIdG1sIiwibmV3SHRtbCIsIm5vZGVUeXBlIiwibG9jYWxOYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImNyZWF0ZUVsZW1lbnROUyIsImlzIiwiZGF0YSIsImNoaWxkTm9kZXMiLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsImF0dHJpYnV0ZXMiLCJfX2h0bWwiLCJpbm5lckhUTUwiLCJjaGVja2VkIiwiY3VycmVudCIsInBhcmVudFZOb2RlIiwic2tpcFJlbW92ZSIsInIiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsInJlcGxhY2VOb2RlIiwiZmlyc3RDaGlsZCIsImNsb25lRWxlbWVudCIsImNyZWF0ZUNvbnRleHQiLCJkZWZhdWx0VmFsdWUiLCJjb250ZXh0SWQiLCJDb25zdW1lciIsImNvbnRleHRWYWx1ZSIsIlByb3ZpZGVyIiwic3VicyIsImN0eCIsIl9wcm9wcyIsIm9sZCIsInNwbGljZSIsImVycm9yIiwiZXJyb3JJbmZvIiwiY3RvciIsImhhbmRsZWQiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJzZXRTdGF0ZSIsImNvbXBvbmVudERpZENhdGNoIiwidXBkYXRlIiwiY2FsbGJhY2siLCJzIiwiZm9yY2VVcGRhdGUiLCJQcm9taXNlIiwidGhlbiIsImJpbmQiLCJyZXNvbHZlIiwiaXNTdGF0aWNDaGlsZHJlbiIsIl9fc291cmNlIiwiX19zZWxmIiwiY3VycmVudEluZGV4IiwiY3VycmVudENvbXBvbmVudCIsInByZXZpb3VzQ29tcG9uZW50IiwicHJldlJhZiIsImN1cnJlbnRIb29rIiwiYWZ0ZXJQYWludEVmZmVjdHMiLCJFTVBUWSIsIm9sZEJlZm9yZURpZmYiLCJvbGRCZWZvcmVSZW5kZXIiLCJvbGRBZnRlckRpZmYiLCJvbGRDb21taXQiLCJvbGRCZWZvcmVVbm1vdW50IiwiZ2V0SG9va1N0YXRlIiwiaW5kZXgiLCJob29rcyIsIl9fSCIsIl9fViIsInVzZVN0YXRlIiwiaW5pdGlhbFN0YXRlIiwidXNlUmVkdWNlciIsImludm9rZU9yUmV0dXJuIiwicmVkdWNlciIsImluaXQiLCJob29rU3RhdGUiLCJfcmVkdWNlciIsImFjdGlvbiIsImN1cnJlbnRWYWx1ZSIsIl9fTiIsIm5leHRWYWx1ZSIsIl9oYXNTY3VGcm9tSG9va3MiLCJwcmV2U2N1IiwicCIsInN0YXRlSG9va3MiLCJmaWx0ZXIiLCJ4IiwiZXZlcnkiLCJzaG91bGRVcGRhdGUiLCJob29rSXRlbSIsInVzZUVmZmVjdCIsImFyZ3MiLCJhcmdzQ2hhbmdlZCIsIl9wZW5kaW5nQXJncyIsInVzZUxheW91dEVmZmVjdCIsInVzZVJlZiIsImluaXRpYWxWYWx1ZSIsInVzZU1lbW8iLCJ1c2VJbXBlcmF0aXZlSGFuZGxlIiwiY3JlYXRlSGFuZGxlIiwiY29uY2F0IiwiZmFjdG9yeSIsInVzZUNhbGxiYWNrIiwidXNlQ29udGV4dCIsInVzZUlkIiwiX19tIiwibWFzayIsImZsdXNoQWZ0ZXJQYWludEVmZmVjdHMiLCJpbnZva2VDbGVhbnVwIiwiaW52b2tlRWZmZWN0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYWZ0ZXJOZXh0RnJhbWUiLCJoYXNFcnJvcmVkIiwiSEFTX1JBRiIsInJhZiIsImRvbmUiLCJjbGVhclRpbWVvdXQiLCJ0aW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJob29rIiwiY29tcCIsImNsZWFudXAiLCJvbGRBcmdzIiwibmV3QXJncyIsImFyZyIsImYiLCJzaGFsbG93RGlmZmVycyIsIlB1cmVDb21wb25lbnQiLCJtZW1vIiwiY29tcGFyZXIiLCJuZXh0UHJvcHMiLCJ1cGRhdGVSZWYiLCJNZW1vZWQiLCJkaXNwbGF5TmFtZSIsImlzUmVhY3RDb21wb25lbnQiLCJpc1B1cmVSZWFjdENvbXBvbmVudCIsIm9sZERpZmZIb29rIiwiX19mIiwiUkVBQ1RfRk9SV0FSRF9TWU1CT0wiLCJTeW1ib2wiLCJmb3IiLCJmb3J3YXJkUmVmIiwiZm4iLCJGb3J3YXJkZWQiLCJjbG9uZSIsIiQkdHlwZW9mIiwib2xkQ2F0Y2hFcnJvciIsIm9sZFVubW91bnQiLCJkZXRhY2hlZENsb25lIiwiZGV0YWNoZWRQYXJlbnQiLCJlZmZlY3QiLCJtYXAiLCJyZW1vdmVPcmlnaW5hbCIsIm9yaWdpbmFsUGFyZW50IiwiU3VzcGVuc2UiLCJfX3UiLCJfc3VzcGVuZGVycyIsInN1c3BlbmRlZCIsIl9fYSIsIlN1c3BlbnNlTGlzdCIsIl9uZXh0IiwiX21hcCIsIl9fUiIsInByb21pc2UiLCJzdXNwZW5kaW5nVk5vZGUiLCJzdXNwZW5kaW5nQ29tcG9uZW50IiwicmVzb2x2ZWQiLCJvblJlc29sdmVkIiwib25TdXNwZW5zaW9uQ29tcGxldGUiLCJzdXNwZW5kZWRWTm9kZSIsInBvcCIsIndhc0h5ZHJhdGluZyIsImRldGFjaGVkQ29tcG9uZW50IiwiX19PIiwiZmFsbGJhY2siLCJsaXN0IiwiZGVsZXRlIiwicmV2ZWFsT3JkZXIiLCJzaXplIiwiQ29udGV4dFByb3ZpZGVyIiwiUG9ydGFsIiwiX3RoaXMiLCJjb250YWluZXIiLCJfY29udGFpbmVyIiwiX3RlbXAiLCJiZWZvcmUiLCJjcmVhdGVQb3J0YWwiLCJlbCIsImNvbnRhaW5lckluZm8iLCJkZWxlZ2F0ZWQiLCJnZXQiLCJ1bnN1c3BlbmQiLCJ3cmFwcGVkVW5zdXNwZW5kIiwiTWFwIiwicmV2ZXJzZSIsInNldCIsIlJFQUNUX0VMRU1FTlRfVFlQRSIsIkNBTUVMX1BST1BTIiwiSVNfRE9NIiwib25DaGFuZ2VJbnB1dFR5cGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsInYiLCJ3cml0YWJsZSIsIm9sZEV2ZW50SG9vayIsImVtcHR5IiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJjYW5jZWxCdWJibGUiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwicGVyc2lzdCIsIm5hdGl2ZUV2ZW50IiwiY2xhc3NOYW1lRGVzY3JpcHRvciIsImNsYXNzIiwib2xkVk5vZGVIb29rIiwibm9uQ3VzdG9tRWxlbWVudCIsIm11bHRpcGxlIiwic2VsZWN0ZWQiLCJjbGFzc05hbWUiLCJlbnVtZXJhYmxlIiwiX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQiLCJub29wIiwiX2pzeCIsIl9GcmFnbWVudCIsIl9qc3hzIiwiVW5zZXQiLCJUYWJsZSIsInVzZUNhbGxiYWNrTmF0aXZlIiwiY2FuZGlkYXRlU2VsZWN0b3JzIiwiTm9FbGVtZW50IiwiRWxlbWVudCIsIm1hdGNoZXMiLCJtc01hdGNoZXNTZWxlY3RvciIsIndlYmtpdE1hdGNoZXNTZWxlY3RvciIsImdldFJvb3ROb2RlIiwiZWxlbWVudCIsIm93bmVyRG9jdW1lbnQiLCJpc0lucHV0IiwidGFnTmFtZSIsImlzSGlkZGVuSW5wdXQiLCJpc0RldGFpbHNXaXRoU3VtbWFyeSIsImFwcGx5IiwiaXNOb2RlQXR0YWNoZWQiLCJub2RlUm9vdEhvc3QiLCJob3N0IiwiYXR0YWNoZWQiLCJjb250YWlucyIsImlzWmVyb0FyZWEiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImlzSGlkZGVuIiwiZGlzcGxheUNoZWNrIiwiZ2V0U2hhZG93Um9vdCIsImdldENvbXB1dGVkU3R5bGUiLCJ2aXNpYmlsaXR5IiwiaXNEaXJlY3RTdW1tYXJ5Iiwibm9kZVVuZGVyRGV0YWlscyIsInBhcmVudEVsZW1lbnQiLCJvcmlnaW5hbE5vZGUiLCJyb290Tm9kZSIsInNoYWRvd1Jvb3QiLCJhc3NpZ25lZFNsb3QiLCJnZXRDbGllbnRSZWN0cyIsImlzRGlzYWJsZWRGcm9tRmllbGRzZXQiLCJkaXNhYmxlZCIsIml0ZW0iLCJpc05vZGVNYXRjaGluZ1NlbGVjdG9yRm9jdXNhYmxlIiwiZm9jdXNhYmxlQ2FuZGlkYXRlU2VsZWN0b3IiLCJqb2luIiwiaXNGb2N1c2FibGUiLCJFcnJvciIsInVzZVN0YXRlUCIsImZyZWVHbG9iYWwiLCJvYmplY3RQcm90byIsImhhc093blByb3BlcnR5IiwibmF0aXZlT2JqZWN0VG9TdHJpbmciLCJzeW1Ub1N0cmluZ1RhZyIsImFyZ3NUYWciLCJmcmVlRXhwb3J0cyIsImZyZWVNb2R1bGUiLCJtb2R1bGVFeHBvcnRzIiwiTUFYX1NBRkVfSU5URUdFUiIsImZ1bmNUYWciLCJub2RlVXRpbCIsImlzQXJndW1lbnRzIiwiaXNCdWZmZXIiLCJpc1R5cGVkQXJyYXkiLCJuYXRpdmVLZXlzIiwic2h1ZmZsZSIsImxvZGFzaFNodWZmbGUiLCJoIiwiaWRlbnRpdHkiLCJub3ciLCJMb2Rhc2hEZWJvdW5jZSIsIkJsdXJiIiwiQ29kZSIsIkRlbW8iLCJEZW1vQ2hlY2tib3giLCJEZW1vTGlzdEl0ZW0iLCJBY2NvcmRpb24uRGVtbyIsIkJ1dHRvbi5EZW1vIiwiQ2hlY2tib3guRGVtbyIsIkNoZWNrYm94R3JvdXAuRGVtbyIsIkRpYWxvZy5EZW1vIiwiR3JpZGxpc3QuRGVtbyIsIkxpc3Rib3hTaW5nbGUuRGVtbyIsIkxpc3Rib3hNdWx0aS5EZW1vIiwiTWVudS5EZW1vIiwiUmFkaW8uRGVtbyIsIlNsaWRlci5EZW1vIiwiVG9vbGJhci5EZW1vIiwiVG9hc3QuRGVtbyIsIlRvb2x0aXAuRGVtbyIsIlRhYnMuRGVtbyIsIlRhYmxlLkRlbW8iXSwibWFwcGluZ3MiOiI7OztBQTBCYUEsUUFBQUEsQ0FBQUEsQ0NmUEMsR0NSRkMsQ0FBQUEsR0FBQUEsQ0M4SU9DLEdBQUFBLENDNEJQQyxJQVdBQyxHQUVFQyxDQUFBQSxHQUFBQSxDQ3hMS0MsR0NGRUMsQ0FB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dUIsR0FBUSxFQUFFLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDaEQsS0FBQTtJQUNMOztJQ2ZBLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsUUFBUSxFQUFFLE9BQU8sQ0FBQyxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssR0FBRyxRQUFRLEVBQUUsT0FBTyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBUSxTQUFTLElBQUksRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDOztJQ0dqVzs7Ozs7OztJQU9HO0lBQ0csU0FBVSxnQkFBZ0IsQ0FBQyxRQUFXLEVBQUUsWUFBZSxFQUFFLFFBQVcsRUFBRSxZQUFlLEVBQUE7OztJQUt2RixJQUFBLElBQUksUUFBUSxJQUFJLFFBQVEsSUFBSSxZQUFZLElBQUksWUFBWSxFQUFFO0lBQ3RELFFBQUEsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxZQUFZLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0QsUUFBQSxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLFlBQVksQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUMzRCxNQUFNLFVBQVUsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsRUFBRSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBRWxGLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0MsS0FBQTtJQUNJLFNBQUE7SUFDRCxRQUFBLE9BQU8sU0FBUyxDQUFDO0lBQ3BCLEtBQUE7SUFDTDs7SUN2QkEsU0FBUyxVQUFVLENBQUksUUFBa0IsRUFBRSxHQUE4QixFQUFBO0lBQ3JFLElBQUEsSUFBSSxPQUFPLEdBQUcsS0FBSyxVQUFVLEVBQUU7WUFDM0IsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2pCLEtBQUE7YUFDSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7SUFDakIsUUFBQSxHQUEyQixDQUFDLE9BQU8sR0FBRyxRQUFRLENBQUM7SUFDbkQsS0FBQTtJQUNJLFNBQUE7O0lBRUQsUUFBQSxTQUFTO0lBQ1QsUUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSx1RUFBdUUsQ0FBQyxDQUFDO0lBQ2xHLEtBQUE7SUFDTCxDQUFDO0lBR0Q7Ozs7O0lBS0c7SUFDYSxTQUFBLGFBQWEsQ0FBd0IsR0FBbUMsRUFBRSxHQUFtQyxFQUFBO0lBQ3pILElBQUEsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7SUFDNUIsUUFBQSxPQUFPLFNBQVUsQ0FBQztJQUNyQixLQUFBO2FBQ0ksSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO0lBQ2xCLFFBQUEsT0FBTyxHQUFJLENBQUM7SUFDZixLQUFBO2FBQ0ksSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO0lBQ2xCLFFBQUEsT0FBTyxHQUFJLENBQUM7SUFDZixLQUFBO0lBQ0ksU0FBQTtJQUNELFFBQUEsT0FBTyxRQUFRLENBQUM7SUFDbkIsS0FBQTtRQUdELFNBQVMsUUFBUSxDQUFDLE9BQWlCLEVBQUE7SUFDL0IsUUFBQSxVQUFVLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3pCLFFBQUEsVUFBVSxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztTQUM1QjtJQUNMOztJQ3pDQSxTQUFTLG1CQUFtQixDQUFDLEtBQWEsRUFBQTs7UUFFdEMsT0FBTyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLFNBQVMsSUFBSSxTQUFTLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQW1DLENBQUM7SUFDekgsQ0FBQztJQUVEOzs7Ozs7SUFNRztJQUNhLFNBQUEsZUFBZSxDQUFDLEdBQStDLEVBQUUsR0FBK0MsRUFBQTs7SUFHNUgsSUFBQSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRztJQUNaLFFBQUEsT0FBTyxTQUFTLENBQUM7SUFFckIsSUFBQSxJQUFJLE9BQU8sR0FBRyxJQUFJLE9BQU8sR0FBRyxFQUFFOztZQUUxQixJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUc7SUFDWCxZQUFBLE9BQU8sR0FBRyxDQUFDO1lBQ2YsSUFBSSxDQUFDLEdBQUcsSUFBSSxHQUFHO0lBQ1gsWUFBQSxPQUFPLEdBQUcsQ0FBQzs7O1lBSWYsSUFBSSxHQUFHLElBQUksR0FBRyxFQUFFOztnQkFFWixJQUFJLE9BQU8sR0FBRyxJQUFJLFFBQVE7b0JBQ3RCLE9BQU8sZUFBZSxDQUFDLG1CQUFtQixDQUFDLEdBQWEsQ0FBQyxFQUFFLEdBQUcsQ0FBd0IsQ0FBQztnQkFDM0YsSUFBSSxPQUFPLEdBQUcsSUFBSSxRQUFRO29CQUN0QixPQUFPLGVBQWUsQ0FBQyxHQUFHLEVBQUUsbUJBQW1CLENBQUMsR0FBYSxDQUFDLENBQXdCLENBQUM7SUFDOUYsU0FBQTs7SUFHRCxRQUFBLE9BQU8sU0FBUyxDQUFDO0lBQ3BCLEtBQUE7O0lBR0QsSUFBQSxJQUFJLE9BQU8sR0FBRyxJQUFJLFFBQVEsRUFBRTtJQUN4QixRQUFBLE9BQU8sR0FBRyxHQUFHLENBQUEsQ0FBQSxFQUFJLEdBQUcsSUFBSSxFQUFFLEVBQXVCLENBQUM7SUFDckQsS0FBQTs7UUFHRCxPQUFPO0lBQ0gsUUFBQSxJQUFJLEdBQUcsSUFBSSxFQUFFLENBQXdCO0lBQ3JDLFFBQUEsSUFBSSxHQUFHLElBQUksRUFBRSxDQUF3QjtTQUNOLENBQUE7SUFDdkM7O0lDNUNBLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUM7SUFtQnZCOzs7Ozs7O0lBT0c7SUFDYSxTQUFBLGNBQWMsQ0FBd0IsR0FBRyxRQUFtQyxFQUFBO0lBQ3hGLElBQUEsa0JBQWtCLENBQUMsZ0JBQWdCLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3RELElBQUksR0FBRyxHQUE0QixFQUFFLENBQUM7SUFDdEMsSUFBQSxLQUFLLElBQUksU0FBUyxJQUFJLFFBQVEsRUFBRTtJQUM1QixRQUFBLEdBQUcsR0FBRyxlQUFlLENBQUksR0FBRyxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQzVDLEtBQUE7SUFFRCxJQUFBLE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELE1BQU0sTUFBTSxHQUFHLElBQUksR0FBRyxDQUFTLENBQUMsVUFBVSxFQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUE7SUFFbEYsU0FBUyxZQUFZLENBQUMsR0FBVyxFQUFFLFFBQWlCLEVBQUUsUUFBaUIsRUFBQTtRQUVuRSxJQUFJLE9BQU8sUUFBUSxLQUFLLFVBQVUsSUFBSSxPQUFPLFFBQVEsS0FBSyxVQUFVLEVBQUU7OztZQUlsRSxNQUFNLE1BQU0sR0FBRyxjQUFjLENBQUMsUUFBaUIsRUFBRSxRQUFpQixDQUFDLENBQUM7SUFDcEUsUUFBQSxPQUFPLE1BQWUsQ0FBQztJQUMxQixLQUFBO0lBQ0ksU0FBQTs7SUFFRCxRQUFBLElBQUksUUFBUSxJQUFJLElBQUksSUFBSSxRQUFRLElBQUksSUFBSSxFQUFFO0lBQ3RDLFlBQUEsSUFBSSxRQUFRLEtBQUssSUFBSSxJQUFJLFFBQVEsS0FBSyxTQUFTO0lBQzNDLGdCQUFBLE9BQU8sUUFBaUIsQ0FBQzs7SUFFekIsZ0JBQUEsT0FBTyxRQUFpQixDQUFDO0lBQ2hDLFNBQUE7WUFDRCxJQUFJLFFBQVEsSUFBSSxJQUFJO0lBQ2hCLFlBQUEsT0FBTyxRQUFpQixDQUFDO2lCQUN4QixJQUFJLFFBQVEsSUFBSSxJQUFJO0lBQ3JCLFlBQUEsT0FBTyxRQUFpQixDQUFDO2lCQUN4QixJQUFLLFFBQWdCLElBQUksUUFBUSxFQUFFOzs7O0lBSXBDLFlBQUEsT0FBTyxRQUFpQixDQUFDO0lBQzVCLFNBQUE7SUFDSSxhQUFBOzs7Z0JBR0QsR0FBRyxHQUFHLENBQUEsVUFBQSxFQUFhLEdBQUcsQ0FBQSxzQ0FBQSxFQUF5QyxRQUFRLENBQVEsS0FBQSxFQUFBLFFBQVEsQ0FBaUQsK0NBQUEsQ0FBQSxDQUFDLENBQUM7SUFDMUksWUFBQSxPQUFPLFFBQWlCLENBQUE7SUFDM0IsU0FBQTtJQUNKLEtBQUE7SUFDTCxDQUFDO0lBRUQ7Ozs7O0lBS0c7SUFDSCxTQUFTLGVBQWUsQ0FBd0IsTUFBK0IsRUFBRSxNQUErQixFQUFBO0lBRzVHLElBQUEsTUFBTSxHQUFHLEdBQTRCO1lBQ2pDLEdBQUcsRUFBRSxhQUFhLENBQUksTUFBTSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDO1lBQzdDLEtBQUssRUFBRSxlQUFlLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDO1lBQ2xELFNBQVMsRUFBRSxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsRUFBRSxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxDQUFDLFNBQVMsQ0FBQztZQUNqRyxRQUFRLEVBQUUsaUJBQWlCLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDO1NBQ3pELENBQUM7SUFFVCxJQUFBLElBQUksR0FBRyxDQUFDLEdBQUcsS0FBSyxTQUFTO1lBQUUsT0FBTyxHQUFHLENBQUMsR0FBRyxDQUFDO0lBQzFDLElBQUEsSUFBSSxHQUFHLENBQUMsS0FBSyxLQUFLLFNBQVM7WUFBRSxPQUFPLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDOUMsSUFBQSxJQUFJLEdBQUcsQ0FBQyxTQUFTLEtBQUssU0FBUztZQUFFLE9BQU8sR0FBRyxDQUFDLFNBQVMsQ0FBQztJQUN0RCxJQUFBLElBQUksR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLFNBQVM7SUFBRSxRQUFBLE9BQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELElBQUEsSUFBSSxHQUFHLENBQUMsUUFBUSxLQUFLLFNBQVM7WUFBRSxPQUFPLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFFcEQsSUFBQSxLQUFLLE1BQU0sT0FBTyxJQUFJLE1BQU0sRUFBRTtZQUMxQixNQUFNLE1BQU0sR0FBRyxPQUE4QixDQUFDO0lBQzlDLFFBQUEsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQztnQkFDbEIsU0FBUztZQUNiLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEMsS0FBQTtJQUVELElBQUEsS0FBSyxNQUFNLE9BQU8sSUFBSSxNQUFNLEVBQUU7WUFDMUIsTUFBTSxNQUFNLEdBQUcsT0FBOEIsQ0FBQztJQUM5QyxRQUFBLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUM7Z0JBQ2xCLFNBQVM7SUFDYixRQUFBLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxZQUFZLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNuRSxLQUFBO0lBRUQsSUFBQSxPQUFPLEdBQUcsQ0FBQztJQUVmLENBQUM7SUFFRCxTQUFTLGNBQWMsQ0FBdUUsR0FBeUIsRUFBRSxHQUF5QixFQUFBO0lBRTlJLElBQUEsSUFBSSxDQUFDLEdBQUc7SUFDSixRQUFBLE9BQU8sR0FBRyxDQUFDO0lBQ2YsSUFBQSxJQUFJLENBQUMsR0FBRztJQUNKLFFBQUEsT0FBTyxHQUFHLENBQUM7SUFFZixJQUFBLE9BQU8sQ0FBQyxHQUFHLElBQW1CLEtBQUk7SUFDOUIsUUFBQSxNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUN4QixRQUFBLE1BQU0sRUFBRSxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0lBRXhCLFFBQUEsSUFBSSxFQUFFLFlBQVksT0FBTyxJQUFJLEVBQUUsWUFBWSxPQUFPO2dCQUM5QyxPQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyQyxLQUFDLENBQUM7SUFDTixDQUFDO0lBRUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUErS0U7O0lDM1FGOzs7Ozs7Ozs7Ozs7Ozs7SUFlRztJQUNHLFNBQVUsZ0JBQWdCLENBQXNILE1BQVMsRUFBRSxJQUFlLEVBQUUsT0FBZ0MsRUFBRSxPQUFpRCxFQUFFLElBQTJCLEVBQUE7UUFDOVIsSUFBSSxLQUFLLFNBQVMsQ0FBQztJQUNuQixJQUFBLGtCQUFrQixDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxDQUFDO1FBRTdDLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTs7Ozs7WUFLcEIsdUJBQXVCLENBQWtCLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzVFLEtBQUE7SUFDSSxTQUFBO1lBQ0Qsc0JBQXNCLENBQWtCLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzNFLEtBQUE7SUFDTCxDQUFDO0lBS0QsSUFBSSxRQUFRLEdBQUcsSUFBSSxHQUFHLEVBQThDLENBQUM7SUFFckUsU0FBUyxVQUFVLENBQXNFLEVBQW9ELEVBQUUsTUFBUyxFQUFFLElBQWUsRUFBRSxPQUE2QixFQUFFLE9BQWdELEVBQUE7SUFDdFAsSUFBQSxJQUFJLE9BQU8sRUFBRTtZQUVULE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDM0MsUUFBQSxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFLLElBQUksR0FBRyxFQUFvQyxDQUFDO0lBQ3BGLFFBQUEsTUFBTSxTQUFTLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSyxJQUFJLEdBQUcsRUFBeUIsQ0FBQyxDQUFDO1lBQzFFLE1BQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSyxFQUFFLFNBQVMsRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUFFLENBQUM7SUFFcEYsUUFBQSxFQUFFLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBRWxCLFFBQUEsU0FBUyxDQUFDLEdBQUcsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEMsUUFBQSxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUM1QixRQUFBLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ2hDLEtBQUE7SUFDTCxDQUFDO0lBR0QsU0FBUyxhQUFhLENBQXNFLE1BQVMsRUFBRSxJQUFlLEVBQUUsT0FBNkIsRUFBRSxPQUFnRCxFQUFBO0lBQ25NLElBQUEsVUFBVSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSTtJQUNuQixRQUFBLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RCLFFBQUEsSUFBSSxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUk7SUFDckIsWUFBQSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUN4RyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBRXZDLENBQUM7SUFFRCxTQUFTLGtCQUFrQixDQUFzRSxNQUFTLEVBQUUsSUFBZSxFQUFFLE9BQTZCLEVBQUUsT0FBaUQsRUFBQTtJQUN6TSxJQUFBLFVBQVUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUk7SUFDbkIsUUFBQSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN6QixRQUFBLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJO0lBQ3JCLFlBQUEsTUFBTSxDQUFDLG1CQUFtQixDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7U0FDM0csRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQ7Ozs7O0lBS0c7SUFDSCxTQUFTLHVCQUF1QixDQUFzSCxNQUFTLEVBQUUsSUFBZSxFQUFFLE9BQWdDLEVBQUUsT0FBaUQsRUFBQTtJQUNqUSxJQUFBLElBQUksYUFBYSxHQUF5QixpQkFBaUIsQ0FBaUIsT0FBZSxLQUFLLE1BQUssR0FBSSxDQUFDLENBQTJCLENBQUM7UUFDdEksSUFBSSxPQUFPLElBQUksSUFBSTtZQUNmLGFBQWEsR0FBRyxJQUFJLENBQUM7UUFFekJ1TixDQUFTLENBQUMsTUFBSztJQUNYLFFBQUEsSUFBSSxhQUFhLEVBQUU7Z0JBQ2YsYUFBYSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELFlBQUEsT0FBTyxNQUFNLGtCQUFrQixDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3pFLFNBQUE7U0FDSixFQUFFLENBQUMsTUFBTSxFQUFFLElBQUksRUFBRSxhQUFhLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxTQUFTLHNCQUFzQixDQUFzSCxNQUFTLEVBQUUsSUFBZSxFQUFFLE9BQWdDLEVBQUUsT0FBaUQsRUFBQTtJQUNoUSxJQUFBLElBQUksYUFBYSxHQUF5QixpQkFBaUIsQ0FBaUIsT0FBZSxLQUFLLE1BQUssR0FBSSxDQUFDLENBQTJCLENBQUM7UUFDdEksSUFBSSxPQUFPLElBQUksSUFBSTtZQUNmLGFBQWEsR0FBRyxJQUFJLENBQUM7UUFFekJBLENBQVMsQ0FBQyxNQUFLO0lBQ1gsUUFBQSxJQUFJLGFBQWEsRUFBRTtnQkFDZixNQUFNLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLGFBQWEsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUV0RCxZQUFBLE9BQU8sTUFBTSxNQUFNLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFFLGFBQWEsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUN6RSxTQUFBO1NBQ0osRUFBRSxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUN0Qzs7SUN4SEE7OztJQUdHO0lBRUg7Ozs7Ozs7O0lBUUc7SUFDRyxTQUFVLGFBQWEsQ0FBd0IsSUFBZ0MsRUFBQTtJQUNqRixJQUFBLE1BQU0sRUFBRSxlQUFlLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxJQUFJLElBQUksQ0FBQyxvQkFBb0IsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUNsRixrQkFBa0IsQ0FBQyxlQUFlLEVBQUUsZUFBZSxFQUFFLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQzs7UUFHekUsTUFBTSxPQUFPLEdBQUdZLEdBQVcsQ0FBd0MsQ0FBQyxDQUFDLEVBQUUsU0FBUyxLQUFJO1lBQ2hGLE1BQU0sT0FBTyxHQUFHLGVBQWUsR0FBRyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDaEQsUUFBQSxJQUFJLFNBQVM7SUFDVCxZQUFBLFNBQVMsR0FBRyxTQUFVLENBQUMsQ0FBQztJQUU1QixRQUFBLElBQUksQ0FBQztJQUNELFlBQUEsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRWpCLFFBQUEsT0FBTyxPQUFPLENBQUM7U0FDbEIsRUFBRSxFQUFFLENBQUMsQ0FBQzs7SUFHUCxJQUFBLE1BQU0sQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLEdBQUcsZUFBZSxDQUFrQixPQUFPLEVBQUUsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBQ3ZHLE1BQU0sV0FBVyxHQUFHUCxDQUFNLENBQTBCLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxDQUFDLENBQUM7OztRQUl6RSxPQUFPO0lBQ0gsUUFBQSxnQkFBZ0IsRUFBRTtnQkFDZCxVQUFVO2dCQUNWLFdBQVcsRUFBRSxXQUFXLENBQUMsT0FBTztJQUNuQyxTQUFBO1NBQ0osQ0FBQTtJQUNMOztJQ3hCQTs7OztJQUkrRTtJQUMvRSxNQUFNLHFCQUFxQixHQUFHLElBQUksR0FBRyxFQUFvRCxDQUFDO0lBQzFGLE1BQU0seUJBQXlCLEdBQUcsSUFBSSxHQUFHLEVBQTZDLENBQUM7SUFDdkYsTUFBTSxxQkFBcUIsR0FBRyxJQUFJLEdBQUcsRUFBZ0QsQ0FBQztJQUN0RixNQUFNLHNCQUFzQixHQUFHLElBQUksR0FBRyxFQUFzQyxDQUFDO0lBRTdFO0lBRUE7SUFDQTtJQUNBO0lBQ0EsU0FBUyxjQUFjLENBQUksTUFBaUMsRUFBRSxHQUFnRCxFQUFFLEtBQVEsRUFBRSxNQUFXLEVBQUE7UUFDakksTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqQyxJQUFBLElBQUksUUFBUSxFQUFFOzs7Ozs7SUFPVixRQUFBLElBQUksUUFBUSxFQUFFO0lBQ1YsWUFBQSxLQUFLLE1BQU0sT0FBTyxJQUFJLFFBQVEsRUFBRTtJQUM1QixnQkFBQSxNQUFNLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQztvQkFDbkMsSUFBSSxLQUFLLEtBQUssUUFBUSxFQUFFO0lBQ3BCLG9CQUFBLElBQUksQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDcEIsb0JBQUEsT0FBTyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDNUIsaUJBQUE7SUFFSixhQUFBO0lBQ0osU0FBQTs7OztJQUtKLEtBQUE7SUFDTCxDQUFDO0lBRUQsU0FBUyxRQUFRLENBQUMsQ0FBYSxFQUFBO1FBQzNCLE1BQU0sTUFBTSxHQUFJLENBQUMsQ0FBQyxNQUFrQixDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUM7SUFFL0QsSUFBQSxJQUFJLENBQUMsQ0FBQyxhQUFhLElBQUksSUFBSSxFQUFFO1lBQ3pCLGNBQWMsQ0FBQyxNQUFNLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzFELEtBR0E7SUFFTCxDQUFDO0lBRUQsU0FBUyxPQUFPLENBQUMsQ0FBYSxFQUFBO1FBQzFCLE1BQU0sTUFBTSxHQUFJLENBQUMsQ0FBQyxNQUFrQixDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUM7SUFDL0QsSUFBQSxNQUFNLHVCQUF1QixHQUFHLENBQUMsQ0FBQyxNQUFzQyxDQUFDO1FBQ3pFLGNBQWMsQ0FBQyxNQUFNLEVBQUUscUJBQXFCLEVBQUUsdUJBQXVCLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDMUUsY0FBYyxDQUFDLE1BQU0sRUFBRSx5QkFBeUIsRUFBRSx1QkFBdUIsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsRixDQUFDO0lBRUQsU0FBUyxXQUFXLENBQUMsQ0FBYSxFQUFBO0lBQzlCLElBQUEsTUFBTSxNQUFNLElBQUksQ0FBQyxDQUFDLE1BQU0sWUFBWSxNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsYUFBYSxZQUFZLE1BQU0sR0FBRyxDQUFDLENBQUMsYUFBYSxHQUFJLENBQUMsQ0FBQyxNQUFrQixDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvSixJQUFBLHNCQUFzQixDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekMsY0FBYyxDQUFDLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0QsQ0FBQztJQUVELFNBQVMsVUFBVSxDQUFDLENBQWEsRUFBQTtJQUM3QixJQUFBLE1BQU0sTUFBTSxJQUFJLENBQUMsQ0FBQyxNQUFNLFlBQVksTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLGFBQWEsWUFBWSxNQUFNLEdBQUcsQ0FBQyxDQUFDLGFBQWEsR0FBSSxDQUFDLENBQUMsTUFBa0IsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDL0osSUFBQSxzQkFBc0IsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBQzFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUscUJBQXFCLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzVELENBQUM7SUE0REQ7Ozs7Ozs7Ozs7O0lBV0c7YUFDYSxnQkFBZ0IsQ0FBQyxFQUFFLHVCQUF1QixFQUFFLEVBQUUscUJBQXFCLEVBQUUseUJBQXlCLEVBQUUscUJBQXFCLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxFQUE4QixFQUFBO0lBRXpMLElBQUEsa0JBQWtCLENBQUMsa0JBQWtCLEVBQUUscUJBQXFCLEVBQUUseUJBQXlCLEVBQUUscUJBQXFCLEVBQUUsV0FBVyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBRXhJTCxDQUFTLENBQUMsTUFBSztJQUNYLFFBQUEsTUFBTSxRQUFRLEdBQUcsV0FBVyxFQUFFLENBQUM7SUFDL0IsUUFBQSxNQUFNLE1BQU0sSUFBSSxTQUFTLEdBQUcsUUFBUSxDQUFDLElBQUksUUFBUSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0lBRWhFLFFBQUEsSUFBSSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtJQUN0RCxZQUFBLFFBQVEsRUFBRSxnQkFBZ0IsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDbEUsWUFBQSxRQUFRLEVBQUUsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3BFLFlBQUEsTUFBTSxFQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUNsRSxZQUFBLE1BQU0sRUFBRSxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsVUFBVSxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDbkUsU0FBQTs7O0lBSUQsUUFBQSxNQUFNLDBCQUEwQixHQUFHLHFCQUFxQixDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDO0lBQ2xGLFFBQUEsTUFBTSw4QkFBOEIsR0FBRyx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUMxRixRQUFBLE1BQU0sMEJBQTBCLEdBQUcscUJBQXFCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLElBQUksR0FBRyxFQUFFLENBQUM7WUFFbEYsTUFBTSxJQUFJLEdBQUcsRUFBRSxJQUFJLEVBQUUsZ0JBQTZDLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxDQUFBO1lBQ3pGLE1BQU0sS0FBSyxHQUFHLEVBQUUsSUFBSSxFQUFFLG9CQUEwQyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsQ0FBQztZQUN4RixNQUFNLElBQUksR0FBRyxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLENBQUM7SUFFN0QsUUFBQSwwQkFBMEIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckMsUUFBQSw4QkFBOEIsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUMsUUFBQSwwQkFBMEIsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFFckMsUUFBQSxxQkFBcUIsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLDBCQUEwQixDQUFDLENBQUM7SUFDOUQsUUFBQSx5QkFBeUIsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLDhCQUE4QixDQUFDLENBQUM7SUFDdEUsUUFBQSxxQkFBcUIsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLDBCQUEwQixDQUFDLENBQUM7SUFFOUQsUUFBQSxPQUFPLE1BQUs7Z0JBQ1IscUJBQXFCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDaEQseUJBQXlCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDcEQscUJBQXFCLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUVoRCxZQUFBLElBQUkscUJBQXFCLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtJQUNsQyxnQkFBQSxRQUFRLEVBQUUsbUJBQW1CLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2xELGdCQUFBLFFBQVEsRUFBRSxtQkFBbUIsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDcEQsZ0JBQUEsTUFBTSxFQUFFLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxXQUFXLENBQUMsQ0FBQztJQUNsRCxnQkFBQSxNQUFNLEVBQUUsbUJBQW1CLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ25ELGFBQUE7SUFDTCxTQUFDLENBQUE7U0FDSixFQUFFLEVBQUUsQ0FBQyxDQUFBO0lBRU4sSUFBQSxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUMsR0FBRyxlQUFlLENBQTZCLHFCQUFxQixFQUFFLFVBQVUsRUFBRSxjQUFjLENBQUMsQ0FBQztJQUM1SSxJQUFBLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSxvQkFBb0IsQ0FBQyxHQUFHLGVBQWUsQ0FBc0IseUJBQXlCLEVBQUUsVUFBeUIsRUFBRSxjQUFjLENBQUMsQ0FBQztJQUNoSyxJQUFBLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxnQkFBZ0IsQ0FBQyxHQUFHLGVBQWUsQ0FBc0IscUJBQXFCLEVBQUUsVUFBVSxFQUFFLGNBQWMsQ0FBQyxDQUFDO1FBRXJJLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxFQUFFLGdCQUFnQixFQUFFLG9CQUFvQixFQUFFLGdCQUFnQixFQUFFLEVBQUUsQ0FBQztJQUNqRzs7SUNoRkE7Ozs7Ozs7OztJQVNHO0lBQ0csU0FBVSxrQkFBa0IsQ0FBOEMsZ0JBQWlELEVBQUE7SUFJN0gsSUFBQSxNQUFNLEVBQUUseUJBQXlCLEVBQUUsRUFBRSx3QkFBd0IsRUFBRSxxQkFBcUIsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUcsZ0JBQWdCLENBQUM7UUFHekksa0JBQWtCLENBQUMsb0JBQW9CLEVBQUUsd0JBQXdCLEVBQUUscUJBQXFCLEVBQUUsa0JBQWtCLENBQUMsQ0FBQzs7SUFJOUcsSUFBQSxNQUFNLGVBQWUsR0FBR1ksR0FBVyxDQUFDLE1BQWE7SUFDN0MsUUFBQSxPQUFPLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUM7U0FDcEQsRUFBRSxFQUFFLENBQUMsQ0FBQzs7O1FBSVAsTUFBTSxvQkFBb0IsR0FBR1AsQ0FBTSxDQUF1QixFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxZQUFZLEVBQUUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDOzs7Ozs7SUFPakgsSUFBQSxNQUFNLFlBQVksR0FBR08sR0FBVyxDQUFDLENBQUMsQ0FBd0IsS0FBSTtZQUMxRCxLQUFLLE1BQU0sS0FBSyxJQUFJLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7SUFDbEQsWUFBQSxJQUFJLEtBQUs7b0JBQ0wsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2hCLFNBQUE7WUFDRCxLQUFLLE1BQU0sS0FBSyxJQUFJLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUU7Z0JBQ2xELE1BQU0sS0FBSyxHQUFxQixvQkFBb0IsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQXNDLENBQUMsQ0FBQztJQUN6RyxZQUFBLElBQUksS0FBSztvQkFDTCxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEIsU0FBQTtTQUNKLEVBQUUsRUFBRSxDQUFDLENBQUE7OztJQUlOLElBQUEsTUFBTSxtQkFBbUIsR0FBR0EsR0FBVyxDQUE4QixDQUFDLEtBQWdCLEtBQUk7WUFDdEYsSUFBSSxPQUFPLEtBQUssSUFBSSxRQUFRO2dCQUN4QixPQUFPLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBZSxDQUFFLENBQUM7O2dCQUUxRCxPQUFPLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBa0IsQ0FBRSxDQUFDO1NBQ3BFLEVBQUUsRUFBRSxDQUFDLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBa0JOLElBQUEsTUFBTSx3QkFBd0IsR0FBR1AsQ0FBTSxDQUE4RCxJQUFJLENBQUMsQ0FBQztRQUMzRyxNQUFNLDRCQUE0QixHQUFHQSxDQUFNLENBQUMsSUFBSSxHQUFHLEVBQWEsQ0FBQyxDQUFDO0lBQ2xFLElBQUEsTUFBTSxxQkFBcUIsR0FBR08sR0FBVyxDQUFDLENBQUMsS0FBZ0IsS0FBSTtJQUUzRCxRQUFBLElBQUksNEJBQTRCLENBQUMsT0FBTyxDQUFDLElBQUksSUFBSSxDQUFDLEVBQUU7Z0JBQ2hELElBQUksd0JBQXdCLElBQUksSUFBSSxFQUFFO29CQUNsQyxpQkFBaUIsQ0FBQyxNQUFLO0lBQ25CLG9CQUFBLHdCQUF3QixHQUFHLDRCQUE0QixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pFLG9CQUFBLDRCQUE0QixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNqRCxpQkFBQyxDQUFDLENBQUM7SUFDTixhQUFBO0lBQ0osU0FBQTtJQUVELFFBQUEsNEJBQTRCLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUVoRCxRQUFBLE9BQU8sTUFBUSxHQUFDLENBQUM7SUFFckIsS0FBQyxFQUFFLDJCQUEwQixDQUFDLENBQUM7UUFFL0IsTUFBTSxxQkFBcUIsR0FBR0EsR0FBVyxDQUFDLENBQUMsS0FBZ0IsRUFBRSxPQUFnQixLQUFVO0lBQ25GLFFBQUEsSUFBSSxDQUFDLHdCQUF3QixDQUFDLE9BQU8sRUFBRTtnQkFDbkMsd0JBQXdCLENBQUMsT0FBTyxHQUFHO29CQUMvQixNQUFNLEVBQUUsSUFBSSxHQUFHLEVBQUU7b0JBQ2pCLFFBQVEsRUFBRSxJQUFJLEdBQUcsRUFBRTtpQkFDdEIsQ0FBQztnQkFDRixJQUFJLGtCQUFrQixJQUFJLHFCQUFxQixFQUFFO29CQUM3QyxpQkFBaUIsQ0FBQyxNQUFLO0lBQ25CLG9CQUFBLHFCQUFxQixHQUFHLHdCQUF3QixDQUFDLE9BQVEsQ0FBQyxNQUFNLEVBQUUsd0JBQXdCLENBQUMsT0FBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUM5RyxrQkFBa0IsR0FBRyxXQUFXLEVBQUUsQ0FBQyxlQUFlLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMxRCxvQkFBQSx3QkFBd0IsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0lBQzVDLGlCQUFDLENBQUMsQ0FBQztJQUNOLGFBQUE7SUFDSixTQUFBO0lBRUQsUUFBQSxJQUFJLE9BQU8sRUFBRTtnQkFDVCxJQUFJLE9BQU8sS0FBSyxJQUFJLFFBQVE7SUFDeEIsZ0JBQUEsb0JBQW9CLENBQUMsT0FBTyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDOUcsU0FBQTtJQUNJLGFBQUE7SUFDRCxZQUFBLElBQUksT0FBTyxLQUFLLElBQUksUUFBUSxFQUFFO29CQUMxQixPQUFPLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBZSxDQUFDLENBQUM7b0JBQ3pELElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNkLGdCQUFBLE9BQU8sS0FBSyxJQUFJLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxLQUFLLFNBQVMsRUFBRTtJQUM1SixvQkFBQSxFQUFFLEtBQUssQ0FBQztJQUNYLGlCQUFBO0lBQ0QsZ0JBQUEsb0JBQW9CLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ25HLGFBQUE7O29CQUVHLE9BQU8sb0JBQW9CLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFrQixDQUFDLENBQUM7Z0JBRWhFLElBQUksT0FBTyxLQUFLLElBQUksUUFBUTtJQUN4QixnQkFBQSxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsWUFBWSxHQUFHLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUMvRixTQUFBO0lBRUQsUUFBQSx3QkFBd0IsQ0FBQyxPQUFPLENBQUMsT0FBTyxHQUFHLFFBQVEsR0FBRyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDakYsS0FBQyxFQUFFLDJCQUEwQixDQUFDLENBQUM7UUFHL0IsTUFBTSxlQUFlLEdBQUcsZUFBZSxDQUFxQjtJQUN4RCxRQUFBLEdBQUcsRUFBRSxDQUFDLEVBQUUsb0JBQW9CLENBQUMsT0FBTyxFQUFRO0lBQzVDLFFBQUEsT0FBTyxFQUFFLFlBQVk7SUFDckIsUUFBQSxLQUFLLEVBQUUsbUJBQW1CO0lBQzFCLFFBQUEsZUFBZSxFQUFFLGVBQWU7SUFDaEMsUUFBQSxVQUFVLEVBQUVBLEdBQVcsQ0FBQyxNQUFLO2dCQUN6QixPQUFPLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7YUFDbkQsRUFBRSxFQUFFLENBQUM7SUFDVCxLQUFBLENBQUMsQ0FBQztRQUVILE1BQU0sV0FBVyxHQUFHQSxHQUFXLENBQUMsTUFBTSxlQUFlLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFM0QsT0FBTztZQUNILE9BQU8sRUFBRSxlQUFlLENBQUM7Z0JBQ3JCLG1CQUFtQixFQUFFLGVBQWUsQ0FBQztvQkFDakMsb0JBQW9CLEVBQUUsb0JBQW9CLENBQUMsT0FBTztvQkFDbEQscUJBQXFCO29CQUNyQixxQkFBcUI7b0JBQ3JCLFdBQVc7aUJBQ2QsQ0FBQzthQUNMLENBQUM7WUFDRixxQkFBcUIsRUFBRSxFQUFFLFdBQVcsRUFBRTtTQUN6QyxDQUFBO0lBQ0wsQ0FBQztJQUtlLFNBQUEsZUFBZSxDQUE4QyxJQUFrQyxFQUFFLHNCQUF5QixFQUFBO0lBR3RJLElBQUEsTUFBTSxFQUFFLE9BQU8sRUFBRSxFQUFFLG1CQUFtQixFQUFFLEVBQUUsV0FBVyxFQUFFLG9CQUFvQixFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQztJQUN2SSxJQUFBLE1BQU0sS0FBSyxHQUFHLHNCQUFzQixDQUFDLEtBQUssQ0FBQzs7Ozs7UUFLM0NSLENBQWUsQ0FBQyxNQUFLOztJQUVqQixRQUFBLElBQUksT0FBTyxLQUFLLElBQUksUUFBUSxFQUFFO2dCQUMxQixvQkFBb0IsQ0FBQyxHQUFHLENBQUMsS0FBZSxDQUFDLEdBQUcsRUFBRSxHQUFHLHNCQUFzQixFQUFFLENBQUM7SUFDN0UsU0FBQTtJQUNJLGFBQUE7Z0JBQ0Qsb0JBQW9CLENBQUMsR0FBRyxDQUFDLEtBQWtCLENBQUMsR0FBRyxFQUFFLEdBQUcsc0JBQXNCLEVBQUUsQ0FBQztJQUNoRixTQUFBO0lBQ0QsUUFBQSxPQUFPLHFCQUFxQixDQUFDLEtBQWtCLENBQUMsQ0FBQztJQUNyRCxLQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7Ozs7O1FBT3RDQSxDQUFlLENBQUMsTUFBSztJQUNqQixRQUFBLHFCQUFxQixHQUFHLEtBQWtCLEVBQUUsSUFBSSxDQUFDLENBQUM7WUFDbEQsT0FBTyxNQUFNLHFCQUFxQixHQUFHLEtBQWtCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDcEUsS0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUVaLE9BQU87WUFDSCxrQkFBa0IsRUFBRSxFQUFFLFdBQVcsRUFBRTtTQUN0QyxDQUFBO0lBQ0wsQ0FBQztJQWtGRDs7Ozs7Ozs7Ozs7Ozs7OztJQWdCRzthQUNhLGVBQWUsQ0FBd0MsRUFBRSxXQUFXLEVBQUUsWUFBWSxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxPQUFPLEdBQW9DLEVBQUE7UUFDcEwsa0JBQWtCLENBQUMsaUJBQWlCLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7O1FBRzVFLE1BQU0sQ0FBQyxlQUFlLEVBQUUsZUFBZSxDQUFDLEdBQUcsZUFBZSxDQUFtQixhQUFhLENBQUMsQ0FBQztRQUU1RixNQUFNLENBQUMsaUJBQWlCLEVBQUUsaUJBQWlCLENBQUMsR0FBRyxlQUFlLENBQW1CLElBQUksQ0FBQyxDQUFDOzs7SUFJdkYsSUFBQSxNQUFNLGFBQWEsR0FBR1EsR0FBVyxDQUFDLENBQUMsY0FBc0IsS0FBSTtJQUN6RCxRQUFBLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO1lBQy9CLElBQUksZUFBZSxHQUFHLFFBQVEsQ0FBQztZQUMvQixJQUFJLFlBQVksR0FBa0IsSUFBSSxDQUFDO0lBQ3ZDLFFBQUEsUUFBUSxDQUFDLE9BQU8sQ0FBQyxLQUFLLElBQUc7Z0JBRXJCLElBQUksS0FBSyxJQUFJLElBQUksSUFBSSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7SUFDakMsZ0JBQUEsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLGNBQWMsQ0FBQyxDQUFDO0lBQzNELGdCQUFBLElBQUksV0FBVyxHQUFHLGVBQWUsS0FBSyxXQUFXLElBQUksZUFBZSxJQUFJLEtBQUssQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDLEVBQUU7d0JBQ25HLGVBQWUsR0FBRyxXQUFXLENBQUM7SUFDOUIsb0JBQUEsWUFBWSxHQUFHLEtBQUssQ0FBQyxLQUFLLENBQUM7SUFDOUIsaUJBQUE7SUFDSixhQUFBO0lBQ0wsU0FBQyxDQUFDLENBQUM7SUFDSCxRQUFBLE9BQU8sWUFBWSxDQUFDO0lBQ3hCLEtBQUMsRUFBRSw0QkFBMkIsQ0FBQyxDQUFDOzs7OztJQU1oQyxJQUFBLE1BQU0sb0JBQW9CLEdBQUcsaUJBQWlCLENBQUMsTUFBSztJQUNoRCxRQUFBLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO0lBQy9CLFFBQUEsTUFBTSxjQUFjLEdBQUcsaUJBQWlCLEVBQUUsQ0FBQztJQUMzQyxRQUFBLE1BQU0sWUFBWSxHQUFHLGVBQWUsRUFBRSxDQUFDO0lBQ3ZDLFFBQUEsTUFBTSxZQUFZLEdBQUcsWUFBWSxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUVoRixJQUFJLGNBQWMsSUFBSSxJQUFJLElBQUksVUFBVSxLQUFLLGNBQWMsSUFBSSxZQUFZLElBQUksWUFBWSxJQUFJLElBQUksSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFO0lBRTVILFlBQUEsTUFBTSxlQUFlLEdBQUcsYUFBYSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQ3RELFlBQUEsZUFBZSxDQUFDLGVBQWUsRUFBRSxTQUFVLENBQUMsQ0FBQztJQUM3QyxZQUFBLElBQUksWUFBWTtvQkFDWixLQUFLLENBQUMsWUFBWSxFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUUsWUFBWSxDQUFDLENBQUM7Z0JBQzlELElBQUksZUFBZSxJQUFJLElBQUksRUFBRTtvQkFDekIsTUFBTSxlQUFlLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUUsQ0FBQztvQkFDekQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxlQUFlLElBQUksSUFBSSxFQUFFLG1CQUFtQixDQUFDLENBQUM7b0JBQzdELEtBQUssQ0FBQyxlQUFlLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxZQUFZLENBQUMsQ0FBQztJQUMvRCxhQUFBO0lBRUosU0FBQTtJQUNMLEtBQUMsQ0FBQyxDQUFDO1FBS0gsTUFBTSxXQUFXLEdBQUdBLEdBQVcsQ0FBd0MsQ0FBQyxHQUF5RCxFQUFFLE1BQTRELEtBQUk7SUFDL0wsUUFBQSxNQUFNLFFBQVEsR0FBRyxXQUFXLEVBQUUsQ0FBQztJQUMvQixRQUFBLE1BQU0sY0FBYyxJQUFJLEdBQUcsWUFBWSxRQUFRLEdBQUcsR0FBRyxDQUFDLGlCQUFpQixFQUFFLENBQUMsR0FBRyxHQUFHLENBQWUsQ0FBQzs7O0lBSWhHLFFBQUEsaUJBQWlCLENBQUMsY0FBYyxFQUFFLE1BQVcsQ0FBQyxDQUFDO0lBQy9DLFFBQUEsTUFBTSxZQUFZLEdBQUcsZUFBZSxFQUFFLENBQUM7WUFDdkMsSUFBSSxZQUFZLElBQUksY0FBYztJQUM5QixZQUFBLE9BQU8sY0FBYyxDQUFDO1lBRTFCLElBQUksZ0JBQWdCLElBQUksY0FBYyxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDO1lBQ3hGLE1BQU0sZ0JBQWdCLElBQUksWUFBWSxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDO1lBQ3RGLElBQUksY0FBYyxJQUFJLElBQUksRUFBRTs7SUFFeEIsWUFBQSxlQUFlLENBQUMsSUFBSSxFQUFFLE1BQVcsQ0FBQyxDQUFDO0lBQ25DLFlBQUEsSUFBSSxnQkFBZ0I7b0JBQ2hCLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQ2pFLFlBQUEsT0FBTyxJQUFJLENBQUM7SUFDZixTQUFBO0lBQ0ksYUFBQTtnQkFDRCxNQUFNLFlBQVksSUFBSSxnQkFBZ0IsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO0lBQ3JFLFlBQUEsSUFBSSxZQUFZLElBQUksQ0FBQyxVQUFVLEVBQUU7SUFDN0IsZ0JBQUEsZUFBZSxDQUFDLGNBQWMsRUFBRSxNQUFXLENBQUMsQ0FBQztJQUM3QyxnQkFBQSxJQUFJLGdCQUFnQjt3QkFDaEIsS0FBSyxDQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDakUsZ0JBQUEsSUFBSSxnQkFBZ0I7d0JBQ2hCLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLEVBQUUsY0FBYyxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBRWhFLGdCQUFBLE9BQU8sY0FBYyxDQUFDO0lBQ3pCLGFBQUE7SUFDSSxpQkFBQTtJQUNELGdCQUFBLE1BQU0sZUFBZSxHQUFHLGFBQWEsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUN0RCxnQkFBQSxlQUFlLENBQUMsZUFBZSxFQUFFLE1BQVcsQ0FBQyxDQUFDO29CQUM5QyxJQUFJLGVBQWUsSUFBSSxJQUFJLEVBQUU7SUFDekIsb0JBQUEsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUUsQ0FBQzt3QkFDcEQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxnQkFBZ0IsSUFBSSxJQUFJLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztJQUM5RCxvQkFBQSxJQUFJLGdCQUFnQjs0QkFDaEIsS0FBSyxDQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUUsWUFBWSxDQUFDLENBQUM7d0JBQ2xFLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLEVBQUUsZUFBZSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBQzdELG9CQUFBLE9BQU8sZUFBZSxDQUFDO0lBQzFCLGlCQUFBO0lBQ0kscUJBQUE7SUFDRCxvQkFBQSxJQUFJLGdCQUFnQjs0QkFDaEIsS0FBSyxDQUFDLGdCQUFnQixFQUFFLEtBQUssRUFBRSxlQUFlLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDbEUsb0JBQUEsT0FBTyxJQUFJLENBQUM7SUFDZixpQkFBQTtJQUNKLGFBQUE7SUFDSixTQUFBO1NBQ0osRUFBRSxFQUFFLENBQUMsQ0FBQzs7UUFHUFIsQ0FBZSxDQUFDLE1BQUs7SUFDakIsUUFBQSxXQUFXLENBQUMsWUFBWSxJQUFJLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztTQUNoRCxFQUFFLEVBQUUsQ0FBQyxDQUFBO0lBRU4sSUFBQSxPQUFPLEVBQUUsV0FBVyxFQUFFLG9CQUFvQixFQUFFLGVBQWUsRUFBRSxDQUFDO0lBQ2xFOztJQzdmQSxNQUFNLGNBQWMsSUFBSSw0Q0FBNEMsQ0FBaUIsQ0FBQztJQU10RixTQUFTLGVBQWUsQ0FBQyxPQUFnQixFQUFBO1FBQ3JDLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNkLElBQUEsSUFBSSxNQUFNLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQztJQUNuQyxJQUFBLE9BQU8sTUFBTSxFQUFFO1lBQ1gsS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNYLFFBQUEsTUFBTSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUM7SUFDakMsS0FBQTtJQUVELElBQUEsT0FBTyxLQUFLLENBQUM7SUFDakIsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7Ozs7OztJQWlCRztJQUNhLFNBQUEsZ0JBQWdCLENBQStCLEVBQUUsdUJBQXVCLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxpQkFBaUIsRUFBRSxXQUFXLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxFQUFFLFVBQVUsRUFBRSxHQUFHLEtBQUssRUFBRSxFQUE0QyxFQUFBO0lBSXpQLElBQUEsTUFBTSxhQUFhLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakQsSUFBQSxNQUFNLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQ3ZELE1BQU0sUUFBUSxHQUFHLGVBQWUsQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLENBQUM7Ozs7Ozs7Ozs7O1FBYWxESixDQUFTLENBQUMsTUFBSztJQUNYLFFBQUEsTUFBTSxNQUFNLEdBQUcsU0FBUyxFQUFFLENBQUM7SUFDMUIsUUFBQSxNQUFjLENBQUMsY0FBYyxDQUFDLEtBQU0sRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxJQUFJLEdBQUcsRUFBRSxFQUEwQixDQUFBO0lBQ2hILFFBQUEsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLGNBQWMsQ0FBd0IsQ0FBQztJQUUzRCxRQUFBLElBQUksSUFBSSxFQUFFO0lBQ04sWUFBQSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLE9BQU8sRUFBRSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRS9ELFlBQUEsT0FBTyxNQUFLO0lBQ1IsZ0JBQUEsTUFBTSxPQUFPLEdBQUcsVUFBVSxFQUFFLENBQUM7SUFDN0IsZ0JBQUEsSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLFlBQVk7SUFDNUIsb0JBQUEsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDdEMsZ0JBQUEsTUFBTSxDQUFDLG1CQUFtQixDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN0RSxhQUFDLENBQUM7SUFDTCxTQUFBO1lBS0QsU0FBUyxPQUFPLENBQUMsQ0FBZ0IsRUFBQTtJQUM3QixZQUFBLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxRQUFRLEVBQUU7Ozs7b0JBS25CLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDOztJQUtwQixnQkFBQSxNQUFNLFFBQVEsR0FBRyxNQUFRLEVBQUEsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNwRCxnQkFBQSxNQUFNLE9BQU8sR0FBRyxVQUFVLEVBQUUsQ0FBQztJQUM3QixnQkFBQSxJQUFJLE9BQU8sRUFBRTtJQUNULG9CQUFBLE1BQU0sU0FBUyxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMzQyxvQkFBQSxNQUFNLEtBQUssR0FBRyxRQUFRLEVBQUUsQ0FBQztJQUN6QixvQkFBQSxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLGlCQUFBO0lBR0QsZ0JBQUEsSUFBSSxDQUFDLElBQUksQ0FBQyxlQUFlLEVBQUU7SUFDdkIsb0JBQUEsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7d0JBQzVCLFVBQVUsQ0FBQyxNQUFLO0lBRVosd0JBQUEsTUFBTSxFQUFFLFlBQVksRUFBRSxHQUFHLElBQUksQ0FBQztJQUM5Qix3QkFBQSxJQUFJLENBQUMsZUFBZSxHQUFHLEtBQUssQ0FBQztJQUM3Qix3QkFBQSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7SUFFOUIsd0JBQUEsSUFBSSxZQUFZLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDN0Isd0JBQUEsSUFBSSxnQkFBZ0IsR0FBRyxDQUFDLFFBQVEsQ0FBQzs0QkFFakMsSUFBSSxjQUFjLEdBQXdCLElBQUksQ0FBQztJQUUvQyx3QkFBQSxLQUFLLE1BQU0sQ0FBQyxPQUFPLEVBQUUsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxDQUFDLElBQUksWUFBWSxFQUFFO2dDQUNqRSxJQUFJLFNBQVMsR0FBRyxLQUFLLENBQUM7Z0NBQ3RCLElBQUksS0FBSyxJQUFJLFlBQVksRUFBRTtvQ0FDdkIsSUFBSSxTQUFTLEdBQUcsZ0JBQWdCLEVBQUU7d0NBQzlCLFNBQVMsR0FBRyxJQUFJLENBQUM7SUFDcEIsaUNBQUE7SUFDSiw2QkFBQTtnQ0FFRCxJQUFJLEtBQUssR0FBRyxZQUFZLEtBQUssS0FBSyxJQUFJLFlBQVksSUFBSSxTQUFTLENBQUMsRUFBRTtvQ0FDOUQsWUFBWSxHQUFHLEtBQUssQ0FBQztvQ0FFckIsZ0JBQWdCLEdBQUcsU0FBUyxDQUFDO29DQUM3QixjQUFjLEdBQUcsT0FBTyxDQUFDO0lBQzVCLDZCQUFBO0lBQ0oseUJBQUE7NEJBQ0QsY0FBYyxJQUFJLENBQUM7eUJBQ3RCLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDVCxpQkFBQTtJQUNKLGFBQUE7YUFDSjtJQUNMLEtBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDZixDQUFDO0lBWUQ7Ozs7O0lBS0c7SUFDRyxTQUFVLG1CQUFtQixDQUFxRSxFQUFFLHFCQUFxQixFQUFFLEVBQUUsVUFBVSxFQUFFLGVBQWUsRUFBRSxHQUFHLEtBQUssRUFBRSxFQUFFLHNCQUFzQixFQUFFLGdCQUFnQixFQUFFLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsS0FBSyxFQUE4RCxFQUFBO0lBRTNTLElBQUEsTUFBTSxFQUFFLFVBQVUsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLEtBQUssRUFBRSxJQUFJLHNCQUFzQixJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBT2xGLElBQUEsTUFBTSxhQUFhLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDakQsSUFBQSxNQUFNLE9BQU8sR0FBRyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdEMsTUFBTSx5QkFBeUIsR0FBR1ksR0FBVyxDQUFzRSxDQUFDLFVBQVUsRUFBRSxZQUFZLEVBQUUsRUFBRSxLQUFJO0lBQ2hKLFFBQUEsTUFBTSxJQUFJLEdBQUcsT0FBTyxFQUFFLENBQUM7SUFDdkIsUUFBQSxNQUFNLGFBQWEsR0FBRyxnQkFBZ0IsSUFBSSxDQUFDO0lBQzNDLFFBQUEsTUFBTSxZQUFZLEdBQUcsZUFBZSxFQUFFLENBQUM7SUFDdkMsUUFBQSxJQUFJLEVBQUUsYUFBYSxFQUFFLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxZQUFZLEVBQUUsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUU7SUFDOUUsWUFBQSxJQUFJLElBQUk7SUFDSixnQkFBQSxhQUFhLEVBQUUsQ0FBQztJQUN2QixTQUFBO0lBQ0wsS0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO0lBRXZCLElBQUEsT0FBTyxFQUFFLHVCQUF1QixFQUFFLEVBQUUseUJBQXlCLEVBQUUsRUFBRSxDQUFBO0lBQ3JFLENBQUM7SUFlRDs7OztJQUlHO0lBQ2EsU0FBQSxrQkFBa0IsQ0FBK0IsRUFBRSx5QkFBeUIsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFFLEdBQUcsS0FBSyxFQUFFLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxVQUFVLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxHQUFHLEtBQUssRUFBOEMsRUFBQTtJQUkvTyxJQUFBLE1BQU0sT0FBTyxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0QyxJQUFBLE1BQU0sT0FBTyxHQUFHLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBRW5ELElBQUEsTUFBTSxlQUFlLEdBQUdBLEdBQVcsQ0FBQyxTQUFTLGVBQWUsQ0FBQyxDQUEyQixFQUFBO1lBQ3BGLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQ1YsT0FBTzs7O0lBTVgsUUFBQSxJQUFJLE9BQU8sR0FBRyxVQUFVLEVBQUUsQ0FBQztZQUUzQixJQUFJLGdCQUFnQixHQUFHLEtBQUssQ0FBQztJQUU3QixRQUFBLElBQUksQ0FBQyxDQUFDLE1BQU0sSUFBSSxPQUFPLElBQUksT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBYyxDQUFDLEVBQUU7Z0JBQzNELGdCQUFnQixHQUFHLElBQUksQ0FBQztJQUMzQixTQUFBO1lBRUQsSUFBSSxDQUFDLGdCQUFnQixFQUFFO0lBQ25CLFlBQUEsT0FBTyxFQUFFLENBQUM7SUFDYixTQUFBO1NBQ0osRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxXQUFXLEVBQUUsSUFBSSxHQUFHLGVBQWUsR0FBRyxJQUFJLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUN4RixnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsWUFBWSxFQUFFLElBQUksR0FBRyxlQUFlLEdBQUcsSUFBSSxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDN0YsQ0FBQztJQTBERDs7OztJQUlHO0lBQ2EsU0FBQSxVQUFVLENBQTZHLEVBQUUsaUJBQWlCLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsZUFBZSxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLHVCQUF1QixFQUFFLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxFQUFtQyxFQUFBO0lBRTlVLElBQUEsTUFBTSxFQUFFLGdCQUFnQixFQUFFLHNCQUFzQixFQUFFLEdBQUcsYUFBYSxDQUE2QixFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDN0gsSUFBQSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUscUJBQXFCLEVBQUUsR0FBRyxhQUFhLENBQWUsRUFBRSxvQkFBb0IsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRTlHLE1BQU0sZUFBZSxHQUFHQSxHQUFXLENBQUMsTUFBSyxFQUFHLE9BQU8sYUFBYSxHQUFHLFVBQXVCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQ2pILE1BQU0sYUFBYSxHQUFHQSxHQUFXLENBQUMsTUFBSyxFQUFHLE9BQU8sYUFBYSxHQUFHLFFBQXFCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQzdHLE1BQU0sWUFBWSxHQUFHQSxHQUFXLENBQUMsTUFBSyxFQUFHLE9BQU8sYUFBYSxHQUFHLFlBQXlCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO1FBQzlGLGtCQUFrQixDQUFlLEVBQUUseUJBQXlCLEVBQUUsRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFFLElBQUksR0FBRyxlQUFlLElBQUksVUFBVSxDQUFDLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxFQUFFO0lBQzlLLElBQWtCLGdCQUFnQixDQUFlLEVBQUUsdUJBQXVCLEVBQUUsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxJQUFJLEdBQUcsYUFBYSxJQUFJLFVBQVUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxFQUFFLHFCQUFxQixFQUFFLEVBQUU7SUFDOUwsSUFBQSxNQUFNLEVBQUUsdUJBQXVCLEVBQUUsR0FBRyxtQkFBbUIsQ0FBOEIsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsSUFBSSxHQUFHLGdCQUFnQixJQUFJLFVBQVUsQ0FBQyxFQUFFLEVBQUUscUJBQXFCLEVBQUUsc0JBQXNCLEVBQUUsQ0FBQyxDQUFDO0lBRTdOLElBQUEsTUFBTSxXQUFXLEdBQUdBLEdBQVcsQ0FBQyxNQUFLO0lBQ2pDLFFBQUEsT0FBTyxTQUFTLEVBQUUsQ0FBQyxRQUFRLENBQUM7SUFDaEMsS0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQTtJQUVmLElBTUksZ0JBQWdCLENBQUMsRUFBRSx1QkFBdUIsRUFBRSxFQUFFLEdBQUcsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxFQUFFLEVBQUU7UUFFMUcsT0FBTztZQUNILHNCQUFzQjtZQUN0QixxQkFBcUI7U0FDeEIsQ0FBQTtJQUNMOzs7Ozs7SUN6V0EsSUFBTStILGtCQUFrQixHQUFHLENBQ3pCLE9BQU8sRUFDUCxRQUFRLEVBQ1IsVUFBVSxFQUNWLFNBQVMsRUFDVCxRQUFRLEVBQ1Isc0JBQXNCLEVBQ3RCLGlCQUFpQixFQUNqQixpQkFBaUIsRUFDakIsa0RBQWtELEVBQ2xELCtCQUErQixFQUMvQixTQUFTLENBQ1YsQ0FBQTtJQUdELElBQU1DLFNBQVMsR0FBRyxPQUFPQyxPQUFPLEtBQUssV0FBVyxDQUFBO0lBRWhELElBQU1DLE9BQU8sR0FBR0YsU0FBUyxHQUNyQixZQUFZLEVBQUUsR0FDZEMsT0FBTyxDQUFDM1AsU0FBUyxDQUFDNFAsT0FBTyxJQUN6QkQsT0FBTyxDQUFDM1AsU0FBUyxDQUFDNlAsaUJBQWlCLElBQ25DRixPQUFPLENBQUMzUCxTQUFTLENBQUM4UCxxQkFBcUIsQ0FBQTtJQUUzQyxJQUFNQyxXQUFXLEdBQ2YsQ0FBQ0wsU0FBUyxJQUFJQyxPQUFPLENBQUMzUCxTQUFTLENBQUMrUCxXQUFXLEdBQ3ZDLFVBQUNDLE9BQU8sRUFBQTtJQUFBLEVBQUEsT0FBS0EsT0FBTyxDQUFDRCxXQUFXLEVBQUUsQ0FBQTtJQUFBLENBQUEsR0FDbEMsVUFBQ0MsT0FBTyxFQUFBO01BQUEsT0FBS0EsT0FBTyxDQUFDQyxhQUFhLENBQUE7SUFBQSxDQUFBLENBQUE7SUErSnhDLElBQU1DLE9BQU8sR0FBRyxTQUFWQSxPQUFPLENBQWFyWSxJQUFJLEVBQUU7SUFDOUIsRUFBQSxPQUFPQSxJQUFJLENBQUNzWSxPQUFPLEtBQUssT0FBTyxDQUFBO0lBQ2pDLENBQUMsQ0FBQTtJQUVELElBQU1DLGFBQWEsR0FBRyxTQUFoQkEsYUFBYSxDQUFhdlksSUFBSSxFQUFFO01BQ3BDLE9BQU9xWSxPQUFPLENBQUNyWSxJQUFJLENBQUMsSUFBSUEsSUFBSSxDQUFDSSxJQUFJLEtBQUssUUFBUSxDQUFBO0lBQ2hELENBQUMsQ0FBQTtJQUVELElBQU1vWSxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQW9CLENBQWF4WSxJQUFJLEVBQUU7TUFDM0MsSUFBTXlLLENBQUMsR0FDTHpLLElBQUksQ0FBQ3NZLE9BQU8sS0FBSyxTQUFTLElBQzFCalMsS0FBSyxDQUFDOEIsU0FBUyxDQUFDbEosS0FBSyxDQUNsQndaLEtBQUssQ0FBQ3pZLElBQUksQ0FBQ0ssUUFBUSxDQUFDLENBQ3BCMkcsSUFBSSxDQUFDLFVBQUNsRCxLQUFLLEVBQUE7SUFBQSxJQUFBLE9BQUtBLEtBQUssQ0FBQ3dVLE9BQU8sS0FBSyxTQUFTLENBQUE7SUFBQyxHQUFBLENBQUEsQ0FBQTtJQUNqRCxFQUFBLE9BQU83TixDQUFDLENBQUE7SUFDVixDQUFDLENBQUE7O0lBcUREO0lBQ0EsSUFBTWlPLGNBQWMsR0FBRyxTQUFqQkEsY0FBYyxDQUFhMVksSUFBSSxFQUFFO0lBQUEsRUFBQSxJQUFBLGFBQUEsQ0FBQTtJQUNyQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLEVBQUEsSUFBSTJZLFlBQVksR0FBR1QsV0FBVyxDQUFDbFksSUFBSSxDQUFDLENBQUM0WSxJQUFJLENBQUE7SUFDekMsRUFBQSxJQUFJQyxRQUFRLEdBQUcsQ0FBQyxFQUNkLGlCQUFBRixZQUFZLE1BQUEsSUFBQSxJQUFBLGFBQUEsS0FBQSxLQUFBLENBQUEsSUFBWixhQUFjUCxDQUFBQSxhQUFhLENBQUNVLFFBQVEsQ0FBQ0gsWUFBWSxDQUFDLElBQ2xEM1ksSUFBSSxDQUFDb1ksYUFBYSxDQUFDVSxRQUFRLENBQUM5WSxJQUFJLENBQUMsQ0FDbEMsQ0FBQTtJQUVELEVBQUEsT0FBTyxDQUFDNlksUUFBUSxJQUFJRixZQUFZLEVBQUU7SUFBQSxJQUFBLElBQUEsY0FBQSxDQUFBO0lBQ2hDO0lBQ0E7SUFDQTtJQUNBQSxJQUFBQSxZQUFZLEdBQUdULFdBQVcsQ0FBQ1MsWUFBWSxDQUFDLENBQUNDLElBQUksQ0FBQTtRQUM3Q0MsUUFBUSxHQUFHLENBQUMsRUFBQSxDQUFBLGNBQUEsR0FBQ0YsWUFBWSxNQUFBLElBQUEsSUFBQSxjQUFBLEtBQUEsS0FBQSxDQUFBLElBQVosY0FBY1AsQ0FBQUEsYUFBYSxDQUFDVSxRQUFRLENBQUNILFlBQVksQ0FBQyxDQUFBLENBQUE7SUFDakUsR0FBQTtJQUVBLEVBQUEsT0FBT0UsUUFBUSxDQUFBO0lBQ2pCLENBQUMsQ0FBQTtJQUVELElBQU1FLFVBQVUsR0FBRyxTQUFiQSxVQUFVLENBQWEvWSxJQUFJLEVBQUU7SUFDakMsRUFBQSxJQUEwQkEscUJBQUFBLEdBQUFBLElBQUksQ0FBQ2daLHFCQUFxQixFQUFFO0lBQTlDQyxJQUFBQSxLQUFLLHlCQUFMQSxLQUFLO0lBQUVDLElBQUFBLE1BQU0sR0FBTkEscUJBQUFBLENBQUFBLE1BQU0sQ0FBQTtJQUNyQixFQUFBLE9BQU9ELEtBQUssS0FBSyxDQUFDLElBQUlDLE1BQU0sS0FBSyxDQUFDLENBQUE7SUFDcEMsQ0FBQyxDQUFBO0lBQ0QsSUFBTUMsUUFBUSxHQUFHLFNBQVhBLFFBQVEsQ0FBYW5aLElBQUksRUFBbUMsSUFBQSxFQUFBO01BQUEsSUFBL0JvWixZQUFZLFFBQVpBLFlBQVk7SUFBRUMsSUFBQUEsYUFBYSxHQUFiQSxJQUFBQSxDQUFBQSxhQUFhLENBQUE7SUFDNUQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtNQUNBLElBQUlDLGdCQUFnQixDQUFDdFosSUFBSSxDQUFDLENBQUN1WixVQUFVLEtBQUssUUFBUSxFQUFFO0lBQ2xELElBQUEsT0FBTyxJQUFJLENBQUE7SUFDYixHQUFBO01BRUEsSUFBTUMsZUFBZSxHQUFHekIsT0FBTyxDQUFDcFgsSUFBSSxDQUFDWCxJQUFJLEVBQUUsK0JBQStCLENBQUMsQ0FBQTtNQUMzRSxJQUFNeVosZ0JBQWdCLEdBQUdELGVBQWUsR0FBR3haLElBQUksQ0FBQzBaLGFBQWEsR0FBRzFaLElBQUksQ0FBQTtNQUNwRSxJQUFJK1gsT0FBTyxDQUFDcFgsSUFBSSxDQUFDOFksZ0JBQWdCLEVBQUUsdUJBQXVCLENBQUMsRUFBRTtJQUMzRCxJQUFBLE9BQU8sSUFBSSxDQUFBO0lBQ2IsR0FBQTtNQUVBLElBQ0UsQ0FBQ0wsWUFBWSxJQUNiQSxZQUFZLEtBQUssTUFBTSxJQUN2QkEsWUFBWSxLQUFLLGFBQWEsRUFDOUI7SUFDQSxJQUFBLElBQUksT0FBT0MsYUFBYSxLQUFLLFVBQVUsRUFBRTtJQUN2QztJQUNBO1VBQ0EsSUFBTU0sWUFBWSxHQUFHM1osSUFBSSxDQUFBO0lBQ3pCLE1BQUEsT0FBT0EsSUFBSSxFQUFFO0lBQ1gsUUFBQSxJQUFNMFosYUFBYSxHQUFHMVosSUFBSSxDQUFDMFosYUFBYSxDQUFBO0lBQ3hDLFFBQUEsSUFBTUUsUUFBUSxHQUFHMUIsV0FBVyxDQUFDbFksSUFBSSxDQUFDLENBQUE7SUFDbEMsUUFBQSxJQUNFMFosYUFBYSxJQUNiLENBQUNBLGFBQWEsQ0FBQ0csVUFBVSxJQUN6QlIsYUFBYSxDQUFDSyxhQUFhLENBQUMsS0FBSyxJQUFJO0lBQ3JDLFVBQUE7SUFDQTtJQUNBO0lBQ0EsVUFBQSxPQUFPWCxVQUFVLENBQUMvWSxJQUFJLENBQUMsQ0FBQTtJQUN6QixTQUFDLE1BQU0sSUFBSUEsSUFBSSxDQUFDOFosWUFBWSxFQUFFO0lBQzVCO0lBQ0E5WixVQUFBQSxJQUFJLEdBQUdBLElBQUksQ0FBQzhaLFlBQVksQ0FBQTthQUN6QixNQUFNLElBQUksQ0FBQ0osYUFBYSxJQUFJRSxRQUFRLEtBQUs1WixJQUFJLENBQUNvWSxhQUFhLEVBQUU7SUFDNUQ7SUFDQXBZLFVBQUFBLElBQUksR0FBRzRaLFFBQVEsQ0FBQ2hCLElBQUksQ0FBQTtJQUN0QixTQUFDLE1BQU07SUFDTDtJQUNBNVksVUFBQUEsSUFBSSxHQUFHMFosYUFBYSxDQUFBO0lBQ3RCLFNBQUE7SUFDRixPQUFBO0lBRUExWixNQUFBQSxJQUFJLEdBQUcyWixZQUFZLENBQUE7SUFDckIsS0FBQTtJQUNBO0lBQ0E7SUFDQTs7SUFFQTtJQUNBO0lBQ0E7SUFDQTtJQUNBOztJQUVBLElBQUEsSUFBSWpCLGNBQWMsQ0FBQzFZLElBQUksQ0FBQyxFQUFFO0lBQ3hCO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsTUFBQSxPQUFPLENBQUNBLElBQUksQ0FBQytaLGNBQWMsRUFBRSxDQUFDclosTUFBTSxDQUFBO0lBQ3RDLEtBQUE7O0lBRUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7UUFDQSxJQUFJMFksWUFBWSxLQUFLLGFBQWEsRUFBRTtJQUNsQyxNQUFBLE9BQU8sSUFBSSxDQUFDO0lBQ2QsS0FBQTtJQUNBO0lBQ0YsR0FBQyxNQUFNLElBQUlBLFlBQVksS0FBSyxlQUFlLEVBQUU7SUFDM0M7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUEsT0FBT0wsVUFBVSxDQUFDL1ksSUFBSSxDQUFDLENBQUE7SUFDekIsR0FBQTs7SUFFQTtJQUNBO0lBQ0EsRUFBQSxPQUFPLEtBQUssQ0FBQTtJQUNkLENBQUMsQ0FBQTs7SUFFRDtJQUNBO0lBQ0E7SUFDQSxJQUFNZ2Esc0JBQXNCLEdBQUcsU0FBekJBLHNCQUFzQixDQUFhaGEsSUFBSSxFQUFFO01BQzdDLElBQUksa0NBQWtDLENBQUNxQyxJQUFJLENBQUNyQyxJQUFJLENBQUNzWSxPQUFPLENBQUMsRUFBRTtJQUN6RCxJQUFBLElBQUlyWSxVQUFVLEdBQUdELElBQUksQ0FBQzBaLGFBQWEsQ0FBQTtJQUNuQztJQUNBLElBQUEsT0FBT3paLFVBQVUsRUFBRTtVQUNqQixJQUFJQSxVQUFVLENBQUNxWSxPQUFPLEtBQUssVUFBVSxJQUFJclksVUFBVSxDQUFDZ2EsUUFBUSxFQUFFO0lBQzVEO0lBQ0EsUUFBQSxLQUFLLElBQUl6YSxDQUFDLEdBQUcsQ0FBQyxFQUFFQSxDQUFDLEdBQUdTLFVBQVUsQ0FBQ0ksUUFBUSxDQUFDSyxNQUFNLEVBQUVsQixDQUFDLEVBQUUsRUFBRTtjQUNuRCxJQUFNc0UsS0FBSyxHQUFHN0QsVUFBVSxDQUFDSSxRQUFRLENBQUM2WixJQUFJLENBQUMxYSxDQUFDLENBQUMsQ0FBQTtJQUN6QztJQUNBLFVBQUEsSUFBSXNFLEtBQUssQ0FBQ3dVLE9BQU8sS0FBSyxRQUFRLEVBQUU7SUFDOUI7SUFDQTtJQUNBLFlBQUEsT0FBT1AsT0FBTyxDQUFDcFgsSUFBSSxDQUFDVixVQUFVLEVBQUUsc0JBQXNCLENBQUMsR0FDbkQsSUFBSSxHQUNKLENBQUM2RCxLQUFLLENBQUNnVixRQUFRLENBQUM5WSxJQUFJLENBQUMsQ0FBQTtJQUMzQixXQUFBO0lBQ0YsU0FBQTtJQUNBO0lBQ0EsUUFBQSxPQUFPLElBQUksQ0FBQTtJQUNiLE9BQUE7SUFDQUMsTUFBQUEsVUFBVSxHQUFHQSxVQUFVLENBQUN5WixhQUFhLENBQUE7SUFDdkMsS0FBQTtJQUNGLEdBQUE7O0lBRUE7SUFDQTtJQUNBLEVBQUEsT0FBTyxLQUFLLENBQUE7SUFDZCxDQUFDLENBQUE7SUFFRCxJQUFNUywrQkFBK0IsR0FBRyxTQUFsQ0EsK0JBQStCLENBQWFqYixPQUFPLEVBQUVjLElBQUksRUFBRTtJQUMvRCxFQUFBLElBQ0VBLElBQUksQ0FBQ2lhLFFBQVEsSUFDYjFCLGFBQWEsQ0FBQ3ZZLElBQUksQ0FBQyxJQUNuQm1aLFFBQVEsQ0FBQ25aLElBQUksRUFBRWQsT0FBTyxDQUFDO0lBQ3ZCO01BQ0FzWixvQkFBb0IsQ0FBQ3hZLElBQUksQ0FBQyxJQUMxQmdhLHNCQUFzQixDQUFDaGEsSUFBSSxDQUFDLEVBQzVCO0lBQ0EsSUFBQSxPQUFPLEtBQUssQ0FBQTtJQUNkLEdBQUE7SUFDQSxFQUFBLE9BQU8sSUFBSSxDQUFBO0lBQ2IsQ0FBQyxDQUFBO0lBa0hELElBQU1vYSwwQkFBMEIsa0JBQW1CeEMsa0JBQWtCLENBQ2xFakksTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUNoQjBLLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUVOQyxJQUFBQSxXQUFXLEdBQUcsU0FBZEEsV0FBVyxDQUFhdGEsSUFBSSxFQUFFZCxPQUFPLEVBQUU7SUFDM0NBLEVBQUFBLE9BQU8sR0FBR0EsT0FBTyxJQUFJLEVBQUUsQ0FBQTtNQUN2QixJQUFJLENBQUNjLElBQUksRUFBRTtJQUNULElBQUEsTUFBTSxJQUFJdWEsS0FBSyxDQUFDLGtCQUFrQixDQUFDLENBQUE7SUFDckMsR0FBQTtNQUNBLElBQUl4QyxPQUFPLENBQUNwWCxJQUFJLENBQUNYLElBQUksRUFBRW9hLDBCQUEwQixDQUFDLEtBQUssS0FBSyxFQUFFO0lBQzVELElBQUEsT0FBTyxLQUFLLENBQUE7SUFDZCxHQUFBO0lBQ0EsRUFBQSxPQUFPRCwrQkFBK0IsQ0FBQ2piLE9BQU8sRUFBRWMsSUFBSSxDQUFDLENBQUE7SUFDdkQsQ0FBQTs7SUN6akJBOzs7Ozs7Ozs7Ozs7Ozs7SUFlRztJQTZDSCxDQUFDLE1BQUs7OztJQUVKLElBQUEsTUFBTSxpQkFBaUIsR0FBRyxNQUFNLEVBQUUsQ0FBQztJQUNuQyxJQUFBLE1BQU0scUJBQXFCLEdBQUcsTUFBTSxFQUFFLENBQUM7SUFDdkMsSUFBQSxNQUFNLGFBQWEsR0FBRyxNQUFNLEVBQUUsQ0FBQztJQUMvQixJQUFBLE1BQU0sa0JBQWtCLEdBQUcsTUFBTSxFQUFFLENBQUM7SUFDcEMsSUFBQSxNQUFNLFNBQVMsR0FBRyxNQUFNLEVBQUUsQ0FBQzs7SUFHM0IsSUFBQSxNQUFNLFdBQVcsR0FBRyxNQUFNLEVBQUUsQ0FBQztJQUM3QixJQUFBLE1BQU0sbUJBQW1CLEdBQUcsTUFBTSxFQUFFLENBQUM7SUFDckMsSUFBQSxNQUFNLGNBQWMsR0FBRyxNQUFNLEVBQUUsQ0FBQztJQUNoQyxJQUFBLE1BQU0sdUJBQXVCLEdBQUcsTUFBTSxFQUFFLENBQUM7SUFDekMsSUFBQSxNQUFNLFdBQVcsR0FBRyxNQUFNLEVBQUUsQ0FBQztJQUM3QixJQUFBLE1BQU0sdUJBQXVCLEdBQUcsTUFBTSxFQUFFLENBQUM7SUFDekMsSUFBQSxNQUFNLFlBQVksR0FBRyxNQUFNLEVBQUUsQ0FBQztJQUM5QixJQUFBLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxFQUFFLENBQUM7SUFzQmxDLElBQUEsTUFBTSxvQkFBb0IsQ0FBQTtJQUExQixRQUFBLFdBQUEsR0FBQTtJQUNFOztJQUVHO2dCQUNJLElBQW1CLENBQUEsRUFBQSxDQUFBLEdBQTRCLEVBQUUsQ0FBQztJQUV6RDs7Ozs7SUFLRztnQkFDSSxJQUFlLENBQUEsRUFBQSxDQUFBLEdBQXVCLEVBQUUsQ0FBQztJQUVoRDs7O0lBR0c7SUFDSSxZQUFBLElBQUEsQ0FBQSxFQUFBLENBQXVCLEdBQUcsSUFBSSxHQUFHLEVBQXlCLENBQUM7YUE2VG5FO1lBM1RDLFVBQVUsR0FBQTs7Z0JBRVIsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7Ozs7O2dCQUtuRCxNQUFNLFFBQVEsR0FBRyxJQUloQixDQUFDO0lBQ0YsWUFBQSxRQUFRLENBQUMsaUJBQWlCLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDbkMsWUFBQSxRQUFRLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQy9CLFlBQUEsUUFBUSxDQUFDLHFCQUFxQixDQUFDLEdBQUcsSUFBSSxDQUFDO2FBQ3hDO0lBRUQsUUFBQSxJQUFJLEdBQUcsR0FBQTtJQUNMLFlBQUEsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQ3RDLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO2FBQ3hDO0lBRUQsUUFBQSxJQUFJLENBQUMsT0FBb0IsRUFBQTtnQkFDdkIsSUFBSSxDQUFDLE9BQU8sSUFBSSxPQUFPLEtBQUssSUFBSSxDQUFDLEdBQUcsRUFBRTtvQkFDcEMsT0FBTztJQUNSLGFBQUE7O0lBRUQsWUFBQSxJQUFJLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JCLFlBQUEsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUMzQixJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDdkM7SUFFRCxRQUFBLE1BQU0sQ0FBQyxPQUFvQixFQUFBO2dCQUN6QixNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDbkQsWUFBQSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtJQUNaLGdCQUFBLE9BQU8sS0FBSyxDQUFDO0lBQ2QsYUFBQTtnQkFDRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDOztnQkFFckMsSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUMsTUFBTSxFQUFFO29CQUN4QyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLGFBQUE7SUFDRCxZQUFBLE9BQU8sSUFBSSxDQUFDO2FBQ2I7WUFFRCxHQUFHLEdBQUE7SUFDRCxZQUFBLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDckIsWUFBQSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN4QixZQUFBLE9BQU8sR0FBRyxDQUFDO2FBQ1o7SUFFRCxRQUFBLEdBQUcsQ0FBQyxPQUFvQixFQUFBO0lBQ3RCLFlBQUEsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7YUFDeEQ7SUFFRDs7O0lBR0c7WUFDSSxFQTNFQyxFQUFBLEdBQUEsaUJBQWlCLE9BUWpCLGFBQWEsRUFBQSxFQUFBLEdBTWIscUJBQXFCLEVBNkRyQixXQUFXLEVBQUMsQ0FBQyxNQUFrQyxFQUFBO0lBQ3JELFlBQUEsTUFBTSxXQUFXLEdBQUcsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUFDaEQsWUFBQSxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7O2dCQUV2QyxJQUFJLENBQUMsTUFBTSxFQUFFO0lBQ1gsZ0JBQUEsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUMsVUFBVSxDQUFDLENBQUM7b0JBQzFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNwQixnQkFBQSxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDO29CQUN6QixPQUFPO0lBQ1IsYUFBQTtnQkFFRCxNQUFNLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7O0lBRTdDLFlBQUEsSUFBSSxVQUFVLENBQUMsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxVQUFVLEtBQUssUUFBUSxDQUFDLElBQUksRUFBRTtJQUNsRSxnQkFBQSxNQUFNLEtBQUssQ0FBQyxvREFBb0QsQ0FBQyxDQUFDO0lBQ25FLGFBQUE7OztJQUdELFlBQUEsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLFVBQXFDLENBQUM7Z0JBRTVELE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztJQUdyRCxZQUFBLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO29CQUN0QixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxXQUFXLENBQUMsQ0FBQztvQkFDdEQsT0FBTztJQUNSLGFBQUE7SUFFRCxZQUFBLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLFlBQUEsSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7O0lBRTlCLFlBQUEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtJQUN4RCxnQkFBQSxDQUFDLEVBQUUsQ0FBQztJQUNKLGdCQUFBLENBQUMsRUFBRSxDQUFDO0lBQ0wsYUFBQTs7O2dCQUdELElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxLQUFLLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRTtJQUNuQyxnQkFBQSxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekQsYUFBQTs7SUFFRCxZQUFBLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzs7Z0JBRS9ELENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzthQUNyRTtJQUVEOzs7OztJQUtHO0lBQ0ksUUFBQSxDQUFDLG1CQUFtQixDQUFDLENBQ3hCLFFBQTBCLEVBQUUsUUFBK0IsRUFBQTtJQUM3RCxZQUFBLE1BQU0saUJBQWlCLEdBQUcsUUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7OztJQUd2RCxZQUFBLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRTtJQUNuRCxnQkFBQSxRQUFRLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUN0QixnQkFBQSxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDakMsYUFBQTs7O0lBR0QsWUFBQSxJQUFJLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRTtJQUNuQyxnQkFBQSxRQUFRLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixnQkFBQSxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEMsYUFBQTtnQkFDRCxRQUFRLENBQUMsU0FBUyxDQUFDLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzFDLFlBQUEsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEdBQUcsaUJBQWlCLENBQUM7SUFDaEQsWUFBQSxRQUFrQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLFNBQVMsQ0FBQztJQUMxRCxZQUFBLFFBQWtDLENBQUMsa0JBQWtCLENBQUMsR0FBRyxTQUFTLENBQUM7YUFDckU7SUFFRDs7Ozs7SUFLRztZQUNJLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxRQUE0QixFQUFBO0lBQzNELFlBQUEsS0FBSyxNQUFNLE9BQU8sSUFBSSxRQUFRLEVBQUU7SUFDOUIsZ0JBQUEsTUFBTSxFQUFFLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUM5QixFQUFFLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDZixnQkFBQSxPQUFpQyxDQUFDLFNBQVMsQ0FBQyxHQUFHLFNBQVMsQ0FBQztJQUMxRCxnQkFBQSxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsa0JBQWtCLENBQUMsQ0FBQztJQUM3QyxnQkFBQSxLQUFLLE1BQU0sT0FBTyxJQUFJLFFBQVEsRUFBRTtJQUM5QixvQkFBQSxPQUFPLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixpQkFBQTtJQUNBLGdCQUFBLE9BQWlDLENBQUMsa0JBQWtCLENBQUMsR0FBRyxTQUFTLENBQUM7SUFDcEUsYUFBQTthQUNGO0lBRUQ7Ozs7Ozs7SUFPRztJQUNJLFFBQUEsQ0FBQyxjQUFjLENBQUMsQ0FDbkIsUUFBaUMsRUFBRSxNQUE2QixFQUNoRSxXQUFrQyxFQUFBO0lBQ3BDLFlBQUEsS0FBSyxNQUFNLE9BQU8sSUFBSSxRQUFRLEVBQUU7O0lBRTlCLGdCQUFBLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxVQUFXLENBQUM7SUFDbkMsZ0JBQUEsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLFFBQVEsQ0FBQztJQUNqQyxnQkFBQSxNQUFNLGVBQWUsR0FBRyxJQUFJLEdBQUcsRUFBZSxDQUFDO0lBQy9DLGdCQUFBLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3hDLG9CQUFBLE1BQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQTBCLENBQUM7O3dCQUVyRCxJQUFJLE9BQU8sS0FBSyxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxDQUFDOzZCQUNsRCxNQUFNLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFFOzRCQUNuQyxTQUFTO0lBQ1YscUJBQUE7O0lBRUQsb0JBQUEsSUFBSSxXQUFXLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRTtJQUNoQyx3QkFBQSxXQUFXLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzFCLHFCQUFBO0lBQU0seUJBQUE7SUFDTCx3QkFBQSxPQUFPLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUNyQix3QkFBQSxlQUFlLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlCLHFCQUFBO0lBQ0YsaUJBQUE7O0lBRUQsZ0JBQUEsT0FBTyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsZUFBZSxDQUFDOztJQUU5QyxnQkFBQSxNQUFNLEVBQUUsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ25FLGdCQUFBLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUM7b0JBQ3hCLElBQUksZUFBZSxHQUFHLE1BQU0sQ0FBQzs7OztvQkFJN0IsTUFBTSxjQUFjLEdBQUcsZUFBaUMsQ0FBQztJQUN6RCxnQkFBQSxJQUFJLGNBQWMsQ0FBQyxPQUFPLElBQUksY0FBYyxDQUFDLElBQUksRUFBRTtJQUNqRCxvQkFBQSxlQUFlLEdBQUcsY0FBYyxDQUFDLElBQUksQ0FBQztJQUN2QyxpQkFBQTtJQUNELGdCQUFBLEVBQUUsQ0FBQyxPQUFPLENBQUMsZUFBZSxFQUFFO0lBQzFCLG9CQUFBLFNBQVMsRUFBRSxJQUFJO0lBQ2hCLGlCQUFBLENBQUMsQ0FBQztJQUNKLGFBQUE7YUFDRjtJQUVEOzs7O0lBSUc7WUFDSSxDQUFDLGdCQUFnQixDQUFDLENBQUMsU0FBMkIsRUFBQTtJQUNuRCxZQUFBLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUNwQyxZQUFBLE1BQU0sV0FBVyxHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0lBQ2hELFlBQUEsS0FBSyxNQUFNLFFBQVEsSUFBSSxTQUFTLEVBQUU7OztvQkFHaEMsTUFBTSxNQUFNLEdBQUksUUFBUSxDQUFDLE1BQXFCLENBQUMsSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLENBQUM7b0JBQ3ZFLE1BQU0sR0FBRyxHQUFHLE1BQU0sS0FBSyxRQUFRLENBQUMsSUFBSTt3QkFDaEMsT0FBTyxDQUFDLE1BQU07SUFDZCxvQkFBQSxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQTBCLENBQUMsQ0FBQztvQkFDaEQsTUFBTSxZQUFZLEdBQUcsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUN0QyxnQkFBQSxNQUFNLGVBQWUsR0FBRyxZQUFZLENBQUMsa0JBQWtCLENBQUMsQ0FBQzs7SUFHekQsZ0JBQUEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO3dCQUNyRCxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBMEIsQ0FBQzt3QkFDbEUsSUFBSSxPQUFPLEtBQUssWUFBWSxFQUFFO0lBQzVCLHdCQUFBLE9BQU8sQ0FBQyxJQUFJLENBQUMsK0NBQStDLENBQUMsQ0FBQzs0QkFDOUQsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDOzRCQUNYLE9BQU87SUFDUixxQkFBQTtJQUNELG9CQUFBLElBQUksZUFBZSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUNoQyx3QkFBQSxPQUFPLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN0Qix3QkFBQSxlQUFlLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2pDLHFCQUFBO0lBQ0YsaUJBQUE7O0lBR0QsZ0JBQUEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO3dCQUNuRCxNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBMEIsQ0FBQzt3QkFDaEUsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRTs0QkFDaEMsU0FBUztJQUNWLHFCQUFBO0lBQ0Qsb0JBQUEsSUFBSSxXQUFXLElBQUksT0FBTyxDQUFDLEtBQUssRUFBRTtJQUNoQyx3QkFBQSxXQUFXLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzFCLHFCQUFBO0lBQU0seUJBQUE7SUFDTCx3QkFBQSxPQUFPLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUNyQix3QkFBQSxlQUFlLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlCLHFCQUFBO0lBQ0YsaUJBQUE7SUFDRixhQUFBO2FBQ0Y7SUFFRDs7SUFFRztZQUNJLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBb0IsRUFBQTtnQkFDeEMsT0FBTyxLQUFLLEtBQUssMkJBQTJCLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQzthQUN0RTtJQUVEOzs7SUFHRztZQUNJLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBb0IsRUFBQTtnQkFDdkMsTUFBTSxPQUFPLEdBQUcsRUFBRSxDQUFDO2dCQUNuQixJQUFJLE9BQU8sR0FBK0IsT0FBTyxDQUFDOztJQUVsRCxZQUFBLE9BQU8sT0FBTyxJQUFJLE9BQU8sS0FBSyxRQUFRLENBQUMsSUFBSSxFQUFFOztJQUUzQyxnQkFBQSxJQUFJLE9BQU8sQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLFlBQVksRUFBRTtJQUMxQyxvQkFBQSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZCLGlCQUFBOztvQkFFRCxJQUFJLE9BQU8sQ0FBQyxZQUFZLEVBQUU7O0lBRXhCLG9CQUFBLE9BQU8sT0FBTyxHQUFHLE9BQU8sQ0FBQyxZQUFZLEVBQUU7SUFDckMsd0JBQUEsT0FBTyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN2QixxQkFBQTs7SUFFRCxvQkFBQSxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsRUFBRSxDQUFDO3dCQUN4QixTQUFTO0lBQ1YsaUJBQUE7b0JBQ0QsT0FBTyxHQUFHLE9BQU8sQ0FBQyxVQUF5Qjt3QkFDdEMsT0FBOEIsQ0FBQyxJQUFJLENBQUM7SUFDMUMsYUFBQTtJQUNELFlBQUEsT0FBTyxPQUFPLENBQUM7YUFDaEI7SUFFRDs7O0lBR0c7WUFDSSxDQUFDLHVCQUF1QixDQUFDLENBQUMsT0FBb0IsRUFBQTtJQUVuRCxZQUFBLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUM7Z0JBQ3RDLElBQUksQ0FBQyxVQUFVLEVBQUU7SUFDZixnQkFBQSxPQUFPLElBQUksQ0FBQztJQUNiLGFBQUE7SUFDRCxZQUFBLE1BQU0sTUFBTSxHQUFHLElBQUksR0FBRyxFQUFlLENBQUM7SUFDdEMsWUFBQSxJQUFJLENBQUMsQ0FBQztJQUNOLFlBQUEsSUFBSSxDQUFDLENBQUM7SUFDTixZQUFBLElBQUksS0FBSyxDQUFDO2dCQUNWLE1BQU0sS0FBSyxHQUFHLFVBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDbEQsSUFBSSxLQUFLLENBQUMsTUFBTSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLEVBQUU7SUFDMUMsZ0JBQUEsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ2pDLG9CQUFBLEtBQUssR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDO0lBQzdCLHdCQUFBLE9BQU8sRUFBRSxJQUFJO0lBQ2QscUJBQUEsQ0FBQyxDQUFDO0lBQ0gsb0JBQUEsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFOzRCQUNqQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLFlBQVksRUFBRTtnQ0FDM0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFnQixDQUFDLENBQUM7SUFDckMseUJBQUE7SUFDRixxQkFBQTtJQUNGLGlCQUFBOztJQUVGLGFBQUE7SUFDRCxZQUFBLE9BQU8sTUFBTSxDQUFDO2FBQ2Y7SUFDRixLQUFBO0lBRUEsSUFBQSxRQUF5QyxDQUFDLGlCQUFpQjtZQUN4RCxJQUFJLG9CQUFvQixFQUFFLENBQUM7SUFDakMsQ0FBQyxHQUFHOztJQ3JiSixJQUFJLFlBQVksR0FBRyxZQUFZLEVBQUUsU0FBUyxnQkFBZ0IsQ0FBQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQyxVQUFVLElBQUksS0FBSyxDQUFDLENBQUMsVUFBVSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLE9BQU8sSUFBSSxVQUFVLEVBQUUsVUFBVSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLFVBQVUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE9BQU8sVUFBVSxXQUFXLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxFQUFFLElBQUksVUFBVSxFQUFFLGdCQUFnQixDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsVUFBVSxDQUFDLENBQUMsQ0FBQyxJQUFJLFdBQVcsRUFBRSxnQkFBZ0IsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxPQUFPLFdBQVcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7QUFDcGpCO0lBQ0EsU0FBUyxlQUFlLENBQUMsUUFBUSxFQUFFLFdBQVcsRUFBRSxFQUFFLElBQUksRUFBRSxRQUFRLFlBQVksV0FBVyxDQUFDLEVBQUUsRUFBRSxNQUFNLElBQUksU0FBUyxDQUFDLG1DQUFtQyxDQUFDLENBQUMsRUFBRSxFQUFFO0FBQ3pKO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLENBQUMsWUFBWTtJQUNiO0lBQ0EsRUFBRSxJQUFJLE9BQU8sTUFBTSxLQUFLLFdBQVcsRUFBRTtJQUNyQyxJQUFJLE9BQU87SUFDWCxHQUFHO0FBQ0g7SUFDQTtJQUNBO0lBQ0EsRUFBRSxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQztBQUNwQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxJQUFJLE9BQU8sR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLE9BQU8sSUFBSSxPQUFPLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDO0FBQ2pGO0lBQ0E7SUFDQSxFQUFFLElBQUksd0JBQXdCLEdBQUcsQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLHVCQUF1QixFQUFFLHdCQUF3QixFQUFFLDBCQUEwQixFQUFFLHdCQUF3QixFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdFA7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0EsRUFBRSxJQUFJLFNBQVMsR0FBRyxZQUFZO0lBQzlCO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxTQUFTLFNBQVMsQ0FBQyxXQUFXLEVBQUUsWUFBWSxFQUFFO0lBQ2xELE1BQU0sZUFBZSxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztBQUN2QztJQUNBO0lBQ0EsTUFBTSxJQUFJLENBQUMsYUFBYSxHQUFHLFlBQVksQ0FBQztBQUN4QztJQUNBO0lBQ0EsTUFBTSxJQUFJLENBQUMsWUFBWSxHQUFHLFdBQVcsQ0FBQztBQUN0QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsTUFBTSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDckM7SUFDQTtJQUNBLE1BQU0sSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxhQUFhLENBQUMsRUFBRTtJQUN6RDtJQUNBLFFBQVEsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzlFLE9BQU8sTUFBTTtJQUNiLFFBQVEsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztJQUNyQyxPQUFPO0lBQ1AsTUFBTSxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksQ0FBQyxhQUFhLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDNUQ7SUFDQTtJQUNBLE1BQU0sSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUN0RDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxNQUFNLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ3pFLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN0RyxLQUFLO0FBQ0w7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0FBQ0E7SUFDQSxJQUFJLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUM3QixNQUFNLEdBQUcsRUFBRSxZQUFZO0lBQ3ZCLE1BQU0sS0FBSyxFQUFFLFNBQVMsVUFBVSxHQUFHO0lBQ25DLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUNwQztJQUNBLFFBQVEsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO0lBQy9CLFVBQVUsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLEtBQUssSUFBSSxFQUFFO0lBQzlDLFlBQVksSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2pGLFdBQVcsTUFBTTtJQUNqQixZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsZUFBZSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzdELFdBQVc7SUFDWCxTQUFTO0FBQ1Q7SUFDQSxRQUFRLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQVUsU0FBUyxFQUFFO0lBQ3hELFVBQVUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0MsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ2pCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsU0FBUyxtQkFBbUIsSUFBSSxDQUFDO0lBQzlDLFFBQVEsSUFBSSxDQUFDLFlBQVksbUJBQW1CLElBQUksQ0FBQztJQUNqRCxRQUFRLElBQUksQ0FBQyxhQUFhLG1CQUFtQixJQUFJLENBQUM7SUFDbEQsUUFBUSxJQUFJLENBQUMsYUFBYSxtQkFBbUIsSUFBSSxDQUFDO0lBQ2xELE9BQU87QUFDUDtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0EsS0FBSyxFQUFFO0lBQ1AsTUFBTSxHQUFHLEVBQUUseUJBQXlCO0FBQ3BDO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxNQUFNLEtBQUssRUFBRSxTQUFTLHVCQUF1QixDQUFDLFNBQVMsRUFBRTtJQUN6RCxRQUFRLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQztBQUMxQjtJQUNBLFFBQVEsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLFVBQVUsSUFBSSxFQUFFO0lBQ3BELFVBQVUsT0FBTyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pDLFNBQVMsQ0FBQyxDQUFDO0FBQ1g7SUFDQSxRQUFRLElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUM7QUFDbkQ7SUFDQSxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRTtJQUNoRDtJQUNBLFVBQVUsSUFBSSxJQUFJLEdBQUcsU0FBUyxDQUFDO0lBQy9CO0lBQ0EsVUFBVSxJQUFJLElBQUksR0FBRyxTQUFTLENBQUM7SUFDL0IsVUFBVSxPQUFPLElBQUksRUFBRTtJQUN2QixZQUFZLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsc0JBQXNCLEVBQUU7SUFDL0QsY0FBYyxJQUFJLDZCQUE2QixJQUFJLENBQUM7SUFDcEQsY0FBYyxNQUFNO0lBQ3BCLGFBQWE7SUFDYixZQUFZLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDO0lBQ25DLFdBQVc7SUFDWCxVQUFVLElBQUksSUFBSSxFQUFFO0lBQ3BCLFlBQVksYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUM7SUFDL0MsV0FBVztJQUNYLFNBQVM7SUFDVCxRQUFRLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsRUFBRTtJQUMvQyxVQUFVLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUMvQjtJQUNBO0lBQ0E7SUFDQSxVQUFVLElBQUksYUFBYSxLQUFLLFFBQVEsQ0FBQyxhQUFhLEVBQUU7SUFDeEQsWUFBWSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2xDLFdBQVc7SUFDWCxTQUFTO0lBQ1QsT0FBTztBQUNQO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxZQUFZO0lBQ3ZCLE1BQU0sS0FBSyxFQUFFLFNBQVMsVUFBVSxDQUFDLElBQUksRUFBRTtJQUN2QyxRQUFRLElBQUksSUFBSSxDQUFDLFFBQVEsS0FBSyxJQUFJLENBQUMsWUFBWSxFQUFFO0lBQ2pELFVBQVUsT0FBTztJQUNqQixTQUFTO0lBQ1QsUUFBUSxJQUFJLE9BQU8sOEJBQThCLElBQUksQ0FBQztBQUN0RDtJQUNBO0lBQ0E7SUFDQSxRQUFRLElBQUksT0FBTyxLQUFLLElBQUksQ0FBQyxZQUFZLElBQUksT0FBTyxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUM1RSxVQUFVLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDeEMsU0FBUztBQUNUO0lBQ0EsUUFBUSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLHdCQUF3QixDQUFDLElBQUksT0FBTyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsRUFBRTtJQUNqRyxVQUFVLElBQUksQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDcEMsU0FBUztJQUNULE9BQU87QUFDUDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxhQUFhO0lBQ3hCLE1BQU0sS0FBSyxFQUFFLFNBQVMsV0FBVyxDQUFDLElBQUksRUFBRTtJQUN4QyxRQUFRLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNoRSxRQUFRLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzFDLE9BQU87QUFDUDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxlQUFlO0lBQzFCLE1BQU0sS0FBSyxFQUFFLFNBQVMsYUFBYSxDQUFDLElBQUksRUFBRTtJQUMxQyxRQUFRLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsRSxRQUFRLElBQUksU0FBUyxFQUFFO0lBQ3ZCLFVBQVUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNsRCxTQUFTO0lBQ1QsT0FBTztBQUNQO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLGtCQUFrQjtJQUM3QixNQUFNLEtBQUssRUFBRSxTQUFTLGdCQUFnQixDQUFDLFNBQVMsRUFBRTtJQUNsRCxRQUFRLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQztBQUMxQjtJQUNBLFFBQVEsZ0JBQWdCLENBQUMsU0FBUyxFQUFFLFVBQVUsSUFBSSxFQUFFO0lBQ3BELFVBQVUsT0FBTyxNQUFNLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVDLFNBQVMsQ0FBQyxDQUFDO0lBQ1gsT0FBTztBQUNQO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLGlCQUFpQjtJQUM1QixNQUFNLEtBQUssRUFBRSxTQUFTLGVBQWUsQ0FBQyxJQUFJLEVBQUU7SUFDNUMsUUFBUSxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNqRTtJQUNBO0lBQ0E7SUFDQSxRQUFRLElBQUksQ0FBQyxZQUFZLEVBQUU7SUFDM0IsVUFBVSxJQUFJLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDbEQsVUFBVSxZQUFZLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDL0QsU0FBUztBQUNUO0lBQ0EsUUFBUSxZQUFZLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxVQUFVLGNBQWMsRUFBRTtJQUNwRSxVQUFVLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hELFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNqQixPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxhQUFhO0lBQ3hCLE1BQU0sS0FBSyxFQUFFLFNBQVMsV0FBVyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUU7SUFDakQsUUFBUSxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsTUFBTSxFQUFFO0lBQzFDLFVBQVUsSUFBSSxNQUFNLDhCQUE4QixNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ2hFLFVBQVUsSUFBSSxNQUFNLENBQUMsSUFBSSxLQUFLLFdBQVcsRUFBRTtJQUMzQztJQUNBLFlBQVksS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQVUsSUFBSSxFQUFFO0lBQ2xFLGNBQWMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2pELGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNyQjtJQUNBO0lBQ0EsWUFBWSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBVSxJQUFJLEVBQUU7SUFDcEUsY0FBYyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JCLFdBQVcsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEtBQUssWUFBWSxFQUFFO0lBQ25ELFlBQVksSUFBSSxNQUFNLENBQUMsYUFBYSxLQUFLLFVBQVUsRUFBRTtJQUNyRDtJQUNBLGNBQWMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN2QyxhQUFhLE1BQU0sSUFBSSxNQUFNLEtBQUssSUFBSSxDQUFDLFlBQVksSUFBSSxNQUFNLENBQUMsYUFBYSxLQUFLLE9BQU8sSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxFQUFFO0lBQ3pIO0lBQ0E7SUFDQSxjQUFjLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsY0FBYyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUN6RSxjQUFjLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFVBQVUsV0FBVyxFQUFFO0lBQ2hFLGdCQUFnQixJQUFJLE1BQU0sQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQ3ZELGtCQUFrQixZQUFZLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM3RCxpQkFBaUI7SUFDakIsZUFBZSxDQUFDLENBQUM7SUFDakIsYUFBYTtJQUNiLFdBQVc7SUFDWCxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDakIsT0FBTztJQUNQLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLGNBQWM7SUFDekIsTUFBTSxHQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7SUFDMUIsUUFBUSxPQUFPLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMzQyxPQUFPO0FBQ1A7SUFDQTtBQUNBO0lBQ0EsS0FBSyxFQUFFO0lBQ1AsTUFBTSxHQUFHLEVBQUUsb0JBQW9CO0lBQy9CLE1BQU0sR0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0lBQzFCLFFBQVEsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLEtBQUssSUFBSSxDQUFDO0lBQzlDLE9BQU87QUFDUDtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxpQkFBaUI7SUFDNUIsTUFBTSxHQUFHLEVBQUUsU0FBUyxHQUFHLENBQUMsVUFBVSxFQUFFO0lBQ3BDLFFBQVEsSUFBSSxDQUFDLGdCQUFnQixHQUFHLFVBQVUsQ0FBQztJQUMzQyxPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0EsTUFBTSxHQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7SUFDMUIsUUFBUSxPQUFPLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztJQUNyQyxPQUFPO0lBQ1AsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUNSO0lBQ0EsSUFBSSxPQUFPLFNBQVMsQ0FBQztJQUNyQixHQUFHLEVBQUUsQ0FBQztBQUNOO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0FBQ0E7SUFDQSxFQUFFLElBQUksU0FBUyxHQUFHLFlBQVk7SUFDOUI7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLFNBQVMsU0FBUyxDQUFDLElBQUksRUFBRSxTQUFTLEVBQUU7SUFDeEMsTUFBTSxlQUFlLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ3ZDO0lBQ0E7SUFDQSxNQUFNLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0FBQ3hCO0lBQ0E7SUFDQSxNQUFNLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxLQUFLLENBQUM7QUFDeEM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLE1BQU0sSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDOUM7SUFDQTtJQUNBLE1BQU0sSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7QUFDakM7SUFDQTtJQUNBLE1BQU0sSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7QUFDOUI7SUFDQTtJQUNBLE1BQU0sSUFBSSxDQUFDLGdCQUFnQixFQUFFLENBQUM7SUFDOUIsS0FBSztBQUNMO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtBQUNBO0lBQ0EsSUFBSSxZQUFZLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDN0IsTUFBTSxHQUFHLEVBQUUsWUFBWTtJQUN2QixNQUFNLEtBQUssRUFBRSxTQUFTLFVBQVUsR0FBRztJQUNuQyxRQUFRLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0FBQ2pDO0lBQ0EsUUFBUSxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLFlBQVksRUFBRTtJQUNyRSxVQUFVLElBQUksT0FBTyw4QkFBOEIsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUM5RCxVQUFVLElBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxJQUFJLEVBQUU7SUFDNUMsWUFBWSxPQUFPLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDbEUsV0FBVyxNQUFNO0lBQ2pCLFlBQVksT0FBTyxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNoRCxXQUFXO0FBQ1g7SUFDQTtJQUNBLFVBQVUsSUFBSSxJQUFJLENBQUMsb0JBQW9CLEVBQUU7SUFDekMsWUFBWSxPQUFPLE9BQU8sQ0FBQyxLQUFLLENBQUM7SUFDakMsV0FBVztJQUNYLFNBQVM7QUFDVDtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsS0FBSyxtQkFBbUIsSUFBSSxDQUFDO0lBQzFDLFFBQVEsSUFBSSxDQUFDLFdBQVcsbUJBQW1CLElBQUksQ0FBQztJQUNoRCxRQUFRLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO0lBQy9CLE9BQU87QUFDUDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxtQkFBbUI7QUFDOUI7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLE1BQU0sS0FBSyxFQUFFLFNBQVMsaUJBQWlCLEdBQUc7SUFDMUMsUUFBUSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7SUFDNUIsVUFBVSxNQUFNLElBQUksS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7SUFDbEUsU0FBUztJQUNULE9BQU87QUFDUDtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxrQkFBa0I7QUFDN0I7QUFDQTtJQUNBO0lBQ0EsTUFBTSxLQUFLLEVBQUUsU0FBUyxnQkFBZ0IsR0FBRztJQUN6QyxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEtBQUssSUFBSSxDQUFDLFlBQVksRUFBRTtJQUN0RCxVQUFVLE9BQU87SUFDakIsU0FBUztJQUNULFFBQVEsSUFBSSxPQUFPLDhCQUE4QixJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzNELFFBQVEsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSx3QkFBd0IsQ0FBQyxFQUFFO0lBQzdELFVBQVUsZ0NBQWdDLE9BQU8sQ0FBQyxRQUFRLEtBQUssQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFFO0lBQzVGLFlBQVksT0FBTztJQUNuQixXQUFXO0FBQ1g7SUFDQSxVQUFVLElBQUksT0FBTyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsRUFBRTtJQUNoRCxZQUFZLElBQUksQ0FBQyxjQUFjLDhCQUE4QixPQUFPLENBQUMsUUFBUSxDQUFDO0lBQzlFLFdBQVc7SUFDWCxVQUFVLE9BQU8sQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pELFVBQVUsSUFBSSxPQUFPLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxZQUFZLEVBQUU7SUFDdEQsWUFBWSxPQUFPLENBQUMsS0FBSyxHQUFHLFlBQVksRUFBRSxDQUFDO0lBQzNDLFlBQVksSUFBSSxDQUFDLG9CQUFvQixHQUFHLElBQUksQ0FBQztJQUM3QyxXQUFXO0lBQ1gsU0FBUyxNQUFNLElBQUksT0FBTyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsRUFBRTtJQUNyRCxVQUFVLElBQUksQ0FBQyxjQUFjLDhCQUE4QixPQUFPLENBQUMsUUFBUSxDQUFDO0lBQzVFLFVBQVUsT0FBTyxDQUFDLGVBQWUsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM5QyxTQUFTO0lBQ1QsT0FBTztBQUNQO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLGNBQWM7SUFDekIsTUFBTSxLQUFLLEVBQUUsU0FBUyxZQUFZLENBQUMsU0FBUyxFQUFFO0lBQzlDLFFBQVEsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDakMsUUFBUSxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN4QyxPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLGlCQUFpQjtJQUM1QixNQUFNLEtBQUssRUFBRSxTQUFTLGVBQWUsQ0FBQyxTQUFTLEVBQUU7SUFDakQsUUFBUSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUNqQyxRQUFRLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDOUMsUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRTtJQUN6QyxVQUFVLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM1QixTQUFTO0lBQ1QsT0FBTztJQUNQLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLFdBQVc7SUFDdEIsTUFBTSxHQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7SUFDMUIsUUFBUSxpQ0FBaUMsSUFBSSxDQUFDLFVBQVU7SUFDeEQsVUFBVTtJQUNWLE9BQU87SUFDUCxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxrQkFBa0I7SUFDN0IsTUFBTSxHQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7SUFDMUIsUUFBUSxPQUFPLElBQUksQ0FBQyxjQUFjLEtBQUssSUFBSSxDQUFDO0lBQzVDLE9BQU87QUFDUDtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxNQUFNO0lBQ2pCLE1BQU0sR0FBRyxFQUFFLFNBQVMsR0FBRyxHQUFHO0lBQzFCLFFBQVEsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDakMsUUFBUSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDMUIsT0FBTztBQUNQO0lBQ0E7QUFDQTtJQUNBLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLGVBQWU7SUFDMUIsTUFBTSxHQUFHLEVBQUUsU0FBUyxHQUFHLENBQUMsUUFBUSxFQUFFO0lBQ2xDLFFBQVEsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDakMsUUFBUSxJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQztJQUN2QyxPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0EsTUFBTSxHQUFHLEVBQUUsU0FBUyxHQUFHLEdBQUc7SUFDMUIsUUFBUSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUNqQyxRQUFRLE9BQU8sSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUNuQyxPQUFPO0lBQ1AsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUNSO0lBQ0EsSUFBSSxPQUFPLFNBQVMsQ0FBQztJQUNyQixHQUFHLEVBQUUsQ0FBQztBQUNOO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7QUFDQTtJQUNBLEVBQUUsSUFBSSxZQUFZLEdBQUcsWUFBWTtJQUNqQztJQUNBO0lBQ0E7SUFDQSxJQUFJLFNBQVMsWUFBWSxDQUFDLFFBQVEsRUFBRTtJQUNwQyxNQUFNLGVBQWUsQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDMUM7SUFDQSxNQUFNLElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDckIsUUFBUSxNQUFNLElBQUksS0FBSyxDQUFDLG1FQUFtRSxDQUFDLENBQUM7SUFDN0YsT0FBTztBQUNQO0lBQ0E7SUFDQSxNQUFNLElBQUksQ0FBQyxTQUFTLEdBQUcsUUFBUSxDQUFDO0FBQ2hDO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxNQUFNLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQztBQUNyQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsTUFBTSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDbkM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLE1BQU0sSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLGdCQUFnQixDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDNUU7SUFDQTtJQUNBLE1BQU0sYUFBYSxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksUUFBUSxDQUFDLElBQUksSUFBSSxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDaEY7SUFDQTtJQUNBLE1BQU0sSUFBSSxRQUFRLENBQUMsVUFBVSxLQUFLLFNBQVMsRUFBRTtJQUM3QyxRQUFRLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDekYsT0FBTyxNQUFNO0lBQ2IsUUFBUSxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztJQUNqQyxPQUFPO0lBQ1AsS0FBSztBQUNMO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0FBQ0E7SUFDQSxJQUFJLFlBQVksQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUNoQyxNQUFNLEdBQUcsRUFBRSxVQUFVO0lBQ3JCLE1BQU0sS0FBSyxFQUFFLFNBQVMsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUU7SUFDNUMsUUFBUSxJQUFJLEtBQUssRUFBRTtJQUNuQixVQUFVLElBQUksSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDMUM7SUFDQSxZQUFZLE9BQU87SUFDbkIsV0FBVztBQUNYO0lBQ0EsVUFBVSxJQUFJLFNBQVMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEQsVUFBVSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6QyxVQUFVLElBQUksQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNoRDtJQUNBO0lBQ0EsVUFBVSxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQ25ELFlBQVksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUN6QyxZQUFZLE9BQU8sTUFBTSxFQUFFO0lBQzNCLGNBQWMsSUFBSSxNQUFNLENBQUMsUUFBUSxLQUFLLEVBQUUsRUFBRTtJQUMxQyxnQkFBZ0IsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3RDLGVBQWU7SUFDZixjQUFjLE1BQU0sR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDO0lBQ3pDLGFBQWE7SUFDYixXQUFXO0lBQ1gsU0FBUyxNQUFNO0lBQ2YsVUFBVSxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUU7SUFDM0M7SUFDQSxZQUFZLE9BQU87SUFDbkIsV0FBVztBQUNYO0lBQ0EsVUFBVSxJQUFJLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN0RCxVQUFVLFVBQVUsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUNsQyxVQUFVLElBQUksQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDM0MsVUFBVSxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLFNBQVM7SUFDVCxPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxLQUFLLEVBQUU7SUFDUCxNQUFNLEdBQUcsRUFBRSxjQUFjO0lBQ3pCLE1BQU0sS0FBSyxFQUFFLFNBQVMsWUFBWSxDQUFDLE9BQU8sRUFBRTtJQUM1QyxRQUFRLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDN0MsT0FBTztBQUNQO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0EsS0FBSyxFQUFFO0lBQ1AsTUFBTSxHQUFHLEVBQUUsVUFBVTtJQUNyQixNQUFNLEtBQUssRUFBRSxTQUFTLFFBQVEsQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFO0lBQ2hELFFBQVEsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckQsUUFBUSxJQUFJLFNBQVMsS0FBSyxTQUFTLEVBQUU7SUFDckM7SUFDQSxVQUFVLFNBQVMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDNUMsU0FBUyxNQUFNO0lBQ2YsVUFBVSxTQUFTLEdBQUcsSUFBSSxTQUFTLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ3JELFNBQVM7QUFDVDtJQUNBLFFBQVEsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0FBQ2hEO0lBQ0EsUUFBUSxPQUFPLFNBQVMsQ0FBQztJQUN6QixPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLFlBQVk7SUFDdkIsTUFBTSxLQUFLLEVBQUUsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFLFNBQVMsRUFBRTtJQUNsRCxRQUFRLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JELFFBQVEsSUFBSSxDQUFDLFNBQVMsRUFBRTtJQUN4QixVQUFVLE9BQU8sSUFBSSxDQUFDO0lBQ3RCLFNBQVM7QUFDVDtJQUNBLFFBQVEsU0FBUyxDQUFDLGVBQWUsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM3QyxRQUFRLElBQUksU0FBUyxDQUFDLFNBQVMsRUFBRTtJQUNqQyxVQUFVLElBQUksQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0MsU0FBUztBQUNUO0lBQ0EsUUFBUSxPQUFPLFNBQVMsQ0FBQztJQUN6QixPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLEtBQUssRUFBRTtJQUNQLE1BQU0sR0FBRyxFQUFFLG1CQUFtQjtJQUM5QixNQUFNLEtBQUssRUFBRSxTQUFTLGlCQUFpQixHQUFHO0lBQzFDO0lBQ0EsUUFBUSxJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNuRixRQUFRLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBVSxZQUFZLEVBQUU7SUFDdEQsVUFBVSxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM1QyxTQUFTLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDakI7SUFDQTtJQUNBLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFlLEVBQUUsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDNUksT0FBTztBQUNQO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0EsS0FBSyxFQUFFO0lBQ1AsTUFBTSxHQUFHLEVBQUUsZ0JBQWdCO0lBQzNCLE1BQU0sS0FBSyxFQUFFLFNBQVMsY0FBYyxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUU7SUFDcEQsUUFBUSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDekIsUUFBUSxPQUFPLENBQUMsT0FBTyxDQUFDLFVBQVUsTUFBTSxFQUFFO0lBQzFDLFVBQVUsUUFBUSxNQUFNLENBQUMsSUFBSTtJQUM3QixZQUFZLEtBQUssV0FBVztJQUM1QixjQUFjLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLElBQUksRUFBRTtJQUNwRSxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLElBQUksQ0FBQyxZQUFZLEVBQUU7SUFDekQsa0JBQWtCLE9BQU87SUFDekIsaUJBQWlCO0lBQ2pCLGdCQUFnQixJQUFJLGFBQWEsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ2pGLGdCQUFnQixJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxFQUFFO0lBQ25ELGtCQUFrQixhQUFhLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlDLGlCQUFpQjtJQUNqQixnQkFBZ0IsYUFBYSxDQUFDLE9BQU8sQ0FBQyxVQUFVLFlBQVksRUFBRTtJQUM5RCxrQkFBa0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEQsaUJBQWlCLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDMUIsZUFBZSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3hCLGNBQWMsTUFBTTtJQUNwQixZQUFZLEtBQUssWUFBWTtJQUM3QixjQUFjLElBQUksTUFBTSxDQUFDLGFBQWEsS0FBSyxPQUFPLEVBQUU7SUFDcEQsZ0JBQWdCLE9BQU87SUFDdkIsZUFBZTtJQUNmLGNBQWMsSUFBSSxNQUFNLDhCQUE4QixNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ3BFLGNBQWMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN2RCxjQUFjLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzVDLGNBQWMsTUFBTTtJQUNwQixXQUFXO0lBQ1gsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2pCLE9BQU87SUFDUCxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ1I7SUFDQSxJQUFJLE9BQU8sWUFBWSxDQUFDO0lBQ3hCLEdBQUcsRUFBRSxDQUFDO0FBQ047SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0FBQ0E7SUFDQSxFQUFFLFNBQVMsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRSxrQkFBa0IsRUFBRTtJQUNoRSxJQUFJLElBQUksSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO0lBQzVDLE1BQU0sSUFBSSxPQUFPLDhCQUE4QixJQUFJLENBQUM7SUFDcEQsTUFBTSxJQUFJLFFBQVEsRUFBRTtJQUNwQixRQUFRLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQixPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLE1BQU0sSUFBSSxVQUFVLDhCQUE4QixPQUFPLENBQUMsVUFBVSxDQUFDO0lBQ3JFLE1BQU0sSUFBSSxVQUFVLEVBQUU7SUFDdEIsUUFBUSxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsUUFBb0IsQ0FBQyxDQUFDO0lBQzNELFFBQVEsT0FBTztJQUNmLE9BQU87QUFDUDtJQUNBO0lBQ0E7SUFDQTtJQUNBLE1BQU0sSUFBSSxPQUFPLENBQUMsU0FBUyxJQUFJLFNBQVMsRUFBRTtJQUMxQyxRQUFRLElBQUksT0FBTyxxQ0FBcUMsT0FBTyxDQUFDO0lBQ2hFO0lBQ0EsUUFBUSxJQUFJLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFDaEcsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzFELFVBQVUsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLEVBQUUsUUFBNEIsQ0FBQyxDQUFDO0lBQzlFLFNBQVM7SUFDVCxRQUFRLE9BQU87SUFDZixPQUFPO0FBQ1A7SUFDQTtJQUNBO0lBQ0E7SUFDQSxNQUFNLElBQUksT0FBTyxDQUFDLFNBQVMsSUFBSSxNQUFNLEVBQUU7SUFDdkMsUUFBUSxJQUFJLElBQUksa0NBQWtDLE9BQU8sQ0FBQztJQUMxRDtJQUNBLFFBQVEsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7SUFDaEcsUUFBUSxLQUFLLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxFQUFFLEdBQUcsaUJBQWlCLENBQUMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQzlELFVBQVUsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUMsRUFBRSxDQUFDLEVBQUUsUUFBNEIsQ0FBQyxDQUFDO0lBQ2hGLFNBQVM7SUFDVCxRQUFRLE9BQU87SUFDZixPQUFPO0lBQ1AsS0FBSztBQUNMO0lBQ0E7SUFDQTtJQUNBLElBQUksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQztJQUNoQyxJQUFJLE9BQU8sS0FBSyxJQUFJLElBQUksRUFBRTtJQUMxQixNQUFNLGdCQUFnQixDQUFDLEtBQUssRUFBRSxRQUE0QixDQUFDLENBQUM7SUFDNUQsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQztJQUNoQyxLQUFLO0lBQ0wsR0FBRztBQUNIO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxFQUFFLFNBQVMsYUFBYSxDQUFDLElBQUksRUFBRTtJQUMvQixJQUFJLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxxQ0FBcUMsQ0FBQyxFQUFFO0lBQ25FLE1BQU0sT0FBTztJQUNiLEtBQUs7SUFDTCxJQUFJLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDaEQsSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxhQUFhLENBQUMsQ0FBQztJQUM1QyxJQUFJLEtBQUssQ0FBQyxXQUFXLEdBQUcsSUFBSSxHQUFHLGFBQWEsR0FBRywyQkFBMkIsR0FBRyxzQkFBc0IsR0FBRyxLQUFLLEdBQUcsSUFBSSxHQUFHLHdCQUF3QixHQUFHLGdDQUFnQyxHQUFHLDZCQUE2QixHQUFHLDRCQUE0QixHQUFHLHdCQUF3QixHQUFHLEtBQUssQ0FBQztJQUNuUixJQUFJLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUIsR0FBRztBQUNIO0lBQ0EsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLEVBQUU7SUFDdEQ7SUFDQSxJQUFJLElBQUksWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ2xEO0lBQ0EsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsT0FBTyxFQUFFO0lBQzFELE1BQU0sVUFBVSxFQUFFLElBQUk7SUFDdEI7SUFDQSxNQUFNLEdBQUcsRUFBRSxTQUFTLEdBQUcsR0FBRztJQUMxQixRQUFRLE9BQU8sSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQyxPQUFPO0lBQ1A7SUFDQSxNQUFNLEdBQUcsRUFBRSxTQUFTLEdBQUcsQ0FBQyxLQUFLLEVBQUU7SUFDL0IsUUFBUSxZQUFZLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztJQUMzQyxPQUFPO0lBQ1AsS0FBSyxDQUFDLENBQUM7SUFDUCxHQUFHO0lBQ0gsQ0FBQyxHQUFHOztJQzV6QkUsU0FBVSxXQUFXLENBQUMsT0FBYyxJQUFJLFFBQVEsT0FBTyxFQUFFLGFBQWEsSUFBSSxRQUFRLElBQUksTUFBTSxDQUFDLFFBQVEsSUFBSSxVQUFVLENBQUMsUUFBUSxFQUFFOztJQ01wSSxTQUFTLGdCQUFnQixLQUFLLE9BQVEsV0FBVyxFQUFtQyxDQUFDLGlCQUFpQixDQUFBLEVBQUU7SUFDeEc7Ozs7Ozs7SUFPRztJQUNhLFNBQUEsa0JBQWtCLENBQW9CLE9BQWdCLEVBQUUsU0FBMkIsRUFBQTtJQUUvRixJQUFBLE1BQU0sZUFBZSxHQUFHLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBRXJELElBQUEsTUFBTSxXQUFXLEdBQUcsaUJBQWlCLENBQUMsT0FBTyxTQUFTLEVBQUUsRUFBRSxhQUFhLElBQUksVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDakcsSUFBQSxnQkFBZ0IsQ0FBQztJQUNiLFFBQUEsdUJBQXVCLEVBQUU7Z0JBQ3JCLFdBQVc7SUFDWCxZQUFBLHlCQUF5QixFQUFFLGlCQUFpQixDQUFDLENBQUMsQ0FBVSxLQUFJO0lBQ3hELGdCQUFBLElBQUksQ0FBQyxFQUFFO0lBQ0gsb0JBQUEsSUFBSSxPQUFPOzRCQUNQLHFCQUFxQixDQUFDLENBQWdCLENBQUMsQ0FBQzs7NEJBRXhDLHVCQUF1QixDQUFDLENBQWdCLENBQUMsQ0FBQztJQUNqRCxpQkFBQTtJQUNMLGFBQUMsQ0FBQztJQUNMLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQTtJQUVGLElBQUEsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsR0FBRyxlQUFlLENBQTRCLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztJQUN0RixJQUFBLE1BQU0sQ0FBQyx1QkFBdUIsRUFBRSx1QkFBdUIsQ0FBQyxHQUFHLGVBQWUsQ0FBNEIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3hILElBQUEsTUFBTSxDQUFDLHFCQUFxQixFQUFFLHFCQUFxQixDQUFDLEdBQUcsZUFBZSxDQUE0QixJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFcEg7O0lBRUc7UUFDSHFQLENBQWUsQ0FBQyxNQUFLO0lBQ2pCLFFBQUEsTUFBTSxNQUFNLEdBQUcsZUFBZSxFQUFFLENBQUM7SUFFakMsUUFBQSxJQUFJLE9BQU8sRUFBRTs7Ozs7Z0JBTVQsSUFBSTtJQUNBLGdCQUFBLGdCQUFnQixFQUFFLENBQUMsSUFBSSxDQUFDLE1BQWdDLENBQUMsQ0FBQztvQkFFMUQsTUFBTSxDQUFDLE1BQWdDLENBQUMsQ0FBQztJQUN6QyxnQkFBQSxPQUFPLE1BQUs7SUFDUixvQkFBQSxnQkFBZ0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxNQUFnQyxDQUFDLENBQUM7SUFDaEUsaUJBQUMsQ0FBQztJQUNMLGFBQUE7SUFDRCxZQUFBLE9BQU8sRUFBRSxFQUFFOztJQUVQLGdCQUFBLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDckIsYUFBQTtJQUNKLFNBQUE7SUFDTCxLQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBRWQsSUFBQSxPQUFPLEVBQUUsTUFBTSxFQUFFLHVCQUF1QixFQUFFLHFCQUFxQixFQUFFLENBQUE7SUFDckU7O0lDakJBO0lBRU0sU0FBVSxZQUFZLENBQXFFLEVBQzdGLG1CQUFtQixFQUFFLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsV0FBVyxFQUFFLG1CQUFtQixFQUFFLEVBQ25ILG9CQUFvQixFQUM4QixFQUFBO0lBRWxELElBQUEsTUFBTSxFQUFFLGVBQWUsRUFBRSxHQUFHLElBQUksRUFBRSxJQUFJLG9CQUFvQixJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBSWxFLElBQUEsTUFBTSxTQUFTLEdBQUcsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUN2RCxJQUFBLE1BQU0sV0FBVyxHQUFHLGlCQUFpQixDQUFDLG1CQUFtQixDQUFDLENBQUM7UUFFM0RKLENBQVMsQ0FBQyxNQUFLO0lBQ1gsUUFBQSxJQUFJLFVBQVUsRUFBRTtJQUNaLFlBQUEsSUFBSSxHQUFHLEdBQUcsTUFBTSxFQUFFLENBQUM7SUFDbkIsWUFBbUMscUJBQXFCLEdBQUc7SUFFM0QsWUFHSztJQUNELGdCQUFBLEdBQUcsS0FBSyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQTRCLENBQUM7SUFDaEUsZ0JBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEIsZ0JBQUEsSUFBSSxHQUFHO3dCQUNILFNBQVMsQ0FBQyxHQUEwQixFQUFFLE1BQU0sa0JBQWtCLENBQUMsR0FBSSxDQUFDLENBQUMsQ0FBQztJQUM3RSxhQUFBO0lBQ0osU0FBQTtJQUNJLGFBQUE7SUFDRCxZQUFBLE1BQU0sVUFBVSxHQUFHLHVCQUF1QixFQUFFLENBQUM7SUFDN0MsWUFBQSxJQUFJLFVBQVU7b0JBQ1YsV0FBVyxDQUFDLFVBQWtDLENBQUMsQ0FBQztJQUN2RCxTQUFBO0lBQ0wsS0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQTtJQUVoQixJQUFBLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLGFBQWEsQ0FBSTtJQUMxQyxRQUFBLG9CQUFvQixFQUFFLEVBQUUsZUFBZSxFQUFFLEdBQUcsSUFBSSxFQUFFO0lBQ3JELEtBQUEsQ0FBQyxDQUFBO0lBQ0YsSUFBQSxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsZ0JBQWdCLENBQUM7SUFFeEMsSUFBQSxNQUFNLEVBQUUsTUFBTSxFQUFFLHVCQUF1QixFQUFFLHFCQUFxQixFQUFFLEdBQUcsa0JBQWtCLENBQUMsVUFBVSxJQUFJLENBQUMsYUFBYSxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBR2hJLE9BQU87WUFDSCxnQkFBZ0I7SUFDaEIsUUFBQSxlQUFlLEVBQUUsRUFBRSxhQUFhLEVBQUUsRUFBRSxZQUFZLEVBQUUsVUFBVSxHQUFHLE1BQU0sR0FBRyxTQUFTLEVBQTZCLEVBQUU7U0FDbkgsQ0FBQztJQUNOLENBQUM7SUFFRDs7OztJQUlHO0lBQ0csU0FBVSxrQkFBa0IsQ0FBaUIsT0FBVSxFQUFBO0lBQ3pELElBQUEsT0FBTyxrQkFBa0IsQ0FBSSxPQUFPLEVBQUUsSUFBSSxJQUFJLElBQUksWUFBWSxPQUFPLElBQUksV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDaEcsQ0FBQztJQVdELFNBQVMsa0JBQWtCLENBQWlCLE9BQVUsRUFBRSxNQUErQixFQUFBO0lBQ25GLElBQUEsSUFBSSxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUMxQixRQUFBLE9BQU8sT0FBTyxDQUFDO0lBRW5CLElBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDMUIsSUFBQSxPQUFPLEtBQUssUUFBUSxDQUFDLElBQWlCLENBQUM7SUFDdkMsSUFBQSxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxZQUFZLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxJQUFJLE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLFVBQVUsQ0FBQyxhQUFhLEdBQUcsVUFBVSxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQTtJQUM1SyxJQUFBLE1BQU0sY0FBYyxHQUFHLFVBQVUsQ0FBQyxVQUFVLEVBQWMsQ0FBQztJQUMzRCxJQUFBLE9BQU8sY0FBYyxDQUFDO0lBQzFCOztJQ2RBO0lBQ0E7SUFFQTs7Ozs7SUFLRzthQUNhLG1CQUFtQixDQUFxRSxFQUNwRyxvQkFBb0IsRUFDcEIsMEJBQTBCLEVBQ3NDLEVBQUE7SUFFaEUsSUFBQSxNQUFNLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsRUFBRSxHQUFHLDBCQUEwQixDQUFDO0lBQ2xJLElBQUEsTUFBTSxFQUFFLGdCQUFnQixFQUFFLGdCQUFnQixFQUFFLEdBQUcsb0JBQW9CLENBQUM7UUFFcEUsTUFBTSxnQkFBZ0IsR0FBR1ksR0FBVyxDQUFDLENBQUMsQ0FBUyxFQUFFLENBQUksRUFBRSxtQkFBNEIsS0FBSTtJQUNuRixRQUFBLE1BQU0sTUFBTSxHQUFHLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNqQyxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsa0JBQWtCLENBQUMsRUFBRSxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUNuSixRQUFBLGdCQUFnQixDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztTQUNuRCxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ1AsTUFBTSxlQUFlLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFJLEVBQUUsbUJBQTRCLEtBQUksRUFBRyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLG1CQUFtQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDcEksTUFBTSxjQUFjLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFJLEVBQUUsbUJBQTRCLEtBQU8sRUFBQSxnQkFBZ0IsQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLEVBQUUsbUJBQW1CLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNuSixJQUFBLE1BQU0saUJBQWlCLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFJLEVBQUUsTUFBYyxFQUFFLG1CQUE0QixFQUFFLElBQXVCLEtBQTRCO1lBQ2hKLE1BQU0sUUFBUSxJQUFJLGdCQUFnQixFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDM0MsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxlQUFlLEVBQUUsRUFBRSxjQUFjLEVBQUUsWUFBWSxFQUFFLGVBQWUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBVyxFQUFFLE1BQU0sRUFBRSxjQUFjLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUM1TyxJQUFJLE1BQU0sSUFBSSxVQUFVLEVBQUU7Z0JBQ3RCLElBQUksZUFBZSxJQUFJLE1BQU0sRUFBRTtvQkFDM0IsSUFBSSxJQUFJLElBQUksUUFBUTtJQUNoQixvQkFBQSxlQUFlLENBQUMsQ0FBQyxFQUFFLG1CQUFtQixDQUFDLENBQUM7SUFDdkMscUJBQUE7Ozs7OztJQU9ELG9CQUdJLGNBQWMsQ0FBQyxDQUFDLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztJQUM5QyxpQkFBQTtJQUNELGdCQUFBLE9BQU8sTUFBTSxDQUFDO0lBQ2pCLGFBQUE7cUJBQ0ksSUFBSSxlQUFlLElBQUksYUFBYSxFQUFFO0lBQ3ZDLGdCQUFBLE9BQU8sYUFBYSxDQUFDO0lBQ3hCLGFBQUE7SUFDSSxpQkFBQTtJQUNELGdCQUFBLGVBQWUsRUFBRSxDQUFDO0lBQ2xCLGdCQUFBLE9BQU8sTUFBTSxDQUFDO0lBQ2pCLGFBQUE7SUFDSixTQUFBO2lCQUNJLElBQUksTUFBTSxJQUFJLFlBQVksRUFBRTtnQkFDN0IsSUFBSSxpQkFBaUIsSUFBSSxNQUFNLEVBQUU7b0JBQzdCLElBQUksSUFBSSxJQUFJLFFBQVEsRUFBRTtJQUNsQixvQkFBQSxjQUFjLENBQUMsQ0FBQyxFQUFFLG1CQUFtQixDQUFDLENBQUM7SUFDMUMsaUJBQUE7SUFDSSxxQkFBQTs7O0lBR0Qsb0JBR0ksZUFBZSxDQUFDLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0lBQy9DLGlCQUFBO0lBQ0QsZ0JBQUEsT0FBTyxNQUFNLENBQUM7SUFDakIsYUFBQTtxQkFDSSxJQUFJLGlCQUFpQixJQUFJLGFBQWEsRUFBRTtJQUN6QyxnQkFBQSxPQUFPLGFBQWEsQ0FBQztJQUN4QixhQUFBO0lBQ0ksaUJBQUE7SUFDRCxnQkFBQSxpQkFBaUIsRUFBRSxDQUFDO0lBQ3BCLGdCQUFBLE9BQU8sTUFBTSxDQUFDO0lBQ2pCLGFBQUE7SUFDSixTQUFBO0lBQ0ksYUFBQTtJQUNELFlBQUEsZ0JBQWdCLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO0lBQ2hELFlBQUEsT0FBTyxNQUFNLENBQUM7SUFDakIsU0FBQTtJQUNMLEtBQUMsQ0FBQyxDQUFBO1FBQ0YsTUFBTSxjQUFjLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFJLEVBQUUsbUJBQTRCLEtBQUk7WUFDNUUsT0FBTyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLG1CQUFtQixFQUFFLFFBQVEsQ0FBQyxDQUFDOztJQUVsRSxLQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sY0FBYyxHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBSSxFQUFFLG1CQUE0QixLQUFJO1lBQzVFLE9BQU8saUJBQWlCLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLG1CQUFtQixFQUFFLFFBQVEsQ0FBQyxDQUFDOztJQUVuRSxLQUFDLENBQUMsQ0FBQztRQUNILE1BQU0sbUJBQW1CLEdBQUcsZUFBZSxDQUFDLDBCQUEwQixDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDekYsTUFBTSxxQkFBcUIsR0FBRyxlQUFlLENBQUMsMEJBQTBCLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUM3RixNQUFNLHNCQUFzQixHQUFHLGVBQWUsQ0FBQywwQkFBMEIsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQy9GLE1BQU0scUJBQXFCLEdBQUcsZUFBZSxDQUFDLDBCQUEwQixDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFHN0YsTUFBTSxXQUFXLEdBQUdQLENBQU0sQ0FBNkM7SUFDbkUsUUFBQSxTQUFTLEVBQUUsQ0FBQyxDQUFvRCxLQUFJOztJQUVoRSxZQUFBLElBQUksQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsT0FBTztvQkFDdEIsT0FBTzs7SUFHWCxZQUFBLE1BQU0sbUJBQW1CLEdBQUcsc0JBQXNCLEVBQUUsQ0FBQztJQUNyRCxZQUFBLE1BQU0sZ0JBQWdCLEdBQUcsbUJBQW1CLEVBQUUsQ0FBQztJQUMvQyxZQUFBLE1BQU0sa0JBQWtCLEdBQUcscUJBQXFCLEVBQUUsQ0FBQztJQUNuRCxZQUFBLE1BQU0sa0JBQWtCLEdBQUcscUJBQXFCLEVBQUUsQ0FBQztnQkFFbkQsTUFBTSx3QkFBd0IsSUFBSSxtQkFBbUIsSUFBSSxVQUFVLElBQUksbUJBQW1CLElBQUksUUFBUSxDQUFDLENBQUM7Z0JBQ3hHLE1BQU0sMEJBQTBCLElBQUksbUJBQW1CLElBQUksWUFBWSxJQUFJLG1CQUFtQixJQUFJLFFBQVEsQ0FBQyxDQUFDO2dCQUU1RyxJQUFJLHNCQUFzQixHQUFHLGtCQUFrQixDQUFDO2dCQUNoRCxJQUFJLHNCQUFzQixHQUFHLENBQUMsRUFBRTtJQUM1QixnQkFBQSxzQkFBc0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLGVBQWUsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEcsYUFBQTtnQkFFRCxRQUFRLENBQUMsQ0FBQyxHQUFHO29CQUNULEtBQUssU0FBUyxFQUFFOzt3QkFFWixNQUFNLGdCQUFnQixJQUFJLENBQUMsZ0JBQWdCLElBQUksd0JBQXdCLENBQUMsQ0FBQztJQUN6RSxvQkFBQSxJQUFJLGdCQUFnQixFQUFFOzRCQUNsQixNQUFNLE1BQU0sR0FBRyxjQUFjLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDOzRCQUN2QyxJQUFJLE1BQU0sSUFBSSxhQUFhLEVBQUU7Z0NBQ3pCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQ0FDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3ZCLHlCQUFBO0lBQ0oscUJBQUE7d0JBQ0QsTUFBTTtJQUNULGlCQUFBO29CQUNELEtBQUssV0FBVyxFQUFFO3dCQUNkLE1BQU0sZ0JBQWdCLElBQUksQ0FBQyxnQkFBZ0IsSUFBSSx3QkFBd0IsQ0FBQyxDQUFDO0lBQ3pFLG9CQUFBLElBQUksZ0JBQWdCLEVBQUU7NEJBQ2xCLE1BQU0sTUFBTSxHQUFHLGNBQWMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7NEJBQ3ZDLElBQUksTUFBTSxJQUFJLGFBQWEsRUFBRTtnQ0FDekIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dDQUNuQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDdkIseUJBQUE7SUFDSixxQkFBQTt3QkFDRCxNQUFNO0lBQ1QsaUJBQUE7b0JBRUQsS0FBSyxXQUFXLEVBQUU7d0JBQ2QsTUFBTSxnQkFBZ0IsSUFBSSxDQUFDLGdCQUFnQixJQUFJLDBCQUEwQixDQUFDLENBQUM7SUFDM0Usb0JBQUEsSUFBSSxnQkFBZ0IsRUFBRTs0QkFDbEIsTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzs0QkFDdkMsSUFBSSxNQUFNLElBQUksYUFBYSxFQUFFO2dDQUN6QixDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7Z0NBQ25CLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2Qix5QkFBQTtJQUNKLHFCQUFBO3dCQUNELE1BQU07SUFDVCxpQkFBQTtvQkFDRCxLQUFLLFlBQVksRUFBRTt3QkFDZixNQUFNLGdCQUFnQixJQUFJLENBQUMsZ0JBQWdCLElBQUksMEJBQTBCLENBQUMsQ0FBQztJQUMzRSxvQkFBQSxJQUFJLGdCQUFnQixFQUFFOzRCQUNsQixNQUFNLE1BQU0sR0FBRyxjQUFjLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDOzRCQUN2QyxJQUFJLE1BQU0sSUFBSSxhQUFhLEVBQUU7Z0NBQ3pCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztnQ0FDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3ZCLHlCQUFBO0lBQ0oscUJBQUE7d0JBQ0QsTUFBTTtJQUNULGlCQUFBO29CQUNELEtBQUssUUFBUSxFQUFFO3dCQUNYLElBQUksc0JBQXNCLEdBQUcsQ0FBQyxFQUFFOzRCQUM1QixpQkFBaUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxzQkFBc0IsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7NEJBQzVELENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQzs0QkFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3ZCLHFCQUFBO3dCQUNELE1BQU07SUFDVCxpQkFBQTtvQkFDRCxLQUFLLFVBQVUsRUFBRTt3QkFDYixJQUFJLHNCQUFzQixHQUFHLENBQUMsRUFBRTs0QkFDNUIsaUJBQWlCLENBQUMsQ0FBQyxFQUFFLHNCQUFzQixFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQzs0QkFDM0QsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDOzRCQUNuQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDdkIscUJBQUE7d0JBQ0QsTUFBTTtJQUNULGlCQUFBO0lBQ0QsZ0JBQUEsS0FBSyxNQUFNO3dCQUNQLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtJQUNyQix3QkFBQSxlQUFlLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDOzRCQUN6QixDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7NEJBQ25CLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QixxQkFBQTt3QkFDRCxNQUFNO0lBRVYsZ0JBQUEsS0FBSyxLQUFLO3dCQUNOLElBQUksQ0FBQyxrQkFBa0IsRUFBRTtJQUNyQix3QkFBQSxjQUFjLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDOzRCQUN4QixDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7NEJBQ25CLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QixxQkFBQTt3QkFDRCxNQUFNO0lBQ2IsYUFBQTthQUNKO0lBQ0osS0FBQSxDQUFDLENBQUE7UUFHRixPQUFPO0lBQ0gsUUFBQSxzQkFBc0IsRUFBRTtnQkFDcEIsV0FBVyxFQUFFLFdBQVcsQ0FBQyxPQUFPO0lBQ25DLFNBQUE7U0FDSixDQUFBO0lBR0wsQ0FBQztJQWlCZSxTQUFBLGtCQUFrQixDQUFDLEVBQUUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBZ0MsRUFBQTtJQUVsSixJQUFBLElBQUksZUFBZSxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ3hCLElBQUksWUFBWSxHQUF1QyxTQUFTLENBQUM7SUFDakUsUUFBQSxZQUFZLEdBQUcsYUFBYSxDQUFDLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztJQUNoRixRQUFBLFlBQVksS0FBSyxlQUFlLENBQUMsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZHLE9BQU8sWUFBWSxJQUFJLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUM7SUFDOUQsS0FBQTtJQUNJLFNBQUE7WUFDRCxJQUFJLGNBQWMsR0FBdUMsU0FBUyxDQUFDO0lBQ25FLFFBQUEsY0FBYyxHQUFHLGVBQWUsQ0FBQyxFQUFFLE9BQU8sRUFBRSxjQUFjLEVBQUUsWUFBWSxFQUFFLE1BQU0sRUFBRSxpQkFBaUIsRUFBRSxDQUFDLENBQUM7SUFDdkcsUUFBQSxjQUFjLEtBQUssYUFBYSxDQUFDLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztZQUNwRixPQUFPLGNBQWMsSUFBSSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxDQUFDO0lBQ2hFLEtBQUE7SUFDTCxDQUFDO0lBRUQsU0FBUyxhQUFhLENBQUMsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxNQUFNLEVBQXFGLEVBQUE7UUFDdkosTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBQ2hCLE9BQU8sTUFBTSxJQUFJLEtBQUssSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7WUFDdEMsTUFBTSxHQUFHLGNBQWMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFFdEQsSUFBQSxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQ2xCLFFBQUEsT0FBTyxTQUFTLENBQUM7SUFDcEIsS0FBQTtRQUNELElBQUksTUFBTSxHQUFHLEtBQUssRUFBRTtJQUNoQixRQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsY0FBYyxDQUFDLEtBQUssQ0FBQyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsQ0FBQztJQUNqRSxLQUFBO0lBQ0ksU0FBQTtZQUNELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsQ0FBQztJQUM5QyxLQUFBO0lBQ0wsQ0FBQztJQUVELFNBQVMsZUFBZSxDQUFDLEVBQUUsT0FBTyxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsTUFBTSxFQUFFLGlCQUFpQixFQUFFLEtBQUssRUFBK0QsRUFBQTtRQUU3SixPQUFPLE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ3RDLE1BQU0sR0FBRyxjQUFjLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRXRELElBQUEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtJQUNsQixRQUFBLE9BQU8sU0FBUyxDQUFDO0lBQ3BCLEtBQUE7UUFDRCxJQUFJLE1BQU0sR0FBRyxLQUFLLEVBQUU7SUFDaEIsUUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLGNBQWMsQ0FBQyxLQUFLLENBQUMsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLENBQUM7SUFDL0QsS0FBQTtJQUNJLFNBQUE7WUFDRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLENBQUM7SUFDOUMsS0FBQTtJQUNMOztJQzVYQTs7Ozs7O0lBTUc7SUFDRyxTQUFVLFFBQVEsQ0FBSSxZQUEyQixFQUFBOztRQUduRCxNQUFNLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQyxHQUFHa0wsQ0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ25ELElBQUEsTUFBTSxHQUFHLEdBQUdsTCxDQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7OztJQUkxQixJQUFBLE1BQU0sUUFBUSxHQUFHTyxHQUFXLENBQWtCLEtBQUssSUFBRztJQUNsRCxRQUFBLElBQUksT0FBTyxLQUFLLEtBQUssVUFBVSxFQUFFO2dCQUM3QixNQUFNLFFBQVEsR0FBRyxLQUErQixDQUFDO2dCQUNqRCxTQUFTLENBQUMsU0FBUyxJQUFHO0lBQ2xCLGdCQUFBLE1BQU0sU0FBUyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUN0QyxnQkFBQSxHQUFHLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQztJQUN4QixnQkFBQSxPQUFPLFNBQVMsQ0FBQztJQUNyQixhQUFDLENBQUMsQ0FBQztJQUNOLFNBQUE7SUFDSSxhQUFBO0lBQ0QsWUFBQSxHQUFHLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztnQkFDcEIsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3BCLFNBQUE7U0FDSixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBQSxNQUFNLFFBQVEsR0FBRyxNQUFRLEVBQUEsT0FBTyxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQztRQUcvQyxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEtBQUssS0FBSyxLQUFLLE9BQU8sS0FBSyxLQUFLLFFBQVEsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JGLElBQUEsT0FBTyxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsUUFBUSxDQUFVLENBQUM7SUFDaEQ7O0lDa0lBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBNEJHO0lBQ0csU0FBVSxpQkFBaUIsQ0FBbUYsRUFDaEgscUJBQXFCLEVBQUUsRUFBRSxXQUFXLEVBQUUsRUFDdEMsd0JBQXdCLEVBQUUsRUFBRSxVQUFVLEVBQUUsb0JBQW9CLEVBQUUscUJBQXFCLEVBQUUsRUFDckYsR0FBRyxNQUFNLEVBQ2tDLEVBQUE7SUFHM0MsSUFBQSxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUMsVUFBVSxDQUFDLENBQUM7Ozs7UUFNbEQsTUFBTSxnQkFBZ0IsR0FBRyxpQkFBaUIsQ0FBbUIsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLG1CQUFtQixLQUFJO0lBQ2xHLFFBQUEsTUFBTSxRQUFRLEdBQUcsV0FBVyxFQUFFLENBQUM7OztJQUkvQixRQUFBLE9BQU8sbUJBQW1CLENBQUMsU0FBUywyQkFBMkIsQ0FBQyxTQUFvQyxFQUFBO2dCQUNoRyxJQUFJLFNBQVMsSUFBSSxDQUFDLE9BQU8sT0FBTyxLQUFLLFVBQVUsSUFBSSxPQUFPLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBZSxDQUFDO0lBQ3ZHLFlBQUEsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFFLENBQUM7Z0JBRW5DLElBQUksU0FBUyxJQUFJLElBQUk7b0JBQ2pCLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBRW5DLFlBQUEsSUFBSSxVQUFVO0lBQ1YsZ0JBQUEsT0FBTyxJQUFJLENBQUM7Z0JBRWhCLElBQUksU0FBUyxJQUFJLFNBQVMsRUFBRTtJQUN4QixnQkFBQSxNQUFNLFNBQVMsR0FBRyxTQUFTLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDO29CQUN2RSxJQUFJLFNBQVMsRUFBRSxNQUFNLEVBQUU7SUFDbkIsb0JBQUEsT0FBTyxTQUFTLEtBQUssVUFBVSxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMvQyxpQkFBQTtJQUVELGdCQUFBLElBQUksU0FBUyxJQUFJLElBQUksSUFBSSxtQkFBbUIsRUFBRTtJQUMxQyxvQkFBQSxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDdkMsb0JBQUEsSUFBSSxPQUFPLEVBQUU7SUFDVCx3QkFBQSxJQUFJLFFBQVEsQ0FBQyxhQUFhLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDO0lBQzNFLDRCQUFBLFNBQVMsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDcEMscUJBQUE7SUFDSixpQkFBQTtJQUNKLGFBQUE7O2dCQUdELElBQUksU0FBUyxJQUFJLElBQUk7b0JBQ2pCLG1CQUFtQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBRW5DLFlBQUEsT0FBTyxTQUFTLEtBQUssVUFBVSxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsQ0FBQzthQUMvQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBQ2QsRUFBRSxFQUFFLENBQUMsQ0FBQzs7O1FBSVAsTUFBTSxDQUFDLG1CQUFtQixFQUFFLG1CQUFtQixDQUFDLEdBQUcsZUFBZSxDQUFnQixJQUFJLEVBQUVBLEdBQVcsQ0FBQyxPQUFPLG9CQUFvQixJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7O1FBRzVJWixDQUFTLENBQUMsTUFBSztJQUNYLFFBQUEsSUFBSSxVQUFVO0lBQ1YsWUFBQSxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsU0FBVSxDQUFDLENBQUM7SUFDckMsYUFBQTtJQUNELFlBQUEsbUJBQW1CLENBQUMsbUJBQW1CLEVBQUUsRUFBRSxTQUFVLENBQUMsQ0FBQztJQUMxRCxTQUFBO0lBQ0wsS0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzs7UUFHakIsTUFBTSxhQUFhLEdBQUdZLEdBQVcsQ0FBQyxDQUFDLENBQTJDLEtBQU8sRUFBQSxPQUFPLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbkgsTUFBTSxhQUFhLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLENBQTJDLEVBQUUsQ0FBVSxLQUFJLEVBQUcsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDMUgsTUFBTSxlQUFlLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLENBQTJDLEtBQU8sRUFBQSxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDL0csSUFBQSxNQUFNLEVBQUUsV0FBVyxFQUFFLG1CQUFtQixFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxvQkFBb0IsRUFBRSxHQUFHLGVBQWUsQ0FBa0Q7SUFDbkssUUFBQSxZQUFZLEVBQUUsb0JBQW9CLEtBQUssVUFBVSxHQUFHLElBQUksR0FBRyxDQUFDLENBQUM7SUFDN0QsUUFBQSxhQUFhLEVBQUUscUJBQXFCO1lBQ3BDLFdBQVc7SUFDWCxRQUFBLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLFFBQUEsS0FBSyxFQUFFLGFBQWE7SUFDcEIsUUFBQSxPQUFPLEVBQUUsZUFBZTtJQUN4QixRQUFBLEtBQUssRUFBRSxhQUFhO0lBQ3ZCLEtBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQSxNQUFNLFNBQVMsR0FBR0EsR0FBVyxDQUFDLENBQUMsTUFBZ0IsS0FBSTtJQUMvQyxRQUFBLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO0lBQy9CLFFBQUEsTUFBTSxLQUFLLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztZQUNqQyxJQUFJLEtBQUssSUFBSSxJQUFJLEVBQUU7Z0JBQ2YsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxVQUFVLEVBQUUsQ0FBQztnQkFDcEQsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxTQUFTLEdBQUcsT0FBUSxDQUFDLENBQUM7SUFDaEQsU0FBQTs7SUFFRyxZQUFBLGdCQUFnQixDQUFDLElBQUksRUFBRSxNQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDbkQsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLE1BQU0sMEJBQTBCLEdBQUcsZUFBZSxDQUFDO1lBQy9DLGdCQUFnQjtZQUNoQix1QkFBdUIsRUFBRUEsR0FBVyxDQUFDLFFBQVEsT0FBTyxvQkFBb0IsS0FBSyxVQUFVLEdBQUcsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFBLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFDMUcsb0JBQW9CO0lBQ3ZCLEtBQUEsQ0FBQyxDQUFDO1FBRUgsT0FBTztJQUNILFFBQUEseUJBQXlCLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxvQkFBb0IsR0FBRztJQUMzRSxRQUFBLG9CQUFvQixFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUUsU0FBUyxFQUFFO1lBQ3ZFLDBCQUEwQjtTQUM3QixDQUFDO0lBQ04sQ0FBQztJQUdLLFNBQVUsc0JBQXNCLENBQStCLEVBQ2pFLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsTUFBTSxFQUFFLEVBQzVDLDBCQUEwQixFQUFFLEVBQUUsb0JBQW9CLEVBQUUsZ0JBQWdCLEVBQUUsdUJBQXVCLEVBQUUsRUFDL0YsNkJBQTZCLEdBQ2dCLEVBQUE7UUFDN0MsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sRUFBRSxHQUFHLDZCQUE2QixDQUFDO0lBQzVELElBQUEsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLEdBQUcsUUFBUSxDQUFDLHVCQUF1QixFQUFFLEtBQUssS0FBSyxDQUFDLENBQUM7UUFFM0ZaLENBQVMsQ0FBQyxNQUFLO0lBQ1gsUUFBQSxvQkFBb0IsRUFBRSxDQUFDO0lBQzNCLEtBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBS2YsT0FBTztJQUNILFFBQUEseUJBQXlCLEVBQUU7Z0JBQ3ZCLDRCQUE0QixFQUFFLGlCQUFpQixDQUFDLENBQUMsT0FBZ0IsRUFBRSxZQUFpQyxFQUFFLENBQUMsS0FBSTtJQUN2RyxnQkFBQSxJQUFJLE9BQU8sRUFBRTtJQUNULG9CQUFBLGdCQUFnQixDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDckMsaUJBQUE7SUFDTCxhQUFDLENBQUM7SUFDTCxTQUFBO0lBQ0QsUUFBQSx5QkFBeUIsRUFBRTtJQUN2QixZQUFBLGFBQWEsRUFBRSxFQUFFLFFBQVEsR0FBRyxRQUFRLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBQ2hELFFBQVE7Z0JBQ1IsV0FBVztnQkFDWCxXQUFXO0lBQ2QsU0FBQTtTQUNKLENBQUE7SUFDTDs7YUNyVGdCLGNBQWMsQ0FBb0IsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLFVBQVUsRUFBRSxFQUFFLHFCQUFxQixFQUFFLEVBQUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sRUFBRSxFQUErQixFQUFBO0lBQ2hMLElBQUEsTUFBTSxDQUFDLGNBQWMsRUFBRSxjQUFjLENBQUMsR0FBRyxlQUFlLENBQXVCLG1CQUFtQixFQUFFLFVBQVUsRUFBRSxjQUFjLENBQUMsQ0FBQztRQUNoSUEsQ0FBUyxDQUFDLE1BQUs7WUFDWCxJQUFJLENBQUMsTUFBTSxFQUFFO0lBQ1QsWUFBQSxNQUFNLE9BQU8sR0FBRyxVQUFVLEVBQUUsQ0FBQztJQUM3QixZQUFBLElBQUksT0FBTyxFQUFFO0lBQ1QsZ0JBQUEsTUFBTSxXQUFXLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3JDLGdCQUFBLElBQUksV0FBVyxFQUFFO3dCQUNiLGNBQWMsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUMvQixpQkFBQTtJQUNKLGFBQUE7SUFDSixTQUFBO0lBQ0wsS0FBQyxDQUFDLENBQUM7SUFDSCxJQUFBLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxFQUFFLGNBQWMsRUFBRSxFQUFFLENBQUE7SUFDcEQ7O0lDc0RBOzs7O0lBSUc7YUFDYSxzQkFBc0IsQ0FBcUUsRUFDdkcsNkJBQTZCLEVBQUUsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxHQUFHLE1BQU0sRUFBRSxFQUM5RixvQkFBb0IsRUFBRSxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUUsR0FBRyxNQUFNLEVBQUUsRUFDM0YsR0FBRyxNQUFNLEVBQ29DLEVBQUE7Ozs7O0lBVTdDLElBQUEsTUFBTSxDQUFDLG1CQUFtQixFQUFFLG1CQUFtQixDQUFDLEdBQUcsZUFBZSxDQUF1QixpQkFBaUIsQ0FBQyxDQUFDLGdCQUFnQixFQUFFLElBQUksRUFBRSxNQUFNLEtBQUk7WUFDMUksTUFBTSxNQUFNLEdBQUcsVUFBVSxDQUFDLE1BQUssRUFBRyxtQkFBbUIsQ0FBQyxJQUFJLEVBQUUsU0FBVSxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLEVBQUUsZ0JBQWdCLElBQUksSUFBSSxDQUFDLENBQUM7SUFDbEksUUFBQSw0QkFBNEIsQ0FBQyxnQkFBZ0IsRUFBRSxNQUFPLENBQUMsQ0FBQztJQUN4RCxRQUFBLE9BQU8sTUFBTSxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDckMsQ0FBQyxDQUFDLENBQUM7O0lBRUosSUFBQSxNQUFNLG1CQUFtQixHQUFHSyxDQUFNLENBQWtCLEVBQUUsQ0FBQyxDQUFDO1FBQ3hELE1BQU0sQ0FBQyxlQUFlLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxRQUFRLENBQStCLE1BQU0sQ0FBQyxDQUFDOzs7O1FBSzdGLE1BQU0sR0FBRyxZQUFZLEVBQUUsWUFBWSxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDOzs7O1FBS3ZELE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxvQkFBb0IsQ0FBQyxHQUFHLFFBQVEsQ0FBZ0IsSUFBSSxDQUFDLENBQUM7UUFDaEZELENBQWUsQ0FBQyxNQUFLO1lBQ2pCLElBQUksaUJBQWlCLEtBQUssSUFBSSxFQUFFO0lBQzVCLFlBQUEsbUJBQW1CLENBQUMsU0FBUyxLQUFLLENBQUMsU0FBUyxJQUFJLEVBQUUsSUFBSSxpQkFBaUIsQ0FBQyxFQUFFLFNBQVUsQ0FBQyxDQUFDO2dCQUN0RixvQkFBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QixTQUFBO0lBQ0wsS0FBQyxFQUFFLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1FBR3hCLE1BQU0sZ0JBQWdCLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxPQUFlLEVBQUUsT0FBZSxLQUFJO0lBQzVFLFFBQUEsSUFBSSxPQUFlLENBQUM7OztJQUdwQixRQUFBLE9BQU8sR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25DLFFBQUEsT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUE7SUFFbEMsUUFBQSxJQUFJLFFBQVE7Z0JBQ1IsT0FBTyxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFBOztJQUU1QyxZQUFBLE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUUvRSxRQUFBLE9BQU8sT0FBTyxDQUFDO0lBQ25CLEtBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxtQkFBbUIsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEdBQWtCLEVBQUUsR0FBa0IsS0FBSTtZQUVyRixJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsSUFBSSxPQUFPLEdBQUcsQ0FBQyxJQUFJLEtBQUssUUFBUSxFQUFFO2dCQUN6RCxPQUFPLGdCQUFnQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDMUMsU0FBQTtZQUVELE9BQVEsR0FBeUIsR0FBSSxHQUF5QixDQUFDO0lBQ25FLEtBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxtQkFBbUIsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEdBQVcsRUFBRSxHQUFrQixLQUFJO1lBRTlFLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxJQUFJLE9BQU8sR0FBRyxDQUFDLElBQUksS0FBSyxRQUFRLEVBQUU7OztJQUd6RCxZQUFBLE9BQU8sZ0JBQWdCLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNuRSxTQUFBO1lBRUQsT0FBUSxHQUF5QixHQUFJLEdBQXlCLENBQUM7SUFDbkUsS0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLE1BQU0sVUFBVSxHQUFHLGVBQWUsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUdoRCxNQUFNLFdBQVcsR0FBR0MsQ0FBTSxDQUE2QztJQUNuRSxRQUFBLFNBQVMsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLENBQW9ELEtBQUk7SUFDbEYsWUFBQSxJQUFJLFVBQVUsRUFBRTtvQkFDWixPQUFPO0lBRVgsWUFBQSxNQUFNLFNBQVMsR0FBRyxZQUFZLEVBQUUsQ0FBQztJQUVqQyxZQUFBLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7O0lBR2xCLFlBQUEsSUFBSSxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQyxPQUFPO29CQUN0QixPQUFPO2dCQUVYLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLEdBQUcsS0FBSyxXQUFXLEVBQUU7O0lBRXJDLGdCQUFBLG1CQUFtQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFxQyxDQUFDLENBQUM7b0JBQ2pJLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO29CQUNwQixPQUFPO0lBQ1YsYUFBQTs7Ozs7SUFNRCxZQUFBLE1BQU0sY0FBYyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3BFLFlBQUEsSUFBSSxjQUFjLEVBQUU7SUFFaEIsZ0JBQUEsSUFBSSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRSxDQUtuRTtJQUNJLHFCQUFBO3dCQUVELENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQzt3QkFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDOzs7O0lBS3BCLG9CQUFBLElBQUksQ0FBQyxTQUFTOzRCQUNWLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLGlCQUFBO0lBQ0osYUFBQTtJQUVMLFNBQUMsQ0FBQztJQUNGLFFBQUEsa0JBQWtCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxDQUFtQixLQUFJO0lBQzFELFlBQUEsb0JBQW9CLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUM3QixZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEIsU0FBQyxDQUFDO0lBQ0YsUUFBQSxnQkFBZ0IsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLEVBQW9CLEtBQU8sRUFBQSxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUEsRUFBRSxDQUFDO0lBQ3hGLEtBQUEsQ0FBQyxDQUFDOztJQUdIOztJQUUwQjtJQUUxQixJQUFBLE1BQU0sWUFBWSxHQUFHLGlCQUFpQixDQUFDLE1BQUssRUFBRyxPQUFPLGVBQWUsSUFBSSxNQUFNLENBQUEsRUFBRSxDQUFDLENBQUM7UUFFbkYsT0FBTztZQUNILCtCQUErQixFQUFFLGVBQWUsQ0FBQztnQkFDN0Msa0NBQWtDLEVBQUUsZUFBZSxDQUFDO29CQUNoRCxtQkFBbUI7b0JBQ25CLG1CQUFtQixFQUFFLG1CQUFtQixDQUFDLE9BQU87b0JBQ2hELFlBQVk7aUJBQ2YsQ0FBQzthQUVMLENBQUM7SUFDRixRQUFBLHlCQUF5QixFQUFFO2dCQUN2QixtQkFBbUI7Z0JBQ25CLGVBQWU7Z0JBQ2YsV0FBVyxFQUFFLFdBQVcsQ0FBQyxPQUFPO0lBQ25DLFNBQUE7U0FDSixDQUFBO0lBT0QsSUFBQSxTQUFTLDRCQUE0QixDQUFDLGdCQUErQixFQUFFLE1BQWEsRUFBQTtJQUNoRixRQUFBLElBQUksZ0JBQWdCLElBQUksbUJBQW1CLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRTtJQUl4RCxZQUFBLE1BQU0sb0JBQW9CLEdBQUcsWUFBWSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO2dCQUU5RyxJQUFJLG9CQUFvQixHQUFHLENBQUMsRUFBRTs7O29CQUcxQixrQkFBa0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqQyxhQUFBO0lBQ0ksaUJBQUE7b0JBQ0Qsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFNUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQXdCRTs7b0JBSUYsSUFBSSxzQkFBc0IsR0FBa0IsSUFBSSxDQUFDO29CQUNqRCxJQUFJLG9CQUFvQixHQUFHLG9CQUFvQixDQUFDOztvQkFHaEQsSUFBSSx1QkFBdUIsR0FBa0IsSUFBSSxDQUFDO29CQUNsRCxJQUFJLHFCQUFxQixHQUFHLG9CQUFvQixDQUFDO0lBRWpELGdCQUFBLE1BQU0sYUFBYSxHQUFHLENBQUMsQ0FBUyxLQUFJO0lBQ2hDLG9CQUFBLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDOzRCQUNYLE9BQU87SUFFWCxvQkFBQSxJQUFJLHNCQUFzQixJQUFJLElBQUksSUFBSSxDQUFDLEdBQUcsc0JBQXNCLEVBQUU7NEJBQzlELHNCQUFzQixHQUFHLENBQUMsQ0FBQzs0QkFDM0Isb0JBQW9CLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLHFCQUFBO0lBQ0Qsb0JBQUEsSUFBSSxDQUFDLHVCQUF1QixJQUFJLElBQUksSUFBSSxDQUFDLEdBQUcsdUJBQXVCLEtBQUssQ0FBQyxJQUFJLFFBQVEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7NEJBQ25HLHVCQUF1QixHQUFHLENBQUMsQ0FBQzs0QkFDNUIscUJBQXFCLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLHFCQUFBO0lBQ0wsaUJBQUMsQ0FBQTtvQkFFRCxJQUFJLENBQUMsR0FBRyxvQkFBb0IsQ0FBQztJQUM3QixnQkFBQSxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksbUJBQW1CLENBQUMsZ0JBQWdCLEVBQUUsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFO3dCQUN6RixhQUFhLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzVELG9CQUFBLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsaUJBQUE7b0JBRUQsQ0FBQyxHQUFHLG9CQUFvQixDQUFDO29CQUN6QixPQUFPLENBQUMsR0FBRyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsTUFBTSxJQUFJLG1CQUFtQixDQUFDLGdCQUFnQixFQUFFLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRTt3QkFDekgsYUFBYSxDQUFDLG1CQUFtQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUM1RCxvQkFBQSxFQUFFLENBQUMsQ0FBQztJQUNQLGlCQUFBO29CQUVELElBQUksdUJBQXVCLEtBQUssSUFBSTtJQUNoQyxvQkFBQSxRQUFRLENBQUMsbUJBQW1CLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsYUFBYSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQzt5QkFDeEYsSUFBSSxzQkFBc0IsS0FBSyxJQUFJO0lBQ3BDLG9CQUFBLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxhQUFhLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQy9GLGFBQUE7SUFDSixTQUFBO1NBQ0o7SUFDTCxDQUFDO0lBR0ssU0FBVSwyQkFBMkIsQ0FBK0IsRUFDdEUsc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFDM0MscUJBQXFCLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEdBQUcsS0FBSyxFQUFFLEVBQ3BELCtCQUErQixFQUFFLEVBQUUsa0NBQWtDLEVBQUUsRUFBRSxtQkFBbUIsRUFBRSxtQkFBbUIsRUFBRSxZQUFZLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxFQUM3SSxnQkFBZ0IsRUFBRSxFQUFFLFVBQVUsRUFBRSxHQUFHLEtBQUssRUFBRTtJQUMxQztJQUNBLEdBQUcsS0FBSyxFQUMwQyxFQUFBO0lBUWxELElBQUEsTUFBTSxFQUFFLGlCQUFpQixFQUFFLEdBQUcsY0FBYyxDQUFDO1lBQ3pDLGdCQUFnQixFQUFFLEVBQUUsVUFBVSxFQUFFO0lBQ2hDLFFBQUEscUJBQXFCLEVBQUU7Z0JBQ25CLE9BQU87Z0JBQ1AsTUFBTTtJQUNOLFlBQUEsbUJBQW1CLEVBQUVPLEdBQVcsQ0FBNkMsQ0FBQyxJQUFtQixLQUFJO0lBQ2pHLGdCQUFBLElBQUksSUFBSSxFQUFFOzs7O3dCQUlOLE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLENBQUMsQ0FBQzt3QkFDakYsT0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLG1CQUFtQixDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzt3QkFDbkksSUFBSSxXQUFXLEdBQUcsQ0FBQyxFQUFFO0lBQ2pCLHdCQUFBLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDLFdBQVcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ25GLHFCQUFBO0lBQ0kseUJBQUE7SUFDRCx3QkFBQSxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztJQUM5RSxxQkFBQTtJQUVELG9CQUFBLE9BQU8sTUFBSzs7OzRCQUdSLE1BQU0sV0FBVyxHQUFHLFlBQVksQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLENBQUMsQ0FBQzs0QkFDakYsT0FBTyxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxJQUFJLG1CQUFtQixDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQzs0QkFFbkksSUFBSSxXQUFXLElBQUksQ0FBQyxFQUFFO0lBQ2xCLDRCQUFBLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUMseUJBQUE7SUFDTCxxQkFBQyxDQUFBO0lBQ0osaUJBQUE7aUJBRUosRUFBRSxFQUFFLENBQUM7SUFDVCxTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUE7UUFFRixPQUFPO1lBQ0gsaUJBQWlCO1lBQ2pCLGVBQWUsRUFBRSxFQUFFLFlBQVksRUFBRTtTQUNwQyxDQUFDO0lBRU4sQ0FBQztJQUVEOzs7Ozs7Ozs7SUFTRzthQUNhLFlBQVksQ0FBNkMsS0FBVSxFQUFFLE1BQVMsRUFBRSxVQUFhLEVBQUE7UUFDekcsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0lBQ25CLElBQUEsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDakMsT0FBTyxVQUFVLElBQUksU0FBUyxFQUFFO1lBQzVCLE1BQU0sU0FBUyxHQUFHLENBQUMsU0FBUyxHQUFHLFVBQVUsS0FBSyxDQUFDLENBQUM7WUFDaEQsTUFBTSxnQkFBZ0IsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBRTlELElBQUksZ0JBQWdCLEdBQUcsQ0FBQyxFQUFFO0lBQ3RCLFlBQUEsVUFBVSxHQUFHLFNBQVMsR0FBRyxDQUFDLENBQUM7SUFDOUIsU0FBQTtpQkFDSSxJQUFJLGdCQUFnQixHQUFHLENBQUMsRUFBRTtJQUMzQixZQUFBLFNBQVMsR0FBRyxTQUFTLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLFNBQUE7SUFDSSxhQUFBO0lBQ0QsWUFBQSxPQUFPLFNBQVMsQ0FBQztJQUNwQixTQUFBO0lBQ0osS0FBQTtJQUVELElBQUEsT0FBTyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7SUFDM0I7O0lDM1ZBOzs7OztJQUtHO0lBQ2EsU0FBQSxpQkFBaUIsQ0FBeUgsRUFDdEosMEJBQTBCLEVBQzFCLDZCQUE2QixFQUM3Qix3QkFBd0IsRUFDeEIscUJBQXFCLEVBQ3JCLEdBQUcsTUFBTSxFQUN3RCxFQUFBO1FBRWpFLE1BQU0sSUFBSSxHQUFHLGlCQUFpQixDQUFrQixFQUFFLHFCQUFxQixFQUFFLHdCQUF3QixFQUFFLENBQUMsQ0FBQztJQUNyRyxJQUFBLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxHQUFHLElBQUksQ0FBQztRQUN0QyxNQUFNLEdBQUcsR0FBRyxzQkFBc0IsQ0FBcUMsRUFBRSxvQkFBb0IsRUFBRSw2QkFBNkIsR0FBRyxDQUFDLENBQUM7UUFDakksTUFBTSxHQUFHLEdBQUcsbUJBQW1CLENBQXFDLEVBQUUsb0JBQW9CLEVBQUUsMEJBQTBCLEdBQUcsQ0FBQyxDQUFDO1FBSTNILE9BQU87SUFDSCxRQUFBLEdBQUcsR0FBRztJQUNOLFFBQUEsR0FBRyxHQUFHO0lBQ04sUUFBQSxHQUFHLElBQUk7U0FDVixDQUFBO0lBQ0wsQ0FBQztJQUVLLFNBQVUsc0JBQXNCLENBQStCLEVBQ2pFLDZCQUE2QixFQUM3QiwwQkFBMEIsRUFDMUIsK0JBQStCO0lBQy9CO0lBQ0Esc0JBQXNCLEVBQ3RCLGdCQUFnQixFQUNoQixxQkFBcUIsRUFDckIsR0FBRyxNQUFNLEVBQ29DLEVBQUE7SUFFN0MsSUFBQSxNQUFNLEtBQUssR0FBRyxzQkFBc0IsQ0FBZSxFQUFFLDBCQUEwQixFQUFFLDZCQUE2QixFQUFFLHNCQUFzQixFQUFFLENBQUMsQ0FBQztJQUMxSSxJQUFBLE1BQU0sSUFBSSxHQUFHLDJCQUEyQixDQUFlLEVBQUUsZ0JBQWdCLEVBQUUsK0JBQStCLEVBQUUsc0JBQXNCLEVBQUUscUJBQXFCLEVBQUUsQ0FBQyxDQUFDOztRQUs3SixPQUFPO0lBQ0gsUUFBQSxHQUFHLElBQUk7SUFDUCxRQUFBLEdBQUcsS0FBSztTQUNYLENBQUE7SUFDTDs7SUNyQ2dCLFNBQUEsaUJBQWlCLENBQStMLEVBQzVOLHdCQUF3QixFQUFFLEVBQUUsc0JBQXNCLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFDOUQsMEJBQTBCLEVBQzFCLHdCQUF3QixFQUFFLEVBQUUscUJBQXFCLEVBQUUsR0FBRyx3QkFBd0IsRUFBRSxFQUNoRixxQkFBcUIsRUFDckIsNkJBQTZCLEVBQzdCLEdBQUcsTUFBTSxFQUNrRSxFQUFBO0lBQzNFLElBQUEsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLHFCQUFxQixDQUFDO0lBQzlDLElBQUEsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsd0JBQXdCLENBQUE7UUFFekQsTUFBTSxDQUFDLHdCQUF3QixFQUFFLHdCQUF3QixDQUFDLEdBQUcsZUFBZSxDQUF1QixzQkFBc0IsRUFBRSxpQkFBaUIsQ0FBQyxNQUFRLEVBQUEsUUFBUSxvQkFBb0IsSUFBSSxDQUFDLEVBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUU1TCxNQUFNLDZCQUE2QixHQUFHLGlCQUFpQixDQUFDLENBQUMsT0FBc0IsRUFBRSxXQUFzQyxFQUFFLE1BQXlCLEtBQUk7SUFDbEosUUFBQSxNQUFNLFFBQVEsR0FBRyxXQUFXLEVBQUUsQ0FBQztZQUMvQixxQkFBcUIsR0FBRyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3RELFFBQUEsTUFBTSxVQUFVLEdBQUcsd0JBQXdCLEVBQUUsQ0FBQztZQUM5QyxJQUFJLFdBQVcsSUFBSSxJQUFJO0lBQ25CLFlBQUEsUUFBUSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsRUFBRSxzQkFBc0IsQ0FBQyxVQUFVLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBQ25GLElBQUksT0FBTyxJQUFJLElBQUk7SUFDZixZQUFBLFFBQVEsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsc0JBQXNCLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsQ0FBQztJQUVuRixLQUFDLENBQUMsQ0FBQTtJQUVGLElBQUEsTUFBTSxFQUNGLHNCQUFzQixFQUN0QixvQkFBb0IsRUFDcEIseUJBQXlCLEVBQ3pCLHlCQUF5QixFQUN6QiwwQkFBMEIsRUFDMUIsK0JBQStCLEVBQy9CLEdBQUcsS0FBSyxFQUNYLEdBQUcsaUJBQWlCLENBQXFDO1lBQ3RELDBCQUEwQixFQUFFLEVBQUUsbUJBQW1CLEVBQUUsVUFBVSxFQUFFLEdBQUcsMEJBQTBCLEVBQUU7WUFDOUYsd0JBQXdCLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSw2QkFBNkIsRUFBRSxHQUFHLHdCQUF3QixFQUFFO1lBQy9HLHFCQUFxQjtZQUNyQiw2QkFBNkI7SUFDaEMsS0FBQSxDQUFDLENBQUM7UUFNSCxPQUFPO1lBQ0gseUJBQXlCO1lBQ3pCLDBCQUEwQjtZQUMxQiwrQkFBK0I7WUFDL0Isc0JBQXNCO1lBQ3RCLG9CQUFvQjtZQUNwQix5QkFBeUI7WUFDekIsd0JBQXdCLEVBQUUsZUFBZSxDQUFDO2dCQUN0QywyQkFBMkIsRUFBRSxlQUFlLENBQUM7b0JBQ3pDLGNBQWMsRUFBRSxvQkFBb0IsQ0FBQyxnQkFBZ0I7b0JBQ3JELHdCQUF3QjtvQkFDeEIsd0JBQXdCO2lCQUMzQixDQUFDO2FBQ0wsQ0FBQztTQUNMLENBQUE7SUFDTCxDQUFDO2FBRWUsb0JBQW9CLENBQTJKLEVBQzNMLDBCQUEwQixFQUFFLEVBQUUsd0JBQXdCLEVBQUUsRUFBRSwyQkFBMkIsRUFBRSxFQUFFLGNBQWMsRUFBRSx3QkFBd0IsRUFBRSx3QkFBd0IsRUFBRSxFQUFFLEVBQUUsR0FBRyxpQkFBaUIsRUFBRSxFQUN2TCw0QkFBNEIsRUFBRSxFQUFFLDBCQUEwQixFQUFFLHdCQUF3QixFQUFFLEVBQUUsR0FBRyx3QkFBd0IsRUFBRSxFQUFFLEdBQUcsbUJBQW1CLEVBQUUsRUFDL0ksR0FBRyxNQUFNLEVBQ3FELEVBQUE7UUFDOUQsTUFBTSxFQUFFLHFCQUFxQixFQUFFLEVBQUUsV0FBVyxFQUFFLEVBQUUsR0FBRyxpQkFBaUIsQ0FBQztJQUNyRSxJQUFBLE1BQU0sUUFBUSxHQUFHLGlCQUFpQixDQUFDLE1BQVEsRUFBQSxPQUFPLGlCQUFpQixDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQSxFQUFFLENBQUMsQ0FBQTtJQUNuRyxJQUFBLE1BQU0sU0FBUyxHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBYSxLQUFJO1lBQ2xELElBQUksS0FBSyxJQUFJLHdCQUF3QixFQUFFLElBQUksQ0FBQyxDQUFDLENBQUM7WUFDOUMsSUFBSSxLQUFLLEdBQUcsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLFFBQUEsSUFBSSxZQUFZLEdBQUcsV0FBVyxFQUFFLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDbkQsUUFBQSxPQUFPLENBQUMsQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxLQUFLLEdBQUcsQ0FBQyxFQUFFO0lBQzFDLFlBQUEsRUFBRSxLQUFLLENBQUM7Z0JBQ1IsS0FBSyxHQUFHLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0QyxTQUFBO0lBQ0QsUUFBQSxPQUFPLENBQUMsQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxLQUFLLElBQUksWUFBWSxFQUFFO0lBQ3RELFlBQUEsRUFBRSxLQUFLLENBQUM7Z0JBQ1IsS0FBSyxHQUFHLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0QyxTQUFBO0lBQ0QsUUFBQSxJQUFJLEtBQUssRUFBRTtJQUNQLFlBQUEsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsRUFBRyxDQUFDO0lBQzlCLFlBQUEsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN0QixTQUFBO0lBQ0ksYUFBQTtJQUNBLFlBQUEsQ0FBNEIsRUFBRSxLQUFLLElBQUksQ0FBQztJQUM1QyxTQUFBO1NBQ0osRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLElBQUEsTUFBTSxJQUFJLEdBQUcsc0JBQXNCLENBQWEsaUJBQWlCLENBQUMsQ0FBQztRQUNuRSxNQUFNLFVBQVUsR0FBRyxDQUFDLElBQUksQ0FBQyx5QkFBeUIsQ0FBQyxRQUFRLENBQUM7SUFDNUQsSUFBQSxNQUFNLEdBQUcsR0FBRyxpQkFBaUIsQ0FBOEIsRUFBRSxHQUFHLG1CQUFtQixFQUFFLHdCQUF3QixFQUFFLEVBQUUsVUFBVSxFQUFFLEdBQUcsd0JBQXdCLEVBQUUsRUFBRSwwQkFBMEIsRUFBRSxFQUFFLG1CQUFtQixFQUFFLFlBQVksRUFBRSxHQUFHLDBCQUEwQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBS2hRLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxFQUFFLGdCQUFnQixFQUFFLEVBQUMsb0JBQW9CLEVBQUUsc0JBQXNCLEVBQUUseUJBQXlCLEVBQUUsMEJBQTBCLEVBQUUsK0JBQStCLEVBQUUseUJBQXlCLEVBQUUsR0FBRyxHQUFHLENBQUM7UUFHM04sT0FBTztJQUNILFFBQUEsc0JBQXNCLEVBQUUsRUFBRSwyQkFBMkIsRUFBRSxFQUFFLFNBQVMsRUFBRSxzQkFBc0IsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLEdBQUcsSUFBSSxHQUFHO0lBQzFILFFBQUEsd0JBQXdCLEVBQUU7SUFDdEIsWUFBQSxHQUFHLEdBQUc7Z0JBQ04seUJBQXlCLEVBQUUsZUFBZSxDQUFFO29CQUN4Qyw0QkFBNEIsRUFBRSxlQUFlLENBQUM7d0JBQzFDLGNBQWM7SUFDZCxvQkFBQSxXQUFXLEVBQUUsUUFBUTt3QkFDckIsd0JBQXdCO3dCQUN4Qix3QkFBd0I7SUFDeEIsb0JBQUEsZUFBZSxFQUFFLGdCQUFnQjtxQkFDcEMsQ0FBQztpQkFDTCxDQUFDO2dCQUNGLHNCQUFzQjtnQkFDdEIseUJBQXlCO2dCQUN6QiwwQkFBMEI7Z0JBQzFCLG9CQUFvQjtnQkFDcEIsK0JBQStCO2dCQUMvQix5QkFBeUI7SUFFNUIsU0FBQTtTQUNKLENBQUE7SUFFTCxDQUFDO0lBR0ssU0FBVSxxQkFBcUIsQ0FBOEI7SUFDbkU7SUFDSSwwQkFBMEIsRUFDMUIsK0JBQStCO0lBQy9CO0lBQ0EsNkJBQTZCLEVBQzdCLHNCQUFzQixFQUN0QixnQkFBZ0IsRUFDaEIscUJBQXFCLEVBQ3JCLDRCQUE0QixFQUFFLEVBQzFCLE9BQU8sRUFDVixFQUNELHlCQUF5QixFQUFFLEVBQ3ZCLDRCQUE0QixFQUFFLEVBQzFCLFdBQVcsRUFDWCxjQUFjLEVBQ2Qsd0JBQXdCLEVBQUUsaUJBQWlCLEVBQzNDLHdCQUF3QixFQUN4QixlQUFlLEVBQ2xCLEVBQ0osRUFDRCxHQUFHLE1BQU0sRUFDdUMsRUFBQTtJQUNoRCxJQUFBLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxzQkFBc0IsQ0FBQztRQUN6QyxNQUFNLEVBQ0YseUJBQXlCLEVBQUUsRUFBRSw0QkFBNEIsRUFBRSxNQUFNLEVBQUUsRUFDbkUseUJBQXlCLEVBQ3pCLGlCQUFpQixFQUNqQixlQUFlLEVBQ2YsR0FBRyxLQUFLLEVBQ1gsR0FBRyxzQkFBc0IsQ0FBYztZQUNwQyw2QkFBNkI7WUFDN0Isc0JBQXNCO1lBQ3RCLDBCQUEwQjtZQUMxQiwrQkFBK0I7WUFDL0IscUJBQXFCOztZQUVyQixnQkFBZ0I7SUFDbkIsS0FBQSxDQUFDLENBQUM7O1FBTUgsT0FBTztZQUNILHlCQUF5QjtZQUN6QixpQkFBaUI7WUFDakIsZUFBZTtJQUNmLFFBQUEseUJBQXlCLEVBQUU7Z0JBQ3ZCLDRCQUE0QixFQUFFLGlCQUFpQixDQUFDLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUk7b0JBQ2pFLE1BQU0sR0FBRyxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBRTNCLGdCQUFBLElBQUksT0FBTyxFQUFFO3dCQUNULGNBQWMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEMsb0JBQUEsd0JBQXdCLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25DLG9CQUFBLGVBQWUsQ0FBQyxDQUFDLElBQUksS0FBSTtJQUNyQix3QkFBQSxJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHLEtBQUssSUFBSSxJQUFJLEdBQUcsS0FBSyxHQUFHLE9BQU8sQ0FBQyxFQUFFO0lBQzFELDRCQUFBLE9BQU8sSUFBSSxDQUFDO0lBQ2YseUJBQUE7SUFDRCx3QkFBQSxPQUFPLEtBQUssQ0FBQztJQUNqQixxQkFBQyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNoQixpQkFBQTtJQUNMLGFBQUMsQ0FBQztJQUNMLFNBQUE7U0FDSixDQUFBO0lBQ0w7O0lDelJBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsSUFBSSxHQUFHO0lBQ2hCO0lBQ0E7O0lDdUlBO0lBRU0sU0FBVSxrQkFBa0IsQ0FBK0IsRUFDN0QscUJBQXFCLEVBQUUsRUFBRSxXQUFXLEVBQUUsRUFDdEMsb0JBQW9CLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxFQUMxQyx5QkFBeUIsRUFBRSxFQUFFLHFCQUFxQixFQUFFLHVCQUF1QixFQUFFLHNCQUFzQixFQUFFLEVBQzVELEVBQUE7UUFFekMsTUFBTSxxQkFBcUIsR0FBRyxpQkFBaUIsQ0FBQyx1QkFBdUIsSUFBSSxJQUFJLENBQUMsQ0FBQztRQUVqRixNQUFNLGFBQWEsR0FBR0EsR0FBVyxDQUFDLENBQUMsQ0FBb0MsS0FBTyxFQUFBLE9BQU8sQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM3RyxJQUFBLE1BQU0sYUFBYSxHQUFHQSxHQUFXLENBQUMsQ0FBQyxDQUFvQyxFQUFFLENBQVUsRUFBRSxnQkFBK0IsRUFBRSxpQkFBZ0MsS0FBSTtZQUN0SixJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUU7SUFDVixZQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDekIsU0FBQTtJQUNELFFBQUEsTUFBTSxtQkFBbUIsSUFBSSxnQkFBZ0IsSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFFLGlCQUFpQixHQUFHLGdCQUFnQixDQUFDLENBQUM7WUFDaEcsTUFBTSxTQUFTLElBQUksbUJBQW1CLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLG1CQUFtQixDQUFDLENBQUMsQ0FBQztZQUN6RixJQUFJLGdCQUFnQixJQUFJLElBQUk7SUFDeEIsWUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsQ0FBQztJQUMvQixRQUFBLElBQUksQ0FBQztnQkFDRCxPQUFPLENBQUMsTUFBTSxDQUFDLGdCQUFnQixLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUVqRCxRQUFBLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7U0FDcEMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNQLE1BQU0sZUFBZSxHQUFHQSxHQUFXLENBQUMsQ0FBQyxDQUFvQyxLQUFPLEVBQUEsT0FBTyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRXpHLE1BQU0sRUFDRixXQUFXLEVBQUUsbUJBQW1CLEVBQ2hDLGVBQWUsRUFBRSxnQkFBZ0IsRUFDcEMsR0FBRyxlQUFlLENBQXVDO1lBQ3RELFdBQVc7SUFDWCxRQUFBLGFBQWEsRUFBRSxJQUFJO0lBQ25CLFFBQUEsWUFBWSxFQUFFLHNCQUFzQjtJQUNwQyxRQUFBLEtBQUssRUFBRSxhQUFhO0lBQ3BCLFFBQUEsS0FBSyxFQUFFLGFBQWE7SUFDcEIsUUFBQSxPQUFPLEVBQUUsZUFBZTtJQUN4QixRQUFBLFVBQVUsRUFBRSxLQUFLO0lBQ3BCLEtBQUEsQ0FBQyxDQUFDO1FBQ0gsT0FBTztZQUNILHFCQUFxQixFQUFFLGVBQWUsQ0FBQztnQkFDbkMsZ0JBQWdCO2dCQUNoQixtQkFBbUI7YUFDdEIsQ0FBQztZQUNGLHNCQUFzQixFQUFFLGVBQWUsQ0FBQztnQkFDcEMsZ0JBQWdCO0lBQ2hCLFlBQUEscUJBQXFCLEVBQUUscUJBQXFCO2FBQy9DLENBQUM7SUFDRixRQUFBLDJCQUEyQixFQUFFO2dCQUN6QixzQkFBc0IsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsTUFBTSxLQUFJO29CQUNuRSxJQUFJLENBQUMsVUFBVSxFQUFFO0lBQ2Isb0JBQUEsTUFBTSxhQUFhLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQzt3QkFDekMsSUFBSSxhQUFhLElBQUksSUFBSTtJQUNyQix3QkFBQSxnQkFBZ0IsQ0FBQyxhQUFhLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3RELGlCQUFBO0lBQ0wsYUFBQyxDQUFDO0lBQ0wsU0FBQTtTQUNKLENBQUE7SUFDTCxDQUFDO0lBR0ssU0FBVSx1QkFBdUIsQ0FBK0IsSUFBcUQsRUFBQTtRQUV2SCxNQUFNLEVBRUYsc0JBQXNCLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxxQkFBcUIsRUFBRSxFQUNuRSw4QkFBOEIsRUFBRSxFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUsUUFBUSxFQUFFLEVBQ3pFLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQ3BDLEdBQUcsSUFBSSxDQUFDOztJQUdULElBQUEsa0JBQWtCLENBQUMseUJBQXlCLEVBQUUsZ0JBQWdCLEVBQUUscUJBQXFCLENBQUMsQ0FBQztJQUN2RixJQUFBLE1BQU0sV0FBVyxHQUFHLGVBQWUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUU5QyxJQUFBLE1BQU0sQ0FBQyxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUMsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsSUFBSSxLQUFLLENBQUMsQ0FBQztJQUNsRyxJQUFBLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLElBQUksR0FBRSxJQUFJLElBQUksZ0JBQWdCLEVBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRTNILE1BQU0sNEJBQTRCLEdBQUcsaUJBQWlCLENBQW1DLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLEtBQUk7SUFDM0csUUFBQSxJQUFJLGFBQWEsSUFBSSxPQUFPLElBQUksT0FBTyxFQUFFO0lBQ3JDLFlBQUEscUJBQXFCLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLFNBQUE7SUFDTCxLQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sV0FBVyxHQUFHLGlCQUFpQixFQUFFLENBQUMsQ0FBUSxLQUFJO1lBQ2hELElBQUksYUFBYSxJQUFJLFVBQVU7Z0JBQzNCLE9BQU87SUFDWCxRQUFBLElBQUksQ0FBQyxRQUFRO0lBQ1QsWUFBQSxxQkFBcUIsR0FBRyxLQUFLLEVBQUUsQ0FBTSxDQUFDLENBQUM7U0FDOUMsRUFBRSxDQUFDO1FBRUosTUFBTSxTQUFTLEdBQUcsWUFBWSxFQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7UUFHakQsT0FBTzs7WUFFSCxzQkFBc0IsRUFBRSxFQUFFLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLENBQUMsUUFBUSxFQUFFLFNBQVMsS0FBSTtvQkFDbEYsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQzNCLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM1QixhQUFDLENBQUMsRUFBRTtJQUNKLFFBQUEsMEJBQTBCLEVBQUU7SUFDeEIsWUFBQSxRQUFRLEVBQUUsYUFBYTtJQUN2QixZQUFBLGtCQUFrQixFQUFFLGlCQUFpQixDQUFDLENBQUMsS0FBSyxLQUFJO0lBQzVDLGdCQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLGdCQUFBLHFCQUFxQixHQUFHLEtBQUssRUFBRSxLQUFVLENBQUMsQ0FBQztJQUMvQyxhQUFDLENBQUM7SUFDRixZQUFBLGlCQUFpQixFQUFFLFlBQVk7SUFDL0IsWUFBQSxjQUFjLEVBQUUsU0FBUztJQUN6QixZQUFBLFdBQVcsRUFBRSxnQkFBZ0I7O0lBRTdCLFlBQUEsYUFBYSxFQUFFLFlBQVksSUFBSSxJQUFJLElBQUksYUFBYSxJQUFJLFVBQVUsR0FBRyxFQUFFLEdBQUc7SUFDdEUsZ0JBQUEsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFBLEVBQUksU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFFLENBQUEsSUFBSSxhQUFhLElBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLFNBQVMsR0FBRSxDQUFHLEVBQUEsU0FBUyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBTSxJQUFBLENBQUEsSUFBSSxPQUFPLENBQUM7SUFDMUgsYUFBQTtJQUNKLFNBQUE7WUFDRCxlQUFlLEVBQUUsRUFBRSxXQUFXLEVBQUU7WUFDaEMseUJBQXlCLEVBQUUsRUFBRSw0QkFBNEIsRUFBRTtTQUM5RCxDQUFBO0lBQ0wsQ0FBQztJQVlEOztJQUVHO0lBQ2EsU0FBQSw2QkFBNkIsQ0FBQyxFQUFFLHFCQUFxQixFQUFFLEVBQUUsbUJBQW1CLEVBQUUsRUFBRSxvQ0FBb0MsRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUEyQyxFQUFBO1FBQzlMWixDQUFTLENBQUMsTUFBSztZQUNYLG1CQUFtQixDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3ZDLEtBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDeEI7O2FDeE9nQixnQ0FBZ0MsQ0FBdU4sRUFDblEsd0JBQXdCLEVBQ3hCLDBCQUEwQixFQUMxQix3QkFBd0IsRUFDeEIscUJBQXFCLEVBQ3JCLDZCQUE2QixFQUM3Qix5QkFBeUIsRUFDekIsR0FBRyxNQUFNLEVBQ2lGLEVBQUE7UUFDMUYsTUFBTSxHQUFHLEdBQUcsaUJBQWlCLENBQXNEO1lBQy9FLHdCQUF3QjtZQUN4QiwwQkFBMEI7WUFDMUIscUJBQXFCO1lBQ3JCLHdCQUF3QjtZQUN4Qiw2QkFBNkI7SUFDaEMsS0FBQSxDQUFDLENBQUM7SUFFSCxJQUFBLE1BQU0sRUFBRSxvQkFBb0IsRUFBRSxHQUFHLEdBQUcsQ0FBQztRQUVyQyxNQUFNLEdBQUcsR0FBRyxrQkFBa0IsQ0FBYTtZQUN2QyxxQkFBcUI7WUFDckIsb0JBQW9CO1lBQ3BCLHlCQUF5QjtJQUM1QixLQUFBLENBQUMsQ0FBQztRQUlILE9BQU87SUFDSCxRQUFBLEdBQUcsR0FBRztJQUNOLFFBQUEsR0FBRyxHQUFHO1NBQ1QsQ0FBQTtJQUNMLENBQUM7SUFFSyxTQUFVLG1DQUFtQyxDQUFtTCxFQUNsTywwQkFBMEIsRUFDMUIsNEJBQTRCLEVBQzVCLEdBQUcsTUFBTSxFQUNvRSxFQUFBO1FBQzdFLE1BQU0sRUFBRSxzQkFBc0IsRUFBRSx5QkFBeUIsRUFBRSxFQUFFLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sRUFBRSxFQUFFLDBCQUEwQixFQUFFLEdBQUcsdUJBQXVCLENBQWEsMEJBQTBCLENBQUMsQ0FBQztJQUMvTSxJQUFBLE1BQU0sRUFBRSxzQkFBc0IsRUFBRSxFQUFFLHlCQUF5QixFQUFFLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxFQUFFLEdBQUcsTUFBTSxFQUFFLEVBQUUsMkJBQTJCLEVBQUUseUJBQXlCLEVBQUUsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLEdBQUcsS0FBSyxFQUFFLEVBQUUsd0JBQXdCLEVBQUUsR0FBRyxvQkFBb0IsQ0FBa0MsRUFBRSwwQkFBMEIsRUFBRSw0QkFBNEIsRUFBRSxDQUFDLENBQUM7SUFDM1csSUFBQSxNQUFNLDRCQUE0QixHQUFHLGlCQUFpQixDQUE2QixDQUFDLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQyxLQUFJLEVBQUcsTUFBTSxHQUFHLE9BQU8sRUFBRSxXQUFXLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsT0FBTyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQU8xTCxPQUFPO0lBQ0gsUUFBQSxzQkFBc0IsRUFBRTtnQkFDcEIsZUFBZTtnQkFDZixpQkFBaUI7Z0JBQ2pCLHNCQUFzQjtnQkFDdEIseUJBQXlCLEVBQUUsRUFBRSw0QkFBNEIsRUFBRTtnQkFDM0QsMkJBQTJCO2dCQUMzQix5QkFBeUI7Z0JBQ3pCLDBCQUEwQjtJQUM1QixTQUFBO1lBQ0Ysd0JBQXdCO1NBQzNCLENBQUE7SUFFTCxDQUFDO0lBRUQ7SUFDTSxTQUFVLG9DQUFvQyxDQUE4QixDQUFtRSxFQUFBO0lBQ2pKLElBQUEsT0FBTyxxQkFBcUIsQ0FBYyxDQUFDLENBQUMsQ0FBQztJQUNqRDs7SUNwSEE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsU0FBUyxDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUU7SUFDbEMsRUFBRSxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDaEIsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUM3QjtJQUNBLEVBQUUsS0FBSyxLQUFLLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNuQyxFQUFFLE9BQU8sRUFBRSxLQUFLLEdBQUcsTUFBTSxFQUFFO0lBQzNCLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxHQUFHO0lBQ0gsRUFBRSxPQUFPLEtBQUssQ0FBQztJQUNmOztJQ2pCQTtJQUNBLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLO0lBQzVCLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7QUFDL0I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLFVBQVUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFO0lBQ2xDLEVBQUUsT0FBTyxLQUFLLEdBQUcsV0FBVyxDQUFDLFlBQVksRUFBRSxJQUFJLEtBQUssR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRTs7SUNiQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsU0FBUyxXQUFXLENBQUMsS0FBSyxFQUFFLElBQUksRUFBRTtJQUNsQyxFQUFFLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztJQUNoQixNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsTUFBTTtJQUMzQixNQUFNLFNBQVMsR0FBRyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0FBQzdCO0lBQ0EsRUFBRSxJQUFJLEdBQUcsSUFBSSxLQUFLLFNBQVMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQzVDLEVBQUUsT0FBTyxFQUFFLEtBQUssR0FBRyxJQUFJLEVBQUU7SUFDekIsSUFBSSxJQUFJLElBQUksR0FBRyxVQUFVLENBQUMsS0FBSyxFQUFFLFNBQVMsQ0FBQztJQUMzQyxRQUFRLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDNUI7SUFDQSxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0IsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDO0lBQ3pCLEdBQUc7SUFDSCxFQUFFLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQ3RCLEVBQUUsT0FBTyxLQUFLLENBQUM7SUFDZjs7SUN0QkE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLFlBQVksQ0FBQyxLQUFLLEVBQUU7SUFDN0IsRUFBRSxPQUFPLFdBQVcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN2Qzs7SUNaQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxFQUFFO0lBQ25DLEVBQUUsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO0lBQ2hCLE1BQU0sTUFBTSxHQUFHLEtBQUssSUFBSSxJQUFJLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNO0lBQy9DLE1BQU0sTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUM3QjtJQUNBLEVBQUUsT0FBTyxFQUFFLEtBQUssR0FBRyxNQUFNLEVBQUU7SUFDM0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekQsR0FBRztJQUNILEVBQUUsT0FBTyxNQUFNLENBQUM7SUFDaEI7O0lDaEJBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsU0FBUyxVQUFVLENBQUMsTUFBTSxFQUFFLEtBQUssRUFBRTtJQUNuQyxFQUFFLE9BQU8sUUFBUSxDQUFDLEtBQUssRUFBRSxTQUFTLEdBQUcsRUFBRTtJQUN2QyxJQUFJLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLEdBQUcsQ0FBQyxDQUFDO0lBQ0w7O0lDaEJBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsU0FBUyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUU7SUFDaEMsRUFBRSxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7SUFDaEIsTUFBTSxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3hCO0lBQ0EsRUFBRSxPQUFPLEVBQUUsS0FBSyxHQUFHLENBQUMsRUFBRTtJQUN0QixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDcEMsR0FBRztJQUNILEVBQUUsT0FBTyxNQUFNLENBQUM7SUFDaEI7O0lDakJBO0lBQ0EsSUFBSSxVQUFVLEdBQUcsT0FBTyxNQUFNLElBQUksUUFBUSxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxLQUFLLE1BQU0sSUFBSSxNQUFNLENBQUM7QUFDM0Y7QUFDQSx1QkFBZSxVQUFVOztJQ0R6QjtJQUNBLElBQUksUUFBUSxHQUFHLE9BQU8sSUFBSSxJQUFJLFFBQVEsSUFBSSxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sS0FBSyxNQUFNLElBQUksSUFBSSxDQUFDO0FBQ2pGO0lBQ0E7SUFDQSxJQUFJLElBQUksR0FBR3dMLFlBQVUsSUFBSSxRQUFRLElBQUksUUFBUSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUM7QUFDL0Q7QUFDQSxpQkFBZSxJQUFJOztJQ05uQjtJQUNBLElBQUl2SSxRQUFNLEdBQUc1SSxNQUFJLENBQUMsTUFBTSxDQUFDO0FBQ3pCO0FBQ0EsbUJBQWU0SSxRQUFNOztJQ0hyQjtJQUNBLElBQUl3SSxhQUFXLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUNuQztJQUNBO0lBQ0EsSUFBSUMsZ0JBQWMsR0FBR0QsYUFBVyxDQUFDLGNBQWMsQ0FBQztBQUNoRDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJRSxzQkFBb0IsR0FBR0YsYUFBVyxDQUFDLFFBQVEsQ0FBQztBQUNoRDtJQUNBO0lBQ0EsSUFBSUcsZ0JBQWMsR0FBRzNJLFFBQU0sR0FBR0EsUUFBTSxDQUFDLFdBQVcsR0FBRyxTQUFTLENBQUM7QUFDN0Q7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsU0FBUyxDQUFDLEtBQUssRUFBRTtJQUMxQixFQUFFLElBQUksS0FBSyxHQUFHeUksZ0JBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFRSxnQkFBYyxDQUFDO0lBQ3hELE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQ0EsZ0JBQWMsQ0FBQyxDQUFDO0FBQ2xDO0lBQ0EsRUFBRSxJQUFJO0lBQ04sSUFBSSxLQUFLLENBQUNBLGdCQUFjLENBQUMsR0FBRyxTQUFTLENBQUM7SUFDdEMsSUFBSSxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUM7SUFDeEIsR0FBRyxDQUFDLE9BQU8sQ0FBQyxFQUFFLEVBQUU7QUFDaEI7SUFDQSxFQUFFLElBQUksTUFBTSxHQUFHRCxzQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEQsRUFBRSxJQUFJLFFBQVEsRUFBRTtJQUNoQixJQUFJLElBQUksS0FBSyxFQUFFO0lBQ2YsTUFBTSxLQUFLLENBQUNDLGdCQUFjLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDbEMsS0FBSyxNQUFNO0lBQ1gsTUFBTSxPQUFPLEtBQUssQ0FBQ0EsZ0JBQWMsQ0FBQyxDQUFDO0lBQ25DLEtBQUs7SUFDTCxHQUFHO0lBQ0gsRUFBRSxPQUFPLE1BQU0sQ0FBQztJQUNoQjs7SUMzQ0E7SUFDQSxJQUFJSCxhQUFXLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUNuQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLG9CQUFvQixHQUFHQSxhQUFXLENBQUMsUUFBUSxDQUFDO0FBQ2hEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLGNBQWMsQ0FBQyxLQUFLLEVBQUU7SUFDL0IsRUFBRSxPQUFPLG9CQUFvQixDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxQzs7SUNmQTtJQUNBLElBQUksT0FBTyxHQUFHLGVBQWU7SUFDN0IsSUFBSSxZQUFZLEdBQUcsb0JBQW9CLENBQUM7QUFDeEM7SUFDQTtJQUNBLElBQUksY0FBYyxHQUFHeEksUUFBTSxHQUFHQSxRQUFNLENBQUMsV0FBVyxHQUFHLFNBQVMsQ0FBQztBQUM3RDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsU0FBUyxVQUFVLENBQUMsS0FBSyxFQUFFO0lBQzNCLEVBQUUsSUFBSSxLQUFLLElBQUksSUFBSSxFQUFFO0lBQ3JCLElBQUksT0FBTyxLQUFLLEtBQUssU0FBUyxHQUFHLFlBQVksR0FBRyxPQUFPLENBQUM7SUFDeEQsR0FBRztJQUNILEVBQUUsT0FBTyxDQUFDLGNBQWMsSUFBSSxjQUFjLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQztJQUMzRCxNQUFNLFNBQVMsQ0FBQyxLQUFLLENBQUM7SUFDdEIsTUFBTSxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDNUI7O0lDekJBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsWUFBWSxDQUFDLEtBQUssRUFBRTtJQUM3QixFQUFFLE9BQU8sS0FBSyxJQUFJLElBQUksSUFBSSxPQUFPLEtBQUssSUFBSSxRQUFRLENBQUM7SUFDbkQ7O0lDdkJBO0lBQ0EsSUFBSTRJLFNBQU8sR0FBRyxvQkFBb0IsQ0FBQztBQUNuQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsU0FBUyxlQUFlLENBQUMsS0FBSyxFQUFFO0lBQ2hDLEVBQUUsT0FBTyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJQSxTQUFPLENBQUM7SUFDN0Q7O0lDWkE7SUFDQSxJQUFJSixhQUFXLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUNuQztJQUNBO0lBQ0EsSUFBSUMsZ0JBQWMsR0FBR0QsYUFBVyxDQUFDLGNBQWMsQ0FBQztBQUNoRDtJQUNBO0lBQ0EsSUFBSSxvQkFBb0IsR0FBR0EsYUFBVyxDQUFDLG9CQUFvQixDQUFDO0FBQzVEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxXQUFXLEdBQUcsZUFBZSxDQUFDLFdBQVcsRUFBRSxPQUFPLFNBQVMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxHQUFHLGVBQWUsR0FBRyxTQUFTLEtBQUssRUFBRTtJQUMxRyxFQUFFLE9BQU8sWUFBWSxDQUFDLEtBQUssQ0FBQyxJQUFJQyxnQkFBYyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDO0lBQ3BFLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ2hELENBQUMsQ0FBQztBQUNGO0FBQ0Esd0JBQWUsV0FBVzs7SUNuQzFCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO0FBQzVCO0FBQ0Esb0JBQWUsT0FBTzs7SUN6QnRCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsU0FBUyxTQUFTLEdBQUc7SUFDckIsRUFBRSxPQUFPLEtBQUssQ0FBQztJQUNmOztJQ1pBO0lBQ0EsSUFBSUksYUFBVyxHQUFHLE9BQU8sT0FBTyxJQUFJLFFBQVEsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxJQUFJLE9BQU8sQ0FBQztBQUN4RjtJQUNBO0lBQ0EsSUFBSUMsWUFBVSxHQUFHRCxhQUFXLElBQUksT0FBTyxNQUFNLElBQUksUUFBUSxJQUFJLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLElBQUksTUFBTSxDQUFDO0FBQ2xHO0lBQ0E7SUFDQSxJQUFJRSxlQUFhLEdBQUdELFlBQVUsSUFBSUEsWUFBVSxDQUFDLE9BQU8sS0FBS0QsYUFBVyxDQUFDO0FBQ3JFO0lBQ0E7SUFDQSxJQUFJLE1BQU0sR0FBR0UsZUFBYSxHQUFHM1IsTUFBSSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7QUFDckQ7SUFDQTtJQUNBLElBQUksY0FBYyxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxHQUFHLFNBQVMsQ0FBQztBQUMxRDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLFFBQVEsR0FBRyxjQUFjLElBQUksU0FBUyxDQUFDO0FBQzNDO0FBQ0EscUJBQWUsUUFBUTs7SUNyQ3ZCO0lBQ0EsSUFBSTRSLGtCQUFnQixHQUFHLGdCQUFnQixDQUFDO0FBQ3hDO0lBQ0E7SUFDQSxJQUFJLFFBQVEsR0FBRyxrQkFBa0IsQ0FBQztBQUNsQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQ2hDLEVBQUUsSUFBSSxJQUFJLEdBQUcsT0FBTyxLQUFLLENBQUM7SUFDMUIsRUFBRSxNQUFNLEdBQUcsTUFBTSxJQUFJLElBQUksR0FBR0Esa0JBQWdCLEdBQUcsTUFBTSxDQUFDO0FBQ3REO0lBQ0EsRUFBRSxPQUFPLENBQUMsQ0FBQyxNQUFNO0lBQ2pCLEtBQUssSUFBSSxJQUFJLFFBQVE7SUFDckIsT0FBTyxJQUFJLElBQUksUUFBUSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNqRCxTQUFTLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLEdBQUcsTUFBTSxDQUFDLENBQUM7SUFDekQ7O0lDdEJBO0lBQ0EsSUFBSSxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztBQUN4QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUU7SUFDekIsRUFBRSxPQUFPLE9BQU8sS0FBSyxJQUFJLFFBQVE7SUFDakMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLGdCQUFnQixDQUFDO0lBQzlEOztJQzVCQTtJQUNBLElBQUksT0FBTyxHQUFHLG9CQUFvQjtJQUNsQyxJQUFJLFFBQVEsR0FBRyxnQkFBZ0I7SUFDL0IsSUFBSSxPQUFPLEdBQUcsa0JBQWtCO0lBQ2hDLElBQUksT0FBTyxHQUFHLGVBQWU7SUFDN0IsSUFBSSxRQUFRLEdBQUcsZ0JBQWdCO0lBQy9CLElBQUlDLFNBQU8sR0FBRyxtQkFBbUI7SUFDakMsSUFBSSxNQUFNLEdBQUcsY0FBYztJQUMzQixJQUFJLFNBQVMsR0FBRyxpQkFBaUI7SUFDakMsSUFBSSxTQUFTLEdBQUcsaUJBQWlCO0lBQ2pDLElBQUksU0FBUyxHQUFHLGlCQUFpQjtJQUNqQyxJQUFJLE1BQU0sR0FBRyxjQUFjO0lBQzNCLElBQUksU0FBUyxHQUFHLGlCQUFpQjtJQUNqQyxJQUFJLFVBQVUsR0FBRyxrQkFBa0IsQ0FBQztBQUNwQztJQUNBLElBQUksY0FBYyxHQUFHLHNCQUFzQjtJQUMzQyxJQUFJLFdBQVcsR0FBRyxtQkFBbUI7SUFDckMsSUFBSSxVQUFVLEdBQUcsdUJBQXVCO0lBQ3hDLElBQUksVUFBVSxHQUFHLHVCQUF1QjtJQUN4QyxJQUFJLE9BQU8sR0FBRyxvQkFBb0I7SUFDbEMsSUFBSSxRQUFRLEdBQUcscUJBQXFCO0lBQ3BDLElBQUksUUFBUSxHQUFHLHFCQUFxQjtJQUNwQyxJQUFJLFFBQVEsR0FBRyxxQkFBcUI7SUFDcEMsSUFBSSxlQUFlLEdBQUcsNEJBQTRCO0lBQ2xELElBQUksU0FBUyxHQUFHLHNCQUFzQjtJQUN0QyxJQUFJLFNBQVMsR0FBRyxzQkFBc0IsQ0FBQztBQUN2QztJQUNBO0lBQ0EsSUFBSSxjQUFjLEdBQUcsRUFBRSxDQUFDO0lBQ3hCLGNBQWMsQ0FBQyxVQUFVLENBQUMsR0FBRyxjQUFjLENBQUMsVUFBVSxDQUFDO0lBQ3ZELGNBQWMsQ0FBQyxPQUFPLENBQUMsR0FBRyxjQUFjLENBQUMsUUFBUSxDQUFDO0lBQ2xELGNBQWMsQ0FBQyxRQUFRLENBQUMsR0FBRyxjQUFjLENBQUMsUUFBUSxDQUFDO0lBQ25ELGNBQWMsQ0FBQyxlQUFlLENBQUMsR0FBRyxjQUFjLENBQUMsU0FBUyxDQUFDO0lBQzNELGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDakMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxHQUFHLGNBQWMsQ0FBQyxRQUFRLENBQUM7SUFDbEQsY0FBYyxDQUFDLGNBQWMsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUM7SUFDeEQsY0FBYyxDQUFDLFdBQVcsQ0FBQyxHQUFHLGNBQWMsQ0FBQyxPQUFPLENBQUM7SUFDckQsY0FBYyxDQUFDLFFBQVEsQ0FBQyxHQUFHLGNBQWMsQ0FBQ0EsU0FBTyxDQUFDO0lBQ2xELGNBQWMsQ0FBQyxNQUFNLENBQUMsR0FBRyxjQUFjLENBQUMsU0FBUyxDQUFDO0lBQ2xELGNBQWMsQ0FBQyxTQUFTLENBQUMsR0FBRyxjQUFjLENBQUMsU0FBUyxDQUFDO0lBQ3JELGNBQWMsQ0FBQyxNQUFNLENBQUMsR0FBRyxjQUFjLENBQUMsU0FBUyxDQUFDO0lBQ2xELGNBQWMsQ0FBQyxVQUFVLENBQUMsR0FBRyxLQUFLLENBQUM7QUFDbkM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsZ0JBQWdCLENBQUMsS0FBSyxFQUFFO0lBQ2pDLEVBQUUsT0FBTyxZQUFZLENBQUMsS0FBSyxDQUFDO0lBQzVCLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsY0FBYyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBQ2xFOztJQ3pEQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsU0FBUyxDQUFDLElBQUksRUFBRTtJQUN6QixFQUFFLE9BQU8sU0FBUyxLQUFLLEVBQUU7SUFDekIsSUFBSSxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2QixHQUFHLENBQUM7SUFDSjs7SUNUQTtJQUNBLElBQUksV0FBVyxHQUFHLE9BQU8sT0FBTyxJQUFJLFFBQVEsSUFBSSxPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsUUFBUSxJQUFJLE9BQU8sQ0FBQztBQUN4RjtJQUNBO0lBQ0EsSUFBSSxVQUFVLEdBQUcsV0FBVyxJQUFJLE9BQU8sTUFBTSxJQUFJLFFBQVEsSUFBSSxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxJQUFJLE1BQU0sQ0FBQztBQUNsRztJQUNBO0lBQ0EsSUFBSSxhQUFhLEdBQUcsVUFBVSxJQUFJLFVBQVUsQ0FBQyxPQUFPLEtBQUssV0FBVyxDQUFDO0FBQ3JFO0lBQ0E7SUFDQSxJQUFJLFdBQVcsR0FBRyxhQUFhLElBQUlWLFlBQVUsQ0FBQyxPQUFPLENBQUM7QUFDdEQ7SUFDQTtJQUNBLElBQUksUUFBUSxJQUFJLFdBQVc7SUFDM0IsRUFBRSxJQUFJO0lBQ047SUFDQSxJQUFJLElBQUksS0FBSyxHQUFHLFVBQVUsSUFBSSxVQUFVLENBQUMsT0FBTyxJQUFJLFVBQVUsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ3JGO0lBQ0EsSUFBSSxJQUFJLEtBQUssRUFBRTtJQUNmLE1BQU0sT0FBTyxLQUFLLENBQUM7SUFDbkIsS0FBSztBQUNMO0lBQ0E7SUFDQSxJQUFJLE9BQU8sV0FBVyxJQUFJLFdBQVcsQ0FBQyxPQUFPLElBQUksV0FBVyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM3RSxHQUFHLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRTtJQUNoQixDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ0w7QUFDQSxxQkFBZSxRQUFROztJQ3pCdkI7SUFDQSxJQUFJLGdCQUFnQixHQUFHVyxVQUFRLElBQUlBLFVBQVEsQ0FBQyxZQUFZLENBQUM7QUFDekQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxZQUFZLEdBQUcsZ0JBQWdCLEdBQUcsU0FBUyxDQUFDLGdCQUFnQixDQUFDLEdBQUcsZ0JBQWdCLENBQUM7QUFDckY7QUFDQSx5QkFBZSxZQUFZOztJQ25CM0I7SUFDQSxJQUFJVixhQUFXLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUNuQztJQUNBO0lBQ0EsSUFBSUMsZ0JBQWMsR0FBR0QsYUFBVyxDQUFDLGNBQWMsQ0FBQztBQUNoRDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFO0lBQ3pDLEVBQUUsSUFBSSxLQUFLLEdBQUdwVSxTQUFPLENBQUMsS0FBSyxDQUFDO0lBQzVCLE1BQU0sS0FBSyxHQUFHLENBQUMsS0FBSyxJQUFJK1UsYUFBVyxDQUFDLEtBQUssQ0FBQztJQUMxQyxNQUFNLE1BQU0sR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLEtBQUssSUFBSUMsVUFBUSxDQUFDLEtBQUssQ0FBQztJQUNsRCxNQUFNLE1BQU0sR0FBRyxDQUFDLEtBQUssSUFBSSxDQUFDLEtBQUssSUFBSSxDQUFDLE1BQU0sSUFBSUMsY0FBWSxDQUFDLEtBQUssQ0FBQztJQUNqRSxNQUFNLFdBQVcsR0FBRyxLQUFLLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxNQUFNO0lBQ3RELE1BQU0sTUFBTSxHQUFHLFdBQVcsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsR0FBRyxFQUFFO0lBQ2pFLE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDN0I7SUFDQSxFQUFFLEtBQUssSUFBSSxHQUFHLElBQUksS0FBSyxFQUFFO0lBQ3pCLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSVosZ0JBQWMsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsQ0FBQztJQUNyRCxRQUFRLEVBQUUsV0FBVztJQUNyQjtJQUNBLFdBQVcsR0FBRyxJQUFJLFFBQVE7SUFDMUI7SUFDQSxZQUFZLE1BQU0sS0FBSyxHQUFHLElBQUksUUFBUSxJQUFJLEdBQUcsSUFBSSxRQUFRLENBQUMsQ0FBQztJQUMzRDtJQUNBLFlBQVksTUFBTSxLQUFLLEdBQUcsSUFBSSxRQUFRLElBQUksR0FBRyxJQUFJLFlBQVksSUFBSSxHQUFHLElBQUksWUFBWSxDQUFDLENBQUM7SUFDdEY7SUFDQSxXQUFXLE9BQU8sQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDO0lBQy9CLFNBQVMsQ0FBQyxFQUFFO0lBQ1osTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLEtBQUs7SUFDTCxHQUFHO0lBQ0gsRUFBRSxPQUFPLE1BQU0sQ0FBQztJQUNoQjs7SUM5Q0E7SUFDQSxJQUFJRCxhQUFXLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztBQUNuQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsU0FBUyxXQUFXLENBQUMsS0FBSyxFQUFFO0lBQzVCLEVBQUUsSUFBSSxJQUFJLEdBQUcsS0FBSyxJQUFJLEtBQUssQ0FBQyxXQUFXO0lBQ3ZDLE1BQU0sS0FBSyxHQUFHLENBQUMsT0FBTyxJQUFJLElBQUksVUFBVSxJQUFJLElBQUksQ0FBQyxTQUFTLEtBQUtBLGFBQVcsQ0FBQztBQUMzRTtJQUNBLEVBQUUsT0FBTyxLQUFLLEtBQUssS0FBSyxDQUFDO0lBQ3pCOztJQ2ZBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLE9BQU8sQ0FBQyxJQUFJLEVBQUUsU0FBUyxFQUFFO0lBQ2xDLEVBQUUsT0FBTyxTQUFTLEdBQUcsRUFBRTtJQUN2QixJQUFJLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLEdBQUcsQ0FBQztJQUNKOztJQ1ZBO0lBQ0EsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDOUM7QUFDQSx1QkFBZSxVQUFVOztJQ0Z6QjtJQUNBLElBQUksV0FBVyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUM7QUFDbkM7SUFDQTtJQUNBLElBQUksY0FBYyxHQUFHLFdBQVcsQ0FBQyxjQUFjLENBQUM7QUFDaEQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsUUFBUSxDQUFDLE1BQU0sRUFBRTtJQUMxQixFQUFFLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEVBQUU7SUFDNUIsSUFBSSxPQUFPYyxZQUFVLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDOUIsR0FBRztJQUNILEVBQUUsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ2xCLEVBQUUsS0FBSyxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUU7SUFDbEMsSUFBSSxJQUFJLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxhQUFhLEVBQUU7SUFDbEUsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZCLEtBQUs7SUFDTCxHQUFHO0lBQ0gsRUFBRSxPQUFPLE1BQU0sQ0FBQztJQUNoQjs7SUMzQkE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUU7SUFDekIsRUFBRSxJQUFJLElBQUksR0FBRyxPQUFPLEtBQUssQ0FBQztJQUMxQixFQUFFLE9BQU8sS0FBSyxJQUFJLElBQUksS0FBSyxJQUFJLElBQUksUUFBUSxJQUFJLElBQUksSUFBSSxVQUFVLENBQUMsQ0FBQztJQUNuRTs7SUN6QkE7SUFDQSxJQUFJLFFBQVEsR0FBRyx3QkFBd0I7SUFDdkMsSUFBSSxPQUFPLEdBQUcsbUJBQW1CO0lBQ2pDLElBQUksTUFBTSxHQUFHLDRCQUE0QjtJQUN6QyxJQUFJLFFBQVEsR0FBRyxnQkFBZ0IsQ0FBQztBQUNoQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLFVBQVUsQ0FBQyxLQUFLLEVBQUU7SUFDM0IsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO0lBQ3hCLElBQUksT0FBTyxLQUFLLENBQUM7SUFDakIsR0FBRztJQUNIO0lBQ0E7SUFDQSxFQUFFLElBQUksR0FBRyxHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM5QixFQUFFLE9BQU8sR0FBRyxJQUFJLE9BQU8sSUFBSSxHQUFHLElBQUksTUFBTSxJQUFJLEdBQUcsSUFBSSxRQUFRLElBQUksR0FBRyxJQUFJLFFBQVEsQ0FBQztJQUMvRTs7SUMvQkE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQUU7SUFDNUIsRUFBRSxPQUFPLEtBQUssSUFBSSxJQUFJLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN2RTs7SUMxQkE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDdEIsRUFBRSxPQUFPLFdBQVcsQ0FBQyxNQUFNLENBQUMsR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3hFOztJQy9CQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsU0FBUyxNQUFNLENBQUMsTUFBTSxFQUFFO0lBQ3hCLEVBQUUsT0FBTyxNQUFNLElBQUksSUFBSSxHQUFHLEVBQUUsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2hFOztJQzVCQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsV0FBVyxDQUFDLFVBQVUsRUFBRTtJQUNqQyxFQUFFLE9BQU8sV0FBVyxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0lBQ3pDOztJQ1JBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsT0FBTyxDQUFDLFVBQVUsRUFBRTtJQUM3QixFQUFFLElBQUksSUFBSSxHQUFHbFYsU0FBTyxDQUFDLFVBQVUsQ0FBQyxHQUFHLFlBQVksR0FBRyxXQUFXLENBQUM7SUFDOUQsRUFBRSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUMxQjs7SUNwQkE7Ozs7O0lBS0c7YUFDYSxjQUFjLEdBQUE7UUFDMUIsTUFBTSxHQUFHLEdBQUcsQ0FBQyxHQUFHc0gsQ0FBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLElBQUEsT0FBTzBCLENBQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztJQUMvQzs7SUNpSEE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBb0JHO0lBQ0csU0FBVSx3QkFBd0IsQ0FBaUMsRUFDckUsK0JBQStCLEVBQUUsRUFBRSxRQUFRLEVBQUUsWUFBWSxFQUFFLEVBQzFCLEVBQUE7OztRQUlqQyxNQUFNLFNBQVMsR0FBR0EsQ0FBTSxDQUFDLElBQUksR0FBRyxFQUFrQixDQUFDLENBQUM7UUFDcEQsTUFBTSxXQUFXLEdBQUdBLENBQU0sQ0FBQyxJQUFJLEdBQUcsRUFBa0IsQ0FBQyxDQUFDO1FBQ3RELE1BQU0sWUFBWSxHQUFHTyxHQUFXLENBQUMsQ0FBQyxDQUFTLE1BQU0sU0FBUyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckYsTUFBTSxjQUFjLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLENBQVMsTUFBTSxXQUFXLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6RixJQUFBLE1BQU0sa0JBQWtCLEdBQUcsZUFBZSxDQUFDLFlBQVksQ0FBQyxDQUFDOztJQUt6RCxJQUFBLE1BQU00TCxTQUFPLEdBQUc1TCxHQUFXLENBQUMsQ0FBQyxXQUErQixLQUEwQjtZQUNsRixNQUFNLFlBQVksR0FBRzZMLE9BQWEsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQTtJQUM1RCxRQUFBLE9BQU8sU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ25DLEtBQUMsRUFBRSwyQkFBMEIsQ0FBQyxDQUFDOzs7Ozs7SUFRL0IsSUFBQSxNQUFNLENBQUMsY0FBYyxFQUFFLGNBQWMsQ0FBQyxHQUFHLGVBQWUsQ0FBNkIsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRXZHLElBQUEsTUFBTSxTQUFTLEdBQUc3TCxHQUFXLENBQUMsQ0FBQyxVQUFlLEtBQUk7SUFFOUMsUUFBQSxTQUFTLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzFCLFFBQUEsV0FBVyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQzs7O0lBSTVCLFFBQUEsS0FBSyxJQUFJLGFBQWEsR0FBRyxDQUFDLEVBQUUsYUFBYSxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsRUFBRSxhQUFhLEVBQUU7Z0JBQzVFLE1BQU0sZUFBZSxHQUFHLFVBQVUsQ0FBQyxhQUFhLENBQUMsQ0FBQyxLQUFLLENBQUM7Z0JBRXhELFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUMsQ0FBQztnQkFDdEQsV0FBVyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLGVBQWUsQ0FBQyxDQUFDO0lBQzNELFNBQUE7WUFFRCxrQkFBa0IsRUFBRSxJQUFJLENBQUM7WUFDekIsY0FBYyxFQUFFLElBQUksQ0FBQztTQUN4QixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBQSxNQUFNLHFCQUFxQixHQUFHQSxHQUFXLENBQUMsQ0FBQyxRQUFpQixLQUFJO1lBQzVELE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0lBRXhDLFFBQUEsTUFBTSxXQUFXLEdBQUcsY0FBYyxFQUFFLENBQUM7WUFDckNSLENBQWUsQ0FBQyxNQUFLLEVBQUcsY0FBYyxDQUFDLEtBQUssSUFBSSxXQUFXLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFBO0lBRS9FLFFBQUEsT0FBUSxRQUF5QjtJQUM1QixhQUFBLEtBQUssRUFBRTtpQkFDUCxHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUUsS0FBSyxFQUFFLFlBQVksRUFBRSxZQUFZLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBRSxDQUFDLEVBQUUsY0FBYyxFQUFFLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDeEcsYUFBQSxJQUFJLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFPLEVBQUEsT0FBTyxHQUFHLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxZQUFZLENBQUEsRUFBRSxDQUFDO2lCQUNsRSxHQUFHLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsY0FBYyxFQUFFLEtBQUk7Z0JBQzdDLE9BQU9zTSxHQUFDLENBQUMsS0FBSyxDQUFDLElBQVcsRUFBRSxFQUFFLEdBQUcsS0FBSyxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsY0FBYyxFQUFFLG9CQUFvQixFQUFFLFlBQVksRUFBRSxzQkFBc0IsRUFBRSxjQUFjLEVBQUUsQ0FBQyxDQUFDO0lBQ3JKLFNBQUMsQ0FBQyxDQUFDO1NBQ1YsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLE1BQU0sV0FBVyxHQUFHOUwsR0FBVyxDQUFDLENBQUMsV0FBK0IsRUFBRSxTQUErQixLQUFJO1lBQ2pHLE9BQU8sV0FBVyxDQUFDLFVBQVUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUc7SUFDeEMsWUFBQSxJQUFJLFNBQVM7SUFDVCxnQkFBQSxRQUFRLFNBQVMsQ0FBQyxLQUFLLENBQUMsRUFBRTs7SUFFMUIsZ0JBQUEsT0FBTyxLQUFLLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDcEMsU0FBQyxDQUFDLENBQUE7U0FDTCxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRVAsT0FBTzs7SUFFSCxRQUFBLDJCQUEyQixFQUFFO2dCQUN6QixZQUFZO2dCQUNaLGNBQWM7Z0JBQ2QsU0FBUztnQkFDVCxXQUFXO2dCQUNYLFNBQVM7eUJBQ1Q0TCxTQUFPO2dCQUNQLHFCQUFxQjtnQkFDckIsV0FBVztJQUNiLFNBQUE7U0FDTCxDQUFDO0lBQ04sQ0FBQztJQUdEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW9CRztJQUNhLFNBQUEsbUJBQW1CLENBQWlDLEVBQ2hFLCtCQUErQixFQUMvQiwwQkFBMEIsRUFBRSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsRUFDckIsRUFBQTtRQUUvQixNQUFNLFVBQVUsR0FBRyxlQUFlLENBQWEsV0FBVyxJQUFJLGNBQWMsQ0FBQyxDQUFDO1FBRTlFLE1BQU0sRUFBRSwyQkFBMkIsRUFBRSxHQUFHLHdCQUF3QixDQUFJLEVBQUUsK0JBQStCLEVBQUUsQ0FBQyxDQUFDO0lBQ3pHLElBQUEsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLDJCQUEyQixDQUFDOztRQUVsRCxNQUFNLElBQUksR0FBRzVMLEdBQVcsQ0FBQyxDQUFDLFdBQStCLEVBQUUsU0FBcUMsS0FBMEI7SUFDdEgsUUFBQSxNQUFNLE9BQU8sR0FBRyxVQUFVLEVBQUUsQ0FBQztJQUU3QixRQUFBLE1BQU0sVUFBVSxHQUFHLE9BQU8sR0FBRyxXQUFXLENBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLE1BQU0sS0FBSTtnQkFFMUUsTUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDO2dCQUN4QixNQUFNLFFBQVEsR0FBRyxNQUFNLENBQUM7Z0JBQ3hCLE1BQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxRQUFRLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDM0MsWUFBQSxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHO29CQUNuQixPQUFPLENBQUMsTUFBTSxDQUFDO0lBQ25CLFlBQUEsT0FBTyxNQUFNLENBQUM7YUFFakIsQ0FBQyxHQUFHLFdBQVcsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUU5QixRQUFBLE9BQU8sU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBRWpDLEtBQUMsRUFBRSwyQkFBMkIsQ0FBQyxDQUFDO1FBRWhDLE9BQU87WUFDSCxzQkFBc0IsRUFBRSxFQUFFLElBQUksRUFBRTtZQUNoQywyQkFBMkI7U0FDOUIsQ0FBQztJQUNOLENBQUM7SUFFRDs7Ozs7O0lBTUc7SUFFSDs7Ozs7SUFLRztJQUNIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUEyQkc7SUFFYSxTQUFBLGNBQWMsQ0FBQyxHQUFxQyxFQUFFLEdBQXFDLEVBQUE7SUFDdkcsSUFBQSxPQUFPLFFBQVEsQ0FBQyxHQUFHLEVBQUUsWUFBWSxFQUFFLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUM7SUFFMUQsSUFBQSxTQUFTLFFBQVEsQ0FBQyxHQUF3QixFQUFFLEdBQXdCLEVBQUE7SUFDaEUsUUFBQSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtnQkFDNUIsSUFBSSxHQUFHLElBQUksSUFBSTtvQkFDWCxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUNkLElBQUksR0FBRyxJQUFJLElBQUk7SUFDWCxnQkFBQSxPQUFPLENBQUMsQ0FBQztJQUNoQixTQUFBO1lBRUQsT0FBUSxHQUFXLEdBQUksR0FBVyxDQUFDO1NBQ3RDO0lBQ0w7O0lDMVRnQixTQUFBLHdDQUF3QyxDQUF1TyxFQUMzUiwrQkFBK0IsRUFDL0IsMEJBQTBCLEVBQzFCLDBCQUEwQixFQUMxQixHQUFHLHVDQUF1QyxFQUN3RCxFQUFBO0lBQ2xHLElBQUEsTUFBTSxFQUFFLEdBQUcsR0FBRyxFQUFFLEdBQUcsbUJBQW1CLENBQUssRUFBRSwrQkFBK0IsRUFBRSwwQkFBMEIsRUFBRSxDQUFDLENBQUM7UUFDNUcsTUFBTSxFQUFFLDJCQUEyQixFQUFFLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxFQUFFLEdBQUcsR0FBRyxDQUFDO1FBQzlFLE1BQU0sR0FBRyxHQUFHLGdDQUFnQyxDQUFzRDtZQUM5RiwwQkFBMEIsRUFBRSxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsR0FBRywwQkFBMEIsRUFBRTtJQUMzRixRQUFBLEdBQUcsdUNBQXVDO0lBQzdDLEtBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQSxPQUFPLEVBQUUsR0FBRyxHQUFHLEVBQUUsR0FBRyxHQUFHLEdBQUcsQ0FBQTtJQUM5Qjs7YUNsQmdCLGdDQUFnQyxDQUF3SSxFQUNwTCwwQkFBMEIsRUFDMUIsd0JBQXdCLEVBQ3hCLDZCQUE2QixFQUM3Qix5QkFBeUIsRUFDekIscUJBQXFCLEVBQ3JCLEdBQUcsTUFBTSxFQUN1RSxFQUFBO0lBQ2hGLElBQUEsTUFBTSxHQUFHLEdBQUcsaUJBQWlCLENBQXdDLEVBQUUsMEJBQTBCLEVBQUUsd0JBQXdCLEVBQUUsNkJBQTZCLEVBQUUscUJBQXFCLEVBQUUsQ0FBQyxDQUFDO0lBQ3JMLElBQUEsTUFBTSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsR0FBRyxDQUFDO0lBQ3JDLElBQUEsTUFBTSxHQUFHLEdBQUcsa0JBQWtCLENBQWUsRUFBRSxvQkFBb0IsRUFBRSxxQkFBcUIsRUFBRSx5QkFBeUIsRUFBRSxDQUFDLENBQUM7UUFJekgsT0FBTztJQUNILFFBQUEsR0FBRyxHQUFHO0lBQ04sUUFBQSxHQUFHLEdBQUc7U0FDVCxDQUFBO0lBQ0wsQ0FBQzthQVVlLHFDQUFxQyxDQUErQixFQUNoRixzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRSxHQUFHLE1BQU0sRUFBRSxFQUM1Qyw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLEtBQUssRUFBRSxFQUNuRCw4QkFBOEIsRUFDOUIsc0JBQXNCLEVBQ3RCLDBCQUEwQixFQUMxQiwrQkFBK0IsRUFDL0IsZ0JBQWdCLEVBQ2hCLHFCQUFxQixFQUNyQixHQUFHLE1BQU0sRUFDbUQsRUFBQTtRQUU1RCxNQUFNLEVBQ0YseUJBQXlCLEVBQUUsRUFBRSw0QkFBNEIsRUFBRSxNQUFNLEVBQUUsR0FBRyxNQUFNLEVBQUUsRUFDOUUsZUFBZSxFQUFFLEVBQUUsV0FBVyxFQUFFLEVBQ2hDLEdBQUcsSUFBSSxFQUNWLEdBQUcsdUJBQXVCLENBQWU7WUFDdEMsc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUU7WUFDakMsOEJBQThCO1lBQzlCLHNCQUFzQjtJQUN6QixLQUFBLENBQUMsQ0FBQztRQUVILE1BQU0sRUFDRix5QkFBeUIsRUFBRSxFQUFFLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxHQUFHLE1BQU0sRUFBRSxFQUM5RSxlQUFlLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFDakMsR0FBRyxJQUFJLEVBQ1YsR0FBRyxzQkFBc0IsQ0FBZTtZQUNyQyxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtZQUNqQyw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRTtZQUN6QywwQkFBMEI7WUFDMUIsK0JBQStCO1lBQy9CLGdCQUFnQjtZQUNoQixxQkFBcUI7SUFDeEIsS0FBQSxDQUFDLENBQUM7UUFRSCxPQUFPO0lBQ0gsUUFBQSx5QkFBeUIsRUFBRTtnQkFDdkIsNEJBQTRCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsQ0FBQyxLQUFJO29CQUM5RSxNQUFNLEdBQUcsT0FBTyxFQUFFLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUN4QyxNQUFNLEdBQUcsT0FBTyxFQUFFLGlCQUFpQixFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzVDLGFBQUMsQ0FBQztJQUNMLFNBQUE7SUFDRCxRQUFBLGVBQWUsRUFBRSxFQUFFLFdBQVcsRUFBRSxZQUFZLEVBQUU7SUFDOUMsUUFBQSxHQUFHLElBQUk7SUFDUCxRQUFBLEdBQUcsSUFBSTtTQUNWLENBQUE7SUFDTDs7SUN4R0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTK0wsVUFBUSxDQUFDLEtBQUssRUFBRTtJQUN6QixFQUFFLE9BQU8sS0FBSyxDQUFDO0lBQ2Y7O0lDMEJNLFNBQVUsb0JBQW9CLENBQTJELEVBQzNGLHFCQUFxQixFQUFFLEVBQUUsV0FBVyxFQUFFLEVBQ3RDLDBCQUEwQixFQUFFLEVBQUUsY0FBYyxFQUFFLEVBQzlDLDJCQUEyQixFQUFFLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxFQUF3QyxFQUFBO1FBRXJHLE1BQU0sQ0FBQyxVQUFVLEVBQUUsYUFBYSxDQUFDLEdBQUcsUUFBUSxDQUFDLElBQXFCLENBQUMsQ0FBQztRQUNwRSxNQUFNLGlCQUFpQixJQUFJLGFBQWEsSUFBSSxJQUFJLElBQUksYUFBYSxJQUFJLElBQUksQ0FBQyxDQUFDO0lBRTNFLElBQUEsTUFBTSxjQUFjLEdBQUd0TSxDQUFNLENBQUMsRUFBRSxhQUFhLEVBQUUsSUFBcUIsRUFBRSxhQUFhLEVBQUUsSUFBcUIsRUFBRSxDQUFDLENBQUM7UUFDOUcsTUFBTSxpQkFBaUIsR0FBR08sR0FBVyxDQUFDLENBQUMsYUFBNEIsRUFBRSxhQUE0QixLQUFJO1lBQ2pHLE1BQU0sUUFBUSxJQUFJLFdBQVcsRUFBRSxDQUFDLGVBQWUsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDO1lBQ3ZELEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUU7Z0JBQ2hDLE1BQU0sT0FBTyxJQUFJLENBQUMsS0FBSyxhQUFhLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksYUFBYSxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdkYsWUFBQSxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUNoRixZQUFBLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN0RSxZQUFBLElBQUksT0FBTztvQkFDUCxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsd0JBQXdCLENBQUMsV0FBVyxFQUFFLENBQUMsZUFBZSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDN0csU0FBQTtJQUVMLEtBQUMsRUFBRSxzQkFBcUIsQ0FBQyxDQUFBO1FBQ3pCUixDQUFlLENBQUMsTUFBSztJQUNqQixRQUFBLGlCQUFpQixDQUFDLGFBQWEsRUFBRSxhQUFhLENBQUMsQ0FBQztJQUNoRCxRQUFBLGNBQWMsQ0FBQyxPQUFPLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUNyRCxRQUFBLGNBQWMsQ0FBQyxPQUFPLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN6RCxLQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUUsYUFBYSxDQUFDLENBQUMsQ0FBQzs7SUFHbkMsSUFBQSxNQUFNLENBQUMsR0FBR0MsQ0FBTSxDQUFDLGlCQUFpQixDQUFDLENBQUM7SUFDcEMsSUFBQSxDQUFDLENBQUMsT0FBTyxHQUFHLGlCQUFpQixDQUFDO1FBRTlCLE9BQU87WUFDSCxPQUFPLEVBQUUsZUFBZSxDQUFDO2dCQUNyQixxQkFBcUIsRUFBRSxlQUFlLENBQUM7SUFDbkMsZ0JBQUEscUJBQXFCLEVBQUVPLEdBQVcsQ0FBQyxNQUFRLEVBQUEsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7OztJQUduRSxnQkFBQSwyQkFBMkIsRUFBRUEsR0FBVyxDQUFDLENBQUMsQ0FBQyxLQUFPLEVBQUEsT0FBTyxpQkFBaUIsSUFBSSxDQUFDLEtBQUssYUFBYSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLGFBQWEsSUFBSSxRQUFRLENBQUMsSUFBSSxJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztpQkFDckssQ0FBQzthQUNMLENBQUM7SUFDRixRQUFBLHlCQUF5QixFQUFFO0lBQ3ZCLFlBQUEsa0JBQWtCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxLQUFhLEtBQUk7SUFDcEQsZ0JBQUEsSUFBSSxhQUFhLElBQUksSUFBSSxJQUFJLGFBQWEsSUFBSSxJQUFJLEVBQUU7d0JBQ2hELGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQixvQkFBQSxNQUFNLEdBQUcsSUFBSSxhQUFhLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDakMsb0JBQUEsTUFBTSxHQUFHLElBQUksYUFBYSxJQUFJLEtBQUssQ0FBQyxDQUFDO3dCQUNyQyxLQUFLLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFOzRCQUM1QixXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsQ0FBQzs0QkFDaEUsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLHdCQUF3QixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNELHFCQUFBO0lBQ0osaUJBQUE7SUFDSSxxQkFBQTs7d0JBRUQsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZCLGlCQUFBO0lBQ0wsYUFBQyxDQUFDO0lBQ0wsU0FBQTtJQUNELFFBQUEsdUJBQXVCLEVBQUUsRUFBRSxpQkFBaUIsRUFBRSxVQUFVLEVBQUU7U0FDN0QsQ0FBQTtJQUNMLENBQUM7SUFvQkssU0FBVSxpQkFBaUIsQ0FBK0IsRUFBRSxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLHFCQUFxQixFQUFFLEVBQUUsMkJBQTJCLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxFQUErQixFQUFBO1FBQzFOLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxvQkFBb0IsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxxQkFBcUIsRUFBRSxDQUFDLENBQUM7UUFDcEYsTUFBTSxDQUFDLHFCQUFxQixFQUFFLHdCQUF3QixDQUFDLEdBQUcsUUFBUSxDQUFDLElBQXFCLENBQUMsQ0FBQztJQUMxRixJQUFBLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHLFFBQVEsQ0FBQywyQkFBMkIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBSTdGLE9BQU87WUFDSCxLQUFLLEVBQUUsQ0FBQyxpQkFBaUIsR0FBRyxFQUFFLEdBQUssRUFBRSxjQUFjLEVBQUUscUJBQXFCLElBQUksU0FBUyxFQUFFLGVBQWUsR0FBRyxLQUFLLEdBQUcsQ0FBQyxDQUFDLEVBQTBDO1lBQy9KLG9CQUFvQixFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixFQUFFLG9CQUFvQixFQUFFLGlCQUFpQixHQUFHLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxFQUFFO0lBQy9JLFFBQUEsc0JBQXNCLEVBQUU7SUFDcEIsWUFBQSxvQkFBb0IsRUFBRSxtQkFBbUI7Z0JBQ3pDLHdCQUF3QjtnQkFDeEIsb0JBQW9CO0lBQ3ZCLFNBQUE7U0FDSixDQUFBO0lBQ0w7O0lDbkdBOzs7Ozs7O0lBT0c7SUFDYSxTQUFBLG9CQUFvQixDQUEyRCxFQUMzRixxQkFBcUIsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUN0QywyQkFBMkIsRUFBRSxFQUFFLFNBQVMsRUFBRSxFQUNQLEVBQUE7Ozs7UUFNbkMsTUFBTSxDQUFDLG1CQUFtQixFQUFFLHNCQUFzQixDQUFDLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBRTFFLElBQUEsTUFBTSxhQUFhLEdBQUdQLENBQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLElBQUEsTUFBTSxxQkFBcUIsR0FBR08sR0FBVyxDQUFDLE1BQUs7SUFDM0MsUUFBQSxJQUFJLGFBQWEsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDO0lBQzNCLFlBQUEsWUFBWSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUV4QyxRQUFBLGFBQWEsQ0FBQyxPQUFPLEdBQUcsVUFBVSxDQUFDLE1BQUs7OztJQUdwQyxZQUFBLGFBQWEsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBQzNCLHdCQUF3QixDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLHFCQUFxQixFQUFFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3ZGLEVBQUUsRUFBRSxDQUFDLENBQUE7SUFDVixLQUFDLEVBQUUsc0JBQXFCLENBQUMsQ0FBQTs7OztJQUt6QixJQUFBLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRSxxQkFBcUIsQ0FBQyxHQUFHLGVBQWUsQ0FBdUJBLEdBQVcsQ0FBQyxDQUFDLFFBQXVCLEVBQUUsU0FBb0MsS0FBSTs7OztJQU12SyxRQUFBLEtBQUssSUFBSSxDQUFDLElBQUksU0FBUyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxRQUFRLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUU7Z0JBQ3JELFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ25FLFNBQUE7SUFFRCxRQUFBLElBQUksYUFBYSxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsRUFBRTtJQUM3QixZQUFBLHFCQUFxQixFQUFFLENBQUM7OztnQkFJeEIsd0JBQXdCLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4RSxTQUFBO1NBQ0osRUFBRSxzQkFBcUIsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDOztJQUl2QyxJQUFBLE1BQU0sQ0FBQyx3QkFBd0IsRUFBRSx3QkFBd0IsQ0FBQyxHQUFHLGVBQWUsQ0FBdUJBLEdBQVcsQ0FBQyxDQUFDLFFBQXVCLEVBQUUsU0FBb0MsS0FBSTtZQUM3SyxJQUFJLFFBQVEsSUFBSSxJQUFJLEVBQUU7Z0JBQ2xCLE9BQU87SUFDVixTQUFBO1lBRUQsc0JBQXNCLENBQUMsUUFBUSxLQUFLLHFCQUFxQixFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzs7Ozs7OztJQVNuRSxRQUFBLEtBQUssSUFBSSxDQUFDLElBQUksU0FBUyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUU7Z0JBQzlDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNyRCxTQUFBOztJQUdELFFBQUEscUJBQXFCLEVBQUUsQ0FBQztJQUV4Qjs7O0lBR0c7U0FFTixFQUFFLHNCQUFxQixDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUE7SUFFdEMsSUFBQSxNQUFNLGlCQUFpQixJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUV4QyxJQUFBLE1BQU0sOENBQThDLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLEtBQWEsS0FBSTtJQUNqRixRQUFBLHdCQUF3QixDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLHFCQUFxQixFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQzlHLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFUFIsQ0FBZSxDQUFDLE1BQUs7SUFDakIsUUFBQSxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7OztJQUlsRixLQUFDLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUM7SUFFeEIsSUFBQSxNQUFNLDRDQUE0QyxHQUFHUSxHQUFXLENBQUMsQ0FBQyxZQUFvQixLQUFJO1lBQ3RGLHFCQUFxQixDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUE7U0FDbkUsRUFBRSxFQUFFLENBQUMsQ0FBQzs7SUFHUCxJQUFBLE1BQU0zRCxHQUFDLEdBQUdvRCxDQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUNwQyxJQUFBcEQsR0FBQyxDQUFDLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQztRQUU5QixPQUFPO0lBQ0gsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLGVBQWUsRUFBRSxtQkFBbUIsRUFBRTtZQUNqRSxPQUFPLEVBQUUsZUFBZSxDQUFDO2dCQUNyQixxQkFBcUIsRUFBRSxlQUFlLENBQUM7b0JBQ25DLDhDQUE4QztvQkFDOUMsNENBQTRDOzs7Ozs7SUFNNUMsZ0JBQUEscUJBQXFCLEVBQUUyRCxHQUFXLENBQUMsTUFBSztJQUNwQyxvQkFBQSxPQUFPLGlCQUFpQixDQUFDO3FCQUM1QixFQUFFLEVBQUUsQ0FBQztJQUNOLGdCQUFBLDBCQUEwQixFQUFFQSxHQUFXLENBQUMsQ0FBQyxDQUFDLEtBQUk7SUFDMUMsb0JBQUEsSUFBSSxpQkFBaUIsRUFBRTtJQUNuQix3QkFBQSxNQUFNLFlBQVksR0FBRyx3QkFBd0IsRUFBRSxDQUFDOzRCQUNoRCxJQUFJLFlBQVksSUFBSSxJQUFJO0lBQ3BCLDRCQUFBLE9BQU8sS0FBSyxDQUFDOzRCQUNqQixPQUFPLENBQUMsR0FBRyxZQUFZLENBQUM7SUFDM0IscUJBQUE7SUFDSSx5QkFBQTtJQUNELHdCQUFBLE9BQU8sSUFBSSxDQUFDO0lBQ2YscUJBQUE7cUJBQ0osRUFBRSxFQUFFLENBQUM7aUJBQ1QsQ0FBQzthQUNMLENBQUM7U0FDTCxDQUFBO0lBQ0wsQ0FBQztJQTBCSyxTQUFVLGlCQUFpQixDQUErQixFQUFFLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUscUJBQXFCLEVBQUUsRUFBRSw0Q0FBNEMsRUFBRSxxQkFBcUIsRUFBRSwwQkFBMEIsRUFBRSw4Q0FBOEMsRUFBRSxFQUFFLEVBQStCLEVBQUE7UUFDdlQsTUFBTSxDQUFDLGlCQUFpQixFQUFFLG9CQUFvQixDQUFDLEdBQUcsUUFBUSxDQUFDLHFCQUFxQixFQUFFLENBQUMsQ0FBQztJQUNwRixJQUFBLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRSxtQkFBbUIsQ0FBQyxHQUFHLFFBQVEsQ0FBQywwQkFBMEIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRTVGUixDQUFlLENBQUMsTUFBSztZQUNqQiw0Q0FBNEMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN4RCxLQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1FBRVpKLENBQVMsQ0FBQyxNQUFLO0lBQ1gsUUFBQSxLQUFLLGlCQUFpQixJQUFJLGdCQUFnQjtnQkFDdEMsOENBQThDLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDN0QsRUFBRSxDQUFDLEtBQUssR0FBRyxpQkFBaUIsSUFBSSxnQkFBZ0IsRUFBRSxDQUFDLENBQUE7UUFFcEQsT0FBTztZQUNILEtBQUssRUFBRSxDQUFDLGlCQUFpQixHQUFHLEVBQUUsR0FBRyxFQUFFLFdBQVcsRUFBRSxDQUFDLENBQUMsZ0JBQWdCLEVBQUUsUUFBUSxFQUFFLEVBQVE7WUFDdEYsb0JBQW9CLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxXQUFXLEVBQUUsaUJBQWlCLEVBQUUsb0JBQW9CLEVBQUUsaUJBQWlCLEdBQUUsQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLEVBQUU7SUFDOUksUUFBQSxzQkFBc0IsRUFBRTtJQUNwQixZQUFBLG1CQUFtQixFQUFFLG1CQUFtQjtnQkFDeEMsb0JBQW9CO0lBQ3ZCLFNBQUE7U0FDSixDQUFBO0lBQ0w7O0lDbkxBOzs7Ozs7SUFNRztJQUNHLFNBQVUsb0JBQW9CLENBQStCLElBQWtELEVBQUE7UUFFakgsTUFBTSxFQUFFLDJCQUEyQixFQUFFLEVBQUUsc0JBQXNCLEVBQUUsRUFBRSxHQUFHLElBQUksQ0FBQztJQUV6RSxJQUFBLE1BQU0sQ0FBQyxhQUFhLEVBQUUsYUFBYSxDQUFDLEdBQUcsZUFBZSxDQUFhLHNCQUFzQixFQUFFLFdBQVcsRUFBRSxjQUFjLENBQUMsQ0FBQztJQUN4SCxJQUFBLE1BQU0sQ0FBQyxjQUFjLEVBQUUsYUFBYSxDQUFDLEdBQUcsZUFBZSxDQUFZLGlCQUFpQixDQUFrQyxDQUFDLFVBQVUsRUFBRSxvQkFBb0IsRUFBRSxDQUFDLEtBQUk7WUFDMUosT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLElBQUksQ0FBQyxJQUFJLFVBQVUsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNuRCxRQUFBLGFBQWEsQ0FBQyxDQUFDLEVBQUUsVUFBVSxJQUFJLENBQUMsb0JBQW9CLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztTQUM3RCxDQUFDLENBQUMsQ0FBQztRQUVKLE9BQU87WUFDSCx1QkFBdUIsRUFBRSxFQUFFLGFBQWEsRUFBRTtJQUMxQyxRQUFBLDZCQUE2QixFQUFFLGVBQWUsQ0FBQyxFQUFFLGdDQUFnQyxFQUFFLGVBQWUsQ0FBQyxFQUFFLGFBQWEsRUFBRSxDQUFDLEVBQUUsQ0FBQztTQUMzSCxDQUFBO0lBQ0wsQ0FBQztJQUVlLFNBQUEseUJBQXlCLENBQW9CLEVBQUUsNkJBQTZCLEVBQUUsRUFBRSxnQ0FBZ0MsRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLEVBQTBDLEVBQUE7UUFDM0wsT0FBTztJQUNILFFBQUEseUJBQXlCLEVBQUU7Z0JBQ3ZCLDRCQUE0QixFQUFFLGlCQUFpQixDQUFDLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUk7SUFDakUsZ0JBQUEsSUFBSSxPQUFPLEVBQUU7SUFDVCxvQkFBQSxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkMsaUJBQUE7SUFDSSxxQkFBQSxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksRUFBRTtJQUN2QixvQkFBQSxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDdkMsaUJBQUE7SUFDTCxhQUFDLENBQUM7SUFDTCxTQUFBO1NBQ0osQ0FBQztJQUNOOztJQzVCTSxTQUFVLGtCQUFrQixDQUFpQixJQUFxQyxFQUFBO1FBRXBGLE1BQU0sRUFDRix5QkFBeUIsRUFBRSxFQUFFLHVCQUF1QixFQUFFLGdCQUFnQixFQUFFLDRCQUE0QixFQUFFLHFCQUFxQixFQUFFLEVBQzdILGdCQUFnQixFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQ25DLEdBQUcsSUFBSSxDQUFDO1FBR1Qsa0JBQWtCLENBQUMsb0JBQW9CLEVBQUUsZ0JBQWdCLEVBQUUscUJBQXFCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFOUYsSUFBQSxNQUFNLENBQUMsVUFBVSxFQUFFLFVBQVUsQ0FBQyxHQUFHLGVBQWUsQ0FBYSxnQkFBZ0IsRUFBRSxXQUFXLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFDNUcsSUFBQSxNQUFNLENBQUMsZUFBZSxFQUFFLGVBQWUsQ0FBQyxHQUFHLGVBQWUsQ0FBYSxxQkFBcUIsRUFBRSxXQUFXLEVBQUUsY0FBYyxDQUFDLENBQUM7SUFFM0gsSUFBQSxNQUFNLFNBQVMsR0FBR1ksR0FBVyxDQUFrRCxDQUFDLENBQUMsS0FBSTtJQUVqRixRQUFBLGVBQWUsQ0FBQyxJQUFJLEVBQUUsQ0FBTSxDQUFDLENBQUM7WUFDOUIsVUFBVSxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksVUFBVSxFQUFFLEVBQUUsQ0FBTSxDQUFDLENBQUE7U0FDL0MsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLElBQUEsTUFBTSxVQUFVLEdBQUdBLEdBQVcsQ0FBa0QsQ0FBQyxDQUFDLEtBQUk7Ozs7SUFJbEYsUUFBQSxlQUFlLENBQUMsS0FBSyxFQUFFLENBQU0sQ0FBQyxDQUFDO0lBQy9CLFFBQUEsVUFBVSxDQUFDLEtBQUssRUFBRSxDQUFNLENBQUMsQ0FBQztTQUM3QixFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRVBaLENBQVMsQ0FBQyxNQUFLO0lBQ1gsUUFBQSxPQUFPLE1BQUs7Z0JBQ1IsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO2dCQUNsQixlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDM0IsU0FBQyxDQUFBO1NBQ0osRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQLE1BQU0sV0FBVyxHQUFHSyxDQUFNLENBQTBCO0lBQ2hELFFBQUEsU0FBUyxFQUFFLFNBQVM7SUFDcEIsUUFBQSxVQUFVLEVBQUUsVUFBVTtJQUN6QixLQUFBLENBQUMsQ0FBQztRQUVITCxDQUFTLENBQUMsTUFBSztJQUNYLFFBQUEsT0FBTyxNQUFLO2dCQUNSLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQztnQkFDbEIsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNCLFNBQUMsQ0FBQTtTQUNKLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFUCxPQUFPO0lBQ0gsUUFBQSxxQkFBcUIsRUFBRTtnQkFDbkIsV0FBVyxFQUFFLFdBQVcsQ0FBQyxPQUFPO0lBQ2hDLFlBQUEsaUJBQWlCLEVBQUUsVUFBVTtJQUM3QixZQUFBLHNCQUFzQixFQUFFLGVBQWU7SUFDMUMsU0FBQTtTQUNKLENBQUM7SUFDTjs7SUNtQk0sU0FBVSx5QkFBeUIsQ0FBK04sRUFDcFEsd0JBQXdCLEVBQ3hCLDBCQUEwQixFQUMxQix3QkFBd0IsRUFDeEIseUJBQXlCLEVBQ3pCLDZCQUE2QixFQUM3QiwwQkFBMEIsRUFDMUIsK0JBQStCLEVBQy9CLDJCQUEyQixFQUMzQiwyQkFBMkIsRUFDd0QsRUFBQTtJQUVuRixJQUFBLE1BQU0sV0FBVyxHQUE4QlksR0FBVyxDQUE0QixNQUFNLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3JJLElBQUEsTUFBTSxvQkFBb0IsR0FBbUJBLEdBQVcsQ0FBZSxNQUFNLFdBQVcsRUFBRSxDQUFDLGVBQWUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBR2xILElBQUEsTUFBTSxPQUFPLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLENBQVMsS0FBSTtZQUN0QyxNQUFNLEtBQUssR0FBRyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxLQUFLLElBQUksSUFBSTtJQUNiLFlBQUEsT0FBTyxLQUFLLENBQUM7WUFDakIsSUFBSSxLQUFLLENBQUMsTUFBTTtJQUNaLFlBQUEsT0FBTyxLQUFLLENBQUM7SUFDakIsUUFBQSxPQUFPLElBQUksQ0FBQztTQUNmLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFUCxNQUFNLEVBQ0YsMkJBQTJCLEVBQzNCLHlCQUF5QixFQUN6QiwwQkFBMEIsRUFDMUIsc0JBQXNCLEVBQ3RCLCtCQUErQixFQUMvQix3QkFBd0IsRUFDeEIsMkJBQTJCLEVBQzNCLEdBQUcsbUNBQW1DLEVBQ3pDLEdBQUcsd0NBQXdDLENBQXNEO1lBQzlGLHdCQUF3QjtZQUN4QiwwQkFBMEIsRUFBRSxFQUFFLGVBQWUsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsR0FBRywwQkFBMEIsRUFBRTtZQUM3RyxxQkFBcUIsRUFBRSxFQUFFLFdBQVcsRUFBRTtZQUN0Qyx3QkFBd0IsRUFBRSxFQUFFLG9CQUFvQixFQUFFLHlCQUF5QixDQUFDLHNCQUFzQixFQUFFLEdBQUcsd0JBQXdCLEVBQUU7WUFDakkseUJBQXlCO0lBQ3pCLFFBQUEsNkJBQTZCLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyw2QkFBNkIsRUFBRTtJQUM1RSxRQUFBLCtCQUErQixFQUFFO0lBQzdCLFlBQUEsWUFBWSxFQUFFLGlCQUFpQixDQUFDLE1BQUssRUFBRyxpQkFBaUIsQ0FBQywyQkFBMkIsQ0FBQyxhQUFhLEVBQUUsMkJBQTJCLENBQUMsYUFBYSxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ25KLFlBQUEsR0FBRywrQkFBK0I7SUFDckMsU0FBQTtZQUNELDBCQUEwQjtJQUM3QixLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsTUFBTSxFQUFFLHNCQUFzQixFQUFFLHlCQUF5QixFQUFFLEdBQUcsbUNBQW1DLENBQUM7SUFDbEcsSUFBQSxNQUFNLEVBQUUsY0FBYyxFQUFFLEdBQUcsMkJBQTJCLENBQUM7SUFFdkQsSUFBQSxNQUFNLEVBQUUsNkJBQTZCLEVBQUUsdUJBQXVCLEVBQUUsR0FBRyxvQkFBb0IsQ0FBYSxFQUFFLDJCQUEyQixFQUFFLENBQUMsQ0FBQztJQUNySSxJQUFBLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxtQkFBbUIsRUFBRSxFQUFFLHFCQUFxQixFQUFFLEdBQUcsa0JBQWtCLENBQUssRUFBRSx5QkFBeUIsRUFBRSxFQUFFLGtCQUFrQixFQUFFLGlCQUFpQixDQUFDLENBQUMsSUFBSSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcseUJBQXlCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDL04sSUFBQSxNQUFNLEVBQUUsdUJBQXVCLEVBQUUsdUJBQXVCLEVBQUUsRUFBRSxpQkFBaUIsRUFBRSxFQUFFLHlCQUF5QixFQUFFLEVBQUUsa0JBQWtCLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxFQUFFLEdBQUcsb0JBQW9CLENBQWlCLEVBQUUscUJBQXFCLEVBQUUsMkJBQTJCLEVBQUUsMEJBQTBCLEVBQUUsRUFBRSxjQUFjLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeFQsSUFBQSxNQUFNLEVBQUUsT0FBTyxFQUFFLEVBQUUscUJBQXFCLEVBQUUsRUFBRSx1QkFBdUIsRUFBRSxHQUFHLG9CQUFvQixDQUFDLEVBQUUscUJBQXFCLEVBQUUsMkJBQTJCLEVBQUUsQ0FBQyxDQUFBO0lBQ3BKLElBQUEsTUFBTSxLQUFLLEdBQUcsY0FBYyxDQUFDLHNCQUFzQixDQUFDLFdBQVcsRUFBRSx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN4Rzs7SUFFSztRQUNMLE1BQU0sT0FBTyxHQUFHLGVBQWUsQ0FBcUY7WUFDaEgsc0JBQXNCO1lBQ3RCLG1CQUFtQjtZQUNuQiwwQkFBMEI7WUFDMUIsK0JBQStCO1lBQy9CLDZCQUE2QjtZQUM3Qix3QkFBd0I7WUFDeEIscUJBQXFCO1lBQ3JCLHFCQUFxQjtJQUN4QixLQUFBLENBQUMsQ0FBQztRQUVILE9BQU87WUFDSCxPQUFPO1lBQ1AsS0FBSztZQUVMLHFCQUFxQjtZQUNyQiwyQkFBMkI7WUFDM0IsdUJBQXVCO0lBQ3ZCLFFBQUEsR0FBRyxtQ0FBbUM7WUFDdEMsdUJBQXVCO1lBQ3ZCLHVCQUF1QjtTQUMxQixDQUFBO0lBRUwsQ0FBQztJQUVlLFNBQUEsNEJBQTRCLENBQTJMLEVBQ25PLDBCQUEwQixFQUFFLEVBQ3hCLHNCQUFzQixFQUN0QixPQUFPLEVBQUUsRUFBRSw2QkFBNkIsRUFBRSx3QkFBd0IsRUFBRSxtQkFBbUIsRUFBRSxJQUFJLEVBQUUsMEJBQTBCLEVBQUUsc0JBQXNCLEVBQUUsK0JBQStCLEVBQUUscUJBQXFCLEVBQUUscUJBQXFCLEVBQUUsRUFDbE8sbUNBQW1DLEVBQ25DLDhCQUE4QixFQUM5Qiw2QkFBNkIsRUFDN0IsNkJBQTZCLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFDekMscUJBQXFCLEVBQ3JCLEdBQUcsMEJBQTBCLEVBQ2hDLEVBQ0QsNEJBQTRCLEVBQUUsRUFDMUIsMEJBQTBCLEVBQzFCLHdCQUF3QixFQUN4Qiw2QkFBNkIsRUFDN0IsR0FBRyw0QkFBNEIsRUFDbEMsRUFDcUUsRUFBQTtJQUV0RSxJQUFBLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxzQkFBc0IsQ0FBQztJQUN6QyxJQUFBLE1BQU0sRUFDRixzQkFBc0IsRUFBRSxFQUFFLHdCQUF3QixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixFQUFFLEVBQ2hHLG9CQUFvQixFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxFQUFFLG9CQUFvQixFQUFFLEVBQzdFLEtBQUssRUFBRSxlQUFlLEVBQ3pCLEdBQUcsaUJBQWlCLENBQWEsRUFBRSxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLHFCQUFxQixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRTdHLElBQUEsTUFBTSxFQUNGLHNCQUFzQixFQUFFLEVBQUUsb0JBQW9CLEVBQUUsbUJBQW1CLEVBQUUsRUFDckUsb0JBQW9CLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxXQUFXLEVBQUUsb0JBQW9CLEVBQUUsRUFDN0UsS0FBSyxFQUFFLGNBQWMsRUFDeEIsR0FBRyxpQkFBaUIsQ0FBYSxFQUFFLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUscUJBQXFCLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFFNUcsNkJBQTZCLENBQUMsTUFBTSxNQUFNLG9CQUFvQixJQUFJLG9CQUFvQixDQUFDLENBQUM7SUFDeEYsSUFBQSw4QkFBOEIsQ0FBQyxRQUFRLEtBQUssNkJBQTZCLENBQUMsTUFBTSxDQUFDO0lBRWpGLElBQUEsTUFBTSxXQUFXLEdBQUdBLEdBQVcsQ0FBQyxNQUFNLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQy9FLElBQUEsTUFBTSxvQkFBb0IsR0FBbUJBLEdBQVcsQ0FBZSxNQUFNLFdBQVcsRUFBRSxDQUFDLGVBQWUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2xILElBQUEsTUFBTSxPQUFPLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLENBQVMsS0FBSTtZQUN0QyxNQUFNLEtBQUssR0FBRyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxLQUFLLElBQUksSUFBSTtJQUNiLFlBQUEsT0FBTyxLQUFLLENBQUM7WUFDakIsSUFBSSxLQUFLLENBQUMsTUFBTTtJQUNaLFlBQUEsT0FBTyxLQUFLLENBQUM7SUFDakIsUUFBQSxPQUFPLElBQUksQ0FBQztTQUNmLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFUCxJQUFBLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLGFBQWEsQ0FBYSxFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFHckYsTUFBTSxDQUFDLEdBQTJFLG1DQUFtQyxDQUFrQztJQUNuSixRQUFBLDRCQUE0QixFQUFFO0lBQzFCLFlBQUEsR0FBRyw0QkFBNEI7Z0JBQy9CLHdCQUF3QixFQUFFLEVBQUUsb0JBQW9CLEVBQUUsQ0FBQyxFQUFFLEdBQUcsd0JBQXdCLEVBQUU7SUFDbEYsWUFBQSw2QkFBNkIsRUFBRSxFQUFFLE9BQU8sRUFBRSxHQUFHLDZCQUE2QixFQUFFO2dCQUM1RSwwQkFBMEIsRUFBRSxFQUFFLE9BQU8sRUFBRSxlQUFlLEVBQUUsb0JBQW9CLEVBQUUsa0JBQWtCLEVBQUUsQ0FBQyxFQUFFLGNBQWMsRUFBRStMLFVBQVEsRUFBRSxZQUFZLEVBQUVBLFVBQVEsRUFBRSxHQUFHLDBCQUEwQixFQUFFO2dCQUN0TCxxQkFBcUIsRUFBRSxFQUFFLFdBQVcsRUFBRTtJQUN6QyxTQUFBO0lBQ0QsUUFBQSwwQkFBMEIsRUFBRTtJQUN4QixZQUFBLEdBQUcsMEJBQTBCO2dCQUM3QixnQkFBZ0I7Z0JBQ2hCLDZCQUE2QjtnQkFDN0Isd0JBQXdCO2dCQUN4QiwwQkFBMEI7Z0JBQzFCLHNCQUFzQjtnQkFDdEIsK0JBQStCO2dCQUMvQiw4QkFBOEI7Z0JBQzlCLHNCQUFzQjtJQUN0QixZQUFBLHFCQUFxQixFQUFFLEVBQUUsTUFBTSxFQUFFLEdBQUcscUJBQXFCLEVBQUU7Z0JBQzNELHFCQUFxQixFQUFFLEVBQUUsV0FBVyxFQUFFO0lBQ3pDLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsTUFBTSxFQUFFLHNCQUFzQixFQUFFLHdCQUF3QixFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBRy9ELE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxtQkFBbUIsRUFBRSxFQUFFLHFCQUFxQixFQUFFLEdBQUcsa0JBQWtCLENBQUssRUFBRSx5QkFBeUIsRUFBRSxDQUFDLENBQUMsd0JBQXdCLENBQUMseUJBQXlCLEVBQUUsQ0FBQyxDQUFDO0lBQ2hMLElBQUEsTUFBTSxFQUFFLFVBQVUsRUFBRSxHQUFHLGdCQUFnQixDQUFDO0lBRXhDLElBQUEsTUFBTSxRQUFRLEdBQThEO1lBQ3hFLFVBQVU7SUFDVixRQUFBLFdBQVcsRUFBRSxDQUFDLENBQUMsc0JBQXNCLENBQUMseUJBQXlCLENBQUMsV0FBVztJQUMzRSxRQUFBLFdBQVcsRUFBRSxDQUFDLENBQUMsc0JBQXNCLENBQUMseUJBQXlCLENBQUMsV0FBVztJQUMzRSxRQUFBLFFBQVEsRUFBRSxDQUFDLENBQUMsc0JBQXNCLENBQUMseUJBQXlCLENBQUMsUUFBUTtZQUNyRSxLQUFLLEVBQUUsc0JBQXNCLENBQUMsS0FBSztZQUNuQyxNQUFNLEVBQUUsNkJBQTZCLENBQUMsTUFBTTtJQUM1QyxRQUFBLFFBQVEsRUFBRSxDQUFDLENBQUMsc0JBQXNCLENBQUMsMEJBQTBCLENBQUMsUUFBUTtJQUN0RSxRQUFBLFNBQVMsRUFBRSxDQUFDLENBQUMsc0JBQXNCLENBQUMsMkJBQTJCLENBQUMsU0FBUztJQUN6RSxRQUFBLFdBQVcsRUFBRSxDQUFDLENBQUMsc0JBQXNCLENBQUMsMEJBQTBCLENBQUMsV0FBVztJQUM1RSxRQUFBLGdCQUFnQixFQUFFLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQyxzQkFBc0IsQ0FBQyxnQkFBZ0I7WUFDbEYsUUFBUSxFQUFFLDhCQUE4QixDQUFDLFFBQVE7SUFDakQsUUFBQSxzQkFBc0IsRUFBRSxDQUFDLENBQUMsc0JBQXNCLENBQUMsMkJBQTJCLENBQUMsc0JBQXNCO0lBQ25HLFFBQUEsWUFBWSxFQUFFLDBCQUEwQixDQUFDLHVCQUF1QixDQUFDLFlBQVk7WUFDN0Usb0JBQW9CO0lBQ3BCLFFBQUEsd0JBQXdCLEVBQUUsd0JBQXdCO1lBQ2xELG9CQUFvQjtZQUNwQixvQkFBb0I7WUFDcEIsbUJBQW1CO1NBQ3RCLENBQUE7SUFFRCxJQUFBLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxHQUFHLGVBQWUsQ0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFLG1CQUFtQixFQUFFLElBQUksRUFBRSxFQUFFLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLEdBQUcsUUFBUSxFQUFFLEdBQUcsbUNBQW1DLEVBQVEsQ0FBQyxDQUFBO1FBR2hNLE1BQU0sT0FBTyxHQUFHLGVBQWUsQ0FBZ0U7WUFDM0YsbUJBQW1CO0lBQ25CLFFBQUEsMEJBQTBCLEVBQUUsQ0FBQyxDQUFDLHdCQUF3QixDQUFDLDBCQUEwQjtJQUNqRixRQUFBLCtCQUErQixFQUFFLENBQUMsQ0FBQyx3QkFBd0IsQ0FBQywrQkFBK0I7O0lBRTNGLFFBQUEseUJBQXlCLEVBQUUsQ0FBQyxDQUFDLHdCQUF3QixDQUFDLHlCQUF5QjtJQUNsRixLQUFBLENBQUMsQ0FBQztRQUNILE1BQU0sRUFBRSx5QkFBeUIsRUFBRSxHQUFHLHlCQUF5QixDQUFDLEVBQUUsNkJBQTZCLEVBQUUsQ0FBQyxDQUFDOztRQUVuRyxNQUFNLEVBQUUscUJBQXFCLEVBQUUsR0FBRyxrQkFBa0IsQ0FBQyxFQUFFLGdCQUFnQixFQUFFLHlCQUF5QixFQUFFLEVBQUUsR0FBRyx5QkFBeUIsRUFBRSx1QkFBdUIsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDdkssSUFBQSxNQUFNLEtBQUssR0FBRyxjQUFjLENBQ3hCLGdCQUFnQixDQUFDLFdBQVc7OztJQUc1QixJQUFBLENBQUMsQ0FBQyxzQkFBc0IsQ0FBQywwQkFBMEIsQ0FBQyxhQUFhLEVBQ2pFLENBQUMsQ0FBQyx3QkFBd0IsQ0FBQyxzQkFBc0IsQ0FBQyxXQUFXLEVBQzdELENBQUMsQ0FBQyx3QkFBd0IsQ0FBQyx5QkFBeUIsQ0FBQyxXQUFXLEVBQ2hFLHFCQUFxQixDQUFDLFdBQVcsRUFDakMsZUFBZSxFQUNmLGNBQWMsQ0FDakIsQ0FBQztRQUVGLE9BQU87WUFDSCxPQUFPO1lBQ1AsS0FBSztJQUNMLFFBQUEsd0JBQXdCLEVBQUU7SUFDdEIsWUFBQSxHQUFHLHdCQUF3QjtnQkFDM0IscUJBQXFCO0lBQ3hCLFNBQUE7SUFDRCxRQUFBLHNCQUFzQixFQUFFO0lBQ3BCLFlBQUEsR0FBRyxzQkFBc0I7Z0JBQ3pCLGtCQUFrQjtJQUNsQixZQUFBLG9CQUFvQixFQUFFLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLG9CQUFvQixFQUFFO0lBQzdFLFlBQUEsb0JBQW9CLEVBQUUsRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsb0JBQW9CLEVBQUU7SUFDaEYsU0FBQTtZQUNELHFCQUFxQjs7O1NBSXhCLENBQUE7SUFDTCxDQUFDO0lBRWUsU0FBQSw2QkFBNkIsQ0FBd0YsRUFDakksNEJBQTRCLEVBQzVCLHNCQUFzQixFQUN0QixPQUFPLEVBQUUsRUFBRSx5QkFBeUIsRUFBRSxtQkFBbUIsRUFBRSwwQkFBMEIsRUFBRSwrQkFBK0IsRUFBRSxFQUN4SCw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUN6Qyw2QkFBNkIsRUFDN0IscUJBQXFCO0lBQ3JCO0lBQ0Esb0NBQW9DLEVBQUUsRUFBRSxTQUFTLEVBQUUsR0FBRyxvQ0FBb0MsRUFBRTtJQUM1RjtJQUNBO0lBQ3NELEVBQUEsRUFBQTtJQUV0RCxJQUFBLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxzQkFBc0IsQ0FBQztJQUV6QyxJQUFBLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLGFBQWEsQ0FBYyxFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFdEYsTUFBTSxFQUNGLHlCQUF5QixFQUN6Qix5QkFBeUIsRUFDekIsaUJBQWlCLEVBQ2pCLGVBQWUsRUFDbEIsR0FBRyxvQ0FBb0MsQ0FBYztZQUNsRCx5QkFBeUI7WUFDekIsNEJBQTRCO1lBQzVCLHNCQUFzQjtZQUN0QiwwQkFBMEI7WUFDMUIsK0JBQStCO1lBQy9CLDZCQUE2QjtZQUM3QixnQkFBZ0I7SUFDaEIsUUFBQSxxQkFBcUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLHFCQUFxQixFQUFFO0lBQzlELEtBQUEsQ0FBQyxDQUFDO1FBRUgsTUFBTSxFQUFFLHFCQUFxQixFQUFFLEdBQUcsa0JBQWtCLENBQWMsRUFBRSx5QkFBeUIsRUFBRSxFQUFFLHVCQUF1QixFQUFFLElBQUksRUFBRSxHQUFHLHlCQUF5QixFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDO0lBSXBMOzs7Ozs7Ozs7O0lBVU07SUFJTixJQUFBLE1BQU0sUUFBUSxHQUFtRDtZQUM3RCxTQUFTO1lBQ1QsVUFBVSxFQUFFLGdCQUFnQixDQUFDLFVBQVU7WUFDdkMsTUFBTSxFQUFFLDZCQUE2QixDQUFDLE1BQU07WUFDNUMsS0FBSyxFQUFFLHNCQUFzQixDQUFDLEtBQUs7WUFDbkMsV0FBVyxFQUFFLHlCQUF5QixDQUFDLFdBQVc7WUFDbEQsV0FBVyxFQUFFLHlCQUF5QixDQUFDLFdBQVc7WUFDbEQsUUFBUSxFQUFFLHlCQUF5QixDQUFDLFFBQVE7O1NBRS9DLENBQUE7SUFFRCxJQUFBLE1BQU0sRUFBRSxrQkFBa0IsRUFBRSxHQUFHLGVBQWUsQ0FBSTtZQUM5QyxPQUFPLEVBQUUsRUFBRSxtQkFBbUIsRUFBRTtZQUNoQyxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtTQUNwQyxFQUNHO0lBQ0ksUUFBQSxHQUFHLFFBQVE7SUFDWCxRQUFBLEdBQUcsb0NBQW9DO0lBQ3JDLEtBQUEsQ0FBQyxDQUFBO0lBRVgsSUFBQSxNQUFNLEtBQUssR0FBRyxjQUFjLENBQ3hCLGdCQUFnQixDQUFDLFdBQVc7O0lBRTVCLElBQUEseUJBQXlCLENBQUMsYUFBYSxFQUN2QyxxQkFBcUIsQ0FBQyxXQUFXLENBQ3BDLENBQUM7UUFFRixPQUFPO1lBQ0gsS0FBSztZQUNMLGdCQUFnQjtZQUNoQix5QkFBeUI7WUFDekIsZUFBZTs7WUFFZixxQkFBcUI7WUFDckIsa0JBQWtCO1lBQ2xCLGlCQUFpQjtTQUNwQixDQUFBO0lBQ0w7O0lDOVhBOzs7Ozs7Ozs7SUFTRztJQUNHLFNBQVUseUJBQXlCLENBQTBILEVBQy9KLDBCQUEwQixFQUMxQiwrQkFBK0IsRUFDL0IsMEJBQTBCLEVBQzFCLDZCQUE2QixFQUM3Qix3QkFBd0IsRUFDeEIseUJBQXlCLEVBQ3pCLDJCQUEyQixFQUMzQiwyQkFBMkIsRUFDM0IsR0FBRyxnQ0FBZ0MsRUFDK0IsRUFBQTs7SUFFbEUsSUFBQSxNQUFNLEVBQUUsc0JBQXNCLEVBQUUsR0FBRyx5QkFBeUIsQ0FBQztJQUM3RCxJQUFBLE1BQU0sV0FBVyxHQUE2Qi9MLEdBQVcsQ0FBQyxNQUFNLHFCQUFxQixDQUFDLFdBQVcsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ3pHLElBQUEsTUFBTSxvQkFBb0IsR0FBbUJBLEdBQVcsQ0FBZSxNQUFNLFdBQVcsRUFBRSxDQUFDLGVBQWUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2xILElBQUEsTUFBTSxPQUFPLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLENBQVMsS0FBSTtZQUN0QyxNQUFNLEtBQUssR0FBRyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckMsUUFBQSxJQUFJLENBQUMsS0FBSztJQUNOLFlBQUEsT0FBTyxLQUFLLENBQUM7WUFDakIsSUFBSSxLQUFLLENBQUMsTUFBTTtJQUNaLFlBQUEsT0FBTyxLQUFLLENBQUM7SUFDakIsUUFBQSxPQUFPLElBQUksQ0FBQztTQUNmLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFUCxJQUFBLE1BQU0sRUFBRSwyQkFBMkIsRUFBRSxFQUFFLGNBQWMsRUFBRSxZQUFZLEVBQUUsR0FBRywyQkFBMkIsRUFBRSxFQUFFLHNCQUFzQixFQUFFLEdBQUcsbUJBQW1CLENBQUk7SUFDckosUUFBQSwrQkFBK0IsRUFBRTtJQUM3QixZQUFBLFlBQVksRUFBRSxpQkFBaUIsQ0FBQyxNQUFLLEVBQUcsaUJBQWlCLENBQUMsMkJBQTJCLENBQUMsYUFBYSxFQUFFLDJCQUEyQixDQUFDLGFBQWEsQ0FBQyxDQUFBLEVBQUUsQ0FBQztJQUNsSixZQUFBLEdBQUcsK0JBQStCO0lBQ3JDLFNBQUE7WUFDRCwwQkFBMEI7SUFDN0IsS0FBQSxDQUFDLENBQUM7UUFDSCxNQUFNLEVBQ0YsMkJBQTJCLEVBQzNCLHlCQUF5QixFQUN6QiwwQkFBMEIsRUFDMUIsK0JBQStCLEVBQy9CLHNCQUFzQixFQUN0QixzQkFBc0IsRUFDdEIsb0JBQW9CLEVBQ3BCLHFCQUFxQixFQUNyQix5QkFBeUIsRUFDNUIsR0FBRyxnQ0FBZ0MsQ0FBaUM7WUFDakUscUJBQXFCLEVBQUUsRUFBRSxXQUFXLEVBQUU7SUFDdEMsUUFBQSwwQkFBMEIsRUFBRSxFQUFFLGVBQWUsRUFBRSxvQkFBb0IsRUFBRSxPQUFPLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxHQUFHLDBCQUEwQixFQUFFO0lBQzNJLFFBQUEsNkJBQTZCLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyw2QkFBNkIsRUFBRTtZQUM1RSx3QkFBd0IsRUFBRSxFQUFFLG9CQUFvQixFQUFFLHNCQUFzQixFQUFFLEdBQUcsd0JBQXdCLEVBQUU7WUFDdkcseUJBQXlCO0lBQ3pCLFFBQUEsR0FBRyxnQ0FBZ0M7SUFDdEMsS0FBQSxDQUFDLENBQUM7OztJQU1ILElBQUEsTUFBTSxFQUFFLDZCQUE2QixFQUFFLHVCQUF1QixFQUFFLEdBQUcsb0JBQW9CLENBQUMsRUFBRSwyQkFBMkIsRUFBRSxDQUFDLENBQUM7UUFDekgsTUFBTSxFQUFFLE9BQU8sRUFBRSxFQUFFLG1CQUFtQixFQUFFLEVBQUUscUJBQXFCLEVBQUUsR0FBRyxrQkFBa0IsQ0FBSTtJQUN0RixRQUFBLHlCQUF5QixFQUFFO0lBQ3ZCLFlBQUEsa0JBQWtCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLEtBQU8sRUFBQSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQSxFQUFFLENBQUM7SUFDdkUsWUFBQSxHQUFHLHlCQUF5QjtJQUMvQixTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7SUFDSCxJQUFBLE1BQU0sRUFBRSx1QkFBdUIsRUFBRSx1QkFBdUIsRUFBRSxFQUFFLGlCQUFpQixFQUFFLEVBQUUseUJBQXlCLEVBQUUsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLHFCQUFxQixFQUFFLEVBQUUsR0FBRyxvQkFBb0IsQ0FBa0IsRUFBRSxxQkFBcUIsRUFBRSwyQkFBMkIsRUFBRSwwQkFBMEIsRUFBRSxFQUFFLGNBQWMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6VCxJQUFBLE1BQU0sRUFBRSxPQUFPLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxFQUFFLHVCQUF1QixFQUFFLEdBQUcsb0JBQW9CLENBQUMsRUFBRSxxQkFBcUIsRUFBRSwyQkFBMkIsRUFBRSxDQUFDLENBQUM7SUFDckosSUFBQSxNQUFNLEtBQUssR0FBRyxjQUFjLENBQWdCLHNCQUFzQixDQUFDLFdBQVcsRUFBRSx5QkFBeUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUN2SCxNQUFNLE9BQU8sR0FBRyxlQUFlLENBQWdFO1lBQzNGLHNCQUFzQjtZQUN0QixtQkFBbUI7WUFDbkIsMEJBQTBCO1lBQzFCLCtCQUErQjtZQUMvQiw2QkFBNkI7WUFDN0IscUJBQXFCO1lBQ3JCLHFCQUFxQjtJQUN4QixLQUFBLENBQUMsQ0FBQztRQUVILE9BQU87WUFDSCxPQUFPO1lBQ1AsS0FBSztZQUVMLHFCQUFxQjtJQUNyQixRQUFBLDJCQUEyQixFQUFFO2dCQUN6QixjQUFjO2dCQUNkLFlBQVk7SUFDWixZQUFBLEdBQUcsMkJBQTJCO0lBQ2pDLFNBQUE7WUFDRCx1QkFBdUI7WUFDdkIsdUJBQXVCO1lBQ3ZCLHNCQUFzQjtZQUN0QixzQkFBc0I7WUFDdEIsb0JBQW9CO1lBQ3BCLHFCQUFxQjtZQUNyQix5QkFBeUI7WUFDekIsdUJBQXVCO1NBQzFCLENBQUE7SUFDTCxDQUFDO0lBd0JLLFNBQVUsOEJBQThCLENBQXVNO0lBQ2pQO0lBQ0EscUNBQXFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsR0FBRyxxQ0FBcUMsRUFBRSxFQUM5Riw4QkFBOEIsRUFDOUIsNkJBQTZCLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFDekMsc0JBQXNCLEVBQ3RCLHFCQUFxQixFQUNyQixPQUFPLEVBQUUsRUFBRSw2QkFBNkIsRUFBRSxtQkFBbUIsRUFBRSwwQkFBMEIsRUFBRSxzQkFBc0IsRUFBRSwrQkFBK0IsRUFBRSxxQkFBcUIsRUFBRSxxQkFBcUIsRUFBRTtJQUNsTTtJQUNBLHVCQUF1QixFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQ3pDLEdBQUcsS0FBSyxFQUM0RCxFQUFBO0lBQ3BFLElBQUEsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLHNCQUFzQixDQUFDO0lBQ3pDLElBQUEsTUFBTSxFQUFFLHNCQUFzQixFQUFFLEVBQUUsd0JBQXdCLEVBQUUsb0JBQW9CLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxvQkFBb0IsRUFBRSxFQUFFLG9CQUFvQixFQUFFLEVBQUUsS0FBSyxFQUFFLGVBQWUsRUFBRSxHQUFHLGlCQUFpQixDQUFlLEVBQUUsc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUNyVCxJQUFBLE1BQU0sRUFBRSxzQkFBc0IsRUFBRSxFQUFFLG9CQUFvQixFQUFFLG1CQUFtQixFQUFFLEVBQUUsb0JBQW9CLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsR0FBRyxpQkFBaUIsQ0FBZSxFQUFFLHNCQUFzQixFQUFFLE9BQU8sRUFBRSxFQUFFLHFCQUFxQixFQUFFLEVBQUUsQ0FBQyxDQUFDOztJQUcvUSxJQUFBLE1BQU0sTUFBTSxvQkFBb0IsSUFBSSxvQkFBb0IsQ0FBQyxDQUFDO0lBRTFELElBQUEsSUFBSSxFQUFFLFFBQVEsRUFBRSxHQUFHLDhCQUE4QixDQUFDO0lBQ2xELElBQUEsSUFBSSxNQUFNO1lBQ04sUUFBUSxHQUFHLElBQUksQ0FBQztJQUVwQixJQUFBLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLGFBQWEsQ0FBZSxFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDdkYsSUFBQSxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsZ0JBQWdCLENBQUM7UUFDeEMsTUFBTSxFQUNGLHlCQUF5QixFQUFFLEVBQUUsNEJBQTRCLEVBQUUsTUFBTSxFQUFFLEVBQ25FLGVBQWUsRUFDZix5QkFBeUIsRUFDekIsMEJBQTBCLEVBQzFCLHNCQUFzQixFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsRUFDL0MsR0FBRyxxQ0FBcUMsQ0FBZTtZQUNwRCxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtZQUNqQyw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRTtJQUN6QyxRQUFBLDhCQUE4QixFQUFFLEVBQUUsR0FBRyw4QkFBOEIsRUFBRTtZQUNyRSwwQkFBMEI7WUFDMUIsc0JBQXNCO1lBQ3RCLCtCQUErQjtZQUMvQixnQkFBZ0I7SUFDaEIsUUFBQSxxQkFBcUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxHQUFHLHFCQUFxQixFQUFFO0lBQzlELEtBQUEsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxFQUFFLFdBQVcsRUFBRSxXQUFXLEVBQUUsUUFBUSxFQUFFLEdBQUcseUJBQXlCLENBQUM7SUFFekU7Ozs7Ozs7OztJQVNNO0lBRU4sSUFBQSxNQUFNLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxHQUFHLDBCQUEwQixDQUFDO0lBRTdELElBQUEsTUFBTSxJQUFJLEdBQXFEO1lBQzNELFFBQVE7WUFDUixTQUFTO1lBQ1QsVUFBVTtZQUNWLFdBQVc7WUFDWCxXQUFXO1lBQ1gsTUFBTTtZQUNOLEtBQUs7WUFDTCxRQUFRO1lBQ1IsZ0JBQWdCO1lBQ2hCLFdBQVc7WUFDWCxRQUFRO1lBQ1IsWUFBWTtZQUNaLHdCQUF3QjtZQUN4QixvQkFBb0I7WUFDcEIsb0JBQW9CO1lBQ3BCLG9CQUFvQjtZQUNwQixtQkFBbUI7U0FDdEIsQ0FBQTtJQUVELElBQUEsTUFBTSxFQUFFLGtCQUFrQixFQUFFLEdBQUcsZUFBZSxDQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUUsbUJBQW1CLEVBQUUsRUFBRSxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsRUFBRSxHQUFHLElBQUksRUFBRSxHQUFHLHFDQUFxQyxFQUFPLENBQUMsQ0FBQztJQUV2TCxJQUFBLE1BQU0sRUFBRSx5QkFBeUIsRUFBRSxFQUFFLDRCQUE0QixFQUFFLE1BQU0sRUFBRSxFQUFFLEdBQUcseUJBQXlCLENBQUMsRUFBRSw2QkFBNkIsRUFBRSxDQUFDLENBQUM7UUFDN0ksTUFBTSw0QkFBNEIsR0FBRyxpQkFBaUIsQ0FBNkIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsS0FBSTtZQUNwRyxNQUFNLEdBQUcsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztZQUMzQixNQUFNLEdBQUcsT0FBTyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMvQixLQUFDLENBQUMsQ0FBQTtRQUNGLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxHQUFHLGtCQUFrQixDQUFlLEVBQUUseUJBQXlCLEVBQUUsRUFBRSw0QkFBNEIsRUFBRSx1QkFBdUIsRUFBRSxJQUFJLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7UUFHckwsTUFBTSxLQUFLLEdBQUcsY0FBYyxDQUN4QixnQkFBZ0IsQ0FBQyxXQUFXLEVBQzVCLHFCQUFxQixDQUFDLFdBQVcsRUFDakMseUJBQXlCLENBQUMsYUFBYSxFQUN2QywwQkFBMEIsQ0FBQyxhQUFhLEVBQ3hDLGVBQWUsRUFDZixjQUFjLENBQ2pCLENBQUM7UUFFRixPQUFPO1lBQ0gsS0FBSztZQUNMLGVBQWU7WUFDZixnQkFBZ0I7WUFDaEIseUJBQXlCO1lBQ3pCLDBCQUEwQjtZQUMxQixxQkFBcUI7WUFDckIsa0JBQWtCO1lBQ2xCLG9CQUFvQjtZQUNwQixvQkFBb0I7U0FDdkIsQ0FBQTtJQUVMLENBQUM7SUFFRDs7Ozs7SUFLRzs7SUNyUkg7Ozs7Ozs7OztJQVNHO2FBQ2EsUUFBUSxDQUEySixFQUMvSyxpQkFBaUIsRUFDakIsdUJBQXVCLEVBQ3ZCLG1CQUFtQixFQUFFLEVBQUUsVUFBVSxFQUFFLEdBQUcsbUJBQW1CLEVBQUUsRUFDL0IsRUFBQTtJQUM1QixJQUFBLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxpQkFBaUIsQ0FBQzs7O0lBR25DLElBQUEsTUFBTSxFQUFFLHFCQUFxQixFQUFFLHNCQUFzQixFQUFFLEdBQUcsVUFBVSxDQUF5QyxFQUFFLGlCQUFpQixFQUFFLHVCQUF1QixFQUFFLENBQUMsQ0FBQztJQUM3SixJQUFBLE1BQU0sRUFBRSxlQUFlLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxZQUFZLENBQW9EO1lBQzFHLG1CQUFtQixFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksSUFBSSxVQUFVLEVBQUUsR0FBRyxtQkFBbUIsRUFBRTtJQUMvRSxRQUFBLG9CQUFvQixFQUFFLEVBQUU7SUFDM0IsS0FBQSxDQUFDLENBQUM7SUFFSCxJQUFBLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLEdBQUcscUJBQXFCLENBQUM7SUFDbkQsSUFBQSxNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxHQUFHLHNCQUFzQixDQUFDO0lBQ3BELElBQUEsTUFBTSxFQUFFLGFBQWEsRUFBRSxHQUFHLEVBQUUsR0FBRyxlQUFlLENBQUM7SUFDL0MsSUFBQSxNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxHQUFHLGdCQUFnQixDQUFBO1FBRTdDLE9BQU87SUFDSCxRQUFBLFVBQVUsRUFBRSxHQUFHO0lBQ2YsUUFBQSxtQkFBbUIsRUFBRSxjQUFjLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUM3QyxRQUFBLFdBQVcsRUFBRSxHQUFHO1lBQ2hCLHFCQUFxQjtZQUNyQixzQkFBc0I7WUFDdEIsZUFBZTtTQUNsQixDQUFBO0lBQ0w7O0lDL0JNLFNBQVUsVUFBVSxDQUFDLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQXdCLEVBQUE7UUFDaEYsTUFBTSxjQUFjLEdBQUcsaUJBQWlCLENBQUMsTUFBSyxFQUFHLFlBQVksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDN0YsSUFBQSxNQUFNLFVBQVUsR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7OztJQUk1QyxJQUFBLE1BQU0sWUFBWSxHQUFHUCxDQUFNLENBQWdCLElBQUksQ0FBQyxDQUFDO0lBRWpELElBQUEsTUFBTSxhQUFhLElBQUksT0FBTyxJQUFJLElBQUksQ0FBQyxDQUFDOzs7O1FBS3hDTCxDQUFTLENBQUMsTUFBSztZQUNYLElBQUksQ0FBQyxhQUFhLEVBQUU7SUFDaEIsWUFBQSxNQUFNLE9BQU8sR0FBRyxVQUFVLEVBQUUsQ0FBQztnQkFDN0IsT0FBTyxDQUFDLE1BQU0sQ0FBQyxhQUFhLEtBQUssT0FBTyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBRW5ELElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtvQkFDakIsWUFBWSxDQUFDLE9BQU8sR0FBRyxFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztvQkFFckMsTUFBTSxNQUFNLEdBQUcsVUFBVSxDQUFDLGNBQWMsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNuRCxnQkFBQSxPQUFPLE1BQU0sWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3JDLGFBQUE7SUFDSixTQUFBO0lBRUwsS0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUE7SUFFakMsSUFBQSxNQUFNLGNBQWMsR0FBR1ksR0FBVyxDQUFDLE1BQUs7WUFDcEMsT0FBTyxDQUFDLEVBQUUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFDLE9BQU8sSUFBSSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztTQUNwRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBQSxNQUFNLGdCQUFnQixHQUFHQSxHQUFXLENBQUMsTUFBSztJQUN0QyxRQUFBLE1BQU0sT0FBTyxHQUFHLFVBQVUsRUFBRSxDQUFDO1lBQzdCLE9BQU8sT0FBTyxJQUFJLElBQUksR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsT0FBTyxHQUFHLGNBQWMsRUFBRSxDQUFDLENBQUE7U0FDMUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLElBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDO0lBQ2hEOztJQ2tCQSxTQUFTLHFCQUFxQixHQUFBO0lBQzFCLElBQUEsUUFBUSxhQUFhLElBQUksTUFBTSxFQUFFO0lBQ3JDLENBQUM7SUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW1CRztJQUNHLFNBQVUsUUFBUSxDQUFvQixJQUEyQixFQUFBO0lBQ25FLElBQUEsTUFBTSxFQUNGLGdCQUFnQixFQUFFLEVBQUUsVUFBVSxFQUFFLEVBQ2hDLGVBQWUsRUFBRSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsa0JBQWtCLEVBQUUsa0JBQWtCLEVBQUUsWUFBWSxFQUFFLEVBQUUsRUFBRSxjQUFjLEVBQUUsRUFBRSxFQUFFLFlBQVksRUFBRSxFQUFFLEVBQUUsRUFDOUksR0FBRyxJQUFJLENBQUM7UUFFVCxNQUFNLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxFQUFFLElBQUksV0FBVyxDQUFDLENBQUM7UUFDMUQsTUFBTSxZQUFZLEdBQUcsaUJBQWlCLENBQUMsRUFBRSxJQUFJLFdBQVcsQ0FBQyxDQUFDO1FBQzFELE1BQU0sY0FBYyxHQUFHLGlCQUFpQixDQUFDLEVBQUUsSUFBSSxXQUFXLENBQUMsQ0FBQztJQUU1RCxJQUFBLE1BQU0sYUFBYSxJQUFJLFdBQVcsSUFBSSxJQUFJLENBQUMsQ0FBQztJQUU1Qzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUEwQkc7Ozs7O0lBTUgsSUFBQSxNQUFNLENBQUMsY0FBYyxFQUFFLGNBQWMsQ0FBQyxHQUFHLGVBQWUsQ0FBa0MsaUJBQWlCLENBQUMsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFLE1BQU0sS0FBSTtJQUNwSSxRQUFBLElBQUksV0FBVyxFQUFFO0lBQ2IsWUFBQSxNQUFNLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBSztJQUN0QixnQkFBQSxjQUFjLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO2lCQUNqQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ04sWUFBQSxPQUFPLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMxQixTQUFBO0lBQ0wsS0FBQyxDQUFDLEVBQUUsV0FBVyxDQUFDLENBQUM7UUFFakIsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxRQUFRLENBQUMsSUFBc0IsQ0FBQyxDQUFDO0lBQ25FLElBQUEsTUFBTSxDQUFDLGlCQUFpQixFQUFFLG9CQUFvQixFQUFFLG9CQUFvQixDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hGLElBQUEsTUFBTSxDQUFDLHNCQUFzQixFQUFFLHlCQUF5QixFQUFFLHlCQUF5QixDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3ZHLElBQUEsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzdELElBQUEsTUFBTSxZQUFZLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLENBQThCLEtBQUk7WUFDaEUsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO1lBQ25CLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztZQUNwQix5QkFBeUIsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNoQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDbEIsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRXBCLFFBQUEsTUFBTSxPQUFPLEdBQUcsVUFBVSxFQUFFLENBQUM7SUFDN0IsUUFBQSxJQUFJLE9BQU87Z0JBQ1AsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQzFCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDUCxJQUFBLE1BQU0sV0FBVyxHQUFHQSxHQUFXLENBQUMsQ0FBQyxDQUE4QixLQUFJO1lBQy9ELENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUNuQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDcEIsUUFBQSxNQUFNLE9BQU8sR0FBRyxVQUFVLEVBQUUsQ0FBQztZQUM3QixNQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUUzQixRQUFBLE1BQU0sT0FBTyxHQUFHO2dCQUNaLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBVTtnQkFDZixDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQVU7Z0JBQ3pDLENBQUMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBVTtnQkFDekMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFVO2dCQUN6QyxDQUFDLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQVU7YUFDbkMsQ0FBQztZQUNYLElBQUksa0JBQWtCLEdBQUcsS0FBSyxDQUFDO1lBQy9CLEtBQUssTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxPQUFPLEVBQUU7Z0JBQzFCLE1BQU0sY0FBYyxHQUFHLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUN2RyxrQkFBa0IsTUFBTSxPQUFPLEVBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFBO0lBQ3RFLFNBQUE7WUFDRCxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztTQUNuQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsSUFBQSxNQUFNLFVBQVUsR0FBR0EsR0FBVyxDQUFDLENBQUMsQ0FBOEIsS0FBSTtZQUM5RCxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3BCLFFBQUEsTUFBTSxRQUFRLEdBQUcsV0FBVyxFQUFFLENBQUM7SUFDL0IsUUFBQSxNQUFNLHNCQUFzQixHQUFHLHlCQUF5QixFQUFFLENBQUM7WUFFM0QsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3JCLElBQUksc0JBQXNCLElBQUksUUFBUSxFQUFFO2dCQUNwQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEIsU0FBQTtZQUNELG9CQUFvQixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQzVCLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNuQix5QkFBeUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUNwQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBQSxNQUFNLGFBQWEsR0FBR0EsR0FBVyxDQUFDLENBQUMsQ0FBZ0MsS0FBSTtZQUNuRSxJQUFJLENBQUMsY0FBYyxFQUFFLEVBQUU7SUFDbkIsWUFBQSxLQUFLLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxHQUFHO29CQUNqQixDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7b0JBQ25CLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztvQkFDcEIseUJBQXlCLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2hDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDbEIsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRXBCLGdCQUFBLE1BQU0sT0FBTyxHQUFHLFVBQVUsRUFBRSxDQUFDO0lBQzdCLGdCQUFBLElBQUksT0FBTzt3QkFDUCxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDMUIsYUFBQTtJQUNKLFNBQUE7U0FDSixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsSUFBQSxNQUFNLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLENBQWdDLEtBQUk7SUFDekUsUUFBQSxJQUFJLGlCQUFpQixHQUFHLHlCQUF5QixFQUFFLENBQUM7OztJQUdwRCxRQUFBLElBQUksRUFBRSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztJQUNoQixZQUFBLHlCQUF5QixDQUFDLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxDQUFDO0lBR3pELFFBQUEsSUFBSSxpQkFBaUIsRUFBRTs7O0lBR25CLFlBQUEsTUFBTSxPQUFPLEdBQUcsVUFBVSxFQUFFLENBQUM7OztJQUc3QixZQUFBLE1BQU0sZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3pFLFlBQUEsV0FBVyxDQUFDLE9BQU8sSUFBSSxnQkFBZ0IsSUFBSSxPQUFPLEVBQUUsUUFBUSxDQUFDLGdCQUFnQixDQUFDLElBQUksS0FBSyxDQUFDLENBQUM7SUFDNUYsU0FBQTtJQUVMLEtBQUMsQ0FBQyxDQUFBO0lBQ0YsSUFBQSxNQUFNLFdBQVcsR0FBR0EsR0FBVyxDQUFDLENBQUMsQ0FBZ0MsS0FBSTtJQUNqRSxRQUFBLE1BQU0sUUFBUSxHQUFHLFdBQVcsRUFBRSxDQUFDO0lBQy9CLFFBQUEsTUFBTSxzQkFBc0IsR0FBRyx5QkFBeUIsRUFBRSxDQUFDO1lBRTNELElBQUksQ0FBQyxjQUFjLEVBQUUsRUFBRTtnQkFDbkIsY0FBYyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNyQixJQUFJLHNCQUFzQixJQUFJLFFBQVEsRUFBRTtvQkFDcEMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNmLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQztvQkFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3ZCLGFBQUE7SUFDSixTQUFBO1lBQ0Qsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUIsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25CLHlCQUF5QixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pDLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUV2QixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsSUFBQSxNQUFNLGNBQWMsR0FBR0EsR0FBVyxDQUFDLENBQUMsRUFBaUMsS0FBSTtZQUNyRSxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7U0FDckIsRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUNOLElBQUEsTUFBTSxjQUFjLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLEVBQWlDLEtBQUk7WUFDckUsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25CLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN2QixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBQSxVQUFVLENBQUM7WUFDUCxRQUFRLEVBQUUsTUFBSztJQUNYLFlBQUEsTUFBTSxPQUFPLEdBQUcsVUFBVSxFQUFFLENBQUM7SUFDN0IsWUFBQSxZQUFZLENBQUMsc0JBQXNCLElBQUksUUFBUSxDQUFDLENBQUM7SUFDakQsWUFBQSxJQUFJLE9BQU8sSUFBSSxzQkFBc0IsSUFBSSxRQUFRLEVBQUU7b0JBQy9DLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUduQixnQkFBQSxJQUFJLGtCQUFrQixFQUFFO3dCQUNwQixvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDNUIsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNuQix5QkFBeUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNwQyxpQkFBQTtJQUNKLGFBQUE7YUFFSjtZQUNELE9BQU8sRUFBRSxrQkFBa0IsSUFBSSxJQUFJO0lBQ25DLFFBQUEsWUFBWSxFQUFFLFNBQVMsR0FBRSxJQUFJLElBQUksc0JBQXNCLElBQUksUUFBUSxDQUFDO0lBQ3ZFLEtBQUEsQ0FBQyxDQUFBO0lBR0YsSUFBQSxNQUFNLFdBQVcsR0FBRyxpQkFBaUIsQ0FBa0MsQ0FBQyxDQUFDLEtBQUk7WUFDekUsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUIsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ25CLHlCQUF5QixDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ2pDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUVuQixRQUFBLElBQUksV0FBVyxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7OztJQWtCYixZQUFBLE1BQU0sT0FBTyxHQUFHLFVBQVUsRUFBRSxDQUFDO0lBQzdCLFlBQUEsSUFBSSxPQUFPO29CQUNQLFNBQVMsQ0FBQyxPQUEyQixDQUFDLENBQUM7OztnQkFJM0MsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDOzs7OztnQkFNbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDOztnQkFHcEIsSUFBSTs7O0lBR0EsZ0JBQUEsS0FBSyxFQUFFLENBQUM7SUFDWCxhQUFBO0lBQ08sb0JBQUE7O29CQUVKLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQixhQUFBO0lBRUosU0FBQTtJQUNMLEtBQUMsQ0FBQyxDQUFDO0lBR0gsSUFBQSxNQUFNLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLENBQWlDLEtBQUk7SUFDdEUsUUFBQSxJQUFJLFdBQVcsRUFBRTtnQkFDYixJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUU7OztvQkFHakMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLENBQUM7O29CQUUzQixDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7SUFDdEIsYUFBQTtnQkFFRCxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksT0FBTyxJQUFJLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLGtCQUFrQixJQUFJLEtBQUssQ0FBQyxDQUFDLEVBQUU7b0JBRXJGLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQixhQUFBO0lBQ0osU0FBQTtJQUNMLEtBQUMsQ0FBQyxDQUFBO0lBRUYsSUFBQSxNQUFNLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLENBQWlDLEtBQUk7SUFDcEUsUUFBQSxNQUFNLGlCQUFpQixHQUFHLG9CQUFvQixFQUFFLENBQUM7WUFDakQsSUFBSSxpQkFBaUIsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRTtnQkFDcEQsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZCLEtBQUMsQ0FBQyxDQUFBO0lBRUYsSUFBQSxNQUFNLE9BQU8sR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLENBQThCLEtBQUk7SUFDakUsUUFBQSxNQUFNLE9BQU8sR0FBRyxVQUFVLEVBQUUsQ0FBQztJQUM3QixRQUFBLElBQUksV0FBVyxFQUFFO2dCQUNiLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQzs7OztJQU1uQixZQUFBLElBQUksQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7b0JBQ2QsQ0FBQyxDQUFDLHdCQUF3QixFQUFFLENBQUM7b0JBQzdCLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QixhQUFBO0lBQ0ksaUJBQUE7O0lBRUQsZ0JBQUE7O29CQUVJLGNBQWMsRUFBRSxJQUFJLEtBQUs7O3dCQUV6QixDQUFDLENBQUMsTUFBTSxJQUFJLE9BQU87Ozs7O0lBS25CLG9CQUFBLE9BQU8sRUFBRSxPQUFPLElBQUksT0FBTyxJQUFLLE9BQXVDLENBQUMsSUFBSSxJQUFJLE9BQU8sSUFBSyxPQUF1QyxDQUFDLE9BQU8sRUFDN0k7OztJQUdFLG9CQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdEIsb0JBQUEsU0FBUzt3QkFFVCxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEIsaUJBQUE7SUFDSixhQUFBO0lBQ0osU0FBQTtJQUNMLEtBQUMsQ0FBQyxDQUFDO0lBR0gsSUFBQSxNQUFNLFVBQVUsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLEVBQStCLEtBQUk7WUFDckUsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDaEMsS0FBQyxDQUFDLENBQUE7SUFHRixJQUFBLE1BQU0sQ0FBQyxHQUFHLHFCQUFxQixFQUFFLENBQUM7UUFFbEMsT0FBTztJQUNILFFBQUEsV0FBVyxFQUFFO2dCQUNULFlBQVksR0FBRyxDQUFDLHNCQUFzQixJQUFJLFFBQVEsS0FBSyxpQkFBaUIsSUFBSSxLQUFLLENBQUM7O2dCQUVsRixTQUFTO0lBQ1QsWUFBQSxhQUFhLEVBQUU7b0JBQ1gsU0FBUztvQkFDVCxPQUFPO29CQUVQLFlBQVksRUFBRSxDQUFDLGFBQWEsR0FBRyxTQUFTLElBQUksQ0FBQyxDQUFDLEdBQUcsWUFBWSxHQUFHLFNBQVMsQ0FBQztvQkFDMUUsYUFBYSxFQUFFLENBQUMsYUFBYSxHQUFHLFNBQVMsSUFBSSxDQUFDLENBQUMsR0FBRyxVQUFVLEdBQUcsU0FBUyxDQUFDO29CQUN6RSxXQUFXLEVBQUUsQ0FBQyxhQUFhLEdBQUcsU0FBUyxJQUFJLENBQUMsQ0FBQyxHQUFHLFdBQVcsR0FBRyxTQUFTLENBQUM7b0JBQ3hFLFVBQVUsRUFBRSxDQUFDLGFBQWEsR0FBRyxTQUFTLElBQUksQ0FBQyxDQUFDLEdBQUcsVUFBVSxHQUFHLFNBQVMsQ0FBQztvQkFDdEUsYUFBYSxFQUFFLENBQUMsYUFBYSxHQUFHLFNBQVMsSUFBSSxDQUFDLEdBQUcsYUFBYSxHQUFHLFNBQVMsQ0FBQztvQkFDM0UsZUFBZSxFQUFFLENBQUMsYUFBYSxHQUFHLFNBQVMsSUFBSSxDQUFDLEdBQUcsYUFBYSxHQUFHLFNBQVMsQ0FBQztvQkFDN0UsYUFBYSxFQUFFLENBQUMsc0JBQXNCLElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUyxJQUFJLENBQUMsR0FBRyxhQUFhLEdBQUcsU0FBUyxDQUFDO29CQUN0RyxXQUFXLEVBQUUsQ0FBQyxhQUFhLEdBQUcsU0FBUyxJQUFJLENBQUMsR0FBRyxXQUFXLEdBQUcsU0FBUyxDQUFDO29CQUN2RSxjQUFjLEVBQUUsQ0FBQyxhQUFhLEdBQUcsU0FBUyxJQUFJLENBQUMsR0FBRyxjQUFjLEdBQUcsU0FBUyxDQUFDO29CQUM3RSxjQUFjLEVBQUUsQ0FBQyxhQUFhLEdBQUcsU0FBUyxJQUFJLENBQUMsR0FBRyxjQUFjLEdBQUcsU0FBUyxDQUFDO0lBQzdFLGdCQUFBLFVBQVUsRUFBRSxVQUFVO29CQUN0QixPQUFPO0lBQ1YsYUFBQTtJQUNKLFNBQUE7U0FDSixDQUFDO0lBQ04sQ0FBQztJQStCRCxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsU0FBUyxJQUFJLFNBQVMsTUFBTSxTQUFTLENBQUMsT0FBTyxZQUFZLFFBQVEsQ0FBQyxLQUFLLE1BQU0sU0FBUyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsS0FBSyxNQUFRLEdBQUMsQ0FBQzs7SUNoYXpILFNBQVUsV0FBVyxDQUF1QyxFQUFFLGtCQUFrQixFQUFFLEVBQUUsTUFBTSxFQUFFLG1CQUFtQixFQUFFLEVBQXlCLEVBQUE7UUFDNUksTUFBTSxFQUFFLElBQUksTUFBTSxHQUFHRSxHQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQzlCLElBQUEsa0JBQWtCLENBQUMsYUFBYSxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsQ0FBQztRQUU5QyxNQUFNLHNCQUFzQixHQUFHVCxDQUFNLENBQTRCLG1CQUFtQixJQUFJLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLG1CQUFtQixHQUFHLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbkksTUFBTSxrQkFBa0IsR0FBR0EsQ0FBTSxDQUEwQixFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbkUsSUFBQSxrQkFBa0IsQ0FBQyw4QkFBOEIsRUFBRSxtQkFBbUIsQ0FBQyxDQUFDO1FBR3hFLE9BQU87WUFDSCxlQUFlLEVBQUUsc0JBQXNCLENBQUMsT0FBTztZQUMvQyxXQUFXLEVBQUUsa0JBQWtCLENBQUMsT0FBTztJQUN2QyxRQUFBLGNBQWMsRUFBRTtJQUNaLFlBQUEsRUFBRSxFQUFFLEVBQUU7SUFDVCxTQUFBO1NBQ0osQ0FBQTtJQUNMOztJQy9DQTs7SUFFRzthQUNhLGdCQUFnQixDQUE2RCxFQUN6Rix1QkFBdUIsRUFDdkIsdUJBQXVCLEdBQ0UsRUFBQTtRQUV6QixNQUFNLEVBQUUsY0FBYyxFQUFFLG1CQUFtQixFQUFFLGVBQWUsRUFBRSxzQkFBc0IsRUFBRSxXQUFXLEVBQUUsa0JBQWtCLEVBQUUsR0FBRyxXQUFXLENBQTZCLEVBQUUsa0JBQWtCLEVBQUUsdUJBQXVCLEVBQUUsQ0FBQyxDQUFDO1FBQ25OLE1BQU0sRUFBRSxjQUFjLEVBQUUsbUJBQW1CLEVBQUUsZUFBZSxFQUFFLHNCQUFzQixFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxHQUFHLFdBQVcsQ0FBNkIsRUFBRSxrQkFBa0IsRUFBRSx1QkFBdUIsRUFBRSxDQUFDLENBQUM7UUFFbk4sT0FBTztJQUNILFFBQUEsVUFBVSxFQUFFLGNBQWMsQ0FBZSxzQkFBc0IsRUFBRSxrQkFBa0IsQ0FBQztJQUNwRixRQUFBLFVBQVUsRUFBRSxjQUFjLENBQWUsc0JBQXNCLEVBQUUsa0JBQWtCLENBQUM7WUFDcEYsbUJBQW1CO1lBQ25CLG1CQUFtQjtTQUN0QixDQUFBO0lBQ0w7O0lDaENBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxHQUFHLEdBQUcsV0FBVztJQUNyQixFQUFFLE9BQU9oRyxNQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3pCLENBQUMsQ0FBQztBQUNGO0FBQ0EsZ0JBQWUsR0FBRzs7SUN0QmxCO0lBQ0EsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDO0FBQ3hCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsZUFBZSxDQUFDLE1BQU0sRUFBRTtJQUNqQyxFQUFFLElBQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7QUFDNUI7SUFDQSxFQUFFLE9BQU8sS0FBSyxFQUFFLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsRUFBRTtJQUMvRCxFQUFFLE9BQU8sS0FBSyxDQUFDO0lBQ2Y7O0lDZEE7SUFDQSxJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUM7QUFDekI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsUUFBUSxDQUFDLE1BQU0sRUFBRTtJQUMxQixFQUFFLE9BQU8sTUFBTTtJQUNmLE1BQU0sTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsZUFBZSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsRUFBRSxDQUFDO0lBQzNFLE1BQU0sTUFBTSxDQUFDO0lBQ2I7O0lDYkE7SUFDQSxJQUFJLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQztBQUNsQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxTQUFTLFFBQVEsQ0FBQyxLQUFLLEVBQUU7SUFDekIsRUFBRSxPQUFPLE9BQU8sS0FBSyxJQUFJLFFBQVE7SUFDakMsS0FBSyxZQUFZLENBQUMsS0FBSyxDQUFDLElBQUksVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLFNBQVMsQ0FBQyxDQUFDO0lBQzVEOztJQ3RCQTtJQUNBLElBQUksR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEI7SUFDQTtJQUNBLElBQUksVUFBVSxHQUFHLG9CQUFvQixDQUFDO0FBQ3RDO0lBQ0E7SUFDQSxJQUFJLFVBQVUsR0FBRyxZQUFZLENBQUM7QUFDOUI7SUFDQTtJQUNBLElBQUksU0FBUyxHQUFHLGFBQWEsQ0FBQztBQUM5QjtJQUNBO0lBQ0EsSUFBSSxZQUFZLEdBQUcsUUFBUSxDQUFDO0FBQzVCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLFNBQVMsUUFBUSxDQUFDLEtBQUssRUFBRTtJQUN6QixFQUFFLElBQUksT0FBTyxLQUFLLElBQUksUUFBUSxFQUFFO0lBQ2hDLElBQUksT0FBTyxLQUFLLENBQUM7SUFDakIsR0FBRztJQUNILEVBQUUsSUFBSSxRQUFRLENBQUMsS0FBSyxDQUFDLEVBQUU7SUFDdkIsSUFBSSxPQUFPLEdBQUcsQ0FBQztJQUNmLEdBQUc7SUFDSCxFQUFFLElBQUksUUFBUSxDQUFDLEtBQUssQ0FBQyxFQUFFO0lBQ3ZCLElBQUksSUFBSSxLQUFLLEdBQUcsT0FBTyxLQUFLLENBQUMsT0FBTyxJQUFJLFVBQVUsR0FBRyxLQUFLLENBQUMsT0FBTyxFQUFFLEdBQUcsS0FBSyxDQUFDO0lBQzdFLElBQUksS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEdBQUcsRUFBRSxJQUFJLEtBQUssQ0FBQztJQUNuRCxHQUFHO0lBQ0gsRUFBRSxJQUFJLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRTtJQUNoQyxJQUFJLE9BQU8sS0FBSyxLQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsQ0FBQyxLQUFLLENBQUM7SUFDeEMsR0FBRztJQUNILEVBQUUsS0FBSyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxQixFQUFFLElBQUksUUFBUSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEMsRUFBRSxPQUFPLENBQUMsUUFBUSxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQzNDLE1BQU0sWUFBWSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsUUFBUSxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEQsT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzlDOztJQ3pEQTtJQUNBLElBQUksZUFBZSxHQUFHLHFCQUFxQixDQUFDO0FBQzVDO0lBQ0E7SUFDQSxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRztJQUN4QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ3pCO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsU0FBUyxRQUFRLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUU7SUFDdkMsRUFBRSxJQUFJLFFBQVE7SUFDZCxNQUFNLFFBQVE7SUFDZCxNQUFNLE9BQU87SUFDYixNQUFNLE1BQU07SUFDWixNQUFNLE9BQU87SUFDYixNQUFNLFlBQVk7SUFDbEIsTUFBTSxjQUFjLEdBQUcsQ0FBQztJQUN4QixNQUFNLE9BQU8sR0FBRyxLQUFLO0lBQ3JCLE1BQU0sTUFBTSxHQUFHLEtBQUs7SUFDcEIsTUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDO0FBQ3RCO0lBQ0EsRUFBRSxJQUFJLE9BQU8sSUFBSSxJQUFJLFVBQVUsRUFBRTtJQUNqQyxJQUFJLE1BQU0sSUFBSSxTQUFTLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDekMsR0FBRztJQUNILEVBQUUsSUFBSSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0IsRUFBRSxJQUFJLFFBQVEsQ0FBQyxPQUFPLENBQUMsRUFBRTtJQUN6QixJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztJQUNoQyxJQUFJLE1BQU0sR0FBRyxTQUFTLElBQUksT0FBTyxDQUFDO0lBQ2xDLElBQUksT0FBTyxHQUFHLE1BQU0sR0FBRyxTQUFTLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0lBQ2pGLElBQUksUUFBUSxHQUFHLFVBQVUsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQ3JFLEdBQUc7QUFDSDtJQUNBLEVBQUUsU0FBUyxVQUFVLENBQUMsSUFBSSxFQUFFO0lBQzVCLElBQUksSUFBSSxJQUFJLEdBQUcsUUFBUTtJQUN2QixRQUFRLE9BQU8sR0FBRyxRQUFRLENBQUM7QUFDM0I7SUFDQSxJQUFJLFFBQVEsR0FBRyxRQUFRLEdBQUcsU0FBUyxDQUFDO0lBQ3BDLElBQUksY0FBYyxHQUFHLElBQUksQ0FBQztJQUMxQixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2QyxJQUFJLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLEdBQUc7QUFDSDtJQUNBLEVBQUUsU0FBUyxXQUFXLENBQUMsSUFBSSxFQUFFO0lBQzdCO0lBQ0EsSUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDO0lBQzFCO0lBQ0EsSUFBSSxPQUFPLEdBQUcsVUFBVSxDQUFDLFlBQVksRUFBRSxJQUFJLENBQUMsQ0FBQztJQUM3QztJQUNBLElBQUksT0FBTyxPQUFPLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLE1BQU0sQ0FBQztJQUMvQyxHQUFHO0FBQ0g7SUFDQSxFQUFFLFNBQVMsYUFBYSxDQUFDLElBQUksRUFBRTtJQUMvQixJQUFJLElBQUksaUJBQWlCLEdBQUcsSUFBSSxHQUFHLFlBQVk7SUFDL0MsUUFBUSxtQkFBbUIsR0FBRyxJQUFJLEdBQUcsY0FBYztJQUNuRCxRQUFRLFdBQVcsR0FBRyxJQUFJLEdBQUcsaUJBQWlCLENBQUM7QUFDL0M7SUFDQSxJQUFJLE9BQU8sTUFBTTtJQUNqQixRQUFRLFNBQVMsQ0FBQyxXQUFXLEVBQUUsT0FBTyxHQUFHLG1CQUFtQixDQUFDO0lBQzdELFFBQVEsV0FBVyxDQUFDO0lBQ3BCLEdBQUc7QUFDSDtJQUNBLEVBQUUsU0FBUyxZQUFZLENBQUMsSUFBSSxFQUFFO0lBQzlCLElBQUksSUFBSSxpQkFBaUIsR0FBRyxJQUFJLEdBQUcsWUFBWTtJQUMvQyxRQUFRLG1CQUFtQixHQUFHLElBQUksR0FBRyxjQUFjLENBQUM7QUFDcEQ7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLFFBQVEsWUFBWSxLQUFLLFNBQVMsS0FBSyxpQkFBaUIsSUFBSSxJQUFJLENBQUM7SUFDckUsT0FBTyxpQkFBaUIsR0FBRyxDQUFDLENBQUMsS0FBSyxNQUFNLElBQUksbUJBQW1CLElBQUksT0FBTyxDQUFDLEVBQUU7SUFDN0UsR0FBRztBQUNIO0lBQ0EsRUFBRSxTQUFTLFlBQVksR0FBRztJQUMxQixJQUFJLElBQUksSUFBSSxHQUFHdVMsS0FBRyxFQUFFLENBQUM7SUFDckIsSUFBSSxJQUFJLFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBRTtJQUM1QixNQUFNLE9BQU8sWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hDLEtBQUs7SUFDTDtJQUNBLElBQUksT0FBTyxHQUFHLFVBQVUsQ0FBQyxZQUFZLEVBQUUsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDNUQsR0FBRztBQUNIO0lBQ0EsRUFBRSxTQUFTLFlBQVksQ0FBQyxJQUFJLEVBQUU7SUFDOUIsSUFBSSxPQUFPLEdBQUcsU0FBUyxDQUFDO0FBQ3hCO0lBQ0E7SUFDQTtJQUNBLElBQUksSUFBSSxRQUFRLElBQUksUUFBUSxFQUFFO0lBQzlCLE1BQU0sT0FBTyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDOUIsS0FBSztJQUNMLElBQUksUUFBUSxHQUFHLFFBQVEsR0FBRyxTQUFTLENBQUM7SUFDcEMsSUFBSSxPQUFPLE1BQU0sQ0FBQztJQUNsQixHQUFHO0FBQ0g7SUFDQSxFQUFFLFNBQVMsTUFBTSxHQUFHO0lBQ3BCLElBQUksSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO0lBQy9CLE1BQU0sWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzVCLEtBQUs7SUFDTCxJQUFJLGNBQWMsR0FBRyxDQUFDLENBQUM7SUFDdkIsSUFBSSxRQUFRLEdBQUcsWUFBWSxHQUFHLFFBQVEsR0FBRyxPQUFPLEdBQUcsU0FBUyxDQUFDO0lBQzdELEdBQUc7QUFDSDtJQUNBLEVBQUUsU0FBUyxLQUFLLEdBQUc7SUFDbkIsSUFBSSxPQUFPLE9BQU8sS0FBSyxTQUFTLEdBQUcsTUFBTSxHQUFHLFlBQVksQ0FBQ0EsS0FBRyxFQUFFLENBQUMsQ0FBQztJQUNoRSxHQUFHO0FBQ0g7SUFDQSxFQUFFLFNBQVMsU0FBUyxHQUFHO0lBQ3ZCLElBQUksSUFBSSxJQUFJLEdBQUdBLEtBQUcsRUFBRTtJQUNwQixRQUFRLFVBQVUsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDeEM7SUFDQSxJQUFJLFFBQVEsR0FBRyxTQUFTLENBQUM7SUFDekIsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3BCLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQztBQUN4QjtJQUNBLElBQUksSUFBSSxVQUFVLEVBQUU7SUFDcEIsTUFBTSxJQUFJLE9BQU8sS0FBSyxTQUFTLEVBQUU7SUFDakMsUUFBUSxPQUFPLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN6QyxPQUFPO0lBQ1AsTUFBTSxJQUFJLE1BQU0sRUFBRTtJQUNsQjtJQUNBLFFBQVEsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlCLFFBQVEsT0FBTyxHQUFHLFVBQVUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDakQsUUFBUSxPQUFPLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUN4QyxPQUFPO0lBQ1AsS0FBSztJQUNMLElBQUksSUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO0lBQy9CLE1BQU0sT0FBTyxHQUFHLFVBQVUsQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDL0MsS0FBSztJQUNMLElBQUksT0FBTyxNQUFNLENBQUM7SUFDbEIsR0FBRztJQUNILEVBQUUsU0FBUyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDNUIsRUFBRSxTQUFTLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUMxQixFQUFFLE9BQU8sU0FBUyxDQUFDO0lBQ25COztJQ3ZCQSxTQUFTRCxVQUFRLENBQTZDLEdBQUcsQ0FBSyxJQUFJLE9BQU8sQ0FBb0IsQ0FBQyxFQUFFO0lBMER4Rzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUF1Qkc7SUFDYSxTQUFBLFFBQVEsQ0FBcUQsYUFBOEMsRUFBRSxPQUFvQyxFQUFBOzs7O0lBTTdKLElBQUEsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsV0FBVyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzNELElBQUEsTUFBTSxDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFJLFNBQVUsQ0FBQyxDQUFDO0lBQ2hFLElBQUEsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDLEdBQUcsUUFBUSxDQUFVLFNBQVUsQ0FBQyxDQUFDO0lBQ25FLElBQUEsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLEVBQUUsWUFBWSxDQUFDLEdBQUcsUUFBUSxDQUFpQixLQUFLLENBQUMsQ0FBQztJQUM5RSxJQUFBLE1BQU0sQ0FBQyxTQUFTLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQyxHQUFHLFFBQVEsQ0FBaUIsS0FBSyxDQUFDLENBQUM7UUFDakYsTUFBTSxDQUFDLGVBQWUsRUFBRSxrQkFBa0IsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM5RCxNQUFNLENBQUMsY0FBYyxFQUFFLGlCQUFpQixDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDOztRQUU1RCxNQUFNLGtCQUFrQixHQUFHL0wsR0FBVyxDQUFDLE1BQUssRUFBRyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDOUUsTUFBTSxxQkFBcUIsR0FBR0EsR0FBVyxDQUFDLE1BQUssRUFBRyxlQUFlLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckYsTUFBTSxvQkFBb0IsR0FBR0EsR0FBVyxDQUFDLE1BQUssRUFBRyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbkYsTUFBTSxxQkFBcUIsR0FBR0EsR0FBVyxDQUFDLE1BQUssRUFBRyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7O0lBR3BGLElBQUEsSUFBSSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxJQUFJLE9BQU8sSUFBSSxFQUFFLENBQUMsQ0FBQztRQUN2RSxNQUFNLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQyxlQUFlLElBQUkrTCxVQUFRLENBQUMsQ0FBQztRQUNyRSxNQUFNLGtCQUFrQixHQUFHLGlCQUFpQixDQUFrQyxhQUFhLElBQUtBLFVBQWdCLENBQUMsQ0FBQztRQUNsSCxNQUFNLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsR0FBR3BNLEdBQU8sQ0FBQyxNQUFLO0lBQy9DLFFBQUEsT0FBTyxXQUFXLENBQVk7SUFDMUIsWUFBQSxVQUFVLEVBQUUsa0JBQWtCO0lBQzlCLFlBQUEsT0FBTyxFQUFFLGFBQWE7SUFDdEIsWUFBQSxlQUFlLEVBQUUsa0JBQWtCO0lBQ25DLFlBQUEsT0FBTyxFQUFFLFFBQVE7SUFDakIsWUFBQSxTQUFTLEVBQUUsVUFBVTtJQUNyQixZQUFBLGFBQWEsRUFBRSxTQUFTO0lBQ3hCLFlBQUEsY0FBYyxFQUFFLGlCQUFpQjtJQUNqQyxZQUFBLFVBQVUsRUFBRSxXQUFXO0lBQ3ZCLFlBQUEsV0FBVyxFQUFFLFlBQVk7SUFDekIsWUFBQSxRQUFRLEVBQUUsa0JBQWtCO0lBQzVCLFlBQUEsU0FBUyxFQUFFLHFCQUFxQjtJQUNoQyxZQUFBLFFBQVEsRUFBRSxvQkFBb0I7SUFDOUIsWUFBQSxTQUFTLEVBQUUscUJBQXFCO2dCQUNoQyxRQUFRLEVBQUUsT0FBTyxFQUFFLFFBQVE7Z0JBQzNCLElBQUksRUFBRSxPQUFPLEVBQUUsUUFBUTtJQUMxQixTQUFBLENBQUMsQ0FBQTtJQUNOLEtBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBRXpCUCxDQUFTLENBQUMsTUFBSztJQUNYLFFBQUEsT0FBTyxNQUFNLE1BQU0sRUFBRSxDQUFDO0lBQzFCLEtBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUE7Ozs7O1FBT1osTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDNUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsTUFBTSxDQUFDLFlBQVksRUFBRSxlQUFlLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDcEQsTUFBTSxDQUFDLFdBQVcsRUFBRSxjQUFjLENBQUMsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFHbEQsT0FBTztJQUNILFFBQUEsV0FBVyxFQUFFLFVBQVU7O1lBRXZCLE9BQU87WUFDUCxNQUFNO1lBQ04sS0FBSztZQUNMLFFBQVEsRUFBRSxRQUFRLElBQUksS0FBSztZQUMzQixTQUFTLEVBQUUsU0FBUyxJQUFJLEtBQUs7WUFDN0IsWUFBWTtZQUNaLFdBQVc7WUFDWCxXQUFXO0lBQ1gsUUFBQSxlQUFlLEVBQUUsZUFBZTtJQUNoQyxRQUFBLGNBQWMsRUFBRSxjQUFjO0lBQzlCLFFBQUEsU0FBUyxFQUFFLFFBQVE7SUFDbkIsUUFBQSxxQkFBcUIsRUFBRSxLQUFLO1NBQy9CLENBQUE7SUFHTCxDQUFDO0lBNElELFNBQVMsU0FBUyxDQUFJLENBQWlCLEVBQUE7UUFDbkMsT0FBTyxDQUFDLFlBQVksT0FBTyxDQUFDO0lBQ2hDLENBQUM7SUFFRCxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUM7SUFFOUI7Ozs7Ozs7O0lBUUc7SUFDSCxTQUFTLFdBQVcsQ0FBMEQsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxjQUFjLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQXNELEVBQUE7UUFDMVQsSUFBSSxPQUFPLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLElBQUksY0FBYyxHQUFHLEtBQUssQ0FBQztRQUMzQixJQUFJLGVBQWUsR0FBRyxLQUFLLENBQUM7UUFDNUIsSUFBSSxjQUFjLEdBQTZCLEtBQUssQ0FBQztRQUVyRCxNQUFNLFNBQVMsR0FBRyxNQUFLOzs7SUFJbkIsUUFBQSxZQUFZLEVBQUUsQ0FBQztJQUNmLFFBQUEsU0FBUyxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsQ0FBQztJQUUzQixRQUFBLGVBQWUsQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFDekMsSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUdyQjtJQUNJLGFBQUE7Ozs7O0lBS0QsWUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLGNBQWMsS0FBSyxLQUFLLENBQUMsQ0FBQztnQkFDekMsSUFBSSxjQUFjLElBQUksS0FBSyxFQUFFO0lBQ3pCLGdCQUFBLGNBQWMsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDdEMsZ0JBQUEsYUFBYSxFQUFFLENBQUM7SUFDbkIsYUFBQTtJQUNKLFNBQUE7SUFDTCxLQUFDLENBQUE7SUFFRCxJQUFBLE1BQU0sSUFBSSxHQUFHLENBQUMsR0FBRyxJQUFlLEtBQUk7OztJQUdoQyxRQUFBLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUM7SUFDMUIsUUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLGNBQWMsSUFBSSxLQUFLLENBQUMsQ0FBQztZQUN4QyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDakIsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2xCLFFBQUEsSUFBSSxlQUFxRCxDQUFDO1lBRTFELElBQUksWUFBWSxHQUFHLEtBQUssQ0FBQztZQUN6QixJQUFJOzs7O0lBSUEsWUFBQSxRQUFRLEVBQUUsQ0FBQztJQUNYLFlBQUEsZUFBZSxHQUFHLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO2dCQUN0QyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDckIsU0FBQTtJQUNELFFBQUEsT0FBTyxFQUFFLEVBQUU7Z0JBQ1AsWUFBWSxHQUFHLElBQUksQ0FBQztnQkFDcEIsT0FBTyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2YsU0FBQTs7SUFHRCxRQUFBLElBQUksU0FBUyxDQUFDLGVBQWUsQ0FBQyxFQUFFO2dCQUM1QixlQUFlO3FCQUNWLElBQUksQ0FBQyxDQUFDLElBQUcsRUFBRyxTQUFTLEVBQUUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQztxQkFDMUUsS0FBSyxDQUFDLENBQUMsSUFBRyxFQUFHLFFBQVEsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDO3FCQUNuRSxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDM0IsU0FBQTtJQUNJLGFBQUE7Z0JBQ0QsSUFBSSxDQUFDLFlBQVksRUFBRTtJQUNmLGdCQUFBLFNBQVMsRUFBRSxDQUFDO29CQUNaLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztvQkFDbEIsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JCLGFBQUE7SUFDSSxpQkFBQTtJQUNELGdCQUFBLFFBQVEsRUFBRSxDQUFDO29CQUNYLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztvQkFDbkIsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BCLGFBQUE7Z0JBQ0QsYUFBYSxDQUFDLGVBQXlCLENBQUMsQ0FBQztJQUN6QyxZQUFBLFNBQVMsQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDM0IsWUFBQSxTQUFTLEVBQUUsQ0FBQztJQUNmLFNBQUE7SUFDTCxLQUFDLENBQUE7O0lBR0QsSUFBQSxNQUFNLGFBQWEsR0FBcUI7WUFDcEMsT0FBTyxFQUFFLENBQUMsSUFBSTtJQUNkLFFBQUEsUUFBUSxFQUFFLElBQUk7U0FDakIsQ0FBQTtJQUNELElBQUEsSUFBSSxRQUFRLEVBQUU7WUFDVixJQUFJLElBQUksSUFBSSxJQUFJLEtBQUssSUFBSSxHQUFHLFFBQVEsQ0FBQztnQkFDakMsSUFBSSxHQUFHLFFBQVEsQ0FBQztJQUNwQixRQUFBLGFBQWEsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO0lBQ3BDLEtBQUE7SUFFRCxJQUFBLE1BQU0sYUFBYSxHQUFHNk0sUUFBYyxDQUFDLE1BQUs7O0lBRXRDLFFBQUEsY0FBYyxDQUFDLGNBQWMsR0FBRyxLQUFLLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsT0FBTyxFQUFFOzs7SUFHVixZQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsY0FBYyxJQUFJLEtBQUssQ0FBQyxDQUFDO0lBQ3hDLFlBQUEsSUFBSSxDQUFDLEdBQUksY0FBNEIsQ0FBQyxDQUFDO0lBQzFDLFNBQUE7SUFBTSxhQUFBOzs7O0lBSUgsWUFBQSxlQUFlLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQzNDLFNBQUE7SUFDTCxLQUFDLEVBQUUsSUFBSSxJQUFJLFNBQVMsRUFBRSxhQUFhLENBQUMsQ0FBQztRQUVyQyxPQUFPO0lBQ0gsUUFBQSxVQUFVLEVBQUUsQ0FBQyxHQUFHLElBQWMsS0FBSTs7O0lBRzlCLFlBQUEsY0FBYyxHQUFHLE9BQU8sQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO0lBQ2xDLFlBQUEsY0FBYyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUN0QyxZQUFBLGFBQWEsRUFBRSxDQUFDO2FBQ25CO1lBQ0QsS0FBSyxFQUFFLE1BQUs7Z0JBQ1IsYUFBYSxDQUFDLEtBQUssRUFBRSxDQUFDO2FBQ3pCO1lBQ0QsTUFBTSxFQUFFLE1BQUs7Z0JBQ1QsYUFBYSxDQUFDLE1BQU0sRUFBRSxDQUFDO2FBQzFCO1NBQ0osQ0FBQztJQUNOLENBQUM7SUFHRCxNQUFNLEVBQUUsVUFBVSxFQUFFLEdBQUcsV0FBVyxDQUEyQztRQUN6RSxVQUFVLEVBQUUsT0FBTyxLQUFLLEtBQUksRUFBRyxPQUFPLENBQUMsQ0FBQSxFQUFFO1FBQ3pDLE9BQU8sRUFBRSxDQUFDLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQztJQUM1QixJQUFBLFFBQVEsRUFBRSxNQUFLLEdBQUk7SUFDbkIsSUFBQSxTQUFTLEVBQUUsTUFBSyxHQUFJO0lBQ3BCLElBQUEsUUFBUSxFQUFFLE1BQUssR0FBSTtJQUNuQixJQUFBLFNBQVMsRUFBRSxNQUFLLEdBQUk7SUFDcEIsSUFBQSxlQUFlLEVBQUUsTUFBSyxHQUFJO0lBQzFCLElBQUEsT0FBTyxFQUFFLE1BQUssR0FBSTtJQUNsQixJQUFBLFVBQVUsRUFBRSxNQUFLLEdBQUk7SUFDckIsSUFBQSxXQUFXLEVBQUUsTUFBSyxHQUFJO0lBQ3RCLElBQUEsU0FBUyxFQUFFLE1BQUssR0FBSTtJQUNwQixJQUFBLGFBQWEsRUFBRSxNQUFLLEdBQUk7SUFDeEIsSUFBQSxjQUFjLEVBQUUsTUFBSyxHQUFJO0lBQ3pCLElBQUEsUUFBUSxFQUFFLENBQUM7SUFDWCxJQUFBLElBQUksRUFBRSxDQUFDO0lBQ1YsQ0FBQSxDQUFDLENBQUE7SUFFWSxVQUFVLENBQUMsTUFBTTs7SUNuakIvQjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQTBERztJQUNhLFNBQUEsZUFBZSxDQUF5QixFQUFFLFlBQVksRUFBRSxPQUFPLEVBQUUsZUFBZSxFQUFFLEdBQUcsZ0JBQWdCLEVBQXFELEVBQUE7O0lBR3RLLElBQUEsTUFBTSxDQUFDLGNBQWMsRUFBRSxpQkFBaUIsRUFBRSxpQkFBaUIsQ0FBQyxHQUFHLFFBQVEsQ0FBMEIsU0FBUyxDQUFDLENBQUM7UUFDNUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxhQUFhLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7Ozs7Ozs7O0lBU3BELElBQUEsTUFBTSxPQUFPLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFZLEtBQThCO0lBQ3pFLFFBQUEsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BDLGlCQUFpQixDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQzVCLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwQixRQUFBLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekIsS0FBQyxDQUFDLENBQUM7UUFHSCxPQUFPO1lBQ0gsaUJBQWlCO1lBQ2pCLGNBQWM7WUFDZCxVQUFVO1lBQ1YsR0FBRyxRQUFRLENBQUMsWUFBWSxFQUFFLEVBQUUsT0FBTyxFQUFFLEdBQUcsZ0JBQWdCLEVBQUUsQ0FBQztTQUM5RCxDQUFDO0lBQ047O0lDMUhBOzs7Ozs7Ozs7SUFTRztJQUNhLFNBQUEsaUJBQWlCLENBQUMsRUFBRSxNQUFNLEVBQStCLEVBQUE7UUFFckUsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxRQUFRLENBQXlCLElBQUksQ0FBQyxDQUFDO1FBQ3pFLE1BQU0sQ0FBQyxXQUFXLEVBQUUsY0FBYyxDQUFDLEdBQUcsUUFBUSxDQUEyQixJQUFJLENBQUMsQ0FBQztRQUMvRSxNQUFNLENBQUMsV0FBVyxFQUFFLGNBQWMsQ0FBQyxHQUFHLFFBQVEsQ0FBMkIsSUFBSSxDQUFDLENBQUM7SUFFL0UsSUFBQSxNQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBZ0MsQ0FBQyxLQUFLLEtBQUk7WUFDL0UsT0FBTyxTQUFTLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDcEMsS0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLGlCQUFpQixHQUFHLGlCQUFpQixDQUFrQyxDQUFDLEtBQUssRUFBRSxLQUFLLEtBQUk7SUFDMUYsUUFBQSxPQUFPLFdBQVcsR0FBRyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDdkMsS0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLE1BQU0saUJBQWlCLEdBQUcsaUJBQWlCLENBQWtDLENBQUMsS0FBSyxLQUFJO0lBQ25GLFFBQUEsT0FBTyxXQUFXLEdBQUcsS0FBSyxDQUFDLENBQUM7SUFDaEMsS0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLE1BQU0sT0FBTyxHQUFHdE0sR0FBTyxDQUFDLFFBQVEsT0FBTyxNQUFNLElBQUksSUFBSSxHQUFFLElBQUksR0FBRyxPQUFPLE1BQU0sSUFBSSxRQUFRLEdBQUUsUUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNoSixJQUFBLE1BQU0sUUFBUSxHQUFHLENBQUMsT0FBTyxHQUFFLElBQUksR0FBR3lGLENBQVksQ0FBQ3FDLEdBQUMsQ0FBQSxjQUFjLEVBQUMsRUFBQSxZQUFZLEVBQUUsWUFBWSxFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQUUsY0FBYyxFQUFFLGNBQWMsRUFBQSxDQUFJLEVBQUUsT0FBUSxDQUFDLENBQUM7UUFFekssT0FBTztJQUNILFFBQUEsUUFBUSxFQUFFLFFBQVE7SUFDbEIsUUFBQSxTQUFTLEVBQUUsZUFBZTtJQUMxQixRQUFBLFdBQVcsRUFBRSxpQkFBaUI7SUFDOUIsUUFBQSxXQUFXLEVBQUUsaUJBQWlCO0lBQzlCLFFBQUEsYUFBYSxFQUFFLE9BQU87U0FDekIsQ0FBQTtJQUNMLENBQUM7SUFTRDs7SUFFRztJQUNILFNBQVMsY0FBYyxDQUFDLEVBQUUsWUFBWSxFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQTBLLEVBQUE7SUFDNU8sSUFBQSxNQUFNLENBQUMsUUFBUSxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsR0FBRyxRQUFRLENBQWtCLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLElBQUEsTUFBTSxTQUFTLEdBQTJCekgsR0FBVyxDQUFDLENBQUMsS0FBb0IsS0FBSTtJQUMzRSxRQUFBLE1BQU0sU0FBUyxHQUFHLGdCQUFnQixFQUFFLENBQUM7SUFDckMsUUFBQSxJQUFJLEtBQUssR0FBRyxXQUFXLEVBQUUsQ0FBQyxNQUFNLENBQUM7WUFDakMsV0FBVyxDQUFDLElBQUksS0FBSyxDQUFDLEdBQUcsSUFBSSxFQUFFaEYsR0FBWSxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRixRQUFBLE9BQU8sS0FBSyxDQUFDO1NBQ2hCLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFUCxNQUFNLFdBQVcsR0FBNkJnRixHQUFXLENBQUMsQ0FBQyxLQUFhLEVBQUUsS0FBb0IsS0FBSTtZQUM5RixNQUFNLEdBQUcsR0FBRyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRSxHQUFHLENBQUM7SUFDdEMsUUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3BCLFFBQUEsSUFBSSxHQUFHLEVBQUU7Z0JBQ0wsV0FBVyxDQUFDLElBQUksSUFBRztJQUNmLGdCQUFBLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztvQkFDL0IsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFaEYsR0FBWSxDQUFDLEtBQUssRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2pGLGdCQUFBLE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLGFBQUMsQ0FBQyxDQUFDO0lBQ0gsWUFBQSxPQUFPLEtBQUssQ0FBQztJQUNoQixTQUFBO1NBQ0osRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLElBQUEsTUFBTSxXQUFXLEdBQTZCZ0YsR0FBVyxDQUFDLENBQUMsS0FBYSxLQUFJO1lBQ3hFLE1BQU0sR0FBRyxHQUFHLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFLEdBQUcsQ0FBQztJQUN0QyxRQUFBLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEIsUUFBQSxJQUFJLEdBQUcsRUFBRTtnQkFDTCxXQUFXLENBQUMsSUFBSSxJQUFHO0lBQ2YsZ0JBQUEsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQy9CLGdCQUFBLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzdCLGdCQUFBLE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLGFBQUMsQ0FBQyxDQUFDO0lBQ0gsWUFBQSxPQUFPLEtBQUssQ0FBQztJQUNoQixTQUFBO1NBQ0osRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVQUixDQUFlLENBQUMsTUFBSyxFQUFHLFlBQVksQ0FBQyxDQUFDLElBQUksU0FBUyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUN0RUEsQ0FBZSxDQUFDLE1BQUssRUFBRyxjQUFjLENBQUMsQ0FBQyxJQUFJLFdBQVcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDNUVBLENBQWUsQ0FBQyxNQUFLLEVBQUcsY0FBYyxDQUFDLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0lBRTVFLElBQUEsUUFDSWlJLEdBQUEsQ0FBQUMsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFHLFFBQVEsRUFBQSxDQUFJLEVBQ2pCO0lBQ047O0lDekZNLFNBQVUsbUJBQW1CLENBQWdELEdBQVEsRUFBRSxTQUF3RCxHQUFBLElBQUksQ0FBQyxLQUFLLEVBQUUsT0FBQSxHQUFtQixZQUFZLEVBQUE7UUFDNUwsSUFBSTtZQUNBLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDbEMsSUFBSSxJQUFJLElBQUksSUFBSTtJQUNaLFlBQUEsT0FBTyxJQUFJLENBQUM7SUFDaEIsUUFBQSxPQUFPLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMxQixLQUFBO0lBQ0QsSUFBQSxPQUFPLENBQUMsRUFBRTs7SUFFTixRQUFBLFNBQVM7SUFDVCxRQUFBLE9BQU8sSUFBSSxDQUFDO0lBQ2YsS0FBQTtJQUNMLENBQUM7SUFFZSxTQUFBLG1CQUFtQixDQUFnRCxHQUFRLEVBQUUsS0FBNEIsRUFBRSxTQUFBLEdBQXdELElBQUksQ0FBQyxTQUFTLEVBQUUsVUFBbUIsWUFBWSxFQUFBO1FBQzlOLElBQUk7WUFDQSxJQUFJLEtBQUssSUFBSSxJQUFJO0lBQ2IsWUFBQSxPQUFPLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDOztnQkFFeEIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFDOUMsS0FBQTtJQUNELElBQUEsT0FBTyxDQUFDLEVBQUU7O0lBRU4sUUFBQSxTQUFTO0lBQ1osS0FBQTtJQUNMLENBQUM7SUFFRDs7Ozs7Ozs7Ozs7Ozs7OztJQWdCRzthQUNhLGtCQUFrQixDQUFnRSxHQUFlLEVBQUUsWUFBZSxFQUFFLFVBQXFDLEdBQUEsSUFBSSxDQUFDLEtBQUssRUFBRSxRQUFtQyxHQUFBLElBQUksQ0FBQyxTQUFTLEVBQUUsVUFBbUIsWUFBWSxFQUFBO0lBQ25RLElBQUEsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUUsWUFBWSxDQUFDLEdBQUcsUUFBUSxDQUFJLE9BQU8sQ0FBQyxHQUFHLElBQUksbUJBQW1CLENBQUMsR0FBRyxFQUFFLFVBQWlCLEVBQUUsT0FBTyxDQUFDLElBQUksSUFBSSxLQUFLLFlBQVksQ0FBQyxDQUFDLENBQUM7SUFDM0osSUFBQSxNQUFNLGVBQWUsR0FBRyxlQUFlLENBQUMsWUFBWSxDQUFDLENBQUM7O1FBR3REbEksQ0FBZSxDQUFDLE1BQUs7SUFDakIsUUFBQSxJQUFJLEdBQUcsRUFBRTtnQkFDTCxNQUFNLE9BQU8sR0FBRyxtQkFBbUIsQ0FBQyxHQUFHLEVBQUUsVUFBaUIsRUFBRSxPQUFPLENBQUMsQ0FBQztJQUNyRSxZQUFBLFlBQVksQ0FBQyxPQUFPLElBQUksZUFBZSxFQUFFLENBQUMsQ0FBQztJQUM5QyxTQUFBO0lBQ0wsS0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUE7O1FBR2xCLGdCQUFnQixDQUFDLE1BQU0sRUFBRSxTQUFTLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxDQUFlLEtBQUk7SUFFdEUsUUFBQSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsV0FBVyxJQUFJLE9BQU8sRUFBRTtJQUNsRCxZQUFBLE1BQU0sUUFBUSxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUM7Z0JBRTVCLElBQUksUUFBUSxJQUFJLElBQUk7SUFDaEIsZ0JBQUEsWUFBWSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDOztvQkFFbkMsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ2xDLFNBQUE7U0FDSixDQUFDLENBQUMsQ0FBQztJQUVKLElBQUEsTUFBTSxlQUFlLEdBQUcsaUJBQWlCLENBQXNCLENBQUMsYUFBYSxLQUFJO0lBRTdFLFFBQUEsTUFBTSxLQUFLLEdBQTBCLE9BQU8sYUFBYSxLQUFLLFVBQVUsR0FBSSxhQUEwQixDQUFDLFlBQVksRUFBRSxDQUFDLEdBQUcsYUFBYSxDQUFDOztZQUd2SSxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUM7O0lBRzVCLFFBQUEsSUFBSSxHQUFHLEVBQUU7Z0JBQ0wsbUJBQW1CLENBQUMsR0FBRyxFQUFFLEtBQThCLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUU1RSxJQUFJLE9BQU8sS0FBSyxJQUFJLFFBQVEsSUFBSyxLQUFnQixZQUFZLElBQUksRUFBRTtvQkFDL0QsT0FBTyxDQUFDLE1BQU0sQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDLEtBQUssRUFBRSwwRkFBMEYsQ0FBQyxDQUFDO0lBQ3hJLGFBQUE7SUFDSixTQUFBO0lBQ0wsS0FBQyxDQUFDLENBQUM7SUFFSCxJQUFBLE1BQU0sUUFBUSxHQUFHLGlCQUFpQixDQUFDLE1BQUs7SUFDcEMsUUFBQSxNQUFNLFNBQVMsR0FBRyxDQUFDLEdBQUcsR0FBRyxTQUFTLEdBQUcsbUJBQW1CLENBQUMsR0FBRyxFQUFFLFVBQWlCLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDMUYsT0FBTyxTQUFTLElBQUksU0FBUyxDQUFDO0lBQ2xDLEtBQUMsQ0FBQyxDQUFDO0lBRUgsSUFBQSxPQUFPLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxRQUFRLENBQUMsQ0FBQztJQUVsRDs7QUN4R29DdkUsT0FBYSxDQUFxQixJQUFJOztJQ2FwRSxTQUFVLFNBQVMsQ0FBb0IsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsRUFBRSxlQUFlLEVBQUUsb0JBQW9CLEVBQTBCLEVBQUE7UUFDN0ssUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXRCLE1BQU0sZ0JBQWdCLEdBQUcsYUFBYSxDQUFJLEVBQUUsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDO0lBQ3BFLElBQUEsTUFBTSxTQUFTLEdBQUcrRSxHQUFXLENBQUMsQ0FBQyxDQUFNLEtBQU0sQ0FBNEIsQ0FBQyxLQUFLLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQTtRQUN0RixNQUFNLFdBQVcsR0FBRyxRQUFRLENBQUk7SUFDNUIsUUFBQSxHQUFHLGdCQUFnQjtJQUNuQixRQUFBLGVBQWUsRUFBRTtJQUNiLFlBQUEsV0FBVyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxPQUFPLElBQUksWUFBWSxDQUFDLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLElBQUksSUFBSSxHQUFHLElBQUksR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7Z0JBQ2xILFNBQVM7SUFDVCxZQUFBLEdBQUcsZUFBZTtJQUNyQixTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7UUFFSCxNQUFNLEVBQUUsV0FBVyxFQUFFLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxFQUFFLEdBQUcsV0FBVyxDQUFDO1FBQ25FLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxRQUFRLEVBQUUsRUFBRSxHQUFHLGdCQUFnQixDQUFDO0lBRXpFLElBQUEsTUFBTSxTQUFTLEdBQUcsRUFBRSxjQUFjLEdBQUcsT0FBTyxLQUFLLElBQUksR0FBRyxNQUFNLEdBQUcsT0FBTyxLQUFLLEtBQUssR0FBRyxPQUFPLEdBQUcsU0FBUyxDQUFDLEVBQUUsQ0FBQztRQUM1RyxNQUFNLFdBQVcsR0FBRyxFQUFFLEdBQUcsU0FBUyxFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsSUFBSSxRQUFRLElBQUksTUFBTSxJQUFJLElBQUksR0FBRyxLQUFLLEVBQUUsZUFBZSxHQUFHLFFBQVEsS0FBSyxNQUFNLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksUUFBUSxHQUFHLFNBQVMsR0FBRyxJQUFJLEVBQUUsQ0FBQztJQUN4TSxJQUFBLE1BQU0sUUFBUSxHQUFHLEVBQUUsR0FBRyxTQUFTLEVBQUUsUUFBUSxHQUFHLFFBQVEsS0FBSyxNQUFNLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxRQUFRLEdBQUcsTUFBTSxHQUFHLFNBQVMsRUFBRSxDQUFDO1FBR2xJLE9BQU87SUFDSCxRQUFBLEdBQUcsZ0JBQWdCO0lBQ25CLFFBQUEsR0FBRyxXQUFXO1lBQ2QsS0FBSyxFQUFFLGNBQWMsQ0FBSSxVQUFVLEVBQUUsUUFBUSxHQUFHLFNBQVMsSUFBSSxRQUFRLEdBQUcsV0FBVyxHQUFHLFFBQVEsRUFBRTtTQUNuRyxDQUFBO0lBQ0w7O2FDNkJnQixZQUFZLENBQXlFLEVBQ2pHLG1CQUFtQixFQUFFLEVBQUUsWUFBWSxFQUFFLGVBQWUsRUFBRSxFQUN0RCw2QkFBNkIsRUFDN0IsMEJBQTBCLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSxtQkFBbUIsRUFBRSxlQUFlLEVBQUUsaUJBQWlCLEVBQUUsa0JBQWtCLEVBQUUsRUFDakoseUJBQXlCLEVBQUUsRUFBRSx3QkFBd0IsRUFBRSxxQkFBcUIsRUFBRSxFQUNqQyxFQUFBO1FBQzdDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQztJQUV6QixJQUFBLE1BQU0sQ0FBQyxpQkFBaUIsRUFBRSxvQkFBb0IsQ0FBQyxHQUFHLGtCQUFrQixDQUF1QixlQUFlLElBQUksSUFBSSxFQUFFLFlBQVksSUFBSSxJQUFJLENBQUMsQ0FBQztRQUMxSSxJQUFJLGlCQUFpQixJQUFJLElBQUk7WUFDekIsWUFBWSxHQUFHLGlCQUFpQixDQUFDO0lBRXJDLElBQUEsTUFBTSxFQUFFLHFCQUFxQixFQUFFLE9BQU8sRUFBRSxHQUFHLGtCQUFrQixDQUFJO0lBQzdELFFBQUEseUJBQXlCLEVBQUU7Z0JBQ3ZCLHFCQUFxQixFQUFFLGlCQUFpQixDQUFnQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUksRUFBRyxLQUFLLEVBQUUsQ0FBQyxDQUFDLHFCQUFxQixHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7Z0JBQzlILHdCQUF3QjtJQUMzQixTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7SUFDSCxJQUFBLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxxQkFBcUIsQ0FBQztRQUU5QyxNQUFNLGNBQWMsR0FBR0EsR0FBVyxDQUFDLENBQUMsQ0FBSSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDbEYsSUFBQSxNQUFNLGNBQWMsR0FBR0EsR0FBVyxDQUFDLENBQUMsQ0FBUyxLQUFhO1lBQ3RELE1BQU0sS0FBSyxHQUFHLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQyxRQUFBLElBQUksS0FBSyxFQUFFO0lBQ1AsWUFBQSxPQUFPLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxTQUFBO0lBQ0QsUUFBQSxPQUFPLEtBQUssQ0FBQztTQUNoQixFQUFFLEVBQUUsQ0FBQyxDQUFDOztRQUlQLE1BQU0sRUFBRSxXQUFXLEVBQUUsNEJBQTRCLEVBQUUsZUFBZSxFQUFFLHVCQUF1QixFQUFFLEdBQUcsZUFBZSxDQUFXO1lBQ3RILFlBQVk7WUFDWixXQUFXO1lBQ1gsS0FBSyxFQUFFQSxHQUFXLENBQUMsQ0FBQyxLQUFLLE9BQU8sT0FBTyxLQUFLLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUNqRixLQUFLLEVBQUVBLEdBQVcsQ0FBQyxDQUFDLEtBQUssRUFBRSxJQUFJLEtBQU8sRUFBQSxPQUFPLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQ2xGLFFBQUEsT0FBTyxFQUFFLGNBQWM7SUFDdkIsUUFBQSxhQUFhLEVBQUUsSUFBSTtJQUNuQixRQUFBLFVBQVUsRUFBRSxLQUFLO0lBQ3BCLEtBQUEsQ0FBQyxDQUFDOzs7SUFJSCxJQUFBLE1BQU0sRUFBRSxXQUFXLEVBQUUsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsR0FBRyxlQUFlLENBQVc7WUFDL0gsWUFBWTtZQUNaLFdBQVc7WUFDWCxLQUFLLEVBQUVBLEdBQVcsQ0FBQyxDQUFDLEtBQUssT0FBTyxPQUFPLEtBQUssQ0FBQyxxQkFBcUIsRUFBRSxJQUFJLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO1lBQ3JGLEtBQUssRUFBRUEsR0FBVyxDQUFDLENBQUMsS0FBSyxFQUFFLE1BQU0sS0FBTyxFQUFBLE9BQU8sS0FBSyxDQUFDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDMUYsUUFBQSxPQUFPLEVBQUUsY0FBYztJQUN2QixRQUFBLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLFFBQUEsYUFBYSxFQUFFQSxHQUFXLENBQUMsQ0FBQyxDQUFnQixLQUFJO2dCQUM1QyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7b0JBQ1gsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDO0lBQ3ZDLGFBQUE7YUFDSixFQUFFLEVBQUUsQ0FBQztJQUNULEtBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQSxNQUFNLG1CQUFtQixHQUFHLGlCQUFpQixDQUFzQyxDQUFDLEtBQUssS0FBSTtZQUN6Riw0QkFBNEIsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNwQyxvQkFBb0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxLQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sb0JBQW9CLEdBQUcsZUFBZSxDQUFDO0lBQ3pDLFFBQUEsZ0JBQWdCLEVBQUUsY0FBYztJQUNoQyxRQUFBLGdCQUFnQixFQUFFLGlCQUFpQjtJQUN0QyxLQUFBLENBQUMsQ0FBQTtJQUVGLElBQUEsTUFBTSxFQUNGLCtCQUErQixFQUMvQix5QkFBeUIsRUFDNUIsR0FBRyxzQkFBc0IsQ0FBMkM7WUFDakUsb0JBQW9CO1lBQ3BCLDZCQUE2QjtJQUNoQyxLQUFBLENBQUMsQ0FBQTtRQUVGLE9BQU87WUFDSCxPQUFPLEVBQUUsZUFBZSxDQUE4QztJQUNsRSxZQUFBLEdBQUcsT0FBTztJQUNWLFlBQUEsR0FBRywrQkFBK0I7Z0JBQ2xDLDBCQUEwQixFQUFFLGVBQWUsQ0FBQztvQkFDeEMsbUJBQW1CO29CQUNuQixpQkFBaUI7SUFDakIsZ0JBQUEsZ0JBQWdCLEVBQUUsdUJBQXVCO0lBQ3pDLGdCQUFBLGNBQWMsRUFBRSxjQUFjO29CQUM5QixvQkFBb0IsRUFBRSx5QkFBeUIsQ0FBQyxXQUFXO2lCQUM5RCxDQUFDO2dCQUNGLDBCQUEwQixFQUFFLGVBQWUsQ0FBQztvQkFDeEMsZ0JBQWdCO29CQUNoQixrQkFBa0I7SUFDbEIsZ0JBQUEsZUFBZSxFQUFFQSxHQUFXLENBQUMsTUFBTSxXQUFXLEVBQUUsQ0FBQyxlQUFlLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDdkUsZ0JBQUEsWUFBWSxFQUFFLFFBQVE7SUFDdEIsZ0JBQUEsY0FBYyxFQUFFLFFBQVE7b0JBQ3hCLG1CQUFtQjtJQUNuQixnQkFBQSxPQUFPLEVBQUUsY0FBYztvQkFDdkIsZUFBZTtvQkFDZixpQkFBaUI7b0JBQ2pCLGtCQUFrQjtpQkFDckIsQ0FBQztnQkFDRixvQkFBb0I7YUFDdkIsQ0FBQztZQUNGLHFCQUFxQjtJQUNyQixRQUFBLGVBQWUsRUFBRSxlQUFlLENBQUMsRUFBRSxtQkFBbUIsRUFBRSxDQUFDO1NBQzVELENBQUM7SUFDTixDQUFDO0lBRUQsU0FBUyxRQUFRLENBQUksQ0FBSSxFQUFBLEVBQUksT0FBTyxDQUFDLENBQUMsRUFBRTtJQUt4QixTQUFBLG1CQUFtQixDQUE0RyxFQUMzSSxnQkFBZ0IsRUFDaEIsZUFBZSxFQUFFLEVBQUcsRUFDcEIsMEJBQTBCLEVBQUUsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxFQUM1RCxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUNqQyw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxFQUN6QyxxQkFBcUIsRUFDckIsT0FBTyxFQUNQLE9BQU8sRUFBRSxFQUNMLDBCQUEwQixFQUFFLEVBQUUsbUJBQW1CLEVBQUUsaUJBQWlCLEVBQUUsdUJBQXVCLEVBQUUsY0FBYyxFQUFFLHNCQUFzQixFQUFFLG9CQUFvQixFQUFFLEVBQzdKLDBCQUEwQixFQUMxQixvQkFBb0IsRUFDcEIsa0NBQWtDLEdBQ3JDLEVBQ0Qsb0JBQW9CLEdBQ3NELEVBQUE7UUFFMUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLEdBQUcsZ0JBQWdCLENBQUM7UUFFNUQsUUFBUSxDQUFDLHFCQUFxQixDQUFDLENBQUM7SUFDaEMsSUFBQSxNQUFNLENBQUMsY0FBYyxFQUFFLGlCQUFpQixFQUFFLGlCQUFpQixDQUFDLEdBQUcsUUFBUSxDQUFpQixJQUFJLENBQUMsQ0FBQztJQUM5RixJQUFBLE1BQU0sQ0FBQyxrQkFBa0IsRUFBRSxxQkFBcUIsRUFBRSxxQkFBcUIsQ0FBQyxHQUFHLFFBQVEsQ0FBaUIsSUFBSSxDQUFDLENBQUM7SUFLMUcsSUFBQSxNQUFNLEVBQUUsY0FBYyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxtQkFBbUIsRUFBRSxHQUFHLFdBQVcsQ0FBbUMsRUFBRSxrQkFBa0IsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsNEJBQTRCLEVBQUUsbUJBQW1CLEVBQUUsZUFBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzdRLElBQUEsTUFBTSxFQUFFLGNBQWMsRUFBRSxhQUFhLEVBQUUsV0FBVyxFQUFFLGVBQWUsRUFBRSxlQUFlLEVBQUUsbUJBQW1CLEVBQUUsR0FBRyxXQUFXLENBQW1DLEVBQUUsa0JBQWtCLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLG9CQUFvQixFQUFFLG1CQUFtQixFQUFFLGlCQUFpQixFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZRLE1BQU0sSUFBSSxJQUFJLENBQUMsWUFBWSxJQUFJLGNBQWMsS0FBSyxLQUFLLENBQUMsQ0FBQztRQUV6RCxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxVQUFVLEVBQUUsZ0JBQWdCLEVBQUUsV0FBVyxFQUFFLHFCQUFxQixFQUFFLEVBQUUsR0FBRyxhQUFhLENBQXNCLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNwSyxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLFdBQVcsRUFBRSxtQkFBbUIsRUFBRSxFQUFFLEdBQUcsYUFBYSxDQUFjLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6SixJQUFBLE1BQU0sU0FBUyxHQUFHQSxHQUFXLENBQUMsTUFBSztJQUM5QixRQUFBLGdCQUFnQixFQUF5QyxFQUFFLEtBQUssRUFBRSxDQUFDO1NBQ3ZFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFdUQsZUFBZSxDQUFJO1lBQzdFLE9BQU87SUFDUCxRQUFBLHNCQUFzQixFQUFFO0lBQ3BCLFlBQUEsS0FBSyxFQUFFLEtBQUs7SUFDZixTQUFBO1NBQ0osRUFBRTtZQUNDLEtBQUs7WUFDTCxRQUFRO1lBQ1IsU0FBUztZQUNULHFCQUFxQjtZQUNyQixpQkFBaUI7WUFDakIsTUFBTTtZQUNOLHFCQUFxQjtZQUNyQixpQkFBaUI7SUFDcEIsS0FBQSxFQUFFO0lBRUgsSUFBQSxNQUFNLE9BQU8sR0FBRyxDQUFDLENBQXdDLEtBQUk7SUFDekQsUUFBQSxJQUFJLGlCQUFpQixFQUFFO2dCQUNuQixtQkFBbUIsQ0FBQyxJQUFJLENBQUMsQ0FBQzs7Z0JBRTFCLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRS9CLFFBQUEsV0FBVyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ3JCLEtBQUMsQ0FBQztRQUdGLE1BQU0sZ0JBQWdCLEdBQUcsbUJBQW1CLENBQTJDLEVBQUUsMEJBQTBCLEVBQUUsb0JBQW9CLEVBQUUsQ0FBQyxDQUFDO1FBQzdJLE1BQU0sRUFDRixlQUFlLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFDakMsaUJBQWlCLEVBQ3BCLEdBQUcsMkJBQTJCLENBQXNCO1lBQ2pELHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFO0lBQ2pDLFFBQUEsZ0JBQWdCLEVBQUUsRUFBRSxVQUFVLEVBQUUsaUJBQWlCLENBQUMsTUFBTSxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxFQUFFO1lBQ3hGLHFCQUFxQjtZQUNyQiwrQkFBK0IsRUFBRSxFQUFFLGtDQUFrQyxFQUFFO0lBQzFFLEtBQUEsQ0FBQyxDQUFBO1FBRUYsTUFBTSxZQUFZLEdBQTZDLFNBQVMsQ0FBc0I7SUFDMUYsUUFBQSxnQkFBZ0IsRUFBRSxFQUFFLEdBQUcsZ0JBQWdCLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRTtZQUNqRixlQUFlLEVBQUUsRUFBRSxZQUFZLEVBQUU7WUFDakMsb0JBQW9CO0lBQ3ZCLEtBQUEsQ0FBQyxDQUFDO1FBRUgsTUFBTSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLEdBQUcsWUFBWSxDQUFDO1FBRTNFLE1BQU0sRUFBRSxzQkFBc0IsRUFBRSxFQUFFLFdBQVcsRUFBRSxFQUFFLEdBQUcsZ0JBQWdCLENBQUM7SUFFckUsSUFBQSxNQUFNLGlCQUFpQixHQUFHLGNBQWMsQ0FDcEMsV0FBVyxFQUNYLHFCQUFxQixFQUNyQixtQkFBbUIsRUFDbkIsZUFBZSxFQUNmLFdBQVcsRUFDWCxvQkFBb0IsRUFDcEIsRUFBRSxlQUFlLEVBQUUsQ0FBQyxJQUFJLElBQUksS0FBSyxFQUFFLFFBQVEsRUFBRSxHQUFHLENBQ25ELENBQUM7UUFFRixNQUFNLFNBQVMsR0FBRyxjQUFjLENBQzVCLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDbkIsZUFBZSxFQUNmO0lBQ0ksUUFBQSxJQUFJLEVBQUUsUUFBUTtZQUNkLFFBQVEsRUFBRSxDQUFDLENBQUM7SUFDZixLQUFBLENBQ0osQ0FBQztRQUVGLE9BQU87WUFDSCxXQUFXO1lBQ1gsZ0JBQWdCO1lBQ2hCLGlCQUFpQjtJQUNqQixRQUFBLHNCQUFzQixFQUFFO2dCQUNwQixrQkFBa0IsRUFBRSxDQUFDLENBQUMsa0JBQWtCO0lBQ3hDLFlBQUEsUUFBUSxFQUFFLElBQUk7SUFDZCxZQUFBLE9BQU8sR0FBRyxzQkFBc0IsRUFBRSxJQUFJLEtBQUssQ0FBQztJQUMvQyxTQUFBO0lBQ0QsUUFBQSxpQkFBaUIsRUFBRSxpQkFBaUI7SUFDcEMsUUFBQSxXQUFXLEVBQUUsRUFBRTtJQUNmLFFBQUEsU0FBUyxFQUFFLFNBQVM7U0FDdkIsQ0FBQztJQUNOOztJQzVRTSxTQUFVLFFBQVEsQ0FBdUYsRUFDM0csdUJBQXVCLEVBQ3ZCLHVCQUF1QixFQUN2QixlQUFlLEVBQUUsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLEVBQzlCLEVBQUE7SUFDakQsSUFBQSxNQUFNLGtCQUFrQixJQUFJLFFBQVEsSUFBSSxPQUFPLElBQUksUUFBUSxJQUFJLE9BQU8sSUFBSSxhQUFhLElBQUksVUFBVSxDQUFDLENBQUM7SUFDdkcsSUFBQSxNQUFNLFNBQVMsR0FBRyxDQUFDLGtCQUFrQixDQUFDO1FBYXRDLE1BQU0sRUFDRixVQUFVLEVBQ1YsVUFBVSxFQUNWLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDdEIsR0FBRyxnQkFBZ0IsQ0FBNkI7WUFDN0MsdUJBQXVCLEVBQUUsRUFBRSxHQUFHLHVCQUF1QixFQUFFLG1CQUFtQixFQUFFLENBQUMsU0FBUyxJQUFJLGFBQWEsS0FBSyxVQUFVLEdBQUcsS0FBSyxHQUFHLElBQUksRUFBRTtJQUN2SSxRQUFBLHVCQUF1QixFQUFFLEVBQUUsR0FBRyx1QkFBdUIsRUFBRSxtQkFBbUIsRUFBRSxTQUFTLEdBQUcsaUJBQWlCLEdBQUcsSUFBSSxFQUFFO0lBQ3JILEtBQUEsQ0FBQyxDQUFDO0lBQ0gsSUFBQSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxhQUFhLENBQWUsRUFBRSxvQkFBb0IsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRXZGLElBQUksYUFBYSxJQUFJLE1BQU0sRUFBRTs7SUFFekIsUUFBQSxVQUFVLENBQUMsWUFBWSxDQUFDLElBQUksU0FBVSxDQUFDLENBQUM7SUFDeEMsUUFBQSxVQUFVLENBQUMsaUJBQWlCLENBQUMsR0FBRyxTQUFTLENBQUM7SUFDMUMsUUFBQSxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsU0FBUyxDQUFDO0lBQ2pDLEtBQUE7SUFFRCxJQUFBLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxlQUFlLEVBQUUsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUV3SCxNQUFJLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7UUFFNUssT0FBTztZQUNILFVBQVU7SUFDVixRQUFBLFVBQVUsRUFBRSxjQUFjLENBQUMsVUFBVSxFQUFFLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsYUFBYSxDQUFDO1lBQy9GLG1CQUFtQjtZQUNuQixtQkFBbUI7U0FDdEIsQ0FBQTtJQUNMLENBQUM7SUFRRDs7SUFFRztJQUNhLFNBQUEsaUJBQWlCLENBQTZELEVBQzFGLGVBQWUsRUFBRSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsRUFDNUMsdUJBQXVCLEVBQ3ZCLHVCQUF1QixFQUNHLEVBQUE7SUFDMUIsSUFBQSxPQUFPLFFBQVEsQ0FBNEM7WUFDdkQsdUJBQXVCO1lBQ3ZCLHVCQUF1QjtJQUN2QixRQUFBLGVBQWUsRUFBRTtnQkFDYixTQUFTO2dCQUNULGFBQWEsRUFBRSxTQUFTLElBQUksSUFBSSxHQUFHLFVBQVUsR0FBRyxNQUFNO0lBQ3RELFlBQUEsUUFBUSxFQUFFLEtBQWM7SUFDeEIsWUFBQSxRQUFRLEVBQUUsS0FBYztnQkFDeEIsWUFBWTtJQUNmLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQTtJQUVOOztJQ3pHQSxTQUFTLGNBQWMsQ0FBQyxDQUFRLEVBQUE7UUFDNUIsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3ZCLENBQUM7SUFxQ0Q7Ozs7Ozs7OztJQVNHO0lBQ2EsU0FBQSxlQUFlLENBQWlGLEVBQzVHLGVBQWUsRUFDZix1QkFBdUIsRUFDdkIsdUJBQXVCLEVBQ3ZCLHNCQUFzQixFQUFFLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxFQUN6RSxxQkFBcUIsRUFDckIscUJBQXFCLEVBQ3JCLGVBQWUsRUFBRSxFQUFFLFlBQVksRUFBRSxFQUNpQixFQUFBO0lBRWxELElBQUEsTUFBTSxFQUFFLFVBQVUsRUFBRSxlQUFlLEVBQUUsR0FBRyxxQkFBcUIsQ0FBQztJQUM5RCxJQUFBLE1BQU0sRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLEdBQUcscUJBQXFCLENBQUM7UUFDOUQsTUFBTSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsYUFBYSxFQUFFLEdBQUcsZUFBZSxDQUFDOzs7Ozs7UUFPOURwSSxDQUFTLENBQUMsTUFBSztJQUNYLFFBQUEsTUFBTSxPQUFPLEdBQUcsZUFBZ0IsRUFBRSxDQUFDO0lBQ25DLFFBQUEsSUFBSSxPQUFPLElBQUksUUFBUSxJQUFJLE9BQU8sRUFBRTtnQkFDL0IsT0FBdUMsQ0FBQyxhQUFhLElBQUksT0FBTyxLQUFLLE9BQU8sQ0FBQyxDQUFDO2dCQUM5RSxPQUF1QyxDQUFDLE9BQU8sSUFBSSxPQUFPLEtBQUssSUFBSSxDQUFDLENBQUE7SUFDeEUsU0FBQTtTQUNKLEVBQUUsQ0FBQyxRQUFRLEdBQUcsT0FBTyxJQUFJLEtBQUssRUFBRSxDQUFDLENBQUE7UUFFbEMsTUFBTSxFQUNGLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDbkIsVUFBVSxFQUNWLFVBQVUsRUFDYixHQUFHLFFBQVEsQ0FBMkI7SUFDbkMsUUFBQSxlQUFlLEVBQUU7SUFDYixZQUFBLEdBQUcsZUFBZTtJQUNsQixZQUFBLFlBQVksRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsS0FBSTtJQUNsQyxnQkFBQSxJQUFJLENBQUMsUUFBUSxJQUFJLFFBQVEsSUFBSSxPQUFPLElBQUksUUFBUSxJQUFJLE9BQU8sSUFBSSxhQUFhLElBQUksVUFBVSxFQUFFO0lBQ3hGLG9CQUFBLFNBQVMsRUFBRSxDQUFDO3dCQUNaLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQixpQkFBQTtJQUNMLGFBQUMsQ0FBQztJQUNMLFNBQUE7WUFDRCx1QkFBdUI7WUFDdkIsdUJBQXVCO0lBQzFCLEtBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQSxNQUFNLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQyxNQUFLO1lBQ3JDLElBQUksY0FBYyxHQUF1QixJQUFJLENBQUM7WUFDOUMsSUFBSSxhQUFhLElBQUksVUFBVTtnQkFDM0IsY0FBYyxHQUFHLGVBQWUsRUFBNEIsQ0FBQzs7Z0JBRTdELGNBQWMsR0FBRyxlQUFlLEVBQTRCLENBQUM7WUFFakUsY0FBYyxFQUFFLEtBQUssRUFBRSxDQUFDO0lBQzVCLEtBQUMsQ0FBQyxDQUFBO0lBRUYsSUFBQSxNQUFNLGdCQUFnQixJQUFJLGFBQWEsSUFBSSxVQUFVLEdBQUcsU0FBUyxHQUFHLFdBQVcsQ0FBQyxDQUFDO0lBQ2pGLElBQUEsTUFBTSxnQkFBZ0IsR0FBRyxXQUFXLENBQUM7SUFDckMsSUFBQSxNQUFNLEVBQUUsV0FBVyxFQUFFLGdCQUFnQixFQUFFLEdBQUcsUUFBUSxDQUFZLEVBQUUsZUFBZSxFQUFFLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsQ0FBQyxRQUFRLElBQUksU0FBUyxHQUFHLGdCQUFnQixFQUFFLEVBQUUsZ0JBQWdCLEVBQUUscUJBQXFCLEVBQUUsQ0FBQyxDQUFDO0lBQ2pOLElBQUEsTUFBTSxFQUFFLFdBQVcsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLFFBQVEsQ0FBWSxFQUFFLGVBQWUsRUFBRSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLENBQUMsUUFBUSxJQUFJLFNBQVMsR0FBRyxnQkFBZ0IsRUFBRSxFQUFFLGdCQUFnQixFQUFFLHFCQUFxQixFQUFFLENBQUMsQ0FBQztRQUNqTixNQUFNLGtCQUFrQixHQUFvQyxFQUFFLENBQUM7UUFDL0QsTUFBTSxrQkFBa0IsR0FBb0MsRUFBRSxDQUFDOztJQUcvRCxJQUFBLGtCQUFrQixDQUFDLE9BQU8sR0FBRyxjQUFjLENBQUM7SUFDNUMsSUFBQSxrQkFBa0IsQ0FBQyxPQUFPLEdBQUcsY0FBYyxDQUFDO0lBRTVDLElBQUEsa0JBQWtCLENBQUMsT0FBTyxHQUFHLGNBQWMsQ0FBQztJQUM1QyxJQUFBLGtCQUFrQixDQUFDLFFBQVEsR0FBRyxjQUFjLENBQUM7SUFFN0MsSUFBQSxrQkFBa0IsQ0FBQyxJQUFJLEdBQUcsSUFBSSxJQUFJLE9BQU8sR0FBRyxPQUFPLEdBQUcsVUFBVSxDQUFDO0lBRWpFLElBQUEsUUFBUSxhQUFhO0lBQ2pCLFFBQUEsS0FBSyxNQUFNLENBQUM7WUFDWixLQUFLLFVBQVUsRUFBRTtnQkFDYixJQUFJLFFBQVEsSUFBSSxPQUFPLEVBQUU7OztvQkFHckIsa0JBQWtCLENBQUMsT0FBTyxJQUFJLE9BQU8sS0FBSyxJQUFJLENBQUMsQ0FBQztJQUNoRCxnQkFBQSxJQUFJLFFBQVEsS0FBSyxJQUFJLElBQUksUUFBUSxLQUFLLE1BQU07SUFDeEMsb0JBQUEsa0JBQWtCLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQzt5QkFDbEMsSUFBSSxRQUFRLElBQUksTUFBTTtJQUN2QixvQkFBQSxrQkFBa0IsQ0FBQyxlQUFlLENBQUMsR0FBRyxNQUFNLENBQUM7SUFDcEQsYUFBQTtJQUNJLGlCQUFBOztJQUVELGdCQUFBLGtCQUFrQixDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDL0IsZ0JBQUEsa0JBQWtCLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztJQUNoQyxnQkFBQSxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUM7SUFDbkUsZ0JBQUEsa0JBQWtCLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUFDO0lBQ2pFLGFBQUE7Z0JBUUQsTUFBTTtJQUNULFNBQUE7WUFDRCxLQUFLLFVBQVUsRUFBRTtnQkFDYixJQUFJLFFBQVEsSUFBSSxPQUFPLEVBQUU7O29CQUVyQixrQkFBa0IsQ0FBQyxPQUFPLElBQUksT0FBTyxLQUFLLElBQUksQ0FBQyxDQUFDO29CQUNoRCxrQkFBa0IsQ0FBQyxRQUFRLElBQUksUUFBUSxLQUFLLElBQUksQ0FBQyxDQUFDOzs7O0lBS2xELGdCQUFBLGtCQUFrQixDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDaEMsZ0JBQUEsa0JBQWtCLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2pDLGdCQUFBLGtCQUFrQixDQUFDLElBQUksR0FBRyxjQUFjLENBQUM7SUFDekMsZ0JBQUEsa0JBQWtCLENBQUMsYUFBYSxDQUFDLEdBQUcsTUFBTSxDQUFDO0lBQzNDLGdCQUFBLGtCQUFrQixDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUssZUFBZSxJQUEyQixFQUFFLEtBQUssSUFBSSxDQUFDO0lBQzVGLGFBSUE7OztJQUtELFlBQUEsa0JBQWtCLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztJQUMvQixZQUFBLGtCQUFrQixDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUM7SUFDaEMsWUFBQSxrQkFBa0IsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxLQUFLLEVBQUUsUUFBUSxFQUFFLENBQUM7SUFDbkUsWUFBQSxrQkFBa0IsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLENBQUM7Z0JBRTlELE1BQU07SUFDVCxTQUFBO0lBQ0osS0FBQTtRQUVELE9BQU87WUFDSCxtQkFBbUI7WUFDbkIsbUJBQW1CO1lBQ25CLGdCQUFnQjtZQUNoQixnQkFBZ0I7SUFDaEIsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLGFBQWEsRUFBRSxrQkFBa0IsRUFBRTtJQUM5RCxRQUFBLHVCQUF1QixFQUFFLEVBQUUsYUFBYSxFQUFFLGtCQUFrQixFQUFFO0lBQzlELFFBQUEsVUFBVSxFQUFFLGNBQWMsQ0FBQyxVQUFVLEVBQUUsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUMsYUFBYSxFQUFFLHFCQUFxQixDQUFDLFdBQVcsQ0FBQztJQUM3SCxRQUFBLFVBQVUsRUFBRSxjQUFjLENBQUMsVUFBVSxFQUFFLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDLGFBQWEsRUFBRSxxQkFBcUIsQ0FBQyxXQUFXLENBQUM7WUFDN0gsa0JBQWtCLEVBQUUsRUFBRSxTQUFTLEVBQUU7U0FDcEMsQ0FBQTtJQUNMOzthQ2xMZ0IsV0FBVyxDQUFpRixFQUN4RyxrQkFBa0IsRUFBRSxFQUFFLGVBQWUsRUFBRSxFQUN2QyxzQkFBc0IsRUFDdEIsZUFBZSxFQUNmLHFCQUFxQixFQUNyQixxQkFBcUIsRUFDeUIsRUFBQTtRQUM5QyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUM7SUFFeEIsSUFBQSxNQUFNLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxHQUFHLGVBQWUsQ0FBQztJQUNwRCxJQUFBLE1BQU0sRUFBRSxPQUFPLEVBQUUsR0FBRyxzQkFBc0IsQ0FBQztRQUUzQyxNQUFNLGVBQWUsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLENBQVEsS0FBSyxlQUFlLEdBQUcsWUFBWSxDQUF5QyxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMzSixNQUFNLEVBQ0YsZ0JBQWdCLEVBQ2hCLGdCQUFnQixFQUNoQixtQkFBbUIsRUFDbkIsbUJBQW1CLEVBQ25CLFVBQVUsRUFDVixVQUFVLEVBQ1Ysa0JBQWtCLEVBQ2xCLHVCQUF1QixFQUN2Qix1QkFBdUIsRUFDMUIsR0FBRyxlQUFlLENBQTJCO0lBQzFDLFFBQUEsdUJBQXVCLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLGlCQUFpQixFQUFFO0lBQy9ELFFBQUEsdUJBQXVCLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLGlCQUFpQixFQUFFO1lBQy9ELHFCQUFxQjtZQUNyQixxQkFBcUI7SUFDckIsUUFBQSxzQkFBc0IsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxHQUFHLHNCQUFzQixFQUFFO0lBQ2pHLFFBQUEsZUFBZSxFQUFFLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRTtZQUM5QyxlQUFlO0lBQ2xCLEtBQUEsQ0FBQyxDQUFDO1FBR0gsT0FBTztZQUNILGNBQWMsRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLElBQUksR0FBRyxRQUFRLElBQUksT0FBTyxJQUFJLGFBQWEsSUFBSSxVQUFVLEdBQUcsVUFBVSxHQUFHLFNBQVMsQ0FBQyxFQUFFLEVBQUU7WUFDMUgsa0JBQWtCO1lBQ2xCLGdCQUFnQjtZQUNoQixnQkFBZ0I7WUFDaEIsbUJBQW1CO1lBQ25CLG1CQUFtQjtZQUNuQixVQUFVO1lBQ1YsVUFBVTtZQUNWLHVCQUF1QjtZQUN2Qix1QkFBdUI7U0FDMUIsQ0FBQztJQUVOOztJQ21DQTs7Ozs7SUFLRztJQUNhLFNBQUEsZ0JBQWdCLENBQW9ELEVBQ2hGLDBCQUEwQixFQUMxQiwrQkFBK0IsRUFDL0IsMEJBQTBCLEVBQzFCLHdCQUF3QixFQUN4Qiw2QkFBNkIsRUFDN0IsMkJBQTJCLEVBQ3lDLEVBQUE7UUFDcEUsUUFBUSxDQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDN0IsTUFBTSxFQUNGLHVCQUF1QixFQUN2QixPQUFPLEVBQ1Asc0JBQXNCLEVBQ3RCLHFCQUFxQixFQUNyQixLQUFLLEVBQ0wsMkJBQTJCLEVBQzNCLG9CQUFvQixFQUNwQixxQkFBcUIsRUFDckIsdUJBQXVCLEVBQ3ZCLHVCQUF1QixFQUN2QixzQkFBc0IsRUFDdEIseUJBQXlCLEVBQzVCLEdBQUcseUJBQXlCLENBQTRDO1lBQ3JFLDBCQUEwQjtZQUMxQiwyQkFBMkI7WUFDM0IsK0JBQStCO1lBQy9CLHdCQUF3QjtZQUN4Qix5QkFBeUIsRUFBRSxFQUFFLHNCQUFzQixFQUFFLElBQUksRUFBRSxxQkFBcUIsRUFBRSxJQUFJLEVBQUU7WUFDeEYsMEJBQTBCO1lBQzFCLDJCQUEyQixFQUFFLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFO1lBQ3pFLDZCQUE2QjtJQUNoQyxLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsTUFBTSxFQUFFLFdBQVcsRUFBRSxHQUFHLHFCQUFxQixDQUFDO0lBQzlDLElBQUEsTUFBTSxRQUFRLEdBQUcsV0FBVyxFQUFFLENBQUM7Ozs7UUFNL0IsTUFBTSxNQUFNLEdBQUdLLENBQU0sQ0FBQyxJQUFJLEdBQUcsRUFBVSxDQUFDLENBQUM7SUFDekMsSUFBQSxNQUFNLHNCQUFzQixHQUFHLGlCQUFpQixDQUFDLENBQUMsTUFBbUMsS0FBTyxFQUFBLE1BQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQSxFQUFFLENBQUMsQ0FBQztJQUM5SSxJQUFBLE1BQU0sQ0FBQyxTQUFTLEVBQUUsU0FBUyxDQUFDLEdBQUcsZUFBZSxDQUFxQyxzQkFBc0IsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUN2SCxNQUFNLENBQUMsZUFBZSxFQUFFLGNBQWMsQ0FBQyxHQUFHLGVBQWUsQ0FBZ0IsaUJBQWlCLENBQUMsUUFBUSxzQkFBc0IsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFBLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDOzs7SUFJdkosSUFBQSxNQUFNLGdCQUFnQixHQUFHTyxHQUFXLENBQUMsQ0FBQyxjQUFzQixLQUE0QixFQUFBLE9BQU8sY0FBYyxJQUFJLENBQUMsR0FBRyxLQUFLLEdBQUcsY0FBYyxJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsT0FBTyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMxSyxNQUFNLHVCQUF1QixHQUFHLGlCQUFpQixDQUFDLENBQUMsTUFBZ0QsRUFBRSxjQUFzQixLQUFJLEVBQUcsTUFBTSxHQUFHLGdCQUFnQixDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUE7SUFDaEwsSUFBQSxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLENBQUMsR0FBRyxlQUFlLENBQUNBLEdBQVcsQ0FBQyxDQUFDLGFBQXFCLEtBQUksRUFBRyx1QkFBdUIsQ0FBQywyQkFBMkIsRUFBRSxFQUFFLGlCQUFpQixDQUFDLGVBQWUsRUFBRSxFQUFFLGFBQWEsQ0FBQyxDQUFDLENBQUEsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3RPLElBQUEsTUFBTSxDQUFDLGVBQWUsRUFBRSxlQUFlLENBQUMsR0FBRyxlQUFlLENBQUNBLEdBQVcsQ0FBQyxDQUFDLFlBQW9CLEtBQUksRUFBRyx1QkFBdUIsQ0FBQywyQkFBMkIsRUFBRSxFQUFFLGlCQUFpQixDQUFDLFlBQVksRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDbk8sTUFBTSxpQkFBaUIsR0FBR0EsR0FBVyxDQUFDLENBQUMsWUFBb0IsRUFBRSxhQUFxQixLQUFZO1lBQzFGLElBQUksYUFBYSxHQUFHLENBQUM7Z0JBQ2pCLE9BQU8sWUFBWSxHQUFHLGFBQWEsQ0FBQzs7SUFFcEMsWUFBQSxRQUFRLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTtTQUMxQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBQSxNQUFNLENBQUMsMkJBQTJCLEVBQUUsMkJBQTJCLENBQUMsR0FBRyxlQUFlLENBQWtELGlCQUFpQixDQUFDLENBQUMsTUFBZ0QsS0FBSTtJQUN2TSxRQUFBLHVCQUF1QixDQUFDLE1BQU0sRUFBRSxpQkFBaUIsQ0FBQyxlQUFlLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLENBQUMsQ0FBQTtTQUM1RixDQUFDLENBQUMsQ0FBQztRQUdKLE1BQU0sMEJBQTBCLEdBQUdBLEdBQVcsQ0FBQyxPQUFPLENBQVEsS0FBbUI7WUFDN0UsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBRW5CLFFBQUEsTUFBTSxhQUFhLEdBQUcsZ0JBQWdCLENBQUMsaUJBQWlCLENBQUMsZUFBZSxFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDakcsTUFBTSxXQUFXLElBQUksYUFBYSxLQUFLLEtBQUssR0FBRyxPQUFPLEdBQUcsYUFBYSxLQUFLLE9BQU8sR0FBRyxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUM7WUFDbkcsSUFBSSxhQUFhLEdBQUcsS0FBSyxDQUFDO1lBQzFCLE1BQU0sUUFBUSxHQUFtQixFQUFFLENBQUM7SUFDcEMsUUFBQSxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBRztJQUNyQixZQUFBLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsSUFBSSxPQUFPO0lBQy9DLGdCQUFBLGFBQWEsTUFBTSxLQUFLLENBQUMsWUFBWSxDQUFDLFVBQVUsRUFBRSxJQUFJLEtBQUssQ0FBQyxZQUFZLENBQUMsa0JBQWtCLEVBQUUsQ0FBQyxDQUFBO0lBQ3RHLFNBQUMsQ0FBQyxDQUFDO0lBQ0gsUUFBQSxRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssSUFBRztJQUNyQixZQUFBLElBQUksS0FBSyxDQUFDLFlBQVksQ0FBQyxpQkFBaUIsSUFBSSxPQUFPLEVBQUU7b0JBQ2pELE1BQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDcEQsZ0JBQUEsSUFBSSxPQUE0QixDQUFDO29CQUNqQyxJQUFJLFdBQVcsSUFBSSxPQUFPLEVBQUU7SUFDeEIsb0JBQUEsSUFBSSxhQUFhOzRCQUNiLE9BQU8sSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFDLGtCQUFrQixFQUFFLENBQUMsQ0FBQzs7NEJBRXBELE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDdEIsaUJBQUE7SUFDSSxxQkFBQTt3QkFDRCxPQUFPLEdBQUcsV0FBVyxDQUFDO0lBQ3pCLGlCQUFBO29CQUNELElBQUksT0FBTyxJQUFJLFdBQVcsRUFBRTtJQUN4QixvQkFBQSxNQUFNLE9BQU8sR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLHlCQUF5QixDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6RSxvQkFBQSxJQUFJLE9BQU8sRUFBRTtJQUNULHdCQUFBLFFBQVEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDMUIscUJBQUE7SUFDSixpQkFBQTtJQUNKLGFBQUE7SUFDTCxTQUFDLENBQUMsQ0FBQztJQUVILFFBQUEsTUFBTSxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQy9CLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFHUCxPQUFPO1lBQ0gsc0JBQXNCO1lBQ3RCLE9BQU8sRUFBRSxlQUFlLENBQUM7SUFDckIsWUFBQSxHQUFHLE9BQU87Z0JBQ1YsNEJBQTRCLEVBQUUsZUFBZSxDQUFDO29CQUMxQyxjQUFjO29CQUNkLE1BQU0sRUFBRSxNQUFNLENBQUMsT0FBTztvQkFDdEIsZUFBZTtvQkFDZixnQkFBZ0I7aUJBQ25CLENBQUM7Z0JBQ0YsMEJBQTBCLEVBQUUsZUFBZSxDQUFDO29CQUN4QyxTQUFTO29CQUNULDJCQUEyQjtvQkFDM0IsaUJBQWlCO29CQUNqQixlQUFlO29CQUNmLGdCQUFnQjtvQkFDaEIsMEJBQTBCO2lCQUM3QixDQUFDO2FBQ0wsQ0FBQztZQUNGLHVCQUF1QjtZQUN2QixLQUFLO1lBQ0wsdUJBQXVCO1lBQ3ZCLHVCQUF1QjtZQUN2QiwyQkFBMkI7WUFDM0IscUJBQXFCO1lBQ3JCLHNCQUFzQjtZQUN0QixxQkFBcUI7WUFDckIsb0JBQW9CO1lBQ3BCLHlCQUF5QjtTQUM1QixDQUFDO0lBQ04sQ0FBQztJQUllLFNBQUEsc0JBQXNCLENBQXNCLEVBQ3hELHFDQUFxQyxFQUNyQyxPQUFPLEVBQ1Asc0JBQXNCLEVBQ3RCLDZCQUE2QixFQUM3QixxQkFBcUIsRUFDckIsdUJBQXVCLEdBQ3FDLEVBQUE7SUFDNUQsSUFBQSxNQUFNLEVBQUUsMEJBQTBCLEVBQUUsRUFBRSxTQUFTLEVBQUUsMkJBQTJCLEVBQUUsaUJBQWlCLEVBQUUsZUFBZSxFQUFFLGdCQUFnQixFQUFFLDBCQUEwQixFQUFFLEVBQUUsR0FBRyxPQUFPLENBQUM7UUFDN0ssTUFBTSxFQUNGLHFCQUFxQixFQUNyQixrQkFBa0IsRUFDbEIsZUFBZSxFQUNmLGdCQUFnQixFQUNoQixLQUFLLEVBQ0wsb0JBQW9CLEVBQ3BCLHlCQUF5QixFQUN6QixvQkFBb0IsRUFDcEIsMEJBQTBCLEdBQzdCLEdBQUcsOEJBQThCLENBQXFDO1lBQ25FLHFDQUFxQztZQUNyQyxPQUFPO1lBQ1Asc0JBQXNCO1lBQ3RCLDZCQUE2QjtZQUM3Qix1QkFBdUI7WUFDdkIscUJBQXFCOztJQUVyQixRQUFBLDhCQUE4QixFQUFFLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUU7SUFDcEcsS0FBQSxDQUFDLENBQUM7UUFFSCxNQUFNLENBQUMsWUFBWSxFQUFFLFdBQVcsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNqRFIsQ0FBZSxDQUFDLE1BQUs7SUFDakIsUUFBQSxTQUFTLENBQUMsTUFBTSxXQUFXLENBQUMsQ0FBQztJQUNqQyxLQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLFFBQVEsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBRW5DLE1BQU0sQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLEdBQUcsUUFBUSxDQUFzQixLQUFLLENBQUMsQ0FBQztRQUNuRUosQ0FBUyxDQUFDLE1BQUs7SUFDWCxRQUFBLDJCQUEyQixDQUFDLE1BQU0sVUFBVSxDQUFDLENBQUM7U0FDakQsRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUVOLElBQUEsTUFBTSx5QkFBeUIsR0FBRyxFQUFFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSwwQkFBMEIsRUFBRSxVQUFVLEVBQUUsaUJBQWlCLENBQUMsTUFBUSxFQUFBLE9BQU8saUJBQWlCLENBQUMsZUFBZSxFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFBLEVBQUUsQ0FBQyxFQUFFLENBQUM7UUFDM00sT0FBTztZQUNILHlCQUF5QjtZQUN6QixxQkFBcUI7WUFDckIsa0JBQWtCO1lBQ2xCLG9CQUFvQjtZQUNwQixnQkFBZ0I7WUFDaEIsS0FBSyxFQUFFLGNBQWMsQ0FBQyxFQUFFLGVBQWUsRUFBRSxZQUFZLEVBQStCLEVBQUUsS0FBSyxDQUFDO1lBQzVGLHlCQUF5QjtZQUN6QixvQkFBb0I7WUFDcEIsMEJBQTBCO1NBQzdCLENBQUE7SUFDTCxDQUFDO0lBR0Q7Ozs7Ozs7Ozs7Ozs7SUFhRzthQUNhLHFCQUFxQixDQUFzQixFQUN2RCxrQkFBa0IsRUFDbEIscUNBQXFDLEVBQ3JDLE9BQU8sRUFDUCxzQkFBc0IsRUFDdEIscUJBQXFCLEVBQ3JCLDZCQUE2QixFQUM3Qix1QkFBdUIsR0FDb0MsRUFBQTtJQUMzRCxJQUFBLE1BQU0sRUFBRSw0QkFBNEIsRUFBRSxFQUFFLE1BQU0sRUFBRSxjQUFjLEVBQUUsZ0JBQWdCLEVBQUUsZUFBZSxHQUFHLEVBQUUsR0FBRyxPQUFPLENBQUM7SUFFakgsSUFBQSxRQUFRLENBQUMsdUJBQXVCLEVBQUUsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFaEUsSUFBQSxNQUFNLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLEdBQUcsa0JBQWtCLENBQUM7SUFDM0QsSUFBQSxNQUFNLFVBQVUsR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDNUMsSUFBQSxNQUFNLENBQUMsa0JBQWtCLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxlQUFlLENBQTJCLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQztJQUM5RyxJQUFBLE1BQU0sb0JBQW9CLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxPQUE0QixLQUFJO1lBQzVFLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ2hDLEtBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxrQkFBa0IsR0FBR1ksR0FBVyxDQUFDLENBQUMsSUFBd0IsRUFBRSxJQUF3QixLQUFJO0lBQzFGLFFBQUEsSUFBSSxJQUFJO0lBQ0osWUFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRXhCLFFBQUEsSUFBSSxJQUFJO0lBQ0osWUFBQSxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRXJCLFFBQUEsSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUU7SUFDbEIsWUFBQSxjQUFjLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLFNBQUE7U0FDSixFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRVBaLENBQVMsQ0FBQyxNQUFLO0lBQ1gsUUFBQSxnQkFBZ0IsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEMsUUFBQSxPQUFPLE1BQU0sZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3RELEVBQUUsRUFBRSxDQUFDLENBQUE7UUFHTkEsQ0FBUyxDQUFDLE1BQUs7SUFDWCxRQUFBLElBQUksT0FBTyxFQUFFO0lBQ1QsWUFBQSxlQUFlLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLFlBQUEsT0FBTyxNQUFNLGVBQWUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckQsU0FBQTtJQUNMLEtBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7UUFFZCxNQUFNLEVBQ0YscUJBQXFCLEVBQ3JCLGtCQUFrQixFQUNsQixlQUFlLEVBQ2YsZ0JBQWdCLEVBQ2hCLEtBQUssRUFDTCwwQkFBMEIsRUFBRSwyQkFBMkIsRUFDdkQsb0JBQW9CLEVBQ3BCLG9CQUFvQixFQUNwQix5QkFBeUIsR0FDNUIsR0FBRyw4QkFBOEIsQ0FBcUM7WUFDbkUscUNBQXFDLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBRSxpQkFBaUIsRUFBRSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsVUFBVSxFQUFFLHlCQUF5QixFQUFFLGtCQUFrQixFQUFFLEVBQUUsR0FBRyxxQ0FBcUMsRUFBRTtZQUNoTixPQUFPO0lBQ1AsUUFBQSxzQkFBc0IsRUFBRSxFQUFFLEdBQUcsc0JBQXNCLEVBQUU7WUFDckQsNkJBQTZCO1lBQzdCLHFCQUFxQjtZQUNyQix1QkFBdUI7SUFDdkIsUUFBQSw4QkFBOEIsRUFBRSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFO0lBQ3BHLEtBQUEsQ0FBQyxDQUFDO1FBRUgsT0FBTztJQUNILFFBQUEsa0JBQWtCLEVBQUU7Z0JBQ2hCLG9CQUFvQjtnQkFDcEIsa0JBQWtCO0lBQ3JCLFNBQUE7WUFDRCxxQkFBcUI7WUFDckIsa0JBQWtCO1lBQ2xCLG9CQUFvQjtZQUNwQixvQkFBb0I7WUFDcEIsZ0JBQWdCO1lBQ2hCLEtBQUs7WUFDTCxlQUFlO1lBQ2YseUJBQXlCO1NBQzVCLENBQUE7SUFDTDs7SUN2WE0sU0FBVSxTQUFTLENBQW9JLEVBQUUsaUJBQWlCLEVBQUUsdUJBQXVCLEVBQUUsbUJBQW1CLEVBQUUsZUFBZSxFQUFvRCxFQUFBO0lBQy9SLElBQUEsTUFBTSxFQUNGLGVBQWUsRUFDZixtQkFBbUIsRUFDbkIsVUFBVSxFQUNWLFdBQVcsRUFDWCxxQkFBcUIsRUFDckIsc0JBQXNCLEVBQ3pCLEdBQUcsUUFBUSxDQUE2RTtZQUNyRixpQkFBaUIsRUFBRSxFQUFFLGdCQUFnQixFQUFFLEtBQUssRUFBRSxHQUFHLGlCQUFpQixFQUFFO1lBQ3BFLHVCQUF1QjtJQUN2QixRQUFBLG1CQUFtQixFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLEdBQUcsbUJBQW1CLEVBQUU7SUFDMUYsS0FBQSxDQUFDLENBQUM7SUFFSCxJQUFBLE1BQU0sRUFDRixVQUFVLEVBQ1YsVUFBVSxFQUNiLEdBQUcsaUJBQWlCLENBQThCO0lBQy9DLFFBQUEsZUFBZSxFQUFFO0lBQ2IsWUFBQSxHQUFHLGVBQWUsRUFBRSxZQUFZLEVBQUUsaUJBQWlCLENBQUMsTUFBSztJQUNyRCxnQkFBQSxNQUFNLENBQUMsR0FBRyxxQkFBcUIsQ0FBQyxVQUFVLEVBQUUsQ0FBQztJQUM3QyxnQkFBQSxtQkFBbUIsQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLE1BQU8sa0JBQWtCLENBQUMsQ0FBRSxDQUF3QixDQUFDLENBQUM7SUFFNUYsYUFBQyxDQUFDO0lBQ0wsU0FBQTtJQUNELFFBQUEsdUJBQXVCLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLE1BQU0sRUFBRTtJQUNwRCxRQUFBLHVCQUF1QixFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUU7SUFDNUQsS0FBQSxDQUFDLENBQUM7UUFFSCxPQUFPO1lBQ0gsZUFBZTtZQUNmLG1CQUFtQjtJQUNuQixRQUFBLFdBQVcsRUFBRSxjQUFjLENBQWdCLFVBQVUsRUFBRSxVQUFVLENBQUM7WUFDbEUsV0FBVztJQUNYLFFBQUEsVUFBVSxFQUFFLFVBQVU7WUFDdEIscUJBQXFCO1lBQ3JCLHNCQUFzQjtTQUN6QixDQUFBO0lBQ0w7O0lDeENNLFNBQVUsU0FBUyxDQUFtSSxFQUFFLGlCQUFpQixFQUFFLHVCQUF1QixFQUFFLG1CQUFtQixFQUFFLGVBQWUsRUFBbUQsRUFBQTtJQUM3UixJQUFBLE1BQU0sRUFDRixlQUFlLEVBQ2YsbUJBQW1CLEVBQ25CLFVBQVUsRUFDVixXQUFXLEVBQ1gscUJBQXFCLEVBQ3JCLHNCQUFzQixFQUN6QixHQUFHLFFBQVEsQ0FBMkY7WUFDbkcsaUJBQWlCO1lBQ2pCLHVCQUF1QjtZQUN2QixtQkFBbUIsRUFBRSxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsR0FBRyxtQkFBbUIsRUFBRTtJQUN4RSxLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsTUFBTSxFQUNGLFVBQVUsRUFDVixVQUFVLEdBQ2IsR0FBRyxpQkFBaUIsQ0FBNkI7SUFDOUMsUUFBQSxlQUFlLEVBQUU7SUFDYixZQUFBLEdBQUcsZUFBZSxFQUFFLFlBQVksRUFBRSxpQkFBaUIsQ0FBQyxNQUFLO0lBQ3JELGdCQUFBLE1BQU0sQ0FBQyxHQUFHLHFCQUFxQixDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQzdDLGdCQUFBLG1CQUFtQixDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsTUFBTyxrQkFBa0IsQ0FBQyxDQUFFLENBQXdCLENBQUMsQ0FBQztJQUU1RixhQUFDLENBQUM7SUFDTCxTQUFBO0lBQ0QsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsTUFBTSxFQUFFO0lBQ3BELFFBQUEsdUJBQXVCLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRTtJQUM1RCxLQUFBLENBQUMsQ0FBQztRQUVILE9BQU87WUFDSCxlQUFlO1lBQ2YsbUJBQW1CO0lBQ25CLFFBQUEsV0FBVyxFQUFFLGNBQWMsQ0FBZSxVQUFVLEVBQUUsVUFBVSxDQUFDO0lBQ2pFLFFBQUEsVUFBVSxFQUFFLFVBQVU7WUFDdEIsV0FBVztZQUNYLHFCQUFxQjtZQUNyQixzQkFBc0I7U0FDekIsQ0FBQTtJQUNMOztJQ2lCZ0IsU0FBQSxXQUFXLENBQWdRLEVBQ3ZSLDBCQUEwQixFQUMxQix3QkFBd0IsRUFDeEIsNkJBQTZCLEVBQzdCLGVBQWUsRUFDZiwyQkFBMkIsRUFDM0Isa0JBQWtCLEVBQUUsRUFBRSxjQUFjLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxxQkFBcUIsRUFBRSxFQUMxRix3QkFBd0IsRUFDeEIsMkJBQTJCLEVBQzNCLCtCQUErQixFQUMvQiwwQkFBMEIsRUFDc0UsRUFBQTtRQUVoRyxNQUFNLEVBQ0YsVUFBVSxFQUFFLGNBQWMsRUFDMUIsVUFBVSxFQUFFLGVBQWUsRUFDM0IsbUJBQW1CLEVBQUUsRUFBRSxFQUFFLEVBQUUsV0FBVyxFQUFFLEVBQ3hDLG1CQUFtQixFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUN4QyxHQUFHLGlCQUFpQixDQUFnQztJQUNqRCxRQUFBLGVBQWUsRUFBRTtJQUNiLFlBQUEsR0FBRyxlQUFlO0lBQ2xCLFlBQUEsWUFBWSxFQUFFLGlCQUFpQixDQUFDLE1BQUs7b0JBQ2pDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ3JDLGFBQUMsQ0FBQztJQUNMLFNBQUE7SUFDRCxRQUFBLHVCQUF1QixFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxRQUFRLEVBQUU7SUFDdEQsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsYUFBYSxFQUFFO0lBQzlELEtBQUEsQ0FBQyxDQUFDO1FBQ0gsTUFBTSxFQUNGLHVCQUF1QixFQUN2QixPQUFPLEVBQ1Asc0JBQXNCLEVBQ3RCLHFCQUFxQixFQUNyQixLQUFLLEVBQ0wsb0JBQW9CLEVBQ3BCLHVCQUF1QixFQUN2QixxQkFBcUIsRUFDckIseUJBQXlCLEVBQ3pCLDJCQUEyQixFQUMzQix1QkFBdUIsRUFDdkIsc0JBQXNCLEVBQ3pCLEdBQUcseUJBQXlCLENBQW1FO1lBQzVGLDBCQUEwQjtZQUMxQix3QkFBd0I7WUFDeEIsMkJBQTJCO0lBQzNCLFFBQUEseUJBQXlCLEVBQUUsRUFBRSxzQkFBc0IsRUFBRSxhQUFhLEVBQUUscUJBQXFCLEVBQUU7WUFDM0YsMEJBQTBCO1lBQzFCLDZCQUE2QjtZQUM3Qix3QkFBd0I7WUFDeEIsMkJBQTJCO1lBQzNCLCtCQUErQjtJQUNsQyxLQUFBLENBQUMsQ0FBQztJQUVILElBQWlCLDZCQUE2QixDQUFDLEVBQUUscUJBQXFCLEVBQUUsb0NBQW9DLEVBQUUsRUFBRSxhQUFhLEVBQUUsRUFBRSxFQUFFO1FBRW5JLElBQUksYUFBYSxHQUFHLGNBQWMsQ0FBQyxLQUFLLEVBQUUsY0FBYyxFQUFFLEVBQUUsc0JBQXNCLEdBQUcsY0FBYyxJQUFJLE9BQU8sR0FBRyxNQUFNLEdBQUcsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBR3hJLElBQUksV0FBVyxHQUFHLGVBQWUsQ0FBQztJQUM5QixRQUFBLEdBQUcsT0FBTztZQUNWLGtCQUFrQixFQUFFLGVBQWUsQ0FBQztnQkFDaEMsY0FBYzthQUNqQixDQUFDO0lBQ0wsS0FBQSxDQUFDLENBQUM7UUFDSCxJQUFJLFlBQVksSUFBSSxPQUFPO0lBQ3ZCLFFBQUEsYUFBYSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7YUFDNUIsSUFBSSxZQUFZLElBQUksYUFBYSxFQUFFOztJQUVwQyxRQUFBLGFBQWEsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQzs7WUFFakMsV0FBVyxHQUFHLElBQUssQ0FBQTtJQUN0QixLQUFBO0lBQ0ksU0FBQTtJQUNELFFBQUEsYUFBYSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUM7SUFDL0IsS0FBQTtRQUVELElBQUksY0FBYyxJQUFJLE9BQU87WUFDekIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxnQkFBZ0IsRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFBO1FBRXBFLE9BQU87WUFDSCx1QkFBdUI7SUFDdkIsUUFBQSxPQUFPLEVBQUUsV0FBVztZQUNwQixzQkFBc0I7WUFDdEIscUJBQXFCO1lBQ3JCLHVCQUF1QjtZQUN2QixvQkFBb0I7WUFDcEIscUJBQXFCO1lBQ3JCLDJCQUEyQjtZQUMzQixzQkFBc0I7WUFDdEIseUJBQXlCO1lBQ3pCLHVCQUF1QjtZQUN2QixhQUFhO0lBQ2IsUUFBQSxrQkFBa0IsRUFBRSxlQUFlO1NBQ3RDLENBQUE7SUFDTCxDQUFDO2FBRWUsY0FBYyxDQUFpTSxFQUMzTiwwQkFBMEIsRUFBRSxFQUN4QixzQkFBc0IsRUFDdEIsOEJBQThCLEVBQzlCLG1DQUFtQyxFQUNuQyxxQkFBcUIsRUFDckIsNkJBQTZCLEVBQzdCLHVCQUF1QixFQUN2QixPQUFPLEVBQUUsR0FBRyxFQUNaLHFCQUFxQixFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQ3RDLEVBQ0QsNEJBQTRCLEVBQUUsRUFDMUIsMEJBQTBCLEVBQzFCLHdCQUF3QixFQUN4Qiw2QkFBNkIsRUFDaEMsRUFDdUUsRUFBQTtRQUN4RSxNQUFNLEVBQUUsa0JBQWtCLEVBQUUsRUFBRSxjQUFjLEVBQUUsRUFBRSxHQUFHLEdBQUcsQ0FBQztJQUN2RCxJQUFBLE1BQU0sRUFDRixzQkFBc0IsRUFDdEIsd0JBQXdCLEVBQ3hCLE9BQU8sRUFBRSxHQUFHLEVBQ1oscUJBQXFCLEVBQ3JCLEtBQUssRUFDUixHQUFHLDRCQUE0QixDQUFrRDtJQUM5RSxRQUFBLDBCQUEwQixFQUFFO2dCQUN4QixzQkFBc0I7Z0JBQ3RCLHFCQUFxQjtnQkFDckIsOEJBQThCO2dCQUM5QixtQ0FBbUM7Z0JBQ25DLDZCQUE2QjtnQkFDN0IsdUJBQXVCO0lBQ3ZCLFlBQUEsT0FBTyxFQUFFLEdBQUc7SUFDZixTQUFBO0lBQ0QsUUFBQSw0QkFBNEIsRUFBRTtnQkFDMUIsMEJBQTBCLEVBQUUsRUFBRSxrQkFBa0IsRUFBRSxJQUFJLEVBQUUsR0FBRywwQkFBMEIsRUFBRTtnQkFDdkYsd0JBQXdCO0lBQ3hCLFlBQUEsNkJBQTZCLEVBQUUsRUFBRSxHQUFHLDZCQUE2QixFQUFFO0lBQ3RFLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQzs7UUFHSCxJQUFJLGNBQWMsSUFBSSxPQUFPO0lBQ3pCLFFBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLENBQUM7SUFFckMsSUFBQSxLQUFLLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQztRQUV0QixPQUFPO1lBQ0gsc0JBQXNCO1lBQ3RCLHdCQUF3QjtJQUN4QixRQUFBLE9BQU8sRUFBRSxHQUFHO1lBQ1oscUJBQXFCO1lBQ3JCLEtBQUs7U0FDUixDQUFBO0lBQ0wsQ0FBQztJQUVLLFNBQVUsZUFBZSxDQUF3RixFQUFFLGVBQWUsRUFBRSxHQUFHLENBQUMsRUFBc0QsRUFBQTtRQUVoTSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUksNkJBQTZCLENBQTBCLENBQUMsQ0FBQyxDQUFDO0lBRXRGLElBQUEsTUFBTSxFQUNGLFdBQVcsRUFDZCxHQUFHLFFBQVEsQ0FBQztJQUNULFFBQUEsZUFBZSxFQUFFLEVBQUUsR0FBRyxlQUFlLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQyxvQ0FBb0MsQ0FBQyxTQUFTLEVBQUU7WUFDcEcsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGdCQUFnQjtJQUMxQyxLQUFBLENBQUMsQ0FBQTtRQUVGLE9BQU87SUFDSCxRQUFBLEdBQUcsSUFBSTtZQUNQLEtBQUssRUFBRSxjQUFjLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxhQUFhLENBQUM7WUFDdkQsV0FBVztTQUNkLENBQUE7SUFFTDs7SUNyTUE7Ozs7Ozs7SUFPRztJQUNHLFNBQVUsY0FBYyxDQUE0RztJQUN0STtJQUNBLGlCQUFpQixFQUNqQix1QkFBdUIsRUFDdkIsbUJBQW1CLEVBQ25CLHFCQUFxQixFQUFFLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxFQUNxQixFQUFBO1FBQy9ELFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBRTNCLElBQUEsTUFBTSxFQUFFLGdCQUFnQixFQUFFLEVBQUUsVUFBVSxFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsRUFBRSxHQUFHLEtBQUssRUFBRSxHQUFHLGFBQWEsQ0FBcUIsRUFBRSxvQkFBb0IsRUFBRSxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFbk0sSUFBQSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxVQUFVLEVBQUUsY0FBYyxFQUFFLFdBQVcsRUFBRSxlQUFlLEVBQUUsR0FBRyxLQUFLLEVBQUUsRUFBRSxHQUFHLEtBQUssRUFBRSxHQUFHLGFBQWEsQ0FBcUIsRUFBRSxvQkFBb0IsRUFBRSxFQUFFLGVBQWUsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDM00sSUFBQSxNQUFNLEVBQ0YsZUFBZSxFQUNmLG1CQUFtQixFQUNuQixVQUFVLEVBQ1YsV0FBVyxFQUFFLEdBQUcsRUFDaEIscUJBQXFCLEVBQ3JCLHNCQUFzQixFQUN6QixHQUFHLFFBQVEsQ0FBbUc7WUFDM0csaUJBQWlCO1lBQ2pCLHVCQUF1QjtJQUN2QixRQUFBLG1CQUFtQixFQUFFO0lBQ2pCLFlBQUEsR0FBRyxtQkFBbUI7SUFDdEIsWUFBQSxhQUFhLEVBQUUsSUFBSTtJQUNuQixZQUFBLFVBQVUsRUFBRSxJQUFJO0lBQ2hCLFlBQUEsV0FBVyxFQUFFLGlCQUFpQixDQUFDLE1BQUs7SUFDaEMsZ0JBQUEsTUFBTSxhQUFhLEdBQUcsZ0JBQWdCLEVBQXdCLENBQUM7b0JBQy9ELGFBQWEsRUFBRSxLQUFLLEVBQUUsQ0FBQztJQUMzQixhQUFDLENBQUM7SUFDTCxTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7UUFNSCxNQUFNLFlBQVksR0FBNkMsY0FBYyxDQUFDLGVBQWUsRUFBRSxVQUFVLEVBQUUsbUJBQW1CLENBQUMsQ0FBQztRQUVoSSxNQUFNLFdBQVcsR0FBNEMsY0FBYyxDQUFDO1lBQ3hFLElBQUk7SUFDSixRQUFBLEVBQUUsRUFBRSxTQUFTO0lBQ2hCLEtBQUEsQ0FBQyxDQUFDO1FBRUgsTUFBTSxZQUFZLEdBQTZDLGNBQWMsQ0FBQztZQUMxRSxlQUFlLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsUUFBUSxFQUFFO0lBQ3BELFFBQUEsZUFBZSxFQUFFLElBQUk7U0FDeEIsRUFBRSxlQUFlLEVBQUUsR0FBRyxFQUFFLEVBQUUsZUFBZSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUM7UUFFekQsTUFBTSxhQUFhLEdBQThCLGdCQUFnQixDQUFDO0lBQzlELFFBQUEsYUFBYSxFQUFFO0lBQ1gsWUFBQSxlQUFlLEVBQUVZLEdBQVcsQ0FBQyxNQUFLLEVBQUcsT0FBTyxtQkFBbUIsQ0FBQyxVQUFVLENBQUMsY0FBYyxFQUFFLEVBQUUsTUFBTyxrQkFBa0IsQ0FBQyxjQUFjLEVBQUcsQ0FBd0IsQ0FBQyxDQUFBLEVBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQ3hLLE9BQU8sRUFBRUEsR0FBVyxDQUFDLE1BQVEsRUFBQSxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUEsRUFBRSxFQUFFLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUM7Z0JBQ3BHLElBQUksRUFBRSxpQkFBaUIsQ0FBQyxJQUFJO0lBQy9CLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztRQUVILE9BQU87WUFDSCxlQUFlO1lBQ2YsYUFBYTtZQUNiLFlBQVk7WUFDWixXQUFXO1lBQ1gsWUFBWTtZQUNaLHFCQUFxQjtZQUNyQixzQkFBc0I7U0FDekIsQ0FBQTtJQUNMLENBQUM7SUFjRDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDZ0IsU0FBQSxnQkFBZ0IsQ0FBb0IsRUFBRSxhQUFhLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxFQUE4QixFQUFBO1FBQ2pJLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0lBQzdCLElBQUEsTUFBTSxzQkFBc0IsR0FBRyxlQUFlLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDaEUsSUFBQSxNQUFNLGFBQWEsR0FBRyxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVqRCxNQUFNLENBQUMscUJBQXFCLEVBQUUsd0JBQXdCLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUUsSUFBQSxVQUFVLENBQUMsRUFBRSxRQUFRLEVBQUUsTUFBUSxFQUFBLHdCQUF3QixDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLFlBQVksRUFBRSxDQUFBLEVBQUcsSUFBSSxDQUFBLENBQUEsRUFBSSxxQkFBcUIsQ0FBQSxDQUFFLEVBQUUsQ0FBQyxDQUFDO1FBR3BJLE1BQU0sT0FBTyxHQUFHLHFCQUFxQixJQUFJLE1BQU0sYUFBYSxFQUFFLEtBQUssTUFBTSxzQkFBc0IsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN2RyxJQUFBLE1BQU0sT0FBTyxHQUFHLE1BQU0sYUFBYSxFQUFFLENBQUM7UUFFdEMsT0FBTztZQUNILFFBQVEsRUFBRSxxQkFBcUIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQ3hDLE9BQU87WUFDUCxPQUFPO1NBQ1YsQ0FBQztJQUNOOztJQ2hIQTtJQUNBO0lBRUE7Ozs7Ozs7Ozs7O0lBV0c7SUFDRyxTQUFVLFVBQVUsQ0FBK0YsRUFDckgsMEJBQTBCLEVBQzFCLGlCQUFpQixFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxxQkFBcUIsRUFBRSxFQUMvRCxlQUFlLEVBQ2Ysb0NBQW9DLEVBQUUsRUFBRSxhQUFhLEVBQUUsRUFDdkQsR0FBRyxpQkFBaUIsRUFDZ0UsRUFBQTtRQUNwRixNQUFNLEVBQ0YsT0FBTyxFQUNQLEtBQUssRUFDTCxHQUFHLGFBQWEsRUFDbkIsR0FBRyx5QkFBeUIsQ0FBa0U7SUFDM0YsUUFBQSxHQUFHLGlCQUFpQjtZQUNwQix5QkFBeUIsRUFBRSxFQUFFLHNCQUFzQixFQUFFLGFBQWEsRUFBRSxxQkFBcUIsRUFBRSxxQkFBcUIsSUFBSSxJQUFJLEVBQUU7WUFDMUgsMkJBQTJCLEVBQUUsRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUU7WUFDekUsMEJBQTBCLEVBQUUsRUFBRSxHQUFHLDBCQUEwQixFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRTtJQUNsRyxLQUFBLENBQUMsQ0FBQztRQUVjLDZCQUE2QixDQUFDO1lBQzNDLG9DQUFvQyxFQUFFLEVBQUUsYUFBYSxFQUFFO1lBQ3ZELHFCQUFxQixFQUFFLEVBQUUsbUJBQW1CLEVBQUUsYUFBYSxDQUFDLHFCQUFxQixDQUFDLG1CQUFtQixFQUFFO0lBQzFHLEtBQUEsRUFBQztJQUVGLElBQUEsTUFBTSxFQUFFLFVBQVUsRUFBRSxZQUFZLEVBQUUsVUFBVSxFQUFFLG1CQUFtQixFQUFFLG1CQUFtQixFQUFFLEdBQUcsaUJBQWlCLENBQWlDO0lBQ3pJLFFBQUEsZUFBZSxFQUFFLEVBQUUsR0FBRyxlQUFlLEVBQUUsWUFBWSxFQUFFLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxTQUFTLEVBQUU7SUFDbkcsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsT0FBTyxFQUFFO0lBQ3JELFFBQUEsdUJBQXVCLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLFlBQVksRUFBRTtJQUM3RCxLQUFBLENBQUMsQ0FBQztRQUVILE9BQU87SUFDSCxRQUFBLGFBQWEsRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLEdBQUcsWUFBWSxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksU0FBUyxFQUFFLEVBQUU7WUFDOUUsT0FBTztZQUNQLFVBQVU7SUFDVixRQUFBLFlBQVksRUFBRSxjQUFjLENBQUMsWUFBWSxFQUFFLEtBQUssQ0FBQztZQUNqRCxtQkFBbUI7WUFDbkIsbUJBQW1CO0lBQ25CLFFBQUEsR0FBRyxhQUFhO1NBQ25CLENBQUE7SUFDTCxDQUFDO2FBR2UsZUFBZSxDQUErQixFQUUxRCxHQUFHLHNCQUFzQixFQUM4QyxFQUFBO0lBQ3ZFLElBQUEsT0FBTyw4QkFBOEIsQ0FBdUQ7SUFDeEYsUUFBQSxHQUFHLHNCQUFzQjtJQUM1QixLQUFBLENBQUMsQ0FBQztJQUNQOztJQ2hFTSxTQUFVLFVBQVUsQ0FBbUcsRUFDekgsMEJBQTBCLEVBQzFCLCtCQUErQixFQUMvQixvQ0FBb0MsRUFDcEMsMEJBQTBCLEVBQzFCLHdCQUF3QixFQUN4Qiw2QkFBNkIsRUFDN0IsMkJBQTJCLEVBQzNCLGlCQUFpQixFQUNqQixpQkFBaUIsRUFBRSxFQUFFLElBQUksRUFBRSxFQUMzQixlQUFlLEVBQzRFLEVBQUE7UUFFM0YsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBRXZCLElBQUEsTUFBTSxFQUNGLHNCQUFzQixFQUN0Qix1QkFBdUIsRUFDdkIsT0FBTyxFQUNQLFVBQVUsRUFDVixZQUFZLEVBQUUsWUFBWSxFQUMxQix1QkFBdUIsRUFDdkIsdUJBQXVCLEVBQ3ZCLDJCQUEyQixFQUMzQixzQkFBc0IsRUFDdEIscUJBQXFCLEVBQ3JCLG9CQUFvQixFQUNwQixhQUFhLEVBQ2IseUJBQXlCLEVBQ3pCLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDbkIsR0FBRyxLQUFLLEVBQ1gsR0FBRyxVQUFVLENBQW1EO1lBQzdELDBCQUEwQjtZQUMxQix3QkFBd0I7WUFDeEIsK0JBQStCO1lBQy9CLDBCQUEwQjtZQUMxQixvQ0FBb0M7WUFDcEMsNkJBQTZCO1lBQzdCLDJCQUEyQjtJQUMzQixRQUFBLGlCQUFpQixFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsaUJBQWlCLEVBQUU7WUFDakQsZUFBZTtJQUNsQixLQUFBLENBQUMsQ0FBQztRQUVILE9BQU87WUFDSCx1QkFBdUI7WUFDdkIsT0FBTztZQUNQLFVBQVU7WUFDVixZQUFZO1lBQ1osdUJBQXVCO1lBQ3ZCLHVCQUF1QjtZQUN2QiwyQkFBMkI7WUFDM0Isc0JBQXNCO1lBQ3RCLHNCQUFzQjtZQUN0QixxQkFBcUI7WUFDckIsb0JBQW9CO1lBQ3BCLGFBQWE7WUFDYix5QkFBeUI7WUFDekIsbUJBQW1CO1lBQ25CLG1CQUFtQjtTQUN0QixDQUFBO0lBQ0wsQ0FBQztJQUdLLFNBQVUsZUFBZSxDQUFrQyxFQUM3RCxzQkFBc0IsRUFDdEIsOEJBQThCLEVBQzlCLHFDQUFxQyxFQUNyQyw2QkFBNkIsRUFDN0IsdUJBQXVCLEVBQ3ZCLE9BQU8sRUFDUCxxQkFBcUIsRUFDckIsa0JBQWtCLEVBQUUsRUFBRSxPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUNrQyxFQUFBO0lBQzVFLElBQUEsUUFBUSxDQUFDLGFBQWEsRUFBRSxzQkFBc0IsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUV0RCxJQUFBLE1BQU0sU0FBUyxHQUFHQSxHQUFXLENBQUMsQ0FBQyxDQUFNLEtBQU0sQ0FBNEIsQ0FBQyxLQUFLLElBQUksRUFBRSxFQUFFLENBQUMsQ0FBQTtJQUV0RixJQUFBLE1BQU0sRUFDRixxQkFBcUIsRUFDckIsZUFBZSxFQUFFLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRSxHQUFHLEVBQUUsRUFDbkQsS0FBSyxFQUNMLGdCQUFnQixFQUNoQiwwQkFBMEIsRUFDMUIseUJBQXlCLEVBQ3pCLGtCQUFrQixFQUNsQixvQkFBb0IsRUFDcEIsb0JBQW9CLEVBQ3ZCLEdBQUcsZUFBZSxDQUFrQjtZQUNqQyxxQ0FBcUM7WUFDckMsT0FBTztZQUNQLHNCQUFzQjtZQUN0Qiw2QkFBNkI7WUFDN0IsdUJBQXVCO1lBQ3ZCLHFCQUFxQjtZQUNyQiw4QkFBOEI7SUFDakMsS0FBQSxDQUFDLENBQUM7SUFFSCxJQUFBLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxRQUFRLENBQWtCO0lBQzlDLFFBQUEsZUFBZSxFQUFFO2dCQUNiLFNBQVM7Z0JBQ1QsWUFBWTtJQUNaLFlBQUEsV0FBVyxFQUFFLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxLQUFJO0lBQ2pDLGdCQUFBLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNULGdCQUFBLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNiLGFBQUMsQ0FBQztJQUNMLFNBQUEsRUFBRSxnQkFBZ0I7SUFDdEIsS0FBQSxDQUFDLENBQUM7SUFFSCxJQUFBLEtBQUssQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBRWxCLE9BQU87WUFDSCxxQkFBcUI7WUFDckIsV0FBVztZQUNYLG9CQUFvQjtZQUNwQixnQkFBZ0I7WUFDaEIsS0FBSyxFQUFFLGNBQWMsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDLGFBQWEsQ0FBQztZQUN2RCwwQkFBMEI7WUFDMUIseUJBQXlCO1lBQ3pCLG9CQUFvQjtZQUNwQixrQkFBa0I7U0FDckIsQ0FBQztJQUNOOztJQ2xIZ0IsU0FBQSxPQUFPLENBQTRJLEVBQy9KLGlCQUFpQixFQUNqQix1QkFBdUIsRUFDdkIsMEJBQTBCLEVBQzFCLGNBQWMsRUFBRSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUUsRUFDekMscUJBQXFCLEVBQ3JCLCtCQUErQixFQUMvQix3QkFBd0IsRUFDeEIsb0NBQW9DLEVBQ3BDLDBCQUEwQixFQUMxQixpQkFBaUIsRUFDakIsMkJBQTJCLEVBQzNCLDZCQUE2QixFQUM3QixpQkFBaUIsRUFDOEcsRUFBQTtRQUUvSCxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7SUFFcEIsSUFBQSxNQUFNLEVBQ0YsdUJBQXVCLEVBQ3ZCLE9BQU8sRUFDUCxzQkFBc0IsRUFDdEIscUJBQXFCLEVBQ3JCLFVBQVUsRUFBRSxzQkFBc0IsRUFDbEMsWUFBWSxFQUNaLDJCQUEyQixFQUMzQixvQkFBb0IsRUFDcEIsc0JBQXNCLEVBQ3RCLGFBQWEsRUFDYix1QkFBdUIsRUFDdkIsdUJBQXVCLEVBQ3ZCLHlCQUF5QixFQUN6QixtQkFBbUIsRUFDbkIsbUJBQW1CLEdBQ3RCLEdBQUcsVUFBVSxDQUF3RDtZQUNsRSwwQkFBMEI7WUFDMUIsK0JBQStCO1lBQy9CLHdCQUF3QjtZQUN4QixvQ0FBb0M7WUFDcEMsMkJBQTJCO1lBQzNCLDBCQUEwQjtZQUMxQiw2QkFBNkI7SUFDN0IsUUFBQSxpQkFBaUIsRUFBRSxFQUFFLEdBQUcsaUJBQWlCLEVBQUU7WUFDM0MsaUJBQWlCLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsaUJBQWlCLEVBQUU7SUFDekQsUUFBQSxlQUFlLEVBQUUsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFO0lBQ3ZDLEtBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQSxNQUFNLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQyxDQUFDLENBQWdCLEtBQUk7SUFDckQsUUFBQSxNQUFNLE1BQU0sR0FBRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7WUFDdEMsSUFBSSxDQUFDLE1BQU0sRUFBRTtnQkFDVCxRQUFRLENBQUMsQ0FBQyxHQUFHO29CQUNULEtBQUssU0FBUyxFQUFFO3dCQUNaLElBQUksYUFBYSxJQUFJLElBQUksRUFBRTtJQUN2Qix3QkFBQSxNQUFNLEVBQUUsQ0FBQzs0QkFDVCxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7NEJBQ25CLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QixxQkFBQTt3QkFDRCxNQUFNO0lBQ1QsaUJBQUE7b0JBQ0QsS0FBSyxXQUFXLEVBQUU7d0JBQ2QsSUFBSSxhQUFhLElBQUksTUFBTSxFQUFFO0lBQ3pCLHdCQUFBLE1BQU0sRUFBRSxDQUFDOzRCQUNULENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQzs0QkFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO0lBQ3ZCLHFCQUFBO3dCQUNELE1BQU07SUFDVCxpQkFBQTtvQkFDRCxLQUFLLFdBQVcsRUFBRTt3QkFDZCxJQUFJLGFBQWEsSUFBSSxNQUFNLEVBQUU7SUFDekIsd0JBQUEsTUFBTSxFQUFFLENBQUM7NEJBQ1QsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDOzRCQUNuQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7SUFDdkIscUJBQUE7d0JBQ0QsTUFBTTtJQUNULGlCQUFBO29CQUNELEtBQUssWUFBWSxFQUFFO3dCQUNmLElBQUksYUFBYSxJQUFJLE9BQU8sRUFBRTtJQUMxQix3QkFBQSxNQUFNLEVBQUUsQ0FBQzs0QkFDVCxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7NEJBQ25CLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QixxQkFBQTt3QkFDRCxNQUFNO0lBQ1QsaUJBQUE7SUFDSixhQUFBO0lBQ0osU0FBQTtJQUNMLEtBQUMsQ0FBQyxDQUFDO0lBR0gsSUFBQSxNQUFNLEVBQ0YsZUFBZSxFQUNmLGFBQWEsRUFDYixZQUFZLEVBQ1osV0FBVyxFQUNYLFlBQVksRUFDWixxQkFBcUIsRUFDckIsc0JBQXNCLEVBQ3pCLEdBQUcsY0FBYyxDQUEyRDtJQUN6RSxRQUFBLHFCQUFxQixFQUFFO0lBQ25CLFlBQUEsR0FBRyxxQkFBcUI7Z0JBQ3hCLFNBQVMsRUFBRSxtQkFBbUIsQ0FBQyxFQUFFO0lBQ2pDLFlBQUEsSUFBSSxFQUFFLE1BQU07SUFDZixTQUFBO1lBQ0QsaUJBQWlCO1lBQ2pCLHVCQUF1QjtJQUN2QixRQUFBLG1CQUFtQixFQUFFO2dCQUNqQixVQUFVLEVBQUUsTUFBUSxFQUFBLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxDQUFBLEVBQUU7SUFDekQsU0FBQTtJQUNKLEtBQUEsQ0FBQyxDQUFDO1FBR0gsT0FBTztZQUNILHVCQUF1QjtZQUN2QixPQUFPLEVBQUUsZUFBZSxDQUFDO0lBQ3JCLFlBQUEsR0FBRyxPQUFPO2dCQUNWLElBQUksRUFBRSxlQUFlLENBQUM7SUFDbEIsZ0JBQUEsd0JBQXdCLEVBQUUsaUJBQWlCLENBQUMsTUFBSztJQUM3QyxvQkFBQSxpQkFBaUIsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDOUMsaUJBQUMsQ0FBQztpQkFDTCxDQUFDO2FBQ0wsQ0FBQztZQUNGLGVBQWU7WUFDZixzQkFBc0I7WUFDdEIscUJBQXFCO1lBQ3JCLHVCQUF1QjtZQUN2Qix1QkFBdUI7WUFDdkIsYUFBYTtZQUNiLFlBQVk7SUFDWixRQUFBLFdBQVcsRUFBRSxjQUFjLENBQUMsV0FBVyxFQUFFLFlBQVksQ0FBQztZQUN0RCxZQUFZLEVBQUUsY0FBYyxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUUsWUFBWSxFQUFFLHNCQUFzQixDQUFDO1lBQ2pGLDJCQUEyQjtZQUMzQixxQkFBcUI7WUFDckIsc0JBQXNCO1lBQ3RCLG9CQUFvQjtZQUNwQixzQkFBc0I7WUFDdEIsYUFBYTtZQUNiLHlCQUF5QjtZQUN6QixtQkFBbUI7WUFDbkIsbUJBQW1CO1NBQ3RCLENBQUE7SUFDTCxDQUFDO0lBTUssU0FBVSxXQUFXLENBQWtDLENBQTZFLEVBQUE7SUFDdEksSUFBQSxNQUFNLEdBQUcsR0FBRyxlQUFlLENBQWtCLENBQUMsQ0FBQyxDQUFDO1FBRWhELE9BQU87SUFDSCxRQUFBLEdBQUcsR0FBRztZQUNOLGNBQWMsRUFBRSxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyx3QkFBd0IsRUFBRTtTQUN6RSxDQUFBO0lBQ0w7O0lDeExPLE1BQU0sMkJBQTJCLEdBQUcvRSxHQUFhLENBQThCLElBQUssQ0FBQyxDQUFDO0lBRTdGOzs7Ozs7Ozs7OztJQVdHO2FBQ2EsdUJBQXVCLENBQUMsRUFBRSxlQUFlLEVBQUUsWUFBWSxFQUE2QixFQUFBO1FBQ2hHLE1BQU0sRUFBRSxRQUFRLEVBQUUsY0FBYyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEVBQUUsTUFBTSxFQUFFLFlBQVksRUFBRSxDQUFDLENBQUM7UUFDeEksTUFBTSxFQUFFLFFBQVEsRUFBRSxpQkFBaUIsRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLGlCQUFpQixDQUFDLEVBQUUsTUFBTSxFQUFFLGVBQWUsRUFBRSxDQUFDLENBQUM7SUFDcEosSUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLGFBQWEsRUFBRSxZQUFZLENBQUMsV0FBVyxDQUFDLElBQUksUUFBUSxDQUFDLENBQUM7SUFDckUsSUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLGdCQUFnQixFQUFFLFlBQVksQ0FBQyxXQUFXLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQztRQUUzRSxNQUFNLE1BQU0sR0FBRytFLEdBQVcsQ0FBQyxDQUFDLElBQTRCLEVBQUUsS0FBb0IsS0FBSTtJQUM5RSxRQUFBLE9BQU8sSUFBSSxJQUFJLFdBQVcsR0FBRSxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzdFLEtBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFBO1FBRW5DLE9BQU87WUFDSCxNQUFNO0lBQ04sUUFBQSxPQUFPLEVBQUVMLEdBQU8sQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlDLFFBQUEsUUFBUSxHQUNKZ0ksR0FBQSxDQUFBRCxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FDSyxjQUFjLEVBQ2QsaUJBQWlCLElBQ25CLENBQ047U0FDSixDQUFBO0lBQ0wsQ0FBQzthQUVlLFNBQVMsR0FBQTtJQUNyQixJQUFBLE9BQU96SCxDQUFVLENBQUMsMkJBQTJCLENBQUMsQ0FBQyxNQUFNLENBQUM7SUFDMUQ7O2FDbkNnQixXQUFXLENBQWdFLEVBQ3ZGLGVBQWUsRUFDZiwyQkFBMkIsRUFBRSxFQUN6QixHQUFHLEVBQ0gsS0FBSyxFQUNMLFNBQVMsRUFDVCxZQUFZLEVBQ2YsRUFDa0QsRUFBQTtRQUVuRCxNQUFNLEVBQ0YsVUFBVSxFQUNWLFVBQVUsRUFDVixtQkFBbUIsRUFDbkIsbUJBQW1CLEVBQ3RCLEdBQUcsaUJBQWlCLENBQWdDO1lBQ2pELGVBQWUsRUFBRSxFQUFFLEdBQUcsZUFBZSxFQUFFLFlBQVksRUFBRSxJQUFJLEVBQUU7SUFDM0QsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsaUJBQWlCLEVBQUU7SUFDL0QsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsYUFBYSxFQUFFO0lBQzlELEtBQUEsQ0FBQyxDQUFDOzs7SUFJSCxJQUFBLFVBQVUsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFekIsTUFBTSxJQUFJLEdBQUcsS0FBSyxJQUFJLEtBQUssSUFBSSxVQUFVLENBQUM7SUFDMUMsSUFBQSxNQUFNLFFBQVEsSUFBSSxLQUFLLElBQUksVUFBVSxDQUFDLENBQUM7SUFDdkMsSUFBQSxJQUFJLE9BQU8sS0FBSyxJQUFJLFFBQVEsRUFBRTtZQUMxQixLQUFLLEdBQUcsSUFBSyxDQUFDO1lBQ2QsR0FBRyxLQUFLLEdBQUcsQ0FBQztJQUNmLEtBQUE7SUFDRCxJQUFBLE1BQU0sY0FBYyxHQUEwQyxZQUFZLEtBQUssVUFBVTtJQUNyRixRQUFBO2dCQUNJLEdBQUc7SUFDSCxZQUFBLEtBQUssR0FBRyxLQUFLLElBQUksU0FBUyxDQUFDO0lBQzNCLFlBQUEsZUFBZSxFQUFFLEdBQUc7SUFDcEIsWUFBQSxlQUFlLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsQ0FBQSxFQUFHLEtBQUssQ0FBRSxDQUFBO0lBQ21DLFNBQUE7O0lBRTlGLFlBQUE7SUFDSSxnQkFBQSxlQUFlLEVBQUUsR0FBRztJQUNwQixnQkFBQSxlQUFlLEVBQUUsR0FBRyxJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsQ0FBQSxFQUFHLEdBQUcsQ0FBRSxDQUFBO0lBQ25ELGdCQUFBLGdCQUFnQixFQUFFLFNBQVMsSUFBSSxJQUFJLEdBQUcsU0FBUyxHQUFHLENBQUEsRUFBRyxTQUFTLENBQUUsQ0FBQTtJQUNoRSxnQkFBQSxlQUFlLEVBQUUsS0FBSyxJQUFJLElBQUksR0FBRyxTQUFTLEdBQUcsQ0FBQSxFQUFHLEtBQUssQ0FBRSxDQUFBO0lBQ3ZELGdCQUFBLElBQUksRUFBRSxhQUFhO2lCQUN0QixDQUFDO0lBRU4sSUFBQSxJQUFJLFFBQVEsRUFBRTtJQUNWLFFBQUEsY0FBYyxDQUFDLGFBQWEsQ0FBQyxHQUFHLE1BQU0sQ0FBQztJQUMxQyxLQUFBO0lBRUQsSUFBQSxNQUFNLFVBQVUsR0FBdUM7SUFDbkQsUUFBQSxhQUFhLEdBQUcsQ0FBQyxJQUFJLEdBQUcsTUFBTSxHQUFHLFNBQVMsQ0FBQztTQUM5QyxDQUFDO0lBRUYsSUFBQSxNQUFNLFdBQVcsR0FBRztJQUNoQixRQUFBLFdBQVcsRUFBRSxDQUFDLElBQUksRUFBRSxRQUFRLEVBQUU7WUFDOUIsa0JBQWtCLEVBQUUsbUJBQW1CLENBQUMsRUFBRTtTQUM3QyxDQUFBO1FBR0QsT0FBTztJQUNILFFBQUEsY0FBYyxFQUFFLGNBQWMsQ0FBQyxjQUFjLEVBQUUsVUFBVSxDQUFDO0lBQzFELFFBQUEsVUFBVSxFQUFFLGNBQWMsQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDO0lBQ2xELFFBQUEsV0FBVyxFQUFFLFdBQVc7WUFDeEIsbUJBQW1CO1lBQ25CLG1CQUFtQjtTQUV0QixDQUFBO0lBQ0wsQ0FBQztJQWtCZSxTQUFBLHNCQUFzQixDQUF5RixFQUMzSCxlQUFlLEVBQ2YsMkJBQTJCLEVBQzNCLHNCQUFzQixFQUN0Qiw2QkFBNkIsRUFBRSxFQUFFLGVBQWUsRUFBRSxFQUNxQyxFQUFBO0lBQ3ZGLElBQUEsTUFBTSxTQUFTLEdBQUcsZUFBZSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFFMUQsTUFBTSxFQUNGLGNBQWMsRUFDZCxVQUFVLEVBQ1YsV0FBVyxFQUNkLEdBQUcsV0FBVyxDQUFpQztZQUM1QyxlQUFlO0lBQ2YsUUFBQSwyQkFBMkIsRUFBRTtJQUN6QixZQUFBLEdBQUcsRUFBRSxDQUFDO0lBQ04sWUFBQSxLQUFLLEVBQUUsQ0FBQyxlQUFlLElBQUksU0FBUyxDQUFDLE9BQU8sSUFBSSxlQUFlLEdBQUcsVUFBVTtJQUM1RSxZQUFBLFNBQVMsRUFBRSxJQUFJO0lBQ2YsWUFBQSxHQUFHLDJCQUEyQjtJQUNqQyxTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7UUFFSCxPQUFPO1lBQ0gsY0FBYztZQUNkLFVBQVU7WUFDVixXQUFXO0lBQ1gsUUFBQSxrQkFBa0IsRUFBRSxTQUFTO1NBQ2hDLENBQUE7SUFDTDs7SUNwRk0sU0FBVSxhQUFhLENBQXdGLEVBQ2pILDBCQUEwQixFQUMxQiwrQkFBK0IsRUFDL0Isd0JBQXdCLEVBQ3hCLDBCQUEwQixFQUMxQiw2QkFBNkIsRUFDN0IsMkJBQTJCLEVBQzNCLGVBQWUsRUFDZixvQkFBb0IsRUFBRSxFQUFFLElBQUksRUFBRSxxQkFBcUIsRUFBRSxhQUFhLEVBQUUsR0FDL0IsRUFBQTtRQUVyQyxNQUFNLENBQUMsYUFBYSxFQUFFLGdCQUFnQixDQUFDLEdBQUcsUUFBUSxDQUFnQixJQUFJLENBQUMsQ0FBQztRQUN4RSxNQUFNLE1BQU0sR0FBR1IsQ0FBTSxDQUFDLElBQUksR0FBRyxFQUFhLENBQUMsQ0FBQztRQUU1QyxNQUFNLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxVQUFVLEVBQUUsR0FBRyxpQkFBaUIsQ0FBUTtJQUNyRSxRQUFBLGVBQWUsRUFBRTtJQUNiLFlBQUEsWUFBWSxFQUFFLGlCQUFpQixDQUFDLE1BQUs7b0JBQ2pDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ3JDLGFBQUMsQ0FBQztJQUNGLFlBQUEsR0FBRyxlQUFlO0lBQ3JCLFNBQUE7SUFDRCxRQUFBLHVCQUF1QixFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxlQUFlLEdBQUc7SUFDOUQsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsVUFBVSxFQUFFO0lBQzNELEtBQUEsQ0FBQyxDQUFDO1FBRUhMLENBQVMsQ0FBQyxNQUFLO1lBQ1gsSUFBSSxhQUFhLElBQUksSUFBSTtJQUNyQixZQUFBLHFCQUFxQixDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDOztJQUVyRixZQUFBLHFCQUFxQixDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hELEtBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUE7SUFFbkIsSUFBQSxNQUFNLEVBQ0YsdUJBQXVCLEVBQ3ZCLE9BQU8sRUFDUCxLQUFLLEVBQUUsV0FBVyxFQUNsQixzQkFBc0IsRUFDdEIscUJBQXFCLEVBQ3JCLDJCQUEyQixFQUMzQixvQkFBb0IsRUFDcEIscUJBQXFCLEVBQ3JCLHVCQUF1QixFQUN2Qix1QkFBdUIsRUFDdkIsc0JBQXNCLEVBQ3RCLHlCQUF5QixFQUM1QixHQUFHLHlCQUF5QixDQUErQjtZQUN4RCwwQkFBMEI7WUFDMUIsK0JBQStCO1lBQy9CLHdCQUF3QjtZQUN4Qix5QkFBeUIsRUFBRSxFQUFFLHNCQUFzQixFQUFFLGFBQWEsRUFBRSxxQkFBcUIsRUFBRSxnQkFBZ0IsRUFBRTtZQUM3RywwQkFBMEI7WUFDMUIsNkJBQTZCO1lBQzdCLDJCQUEyQjtZQUMzQiwyQkFBMkIsRUFBRSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRTtJQUM1RSxLQUFBLENBQUMsQ0FBQztRQUVjLDZCQUE2QixDQUFDO0lBQzNDLFFBQUEscUJBQXFCLEVBQUU7Z0JBQ25CLG1CQUFtQixFQUFFLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSTtJQUM1QyxnQkFBQSxJQUFJLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDekQsSUFBSSxJQUFJLElBQUksSUFBSSxFQUFFO0lBQ2Qsb0JBQUEsTUFBTSxTQUFTLEdBQUcscUJBQXFCLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLFNBQVMsRUFBRSxDQUFDO0lBQy9FLG9CQUFBLHFCQUFxQixDQUFDLFNBQWMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUM1QyxpQkFBQTtJQUNJLHFCQUFBO0lBQ0Qsb0JBQUEscUJBQXFCLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xDLGlCQUFBO0lBQ0wsYUFBQyxDQUFDO0lBQ0wsU0FBQSxFQUFFLG9DQUFvQyxFQUFFLEVBQUUsYUFBYSxFQUFFO0lBQzdELEtBQUEsRUFBQztJQUdGLElBQUEsTUFBTSxlQUFlLEdBQUcsY0FBYyxDQUFDLFdBQVcsRUFBRSxXQUFXLEVBQUUsRUFBRSxJQUFJLEVBQUUsWUFBWSxFQUFFLENBQUMsQ0FBQztRQUV6RixPQUFPO1lBQ0gsZUFBZTtJQUNmLFFBQUEsb0JBQW9CLEVBQUUsVUFBVTtZQUVoQyx1QkFBdUI7SUFDdkIsUUFBQSxPQUFPLEVBQUU7SUFDTCxZQUFBLEdBQUcsT0FBTztnQkFDVixZQUFZLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLE1BQU0sQ0FBQyxPQUFPLEVBQUU7SUFDakQsU0FBQTtZQUNELHVCQUF1QjtZQUN2QixzQkFBc0I7WUFDdEIscUJBQXFCO1lBQ3JCLGdCQUFnQixFQUFFLEVBQUUsYUFBYSxFQUFFO1lBQ25DLDJCQUEyQjtZQUMzQix1QkFBdUI7WUFDdkIsb0JBQW9CO1lBQ3BCLHFCQUFxQjtZQUNyQixzQkFBc0I7WUFDdEIseUJBQXlCO1NBQzVCLENBQUE7SUFDTCxDQUFDO0lBU2UsU0FBQSxRQUFRLENBQWtILEVBQ3RJLGVBQWUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUMxQixzQkFBc0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUNwQyxxQ0FBcUMsRUFDckMsZUFBZSxFQUNmLHNCQUFzQixFQUN0Qiw4QkFBOEIsRUFDOUIsT0FBTyxFQUNQLHFCQUFxQixFQUNyQiw2QkFBNkIsRUFDN0IsdUJBQXVCLEVBRXFHLEVBQUE7SUFFNUgsSUFBQSxNQUFNLEtBQUssR0FBRyxzQkFBc0IsQ0FBQyxLQUFLLENBQUM7SUFDM0MsSUFBQSxRQUFRLENBQUMsVUFBVSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQzVCLElBQUEsTUFBTSxPQUFPLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFvQyxLQUFJO0lBQ3ZFLFFBQUEsMEJBQTBCLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDckQsS0FBQyxDQUFDLENBQUM7UUFFSCxNQUFNLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUE7SUFFN0MsSUFBQSxNQUFNLEVBQUUsUUFBUSxFQUFFLGFBQWEsRUFBRSxHQUFHLGVBQWUsQ0FBQztJQUVwRCxJQUFBLE1BQU0sUUFBUSxHQUFHLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QyxNQUFNLEVBQ0YsS0FBSyxFQUFFLHVDQUF1QyxFQUM5QyxxQkFBcUIsRUFDckIsa0JBQWtCLEVBQ2xCLGVBQWUsRUFDZix5QkFBeUIsRUFDekIsb0JBQW9CLEVBQ3BCLDBCQUEwQixFQUMxQixnQkFBZ0IsRUFDaEIsb0JBQW9CLEVBQ3ZCLEdBQUcsOEJBQThCLENBQXFFO1lBQ25HLHFDQUFxQyxFQUFFLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxHQUFHLHFDQUFxQyxFQUFFO1lBQ3hHLHNCQUFzQjtZQUN0QixPQUFPO1lBQ1AsNkJBQTZCO1lBQzdCLHVCQUF1QjtZQUN2QixxQkFBcUI7WUFDckIsOEJBQThCLEVBQUUsRUFBRSxhQUFhLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxRQUFRLElBQUksT0FBTyxJQUFJLGFBQWEsSUFBSSxVQUFVLEdBQUcsSUFBSSxHQUFHLGVBQWUsRUFBRSxHQUFHLDhCQUE4QixFQUFFO0lBQzNMLEtBQUEsQ0FBQyxDQUFDO0lBR0gsSUFBQSxNQUFNLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxHQUFHLDBCQUEwQixDQUFDO0lBRXpELElBQUEsTUFBTSxFQUFFLGdCQUFnQixFQUFFLHFCQUFxQixFQUFFLEdBQUcsYUFBYSxDQUFlLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM5RyxJQUFBLE1BQU0sRUFBRSxnQkFBZ0IsRUFBRSxxQkFBcUIsRUFBRSxHQUFHLGFBQWEsQ0FBZSxFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFOUcsTUFBTSxFQUNGLHVCQUF1QixFQUN2Qix1QkFBdUIsRUFDdkIsZ0JBQWdCLEVBQ2hCLGdCQUFnQixFQUNoQixVQUFVLEVBQ1YsVUFBVSxFQUNWLG1CQUFtQixFQUNuQixtQkFBbUIsRUFDbkIsa0JBQWtCLEVBQ3JCLEdBQUcsZUFBZSxDQUE0QztJQUMzRCxRQUFBLHNCQUFzQixFQUFFO0lBQ3BCLFlBQUEsT0FBTyxHQUFHLE9BQU8sSUFBSSxLQUFLLENBQUM7Z0JBQzNCLFFBQVE7SUFDUixZQUFBLE9BQU8sRUFBRSxPQUFPO0lBQ2hCLFlBQUEsSUFBSSxFQUFFLE9BQU87SUFDaEIsU0FBQTtZQUNELGVBQWU7WUFDZixlQUFlO0lBQ2YsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsS0FBSyxFQUFFO0lBQ25ELFFBQUEsdUJBQXVCLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLFVBQVUsRUFBRTtZQUN4RCxxQkFBcUI7WUFDckIscUJBQXFCO0lBQ3hCLEtBQUEsQ0FBQyxDQUFDO1FBQ0hJLENBQWUsQ0FBQyxNQUFLO0lBQ2pCLFFBQUEsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDekIsUUFBQSxPQUFPLE1BQVEsRUFBQSxNQUFNLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQTtJQUMxQyxLQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUVuQixJQUFJLFFBQVEsSUFBSSxPQUFPLEVBQUU7SUFDckIsUUFBQSxVQUFVLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztZQUN2QixVQUFVLENBQUMsT0FBTyxJQUFJLE9BQU8sSUFBSSxLQUFLLENBQUMsQ0FBQztJQUN4QyxRQUFBLFVBQVUsQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDO0lBQzdCLEtBQUE7SUFDSSxTQUFBO0lBQ0QsUUFBQSxVQUFVLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksS0FBSyxFQUFFLFFBQVEsRUFBRSxDQUFDO0lBQzlELEtBQUE7UUFFRCxNQUFNLHdCQUF3QixHQUFHLGNBQWMsQ0FBZSx1Q0FBb0UsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNoSixJQUFBLE1BQU0sV0FBVyxHQUF1QyxhQUFhLElBQUksVUFBVSxHQUFHLHdCQUF3QixHQUFHLFVBQVUsQ0FBQztRQUU1SCxNQUFNLHdCQUF3QixHQUFHLGNBQWMsQ0FBZSx1Q0FBb0UsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNoSixJQUFBLE1BQU0sV0FBVyxHQUF1QyxhQUFhLElBQUksVUFBVSxHQUFHLHdCQUErQixHQUFHLFVBQWlCLENBQUE7UUFFekksT0FBTztZQUNILHVCQUF1QjtZQUN2Qix1QkFBdUI7WUFDdkIsa0JBQWtCO1lBQ2xCLGdCQUFnQjtZQUNoQixnQkFBZ0I7SUFDaEIsUUFBQSxVQUFVLEVBQUUsV0FBVztJQUN2QixRQUFBLFVBQVUsRUFBRSxXQUFXO1lBQ3ZCLG1CQUFtQjtZQUNuQixtQkFBbUI7WUFDbkIscUJBQXFCO1lBQ3JCLG9CQUFvQjtZQUNwQix5QkFBeUI7WUFDekIsZ0JBQWdCO1lBQ2hCLDBCQUEwQjtZQUMxQixrQkFBa0I7WUFDbEIsb0JBQW9CO1NBQ3ZCLENBQUE7SUFFTDs7SUN6TWdCLFNBQUEsU0FBUyxDQUFDLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUseUJBQXlCLEVBQXdDLEVBQUE7UUFDekgsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3RCLElBQUEsTUFBTSxFQUFFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxHQUFHLGtCQUFrQixDQUFrQixFQUFFLHlCQUF5QixFQUFFLENBQUMsQ0FBQztJQUU5RyxJQUFBLE1BQU0sU0FBUyxHQUFHQyxDQUFNLENBQVMsSUFBVyxDQUFDLENBQUM7SUFDOUMsSUFBQSxJQUFJLFNBQVMsQ0FBQyxPQUFPLEtBQUssSUFBSTtZQUMxQixTQUFTLENBQUMsT0FBTyxHQUFHLGdCQUFnQixDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUUvRCxPQUFPO0lBQ0gsUUFBQSxPQUFPLEVBQUVFLEdBQU8sQ0FBQyxPQUFPO0lBQ3BCLFlBQUEsR0FBRyxPQUFPO0lBQ1YsWUFBQSxhQUFhLEVBQUU7b0JBQ1gsR0FBRztvQkFDSCxHQUFHO29CQUNILE1BQU0sRUFBRSxTQUFTLENBQUMsT0FBTztJQUM1QixhQUFBO0lBQ0osU0FBQSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7WUFDZixxQkFBcUI7U0FDeEIsQ0FBQztJQUNOLENBQUM7SUFHSyxTQUFVLGNBQWMsQ0FBMEQsRUFDcEYsc0JBQXNCLEVBQ3RCLE9BQU8sRUFBRSxFQUFFLGFBQWEsRUFBRSxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxFQUFFLEdBQUcsT0FBTyxFQUFFLEVBQzFFLHFCQUFxQixFQUNtQixFQUFBO0lBQ3hDLElBQUEsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLHNCQUFzQixDQUFDO0lBQ3pDLElBQUEsUUFBUSxDQUFDLGdCQUFnQixFQUFFLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3pELElBQUEsTUFBTSxFQUFFLGtCQUFrQixFQUFFLEdBQUcsZUFBZSxDQUFrQixFQUFFLHNCQUFzQixFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUdoSCxNQUFNLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxXQUFXLEVBQUUsYUFBYSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsR0FBRyxxQkFBcUIsQ0FBQztJQUVsSCxJQUFBLE1BQU0sR0FBRyxJQUFJLFdBQVcsSUFBSSxTQUFTLENBQUMsQ0FBQztJQUN2QyxJQUFBLE1BQU0sR0FBRyxJQUFJLFdBQVcsSUFBSSxTQUFTLENBQUMsQ0FBQztJQUV2QyxJQUFBLElBQUksUUFBUSxJQUNSLEdBQUcsSUFBSSxPQUFPO1lBQ1YsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFO0lBQ2xDLFFBQUEsRUFBRSxlQUFlLEVBQUUsQ0FBQSxFQUFHLEdBQUcsQ0FBRSxDQUFBLEVBQUUsZUFBZSxFQUFFLENBQUEsRUFBRyxHQUFHLENBQUUsQ0FBQSxFQUFFLGVBQWUsRUFBRSxDQUFBLEVBQUcsS0FBSyxDQUFFLENBQUEsRUFBRSxDQUM1RixDQUFDO0lBQ0YsSUFBQSxRQUFRLEdBQUcsRUFBRSxHQUFHLFFBQVEsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFFLGdCQUFnQixFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsRUFBRSxlQUFlLEVBQUUsQ0FBRyxFQUFBLEtBQUssQ0FBRSxDQUFBLEVBQUUsb0JBQW9CLEVBQUUsQ0FBRyxFQUFBLFNBQVMsQ0FBRSxDQUFBLEVBQUUsRUFBRSxDQUFDO1FBQzNKLElBQUksR0FBRyxJQUFJLE9BQU8sRUFBRTtJQUNoQixRQUFBLFFBQVEsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxJQUFHO0lBQ25CLFlBQUEsYUFBYSxHQUFHLEVBQUUsYUFBYSxFQUFFLENBQUMsQ0FBQyxhQUFhLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxXQUFXLEdBQUcsRUFBRSxLQUFLLEVBQUcsQ0FBQyxDQUFDLGFBQTZDLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxDQUFBO0lBQ25LLFNBQUMsQ0FBQTtJQUNKLEtBQUE7SUFDSSxTQUFBO0lBQ0QsUUFBQSxNQUFNLElBQUksS0FBSyxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3BDLEtBQUE7UUFFRCxPQUFPO0lBQ0gsUUFBQSxpQkFBaUIsRUFBRTtnQkFDZixHQUFHO2dCQUNILEdBQUc7SUFDTixTQUFBO1lBQ0Qsa0JBQWtCO0lBQ2xCLFFBQUEsZ0JBQWdCLEVBQUUsUUFBUTtTQUM3QixDQUFBO0lBQ0w7O0lDN0JnQixTQUFBLFFBQVEsQ0FBNkQsRUFDakYsZUFBZSxFQUNmLGVBQWUsRUFBRSxFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUUsR0FDQSxFQUFBO0lBQzdDLElBQUEsTUFBTSxDQUFDLFdBQVcsRUFBRSxXQUFXLENBQUMsR0FBRyxlQUFlLENBQW9CLElBQUksRUFBRSxVQUEyQixDQUFDLENBQUM7SUFDekcsSUFBQSxNQUFNLFNBQVMsR0FBR0YsQ0FBTSxDQUFXLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZDLE1BQU0sQ0FBQyxhQUFhLEVBQUUsYUFBYSxDQUFDLEdBQUcsZUFBZSxDQUFrQk8sR0FBVyxDQUFDLENBQUMsQ0FBVyxLQUFJLEVBQUcsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRUEsR0FBVyxDQUFDLE1BQUssRUFBRyxPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFXLENBQUEsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDbE8sSUFBQSxNQUFNLG1CQUFtQixHQUFHQSxHQUFXLENBQUMsQ0FBQyxNQUFjLEtBQUk7SUFDdkQsUUFBQSxNQUFNLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxTQUFTLEVBQUUsZ0JBQWdCLEVBQUUsR0FBRyxhQUFhLEVBQUUsQ0FBQztJQUMvRSxRQUFBLE1BQU0sSUFBSSxHQUFHLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxNQUFNLElBQUksYUFBYSxHQUFHLFdBQVcsSUFBSSxnQkFBZ0IsSUFBSSxXQUFXLEdBQUcsWUFBWSxHQUFHLFdBQVcsQ0FBQyxFQUFXLENBQUM7WUFDcEosYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BCLFFBQUEsT0FBTyxJQUFJLENBQUM7U0FDZixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ1AsSUFBQSxNQUFNLFlBQVksR0FBR0EsR0FBVyxDQUFDLENBQUMsTUFBYyxLQUFJO0lBQ2hELFFBQUEsTUFBTSxJQUFJLEdBQUcsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDekMsV0FBVyxFQUFFLElBQUksQ0FBQztJQUNsQixRQUFBLE9BQU8sSUFBSSxDQUFDO1NBQ2YsRUFBRSxFQUFFLENBQUMsQ0FBQTs7UUFFTixNQUFNLEVBQ0YsVUFBVSxFQUFFLGNBQWMsRUFDMUIsVUFBVSxFQUFFLGVBQWUsRUFDOUIsR0FBRyxpQkFBaUIsQ0FBNkI7WUFDOUMsZUFBZSxFQUFFLEVBQUUsR0FBRyxlQUFlLEVBQUUsWUFBWSxFQUFFLElBQUksRUFBRTtJQUMzRCxRQUFBLHVCQUF1QixFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxLQUFLLEVBQUU7SUFDbkQsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsVUFBVSxFQUFFO0lBQzNELEtBQUEsQ0FBQyxDQUFDO1FBRUgsT0FBTztJQUNILFFBQUEsVUFBVSxFQUFFLGNBQWMsQ0FBQyxFQUFFLElBQUksRUFBRSxRQUFRLElBQUksT0FBTyxHQUFHLFNBQVMsR0FBRyxNQUFNLEVBQUUsc0JBQXNCLEdBQUcsY0FBYyxJQUFJLE9BQU8sR0FBRyxNQUFNLEdBQUcsU0FBUyxDQUFDLEVBQUUsRUFBRSxjQUFjLENBQUM7SUFDeEssUUFBQSxVQUFVLEVBQUUsZUFBZTtJQUMzQixRQUFBLE9BQU8sR0FBRyxFQUFFLFlBQVksR0FBRyxFQUFFLFlBQVksRUFBRSxtQkFBbUIsRUFBRSxXQUFXLEVBQUUsb0JBQW9CLEVBQUUsYUFBYSxFQUFFLENBQUMsRUFBRSxDQUFDO1NBQ3pILENBQUE7SUFDTCxDQUFDO0lBQ0QsU0FBUyxZQUFZLENBQUMsR0FBUSxFQUFFLEdBQVEsRUFBQTtRQUNwQyxJQUFJLEdBQUcsS0FBSyxHQUFHO0lBQ1gsUUFBQSxPQUFPLENBQUMsQ0FBQztJQUViLElBQUEsSUFBSSxHQUFHLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7SUFDNUIsUUFBQSxJQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUk7Z0JBQzFCLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDZCxRQUFBLElBQUksR0FBRyxJQUFJLElBQUksSUFBSSxHQUFHLElBQUksSUFBSTtJQUMxQixZQUFBLE9BQU8sQ0FBQyxDQUFDO0lBQ2IsUUFBQSxJQUFJLEdBQUcsS0FBSyxJQUFJLElBQUksR0FBRyxLQUFLLFNBQVM7SUFDakMsWUFBQSxPQUFPLENBQUMsQ0FBQztJQUNiLFFBQUEsSUFBSSxHQUFHLEtBQUssU0FBUyxJQUFJLEdBQUcsS0FBSyxJQUFJO2dCQUNqQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0lBQ2pCLEtBQUE7SUFDSSxTQUFBO1lBQ0QsSUFBSSxHQUFHLElBQUksR0FBRztJQUNWLFlBQUEsT0FBTyxDQUFDLENBQUM7WUFDYixJQUFJLEdBQUcsR0FBRyxHQUFHO2dCQUNULE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDZCxRQUFBLE9BQU8sQ0FBQyxDQUFDO0lBQ1osS0FBQTtJQUVELElBQUEsT0FBTyxDQUFDLENBQUM7SUFFYixDQUFDO0lBQ0QsTUFBTSxtQkFBbUIsR0FBRyxJQUFJLEdBQUcsQ0FBZ0MsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDaEYsU0FBQSxlQUFlLENBQWlOLEVBQzVPLDBCQUEwQixFQUMxQix3QkFBd0IsRUFDeEIseUJBQXlCLEVBQ3pCLHdCQUF3QixFQUN4QiwrQkFBK0IsRUFDL0IsMkJBQTJCLEVBQzNCLDJCQUEyQixFQUMzQixzQkFBc0IsRUFBRSxFQUFFLGVBQWUsRUFBRSxRQUFRLEVBQUUsRUFDckQsT0FBTyxFQUFFLEVBQUUsWUFBWSxFQUFFLEVBQzJELEVBQUE7UUFDcEYsTUFBTSxFQUNGLHVCQUF1QixFQUN2QixPQUFPLEVBQ1Asc0JBQXNCLEVBQ3RCLHFCQUFxQixFQUNyQixLQUFLLEVBQ0wsb0JBQW9CLEVBQ3BCLHFCQUFxQixFQUNyQix5QkFBeUIsRUFDekIsdUJBQXVCLEVBQ3ZCLDJCQUEyQixFQUMzQix1QkFBdUIsRUFDdkIsc0JBQXNCLEVBQ3pCLEdBQUcseUJBQXlCLENBQWlFO1lBQzFGLDBCQUEwQjtZQUMxQix3QkFBd0I7WUFDeEIseUJBQXlCO1lBQ3pCLDJCQUEyQjtZQUMzQiwyQkFBMkI7SUFDM0IsUUFBQSwwQkFBMEIsRUFBRTtnQkFDeEIsT0FBTyxFQUFFQSxHQUFXLENBQWMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxLQUFJO0lBQzNDLGdCQUFBLE9BQU8sWUFBWSxDQUFDLEdBQUcsRUFBRSxZQUFZLElBQUksRUFBRSxHQUFHLEVBQUUsWUFBWSxJQUFJLENBQUMsQ0FBQztpQkFDckUsRUFBRSxFQUFFLENBQUM7SUFDVCxTQUFBO0lBQ0QsUUFBQSw2QkFBNkIsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSxRQUFRLEVBQUU7WUFDaEcsd0JBQXdCO1lBQ3hCLCtCQUErQjtJQUNsQyxLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEdBQUcsQ0FBQyxlQUFzQixDQUFDLEVBQUU7SUFDbEQsUUFBQSxLQUFLLENBQUMsSUFBSSxHQUFHLFVBQVUsQ0FBQztJQUMzQixLQUFBO1FBSURaLENBQVMsQ0FBQyxNQUFLO1lBQ1gsSUFBSSxRQUFRLElBQUksTUFBTSxFQUFFO0lBQ3BCLFlBQUEsWUFBWSxDQUFDLG1CQUFtQixDQUFDLE1BQUs7SUFDbEMsZ0JBQUEsTUFBTSxXQUFXLEdBQUcscUJBQXFCLENBQUMsV0FBVyxFQUFFLENBQUM7SUFDeEQsZ0JBQUEsT0FBTyxNQUFNLHNCQUFzQixDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsWUFBWSxDQUFDLG9CQUFvQixFQUFFLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDekcsYUFBQyxDQUFDLENBQUE7SUFDTCxTQUFBO0lBQ0wsS0FBQyxDQUFDLENBQUE7SUFFRjs7OztJQUlRO1FBRVIsT0FBTztZQUNILHVCQUF1QjtJQUN2QixRQUFBLE9BQU8sRUFBRTtJQUNMLFlBQUEsR0FBRyxPQUFPO2dCQUNWLFlBQVk7SUFDZixTQUFBO1lBQ0QsdUJBQXVCO1lBQ3ZCLHNCQUFzQjtZQUN0QixxQkFBcUI7WUFDckIsb0JBQW9CO1lBQ3BCLHFCQUFxQjtZQUNyQiwyQkFBMkI7WUFDM0Isc0JBQXNCO1lBQ3RCLHlCQUF5QjtZQUN6Qix1QkFBdUI7SUFDdkIsUUFBQSxpQkFBaUIsRUFBRSxLQUFLO1NBQzNCLENBQUE7SUFDTCxDQUFDO0lBRWUsU0FBQSxXQUFXLENBQTRLLEVBQ25NLDBCQUEwQixFQUFFLEVBQ3hCLHNCQUFzQixFQUN0Qiw4QkFBOEIsRUFDOUIsbUNBQW1DLEVBQ25DLDZCQUE2QixFQUM3QixxQkFBcUIsRUFDckIsT0FBTyxFQUFFLEdBQUcsRUFDZixFQUNELDRCQUE0QixFQUFFLEVBQzFCLDBCQUEwQixFQUMxQix3QkFBd0IsRUFDM0IsRUFDRCxrQkFBa0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUMrQixFQUFBO0lBQy9ELElBQUEsTUFBTSxFQUNGLE9BQU8sRUFBRSxHQUFHLEVBQ1oscUJBQXFCLEVBQ3JCLHNCQUFzQixFQUN0Qix3QkFBd0IsRUFDeEIsS0FBSyxFQUNSLEdBQUcsNEJBQTRCLENBQTRDO0lBQ3hFLFFBQUEsMEJBQTBCLEVBQUU7Z0JBQ3hCLHFCQUFxQjtJQUNyQixZQUFBLE9BQU8sRUFBRSxFQUFFLEdBQUcsR0FBRyxFQUFFO2dCQUNuQixzQkFBc0I7Z0JBQ3RCLDhCQUE4QjtnQkFDOUIsbUNBQW1DO2dCQUNuQyw2QkFBNkI7SUFDN0IsWUFBQSx1QkFBdUIsRUFBRTtJQUNyQixnQkFBQSxZQUFZLEVBQUUsaUJBQWlCLENBQUMsTUFBYzt3QkFDMUMsTUFBTSxhQUFhLEdBQUcsR0FBRyxDQUFDLFlBQVksQ0FBQyxvQkFBb0IsRUFBRSxDQUFDLE1BQU0sQ0FBQztJQUNyRSxvQkFBQSxNQUFNLFlBQVksR0FBRyx3QkFBd0IsQ0FBQyxxQkFBcUIsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsYUFBYSxJQUFJLENBQUMsQ0FBQyxDQUFBO0lBQzNHLG9CQUFBLE1BQU0sU0FBUyxHQUFHLFlBQVksRUFBRSxZQUFZLEVBQUUsQ0FBQztJQUUvQyxvQkFBQSxPQUFPLFNBQVMsQ0FBQztJQUNyQixpQkFBQyxDQUFDO0lBQ0wsYUFBQTtJQUNKLFNBQUE7SUFDRCxRQUFBLDRCQUE0QixFQUFFO2dCQUMxQiwwQkFBMEI7Z0JBQzFCLHdCQUF3QjtJQUN4QixZQUFBLDZCQUE2QixFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLGdCQUFnQixFQUFFLFFBQVEsRUFBRTtJQUNuRyxTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7SUFFSCxJQUFBLEtBQUssQ0FBQyxJQUFJLEdBQUcsU0FBUyxDQUFDOzs7O1FBS3ZCLE9BQU87WUFDSCxzQkFBc0I7WUFDdEIsd0JBQXdCO0lBQ3hCLFFBQUEsT0FBTyxFQUFFO0lBQ0wsWUFBQSxHQUFHLEdBQUc7Z0JBQ04sWUFBWSxFQUFFLEdBQUcsQ0FBQyxZQUFZO0lBQ2pDLFNBQUE7WUFDRCxxQkFBcUI7WUFDckIsS0FBSztTQUNSLENBQUE7SUFDTCxDQUFDO0lBRWUsU0FBQSxZQUFZLENBQStFLEVBQUUsbUJBQW1CLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsRUFBZ0QsRUFBQTtRQUNwTSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsR0FBRyxFQUFFLEdBQUcsNkJBQTZCLENBQXVCLENBQUMsQ0FBQyxDQUFDO1FBQ2pGLE9BQU87SUFDSCxRQUFBLFVBQVUsRUFBRSxLQUFLO1lBQ2pCLFNBQVMsRUFBRSxFQUFFLElBQUksRUFBRSxDQUFDLFlBQVksSUFBSSxJQUFJLElBQUksWUFBWSxJQUFJLElBQUksSUFBRyxVQUFVLEdBQUcsU0FBUyxFQUFFO0lBQzNGLFFBQUEsR0FBRyxHQUFHO0lBQ04sUUFBQSxlQUFlLEVBQUU7SUFDYixZQUFBLGdCQUFnQixFQUFFLGlCQUFpQixDQUFDLE1BQUs7SUFDckMsZ0JBQUEsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDO2lCQUM5RSxFQUFFLEVBQUUsQ0FBQztJQUNULFNBQUE7U0FDSixDQUFDO0lBQ04sQ0FBQztJQUNEOzs7Ozs7OztJQVFHO0lBQ0g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQW9DRzs7YUN2UmEsT0FBTyxDQUEyRixFQUM5RyxlQUFlLEVBQ2YsMEJBQTBCLEVBQzFCLCtCQUErQixFQUMvQix3QkFBd0IsRUFDeEIseUJBQXlCLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxHQUFHLEVBQUUsR0FBRyx5QkFBeUIsRUFBRSxFQUN2RiwwQkFBMEIsRUFDMUIsMkJBQTJCLEVBQzNCLDZCQUE2QixFQUM3QixjQUFjLEVBQUUsRUFBRSxXQUFXLEVBQUUsSUFBSSxFQUFFLGVBQWUsRUFBRSxFQUNJLEVBQUE7UUFFMUQsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBRXBCLElBQUEsTUFBTSxDQUFDLGlCQUFpQixFQUFFLG9CQUFvQixDQUFDLEdBQUcsa0JBQWtCLENBQXVCLGVBQWUsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDdkgsSUFBSSxpQkFBaUIsSUFBSSxJQUFJO0lBQ3pCLFFBQUEseUJBQXlCLENBQUMsc0JBQXNCLEdBQUcsaUJBQWlCLENBQUM7SUFFekUsSUFBQSxNQUFNLE1BQU0sR0FBRyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM5QyxNQUFNLFFBQVEsR0FBR1ksR0FBVyxDQUFDLENBQUMsS0FBYSxLQUFPLEVBQUEsT0FBTyxNQUFNLEdBQUcsT0FBTyxHQUFHLEtBQUssQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDMUYsTUFBTSxVQUFVLEdBQUdBLEdBQVcsQ0FBQyxDQUFDLEtBQWEsS0FBTyxFQUFBLE9BQU8sTUFBTSxHQUFHLFNBQVMsR0FBRyxLQUFLLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDOzs7UUFJOUYsTUFBTSxFQUFFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxxQkFBcUIsRUFBRSxtQkFBbUIsRUFBRSxHQUFHLGtCQUFrQixDQUFlO0lBQ2xILFFBQUEseUJBQXlCLEVBQUU7SUFFdkIsWUFBQSxxQkFBcUIsRUFBRSxpQkFBaUIsQ0FBZ0MsQ0FBQyxFQUFFLEVBQUUsRUFBRSxPQUFPLG9CQUFvQixFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ25ILFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsTUFBTSxFQUFFLFdBQVcsRUFBRSxrQkFBa0IsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLG9CQUFvQixFQUFFLEdBQUcsZUFBZSxDQUFzQjtZQUNySSxXQUFXLEVBQUUsbUJBQW1CLENBQUMsV0FBVztJQUM1QyxRQUFBLFVBQVUsRUFBRSxLQUFLO0lBQ2pCLFFBQUEsWUFBWSxFQUFFLElBQUk7WUFDbEIsS0FBSyxFQUFFLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxLQUFPLEVBQUEsT0FBTyxDQUFDLENBQUMsVUFBVSxFQUFFLElBQUksS0FBSyxDQUFDLG1EQUFtRCxFQUFFLEVBQUUsQ0FBQztJQUN6SCxRQUFBLEtBQUssRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBTyxFQUFBLE9BQU8sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsNkNBQTZDLEVBQUUsRUFBRSxDQUFDO0lBQzVILFFBQUEsT0FBTyxFQUFFLFVBQVU7SUFDbkIsUUFBQSxhQUFhLEVBQUUsSUFBSTtJQUN0QixLQUFBLENBQUMsQ0FBQztRQUVIUixDQUFlLENBQUMsTUFBSztJQUNqQixRQUFBLGtCQUFrQixDQUFDLHlCQUF5QixDQUFDLHNCQUFzQixDQUFDLENBQUM7U0FDeEUsRUFBRSxFQUFFLENBQUMsQ0FBQTtRQUVOLE1BQU0sRUFDRixVQUFVLEVBQ1YsVUFBVSxFQUNWLG1CQUFtQixFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUNyQyxtQkFBbUIsRUFBRSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsR0FDeEMsR0FBRyxpQkFBaUIsQ0FBK0I7SUFDaEQsUUFBQSxlQUFlLEVBQUUsRUFBRSxHQUFHLGVBQWUsRUFBRSxZQUFZLEVBQUUsaUJBQWlCLENBQUMsTUFBTSxXQUFXLENBQUMsb0JBQW9CLENBQUMsU0FBUyxFQUFFLENBQUMsRUFBRTtJQUM1SCxRQUFBLHVCQUF1QixFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7SUFDckQsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsWUFBWSxFQUFFO0lBQzdELEtBQUEsQ0FBQyxDQUFDO0lBR0gsSUFBQSxNQUFNLEVBQ0YsS0FBSyxFQUFFLGtDQUFrQyxFQUN6QyxPQUFPLEVBQ1AsR0FBRyxXQUFXLEVBQ2pCLEdBQUcseUJBQXlCLENBQWtEO1lBQzNFLDBCQUEwQixFQUFFLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLEdBQUcsMEJBQTBCLEVBQUU7WUFDL0Ysd0JBQXdCO0lBQ3hCLFFBQUEseUJBQXlCLEVBQUU7Z0JBQ3ZCLHFCQUFxQixFQUFFLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSTtJQUM5QyxnQkFBQSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUNaLGtCQUFrQixDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUN0QixvQkFBb0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4QixnQkFBQSxtQkFBbUIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUIsYUFBQyxDQUFDO0lBQ0YsWUFBQSxHQUFHLHlCQUF5QjtJQUMvQixTQUFBO1lBQ0QsNkJBQTZCO1lBQzdCLCtCQUErQjtZQUMvQiwyQkFBMkI7WUFDM0IsMEJBQTBCO1lBQzFCLDJCQUEyQixFQUFFLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFO0lBQzVFLEtBQUEsQ0FBQyxDQUFDO1FBR0gsTUFBTSxFQUFFLHFCQUFxQixFQUFFLEVBQUUsbUJBQW1CLEVBQUUsRUFBRSxHQUFHLFdBQVcsQ0FBQztRQUV2RSxPQUFPO1lBQ0gsYUFBYSxFQUFFLGVBQWUsQ0FBQztJQUMzQixZQUFBLEdBQUcsbUJBQW1CO2dCQUN0QixlQUFlLEVBQUUsZUFBZSxDQUFDO29CQUM3QixVQUFVO29CQUNWLFFBQVE7b0JBQ1IsZUFBZTtJQUNmLGdCQUFBLGdCQUFnQixFQUFFLG1CQUFtQjtpQkFDeEMsQ0FBQzthQUNMLENBQUM7WUFDRixXQUFXLEVBQUUsZUFBZSxDQUFDO0lBQ3pCLFlBQUEsR0FBRyxPQUFPO0lBQ1YsWUFBQSxXQUFXLEVBQUUsZUFBZSxDQUFDLEVBQUUsUUFBUSxFQUFFLFVBQVUsRUFBRSxlQUFlLEVBQUUsZ0JBQWdCLEVBQUUsbUJBQW1CLEVBQUUsQ0FBQzthQUNqSCxDQUFDO0lBQ0YsUUFBQSxjQUFjLEVBQUUsY0FBYyxDQUMxQixrQ0FBa0MsRUFDbEMsVUFBVSxFQUNWO0lBQ0ksWUFBQSxJQUFJLEdBQUcsSUFBSSxJQUFJLFNBQVMsQ0FBQztnQkFDekIsa0JBQWtCLEVBQUUsV0FBVyxJQUFJLFlBQVk7YUFDNUMsQ0FBQztZQUNaLFVBQVU7SUFDVixRQUFBLEdBQUcsV0FBVztTQUNqQixDQUFBO0lBQ0wsQ0FBQztJQUVlLFNBQUEsTUFBTSxDQUE2QixFQUMvQyxxQ0FBcUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxHQUFHLHFDQUFxQyxFQUFFLEVBQzlGLHNCQUFzQixFQUN0QixxQkFBcUIsRUFDckIsOEJBQThCLEVBQUUsRUFBRSxhQUFhLEVBQUUsR0FBRyw4QkFBOEIsRUFBRSxFQUNwRiw2QkFBNkIsRUFDN0IsdUJBQXVCLEVBQ3ZCLE9BQU8sRUFDb0IsRUFBQTtRQUUzQixNQUFNLEVBQUUsS0FBSyxFQUFFLHVDQUF1QyxFQUFFLEdBQUcsV0FBVyxFQUFFLEdBQUcsOEJBQThCLENBQUM7SUFDdEcsUUFBQSxxQ0FBcUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxHQUFHLHFDQUFxQyxFQUFFO1lBQzlGLE9BQU87WUFDUCxzQkFBc0I7WUFDdEIsNkJBQTZCO1lBQzdCLHVCQUF1QjtZQUN2QixxQkFBcUI7SUFDckIsUUFBQSw4QkFBOEIsRUFBRSxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLGFBQWEsSUFBSSxPQUFPLEVBQUUsR0FBRyw4QkFBOEIsRUFBRTtJQUNoSixLQUFBLENBQUMsQ0FBQztJQUNILElBQUEsTUFBTSxFQUFFLGVBQWUsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLFdBQVcsQ0FBQTtJQUN6RCxJQUFBLE1BQU0sRUFBRSxXQUFXLEVBQUUsR0FBRyxRQUFRLENBQWEsRUFBRSxlQUFlLEVBQUUsRUFBRSxHQUFHLGVBQWUsRUFBRSxTQUFTLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxDQUFDLENBQUE7SUFDdEgsSUFBQSxNQUFNLEVBQUUsMEJBQTBCLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSx5QkFBeUIsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUFFLEdBQUcsV0FBVyxDQUFDO1FBQzFHLE1BQU0sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQztRQUVyRCxNQUFNLE9BQU8sR0FBRyxVQUFVLENBQUMsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekQsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRXJELElBQUEsUUFBUSxDQUFDLFFBQVEsRUFBRSxzQkFBc0IsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7UUFDdEUsT0FBTztZQUNILEtBQUssRUFBRSxjQUFjLENBQ2pCLFdBQVcsQ0FBQyxhQUFhLEVBQ3pCLHVDQUF1QyxFQUN2QztJQUNJLFlBQUEsZUFBZSxFQUFFLFFBQVEsQ0FBQyxRQUFRLEVBQUU7SUFDcEMsWUFBQSxlQUFlLEVBQUUsUUFBUSxDQUFDLFFBQVEsRUFBRTtJQUNwQyxZQUFBLElBQUksRUFBRSxLQUFLO0lBQ1gsWUFBQSxlQUFlLEVBQUUsT0FBTztJQUN4QixZQUFBLEVBQUUsRUFBRSxLQUFLO2FBQ04sQ0FBQztZQUNaLFdBQVc7SUFDWCxRQUFBLEdBQUcsV0FBVztTQUNqQixDQUFBO0lBQ0wsQ0FBQzthQUdlLFdBQVcsQ0FBK0IsRUFBRSxzQkFBc0IsRUFBRSxPQUFPLEVBQXlCLEVBQUE7SUFDaEgsSUFBQSxNQUFNLEVBQUUsS0FBSyxFQUFFLEdBQUcsc0JBQXNCLENBQUM7SUFDekMsSUFBQSxRQUFRLENBQUMsYUFBYSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQy9CLElBQUEsTUFBTSxFQUFFLGVBQWUsRUFBRSxFQUFFLGVBQWUsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxFQUFFLEdBQUcsT0FBTyxDQUFDOztJQUVsRixJQUFBLE1BQU0sQ0FBQyxxQkFBcUIsRUFBRSx3QkFBd0IsRUFBRSx3QkFBd0IsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2xHLElBQUEsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLEVBQUUsWUFBWSxDQUFDLEdBQUcsUUFBUSxDQUFDLElBQXNCLENBQUMsQ0FBQzs7UUFFakYsZUFBZSxDQUFlLEVBQUUsT0FBTyxFQUFFLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRTtJQUMxRSxRQUFBLFVBQVUsRUFBRSxpQkFBaUIsQ0FBQyxNQUFRLEVBQUEsT0FBTyx3QkFBd0IsRUFBRSxJQUFJLEtBQUssQ0FBQSxFQUFFLENBQUM7WUFDbkYsZUFBZSxFQUFFLGlCQUFpQixDQUFDLENBQUMsUUFBUSxFQUFFLFNBQVMsS0FBSTs7SUFFdkQsWUFBQSxJQUFJLFdBQVcsSUFBSSxRQUFRLElBQUksS0FBSyxHQUFHLFNBQVMsR0FBRyxRQUFRLENBQUMsQ0FBQztnQkFDN0QsSUFBSSxXQUFXLElBQUksSUFBSTtvQkFDbkIsd0JBQXdCLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBRTFDLElBQUksUUFBUSxJQUFJLEtBQUssRUFBRTtvQkFDbkIsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3RCLGFBQUE7SUFDSSxpQkFBQTtvQkFDRCxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkIsYUFBQTtJQUNMLFNBQUMsQ0FBQztJQUNGLFFBQUEsR0FBRyxzQkFBc0I7SUFDNUIsS0FBQSxDQUFDLENBQUM7UUFDSCxNQUFNLE9BQU8sR0FBRyxVQUFVLENBQUMsc0JBQXNCLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekQsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLHNCQUFzQixDQUFDLEtBQUssQ0FBQyxDQUFDOztRQUlyRCxPQUFPO1lBQ0gsS0FBSyxFQUFFLGNBQWMsQ0FBZTtJQUNoQyxZQUFBLElBQUksRUFBRSxVQUFVO0lBQ2hCLFlBQUEsaUJBQWlCLEVBQUUsS0FBSztJQUN4QixZQUFBLEVBQUUsRUFBRSxPQUFPO2dCQUNYLEtBQUssRUFBRSxDQUFDLFNBQVM7YUFDZCxDQUFDO0lBQ1IsUUFBQSxjQUFjLEVBQUU7SUFDWixZQUFBLGFBQWEsRUFBRSxxQkFBcUIsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLEtBQUssR0FBRyxxQkFBcUIsQ0FBQztJQUNyRixZQUFBLE9BQU8sRUFBRSxTQUFTO0lBQ2xCLFlBQUEsVUFBVSxFQUFFLGlCQUFpQixDQUFDLE1BQVEsRUFBQSxPQUFPLHdCQUF3QixFQUFFLEtBQUssS0FBSyxDQUFDLEVBQUUsQ0FBQztJQUN4RixTQUFBO1NBQ0osQ0FBQTtJQUNMOzthQ2hPZ0IsU0FBUyxDQUFnQyxFQUFFLHlCQUF5QixFQUFFLEVBQUUscUJBQXFCLEVBQUUsSUFBSSxFQUFFLHdCQUF3QixFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBdUIsRUFBQTtRQUN0TSxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7Ozs7OztJQU90QixJQUFBLE1BQU0saUJBQWlCLEdBQUdDLENBQU0sQ0FBVyxFQUFFLENBQUMsQ0FBQztJQUUvQyxJQUFBLE1BQU0sa0JBQWtCLEdBQUcsZUFBZSxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3pELElBQUEsTUFBTSxrQkFBa0IsR0FBR0EsQ0FBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRXJDLElBQUEsTUFBTSxFQUFFLGdCQUFnQixFQUFFLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxFQUFFLEdBQUcsYUFBYSxDQUFnQixFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDckgsTUFBTSxFQUFFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxHQUFHLFVBQVUsRUFBRSxHQUFHLGtCQUFrQixDQUFZLEVBQUUseUJBQXlCLEVBQUUsRUFBRSx3QkFBd0IsRUFBRSxxQkFBcUIsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFbEwsSUFBQSxNQUFNLEVBQUUsV0FBVyxFQUFFLGFBQWEsRUFBRSxHQUFHLHFCQUFxQixDQUFDO0lBQzdELElBQUEsTUFBTSxVQUFVLEdBQUcsYUFBYSxFQUFFLENBQUM7O0lBR25DLElBQUEsTUFBTSx3QkFBd0IsR0FBR08sR0FBVyxDQUFDLE1BQUs7SUFDOUMsUUFBQSxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGtCQUFrQixFQUFFLEVBQUUsaUJBQWlCLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzdFLFFBQUEsSUFBSSxLQUFLLEdBQUcsa0JBQWtCLENBQUMsT0FBTyxDQUFDO1lBQ3ZDLEtBQUssSUFBSSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsRUFBRSxDQUFDLEVBQUU7SUFFOUIsWUFBQSxNQUFNLG9CQUFvQixHQUFHLFVBQVUsQ0FBQyxLQUFLLENBQUMsaUJBQWlCLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUUsWUFBQSxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2dCQUN2QyxvQkFBb0IsRUFBRSxJQUFJLEVBQUUsQ0FBQztJQUNoQyxTQUFBO0lBQ0QsUUFBQSxrQkFBa0IsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDO1NBQ3BDLEVBQUUsRUFBRSxDQUFDLENBQUE7OztJQUlOLElBQUEsTUFBTSxpQkFBaUIsR0FBR0EsR0FBVyxDQUFDLENBQUMsVUFBa0IsS0FBSTtJQUN6RCxRQUFBLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDM0MsUUFBQSxVQUFVLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDdkYsUUFBQSx3QkFBd0IsRUFBRSxDQUFDO1NBQzlCLEVBQUUsRUFBRSxDQUFDLENBQUM7O0lBR1AsSUFBQSxNQUFNLG1CQUFtQixHQUFHQSxHQUFXLENBQUMsQ0FBQyxNQUFjLEtBQUk7OztJQUl2RCxRQUFBLE1BQU0sWUFBWSxHQUFHLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQzs7OztJQU0zRSxRQUFBLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFHO0lBQ25CLFlBQUEsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLElBQUksSUFBRztvQkFDeEIsSUFBSSxJQUFJLEdBQUcsQ0FBQzt3QkFDUixPQUFPLElBQUksR0FBRyxDQUFDLENBQUM7O0lBRWhCLG9CQUFBLE9BQU8sSUFBSSxDQUFDO0lBQ3BCLGFBQUMsQ0FBQyxDQUFDO0lBQ1AsU0FBQyxDQUFDLENBQUM7O1lBRUgsVUFBVSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOztJQUdqRCxRQUFBLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFHO0lBQ25CLFlBQUEsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLElBQUksSUFBRztvQkFDeEIsSUFBSSxJQUFJLEdBQUcsWUFBWTt3QkFDbkIsT0FBTyxJQUFJLEdBQUcsQ0FBQyxDQUFDOztJQUVoQixvQkFBQSxPQUFPLElBQUksQ0FBQztJQUNwQixhQUFDLENBQUMsQ0FBQztJQUNQLFNBQUMsQ0FBQyxDQUFDOztZQUdILGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDOztJQUdsRCxRQUFBLHdCQUF3QixFQUFFLENBQUM7U0FDOUIsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUlQLElBQUEsTUFBTSxDQUFDLFdBQVcsRUFBRSxZQUFZLEVBQUUsYUFBYSxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBRW5FLElBQUEsZ0JBQWdCLENBQUMsUUFBUSxFQUFFLGFBQWEsRUFBRSxDQUFDLElBQUc7SUFDMUMsUUFBQSxNQUFNLFNBQVMsSUFBSSxDQUFDLENBQUMsTUFBTSxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsTUFBTSxZQUFZLElBQUksS0FBSyxVQUFVLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxJQUFJLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ25JLFlBQVksQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM1QixLQUFDLENBQUMsQ0FBQztJQUVILElBQUEsTUFBTSxZQUFZLEdBQUc7WUFDakIsbUJBQW1CO1lBQ25CLGtCQUFrQjtZQUNsQixpQkFBaUI7U0FDcEIsQ0FBQTtJQUVELElBQUEsTUFBTSxLQUFLLEdBQUcsY0FBYyxDQUFnQixjQUFjLENBQUMsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFLGtCQUFrQixFQUF5QyxDQUFDLENBQUMsQ0FBQztRQUUvSSxPQUFPO0lBQ0gsUUFBQSxPQUFPLEVBQUU7SUFDTCxZQUFBLEdBQUcsT0FBTztnQkFDVixZQUFZO0lBQ2YsU0FBQTtZQUNELHFCQUFxQjtZQUNyQixLQUFLO1NBRVIsQ0FBQztJQUNOLENBQUM7SUFFSyxTQUFVLFFBQVEsQ0FBb0IsRUFBRSxlQUFlLEVBQUUsRUFBRSxVQUFVLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxFQUFFLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsdUJBQXVCLEVBQUUsRUFBRSxPQUFPLEVBQWlDLEVBQUE7UUFDck0sTUFBTSxFQUFFLGtCQUFrQixFQUFFLG1CQUFtQixFQUFFLGlCQUFpQixFQUFFLEdBQUcsT0FBTyxDQUFDLFlBQVksQ0FBQztJQUM1RixJQUFBLFFBQVEsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDNUIsTUFBTSxDQUFDLHVCQUF1QixFQUFFLDBCQUEwQixDQUFDLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2pGLElBQUEsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hDLElBQUEsTUFBTSxDQUFDLFVBQVUsRUFBRSxhQUFhLEVBQUUsYUFBYSxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25FLElBQUEsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLEVBQUUsV0FBVyxDQUFDLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdELE1BQU0sQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRXBELElBQUEsTUFBTSxNQUFNLEdBQUcsU0FBUyxFQUFFLENBQUM7SUFFM0IsSUFBQSxNQUFNLE9BQU8sR0FBR0EsR0FBVyxDQUFDLE1BQUs7WUFDN0IsSUFBSSxDQUFDLGFBQWEsRUFBRTtJQUNoQixZQUFBLG1CQUFtQixDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7WUFFcEMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BCLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztTQUN0QixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBQSxNQUFNLElBQUksR0FBRyxpQkFBaUIsQ0FBQyxNQUFLO0lBQ2hDLFFBQUEsTUFBTSxDQUFDLFFBQVEsRUFBRXlILHFCQUFJLFFBQVEsRUFBQSxDQUFLLENBQUMsQ0FBQztZQUNwQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEIsS0FBQyxDQUFDLENBQUE7UUFFRnJJLENBQVMsQ0FBQyxNQUFLO0lBQ1gsUUFBQSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxXQUFXLEVBQUUsRUFBRTtnQkFDcEMsSUFBSSx1QkFBdUIsSUFBSSxDQUFDLElBQUksdUJBQXVCLEdBQUcsa0JBQWtCLEVBQUUsRUFBRTtJQUNoRixnQkFBQSxJQUFJLEVBQUUsQ0FBQztJQUNWLGFBQUE7SUFDSixTQUFBO0lBQ0wsS0FBQyxFQUFFLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDO0lBRTlCLElBQUEsTUFBTSxLQUFLLEdBQUdZLEdBQVcsQ0FBQyxNQUFLO0lBQzNCLFFBQUEsTUFBTSxPQUFPLEdBQUcsVUFBVSxFQUFFLENBQUM7SUFDN0IsUUFBQSxJQUFJLE9BQU8sRUFBRTtJQUNULFlBQUEsTUFBTSxjQUFjLEdBQUcsa0JBQWtCLENBQUMsT0FBTyxDQUF5QixDQUFDO0lBQzNFLFlBQUEsY0FBYyxFQUFFLEtBQUssSUFBSSxDQUFDO0lBQzdCLFNBQUE7U0FDSixFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBNEQsZUFBZSxDQUFZLEVBQUUsc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsMEJBQTBCLEVBQUUsSUFBSSxFQUFFLEVBQUU7SUFFL00sSUFBQSxNQUFNLGlCQUFpQixHQUFHQSxHQUFXLENBQUMsTUFBSztZQUN2QyxlQUFlLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7U0FDN0IsRUFBRSxFQUFFLENBQUMsQ0FBQTtRQUVOWixDQUFTLENBQUMsTUFBSztZQUNYLGlCQUFpQixDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQzVCLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFUCxJQUFBLE1BQU0saUJBQWlCLEdBQUcsQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLHVCQUF1QixJQUFJLENBQUMsSUFBSSxJQUFJLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUM7SUFFMUksSUFBQSxVQUFVLENBQUM7SUFDUCxRQUFBLE9BQU8sRUFBRSxpQkFBaUI7WUFDMUIsUUFBUSxFQUFFLE1BQUs7SUFDWCxZQUFBLElBQUksUUFBUTtJQUNSLGdCQUFBLE9BQU8sRUFBRSxDQUFDO2FBQ2pCO1lBQ0QsWUFBWSxFQUFFLFFBQVEsR0FBRyxZQUFZLEdBQUcsS0FBSztJQUNoRCxLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsTUFBTSxFQUFFLGdCQUFnQixFQUFFLEVBQUUsVUFBVSxFQUFFLFdBQVcsRUFBRSxFQUFFLEdBQUcsYUFBYSxDQUFJLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQTtRQUV4RyxPQUFPO0lBQ0gsUUFBQSxXQUFXLEVBQUU7SUFDVCxZQUFBLFNBQVMsRUFBRSxVQUFVO0lBQ3JCLFlBQUEsT0FBTyxFQUFFLFFBQVE7Z0JBQ2pCLHVCQUF1QjtnQkFDdkIsT0FBTztnQkFDUCxpQkFBaUI7SUFDcEIsU0FBQTtJQUNELFFBQUEsS0FBSyxFQUFFLFdBQVc7U0FDckIsQ0FBQTtJQUNMOztJQ3BNZ0IsU0FBQSxVQUFVLENBQXlELEVBQUUsaUJBQWlCLEVBQUUsRUFBRSxRQUFRLEVBQUUsbUJBQW1CLEVBQUUsRUFBRSx1QkFBdUIsRUFBZ0QsRUFBQTtJQUU5TTs7OztJQUlHO1FBQ0gsTUFBTSxDQUFDLFNBQVMsRUFBRSxZQUFZLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFbEQsSUFBQSxNQUFNLENBQUMsUUFBUSxFQUFFLFFBQVEsQ0FBQyxHQUFHLGVBQWUsQ0FBc0IsaUJBQWlCLENBQUMsQ0FBQyxTQUFTLEVBQUUsU0FBUyxLQUFJO0lBQ3pHLFFBQUEsUUFBUSxTQUFTO0lBQ2IsWUFBQSxLQUFLLGVBQWUsQ0FBQztJQUNyQixZQUFBLEtBQUssaUJBQWlCO29CQUNsQixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7b0JBQ2xCLE1BQU07SUFDVixZQUFBLEtBQUssZ0JBQWdCLENBQUM7SUFDdEIsWUFBQSxLQUFLLGtCQUFrQjtvQkFDbkIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUNsQixNQUFNO0lBQ1YsWUFBQTtvQkFDSSxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7b0JBQ2YsTUFBTTtJQUNiLFNBQUE7SUFFRCxRQUFBLFlBQVksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7SUFHOUIsS0FBQyxDQUFDLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFaEIsSUFBQSxJQUFJLEVBQ0EsZUFBZSxFQUFFLFlBQVksRUFDN0IsV0FBVyxFQUFFLFVBQVUsRUFDMUIsR0FBRyxXQUFXLENBQXlCLEVBQUUsa0JBQWtCLEVBQUUsRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLE9BQU8sRUFBRSxtQkFBbUIsR0FBRyxtQkFBbUIsSUFBSSxhQUFhLEdBQUcsa0JBQWtCLEdBQUcsaUJBQWlCLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVwTSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxVQUFVLEVBQUUsaUJBQWlCLEVBQUUsV0FBVyxFQUFFLGVBQWUsRUFBRSxFQUFFLEdBQUcsYUFBYSxDQUFjLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN2SixNQUFNLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxVQUFVLEVBQUUsZUFBZSxFQUFFLFdBQVcsRUFBRSxhQUFhLEVBQUUsRUFBRSxHQUFHLGFBQWEsQ0FBWSxFQUFFLG9CQUFvQixFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFakosTUFBTSxZQUFZLEdBQUdZLEdBQVcsQ0FBQyxPQUFPLFFBQVEsRUFBRSxFQUFFLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxLQUFLLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNuRixNQUFNLFlBQVksR0FBR0EsR0FBVyxDQUFDLE9BQU8sUUFBUSxFQUFFLEVBQUUsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRW5GLE1BQU0sY0FBYyxHQUFHQSxHQUFXLENBQUMsQ0FBQyxRQUFpQixFQUFFLEtBQTBCLEtBQUk7SUFDakYsUUFBQSxJQUFJLFFBQVEsRUFBRTtJQUNWLFlBQUEsUUFBUSxDQUFDLENBQUEsU0FBQSxFQUFZLEtBQUssQ0FBQSxDQUFFLENBQUMsQ0FBQztJQUNqQyxTQUFBO0lBQ0ksYUFBQTtnQkFDRCxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEIsU0FBQTtTQUNKLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFFTixNQUFNLDRCQUE0QixHQUFHQSxHQUFXLENBQUMsQ0FBQyxPQUFnQixFQUFFLEtBQTBCLEtBQUk7WUFDOUYsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFO0lBQ2pCLFlBQUEsSUFBSSxPQUFPLEVBQUU7SUFDVCxnQkFBQSxRQUFRLENBQUMsQ0FBQSxRQUFBLEVBQVcsS0FBSyxDQUFBLENBQUUsQ0FBQyxDQUFDO0lBQ2hDLGFBQUE7SUFDSSxpQkFBQTtvQkFDRCxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEIsYUFBQTtJQUNKLFNBQUE7SUFDSSxhQUFBO2dCQUNELFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNsQixTQUFBO0lBQ0wsS0FBQyxFQUFFLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztRQUVuQixNQUFNLG1DQUFtQyxHQUFHQSxHQUFXLENBQUMsQ0FBQyxPQUFnQixLQUFLLDRCQUE0QixDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsRUFBRSxDQUFDLDRCQUE0QixDQUFDLENBQUMsQ0FBQztRQUNoSyxNQUFNLGlDQUFpQyxHQUFHQSxHQUFXLENBQUMsQ0FBQyxPQUFnQixLQUFLLDRCQUE0QixDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxDQUFDLDRCQUE0QixDQUFDLENBQUMsQ0FBQztJQUM1SixJQUFBLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxrQkFBa0IsRUFBRSxHQUFHLGtCQUFrQixDQUFjLEVBQUUseUJBQXlCLEVBQUUsRUFBRSx1QkFBdUIsRUFBRSxJQUFJLEVBQUUsNEJBQTRCLEVBQUUsbUNBQW1DLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLFVBQVUsRUFBRSxpQkFBaUIsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUNoUixJQUFBLE1BQU0sRUFBRSxxQkFBcUIsRUFBRSxnQkFBZ0IsRUFBRSxHQUFHLGtCQUFrQixDQUFZLEVBQUUseUJBQXlCLEVBQUUsRUFBRSx1QkFBdUIsRUFBRSxJQUFJLEVBQUUsNEJBQTRCLEVBQUUsaUNBQWlDLEVBQUUsRUFBRSxnQkFBZ0IsRUFBRSxFQUFFLFVBQVUsRUFBRSxlQUFlLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFeFEsSUFBQSxNQUFNLEVBQ0YscUJBQXFCLEVBQ3JCLHNCQUFzQixFQUN6QixHQUFHLFVBQVUsQ0FBK0M7SUFDekQsUUFBQSxpQkFBaUIsRUFBRTtJQUNmLFlBQUEsZUFBZSxFQUFFLEtBQUs7SUFDdEIsWUFBQSxnQkFBZ0IsRUFBRSxLQUFLO0lBQ3ZCLFlBQUEsYUFBYSxFQUFFLElBQUk7SUFDbkIsWUFBQSxJQUFJLEVBQUUsU0FBUztJQUNmLFlBQUEsT0FBTyxFQUFFLGlCQUFpQixDQUFDLE1BQUs7b0JBQzVCLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNuQixhQUFDLENBQUM7SUFDTCxTQUFBO1lBQ0QsdUJBQXVCO0lBQzFCLEtBQUEsQ0FBQyxDQUFDO0lBSUgsSUFBQSxNQUFNLGVBQWUsR0FBRztJQUNwQixRQUFBLGNBQWMsRUFBRUEsR0FBVyxDQUFDLFFBQVEsY0FBYyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDOztTQUUzRSxDQUFBO0lBQ0QsSUFBQSxNQUFNLGlCQUFpQixHQUFHO0lBQ3RCLFFBQUEsY0FBYyxFQUFFQSxHQUFXLENBQUMsUUFBUSxjQUFjLENBQUMsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFBLEVBQUUsRUFBRSxFQUFFLENBQUM7O1NBRTdFLENBQUE7SUFFRCxJQUFBLGdCQUFnQixDQUFDLFFBQVEsRUFBRSxhQUFhLEVBQUUsQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLENBQUMsSUFBRztJQUMvRCxRQUFBLE1BQU0sWUFBWSxHQUFHLGVBQWUsRUFBRSxDQUFDO0lBQ3ZDLFFBQUEsTUFBTSxjQUFjLEdBQUcsaUJBQWlCLEVBQUUsQ0FBQztJQUMzQyxRQUFBLE1BQU0sWUFBWSxHQUFHLENBQUMsQ0FBQyxNQUFxQixDQUFDO1lBQzdDLElBQUksU0FBUyxJQUFJLFlBQVksRUFBRSxRQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQTtZQUN0RCxJQUFJLFdBQVcsSUFBSSxjQUFjLEVBQUUsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUE7WUFDMUQsSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLFdBQVcsSUFBSSxZQUFZLEVBQUUsRUFBRTtJQUM5QyxZQUFBLGNBQWMsQ0FBQyxLQUFLLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDbEMsU0FBQTtJQUNMLEtBQUMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtRQUdyQyxPQUFPO1lBQ0gsVUFBVSxFQUFFLGNBQWMsQ0FBWSxhQUFhLEVBQUUsVUFBVSxFQUFFLGdCQUFnQixDQUFDLFdBQVcsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsRUFBRSxlQUFlLEVBQUUscUJBQXFCLENBQUMsV0FBVyxDQUFDO0lBQ3ZLLFFBQUEsWUFBWSxFQUFFLGNBQWMsQ0FBYyxlQUFlLEVBQUUsWUFBWSxFQUFFLGtCQUFrQixDQUFDLFdBQVcsRUFBRSxFQUFFLE9BQU8sRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLElBQUssQ0FBQyxDQUFDLGFBQXdDLEVBQUUsS0FBSyxJQUFJLENBQUMsRUFBRSxFQUFFLGlCQUFpQixFQUFFLHNCQUFzQixDQUFDLFdBQVcsQ0FBQztJQUM1UCxRQUFBLGFBQWEsRUFBRTtnQkFDWCxRQUFRO2dCQUNSLFlBQVk7Z0JBQ1osWUFBWTtJQUNmLFNBQUE7U0FDSixDQUFBO0lBQ0w7O0lDdkpNLFNBQVUsY0FBYyxDQUFnQyxFQUFLLEVBQUE7SUFDL0QsSUFBQSxPQUFPMEIsQ0FBSSxDQUFDYSxDQUFVLENBQUMsRUFBRSxDQUFDLENBQU0sQ0FBQztJQUNyQyxDQUFDO0lBRU0sTUFBTSxlQUFlLEdBQUc7SUFDM0IsSUFBQSxRQUFRLEVBQUV0SCxHQUFhLENBQXVCLElBQUksQ0FBQztJQUNuRCxJQUFBLGtCQUFrQixFQUFFQSxHQUFhLENBQVMsR0FBRyxDQUFDO0lBQzlDLElBQUEsZ0JBQWdCLEVBQUVBLEdBQWEsQ0FBQyxJQUFJLENBQUM7SUFDckMsSUFBQSxXQUFXLEVBQUVBLEdBQWEsQ0FBQyxLQUFLLENBQUM7SUFDakMsSUFBQSxRQUFRLEVBQUVBLEdBQWEsQ0FBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO0lBQzFELElBQUEsZ0JBQWdCLEVBQUVBLEdBQWEsQ0FBQyxLQUFLLENBQUM7SUFDdEMsSUFBQSxrQkFBa0IsRUFBRUEsR0FBYSxDQUFDLEtBQUssQ0FBQztRQUN4QyxTQUFTLEVBQUVBLEdBQWEsQ0FBQyxNQUFNLFVBQVUsQ0FBQyxNQUFnQixDQUFDO0lBQzNELElBQUEsV0FBVyxFQUFFQSxHQUFhLENBQUMsQ0FBQyxDQUFNLEtBQUssQ0FBQyxFQUFFLEtBQUssSUFBSSxDQUFDO0lBQ3BELElBQUEsT0FBTyxFQUFFQSxHQUFhLENBQUMsQ0FBQyxDQUFNLE1BQU0sQ0FBQyxFQUFFLFdBQVcsSUFBSSxFQUFFLENBQWtCLENBQUM7SUFDM0UsSUFBQSxhQUFhLEVBQUVBLEdBQWEsQ0FBNEYsWUFBWSxDQUFDO0tBQ3hJLENBQUE7SUFNZSxTQUFBLFVBQVUsQ0FBMkIsT0FBVSxFQUFFLFNBQStELEVBQUE7UUFDNUgsTUFBTSxZQUFZLEdBQUdnRixDQUFVLENBQTJDLGVBQWUsQ0FBQyxPQUFPLENBQWlCLENBQUMsQ0FBQztRQUNwSCxPQUFPLFNBQVMsSUFBSSxZQUFZLENBQUM7SUFDckMsQ0FBQztJQUVNLE1BQU0sa0JBQWtCLEdBQUdoRixHQUFhLENBQUMsQ0FBQyxDQUFDOztJQ0tsRCxNQUFNLHVCQUF1QixHQUFHQSxHQUFhLENBQWdDLElBQUssQ0FBQyxDQUFDO0lBQzdFLE1BQU0sU0FBUyxHQUFHLGNBQWMsQ0FBQyxTQUFTLFNBQVMsQ0FBc0MsRUFDNUYsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixZQUFZLEVBQ1osbUJBQW1CLEVBQ25CLHdCQUF3QixFQUN4QixxQkFBcUIsRUFDckIsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixrQkFBa0IsRUFDbEIsZUFBZSxFQUNmLFFBQVEsRUFDUixXQUFXLEVBQ1gsZ0JBQWdCLEVBQ2hCLE9BQU8sRUFDUCxNQUFNLEVBQ04sR0FBRyxLQUFLLEVBQzBCLEVBQUUsR0FBYyxFQUFBO1FBRWxELE1BQU0sSUFBSSxHQUFHLFlBQVksQ0FBK0M7WUFDcEUsbUJBQW1CLEVBQUUsRUFBRSxZQUFZLEVBQUUsZUFBZSxFQUFFLGVBQWUsSUFBSSxJQUFJLEVBQUU7SUFDL0UsUUFBQSw2QkFBNkIsRUFBRTtnQkFDM0IsT0FBTyxFQUFFLE9BQU8sSUFBSSxVQUFVO0lBQzlCLFlBQUEsUUFBUSxFQUFFLFVBQVUsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDO0lBQzFDLFlBQUEsV0FBVyxFQUFFLFVBQVUsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDO0lBQ25ELFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ3JFLFNBQUE7SUFDRCxRQUFBLDBCQUEwQixFQUFFO0lBQ3hCLFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ2xFLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO2dCQUN4RSxtQkFBbUI7Z0JBQ25CLGVBQWUsRUFBRSxlQUFlLElBQUksTUFBTTtnQkFDMUMsaUJBQWlCLEVBQUUsaUJBQWlCLElBQUksTUFBTTtJQUM5QyxZQUFBLGtCQUFrQixFQUFFLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQztJQUMzRSxTQUFBO0lBQ0QsUUFBQSx5QkFBeUIsRUFBRSxFQUFFLHdCQUF3QixFQUFFLHFCQUFxQixFQUFFO0lBQ2pGLEtBQUEsQ0FBQyxDQUFDO1FBQ0gyRSxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsUUFDSTZILEdBQUMsQ0FBQSx1QkFBdUIsQ0FBQyxRQUFRLEVBQUEsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sWUFBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUEsQ0FBb0MsRUFDM0c7SUFDTCxDQUFDLENBQUMsQ0FBQTtJQUVLLE1BQU0sZ0JBQWdCLEdBQUcsY0FBYyxDQUFDLFNBQVMsZ0JBQWdCLENBQTJHLEVBQy9LLElBQUksRUFDSixLQUFLLEVBQ0wsU0FBUyxFQUNULFFBQVEsRUFDUixRQUFRLEVBQ1IsT0FBTyxFQUNQLE1BQU0sRUFDTixPQUFPLEVBQ1AsTUFBTSxHQUN3RSxFQUFFLEdBQWMsRUFBQTtJQUM5RixJQUFBLE1BQU0sT0FBTyxHQUFHeEgsQ0FBVSxDQUFDLHVCQUF1QixDQUFzRSxDQUFDO1FBQ3pILE1BQU0sSUFBSSxHQUFHLG1CQUFtQixDQUEyRDtJQUN2RixRQUFBLGdCQUFnQixFQUFFLEVBQUUsUUFBUSxFQUFFLFFBQVEsSUFBSSxLQUFLLEVBQUUsU0FBUyxFQUFFLE9BQU8sRUFBRSxPQUFPLElBQUksSUFBSSxFQUFFO1lBQ3RGLDBCQUEwQixFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxRQUFRLElBQUksUUFBUSxFQUFFO1lBQ3BFLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxHQUFHO0lBQ2xDLFFBQUEsNkJBQTZCLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxJQUFJLEtBQUssRUFBRTtJQUMxRCxRQUFBLGVBQWUsRUFBRSxFQUFFLGtCQUFrQixFQUFFLEtBQUssRUFBRTtJQUU5QyxRQUFBLG9CQUFvQixFQUFFLEVBQUU7WUFDeEIsT0FBTztJQUNQLFFBQUEscUJBQXFCLEVBQUU7Z0JBQ25CLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSztJQUN2QixZQUFBLE9BQU8sRUFBRSxVQUFVLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQztJQUMxQyxTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7UUFFSEwsQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUV0QyxJQUFBLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUMsQ0FBQzs7SUM1RkssTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLFNBQVMsTUFBTSxDQUFvQixFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsa0JBQWtCLEVBQUUsa0JBQWtCLEVBQWtCLEVBQUUsR0FBYSxFQUFBO1FBQ2pPLE1BQU0sSUFBSSxHQUFHLFNBQVMsQ0FBSTtJQUN0QixRQUFBLGdCQUFnQixFQUFFO0lBQ2QsWUFBQSxJQUFJLEVBQUUsUUFBUTtJQUNkLFlBQUEsU0FBUyxFQUFFLFNBQVM7Z0JBQ3BCLE9BQU8sRUFBRSxPQUFPLElBQUksSUFBSTtnQkFDeEIsT0FBTztnQkFDUCxRQUFRLEVBQUUsUUFBUSxJQUFJLEtBQUs7SUFDOUIsU0FBQTtJQUNELFFBQUEsZUFBZSxFQUFFLEVBQUUsa0JBQWtCLEVBQUUsa0JBQWtCLEVBQUU7SUFDM0QsUUFBQSxvQkFBb0IsRUFBRSxFQUFFLGVBQWUsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFO0lBQ2hFLEtBQUEsQ0FBQyxDQUFDO1FBQ0hBLENBQW1CLENBQUMsR0FBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUM7SUFDdEMsSUFBQSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN4QixDQUFDLENBQUM7O0lDWmMsU0FBQSx5QkFBeUIsQ0FBaUQsRUFBRSxhQUFhLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxjQUFjLEVBQUUsY0FBYyxFQUF1RCxFQUFBO0lBQ2hOLElBQUEsT0FBTyxVQUFVLElBQWMsRUFBQTtZQUUzQixNQUFNLFVBQVUsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtJQUN6QyxRQUFBLE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxVQUFVLEVBQUUsSUFBSSxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtZQUMxRCxJQUFJLGFBQWEsSUFBSSxVQUFVLEVBQUU7Z0JBRTdCLE1BQU0sS0FBSyxHQUFHdFAsR0FBYSxDQUFDLFFBQWlCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDM0QsWUFBQSxNQUFNLEtBQUssR0FBR0EsR0FBYSxDQUFDLFFBQWlCLEVBQUUsRUFBRSxHQUFHLFVBQVUsRUFBRSxRQUFRLEVBQUVxWCxzQkFBRyxLQUFLLEVBQUUsUUFBUSxDQUFJLEVBQUEsQ0FBQSxFQUFFLENBQUMsQ0FBQztJQUVwRyxZQUFBLFFBQ0lGLEdBQUEsQ0FBQUMsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUNLLEtBQUssRUFBQSxDQUNQLEVBQ047SUFDSixTQUFBO2lCQUNJLElBQUksYUFBYSxJQUFJLFVBQVUsRUFBRTtnQkFFbEMsTUFBTSxLQUFLLEdBQUdwWCxHQUFhLENBQUMsUUFBaUIsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMzRCxZQUFBLE1BQU0sS0FBSyxHQUFHQSxHQUFhLENBQUMsUUFBaUIsRUFBRSxFQUFFLFFBQVEsRUFBRSxHQUFHLFVBQVUsRUFBRSxDQUFDLENBQUM7SUFFNUUsWUFBQSxRQUNJcVgsR0FDSyxDQUFBRCxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxLQUFLLEVBQ0wsS0FBSyxDQUFBLEVBQUEsQ0FDUCxFQUNOO0lBQ0osU0FBQTtJQUNJLGFBQUE7Z0JBQ0QsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7SUFDM0MsWUFBQSxPQUFPcFgsR0FBYSxDQUFDLFFBQWlCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDdkQsU0FBQTtJQUNMLEtBQUMsQ0FBQTtJQUNMLENBQUM7SUFVTSxNQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsU0FBUyxRQUFRLENBQXVDLEVBQzNGLE9BQU8sRUFDUCxRQUFRLEVBQ1IsUUFBUSxFQUNSLGFBQWEsRUFDYixRQUFRLEVBQ1IsU0FBUyxFQUNULGVBQWUsRUFDZixNQUFNLEVBQ1ksRUFBRSxHQUFhLEVBQUE7SUFFakMsSUFBQSxNQUFNLEVBQUUsZ0JBQWdCLEVBQUUscUJBQXFCLEVBQUUsR0FBRyxhQUFhLENBQUksRUFBRSxvQkFBb0IsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ25HLElBQUEsTUFBTSxFQUFFLGdCQUFnQixFQUFFLHFCQUFxQixFQUFFLEdBQUcsYUFBYSxDQUFJLEVBQUUsb0JBQW9CLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUVuRyxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQXNCO0lBQzlDLFFBQUEsc0JBQXNCLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxJQUFJLEtBQUssRUFBRSxRQUFRLEVBQUUsUUFBUSxJQUFJLEtBQUssRUFBRTtZQUNsRixrQkFBa0IsRUFBRSxFQUFFLGVBQWUsRUFBRTtZQUN2QyxlQUFlLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFO1lBQzVFLHFCQUFxQjtZQUNyQixxQkFBcUI7SUFDckIsUUFBQSxlQUFlLEVBQUUsRUFBRSxZQUFZLEVBQUUsV0FBVyxFQUFFO0lBQ2pELEtBQUEsQ0FBQyxDQUFDO1FBRUhzUCxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLFFBQVEsQ0FBQyxDQUFDO0lBRzFDLElBQUEsT0FBTyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDNUIsQ0FBQyxDQUFDOztJQ3hDRixNQUFNLDRCQUE0QixHQUFHM0UsR0FBYSxDQUFzQyxJQUFLLENBQUMsQ0FBQztJQUV4RixNQUFNLGFBQWEsR0FBRyxjQUFjLENBQUMsU0FBUyxhQUFhLENBQXNFLEVBQ3BJLE1BQU0sRUFDTixRQUFRLEVBQ1IsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixtQkFBbUIsRUFDbkIsV0FBVyxFQUNYLGdCQUFnQixFQUNoQixxQkFBcUIsRUFDckIsT0FBTyxFQUNQLFNBQVMsRUFDVCxRQUFRLEVBQ1IsVUFBVSxFQUNWLGVBQWUsRUFDZixpQkFBaUIsRUFDakIsa0JBQWtCLEVBQ2xCLEdBQUcsS0FBSyxFQUN1RixFQUFFLEdBQWMsRUFBQTtRQUMvRyxNQUFNLElBQUksR0FBRyxnQkFBZ0IsQ0FBc0M7SUFDL0QsUUFBQSwwQkFBMEIsRUFBRTtJQUN4QixZQUFBLGdCQUFnQixFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsQ0FBQztJQUNsRSxZQUFBLGtCQUFrQixFQUFFLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQztnQkFDeEUsZUFBZSxFQUFFLGVBQWUsSUFBSSxNQUFNO2dCQUMxQyxpQkFBaUIsRUFBRSxpQkFBaUIsSUFBSSxNQUFNO2dCQUM5QyxtQkFBbUI7SUFDbkIsWUFBQSxrQkFBa0IsRUFBRSxVQUFVLENBQUMsb0JBQW9CLEVBQUUsa0JBQWtCLENBQUM7SUFDM0UsU0FBQTtJQUNELFFBQUEsMkJBQTJCLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxJQUFJLEtBQUssRUFBRTtZQUM5RCwrQkFBK0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxFQUFFO0lBQy9FLFFBQUEsd0JBQXdCLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxxQkFBcUIsSUFBSSxJQUFJLEVBQUUsVUFBVSxFQUFFLFVBQVUsSUFBSSxLQUFLLEVBQUU7SUFDbkgsUUFBQSwwQkFBMEIsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLElBQUksSUFBSSxFQUFFO0lBQ3hELFFBQUEsNkJBQTZCLEVBQUU7SUFDM0IsWUFBQSxRQUFRLEVBQUUsVUFBVSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUM7SUFDMUMsWUFBQSxXQUFXLEVBQUUsVUFBVSxDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUM7SUFDbkQsWUFBQSxnQkFBZ0IsRUFBRSxVQUFVLENBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUM7SUFDckUsU0FBQTtJQUNKLEtBQUEsQ0FBQyxDQUFDO1FBRUgyRSxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsUUFDSTZILEdBQUMsQ0FBQSw0QkFBNEIsQ0FBQyxRQUFRLEVBQUEsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sWUFDckQsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFBLENBQ3VCLEVBQzNDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSSxNQUFNLG1CQUFtQixHQUFHLGNBQWMsQ0FBQyxTQUFTLG1CQUFtQixDQUFzQixFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLEdBQUcsS0FBSyxFQUFpQyxFQUFFLEdBQWMsRUFBQTtJQUNwTixJQUFBLE1BQU0sT0FBTyxHQUFJeEgsQ0FBVSxDQUFDLDRCQUE0QixDQUE0RCxDQUFDO1FBQ3JILE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLElBQUksRUFBRSxDQUFrRSxnRUFBQSxDQUFBLENBQUMsQ0FBQztRQUVwRyxNQUFNLElBQUksR0FBRyxzQkFBc0IsQ0FBTTtZQUVyQyxxQ0FBcUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsRUFBRSxpQkFBaUIsRUFBRSxRQUFRLEVBQUUsRUFBRTtZQUNuRyxPQUFPO1lBQ1Asc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDakMsUUFBQSw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxFQUFFO1lBQzFELHVCQUF1QixFQUFFLEVBQUUsWUFBWSxFQUFFO1lBQ3pDLHFCQUFxQixFQUFFLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7SUFDckUsS0FBQSxDQUFDLENBQUM7UUFFSEwsQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUN0QyxJQUFBLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUMsQ0FBQyxDQUFBO0lBRUssTUFBTSxrQkFBa0IsR0FBRyxjQUFjLENBQUMsU0FBUyxrQkFBa0IsQ0FBc0IsRUFDOUYsS0FBSyxFQUNMLE1BQU0sRUFDTixPQUFPLEVBQ1Asa0JBQWtCLEVBQ2xCLFlBQVksRUFDWixNQUFNLEVBQ04sT0FBTyxFQUNQLFNBQVMsRUFDVCxHQUFHLEtBQUssRUFDbUIsRUFBRSxHQUFjLEVBQUE7SUFDM0MsSUFBQSxNQUFNLE9BQU8sR0FBSUssQ0FBVSxDQUFDLDRCQUE0QixDQUE0RCxDQUFDO1FBQ3JILE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLElBQUksRUFBRSxDQUFpRSwrREFBQSxDQUFBLENBQUMsQ0FBQztRQUNuRyxNQUFNLElBQUksR0FBRyxxQkFBcUIsQ0FBQztJQUMvQixRQUFBLGtCQUFrQixFQUFFLEVBQUUsT0FBTyxFQUFFLGtCQUFrQixFQUFFO1lBQ25ELHFDQUFxQyxFQUFFLEVBQUUsU0FBUyxFQUFFO1lBQ3BELHFCQUFxQixFQUFFLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7WUFDbEUsT0FBTztZQUNQLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFO0lBQ2pDLFFBQUEsNkJBQTZCLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxJQUFJLEtBQUssRUFBRTtZQUMxRCx1QkFBdUIsRUFBRSxFQUFFLFlBQVksRUFBRTtJQUM1QyxLQUFBLENBQUMsQ0FBQztRQUVITCxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDOzthQzNIYyxtQkFBbUIsQ0FBQyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQXlDLEVBQUE7SUFDN0YsSUFBQSxNQUFNLFNBQVMsR0FBR0gsQ0FBTSxDQUFjLElBQUssQ0FBQyxDQUFDO1FBQzdDLFNBQVMsQ0FBQyxPQUFPLEtBQUssUUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLENBQUUsQ0FBQztRQUN6RCxJQUFJLFNBQVMsQ0FBQyxPQUFPO1lBQ2pCLE9BQU8yRixDQUFZLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQzs7SUFFakQsUUFBQSxPQUFPLFFBQVEsQ0FBQztJQUN4QixDQUFDO0lBRU0sTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLFNBQVMsTUFBTSxDQUFvSSxFQUNwTCxPQUFPLEVBQ1AsSUFBSSxFQUNKLGVBQWUsRUFDZixhQUFhLEVBQ2IsV0FBVyxFQUNYLFNBQVMsRUFDVCxXQUFXLEVBQ1gsVUFBVSxFQUNWLFNBQVMsRUFDVCxNQUFNLEVBQ3VFLEVBQUUsR0FBYyxFQUFBO0lBQzdGLElBQUEsTUFBTSxrQkFBa0IsR0FBR25GLENBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQzFELElBQUksT0FBTyxHQUFHLENBQUMsV0FBVyxJQUFJLGtCQUFrQixJQUFJLENBQUMsQ0FBQztRQUV0RCxNQUFNLElBQUksR0FBRyxTQUFTLENBQW9FO0lBQ3RGLFFBQUEsaUJBQWlCLEVBQUU7Z0JBQ2YsZUFBZSxFQUFFLGVBQWUsSUFBSSxJQUFJO2dCQUN4QyxhQUFhLEVBQUUsYUFBYSxJQUFJLElBQUk7Z0JBQ3BDLE9BQU87Z0JBQ1AsSUFBSTtJQUNQLFNBQUE7SUFDRCxRQUFBLHVCQUF1QixFQUFFO0lBQ3JCLFlBQUEsU0FBUyxFQUFFLFVBQVUsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDO2dCQUM3QyxXQUFXLEVBQUUsV0FBVyxJQUFJLGtCQUFrQjtJQUNqRCxTQUFBO0lBQ0QsUUFBQSxtQkFBbUIsRUFBRTtJQUNqQixZQUFBLFdBQVcsRUFBRSxVQUFVLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQztnQkFDbkQsVUFBVTtJQUNiLFNBQUE7WUFDRCxlQUFlLEVBQUUsRUFBRSxTQUFTLEVBQUU7SUFDakMsS0FBQSxDQUFDLENBQUM7UUFFSEwsQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUV0QyxJQUFBLFFBQ0k2SCxHQUFDLENBQUEsa0JBQWtCLENBQUMsUUFBUSxJQUFDLEtBQUssRUFBRSxPQUFPLEVBQUEsUUFBQSxFQUN0QyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUEsQ0FDYSxFQUNoQztJQUVOLENBQUMsQ0FBQzs7SUNsRG9CLGNBQWMsQ0FBQyxTQUFTLE1BQU0sQ0FBb0ksRUFFcEwsZUFBZSxFQUNmLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsV0FBVyxFQUNYLFVBQVUsRUFDVixTQUFTLEVBQ1QsT0FBTyxFQUNQLElBQUksRUFDSixXQUFXLEVBQ1gsTUFBTSxFQUNOLFVBQVUsRUFDVixTQUFTLEdBQ29FLEVBQUUsR0FBYSxFQUFBO0lBQzVGLElBQUEsTUFBTSxrQkFBa0IsR0FBR3hILENBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQzFELElBQUksT0FBTyxHQUFHLENBQUMsV0FBVyxJQUFJLGtCQUFrQixJQUFJLENBQUMsQ0FBQztRQUV0RCxNQUFNLElBQUksR0FBRyxTQUFTLENBQW9FO0lBQ3RGLFFBQUEsaUJBQWlCLEVBQUU7Z0JBQ2YsZUFBZSxFQUFFLGVBQWUsSUFBSSxJQUFJO2dCQUN4QyxhQUFhLEVBQUUsYUFBYSxJQUFJLElBQUk7Z0JBQ3BDLGdCQUFnQixFQUFFLGdCQUFnQixJQUFJLElBQUk7Z0JBQzFDLE9BQU87Z0JBQ1AsSUFBSTtJQUNQLFNBQUE7SUFDRCxRQUFBLHVCQUF1QixFQUFFO0lBQ3JCLFlBQUEsU0FBUyxFQUFFLFVBQVUsQ0FBQyxXQUFXLEVBQUUsU0FBUyxDQUFDO2dCQUM3QyxXQUFXLEVBQUUsV0FBVyxJQUFJLGtCQUFrQjtJQUNqRCxTQUFBO0lBQ0QsUUFBQSxtQkFBbUIsRUFBRTtJQUNqQixZQUFBLFdBQVcsRUFBRSxVQUFVLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQztnQkFDbkQsVUFBVTtnQkFDVixVQUFVLEVBQUUsVUFBVSxJQUFJLEtBQUs7SUFDbEMsU0FBQTtZQUNELGVBQWUsRUFBRSxFQUFFLFNBQVMsRUFBRTtJQUNqQyxLQUFBLENBQUMsQ0FBQztRQUNITCxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsUUFDSTZILEdBQUMsQ0FBQSxrQkFBa0IsQ0FBQyxRQUFRLElBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQSxRQUFBLEVBQ3RDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBQSxDQUNhLEVBQ2pDO0lBRUwsQ0FBQzs7SUNKRCxNQUFNLGVBQWUsR0FBR3hNLEdBQWEsQ0FBOEMsSUFBSyxDQUFDLENBQUM7SUFDMUYsTUFBTSxrQkFBa0IsR0FBR0EsR0FBYSxDQUF1QyxJQUFLLENBQUMsQ0FBQztJQWUvRSxNQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsU0FBUyxTQUFTLENBQXVILEVBQzVLLFFBQVEsRUFDUixnQkFBZ0IsRUFDaEIsa0JBQWtCLEVBQ2xCLFdBQVcsRUFDWCxxQkFBcUIsRUFDckIsWUFBWSxFQUNaLGdCQUFnQixFQUNoQixhQUFhLEVBQ2IsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixxQkFBcUIsRUFDckIsa0JBQWtCLEVBQ2xCLGNBQWMsRUFDZCxVQUFVLEVBQ1YsYUFBYSxFQUNiLGFBQWEsRUFDYixTQUFTLEVBQ1QsT0FBTyxFQUNQLFFBQVEsRUFDUixzQkFBc0IsRUFDdEIsU0FBUyxFQUNULE1BQU0sRUFDaUksRUFBRSxHQUFjLEVBQUE7UUFDdkosTUFBTSxJQUFJLEdBQUcsV0FBVyxDQUE0SDtJQUNoSixRQUFBLDBCQUEwQixFQUFFO0lBQ3hCLFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ2xFLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO0lBQ3hFLFlBQUEsZUFBZSxHQUFHLGVBQWUsSUFBSSxNQUFNLENBQUM7SUFDNUMsWUFBQSxpQkFBaUIsR0FBRyxpQkFBaUIsSUFBSSxNQUFNLENBQUM7SUFDaEQsWUFBQSxrQkFBa0IsRUFBRSxVQUFVLENBQUMsb0JBQW9CLEVBQUUsa0JBQWtCLENBQUM7SUFDM0UsU0FBQTtJQUNELFFBQUEsd0JBQXdCLEVBQUU7Z0JBQ3RCLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUk7Z0JBQ3BELFVBQVUsRUFBRSxVQUFVLElBQUksS0FBSztJQUNsQyxTQUFBO0lBQ0QsUUFBQSwyQkFBMkIsRUFBRSxFQUFFLFNBQVMsRUFBRSxTQUFTLElBQUksS0FBSyxFQUFFO0lBQzlELFFBQUEsNkJBQTZCLEVBQUU7SUFDM0IsWUFBQSxRQUFRLEVBQUUsVUFBVSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUM7SUFDMUMsWUFBQSxXQUFXLEVBQUUsVUFBVSxDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUM7SUFDbkQsWUFBQSxnQkFBZ0IsRUFBRSxVQUFVLENBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUM7SUFDckUsU0FBQTtJQUNELFFBQUEsa0JBQWtCLEVBQUU7Z0JBQ2hCLGNBQWM7Z0JBQ2QsWUFBWTtnQkFDWixhQUFhO2dCQUNiLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUk7SUFDdkQsU0FBQTtJQUNELFFBQUEsd0JBQXdCLEVBQUU7Z0JBQ3RCLHNCQUFzQixFQUFFLHNCQUFzQixJQUFJLElBQUk7SUFDekQsU0FBQTtJQUNELFFBQUEsZUFBZSxFQUFFO2dCQUNiLFNBQVM7SUFDWixTQUFBO0lBQ0QsUUFBQSwrQkFBK0IsRUFBRTtJQUM3QixZQUFBLFFBQVEsRUFBRSxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQztJQUM3QyxTQUFBO0lBQ0QsUUFBQSwwQkFBMEIsRUFBRTtnQkFDeEIsT0FBTyxFQUFFLE9BQU8sSUFBSSxJQUFJO0lBQzNCLFNBQUE7SUFDRCxRQUFBLDJCQUEyQixFQUFFO2dCQUN6QixhQUFhLEVBQUUsYUFBYSxJQUFJLElBQUk7Z0JBQ3BDLGFBQWEsRUFBRSxhQUFhLElBQUksSUFBSTtJQUN2QyxTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7UUFFSDJFLENBQW1CLENBQUMsR0FBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUM7SUFFdEMsSUFBQSxRQUNJNkgsR0FBQyxDQUFBLGVBQWUsQ0FBQyxRQUFRLEVBQUEsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sWUFDeEMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFBLENBQ1UsRUFDOUI7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVJLE1BQU0sV0FBVyxHQUFHLGNBQWMsQ0FBQyxTQUFTLFlBQVksQ0FBd0QsRUFDbkgsS0FBSyxFQUNMLFFBQVEsRUFDUixnQkFBZ0IsRUFDaEIsWUFBWSxFQUNaLFFBQVEsRUFDUixNQUFNLEVBQ04sZUFBZSxFQUNmLGlCQUFpQixFQUNqQixXQUFXLEVBQ1gscUJBQXFCLEVBQ3JCLFFBQVEsRUFDUixhQUFhLEVBQ2IsZ0JBQWdCLEVBQ2hCLFlBQVksRUFDWixPQUFPLEVBQ1AsTUFBTSxFQUNxRyxFQUFFLEdBQWMsRUFBQTtJQUMzSCxJQUFBLE1BQU0sT0FBTyxHQUFJeEgsQ0FBVSxDQUFDLGVBQWUsQ0FBeUgsQ0FBQztRQUNySyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBcUQsbURBQUEsQ0FBQSxDQUFDLENBQUM7UUFDdkYsTUFBTSxJQUFJLEdBQUcsY0FBYyxDQUE2RjtJQUNwSCxRQUFBLDBCQUEwQixFQUFFO0lBQ3hCLFlBQUEsbUNBQW1DLEVBQUUsRUFBRTtnQkFDdkMsT0FBTztnQkFDUCxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtJQUNqQyxZQUFBLHFCQUFxQixFQUFFLEVBQUUsUUFBUSxFQUFFLFFBQVEsSUFBSSxJQUFJLEVBQUU7SUFDckQsWUFBQSw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxFQUFFO2dCQUMxRCx1QkFBdUIsRUFBRSxFQUFFLFlBQVksRUFBRTtJQUN6QyxZQUFBLDhCQUE4QixFQUFFLEVBQUUsUUFBUSxFQUFFLFFBQVEsSUFBSSxLQUFLLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxVQUFVLENBQUMsZUFBZSxFQUFFLGFBQWEsQ0FBQyxFQUFFO2dCQUN4SSxxQkFBcUIsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFO0lBQ3JFLFNBQUE7SUFDRCxRQUFBLDRCQUE0QixFQUFFO0lBQzFCLFlBQUEsMEJBQTBCLEVBQUU7SUFDeEIsZ0JBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO29CQUVsRSxlQUFlLEVBQUUsZUFBZSxJQUFJLE1BQU07b0JBQzFDLGlCQUFpQixFQUFFLGlCQUFpQixJQUFJLE1BQU07SUFDakQsYUFBQTtJQUNELFlBQUEsd0JBQXdCLEVBQUU7b0JBQ3RCLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUk7SUFDdkQsYUFBQTtJQUNELFlBQUEsNkJBQTZCLEVBQUU7SUFDM0IsZ0JBQUEsUUFBUSxFQUFFLFVBQVUsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDO0lBQzFDLGdCQUFBLFdBQVcsRUFBRSxVQUFVLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQztJQUNuRCxnQkFBQSxnQkFBZ0IsRUFBRSxVQUFVLENBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUM7SUFDckUsYUFBQTtJQUNKLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztRQUVITCxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsT0FBTzZILElBQUMsa0JBQWtCLENBQUMsUUFBUSxFQUFBLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLFlBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUErQixDQUFBO0lBQ3pHLENBQUMsQ0FBQyxDQUFBO0lBRUssTUFBTSxhQUFhLEdBQUcsY0FBYyxDQUFDLFNBQVMsYUFBYSxDQUE4QixFQUM1RixLQUFLLEVBQ0wsT0FBTyxFQUNQLFNBQVMsRUFDVCxNQUFNLEVBQ04sT0FBTyxFQUNQLFdBQVcsRUFDWCxNQUFNLEdBQ3VELEVBQUUsR0FBYyxFQUFBO0lBQzdFLElBQUEsTUFBTSxPQUFPLEdBQUl4SCxDQUFVLENBQUMsa0JBQWtCLENBQTRFLENBQUM7UUFDM0gsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksSUFBSSxFQUFFLENBQThGLDRGQUFBLENBQUEsQ0FBQyxDQUFDO1FBQ2hJLE1BQU0sZ0JBQWdCLEdBQUcsaUJBQWlCLENBQUMsQ0FBQyxDQUFjLEtBQVEsRUFBQSxDQUE0QixDQUFDLEtBQUssSUFBSSxDQUFBLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUNoSCxNQUFNLElBQUksR0FBRyxlQUFlLENBQTZDO1lBQ3JFLG9DQUFvQyxFQUFFLEVBQUUsU0FBUyxHQUFHLFNBQVMsSUFBSSxnQkFBZ0IsQ0FBQyxFQUFFO1lBQ3BGLE9BQU87SUFDUCxRQUFBLDRCQUE0QixFQUFFLEVBQUUsT0FBTyxFQUFFLE9BQU8sSUFBSSxDQUFDLEVBQUU7WUFDdkQscUJBQXFCLEVBQUUsRUFBRSxPQUFPLEVBQUUsVUFBVSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsRUFBRTtZQUNsRSxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtZQUNqQyxlQUFlLEVBQUUsRUFBRSxXQUFXLEVBQUU7SUFDaEMsUUFBQSw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxFQUFFO0lBQzdELEtBQUEsQ0FBQyxDQUFDO1FBRUhMLENBQW1CLENBQUMsR0FBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUM7SUFFdEMsSUFBQSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN4QixDQUFDLENBQUM7O0lDdEtjLFNBQUEsVUFBVSxDQUFxSSxFQUMzSiwwQkFBMEIsRUFDMUIsK0JBQStCLEVBQy9CLHdCQUF3QixFQUN4QiwwQkFBMEIsRUFDMUIsNkJBQTZCLEVBQzdCLDJCQUEyQixFQUMzQixlQUFlLEVBQ2YsMkJBQTJCLEVBQzNCLGlCQUFpQixFQUFFLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUscUJBQXFCLEVBQUUsRUFDdkIsRUFBQTtJQUNsRSxJQUFBLGtCQUFrQixDQUFDLFlBQVksRUFBRSxjQUFjLENBQUMsQ0FBQztRQUNqRCxNQUFNLEVBQ0YsVUFBVSxFQUFFLGNBQWMsRUFDMUIsVUFBVSxFQUFFLGVBQWUsRUFDM0IsbUJBQW1CLEVBQUUsRUFBRSxFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQ3JDLG1CQUFtQixFQUFFLEVBQUUsRUFBRSxFQUFFLFFBQVEsRUFBRSxFQUN4QyxHQUFHLGlCQUFpQixDQUE0QjtJQUM3QyxRQUFBLGVBQWUsRUFBRTtJQUNiLFlBQUEsR0FBRyxlQUFlO0lBQ2xCLFlBQUEsWUFBWSxFQUFFLGlCQUFpQixDQUFDLE1BQUs7b0JBQ2pDLG9CQUFvQixDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ3JDLGFBQUMsQ0FBQztJQUNMLFNBQUE7SUFDRCxRQUFBLHVCQUF1QixFQUFFLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7SUFDckQsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsWUFBWSxFQUFFO0lBQzdELEtBQUEsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxFQUNBLHVCQUF1QixFQUN2QixPQUFPLEVBQ1Asc0JBQXNCLEVBQ3RCLHFCQUFxQixFQUNyQixLQUFLLEVBQ0wsdUJBQXVCLEVBQ3ZCLDJCQUEyQixFQUMzQixvQkFBb0IsRUFDcEIsdUJBQXVCLEVBQ3ZCLHFCQUFxQixFQUNyQixzQkFBc0IsRUFDdEIseUJBQXlCLEVBQzVCLEdBQUcseUJBQXlCLENBQWtDO1lBQzNELDBCQUEwQjtZQUMxQiwrQkFBK0I7WUFDL0Isd0JBQXdCO0lBQ3hCLFFBQUEseUJBQXlCLEVBQUUsRUFBRSxzQkFBc0IsRUFBRSxhQUFhLEVBQUUscUJBQXFCLEVBQUU7WUFDM0YsMEJBQTBCO1lBQzFCLDJCQUEyQjtZQUMzQiw2QkFBNkI7WUFDN0IsMkJBQTJCO0lBQzlCLEtBQUEsQ0FBQyxDQUFDO1FBRWMsNkJBQTZCLENBQUM7WUFDM0Msb0NBQW9DLEVBQUUsRUFBRSxhQUFhLEVBQUU7SUFDdkQsUUFBQSxxQkFBcUIsRUFBRSxFQUFFLG1CQUFtQixFQUFFLHFCQUFxQixDQUFDLG1CQUFtQixFQUFFO0lBQzVGLEtBQUEsRUFBQztRQUVGLElBQUksWUFBWSxJQUFJLE9BQU87SUFDdkIsUUFBQSxLQUFLLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQzthQUNwQixJQUFJLFlBQVksSUFBSSxhQUFhLEVBQUU7O0lBRXBDLFFBQUEsS0FBSyxHQUFHLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxDQUFDOztZQUU1QixPQUFPLEdBQUcsSUFBSyxDQUFBO0lBQ2xCLEtBQUE7SUFDSSxTQUFBO0lBQ0QsUUFBQSxLQUFLLENBQUMsSUFBSSxHQUFHLFNBQVMsQ0FBQztJQUMxQixLQUFBO1FBRUQsSUFBSSxjQUFjLElBQUksT0FBTztZQUN6QixPQUFPLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLGdCQUFnQixFQUFFLElBQUksSUFBSSxDQUFDLENBQUE7UUFFcEUsT0FBTztZQUNILHVCQUF1QjtZQUN2QixPQUFPLEVBQUUsZUFBZSxDQUFDO0lBQ3JCLFlBQUEsR0FBRyxPQUFPO2dCQUNWLGNBQWMsRUFBRSxlQUFlLENBQUM7b0JBQzVCLGNBQWM7aUJBQ2pCLENBQUM7YUFDTCxDQUFDO1lBQ0Ysc0JBQXNCO1lBQ3RCLHVCQUF1QjtZQUN2QixxQkFBcUI7WUFDckIsMkJBQTJCO1lBQzNCLHVCQUF1QjtZQUN2QixvQkFBb0I7WUFDcEIscUJBQXFCO1lBQ3JCLHNCQUFzQjtZQUN0Qix5QkFBeUI7WUFDekIsWUFBWSxFQUFFLGNBQWMsQ0FBQyxLQUFLLEVBQUUsY0FBYyxFQUFFLEVBQUUsc0JBQXNCLEdBQUcsY0FBYyxJQUFJLE9BQU8sR0FBRyxNQUFNLEdBQUcsU0FBUyxDQUFDLEVBQUUsQ0FBQztJQUNqSSxRQUFBLGlCQUFpQixFQUFFLGVBQWU7U0FDckMsQ0FBQTtJQUNMLENBQUM7YUFFZSxjQUFjLENBQTBFLEVBQ3BHLHFDQUFxQyxFQUNyQyxPQUFPLEVBQUUsRUFBRSxjQUFjLEVBQUUsRUFBRSxjQUFjLEVBQUUsRUFBRSxHQUFHLE9BQU8sRUFBRSxFQUMzRCxzQkFBc0IsRUFDdEIsOEJBQThCLEVBQzlCLDZCQUE2QixFQUM3Qix1QkFBdUIsRUFDdkIscUJBQXFCLEVBQ3JCLGlCQUFpQixFQUFFLEVBQUUsUUFBUSxFQUFFLEVBQy9CLGVBQWUsRUFBRSxFQUFFLFdBQVcsRUFBRSxJQUFJLEVBQUUsR0FDSyxFQUFBO0lBQzNDLElBQUEsTUFBTSxFQUNGLHFCQUFxQixFQUNyQixrQkFBa0IsRUFDbEIsZUFBZSxFQUFFLEVBQUUsWUFBWSxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsRUFDckQsS0FBSyxFQUNMLG9CQUFvQixFQUNwQix5QkFBeUIsRUFDekIsb0JBQW9CLEVBQ3BCLDBCQUEwQixFQUMxQixnQkFBZ0IsRUFDbkIsR0FBRyw4QkFBOEIsQ0FBNEI7WUFDMUQscUNBQXFDO1lBQ3JDLHFCQUFxQjtZQUNyQixzQkFBc0I7WUFDdEIsOEJBQThCO1lBQzlCLDZCQUE2QjtZQUM3Qix1QkFBdUI7WUFDdkIsT0FBTztJQUNWLEtBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQSxNQUFNLEVBQUUsV0FBVyxFQUFFLEdBQUcsUUFBUSxDQUFrQjtZQUM5QyxnQkFBZ0IsRUFBRSxlQUFlLEVBQUU7SUFDL0IsWUFBQSxXQUFXLEVBQUUsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLEtBQUk7b0JBQ2pDLElBQUksY0FBYyxJQUFJLFFBQVE7SUFDMUIsb0JBQUEsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2YsZ0JBQUEsSUFBSSxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2QsYUFBQyxDQUFDO2dCQUNGLFlBQVk7Z0JBQ1osU0FBUyxFQUFFLENBQUMsSUFBSyxDQUE0QixFQUFFLEtBQUssSUFBSTtJQUMzRCxTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUE7UUFHRixJQUFJLGNBQWMsSUFBSSxRQUFRO0lBQzFCLFFBQUEsT0FBTyxDQUFDLE1BQU0sQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLENBQUM7SUFFckMsSUFBQSxLQUFLLENBQUMsSUFBSSxHQUFHLFFBQVEsQ0FBQztRQUV0QixPQUFPO1lBQ0gscUJBQXFCO1lBQ3JCLGtCQUFrQjtZQUNsQixXQUFXO1lBQ1gsZ0JBQWdCO1lBQ2hCLEtBQUssRUFBRSxjQUFjLENBQUMsS0FBSyxFQUFFLFdBQVcsQ0FBQyxhQUFhLENBQUM7WUFDdkQsb0JBQW9CO1lBQ3BCLHlCQUF5QjtZQUN6QiwwQkFBMEI7WUFDMUIsb0JBQW9CO1NBQ3ZCLENBQUE7SUFDTDs7SUNsTEEsTUFBTSxjQUFjLEdBQUczRSxHQUFhLENBQW1DLElBQUssQ0FBQyxDQUFDO0lBRTlFLE1BQU0sbUJBQW1CLEdBQUdBLEdBQWEsQ0FBa0QsSUFBSSxDQUFDLENBQUM7SUFDMUYsTUFBTSxjQUFjLEdBQUd5RyxDQUFJLENBQUMsU0FBUyxjQUFjLENBQStCLEVBQUUsU0FBUyxFQUFFLGNBQWMsRUFBRSxtQkFBbUIsRUFBRSxNQUFNLEVBQXNILEVBQUE7UUFFblEsTUFBTSxJQUFJLEdBQUcsVUFBVSxDQUE4QjtZQUNqRCxlQUFlLEVBQUUsRUFBRSxTQUFTLEVBQUU7SUFDOUIsUUFBQSwwQkFBMEIsRUFBRTtJQUN4QixZQUFBLGVBQWUsRUFBRSxhQUFhO0lBQzlCLFlBQUEsaUJBQWlCLEVBQUUsYUFBYTtnQkFDaEMsbUJBQW1CO0lBRW5CLFlBQUEsZ0JBQWdCLEVBQUUsS0FBSztJQUN2QixZQUFBLGtCQUFrQixFQUFFLElBQUk7SUFDeEIsWUFBQSxrQkFBa0IsRUFBRSxDQUFDO0lBQ3hCLFNBQUE7SUFDRCxRQUFBLDJCQUEyQixFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRTtZQUNqRCwyQkFBMkIsRUFBRSxFQUFFLGFBQWEsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRTtJQUN6RSxRQUFBLGlCQUFpQixFQUFFLEVBQUUsY0FBYyxFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBRSxxQkFBcUIsRUFBRSxJQUFJLEVBQUU7WUFDcEgsK0JBQStCLEVBQUUsRUFBRSxRQUFRLEVBQUUsVUFBVSxDQUFDLFVBQVUsRUFBRSxTQUFTLENBQUMsRUFBRTtZQUNoRix3QkFBd0IsRUFBRSxFQUFFLHFCQUFxQixFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsS0FBSyxFQUFFO0lBQzVFLFFBQUEsMEJBQTBCLEVBQUUsRUFBRSxPQUFPLEVBQUUsSUFBSSxFQUFFO0lBQzdDLFFBQUEsNkJBQTZCLEVBQUU7SUFDM0IsWUFBQSxRQUFRLEVBQUUsSUFBSTtJQUNkLFlBQUEsV0FBVyxFQUFFLElBQUk7SUFDakIsWUFBQSxnQkFBZ0IsRUFBRSxRQUFRO0lBQzdCLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxPQUFPLENBQUM7SUFDYixJQUFBLFFBQ0krRixHQUFDLENBQUEsbUJBQW1CLENBQUMsUUFBUSxJQUFDLEtBQUssRUFBRSxJQUFJLEVBQUEsUUFBQSxFQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBQSxDQUFnQyxFQUMxRjtJQUVOLENBQUMsQ0FBQyxDQUFBO0lBRUssTUFBTSxPQUFPLEdBQUcsY0FBYyxDQUFDLFNBQVMsT0FBTyxDQUE2RixFQUMvSSxTQUFTLEVBQ1QsUUFBUSxFQUNSLE9BQU8sRUFDUCxnQkFBZ0IsRUFDaEIsa0JBQWtCLEVBQ2xCLFFBQVEsRUFDUixhQUFhLEVBQ2IsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixtQkFBbUIsRUFDbkIsV0FBVyxFQUNYLHFCQUFxQixFQUNyQixxQkFBcUIsRUFDckIsU0FBUyxFQUNULGtCQUFrQixFQUNsQixhQUFhLEVBQ2IsYUFBYSxFQUNiLGNBQWMsRUFDZCxVQUFVLEVBQ1YsZ0JBQWdCLEVBQ2hCLE1BQU0sRUFDK0UsRUFBQTtJQUNyRixJQUFBLE1BQU0sZ0JBQWdCLEdBQUd4SCxDQUFVLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUN6RCxNQUFNLElBQUksR0FBRyxVQUFVLENBQTJFO1lBQzlGLGVBQWUsRUFBRSxFQUFFLFNBQVMsRUFBRTtJQUM5QixRQUFBLDJCQUEyQixFQUFFO2dCQUN6QixTQUFTLEVBQUUsU0FBUyxJQUFJLEtBQUs7SUFDaEMsU0FBQTtJQUNELFFBQUEsMEJBQTBCLEVBQUU7Z0JBQ3hCLGVBQWUsRUFBRSxlQUFlLElBQUksTUFBTTtnQkFDMUMsaUJBQWlCLEVBQUUsaUJBQWlCLElBQUksTUFBTTtnQkFDOUMsbUJBQW1CO0lBRW5CLFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ2xFLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO0lBQ3hFLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO0lBQzNFLFNBQUE7SUFDRCxRQUFBLDJCQUEyQixFQUFFO2dCQUN6QixhQUFhLEVBQUUsYUFBYSxJQUFJLElBQUk7Z0JBQ3BDLGFBQWEsRUFBRSxhQUFhLElBQUksSUFBSTtJQUN2QyxTQUFBO1lBQ0QsaUJBQWlCLEVBQUUsRUFBRSxjQUFjLEVBQUUsWUFBWSxFQUFFLGdCQUFnQixJQUFJLElBQUksR0FBRyxnQkFBZ0IsR0FBRyxPQUFPLEVBQUUsYUFBYSxFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUksRUFBRTtZQUMvSywrQkFBK0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxFQUFFO0lBQy9FLFFBQUEsd0JBQXdCLEVBQUUsRUFBRSxxQkFBcUIsRUFBRSxxQkFBcUIsSUFBSSxJQUFJLEVBQUUsVUFBVSxFQUFFLFVBQVUsSUFBSSxLQUFLLEVBQUU7SUFDbkgsUUFBQSwwQkFBMEIsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLElBQUksSUFBSSxFQUFFO0lBQ3hELFFBQUEsNkJBQTZCLEVBQUU7SUFDM0IsWUFBQSxRQUFRLEVBQUUsVUFBVSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUM7SUFDMUMsWUFBQSxXQUFXLEVBQUUsVUFBVSxDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUM7SUFDbkQsWUFBQSxnQkFBZ0IsRUFBRSxVQUFVLENBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUM7SUFDckUsU0FBQTtJQUNKLEtBQUEsQ0FBQyxDQUFDO0lBRUgsSUFBQSxRQUNJd0gsR0FBQyxDQUFBLGNBQWMsQ0FBQyxRQUFRLEVBQUEsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sWUFBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUEsQ0FBMkIsRUFDeEY7SUFDTixDQUFDLENBQUMsQ0FBQTtJQUVLLE1BQU0sV0FBVyxHQUFHLGNBQWMsQ0FBQyxTQUFTLFdBQVcsQ0FBcUMsRUFBRSxZQUFZLEVBQUUsUUFBUSxFQUFFLFNBQVMsRUFBRSxXQUFXLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUF5RSxFQUFBO0lBQy9SLElBQUEsTUFBTSxPQUFPLEdBQUd4SCxDQUFVLENBQUMsY0FBYyxDQUFnRixDQUFDO1FBQzFILE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLElBQUksRUFBRSxDQUFvRCxrREFBQSxDQUFBLENBQUMsQ0FBQztJQUN0RixJQUFBLE1BQU0sZ0JBQWdCLEdBQUdELEdBQVcsQ0FBQyxDQUFDLENBQU0sS0FBSSxFQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDdEUsTUFBTSxJQUFJLEdBQUcsY0FBYyxDQUFDO0lBQ3hCLFFBQUEscUNBQXFDLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxJQUFJLGdCQUFnQixFQUFFO1lBQ25GLE9BQU87SUFDUCxRQUFBLGlCQUFpQixFQUFFLEVBQUUsUUFBUSxFQUFFLFFBQVEsSUFBSSxJQUFJLEdBQUc7WUFDbEQsZUFBZSxFQUFFLEVBQUUsV0FBVyxFQUFFO1lBQ2hDLHNCQUFzQixFQUFFLEVBQUUsS0FBSyxFQUFFO0lBQ2pDLFFBQUEsNkJBQTZCLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxJQUFJLEtBQUssRUFBRTtJQUMxRCxRQUFBLHVCQUF1QixFQUFFLEVBQUUsWUFBWSxFQUFFLFlBQVksRUFBRTtZQUN2RCxxQkFBcUIsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFO0lBQ2xFLFFBQUEsOEJBQThCLEVBQUU7Z0JBQzVCLFFBQVEsRUFBRSxRQUFRLElBQUksS0FBSztnQkFDM0IsWUFBWTtJQUNaLFlBQUEsYUFBYSxFQUFFLFVBQVUsQ0FBQyxlQUFlLEVBQUUsYUFBYSxDQUFDO0lBQzVELFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDOztJQ3pIRixNQUFNLGVBQWUsR0FBRy9FLEdBQWEsQ0FBZ0MsSUFBSyxDQUFDLENBQUM7SUFFckUsTUFBTSxJQUFJLEdBQUcsY0FBYyxDQUFDLFNBQVMsSUFBSSxDQUE2SCxFQUd6SyxRQUFRLEVBQ1IsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixXQUFXLEVBQ1gsZ0JBQWdCLEVBQ2hCLFdBQVcsRUFFWCxPQUFPLEVBQ1AsSUFBSSxFQUVKLGFBQWEsRUFFYixxQkFBcUIsRUFDckIsZUFBZSxFQUNmLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsT0FBTyxFQUNQLFFBQVEsRUFDUixhQUFhLEVBQ2IsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixxQkFBcUIsRUFDckIsa0JBQWtCLEVBQ2xCLFdBQVcsRUFDWCxVQUFVLEVBQ1YsU0FBUyxFQUNULE1BQU0sRUFFTixTQUFTLEVBRVQsTUFBTSxFQUU4RCxFQUFFLEdBQWMsRUFBQTtJQUVwRixJQUFBLE1BQU0sa0JBQWtCLEdBQUdnRixDQUFVLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUMxRCxJQUFJLE9BQU8sR0FBRyxDQUFDLFdBQVcsSUFBSSxrQkFBa0IsSUFBSSxDQUFDLENBQUM7UUFFdEQsTUFBTSxJQUFJLEdBQUcsT0FBTyxDQUE2RDtJQUM3RSxRQUFBLDBCQUEwQixFQUFFO0lBQ3hCLFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ2xFLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO0lBQ3hFLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO2dCQUN4RSxlQUFlLEVBQUUsZUFBZSxJQUFJLE1BQU07Z0JBQzFDLGlCQUFpQixFQUFFLGlCQUFpQixJQUFJLE1BQU07SUFDakQsU0FBQTtJQUNELFFBQUEsMkJBQTJCLEVBQUU7Z0JBQ3pCLFNBQVMsRUFBRSxTQUFTLElBQUksS0FBSztJQUNoQyxTQUFBO0lBQ0QsUUFBQSxpQkFBaUIsRUFBRTtnQkFDZixlQUFlLEVBQUUsZUFBZSxJQUFJLElBQUk7Z0JBQ3hDLGFBQWEsRUFBRSxhQUFhLElBQUksSUFBSTtnQkFDcEMsZ0JBQWdCLEVBQUUsZ0JBQWdCLElBQUksSUFBSTtnQkFDMUMsT0FBTztnQkFDUCxJQUFJO0lBQ1AsU0FBQTtJQUNELFFBQUEsdUJBQXVCLEVBQUU7SUFDckIsWUFBQSxTQUFTLEVBQUUsVUFBVSxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUM7Z0JBQzdDLFdBQVcsRUFBRSxXQUFXLElBQUksa0JBQWtCO0lBQ2pELFNBQUE7WUFDRCwrQkFBK0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxFQUFFO0lBRS9FLFFBQUEsMEJBQTBCLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxJQUFJLElBQUksRUFBRTtJQUN4RCxRQUFBLGNBQWMsRUFBRSxFQUFFLGFBQWEsRUFBRSxNQUFNLEVBQUU7SUFDekMsUUFBQSxxQkFBcUIsRUFBRSxFQUFFO0lBQ3pCLFFBQUEsd0JBQXdCLEVBQUU7Z0JBQ3RCLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUk7Z0JBQ3BELFVBQVUsRUFBRSxVQUFVLElBQUksS0FBSztJQUNsQyxTQUFBO0lBQ0QsUUFBQSw2QkFBNkIsRUFBRTtJQUMzQixZQUFBLFFBQVEsRUFBRSxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQztJQUMxQyxZQUFBLFdBQVcsRUFBRSxVQUFVLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQztJQUNuRCxZQUFBLGdCQUFnQixFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsQ0FBQztJQUNyRSxTQUFBO0lBQ0QsUUFBQSxvQ0FBb0MsRUFBRSxFQUFFLGFBQWEsRUFBRSxhQUFhLElBQUksSUFBSSxFQUFFO1lBQzlFLGlCQUFpQixFQUFFLEVBQUUsV0FBVyxFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUksRUFBRTtJQUN4RixRQUFBLGlCQUFpQixFQUFFLEVBQUU7SUFDeEIsS0FBQSxDQUFDLENBQUM7UUFFSEwsQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUV0QyxJQUFBLFFBQ0k2SCxHQUFBLENBQUMsa0JBQWtCLENBQUMsUUFBUSxFQUFBLEVBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQSxRQUFBLEVBQ3ZDQSxHQUFDLENBQUEsZUFBZSxDQUFDLFFBQVEsRUFBQyxFQUFBLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxFQUN4QyxRQUFBLEVBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFBLENBQ1UsRUFDRCxDQUFBLEVBQ2pDO0lBQ0wsQ0FBQyxDQUFDLENBQUE7SUFHSyxNQUFNLFFBQVEsR0FBRyxjQUFjLENBQUMsU0FBUyxRQUFRLENBQWtDLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxhQUFhLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBa0MsRUFBRSxHQUFjLEVBQUE7SUFDdlAsSUFBQSxNQUFNLE9BQU8sR0FBR3hILENBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQztRQUM1QyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBc0Qsb0RBQUEsQ0FBQSxDQUFDLENBQUM7SUFDeEYsSUFBQSxNQUFNLGdCQUFnQixHQUFHRCxHQUFXLENBQUMsQ0FBQyxDQUF5QixLQUFNLENBQTRCLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDbEgsTUFBTSxJQUFJLEdBQUcsV0FBVyxDQUFrQjtJQUN0QyxRQUFBLHFDQUFxQyxFQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsSUFBSSxnQkFBZ0IsRUFBRTtZQUNuRixPQUFPO1lBQ1Asc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDakMsUUFBQSw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxFQUFFO1lBQzFELHVCQUF1QixFQUFFLEVBQUUsWUFBWSxFQUFFO1lBQ3pDLHFCQUFxQixFQUFFLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7SUFDbEUsUUFBQSxrQkFBa0IsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLElBQUksSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksVUFBVSxFQUFFO1lBQzFFLDhCQUE4QixFQUFFLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsUUFBUSxJQUFJLEtBQUssRUFBRTtJQUMvRixLQUFBLENBQUMsQ0FBQztRQUVISixDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO1FBRXRDLFFBQ0k2SCxxQkFBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUEsQ0FBSSxFQUN0QjtJQUNMLENBQUMsQ0FBQzs7SUN6R0ssTUFBTSxrQkFBa0IsR0FBR3hNLEdBQWEsQ0FBbUMsSUFBSyxDQUFDLENBQUM7SUFFbEUsY0FBYyxDQUFDLFNBQVMsUUFBUSxDQUErRixFQUNsSixNQUFNLEVBQ04sUUFBUSxFQUNSLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixrQkFBa0IsRUFDbEIsV0FBVyxFQUNYLFNBQVMsRUFDVCxXQUFXLEVBQ1gscUJBQXFCLEVBQ3JCLE9BQU8sRUFDUCxRQUFRLEVBQ1IsVUFBVSxFQUNWLGFBQWEsRUFDYixxQkFBcUIsRUFDckIsZ0JBQWdCLEVBQ2hCLElBQUksRUFDSixTQUFTLEVBQ2lGLEVBQUUsR0FBYyxFQUFBO1FBQzFHLE1BQU0sSUFBSSxHQUFHLFVBQVUsQ0FBK0M7SUFDbEUsUUFBQSwwQkFBMEIsRUFBRTtJQUN4QixZQUFBLGdCQUFnQixFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsQ0FBQztJQUNsRSxZQUFBLGtCQUFrQixFQUFFLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQztnQkFDeEUsZUFBZSxFQUFFLGVBQWUsSUFBSSxNQUFNO2dCQUMxQyxpQkFBaUIsRUFBRSxpQkFBaUIsSUFBSSxNQUFNO0lBQzlDLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO0lBQzNFLFNBQUE7WUFDRCxpQkFBaUIsRUFBRSxFQUFFLFdBQVcsRUFBRSxxQkFBcUIsRUFBRSxxQkFBcUIsSUFBSSxJQUFJLEVBQUU7SUFDeEYsUUFBQSx3QkFBd0IsRUFBRSxFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUksRUFBRSxVQUFVLEVBQUUsVUFBVSxJQUFJLEtBQUssRUFBRTtJQUNuSCxRQUFBLDZCQUE2QixFQUFFO0lBQzNCLFlBQUEsUUFBUSxFQUFFLFVBQVUsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDO0lBQzFDLFlBQUEsV0FBVyxFQUFFLFVBQVUsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDO0lBQ25ELFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ3JFLFNBQUE7WUFDRCwrQkFBK0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxFQUFFO0lBQy9FLFFBQUEsMkJBQTJCLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxJQUFJLEtBQUssRUFBRTtJQUM5RCxRQUFBLG9DQUFvQyxFQUFFLEVBQUUsYUFBYSxFQUFFLGFBQWEsSUFBSSxJQUFJLEVBQUU7SUFDOUUsUUFBQSwwQkFBMEIsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLElBQUksSUFBSSxFQUFFO0lBQ3hELFFBQUEsaUJBQWlCLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxJQUFJLFNBQVMsRUFBRTtZQUM5QyxlQUFlLEVBQUUsRUFBRSxTQUFTLEVBQUU7SUFDakMsS0FBQSxDQUFDLENBQUM7UUFFSDJFLENBQW1CLENBQUMsR0FBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUE7SUFFckMsSUFBQSxRQUNJNkgsR0FBQyxDQUFBLGtCQUFrQixDQUFDLFFBQVEsRUFBQSxFQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxZQUMzQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUEsQ0FDYSxFQUNqQztJQUNMLENBQUMsRUFBQztJQUd5QixjQUFjLENBQUMsU0FBUyxTQUFTLENBQWtDLEVBQzFGLEtBQUssRUFDTCxNQUFNLEVBQ04sWUFBWSxFQUNaLFNBQVMsRUFDVCxhQUFhLEVBQ2IsTUFBTSxFQUNOLE9BQU8sRUFDUCxRQUFRLEVBQ1IsT0FBTyxFQUNQLFlBQVksRUFDWixJQUFJLEdBQzRCLEVBQUUsR0FBYyxFQUFBO1FBQ2hELE1BQU0sT0FBTyxJQUFJeEgsQ0FBVSxDQUFDLGtCQUFrQixDQUFDLENBQUMsQ0FBQztRQUNqRCxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBc0Qsb0RBQUEsQ0FBQSxDQUFDLENBQUM7SUFDeEYsSUFBQSxNQUFNLGdCQUFnQixHQUFHRCxHQUFXLENBQUMsQ0FBQyxDQUF5QixLQUFNLENBQTRCLEVBQUUsS0FBSyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFFakgsTUFBTSxJQUFJLEdBQUcsZUFBZSxDQUFrQjtJQUMxQyxRQUFBLHFDQUFxQyxFQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsSUFBSSxnQkFBZ0IsRUFBRTtZQUNuRixPQUFPO1lBQ1Asc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDakMsUUFBQSw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxFQUFFO1lBQzFELHVCQUF1QixFQUFFLEVBQUUsWUFBWSxFQUFFO1lBQ3pDLHFCQUFxQixFQUFFLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7SUFDbEUsUUFBQSxrQkFBa0IsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLElBQUksSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLElBQUksVUFBVSxFQUFFO1lBQzFFLDhCQUE4QixFQUFFLEVBQUUsWUFBWSxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsUUFBUSxJQUFJLEtBQUssRUFBRTtJQUMvRixLQUFBLENBQUMsQ0FBQztRQUVISixDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO1FBRXRDLFFBQ0k2SCxxQkFBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUEsQ0FBSSxFQUN0QjtJQUNMLENBQUM7O0lDekd1QixjQUFjLENBQUMsU0FBUyxRQUFRLENBQWlFLEVBQUUsWUFBWSxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQWlELEVBQUUsR0FBYyxFQUFBO1FBQzlPLE1BQU0sSUFBSSxHQUFHLFdBQVcsQ0FBaUM7WUFDckQsZUFBZSxFQUFFLEVBQUUsU0FBUyxFQUFFO0lBQzlCLFFBQUEsMkJBQTJCLEVBQUU7Z0JBQ3pCLEdBQUcsRUFBRSxHQUFHLElBQUksR0FBRztnQkFDZixLQUFLLEVBQUUsS0FBSyxJQUFJLGVBQWU7Z0JBQy9CLFNBQVMsRUFBRSxTQUFTLElBQUksSUFBSTtnQkFDNUIsWUFBWTtJQUNmLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztRQUVIN0gsQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUV0QyxJQUFBLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUMsRUFBQztJQUVpQyxjQUFjLENBQUMsU0FBUyxtQkFBbUIsQ0FBeUYsRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQUUsWUFBWSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFvRixFQUFFLEdBQWMsRUFBQTtRQUNwVyxNQUFNLElBQUksR0FBRyxzQkFBc0IsQ0FBeUQ7WUFDeEYsc0JBQXNCLEVBQUUsRUFBRSxZQUFZLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUU7WUFDckUsZUFBZSxFQUFFLEVBQUUsU0FBUyxFQUFFO1lBQzlCLDJCQUEyQixFQUFFLEVBQUUsWUFBWSxFQUFFO0lBQzdDLFFBQUEsNkJBQTZCLEVBQUUsRUFBRSxlQUFlLEVBQUUsZUFBZSxJQUFJLEtBQUssRUFBRTtJQUMvRSxLQUFBLENBQUMsQ0FBQTtRQUVGQSxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsUUFBUSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUM7SUFDekIsQ0FBQzs7SUNkRCxNQUFNLFlBQVksR0FBRzNFLEdBQWEsQ0FBbUMsSUFBSyxDQUFDLENBQUM7SUFDckUsTUFBTSxVQUFVLEdBQUcsY0FBYyxDQUFDLFNBQVMsVUFBVSxDQUErSSxFQUN2TSxNQUFNLEVBQ04sSUFBSSxFQUNKLHFCQUFxQixFQUNyQixRQUFRLEVBQ1IsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixtQkFBbUIsRUFDbkIsV0FBVyxFQUNYLGdCQUFnQixFQUNoQixTQUFTLEVBQ1QsT0FBTyxFQUNQLFNBQVMsRUFDVCxRQUFRLEVBQ1IsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixhQUFhLEVBQ2IsVUFBVSxFQUNWLHFCQUFxQixFQUNyQixrQkFBa0IsR0FDc0QsRUFBRSxHQUFjLEVBQUE7UUFDeEYsTUFBTSxJQUFJLEdBQUcsYUFBYSxDQUEyRDtJQUNqRixRQUFBLDBCQUEwQixFQUFFO2dCQUN4QixtQkFBbUI7Z0JBQ25CLGVBQWUsRUFBRSxlQUFlLElBQUksTUFBTTtnQkFDMUMsaUJBQWlCLEVBQUUsaUJBQWlCLElBQUksTUFBTTtJQUM5QyxZQUFBLGdCQUFnQixFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsQ0FBQztJQUNsRSxZQUFBLGtCQUFrQixFQUFFLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQztJQUN4RSxZQUFBLGtCQUFrQixFQUFFLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQztJQUMzRSxTQUFBO0lBQ0QsUUFBQSwyQkFBMkIsRUFBRSxFQUFFLFNBQVMsRUFBRSxTQUFTLElBQUksS0FBSyxFQUFFO1lBQzlELGVBQWUsRUFBRSxFQUFFLFNBQVMsRUFBRTtZQUM5QiwrQkFBK0IsRUFBRSxFQUFFLFFBQVEsRUFBRSxVQUFVLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxFQUFFO0lBQy9FLFFBQUEsMEJBQTBCLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxJQUFJLElBQUksRUFBRTtJQUN4RCxRQUFBLG9CQUFvQixFQUFFLEVBQUUsSUFBSSxFQUFFLHFCQUFxQixFQUFFLGFBQWEsRUFBRTtJQUNwRSxRQUFBLHdCQUF3QixFQUFFO2dCQUN0QixxQkFBcUIsRUFBRSxxQkFBcUIsSUFBSSxJQUFJO2dCQUNwRCxVQUFVLEVBQUUsVUFBVSxJQUFJLEtBQUs7SUFDbEMsU0FBQTtJQUNELFFBQUEsNkJBQTZCLEVBQUU7SUFDM0IsWUFBQSxRQUFRLEVBQUUsVUFBVSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUM7SUFDMUMsWUFBQSxXQUFXLEVBQUUsVUFBVSxDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUM7SUFDbkQsWUFBQSxnQkFBZ0IsRUFBRSxVQUFVLENBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUM7SUFDckUsU0FBQTtJQUNKLEtBQUEsQ0FBQyxDQUFDO1FBRUgyRSxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsUUFDSTZILEdBQUMsQ0FBQSxZQUFZLENBQUMsUUFBUSxFQUFBLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLFlBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBQSxDQUNPLEVBQzNCO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSSxNQUFNLEtBQUssR0FBRyxjQUFjLENBQUMsU0FBUyxLQUFLLENBQWtILEVBQ2hLLFFBQVEsRUFDUixLQUFLLEVBQ0wsTUFBTSxFQUNOLEtBQUssRUFDTCxTQUFTLEVBQ1QsU0FBUyxFQUNULGFBQWEsRUFDYixNQUFNLEVBQ04sUUFBUSxFQUNSLFFBQVEsRUFDUixPQUFPLEVBQ3FDLEVBQUUsR0FBYyxFQUFBO0lBQzVELElBQUEsTUFBTSxPQUFPLEdBQUd4SCxDQUFVLENBQUMsWUFBWSxDQUFDLENBQUM7UUFDekMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksSUFBSSxFQUFFLENBQWlELCtDQUFBLENBQUEsQ0FBQyxDQUFDO0lBQ25GLElBQUEsTUFBTSxRQUFRLEdBQUcsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxJQUFJLENBQUMsa0JBQWtCLENBQUMsU0FBUyxFQUFFLENBQUM7UUFDbkUsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFvQztZQUNyRCxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtJQUNqQyxRQUFBLDZCQUE2QixFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sSUFBSSxLQUFLLEVBQUU7SUFDMUQsUUFBQSx1QkFBdUIsRUFBRSxFQUFFLFlBQVksRUFBRSxRQUFRLEVBQUU7WUFDbkQsZUFBZSxFQUFFLEVBQUUsS0FBSyxFQUFFO0lBQzFCLFFBQUEsc0JBQXNCLEVBQUUsRUFBRSxRQUFRLEVBQUUsUUFBUSxJQUFJLEtBQUssRUFBRTtJQUN2RCxRQUFBLHFDQUFxQyxFQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsSUFBSSxnQkFBZ0IsRUFBRTtZQUNuRixPQUFPO1lBQ1AsZUFBZSxFQUFFLEVBQUUsU0FBUyxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFO0lBQ2pFLFFBQUEsOEJBQThCLEVBQUUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxDQUFDLFFBQVEsRUFBRTtZQUN4RCxxQkFBcUIsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFVLENBQUMsU0FBUyxFQUFFLE9BQU8sQ0FBQyxFQUFFO0lBQ3JFLEtBQUEsQ0FBQyxDQUFDO1FBRUhMLENBQW1CLENBQUMsR0FBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUM7SUFFdEMsSUFBQSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN4QixDQUFDLENBQUM7O0lDbEhGLE1BQU0sa0JBQWtCLEdBQUczRSxHQUFhLENBQXFCLElBQUssQ0FBQyxDQUFDO0lBRTdELE1BQU0sTUFBTSxHQUFHLGNBQWMsQ0FBQyxTQUFTLE1BQU0sQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsd0JBQXdCLEVBQUUscUJBQXFCLEVBQUUsUUFBUSxFQUFlLEVBQUUsR0FBYyxFQUFBO1FBQ3JKLE1BQU0sSUFBSSxHQUFHLFNBQVMsQ0FBQztJQUNuQixRQUFBLHlCQUF5QixFQUFFLEVBQUUsd0JBQXdCLEVBQUUscUJBQXFCLEVBQUU7SUFDOUUsUUFBQSxnQkFBZ0IsRUFBRSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7SUFDakMsS0FBQSxDQUFDLENBQUM7UUFFSDJFLENBQW1CLENBQUMsR0FBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUM7SUFFdEMsSUFBQSxRQUNJNkgsR0FBQSxDQUFDLGtCQUFrQixDQUFDLFFBQVEsRUFBQyxFQUFBLEtBQUssRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFBLFFBQUEsRUFBRyxRQUFRLEVBQUEsQ0FBK0IsRUFDNUY7SUFDTixDQUFDLENBQUMsQ0FBQTtJQUVLLE1BQU0sV0FBVyxHQUFHLGNBQWMsQ0FBQyxTQUFTLFlBQVksQ0FBK0IsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLGFBQWEsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBa0MsRUFBRSxHQUFjLEVBQUE7SUFDbE4sSUFBQSxNQUFNLE9BQU8sR0FBSXhILENBQVUsQ0FBQyxrQkFBa0IsQ0FBb0MsQ0FBQztRQUNuRixPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBbUQsaURBQUEsQ0FBQSxDQUFDLENBQUM7UUFFckYsTUFBTSxJQUFJLEdBQUcsY0FBYyxDQUFDO1lBQ3hCLE9BQU87WUFDUCxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtJQUNqQyxRQUFBLHFCQUFxQixFQUFFLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxhQUFhLEVBQUUsU0FBUyxFQUFFO0lBQ25GLEtBQUEsQ0FBQyxDQUFDO1FBRUhMLENBQW1CLENBQUMsR0FBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUM7SUFFdEMsSUFBQSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN4QixDQUFDLENBQUM7O0lDMkJGLE1BQU0sWUFBWSxHQUFHM0UsR0FBYSxDQUFrQixJQUFLLENBQUMsQ0FBQztJQUMzRCxNQUFNLG1CQUFtQixHQUFHQSxHQUFhLENBQW9GLElBQUssQ0FBQyxDQUFDO0lBQ3BJLE1BQU0sZUFBZSxHQUFHQSxHQUFhLENBQW1ELElBQUssQ0FBQyxDQUFDO0lBRXhGLE1BQU0sS0FBSyxHQUFHLGNBQWMsQ0FBQyxTQUFTLE1BQU0sQ0FBNkQsRUFDNUcsU0FBUyxFQUNULGNBQWMsRUFDZCxRQUFRLEVBQ1IsTUFBTSxFQUMrQixFQUFFLEdBQWMsRUFBQTtRQUNyRCxNQUFNLElBQUksR0FBRyxRQUFRLENBQTZCO1lBQzlDLGVBQWUsRUFBRSxFQUFFLFNBQVMsRUFBRTtJQUM5QixRQUFBLGVBQWUsRUFBRSxFQUFFLGNBQWMsRUFBRSxRQUFRLEVBQUU7SUFDaEQsS0FBQSxDQUFDLENBQUM7UUFFSDJFLENBQW1CLENBQUMsR0FBSSxFQUFFLE1BQU0sSUFBSSxDQUFDLENBQUM7SUFFdEMsSUFBQSxPQUFPNkgsSUFBQyxZQUFZLENBQUMsUUFBUSxFQUFBLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLFlBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUF5QixDQUFBO0lBQzdGLENBQUMsQ0FBQyxDQUFBO0lBRUssTUFBTSxZQUFZLEdBQUcsY0FBYyxDQUFDLFNBQVMsWUFBWSxDQUEwRixFQUN0SixnQkFBZ0IsRUFDaEIsa0JBQWtCLEVBQ2xCLFFBQVEsRUFDUixzQkFBc0IsRUFDdEIsVUFBVSxFQUNWLGVBQWUsRUFDZixpQkFBaUIsRUFDakIscUJBQXFCLEVBQ3JCLHNCQUFzQixFQUN0QixxQkFBcUIsRUFDckIsa0JBQWtCLEVBQ2xCLGFBQWEsRUFDYixhQUFhLEVBQ2IsU0FBUyxFQUNULE1BQU0sRUFDTixRQUFRLEVBQ1IsZUFBZSxFQUM2RyxFQUFBO1FBQzVILE1BQU0sSUFBSSxHQUFHLGVBQWUsQ0FBNkc7SUFDckksUUFBQSx3QkFBd0IsRUFBRSxFQUFFLHNCQUFzQixFQUFFLHNCQUFzQixJQUFJLElBQUksRUFBRTtJQUNwRixRQUFBLDJCQUEyQixFQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsSUFBSSxLQUFLLEVBQUU7SUFDOUQsUUFBQSwwQkFBMEIsRUFBRTtJQUN4QixZQUFBLGdCQUFnQixFQUFFLFVBQVUsQ0FBQyxrQkFBa0IsRUFBRSxnQkFBZ0IsQ0FBQztJQUNsRSxZQUFBLGtCQUFrQixFQUFFLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQztnQkFDeEUsZUFBZSxFQUFFLGVBQWUsSUFBSSxNQUFNO2dCQUMxQyxpQkFBaUIsRUFBRSxpQkFBaUIsSUFBSSxNQUFNO0lBQzlDLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO0lBQzNFLFNBQUE7SUFDRCxRQUFBLDJCQUEyQixFQUFFO2dCQUN6QixhQUFhLEVBQUUsYUFBYSxJQUFJLElBQUk7Z0JBQ3BDLGFBQWEsRUFBRSxhQUFhLElBQUksSUFBSTtJQUN2QyxTQUFBO1lBQ0QsK0JBQStCLEVBQUUsRUFBRSxRQUFRLEVBQUUsVUFBVSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUMsRUFBRTtJQUMvRSxRQUFBLHdCQUF3QixFQUFFLEVBQUUscUJBQXFCLEVBQUUscUJBQXFCLElBQUksSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLElBQUksS0FBSyxFQUFFO0lBQ25ILFFBQUEseUJBQXlCLEVBQUUsRUFBRSxzQkFBc0IsRUFBRSxzQkFBc0IsSUFBSSxJQUFJLEVBQUUscUJBQXFCLEVBQUUscUJBQXFCLElBQUksSUFBSSxFQUFFO0lBQzNJLFFBQUEsT0FBTyxFQUFFeEgsQ0FBVSxDQUFDLFlBQVksQ0FBQztJQUNqQyxRQUFBLHNCQUFzQixFQUFFLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRTtJQUN4RCxLQUFBLENBQUMsQ0FBQTtJQUVGLElBQUEsUUFDSXdILEdBQUMsQ0FBQSxtQkFBbUIsQ0FBQyxRQUFRLEVBQUEsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sWUFDNUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFBLENBQ2MsRUFDbEM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVJLE1BQU0sUUFBUSxHQUFHLGNBQWMsQ0FBQyxTQUFTLFNBQVMsQ0FBd0QsRUFDN0csS0FBSyxFQUNMLE9BQU8sRUFDUCxXQUFXLEVBQ1gsZ0JBQWdCLEVBQ2hCLGtCQUFrQixFQUNsQixxQkFBcUIsRUFDckIsWUFBWSxFQUNaLFFBQVEsRUFDUixlQUFlLEVBQ2YsaUJBQWlCLEVBQ2pCLFFBQVEsRUFDUixhQUFhLEVBQ2IsTUFBTSxFQUVOLE1BQU0sRUFDNEYsRUFBRSxHQUFjLEVBQUE7SUFDbEgsSUFBQSxNQUFNLEdBQUcsR0FBR3hILENBQVUsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQzVDLE9BQU8sQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFzRCxvREFBQSxDQUFBLENBQUMsQ0FBQztRQUNwRixNQUFNLElBQUksR0FBRyxXQUFXLENBQXVGO0lBQzNHLFFBQUEsMEJBQTBCLEVBQUU7SUFDeEIsWUFBQSxtQ0FBbUMsRUFBRSxFQUFFO0lBQ3ZDLFlBQUEsT0FBTyxFQUFFLEdBQUc7Z0JBQ1osc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDakMsWUFBQSw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxFQUFFO0lBQzFELFlBQUEsOEJBQThCLEVBQUU7b0JBQzVCLFlBQVk7SUFDWixnQkFBQSxhQUFhLEVBQUUsVUFBVSxDQUFDLGVBQWUsRUFBRSxhQUFhLENBQUM7b0JBQ3pELFFBQVEsRUFBRSxRQUFRLElBQUksS0FBSztJQUM5QixhQUFBO0lBQ0QsWUFBQSxxQkFBcUIsRUFBRTtJQUNuQixnQkFBQSxPQUFPLEVBQUUsVUFBVSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUM7SUFDMUMsYUFBQTtJQUNKLFNBQUE7SUFDRCxRQUFBLDRCQUE0QixFQUFFO0lBQzFCLFlBQUEsMEJBQTBCLEVBQUU7SUFDeEIsZ0JBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ2xFLGdCQUFBLGtCQUFrQixFQUFFLFVBQVUsQ0FBQyxvQkFBb0IsRUFBRSxrQkFBa0IsQ0FBQztvQkFDeEUsZUFBZSxFQUFFLGVBQWUsSUFBSSxNQUFNO29CQUMxQyxpQkFBaUIsRUFBRSxpQkFBaUIsSUFBSSxNQUFNO0lBQ2pELGFBQUE7SUFDRCxZQUFBLHdCQUF3QixFQUFFLEVBQUUscUJBQXFCLEVBQUUscUJBQXFCLElBQUksSUFBSSxFQUFFO0lBQ3JGLFNBQUE7SUFDRCxRQUFBLGtCQUFrQixFQUFFO2dCQUNoQixRQUFRLEVBQUUsUUFBUSxJQUFJLElBQUk7Z0JBQzFCLFdBQVc7SUFDZCxTQUFBO0lBQ0osS0FBQSxDQUFDLENBQUM7UUFFSEwsQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUV0QyxJQUFBLE9BQU82SCxJQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUEsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE9BQU8sWUFBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQTRCLENBQUE7SUFDbkcsQ0FBQyxDQUFDLENBQUE7SUFFSyxNQUFNLFNBQVMsR0FBRyxjQUFjLENBQUMsU0FBUyxTQUFTLENBQThCLEVBQ3BGLEtBQUssRUFDTCxPQUFPLEVBQ1AsU0FBUyxFQUNULE1BQU0sRUFDTixZQUFZLEVBQ1osTUFBTSxFQUNOLE9BQU8sRUFDUCxZQUFZLEVBQzBDLEVBQUUsR0FBYyxFQUFBO0lBQ3RFLElBQUEsTUFBTSxPQUFPLEdBQUl4SCxDQUFVLENBQUMsZUFBZSxDQUFzRSxDQUFDO1FBQ2xILE9BQU8sQ0FBQyxNQUFNLENBQUMsT0FBTyxJQUFJLElBQUksRUFBRSxDQUFtRCxpREFBQSxDQUFBLENBQUMsQ0FBQztRQUNyRixNQUFNLGdCQUFnQixHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBYyxLQUFRLEVBQUEsQ0FBNEIsQ0FBQyxLQUFLLElBQUksQ0FBQSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDaEgsTUFBTSxJQUFJLEdBQUcsWUFBWSxDQUEwQztZQUMvRCxvQ0FBb0MsRUFBRSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsU0FBUyxJQUFJLGdCQUFnQixFQUFFO1lBQ2hHLE9BQU87SUFDUCxRQUFBLDRCQUE0QixFQUFFLEVBQUUsT0FBTyxFQUFFLE9BQU8sSUFBSSxDQUFDLEVBQUU7WUFDdkQsc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDakMsUUFBQSw2QkFBNkIsRUFBRSxFQUFFLE1BQU0sRUFBRSxNQUFNLElBQUksS0FBSyxFQUFFO1lBQzFELG1CQUFtQixFQUFFLEVBQUUsWUFBWSxFQUFFO1lBQ3JDLHFCQUFxQixFQUFFLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7SUFDckUsS0FBQSxDQUFDLENBQUM7UUFFSEwsQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztJQUV0QyxJQUFBLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCLENBQUMsQ0FBQzs7SUM3S0YsTUFBTSxXQUFXLEdBQUczRSxHQUFhLENBQTZCLElBQUssQ0FBQyxDQUFDO0lBQ3JFLE1BQU0sZ0JBQWdCLEdBQUdBLEdBQWEsQ0FBd0IsSUFBSyxDQUFDLENBQUM7SUFFOUQsTUFBTSxJQUFJLEdBQUcsY0FBYyxDQUFDLFNBQVMsSUFBSSxDQUFtRyxFQUMvSSxTQUFTLEVBQ1QsUUFBUSxFQUNSLE9BQU8sRUFDUCxnQkFBZ0IsRUFDaEIsa0JBQWtCLEVBQ2xCLFFBQVEsRUFDUixzQkFBc0IsRUFDdEIsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixXQUFXLEVBQ1gscUJBQXFCLEVBQ3JCLHFCQUFxQixFQUNyQixXQUFXLEVBQ1gsU0FBUyxFQUNULGtCQUFrQixFQUNsQixlQUFlO0lBQ2Y7SUFDQSxVQUFVLEVBQ1YsZ0JBQWdCLEVBQ2hCLElBQUksRUFDSixNQUFNLEVBQ29ELEVBQUUsR0FBYyxFQUFBO1FBQzFFLE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBbUQ7WUFDbkUsZUFBZSxFQUFFLEVBQUUsU0FBUyxFQUFFO0lBQzlCLFFBQUEsMkJBQTJCLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxJQUFJLEtBQUssRUFBRTtJQUM5RCxRQUFBLDBCQUEwQixFQUFFO0lBQ3hCLFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ2xFLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO2dCQUN4RSxlQUFlLEVBQUUsZUFBZSxJQUFJLE1BQU07Z0JBQzFDLGlCQUFpQixFQUFFLGlCQUFpQixJQUFJLE1BQU07SUFDOUMsWUFBQSxrQkFBa0IsRUFBRSxVQUFVLENBQUMsb0JBQW9CLEVBQUUsa0JBQWtCLENBQUM7SUFDM0UsU0FBQTtZQUNELCtCQUErQixFQUFFLEVBQUUsUUFBUSxFQUFFLFVBQVUsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLEVBQUU7SUFDL0UsUUFBQSx3QkFBd0IsRUFBRTtnQkFDdEIscUJBQXFCLEVBQUUscUJBQXFCLElBQUksSUFBSTtnQkFDcEQsVUFBVSxFQUFFLFVBQVUsSUFBSSxLQUFLO0lBQ2xDLFNBQUE7SUFDRCxRQUFBLHlCQUF5QixFQUFFLEVBQUUsc0JBQXNCLEVBQUUsc0JBQXNCLElBQUksQ0FBQyxFQUFFLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUksRUFBRTtJQUN4SSxRQUFBLDBCQUEwQixFQUFFLEVBQUUsT0FBTyxFQUFFLE9BQU8sSUFBSSxJQUFJLEVBQUU7WUFDeEQsY0FBYyxFQUFFLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxlQUFlLEVBQUUsZUFBZSxJQUFJLElBQUksRUFBRTtJQUMvRSxRQUFBLDZCQUE2QixFQUFFO0lBQzNCLFlBQUEsUUFBUSxFQUFFLFVBQVUsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDO0lBQzFDLFlBQUEsV0FBVyxFQUFFLFVBQVUsQ0FBQyxhQUFhLEVBQUUsV0FBVyxDQUFDO0lBQ25ELFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ3JFLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztJQUVILElBQUEsTUFBTSxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFFNUMyRSxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO1FBR3RDLFFBQ0k2SCxHQUFDLENBQUEsV0FBVyxDQUFDLFFBQVEsRUFBQyxFQUFBLEtBQUssRUFBRSxXQUFXLEVBQ3BDLFFBQUEsRUFBQUEsR0FBQSxDQUFDLGdCQUFnQixDQUFDLFFBQVEsRUFBQyxFQUFBLEtBQUssRUFBRSxhQUFhLEVBQzFDLFFBQUEsRUFBQSxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUEsQ0FDVyxFQUNULENBQUEsRUFDMUI7SUFDTCxDQUFDLENBQUMsQ0FBQTtJQUVLLE1BQU0sR0FBRyxHQUFHLGNBQWMsQ0FBQyxTQUFTLEdBQUcsQ0FBb0IsRUFDOUQsUUFBUSxFQUNSLFNBQVMsRUFDVCxNQUFNLEVBQ04sS0FBSyxFQUNMLE9BQU8sRUFDUCxZQUFZLEVBQ1osTUFBTSxFQUNJLEVBQUUsR0FBYyxFQUFBO0lBQzFCLElBQUEsTUFBTSxPQUFPLEdBQUd4SCxDQUFVLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDeEMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksSUFBSSxFQUFFLENBQW1ELGlEQUFBLENBQUEsQ0FBQyxDQUFDO0lBQ3JGLElBQUEsTUFBTSxnQkFBZ0IsR0FBR0QsR0FBVyxDQUFDLENBQUMsQ0FBTSxLQUFJLEVBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN0RSxNQUFNLElBQUksR0FBRyxNQUFNLENBQUk7SUFDbkIsUUFBQSxxQ0FBcUMsRUFBRSxFQUFFLFNBQVMsRUFBRSxTQUFTLElBQUksZ0JBQWdCLEVBQUU7WUFDbkYsT0FBTztJQUNQLFFBQUEsNkJBQTZCLEVBQUUsRUFBRSxNQUFNLEVBQUUsTUFBTSxJQUFJLEtBQUssRUFBRTtZQUMxRCx1QkFBdUIsRUFBRSxFQUFFLFlBQVksRUFBRTtZQUN6QyxzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtZQUNqQyw4QkFBOEIsRUFBRSxFQUFFLFFBQVEsRUFBRSxRQUFRLElBQUksS0FBSyxFQUFFLGFBQWEsRUFBRSxPQUFPLEVBQUU7WUFDdkYscUJBQXFCLEVBQUUsRUFBRSxPQUFPLEVBQUUsVUFBVSxDQUFDLFNBQVMsRUFBRSxPQUFPLENBQUMsRUFBRTtJQUNyRSxLQUFBLENBQUMsQ0FBQztRQUNISixDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBQ3RDLElBQUEsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDLENBQUE7YUFFYyxRQUFRLENBQW9CLEVBQ3hDLEtBQUssRUFDTCxNQUFNLEVBQ1MsRUFBQTtJQUNmLElBQUEsTUFBTSxPQUFPLEdBQUdLLENBQVUsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBQzdDLE1BQU0sSUFBSSxHQUFHLFdBQVcsQ0FBSTtZQUN4QixPQUFPO1lBQ1Asc0JBQXNCLEVBQUUsRUFBRSxLQUFLLEVBQUU7SUFDcEMsS0FBQSxDQUFDLENBQUM7SUFDSCxJQUFBLE9BQU8sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hCOztJQy9IQSxNQUFNLFlBQVksR0FBR2hGLEdBQWEsQ0FBMkIsSUFBSyxDQUFDLENBQUM7SUFFN0QsTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLFNBQVMsTUFBTSxDQUFnQyxFQUFFLHdCQUF3QixFQUFFLHFCQUFxQixFQUFFLE1BQU0sRUFBRSxZQUFZLEVBQThCLEVBQUUsR0FBYyxFQUFBO1FBQ3JNLE1BQU0sSUFBSSxHQUFHLFNBQVMsQ0FBZ0IsRUFBRSx5QkFBeUIsRUFBRSxFQUFFLHdCQUF3QixFQUFFLHFCQUFxQixFQUFFLEVBQUUsZ0JBQWdCLEVBQUUsRUFBRSxZQUFZLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFOUoyRSxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsUUFDSTZILEdBQUMsQ0FBQSxZQUFZLENBQUMsUUFBUSxFQUFBLEVBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxPQUFPLFlBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBQSxDQUNPLEVBQzFCO0lBQ04sQ0FBQyxDQUFDLENBQUE7SUFFSyxNQUFNLEtBQUssR0FBRyxjQUFjLENBQUMsU0FBUyxLQUFLLENBQW9CLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBaUIsRUFBRSxHQUFjLEVBQUE7SUFDakosSUFBQSxNQUFNLE9BQU8sR0FBSXhILENBQVUsQ0FBQyxZQUFZLENBQThCLENBQUE7UUFDdEUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksSUFBSSxFQUFFLENBQXNELG9EQUFBLENBQUEsQ0FBQyxDQUFDO1FBQ3hGLE1BQU0sSUFBSSxHQUFHLFFBQVEsQ0FBSTtZQUNyQixzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtJQUNqQyxRQUFBLGVBQWUsRUFBRSxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFO1lBQ2xELE9BQU87SUFDVixLQUFBLENBQUMsQ0FBQztRQUVITCxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEIsQ0FBQyxDQUFDOztJQ0ZGLE1BQU0sY0FBYyxHQUFHM0UsR0FBYSxDQUFtQyxJQUFLLENBQUMsQ0FBQztJQUV2RSxNQUFNLE9BQU8sR0FBRyxjQUFjLENBQUMsU0FBUyxRQUFRLENBQStGLEVBQ2xKLE1BQU0sRUFDTixJQUFJLEVBQ0osUUFBUSxFQUNSLGdCQUFnQixFQUNoQixrQkFBa0IsRUFDbEIsVUFBVSxFQUNWLE9BQU8sRUFDUCxRQUFRLEVBQ1IsZUFBZSxFQUNmLGlCQUFpQixFQUNqQixrQkFBa0IsRUFDbEIsYUFBYSxFQUNiLHFCQUFxQixFQUNyQixXQUFXLEVBQ1gsV0FBVyxFQUNYLHFCQUFxQixFQUNyQixnQkFBZ0IsRUFDaEIsU0FBUyxFQUNULFNBQVMsRUFDaUYsRUFBRSxHQUFjLEVBQUE7UUFDMUcsTUFBTSxpQkFBaUIsR0FBRyxVQUFVLENBQStDO1lBQy9FLCtCQUErQixFQUFFLEVBQUUsUUFBUSxFQUFFLFVBQVUsQ0FBQyxVQUFVLEVBQUUsUUFBUSxDQUFDLEVBQUU7SUFDL0UsUUFBQSxvQ0FBb0MsRUFBRSxFQUFFLGFBQWEsRUFBRSxhQUFhLElBQUksSUFBSSxFQUFFO0lBQzlFLFFBQUEsMEJBQTBCLEVBQUUsRUFBRSxPQUFPLEVBQUUsT0FBTyxJQUFJLElBQUksRUFBRTtJQUN4RCxRQUFBLDBCQUEwQixFQUFFO0lBQ3hCLFlBQUEsZ0JBQWdCLEVBQUUsVUFBVSxDQUFDLGtCQUFrQixFQUFFLGdCQUFnQixDQUFDO0lBQ2xFLFlBQUEsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDO2dCQUN4RSxlQUFlLEVBQUUsZUFBZSxJQUFJLE1BQU07Z0JBQzFDLGlCQUFpQixFQUFFLGlCQUFpQixJQUFJLE1BQU07SUFDOUMsWUFBQSxrQkFBa0IsRUFBRSxVQUFVLENBQUMsb0JBQW9CLEVBQUUsa0JBQWtCLENBQUM7SUFDM0UsU0FBQTtJQUNELFFBQUEsaUJBQWlCLEVBQUU7Z0JBQ2YsV0FBVztnQkFDWCxJQUFJLEVBQUUsSUFBSSxJQUFJLFNBQVM7Z0JBQ3ZCLHFCQUFxQixFQUFFLHFCQUFxQixJQUFJLElBQUk7SUFDdkQsU0FBQTtJQUNELFFBQUEsMkJBQTJCLEVBQUUsRUFBRSxTQUFTLEVBQUUsU0FBUyxJQUFJLEtBQUssRUFBRTtJQUM5RCxRQUFBLHdCQUF3QixFQUFFLEVBQUUscUJBQXFCLEVBQUUscUJBQXFCLElBQUksSUFBSSxFQUFFLFVBQVUsRUFBRSxVQUFVLElBQUksS0FBSyxFQUFFO0lBQ25ILFFBQUEsNkJBQTZCLEVBQUU7SUFDM0IsWUFBQSxRQUFRLEVBQUUsVUFBVSxDQUFDLFVBQVUsRUFBRSxRQUFRLENBQUM7SUFDMUMsWUFBQSxXQUFXLEVBQUUsVUFBVSxDQUFDLGFBQWEsRUFBRSxXQUFXLENBQUM7SUFDbkQsWUFBQSxnQkFBZ0IsRUFBRSxVQUFVLENBQUMsa0JBQWtCLEVBQUUsZ0JBQWdCLENBQUM7SUFDckUsU0FBQTtZQUNELGVBQWUsRUFBRSxFQUFFLFNBQVMsRUFBRTtJQUNqQyxLQUFBLENBQUMsQ0FBQztRQUVIMkUsQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQyxDQUFDO0lBRW5ELElBQUEsUUFDSTZILEdBQUMsQ0FBQSxjQUFjLENBQUMsUUFBUSxFQUFBLEVBQUMsS0FBSyxFQUFFLGlCQUFpQixDQUFDLE9BQU8sWUFDcEQsTUFBTSxDQUFDLGlCQUFpQixDQUFDLEVBQUEsQ0FDSixFQUM3QjtJQUNMLENBQUMsQ0FBQyxDQUFBO0lBR0ssTUFBTSxZQUFZLEdBQUcsY0FBYyxDQUFDLFNBQVMsYUFBYSxDQUFzQyxFQUNuRyxLQUFLLEVBQ0wsTUFBTSxFQUNOLFlBQVksRUFDWixRQUFRLEVBQ1IsYUFBYSxFQUNiLFNBQVMsRUFDVCxZQUFZLEVBQ1osTUFBTSxFQUNOLE9BQU8sRUFDc0UsRUFBRSxHQUFjLEVBQUE7SUFDN0YsSUFBQSxNQUFNLE9BQU8sR0FBSXhILENBQVUsQ0FBQyxjQUFjLENBQXlGLENBQUM7UUFDcEksT0FBTyxDQUFDLE1BQU0sQ0FBQyxPQUFPLElBQUksSUFBSSxFQUFFLENBQXFELG1EQUFBLENBQUEsQ0FBQyxDQUFDO0lBQ3ZGLElBQUEsTUFBTSxnQkFBZ0IsR0FBR0QsR0FBVyxDQUFDLENBQUMsQ0FBTSxLQUFJLEVBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUV0RSxNQUFNLElBQUksR0FBRyxlQUFlLENBQXNCO1lBQzlDLE9BQU87SUFDUCxRQUFBLHFDQUFxQyxFQUFFLEVBQUUsU0FBUyxFQUFFLFNBQVMsSUFBSSxnQkFBZ0IsRUFBRTtZQUNuRixzQkFBc0IsRUFBRSxFQUFFLEtBQUssRUFBRTtJQUNqQyxRQUFBLDZCQUE2QixFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sSUFBSSxLQUFLLEVBQUU7WUFDMUQsdUJBQXVCLEVBQUUsRUFBRSxZQUFZLEVBQUU7WUFDekMsOEJBQThCLEVBQUUsRUFBRSxZQUFZLEVBQUUsYUFBYSxFQUFFLFFBQVEsRUFBRSxRQUFRLElBQUksS0FBSyxFQUFFO1lBQzVGLHFCQUFxQixFQUFFLEVBQUUsT0FBTyxFQUFFLFVBQVUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLEVBQUU7SUFDckUsS0FBQSxDQUFDLENBQUM7UUFFSEosQ0FBbUIsQ0FBQyxHQUFJLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztRQUV0QyxRQUNJNkgscUJBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFBLENBQUksRUFDdEI7SUFDTCxDQUFDLENBQUM7O0lDckhLLE1BQU0sT0FBTyxHQUFHLGNBQWMsQ0FBQyxTQUFTLFFBQVEsQ0FBeUQsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUUsbUJBQW1CLEVBQXdDLEVBQUUsR0FBYyxFQUFBO0lBRW5PLElBQUEsTUFBTSxrQkFBa0IsR0FBR3hILENBQVUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQzFELElBQUksT0FBTyxHQUFHLENBQUMsV0FBVyxJQUFJLGtCQUFrQixJQUFJLENBQUMsQ0FBQztRQUV0RCxNQUFNLElBQUksR0FBRyxVQUFVLENBQXlCO0lBQzVDLFFBQUEsdUJBQXVCLEVBQUU7SUFDckIsWUFBQSxTQUFTLEVBQUUsVUFBVSxDQUFDLFdBQVcsRUFBRSxTQUFTLENBQUM7Z0JBQzdDLFdBQVcsRUFBRSxXQUFXLElBQUksa0JBQWtCO0lBQ2pELFNBQUE7SUFDRCxRQUFBLGlCQUFpQixFQUFFO2dCQUNmLFFBQVE7Z0JBQ1IsbUJBQW1CO0lBQ3RCLFNBQUE7SUFDSixLQUFBLENBQUMsQ0FBQztRQUVITCxDQUFtQixDQUFDLEdBQUksRUFBRSxNQUFNLElBQUksQ0FBQyxDQUFDO0lBRXRDLElBQUEsUUFDSTZILEdBQUMsQ0FBQSxrQkFBa0IsQ0FBQyxRQUFRLElBQUMsS0FBSyxFQUFFLE9BQU8sRUFBQSxRQUFBLEVBQ3RDLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBQSxDQUNhLEVBQ2hDO0lBQ04sQ0FBQyxDQUFDOztJQy9CRixTQUFTLGFBQWEsQ0FBQyxFQUFFLFFBQVEsRUFBdUIsRUFBQTtRQUNwRCxPQUFPQSxHQUFBLENBQUMsU0FBUyxFQUFBLEVBQUMsbUJBQW1CLEVBQUMsVUFBVSxFQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssT0FBbUIsT0FBT0EsR0FBQSxDQUFBLEtBQUEsRUFBQSxFQUFLLEVBQUUsRUFBQyxnQkFBZ0IsRUFBQSxRQUFBLEVBQUUsUUFBUSxFQUFBLENBQU8sQ0FBQSxFQUFFLEVBQUEsQ0FBSSxDQUFBO0lBQzVJLENBQUM7SUFFRCxNQUFNLG9CQUFvQixHQUFHL0YsQ0FBSSxDQUFDLFNBQVMsb0JBQW9CLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUE2RyxFQUFBO0lBQy9NLElBQUEsT0FBTytGLEdBQUMsQ0FBQSxnQkFBZ0IsRUFDcEIsRUFBQSxLQUFLLEVBQUUsS0FBSyxFQUNaLFNBQVMsRUFBQyxRQUFRLEVBQ2xCLElBQUksRUFBRSxJQUFJLEVBQ1YsUUFBUSxFQUFFLFFBQVEsRUFDbEIsTUFBTSxFQUFFLElBQUksS0FDUkEsR0FBQSxDQUFDLE9BQU8sRUFBcUIsRUFBQSxHQUFBLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxFQUFDLEtBQUssRUFBQyxPQUFPLEVBQUVFLEdBQUUsQ0FBQUQsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUFELEdBQUEsQ0FBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQU8sT0FBTyxFQUFRLENBQUEsRUFBQUEsR0FBWSxDQUFBLFFBQUEsRUFBQSxFQUFBLEdBQUEsSUFBSSxDQUFDLGlCQUFpQixFQUFzQixRQUFBLEVBQUEsYUFBQSxFQUFBLENBQUEsQ0FBQSxFQUFBLENBQUcsWUFDakpBLEdBQU8sQ0FBQSxHQUFBLEVBQUEsRUFBQSxHQUFBLElBQUksQ0FBQyxTQUFTLEVBQUUsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLFFBQVEsWUFDL0QsSUFBSSxFQUFBLENBQ0wsRUFDRSxDQUFBLENBQ2IsR0FBSSxDQUFBO0lBQ2IsQ0FBQyxDQUFDLENBQUE7YUFFY3lFLE9BQUssR0FBQTtRQUNqQixRQUNJdkUsR0FDSSxDQUFBRCxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQUMsR0FBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxDQUFHRixHQUFHLENBQUEsR0FBQSxFQUFBLEVBQUEsSUFBSSxFQUFDLHFEQUFxRCxFQUFBLFFBQUEsRUFBQSxnRUFBQSxFQUFBLENBQW1FLEVBQXdDLHNDQUFBLENBQUEsRUFBQSxDQUFBLEVBQzNLRSxHQUNJLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUFBLEdBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxnRUFBQSxFQUFrRUYsd0NBQXdCLEVBQTJCLDZCQUFBLEVBQUFBLEdBQUEsQ0FBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLENBQW9CLEVBQWdCLGFBQUEsQ0FBQSxFQUFBLENBQUEsRUFDekpBLEdBQW9ILENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLDZHQUFBLEVBQUEsQ0FBQSxFQUNwSEUsR0FBbUMsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxpQ0FBQSxFQUFBRixHQUFBLENBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFVBQUEsRUFBQSxDQUEyQixFQUEyQiw2QkFBQSxFQUFBQSxHQUFBLENBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLE1BQUEsRUFBQSxDQUFpQixFQUFNLEdBQUEsQ0FBQSxFQUFBLENBQUEsRUFDaEhBLEdBQXlGLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLDhFQUFBLEVBQUEsQ0FBQSxFQUN6RkEsYUFBUyxDQUNSLEVBQUEsQ0FBQSxFQUNMQSxHQUFHLENBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBRSxHQUFBLENBQUEsUUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUEsU0FBQSxFQUFlRixHQUFZLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUEsRUFBQSxDQUFBLEVBQUEsV0FBQSxDQUFBLEVBQUEsQ0FBa0IsRUFBSSxDQUFBLEVBQ3BEQSxHQUNJLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBRSxHQUFBLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUEsTUFBQSxFQUFRRixHQUFtQixDQUFBLE1BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxFQUFBLGFBQUEsRUFBV0EsR0FBNkIsQ0FBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsa0JBQUEsRUFBQSxDQUFBLEVBQUEsNENBQUEsRUFBMENBLFdBQUcsSUFBSSxFQUFDLHFDQUFxQyxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsQ0FBWSxFQUFPLFNBQUEsRUFBQUEsR0FBQSxDQUFBLE1BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBZSxFQUFLLE9BQUEsRUFBQUEsR0FBQSxDQUFBLE1BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxXQUFBLEVBQUEsQ0FBNEIsRUFBc0QsbURBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxDQUNsUixDQUNOLEVBQUEsQ0FBQSxFQUNOO0lBQ0wsQ0FBQzthQUVlMEUsTUFBSSxHQUFBO0lBQ2hCLElBQUEsUUFBUTFFLEdBQU8sQ0FBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQTs7OztBQUlOLFlBQUEsQ0FBQSxFQUFBLENBQVEsRUFBQztJQUN0QixDQUFDO2FBRWUyRSxNQUFJLEdBQUE7UUFDaEIsTUFBTSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsR0FBR3JPLENBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUV0QyxRQUNJNEosc0JBQ0lGLEdBQUMsQ0FBQXlFLE9BQUssS0FBRyxFQUNUekUsR0FBQSxDQUFDMEUsTUFBSSxFQUFBLEVBQUEsQ0FBRyxFQUNSeEUsR0FBQSxDQUFBLE9BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxDQUFPRixlQUFPLElBQUksRUFBQyxRQUFRLEVBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsYUFBYSxDQUFDLEVBQUEsQ0FBSSxnQ0FBZ0MsRUFDM0lBLEdBQUEsQ0FBQyxhQUFhLEVBQUEsRUFBQSxRQUFBLEVBQ1ZBLEdBQUcsQ0FBQUMsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFTO0lBQ3BCLHdCQUFBLE1BQU1ELElBQUMsb0JBQW9CLEVBQUEsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBQyxzQkFBc0IsRUFBQyxJQUFJLEVBQUMsaUJBQWlCLEVBQUMsUUFBUSxFQUFFLEtBQUssR0FBSSxDQUFBO0lBQy9HLHdCQUFBLE1BQU1BLElBQUMsb0JBQW9CLEVBQUEsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBQyxzQkFBc0IsRUFBQyxJQUFJLEVBQUMsaUJBQWlCLEVBQUMsUUFBUSxFQUFFLEtBQUssR0FBSSxDQUFBO0lBQy9HLHdCQUFBLE1BQU1BLElBQUMsb0JBQW9CLEVBQUEsRUFBQyxLQUFLLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBQyxpQ0FBaUMsRUFBQyxJQUFJLEVBQUMsaUJBQWlCLEVBQUMsUUFBUSxFQUFFLElBQUksR0FBSSxDQUFBOzRCQUN6SCxNQUFNQSxHQUFBLENBQUMsb0JBQW9CLEVBQUMsRUFBQSxLQUFLLEVBQUUsQ0FBQyxFQUFFLE9BQU8sRUFBQyxvQ0FBb0MsRUFBQyxJQUFJLEVBQUMsaUJBQWlCLEVBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFBLENBQUksQ0FBQTs0QkFDekksTUFBTUEsR0FBQSxDQUFDLG9CQUFvQixFQUFDLEVBQUEsS0FBSyxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUMsc0NBQXNDLEVBQUMsSUFBSSxFQUFDLGlCQUFpQixFQUFDLFFBQVEsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQSxDQUFJLENBQUE7NEJBQzVJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLEVBQUUsRUFBRSxDQUFDLEVBQUU7Z0NBQzVCLE1BQU1BLEdBQUEsQ0FBQyxvQkFBb0IsRUFBQyxFQUFBLEtBQUssRUFBRSxDQUFDLEVBQUUsT0FBTyxFQUFFLENBQXNCLG1CQUFBLEVBQUEsQ0FBQyxFQUFFLEVBQUUsSUFBSSxFQUFFLENBQUEsYUFBQSxFQUFnQixDQUFDLENBQUEsQ0FBRSxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUEsQ0FBSSxDQUFBO0lBQzNILHlCQUFBO0lBQ0wscUJBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBQSxDQUFJLEVBQ2IsQ0FBQSxDQUFBLEVBQUEsQ0FDakIsRUFDTjtJQUNMOzthQ3RFZ0J5RSxPQUFLLEdBQUE7UUFDakIsUUFDSXZFLHNCQUNJQSxHQUFHLENBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUFGLEdBQUEsQ0FBQSxHQUFBLEVBQUEsRUFBRyxJQUFJLEVBQUMsa0RBQWtELDRFQUFnRSxFQUF3QyxzQ0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUNyS0UsdUJBQ0lBLEdBQTRCLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUEsMEJBQUEsRUFBQUYsR0FBQSxDQUFBLE1BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxVQUFBLEVBQUEsQ0FBMkIsaUNBQTJCQSxHQUF3QixDQUFBLE1BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxPQUFBLEVBQUEsQ0FBQSxFQUFBLHdEQUFBLENBQUEsRUFBQSxDQUEyRCxFQUNyS0EsR0FBdUQsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsZ0RBQUEsRUFBQSxDQUFBLEVBQ3ZERSxzSEFDSUEsR0FDSSxDQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxDQUFBRixHQUFBLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLHFHQUFBLEVBQUEsQ0FBNEcsRUFDNUdBLEdBQW1FLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLDREQUFBLEVBQUEsQ0FBQSxFQUNuRUEsdUZBQXFFLEVBQ3JFQSxHQUFBLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLHdDQUFBLEVBQUEsQ0FBK0MsSUFDOUMsQ0FDSixFQUFBLENBQUEsQ0FBQSxFQUFBLENBQ0osRUFDTEEsR0FBRyxDQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQUUsR0FBQSxDQUFBLFFBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxDQUFBLFNBQUEsRUFBZUYsOEJBQVksRUFBa0IsV0FBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUksRUFDcERBLEdBQ0ksQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUFFLEdBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxxR0FBQSxFQUF1R0YsdUNBQXVCLEVBQStELDREQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FDNUwsQ0FDTixFQUFBLENBQUEsRUFDTjtJQUNMLENBQUM7YUFFZTBFLE1BQUksR0FBQTtJQUNoQixJQUFBLFFBQVExRSxHQUFPLENBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUE7QUFDZ0Isa0NBQUEsQ0FBQSxFQUFBLENBQVEsRUFBQztJQUM1QyxDQUFDO2FBRWUyRSxNQUFJLEdBQUE7UUFDaEIsTUFBTSxDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7SUFFOUMsSUFBQSxRQUNJekUsR0FBQSxDQUFBRCxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FDSUQsR0FBQyxDQUFBeUUsT0FBSyxFQUFHLEVBQUEsQ0FBQSxFQUNUekUsR0FBQyxDQUFBMEUsTUFBSSxFQUFHLEVBQUEsQ0FBQSxFQUNSMUUsR0FBQyxDQUFBLFVBQVUsSUFBQyxRQUFRLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBQyxRQUFRLEVBQUEsQ0FBRyxFQUM1Q0EsR0FBQyxDQUFBLFVBQVUsRUFBQyxFQUFBLFFBQVEsRUFBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLFFBQVEsRUFBQSxDQUFHLEVBQzNDQSxHQUFBLENBQUMsVUFBVSxFQUFBLEVBQUMsUUFBUSxFQUFDLE1BQU0sRUFBQyxHQUFHLEVBQUMsUUFBUSxFQUFHLENBQUEsRUFDM0NBLEdBQUMsQ0FBQSxVQUFVLElBQUMsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUMsS0FBSyxFQUFBLENBQUcsRUFDekNBLEdBQUMsQ0FBQSxVQUFVLEVBQUMsRUFBQSxRQUFRLEVBQUMsTUFBTSxFQUFDLEdBQUcsRUFBQyxLQUFLLEVBQUEsQ0FBRyxFQUN4Q0EsR0FBQSxDQUFDLFVBQVUsRUFBQSxFQUFDLFFBQVEsRUFBQyxNQUFNLEVBQUMsR0FBRyxFQUFDLEtBQUssRUFBRyxDQUFBLEVBQ3hDQSxHQUFDLENBQUEsTUFBTSxJQUNILFNBQVMsRUFBQyxRQUFRLEVBQ2xCLE9BQU8sRUFBRSxPQUFPLEVBQ2hCLE9BQU8sRUFBRSxDQUFDLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLElBQUksS0FBSyxDQUFDLEVBQ3pELE1BQU0sRUFBRSxJQUFJLEtBQUtBLEdBQVksQ0FBQSxRQUFBLEVBQUEsRUFBQSxHQUFBLElBQUksQ0FBQyxLQUFLLEVBQUEsUUFBQSxFQUFHLENBQWtCLGVBQUEsRUFBQSxPQUFPLEdBQUcsU0FBUyxHQUFHLFdBQVcsQ0FBQSxDQUFBLENBQUcsRUFBVSxDQUFBLENBQUMsRUFDN0csQ0FBQSxDQUFBLEVBQUEsQ0FDSCxFQUNOO0lBQ0wsQ0FBQztJQUVELFNBQVMsVUFBVSxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQXdELEVBQUE7SUFDNUYsSUFBQSxNQUFNLE9BQU8sR0FBRyxNQUFRLEVBQUEsS0FBSyxDQUFDLGdCQUFnQixDQUFDLENBQUEsRUFBRSxDQUFBO1FBRWpELFFBQ0lBLEdBQUMsQ0FBQSxNQUFNLEVBQ0gsRUFBQSxRQUFRLEVBQUUsUUFBUSxFQUNsQixTQUFTLEVBQUUsR0FBVSxFQUNyQixPQUFPLEVBQUUsT0FBTyxFQUNoQixNQUFNLEVBQUUsSUFBSSxLQUFLQSxHQUFDLENBQUEsR0FBRyxFQUFLLEVBQUEsR0FBQSxJQUFJLENBQUMsS0FBSyxFQUFHLFFBQUEsRUFBQSxDQUFBLEVBQUcsR0FBRyxDQUFBLENBQUEsRUFBSSxRQUFRLEdBQUcsQ0FBYyxXQUFBLEVBQUEsUUFBUSxJQUFJLE1BQU0sR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFHLENBQUEsQ0FBQSxHQUFHLEVBQUUsQ0FBQSxDQUFFLEVBQVEsQ0FBQSxDQUFDLEVBQ25JLENBQUEsRUFDTDtJQUNMOztJQzdEQTs7SUFFRzthQUlheUUsT0FBSyxHQUFBO1FBQ2pCLFFBQ0l2RSxHQUNJLENBQUFELEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxDQUFBQyxHQUFBLENBQUEsR0FBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUdGLEdBQUcsQ0FBQSxHQUFBLEVBQUEsRUFBQSxJQUFJLEVBQUMsb0RBQW9ELEVBQWtFLFFBQUEsRUFBQSwrREFBQSxFQUFBLENBQUEsRUFBQSxzQ0FBQSxDQUFBLEVBQUEsQ0FBd0MsRUFDektFLEdBQUEsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FDSUYsR0FBMEcsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsbUdBQUEsRUFBQSxDQUFBLEVBQzFHRSxrQ0FBV0YsR0FBa0IsQ0FBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsT0FBQSxFQUFBLENBQUEsRUFBQSxtQkFBQSxFQUFpQkEsR0FBb0IsQ0FBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsU0FBQSxFQUFBLENBQUEsRUFBQSxpQ0FBQSxFQUErQkEsR0FBaUIsQ0FBQSxNQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsTUFBQSxFQUFBLENBQUEsRUFBQSxNQUFBLEVBQUlBLEdBQWtCLENBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxDQUFBLENBQUEsRUFBQSxDQUFLLEVBQzdJRSxHQUFBLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLENBQUEsaUJBQUEsRUFBbUJGLEdBQTBCLENBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFNBQUEsRUFBQSxDQUFBLEVBQUEsUUFBQSxFQUFNQSxHQUEwQixDQUFBLE1BQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxTQUFBLEVBQUEsQ0FBQSxFQUFBLCtCQUFBLEVBQTZCQSxrQ0FBd0IsRUFBcUIsa0JBQUEsQ0FBQSxFQUFBLENBQUEsRUFDdkpBLEdBQWdOLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLHlNQUFBLEVBQUEsQ0FBQSxFQUNoTkEsR0FBaUcsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsMEZBQUEsRUFBQSxDQUFBLEVBQ2pHQSxHQUE0RyxDQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxpR0FBQSxFQUFBLENBQUEsRUFDNUdBLEdBQWdGLENBQUEsSUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLHlFQUFBLEVBQUEsQ0FBQSxDQUFBLEVBQUEsQ0FDL0UsRUFDTEEsR0FBQSxDQUFBLEdBQUEsRUFBQSxFQUFBLFFBQUEsRUFBR0UsR0FBZSxDQUFBLFFBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxDQUFBLFNBQUEsRUFBQUYsR0FBQSxDQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFBQSxLQUFBLEVBQUEsQ0FBWSxFQUFrQixXQUFBLENBQUEsRUFBQSxDQUFBLEVBQUEsQ0FBSSxFQUNwREEsR0FBQSxDQUFBLElBQUEsRUFBQSxFQUFBLFFBQUEsRUFDSUUsR0FBb0YsQ0FBQSxJQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FBQSxrRkFBQSxFQUFBRixHQUFBLENBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFFBQUEsRUFBQSxDQUFtQixFQUFrQixvQkFBQSxFQUFBQSxHQUFBLENBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLGVBQUEsRUFBQSxDQUEwQixFQUFrQyxzQ0FBQSxFQUFBQSxHQUFBLENBQUEsTUFBQSxFQUFBLEVBQUEsUUFBQSxFQUFBLFlBQUEsRUFBQSxDQUF1QixFQUEwSSx1SUFBQSxDQUFBLEVBQUEsQ0FBQSxFQUFBLENBQ3JWLENBQ04sRUFBQSxDQUFBLEVBQ047SUFDTCxDQUFDO2FBRWUwRSxNQUFJLEdBQUE7SUFDaEIsSUFBQSxRQUFRMUUsR0FBQSxDQUFBLE1BQUEsRUFBQSxFQUFBLFFBQUEsRUFBTyxDQUEyRyx5R0FBQSxDQUFBLEVBQUEsQ0FBUSxFQUFDO0lBQ3ZJLENBQUM7YUFFZTJFLE1BQUksR0FBQTtRQUVoQixNQUFNLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUEwQixDQUFDLENBQUM7UUFDbkUsTUFBTSxDQUFDLFFBQVEsRUFBRSxXQUFXLENBQUMsR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7UUFHaEQsUUFDSXpFLHNCQUNJRixHQUFDLENBQUF5RSxPQUFLLEtBQUcsRUFDVHpFLEdBQUEsQ0FBQzBFLE1BQUksRUFBRyxFQUFBLENBQUEsRUFDUjFFLElBQUMsUUFBUSxFQUFBLEVBQXFDLE9BQU8sRUFBRSxRQUFRLEVBQUUsZUFBZSxFQUFFLENBQUMsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLFNBQVMsRUFBRSxJQUFJLEVBQUUsYUFBYSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsTUFBTSxFQUFFLElBQUksSUFBSUUsR0FBQSxDQUFBRCxHQUFBLEVBQUEsRUFBQSxRQUFBLEVBQUEsQ0FDcE5ELGtCQUFXLElBQUksQ0FBQyxVQUFVLEVBQUksQ0FBQSxFQUM5QkEsa0JBQVcsSUFBSSxDQUFDLFVBQVUsRUFBa0IsUUFBQSxFQUFBLFVBQUEsRUFBQSxDQUFBLENBQUEsRUFBQSxDQUM3QyxHQUFJLEVBQ1BBLEdBQUEsQ0FBQyxNQUFNLEVBQW9CLEVBQUEsU0FBUyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUUsTUFBUSxFQUFBLFVBQVUsQ0FBQyxPQUFjLENBQUMsQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksS0FBS0EsR0FBWSxDQUFBLFFBQUEsRUFBQSxFQUFBLEdBQUEsSUFBSSxDQUFDLEtBQUssRUFBQSxRQUFBLEVBQUcsaUJBQWlCLEVBQVUsQ0FBQSxDQUFDLEdBQUksRUFDeEtBLEdBQUEsQ0FBQzRFLGNBQVksRUFBQyxFQUFBLE9BQU8sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFHLENBQUEsRUFDekk1RSxJQUFDNEUsY0FBWSxFQUFBLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUcsQ0FBQSxFQUN6STVFLElBQUM0RSxjQUFZLEVBQUEsRUFBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFDLFdBQVcsRUFBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQSxDQUFHLEVBQzFJNUUsR0FBQSxDQUFDNEUsY0FBWSxFQUFBLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUEsQ0FBRyxFQUN2STVFLEdBQUMsQ0FBQTRFLGNBQVksSUFBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLE9BQU8sRUFBQSxDQUFHLEVBQ3ZJNUUsR0FBQyxDQUFBNEUsY0FBWSxJQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFDLE9BQU8sRUFBQyxRQUFRLEVBQUMsS0FBSyxHQUFHLEVBQ3ZJNUUsR0FBQSxDQUFDNEUsY0FBWSxFQUFDLEVBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBQyxVQUFVLEVBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxLQUFLLEdBQUcsRUFDdkk1RSxHQUFBLENBQUM0RSxjQUFZLEVBQUMsRUFBQSxPQUFPLEVBQUUsT0FBTyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBQyxLQUFLLEVBQUMsUUFBUSxFQUFDLEtBQUssRUFBRyxDQUFBLEVBQ3JJNUUsSUFBQzRFLGNBQVksRUFBQSxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsVUFBVSxFQUFFLFVBQVUsRUFBRSxhQUFhLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsS0FBSyxFQUFHLENBQUEsRUFDckk1RSxJQUFDNEUsY0FBWSxFQUFBLEVBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsVUFBVSxFQUFFLGFBQWEsRUFBQyxRQUFRLEVBQUMsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUMsT0FBTyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUEsQ0FBRyxDQUN4SSxFQUFBLENBQUEs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
